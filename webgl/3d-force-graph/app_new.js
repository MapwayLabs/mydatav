webpackJsonp([0],[function(e,t,n){(function(e){var t;//! moment.js
t=function(){"use strict";var t,r;function i(){return t.apply(null,arguments)}function o(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function a(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function s(e){return void 0===e}function u(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)}function l(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function c(e,t){var n,r=[];for(n=0;n<e.length;++n)r.push(t(e[n],n));return r}function d(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function f(e,t){for(var n in t)d(t,n)&&(e[n]=t[n]);return d(t,"toString")&&(e.toString=t.toString),d(t,"valueOf")&&(e.valueOf=t.valueOf),e}function h(e,t,n,r){return At(e,t,n,r,!0).utc()}function p(e){return null==e._pf&&(e._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}),e._pf}function m(e){if(null==e._isValid){var t=p(e),n=r.call(t.parsedDateParts,function(e){return null!=e}),i=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n);if(e._strict&&(i=i&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return i;e._isValid=i}return e._isValid}function g(e){var t=h(NaN);return null!=e?f(p(t),e):p(t).userInvalidated=!0,t}r=Array.prototype.some?Array.prototype.some:function(e){for(var t=Object(this),n=t.length>>>0,r=0;r<n;r++)if(r in t&&e.call(this,t[r],r,t))return!0;return!1};var y=i.momentProperties=[];function v(e,t){var n,r,i;if(s(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),s(t._i)||(e._i=t._i),s(t._f)||(e._f=t._f),s(t._l)||(e._l=t._l),s(t._strict)||(e._strict=t._strict),s(t._tzm)||(e._tzm=t._tzm),s(t._isUTC)||(e._isUTC=t._isUTC),s(t._offset)||(e._offset=t._offset),s(t._pf)||(e._pf=p(t)),s(t._locale)||(e._locale=t._locale),y.length>0)for(n=0;n<y.length;n++)s(i=t[r=y[n]])||(e[r]=i);return e}var b=!1;function _(e){v(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===b&&(b=!0,i.updateOffset(this),b=!1)}function w(e){return e instanceof _||null!=e&&null!=e._isAMomentObject}function k(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function E(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=k(t)),n}function x(e,t,n){var r,i=Math.min(e.length,t.length),o=Math.abs(e.length-t.length),a=0;for(r=0;r<i;r++)(n&&e[r]!==t[r]||!n&&E(e[r])!==E(t[r]))&&a++;return a+o}function S(e){!1===i.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function M(e,t){var n=!0;return f(function(){if(null!=i.deprecationHandler&&i.deprecationHandler(null,e),n){for(var r,o=[],a=0;a<arguments.length;a++){if(r="","object"==typeof arguments[a]){for(var s in r+="\n["+a+"] ",arguments[0])r+=s+": "+arguments[0][s]+", ";r=r.slice(0,-2)}else r=arguments[a];o.push(r)}S(e+"\nArguments: "+Array.prototype.slice.call(o).join("")+"\n"+(new Error).stack),n=!1}return t.apply(this,arguments)},t)}var T,C={};function A(e,t){null!=i.deprecationHandler&&i.deprecationHandler(e,t),C[e]||(S(t),C[e]=!0)}function O(e){return e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function N(e,t){var n,r=f({},e);for(n in t)d(t,n)&&(a(e[n])&&a(t[n])?(r[n]={},f(r[n],e[n]),f(r[n],t[n])):null!=t[n]?r[n]=t[n]:delete r[n]);for(n in e)d(e,n)&&!d(t,n)&&a(e[n])&&(r[n]=f({},r[n]));return r}function L(e){null!=e&&this.set(e)}i.suppressDeprecationWarnings=!1,i.deprecationHandler=null,T=Object.keys?Object.keys:function(e){var t,n=[];for(t in e)d(e,t)&&n.push(t);return n};var j={};function P(e,t){var n=e.toLowerCase();j[n]=j[n+"s"]=j[t]=e}function D(e){return"string"==typeof e?j[e]||j[e.toLowerCase()]:void 0}function I(e){var t,n,r={};for(n in e)d(e,n)&&(t=D(n))&&(r[t]=e[n]);return r}var R={};function F(e,t){R[e]=t}function Y(e,t,n){var r=""+Math.abs(e),i=t-r.length;return(e>=0?n?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+r}var B=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,H=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,z={},W={};function U(e,t,n,r){var i=r;"string"==typeof r&&(i=function(){return this[r]()}),e&&(W[e]=i),t&&(W[t[0]]=function(){return Y(i.apply(this,arguments),t[1],t[2])}),n&&(W[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),e)})}function V(e,t){return e.isValid()?(t=G(t,e.localeData()),z[t]=z[t]||function(e){var t,n,r,i=e.match(B);for(t=0,n=i.length;t<n;t++)W[i[t]]?i[t]=W[i[t]]:i[t]=(r=i[t]).match(/\[[\s\S]/)?r.replace(/^\[|\]$/g,""):r.replace(/\\/g,"");return function(t){var r,o="";for(r=0;r<n;r++)o+=O(i[r])?i[r].call(t,e):i[r];return o}}(t),z[t](e)):e.localeData().invalidDate()}function G(e,t){var n=5;function r(e){return t.longDateFormat(e)||e}for(H.lastIndex=0;n>=0&&H.test(e);)e=e.replace(H,r),H.lastIndex=0,n-=1;return e}var q=/\d/,K=/\d\d/,$=/\d{3}/,X=/\d{4}/,J=/[+-]?\d{6}/,Q=/\d\d?/,Z=/\d\d\d\d?/,ee=/\d\d\d\d\d\d?/,te=/\d{1,3}/,ne=/\d{1,4}/,re=/[+-]?\d{1,6}/,ie=/\d+/,oe=/[+-]?\d+/,ae=/Z|[+-]\d\d:?\d\d/gi,se=/Z|[+-]\d\d(?::?\d\d)?/gi,ue=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,le={};function ce(e,t,n){le[e]=O(t)?t:function(e,r){return e&&n?n:t}}function de(e,t){return d(le,e)?le[e](t._strict,t._locale):new RegExp(fe(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,r,i){return t||n||r||i})))}function fe(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var he={};function pe(e,t){var n,r=t;for("string"==typeof e&&(e=[e]),u(t)&&(r=function(e,n){n[t]=E(e)}),n=0;n<e.length;n++)he[e[n]]=r}function me(e,t){pe(e,function(e,n,r,i){r._w=r._w||{},t(e,r._w,r,i)})}function ge(e,t,n){null!=t&&d(he,e)&&he[e](t,n._a,n,e)}var ye=0,ve=1,be=2,_e=3,we=4,ke=5,Ee=6,xe=7,Se=8;function Me(e){return Te(e)?366:365}function Te(e){return e%4==0&&e%100!=0||e%400==0}U("Y",0,0,function(){var e=this.year();return e<=9999?""+e:"+"+e}),U(0,["YY",2],0,function(){return this.year()%100}),U(0,["YYYY",4],0,"year"),U(0,["YYYYY",5],0,"year"),U(0,["YYYYYY",6,!0],0,"year"),P("year","y"),F("year",1),ce("Y",oe),ce("YY",Q,K),ce("YYYY",ne,X),ce("YYYYY",re,J),ce("YYYYYY",re,J),pe(["YYYYY","YYYYYY"],ye),pe("YYYY",function(e,t){t[ye]=2===e.length?i.parseTwoDigitYear(e):E(e)}),pe("YY",function(e,t){t[ye]=i.parseTwoDigitYear(e)}),pe("Y",function(e,t){t[ye]=parseInt(e,10)}),i.parseTwoDigitYear=function(e){return E(e)+(E(e)>68?1900:2e3)};var Ce,Ae=Oe("FullYear",!0);function Oe(e,t){return function(n){return null!=n?(Le(this,e,n),i.updateOffset(this,t),this):Ne(this,e)}}function Ne(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function Le(e,t,n){e.isValid()&&!isNaN(n)&&("FullYear"===t&&Te(e.year())&&1===e.month()&&29===e.date()?e._d["set"+(e._isUTC?"UTC":"")+t](n,e.month(),je(n,e.month())):e._d["set"+(e._isUTC?"UTC":"")+t](n))}function je(e,t){if(isNaN(e)||isNaN(t))return NaN;var n,r=(t%(n=12)+n)%n;return e+=(t-r)/12,1===r?Te(e)?29:28:31-r%7%2}Ce=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},U("M",["MM",2],"Mo",function(){return this.month()+1}),U("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),U("MMMM",0,0,function(e){return this.localeData().months(this,e)}),P("month","M"),F("month",8),ce("M",Q),ce("MM",Q,K),ce("MMM",function(e,t){return t.monthsShortRegex(e)}),ce("MMMM",function(e,t){return t.monthsRegex(e)}),pe(["M","MM"],function(e,t){t[ve]=E(e)-1}),pe(["MMM","MMMM"],function(e,t,n,r){var i=n._locale.monthsParse(e,r,n._strict);null!=i?t[ve]=i:p(n).invalidMonth=e});var Pe=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,De="January_February_March_April_May_June_July_August_September_October_November_December".split("_");var Ie="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_");function Re(e,t){var n;if(!e.isValid())return e;if("string"==typeof t)if(/^\d+$/.test(t))t=E(t);else if(!u(t=e.localeData().monthsParse(t)))return e;return n=Math.min(e.date(),je(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function Fe(e){return null!=e?(Re(this,e),i.updateOffset(this,!0),this):Ne(this,"Month")}var Ye=ue;var Be=ue;function He(){function e(e,t){return t.length-e.length}var t,n,r=[],i=[],o=[];for(t=0;t<12;t++)n=h([2e3,t]),r.push(this.monthsShort(n,"")),i.push(this.months(n,"")),o.push(this.months(n,"")),o.push(this.monthsShort(n,""));for(r.sort(e),i.sort(e),o.sort(e),t=0;t<12;t++)r[t]=fe(r[t]),i[t]=fe(i[t]);for(t=0;t<24;t++)o[t]=fe(o[t]);this._monthsRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+r.join("|")+")","i")}function ze(e){var t=new Date(Date.UTC.apply(null,arguments));return e<100&&e>=0&&isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e),t}function We(e,t,n){var r=7+t-n;return-((7+ze(e,0,r).getUTCDay()-t)%7)+r-1}function Ue(e,t,n,r,i){var o,a,s=1+7*(t-1)+(7+n-r)%7+We(e,r,i);return s<=0?a=Me(o=e-1)+s:s>Me(e)?(o=e+1,a=s-Me(e)):(o=e,a=s),{year:o,dayOfYear:a}}function Ve(e,t,n){var r,i,o=We(e.year(),t,n),a=Math.floor((e.dayOfYear()-o-1)/7)+1;return a<1?r=a+Ge(i=e.year()-1,t,n):a>Ge(e.year(),t,n)?(r=a-Ge(e.year(),t,n),i=e.year()+1):(i=e.year(),r=a),{week:r,year:i}}function Ge(e,t,n){var r=We(e,t,n),i=We(e+1,t,n);return(Me(e)-r+i)/7}U("w",["ww",2],"wo","week"),U("W",["WW",2],"Wo","isoWeek"),P("week","w"),P("isoWeek","W"),F("week",5),F("isoWeek",5),ce("w",Q),ce("ww",Q,K),ce("W",Q),ce("WW",Q,K),me(["w","ww","W","WW"],function(e,t,n,r){t[r.substr(0,1)]=E(e)});U("d",0,"do","day"),U("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),U("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),U("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),U("e",0,0,"weekday"),U("E",0,0,"isoWeekday"),P("day","d"),P("weekday","e"),P("isoWeekday","E"),F("day",11),F("weekday",11),F("isoWeekday",11),ce("d",Q),ce("e",Q),ce("E",Q),ce("dd",function(e,t){return t.weekdaysMinRegex(e)}),ce("ddd",function(e,t){return t.weekdaysShortRegex(e)}),ce("dddd",function(e,t){return t.weekdaysRegex(e)}),me(["dd","ddd","dddd"],function(e,t,n,r){var i=n._locale.weekdaysParse(e,r,n._strict);null!=i?t.d=i:p(n).invalidWeekday=e}),me(["d","e","E"],function(e,t,n,r){t[r]=E(e)});var qe="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_");var Ke="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_");var $e="Su_Mo_Tu_We_Th_Fr_Sa".split("_");var Xe=ue;var Je=ue;var Qe=ue;function Ze(){function e(e,t){return t.length-e.length}var t,n,r,i,o,a=[],s=[],u=[],l=[];for(t=0;t<7;t++)n=h([2e3,1]).day(t),r=this.weekdaysMin(n,""),i=this.weekdaysShort(n,""),o=this.weekdays(n,""),a.push(r),s.push(i),u.push(o),l.push(r),l.push(i),l.push(o);for(a.sort(e),s.sort(e),u.sort(e),l.sort(e),t=0;t<7;t++)s[t]=fe(s[t]),u[t]=fe(u[t]),l[t]=fe(l[t]);this._weekdaysRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+u.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+a.join("|")+")","i")}function et(){return this.hours()%12||12}function tt(e,t){U(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function nt(e,t){return t._meridiemParse}U("H",["HH",2],0,"hour"),U("h",["hh",2],0,et),U("k",["kk",2],0,function(){return this.hours()||24}),U("hmm",0,0,function(){return""+et.apply(this)+Y(this.minutes(),2)}),U("hmmss",0,0,function(){return""+et.apply(this)+Y(this.minutes(),2)+Y(this.seconds(),2)}),U("Hmm",0,0,function(){return""+this.hours()+Y(this.minutes(),2)}),U("Hmmss",0,0,function(){return""+this.hours()+Y(this.minutes(),2)+Y(this.seconds(),2)}),tt("a",!0),tt("A",!1),P("hour","h"),F("hour",13),ce("a",nt),ce("A",nt),ce("H",Q),ce("h",Q),ce("k",Q),ce("HH",Q,K),ce("hh",Q,K),ce("kk",Q,K),ce("hmm",Z),ce("hmmss",ee),ce("Hmm",Z),ce("Hmmss",ee),pe(["H","HH"],_e),pe(["k","kk"],function(e,t,n){var r=E(e);t[_e]=24===r?0:r}),pe(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e}),pe(["h","hh"],function(e,t,n){t[_e]=E(e),p(n).bigHour=!0}),pe("hmm",function(e,t,n){var r=e.length-2;t[_e]=E(e.substr(0,r)),t[we]=E(e.substr(r)),p(n).bigHour=!0}),pe("hmmss",function(e,t,n){var r=e.length-4,i=e.length-2;t[_e]=E(e.substr(0,r)),t[we]=E(e.substr(r,2)),t[ke]=E(e.substr(i)),p(n).bigHour=!0}),pe("Hmm",function(e,t,n){var r=e.length-2;t[_e]=E(e.substr(0,r)),t[we]=E(e.substr(r))}),pe("Hmmss",function(e,t,n){var r=e.length-4,i=e.length-2;t[_e]=E(e.substr(0,r)),t[we]=E(e.substr(r,2)),t[ke]=E(e.substr(i))});var rt,it=Oe("Hours",!0),ot={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:De,monthsShort:Ie,week:{dow:0,doy:6},weekdays:qe,weekdaysMin:$e,weekdaysShort:Ke,meridiemParse:/[ap]\.?m?\.?/i},at={},st={};function ut(e){return e?e.toLowerCase().replace("_","-"):e}function lt(t){var r=null;if(!at[t]&&void 0!==e&&e&&e.exports)try{r=rt._abbr;n(289)("./"+t),ct(r)}catch(e){}return at[t]}function ct(e,t){var n;return e&&((n=s(t)?ft(e):dt(e,t))?rt=n:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),rt._abbr}function dt(e,t){if(null!==t){var n,r=ot;if(t.abbr=e,null!=at[e])A("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=at[e]._config;else if(null!=t.parentLocale)if(null!=at[t.parentLocale])r=at[t.parentLocale]._config;else{if(null==(n=lt(t.parentLocale)))return st[t.parentLocale]||(st[t.parentLocale]=[]),st[t.parentLocale].push({name:e,config:t}),null;r=n._config}return at[e]=new L(N(r,t)),st[e]&&st[e].forEach(function(e){dt(e.name,e.config)}),ct(e),at[e]}return delete at[e],null}function ft(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return rt;if(!o(e)){if(t=lt(e))return t;e=[e]}return function(e){for(var t,n,r,i,o=0;o<e.length;){for(t=(i=ut(e[o]).split("-")).length,n=(n=ut(e[o+1]))?n.split("-"):null;t>0;){if(r=lt(i.slice(0,t).join("-")))return r;if(n&&n.length>=t&&x(i,n,!0)>=t-1)break;t--}o++}return rt}(e)}function ht(e){var t,n=e._a;return n&&-2===p(e).overflow&&(t=n[ve]<0||n[ve]>11?ve:n[be]<1||n[be]>je(n[ye],n[ve])?be:n[_e]<0||n[_e]>24||24===n[_e]&&(0!==n[we]||0!==n[ke]||0!==n[Ee])?_e:n[we]<0||n[we]>59?we:n[ke]<0||n[ke]>59?ke:n[Ee]<0||n[Ee]>999?Ee:-1,p(e)._overflowDayOfYear&&(t<ye||t>be)&&(t=be),p(e)._overflowWeeks&&-1===t&&(t=xe),p(e)._overflowWeekday&&-1===t&&(t=Se),p(e).overflow=t),e}function pt(e,t,n){return null!=e?e:null!=t?t:n}function mt(e){var t,n,r,o,a,s=[];if(!e._d){for(r=function(e){var t=new Date(i.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}(e),e._w&&null==e._a[be]&&null==e._a[ve]&&function(e){var t,n,r,i,o,a,s,u;if(null!=(t=e._w).GG||null!=t.W||null!=t.E)o=1,a=4,n=pt(t.GG,e._a[ye],Ve(Ot(),1,4).year),r=pt(t.W,1),((i=pt(t.E,1))<1||i>7)&&(u=!0);else{o=e._locale._week.dow,a=e._locale._week.doy;var l=Ve(Ot(),o,a);n=pt(t.gg,e._a[ye],l.year),r=pt(t.w,l.week),null!=t.d?((i=t.d)<0||i>6)&&(u=!0):null!=t.e?(i=t.e+o,(t.e<0||t.e>6)&&(u=!0)):i=o}r<1||r>Ge(n,o,a)?p(e)._overflowWeeks=!0:null!=u?p(e)._overflowWeekday=!0:(s=Ue(n,r,i,o,a),e._a[ye]=s.year,e._dayOfYear=s.dayOfYear)}(e),null!=e._dayOfYear&&(a=pt(e._a[ye],r[ye]),(e._dayOfYear>Me(a)||0===e._dayOfYear)&&(p(e)._overflowDayOfYear=!0),n=ze(a,0,e._dayOfYear),e._a[ve]=n.getUTCMonth(),e._a[be]=n.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=s[t]=r[t];for(;t<7;t++)e._a[t]=s[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[_e]&&0===e._a[we]&&0===e._a[ke]&&0===e._a[Ee]&&(e._nextDay=!0,e._a[_e]=0),e._d=(e._useUTC?ze:function(e,t,n,r,i,o,a){var s=new Date(e,t,n,r,i,o,a);return e<100&&e>=0&&isFinite(s.getFullYear())&&s.setFullYear(e),s}).apply(null,s),o=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[_e]=24),e._w&&void 0!==e._w.d&&e._w.d!==o&&(p(e).weekdayMismatch=!0)}}var gt=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,yt=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,vt=/Z|[+-]\d\d(?::?\d\d)?/,bt=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],_t=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],wt=/^\/?Date\((\-?\d+)/i;function kt(e){var t,n,r,i,o,a,s=e._i,u=gt.exec(s)||yt.exec(s);if(u){for(p(e).iso=!0,t=0,n=bt.length;t<n;t++)if(bt[t][1].exec(u[1])){i=bt[t][0],r=!1!==bt[t][2];break}if(null==i)return void(e._isValid=!1);if(u[3]){for(t=0,n=_t.length;t<n;t++)if(_t[t][1].exec(u[3])){o=(u[2]||" ")+_t[t][0];break}if(null==o)return void(e._isValid=!1)}if(!r&&null!=o)return void(e._isValid=!1);if(u[4]){if(!vt.exec(u[4]))return void(e._isValid=!1);a="Z"}e._f=i+(o||"")+(a||""),Tt(e)}else e._isValid=!1}var Et=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/;function xt(e,t,n,r,i,o){var a=[function(e){var t=parseInt(e,10);if(t<=49)return 2e3+t;if(t<=999)return 1900+t;return t}(e),Ie.indexOf(t),parseInt(n,10),parseInt(r,10),parseInt(i,10)];return o&&a.push(parseInt(o,10)),a}var St={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function Mt(e){var t=Et.exec(e._i.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,""));if(t){var n=xt(t[4],t[3],t[2],t[5],t[6],t[7]);if(!function(e,t,n){return!e||Ke.indexOf(e)===new Date(t[0],t[1],t[2]).getDay()||(p(n).weekdayMismatch=!0,n._isValid=!1,!1)}(t[1],n,e))return;e._a=n,e._tzm=function(e,t,n){if(e)return St[e];if(t)return 0;var r=parseInt(n,10),i=r%100;return(r-i)/100*60+i}(t[8],t[9],t[10]),e._d=ze.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),p(e).rfc2822=!0}else e._isValid=!1}function Tt(e){if(e._f!==i.ISO_8601)if(e._f!==i.RFC_2822){e._a=[],p(e).empty=!0;var t,n,r,o,a,s=""+e._i,u=s.length,l=0;for(r=G(e._f,e._locale).match(B)||[],t=0;t<r.length;t++)o=r[t],(n=(s.match(de(o,e))||[])[0])&&((a=s.substr(0,s.indexOf(n))).length>0&&p(e).unusedInput.push(a),s=s.slice(s.indexOf(n)+n.length),l+=n.length),W[o]?(n?p(e).empty=!1:p(e).unusedTokens.push(o),ge(o,n,e)):e._strict&&!n&&p(e).unusedTokens.push(o);p(e).charsLeftOver=u-l,s.length>0&&p(e).unusedInput.push(s),e._a[_e]<=12&&!0===p(e).bigHour&&e._a[_e]>0&&(p(e).bigHour=void 0),p(e).parsedDateParts=e._a.slice(0),p(e).meridiem=e._meridiem,e._a[_e]=function(e,t,n){var r;if(null==n)return t;return null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?((r=e.isPM(n))&&t<12&&(t+=12),r||12!==t||(t=0),t):t}(e._locale,e._a[_e],e._meridiem),mt(e),ht(e)}else Mt(e);else kt(e)}function Ct(e){var t=e._i,n=e._f;return e._locale=e._locale||ft(e._l),null===t||void 0===n&&""===t?g({nullInput:!0}):("string"==typeof t&&(e._i=t=e._locale.preparse(t)),w(t)?new _(ht(t)):(l(t)?e._d=t:o(n)?function(e){var t,n,r,i,o;if(0===e._f.length)return p(e).invalidFormat=!0,void(e._d=new Date(NaN));for(i=0;i<e._f.length;i++)o=0,t=v({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[i],Tt(t),m(t)&&(o+=p(t).charsLeftOver,o+=10*p(t).unusedTokens.length,p(t).score=o,(null==r||o<r)&&(r=o,n=t));f(e,n||t)}(e):n?Tt(e):function(e){var t=e._i;s(t)?e._d=new Date(i.now()):l(t)?e._d=new Date(t.valueOf()):"string"==typeof t?function(e){var t=wt.exec(e._i);null===t?(kt(e),!1===e._isValid&&(delete e._isValid,Mt(e),!1===e._isValid&&(delete e._isValid,i.createFromInputFallback(e)))):e._d=new Date(+t[1])}(e):o(t)?(e._a=c(t.slice(0),function(e){return parseInt(e,10)}),mt(e)):a(t)?function(e){if(!e._d){var t=I(e._i);e._a=c([t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],function(e){return e&&parseInt(e,10)}),mt(e)}}(e):u(t)?e._d=new Date(t):i.createFromInputFallback(e)}(e),m(e)||(e._d=null),e))}function At(e,t,n,r,i){var s,u={};return!0!==n&&!1!==n||(r=n,n=void 0),(a(e)&&function(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;var t;for(t in e)if(e.hasOwnProperty(t))return!1;return!0}(e)||o(e)&&0===e.length)&&(e=void 0),u._isAMomentObject=!0,u._useUTC=u._isUTC=i,u._l=n,u._i=e,u._f=t,u._strict=r,(s=new _(ht(Ct(u))))._nextDay&&(s.add(1,"d"),s._nextDay=void 0),s}function Ot(e,t,n,r){return At(e,t,n,r,!1)}i.createFromInputFallback=M("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),i.ISO_8601=function(){},i.RFC_2822=function(){};var Nt=M("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=Ot.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:g()}),Lt=M("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=Ot.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:g()});function jt(e,t){var n,r;if(1===t.length&&o(t[0])&&(t=t[0]),!t.length)return Ot();for(n=t[0],r=1;r<t.length;++r)t[r].isValid()&&!t[r][e](n)||(n=t[r]);return n}var Pt=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Dt(e){var t=I(e),n=t.year||0,r=t.quarter||0,i=t.month||0,o=t.week||0,a=t.day||0,s=t.hour||0,u=t.minute||0,l=t.second||0,c=t.millisecond||0;this._isValid=function(e){for(var t in e)if(-1===Ce.call(Pt,t)||null!=e[t]&&isNaN(e[t]))return!1;for(var n=!1,r=0;r<Pt.length;++r)if(e[Pt[r]]){if(n)return!1;parseFloat(e[Pt[r]])!==E(e[Pt[r]])&&(n=!0)}return!0}(t),this._milliseconds=+c+1e3*l+6e4*u+1e3*s*60*60,this._days=+a+7*o,this._months=+i+3*r+12*n,this._data={},this._locale=ft(),this._bubble()}function It(e){return e instanceof Dt}function Rt(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function Ft(e,t){U(e,0,0,function(){var e=this.utcOffset(),n="+";return e<0&&(e=-e,n="-"),n+Y(~~(e/60),2)+t+Y(~~e%60,2)})}Ft("Z",":"),Ft("ZZ",""),ce("Z",se),ce("ZZ",se),pe(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=Bt(se,e)});var Yt=/([\+\-]|\d\d)/gi;function Bt(e,t){var n=(t||"").match(e);if(null===n)return null;var r=((n[n.length-1]||[])+"").match(Yt)||["-",0,0],i=60*r[1]+E(r[2]);return 0===i?0:"+"===r[0]?i:-i}function Ht(e,t){var n,r;return t._isUTC?(n=t.clone(),r=(w(e)||l(e)?e.valueOf():Ot(e).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+r),i.updateOffset(n,!1),n):Ot(e).local()}function zt(e){return 15*-Math.round(e._d.getTimezoneOffset()/15)}function Wt(){return!!this.isValid()&&(this._isUTC&&0===this._offset)}i.updateOffset=function(){};var Ut=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,Vt=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Gt(e,t){var n,r,i,o=e,a=null;return It(e)?o={ms:e._milliseconds,d:e._days,M:e._months}:u(e)?(o={},t?o[t]=e:o.milliseconds=e):(a=Ut.exec(e))?(n="-"===a[1]?-1:1,o={y:0,d:E(a[be])*n,h:E(a[_e])*n,m:E(a[we])*n,s:E(a[ke])*n,ms:E(Rt(1e3*a[Ee]))*n}):(a=Vt.exec(e))?(n="-"===a[1]?-1:(a[1],1),o={y:qt(a[2],n),M:qt(a[3],n),w:qt(a[4],n),d:qt(a[5],n),h:qt(a[6],n),m:qt(a[7],n),s:qt(a[8],n)}):null==o?o={}:"object"==typeof o&&("from"in o||"to"in o)&&(i=function(e,t){var n;if(!e.isValid()||!t.isValid())return{milliseconds:0,months:0};t=Ht(t,e),e.isBefore(t)?n=Kt(e,t):((n=Kt(t,e)).milliseconds=-n.milliseconds,n.months=-n.months);return n}(Ot(o.from),Ot(o.to)),(o={}).ms=i.milliseconds,o.M=i.months),r=new Dt(o),It(e)&&d(e,"_locale")&&(r._locale=e._locale),r}function qt(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function Kt(e,t){var n={milliseconds:0,months:0};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function $t(e,t){return function(n,r){var i;return null===r||isNaN(+r)||(A(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),i=n,n=r,r=i),Xt(this,Gt(n="string"==typeof n?+n:n,r),e),this}}function Xt(e,t,n,r){var o=t._milliseconds,a=Rt(t._days),s=Rt(t._months);e.isValid()&&(r=null==r||r,s&&Re(e,Ne(e,"Month")+s*n),a&&Le(e,"Date",Ne(e,"Date")+a*n),o&&e._d.setTime(e._d.valueOf()+o*n),r&&i.updateOffset(e,a||s))}Gt.fn=Dt.prototype,Gt.invalid=function(){return Gt(NaN)};var Jt=$t(1,"add"),Qt=$t(-1,"subtract");function Zt(e,t){var n=12*(t.year()-e.year())+(t.month()-e.month()),r=e.clone().add(n,"months");return-(n+(t-r<0?(t-r)/(r-e.clone().add(n-1,"months")):(t-r)/(e.clone().add(n+1,"months")-r)))||0}function en(e){var t;return void 0===e?this._locale._abbr:(null!=(t=ft(e))&&(this._locale=t),this)}i.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",i.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var tn=M("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return void 0===e?this.localeData():this.locale(e)});function nn(){return this._locale}function rn(e,t){U(0,[e,e.length],0,t)}function on(e,t,n,r,i){var o;return null==e?Ve(this,r,i).year:(t>(o=Ge(e,r,i))&&(t=o),function(e,t,n,r,i){var o=Ue(e,t,n,r,i),a=ze(o.year,0,o.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}.call(this,e,t,n,r,i))}U(0,["gg",2],0,function(){return this.weekYear()%100}),U(0,["GG",2],0,function(){return this.isoWeekYear()%100}),rn("gggg","weekYear"),rn("ggggg","weekYear"),rn("GGGG","isoWeekYear"),rn("GGGGG","isoWeekYear"),P("weekYear","gg"),P("isoWeekYear","GG"),F("weekYear",1),F("isoWeekYear",1),ce("G",oe),ce("g",oe),ce("GG",Q,K),ce("gg",Q,K),ce("GGGG",ne,X),ce("gggg",ne,X),ce("GGGGG",re,J),ce("ggggg",re,J),me(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,r){t[r.substr(0,2)]=E(e)}),me(["gg","GG"],function(e,t,n,r){t[r]=i.parseTwoDigitYear(e)}),U("Q",0,"Qo","quarter"),P("quarter","Q"),F("quarter",7),ce("Q",q),pe("Q",function(e,t){t[ve]=3*(E(e)-1)}),U("D",["DD",2],"Do","date"),P("date","D"),F("date",9),ce("D",Q),ce("DD",Q,K),ce("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient}),pe(["D","DD"],be),pe("Do",function(e,t){t[be]=E(e.match(Q)[0])});var an=Oe("Date",!0);U("DDD",["DDDD",3],"DDDo","dayOfYear"),P("dayOfYear","DDD"),F("dayOfYear",4),ce("DDD",te),ce("DDDD",$),pe(["DDD","DDDD"],function(e,t,n){n._dayOfYear=E(e)}),U("m",["mm",2],0,"minute"),P("minute","m"),F("minute",14),ce("m",Q),ce("mm",Q,K),pe(["m","mm"],we);var sn=Oe("Minutes",!1);U("s",["ss",2],0,"second"),P("second","s"),F("second",15),ce("s",Q),ce("ss",Q,K),pe(["s","ss"],ke);var un,ln=Oe("Seconds",!1);for(U("S",0,0,function(){return~~(this.millisecond()/100)}),U(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),U(0,["SSS",3],0,"millisecond"),U(0,["SSSS",4],0,function(){return 10*this.millisecond()}),U(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),U(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),U(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),U(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),U(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),P("millisecond","ms"),F("millisecond",16),ce("S",te,q),ce("SS",te,K),ce("SSS",te,$),un="SSSS";un.length<=9;un+="S")ce(un,ie);function cn(e,t){t[Ee]=E(1e3*("0."+e))}for(un="S";un.length<=9;un+="S")pe(un,cn);var dn=Oe("Milliseconds",!1);U("z",0,0,"zoneAbbr"),U("zz",0,0,"zoneName");var fn=_.prototype;function hn(e){return e}fn.add=Jt,fn.calendar=function(e,t){var n=e||Ot(),r=Ht(n,this).startOf("day"),o=i.calendarFormat(this,r)||"sameElse",a=t&&(O(t[o])?t[o].call(this,n):t[o]);return this.format(a||this.localeData().calendar(o,this,Ot(n)))},fn.clone=function(){return new _(this)},fn.diff=function(e,t,n){var r,i,o;if(!this.isValid())return NaN;if(!(r=Ht(e,this)).isValid())return NaN;switch(i=6e4*(r.utcOffset()-this.utcOffset()),t=D(t)){case"year":o=Zt(this,r)/12;break;case"month":o=Zt(this,r);break;case"quarter":o=Zt(this,r)/3;break;case"second":o=(this-r)/1e3;break;case"minute":o=(this-r)/6e4;break;case"hour":o=(this-r)/36e5;break;case"day":o=(this-r-i)/864e5;break;case"week":o=(this-r-i)/6048e5;break;default:o=this-r}return n?o:k(o)},fn.endOf=function(e){return void 0===(e=D(e))||"millisecond"===e?this:("date"===e&&(e="day"),this.startOf(e).add(1,"isoWeek"===e?"week":e).subtract(1,"ms"))},fn.format=function(e){e||(e=this.isUtc()?i.defaultFormatUtc:i.defaultFormat);var t=V(this,e);return this.localeData().postformat(t)},fn.from=function(e,t){return this.isValid()&&(w(e)&&e.isValid()||Ot(e).isValid())?Gt({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},fn.fromNow=function(e){return this.from(Ot(),e)},fn.to=function(e,t){return this.isValid()&&(w(e)&&e.isValid()||Ot(e).isValid())?Gt({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},fn.toNow=function(e){return this.to(Ot(),e)},fn.get=function(e){return O(this[e=D(e)])?this[e]():this},fn.invalidAt=function(){return p(this).overflow},fn.isAfter=function(e,t){var n=w(e)?e:Ot(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=D(s(t)?"millisecond":t))?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf())},fn.isBefore=function(e,t){var n=w(e)?e:Ot(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=D(s(t)?"millisecond":t))?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf())},fn.isBetween=function(e,t,n,r){return("("===(r=r||"()")[0]?this.isAfter(e,n):!this.isBefore(e,n))&&(")"===r[1]?this.isBefore(t,n):!this.isAfter(t,n))},fn.isSame=function(e,t){var n,r=w(e)?e:Ot(e);return!(!this.isValid()||!r.isValid())&&("millisecond"===(t=D(t||"millisecond"))?this.valueOf()===r.valueOf():(n=r.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf()))},fn.isSameOrAfter=function(e,t){return this.isSame(e,t)||this.isAfter(e,t)},fn.isSameOrBefore=function(e,t){return this.isSame(e,t)||this.isBefore(e,t)},fn.isValid=function(){return m(this)},fn.lang=tn,fn.locale=en,fn.localeData=nn,fn.max=Lt,fn.min=Nt,fn.parsingFlags=function(){return f({},p(this))},fn.set=function(e,t){if("object"==typeof e)for(var n=function(e){var t=[];for(var n in e)t.push({unit:n,priority:R[n]});return t.sort(function(e,t){return e.priority-t.priority}),t}(e=I(e)),r=0;r<n.length;r++)this[n[r].unit](e[n[r].unit]);else if(O(this[e=D(e)]))return this[e](t);return this},fn.startOf=function(e){switch(e=D(e)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e&&this.weekday(0),"isoWeek"===e&&this.isoWeekday(1),"quarter"===e&&this.month(3*Math.floor(this.month()/3)),this},fn.subtract=Qt,fn.toArray=function(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]},fn.toObject=function(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}},fn.toDate=function(){return new Date(this.valueOf())},fn.toISOString=function(e){if(!this.isValid())return null;var t=!0!==e,n=t?this.clone().utc():this;return n.year()<0||n.year()>9999?V(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):O(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",V(n,"Z")):V(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},fn.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="";this.isLocal()||(e=0===this.utcOffset()?"moment.utc":"moment.parseZone",t="Z");var n="["+e+'("]',r=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",i=t+'[")]';return this.format(n+r+"-MM-DD[T]HH:mm:ss.SSS"+i)},fn.toJSON=function(){return this.isValid()?this.toISOString():null},fn.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},fn.unix=function(){return Math.floor(this.valueOf()/1e3)},fn.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},fn.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},fn.year=Ae,fn.isLeapYear=function(){return Te(this.year())},fn.weekYear=function(e){return on.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},fn.isoWeekYear=function(e){return on.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)},fn.quarter=fn.quarters=function(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)},fn.month=Fe,fn.daysInMonth=function(){return je(this.year(),this.month())},fn.week=fn.weeks=function(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")},fn.isoWeek=fn.isoWeeks=function(e){var t=Ve(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")},fn.weeksInYear=function(){var e=this.localeData()._week;return Ge(this.year(),e.dow,e.doy)},fn.isoWeeksInYear=function(){return Ge(this.year(),1,4)},fn.date=an,fn.day=fn.days=function(e){if(!this.isValid())return null!=e?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=function(e,t){return"string"!=typeof e?e:isNaN(e)?"number"==typeof(e=t.weekdaysParse(e))?e:null:parseInt(e,10)}(e,this.localeData()),this.add(e-t,"d")):t},fn.weekday=function(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")},fn.isoWeekday=function(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=function(e,t){return"string"==typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7},fn.dayOfYear=function(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")},fn.hour=fn.hours=it,fn.minute=fn.minutes=sn,fn.second=fn.seconds=ln,fn.millisecond=fn.milliseconds=dn,fn.utcOffset=function(e,t,n){var r,o=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null!=e){if("string"==typeof e){if(null===(e=Bt(se,e)))return this}else Math.abs(e)<16&&!n&&(e*=60);return!this._isUTC&&t&&(r=zt(this)),this._offset=e,this._isUTC=!0,null!=r&&this.add(r,"m"),o!==e&&(!t||this._changeInProgress?Xt(this,Gt(e-o,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,i.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?o:zt(this)},fn.utc=function(e){return this.utcOffset(0,e)},fn.local=function(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(zt(this),"m")),this},fn.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var e=Bt(ae,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this},fn.hasAlignedHourOffset=function(e){return!!this.isValid()&&(e=e?Ot(e).utcOffset():0,(this.utcOffset()-e)%60==0)},fn.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},fn.isLocal=function(){return!!this.isValid()&&!this._isUTC},fn.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},fn.isUtc=Wt,fn.isUTC=Wt,fn.zoneAbbr=function(){return this._isUTC?"UTC":""},fn.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},fn.dates=M("dates accessor is deprecated. Use date instead.",an),fn.months=M("months accessor is deprecated. Use month instead",Fe),fn.years=M("years accessor is deprecated. Use year instead",Ae),fn.zone=M("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",function(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}),fn.isDSTShifted=M("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",function(){if(!s(this._isDSTShifted))return this._isDSTShifted;var e={};if(v(e,this),(e=Ct(e))._a){var t=e._isUTC?h(e._a):Ot(e._a);this._isDSTShifted=this.isValid()&&x(e._a,t.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted});var pn=L.prototype;function mn(e,t,n,r){var i=ft(),o=h().set(r,t);return i[n](o,e)}function gn(e,t,n){if(u(e)&&(t=e,e=void 0),e=e||"",null!=t)return mn(e,t,n,"month");var r,i=[];for(r=0;r<12;r++)i[r]=mn(e,r,n,"month");return i}function yn(e,t,n,r){"boolean"==typeof e?(u(t)&&(n=t,t=void 0),t=t||""):(n=t=e,e=!1,u(t)&&(n=t,t=void 0),t=t||"");var i,o=ft(),a=e?o._week.dow:0;if(null!=n)return mn(t,(n+a)%7,r,"day");var s=[];for(i=0;i<7;i++)s[i]=mn(t,(i+a)%7,r,"day");return s}pn.calendar=function(e,t,n){var r=this._calendar[e]||this._calendar.sameElse;return O(r)?r.call(t,n):r},pn.longDateFormat=function(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e])},pn.invalidDate=function(){return this._invalidDate},pn.ordinal=function(e){return this._ordinal.replace("%d",e)},pn.preparse=hn,pn.postformat=hn,pn.relativeTime=function(e,t,n,r){var i=this._relativeTime[n];return O(i)?i(e,t,n,r):i.replace(/%d/i,e)},pn.pastFuture=function(e,t){var n=this._relativeTime[e>0?"future":"past"];return O(n)?n(t):n.replace(/%s/i,t)},pn.set=function(e){var t,n;for(n in e)O(t=e[n])?this[n]=t:this["_"+n]=t;this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},pn.months=function(e,t){return e?o(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||Pe).test(t)?"format":"standalone"][e.month()]:o(this._months)?this._months:this._months.standalone},pn.monthsShort=function(e,t){return e?o(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[Pe.test(t)?"format":"standalone"][e.month()]:o(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},pn.monthsParse=function(e,t,n){var r,i,o;if(this._monthsParseExact)return function(e,t,n){var r,i,o,a=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)o=h([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(o,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(o,"").toLocaleLowerCase();return n?"MMM"===t?-1!==(i=Ce.call(this._shortMonthsParse,a))?i:null:-1!==(i=Ce.call(this._longMonthsParse,a))?i:null:"MMM"===t?-1!==(i=Ce.call(this._shortMonthsParse,a))?i:-1!==(i=Ce.call(this._longMonthsParse,a))?i:null:-1!==(i=Ce.call(this._longMonthsParse,a))?i:-1!==(i=Ce.call(this._shortMonthsParse,a))?i:null}.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(i=h([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),n||this._monthsParse[r]||(o="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=new RegExp(o.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[r].test(e))return r;if(n&&"MMM"===t&&this._shortMonthsParse[r].test(e))return r;if(!n&&this._monthsParse[r].test(e))return r}},pn.monthsRegex=function(e){return this._monthsParseExact?(d(this,"_monthsRegex")||He.call(this),e?this._monthsStrictRegex:this._monthsRegex):(d(this,"_monthsRegex")||(this._monthsRegex=Be),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)},pn.monthsShortRegex=function(e){return this._monthsParseExact?(d(this,"_monthsRegex")||He.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(d(this,"_monthsShortRegex")||(this._monthsShortRegex=Ye),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)},pn.week=function(e){return Ve(e,this._week.dow,this._week.doy).week},pn.firstDayOfYear=function(){return this._week.doy},pn.firstDayOfWeek=function(){return this._week.dow},pn.weekdays=function(e,t){return e?o(this._weekdays)?this._weekdays[e.day()]:this._weekdays[this._weekdays.isFormat.test(t)?"format":"standalone"][e.day()]:o(this._weekdays)?this._weekdays:this._weekdays.standalone},pn.weekdaysMin=function(e){return e?this._weekdaysMin[e.day()]:this._weekdaysMin},pn.weekdaysShort=function(e){return e?this._weekdaysShort[e.day()]:this._weekdaysShort},pn.weekdaysParse=function(e,t,n){var r,i,o;if(this._weekdaysParseExact)return function(e,t,n){var r,i,o,a=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)o=h([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(o,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(o,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(o,"").toLocaleLowerCase();return n?"dddd"===t?-1!==(i=Ce.call(this._weekdaysParse,a))?i:null:"ddd"===t?-1!==(i=Ce.call(this._shortWeekdaysParse,a))?i:null:-1!==(i=Ce.call(this._minWeekdaysParse,a))?i:null:"dddd"===t?-1!==(i=Ce.call(this._weekdaysParse,a))?i:-1!==(i=Ce.call(this._shortWeekdaysParse,a))?i:-1!==(i=Ce.call(this._minWeekdaysParse,a))?i:null:"ddd"===t?-1!==(i=Ce.call(this._shortWeekdaysParse,a))?i:-1!==(i=Ce.call(this._weekdaysParse,a))?i:-1!==(i=Ce.call(this._minWeekdaysParse,a))?i:null:-1!==(i=Ce.call(this._minWeekdaysParse,a))?i:-1!==(i=Ce.call(this._weekdaysParse,a))?i:-1!==(i=Ce.call(this._shortWeekdaysParse,a))?i:null}.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(i=h([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(i,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(i,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(i,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(o="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[r]=new RegExp(o.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[r].test(e))return r;if(n&&"ddd"===t&&this._shortWeekdaysParse[r].test(e))return r;if(n&&"dd"===t&&this._minWeekdaysParse[r].test(e))return r;if(!n&&this._weekdaysParse[r].test(e))return r}},pn.weekdaysRegex=function(e){return this._weekdaysParseExact?(d(this,"_weekdaysRegex")||Ze.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(d(this,"_weekdaysRegex")||(this._weekdaysRegex=Xe),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)},pn.weekdaysShortRegex=function(e){return this._weekdaysParseExact?(d(this,"_weekdaysRegex")||Ze.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(d(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Je),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},pn.weekdaysMinRegex=function(e){return this._weekdaysParseExact?(d(this,"_weekdaysRegex")||Ze.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(d(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Qe),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},pn.isPM=function(e){return"p"===(e+"").toLowerCase().charAt(0)},pn.meridiem=function(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"},ct("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===E(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),i.lang=M("moment.lang is deprecated. Use moment.locale instead.",ct),i.langData=M("moment.langData is deprecated. Use moment.localeData instead.",ft);var vn=Math.abs;function bn(e,t,n,r){var i=Gt(t,n);return e._milliseconds+=r*i._milliseconds,e._days+=r*i._days,e._months+=r*i._months,e._bubble()}function _n(e){return e<0?Math.floor(e):Math.ceil(e)}function wn(e){return 4800*e/146097}function kn(e){return 146097*e/4800}function En(e){return function(){return this.as(e)}}var xn=En("ms"),Sn=En("s"),Mn=En("m"),Tn=En("h"),Cn=En("d"),An=En("w"),On=En("M"),Nn=En("y");function Ln(e){return function(){return this.isValid()?this._data[e]:NaN}}var jn=Ln("milliseconds"),Pn=Ln("seconds"),Dn=Ln("minutes"),In=Ln("hours"),Rn=Ln("days"),Fn=Ln("months"),Yn=Ln("years");var Bn=Math.round,Hn={ss:44,s:45,m:45,h:22,d:26,M:11};var zn=Math.abs;function Wn(e){return(e>0)-(e<0)||+e}function Un(){if(!this.isValid())return this.localeData().invalidDate();var e,t,n=zn(this._milliseconds)/1e3,r=zn(this._days),i=zn(this._months);t=k((e=k(n/60))/60),n%=60,e%=60;var o=k(i/12),a=i%=12,s=r,u=t,l=e,c=n?n.toFixed(3).replace(/\.?0+$/,""):"",d=this.asSeconds();if(!d)return"P0D";var f=d<0?"-":"",h=Wn(this._months)!==Wn(d)?"-":"",p=Wn(this._days)!==Wn(d)?"-":"",m=Wn(this._milliseconds)!==Wn(d)?"-":"";return f+"P"+(o?h+o+"Y":"")+(a?h+a+"M":"")+(s?p+s+"D":"")+(u||l||c?"T":"")+(u?m+u+"H":"")+(l?m+l+"M":"")+(c?m+c+"S":"")}var Vn=Dt.prototype;return Vn.isValid=function(){return this._isValid},Vn.abs=function(){var e=this._data;return this._milliseconds=vn(this._milliseconds),this._days=vn(this._days),this._months=vn(this._months),e.milliseconds=vn(e.milliseconds),e.seconds=vn(e.seconds),e.minutes=vn(e.minutes),e.hours=vn(e.hours),e.months=vn(e.months),e.years=vn(e.years),this},Vn.add=function(e,t){return bn(this,e,t,1)},Vn.subtract=function(e,t){return bn(this,e,t,-1)},Vn.as=function(e){if(!this.isValid())return NaN;var t,n,r=this._milliseconds;if("month"===(e=D(e))||"year"===e)return t=this._days+r/864e5,n=this._months+wn(t),"month"===e?n:n/12;switch(t=this._days+Math.round(kn(this._months)),e){case"week":return t/7+r/6048e5;case"day":return t+r/864e5;case"hour":return 24*t+r/36e5;case"minute":return 1440*t+r/6e4;case"second":return 86400*t+r/1e3;case"millisecond":return Math.floor(864e5*t)+r;default:throw new Error("Unknown unit "+e)}},Vn.asMilliseconds=xn,Vn.asSeconds=Sn,Vn.asMinutes=Mn,Vn.asHours=Tn,Vn.asDays=Cn,Vn.asWeeks=An,Vn.asMonths=On,Vn.asYears=Nn,Vn.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*E(this._months/12):NaN},Vn._bubble=function(){var e,t,n,r,i,o=this._milliseconds,a=this._days,s=this._months,u=this._data;return o>=0&&a>=0&&s>=0||o<=0&&a<=0&&s<=0||(o+=864e5*_n(kn(s)+a),a=0,s=0),u.milliseconds=o%1e3,e=k(o/1e3),u.seconds=e%60,t=k(e/60),u.minutes=t%60,n=k(t/60),u.hours=n%24,s+=i=k(wn(a+=k(n/24))),a-=_n(kn(i)),r=k(s/12),s%=12,u.days=a,u.months=s,u.years=r,this},Vn.clone=function(){return Gt(this)},Vn.get=function(e){return e=D(e),this.isValid()?this[e+"s"]():NaN},Vn.milliseconds=jn,Vn.seconds=Pn,Vn.minutes=Dn,Vn.hours=In,Vn.days=Rn,Vn.weeks=function(){return k(this.days()/7)},Vn.months=Fn,Vn.years=Yn,Vn.humanize=function(e){if(!this.isValid())return this.localeData().invalidDate();var t=this.localeData(),n=function(e,t,n){var r=Gt(e).abs(),i=Bn(r.as("s")),o=Bn(r.as("m")),a=Bn(r.as("h")),s=Bn(r.as("d")),u=Bn(r.as("M")),l=Bn(r.as("y")),c=i<=Hn.ss&&["s",i]||i<Hn.s&&["ss",i]||o<=1&&["m"]||o<Hn.m&&["mm",o]||a<=1&&["h"]||a<Hn.h&&["hh",a]||s<=1&&["d"]||s<Hn.d&&["dd",s]||u<=1&&["M"]||u<Hn.M&&["MM",u]||l<=1&&["y"]||["yy",l];return c[2]=t,c[3]=+e>0,c[4]=n,function(e,t,n,r,i){return i.relativeTime(t||1,!!n,e,r)}.apply(null,c)}(this,!e,t);return e&&(n=t.pastFuture(+this,n)),t.postformat(n)},Vn.toISOString=Un,Vn.toString=Un,Vn.toJSON=Un,Vn.locale=en,Vn.localeData=nn,Vn.toIsoString=M("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Un),Vn.lang=tn,U("X",0,0,"unix"),U("x",0,0,"valueOf"),ce("x",oe),ce("X",/[+-]?\d+(\.\d{1,3})?/),pe("X",function(e,t,n){n._d=new Date(1e3*parseFloat(e,10))}),pe("x",function(e,t,n){n._d=new Date(E(e))}),i.version="2.22.2",t=Ot,i.fn=fn,i.min=function(){return jt("isBefore",[].slice.call(arguments,0))},i.max=function(){return jt("isAfter",[].slice.call(arguments,0))},i.now=function(){return Date.now?Date.now():+new Date},i.utc=h,i.unix=function(e){return Ot(1e3*e)},i.months=function(e,t){return gn(e,t,"months")},i.isDate=l,i.locale=ct,i.invalid=g,i.duration=Gt,i.isMoment=w,i.weekdays=function(e,t,n){return yn(e,t,n,"weekdays")},i.parseZone=function(){return Ot.apply(null,arguments).parseZone()},i.localeData=ft,i.isDuration=It,i.monthsShort=function(e,t){return gn(e,t,"monthsShort")},i.weekdaysMin=function(e,t,n){return yn(e,t,n,"weekdaysMin")},i.defineLocale=dt,i.updateLocale=function(e,t){if(null!=t){var n,r,i=ot;null!=(r=lt(e))&&(i=r._config),(n=new L(t=N(i,t))).parentLocale=at[e],at[e]=n,ct(e)}else null!=at[e]&&(null!=at[e].parentLocale?at[e]=at[e].parentLocale:null!=at[e]&&delete at[e]);return at[e]},i.locales=function(){return T(at)},i.weekdaysShort=function(e,t,n){return yn(e,t,n,"weekdaysShort")},i.normalizeUnits=D,i.relativeTimeRounding=function(e){return void 0===e?Bn:"function"==typeof e&&(Bn=e,!0)},i.relativeTimeThreshold=function(e,t){return void 0!==Hn[e]&&(void 0===t?Hn[e]:(Hn[e]=t,"s"===e&&(Hn.ss=t-1),!0))},i.calendarFormat=function(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"},i.prototype=fn,i.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"YYYY-[W]WW",MONTH:"YYYY-MM"},i},e.exports=t()}).call(t,n(26)(e))},,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getScrollbarWidth=u,t.setScrollbarWidth=l,t.isBodyOverflowing=c,t.getOriginalBodyPadding=function(){var e=window.getComputedStyle(document.body,null);return parseInt(e&&e.getPropertyValue("padding-right")||0,10)},t.conditionallyUpdateScrollbar=function(){var e=u(),t=document.querySelectorAll(".fixed-top, .fixed-bottom, .is-fixed, .sticky-top")[0],n=t?parseInt(t.style.paddingRight||0,10):0;c()&&l(n+e)},t.setGlobalCssModule=function(e){r=e},t.mapToCssModules=function(e,t){void 0===e&&(e="");void 0===t&&(t=r);return t?e.split(" ").map(function(e){return t[e]||e}).join(" "):e},t.omit=function(e,t){var n={};return Object.keys(e).forEach(function(r){-1===t.indexOf(r)&&(n[r]=e[r])}),n},t.pick=function(e,t){var n,r=Array.isArray(t)?t:[t],i=r.length,o={};for(;i>0;)n=r[i-=1],o[n]=e[n];return o},t.warnOnce=f,t.deprecated=function(e,t){return function(n,r,i){null!==n[r]&&void 0!==n[r]&&f('"'+r+'" property of "'+i+'" has been deprecated.\n'+t);for(var o=arguments.length,a=new Array(o>3?o-3:0),s=3;s<o;s++)a[s-3]=arguments[s];return e.apply(void 0,[n,r,i].concat(a))}},t.DOMElement=h,n.d(t,"targetPropType",function(){return p}),n.d(t,"tagPropType",function(){return m}),n.d(t,"TransitionTimeouts",function(){return g}),n.d(t,"TransitionPropTypeKeys",function(){return y}),n.d(t,"TransitionStatuses",function(){return v}),n.d(t,"keyCodes",function(){return b}),n.d(t,"PopperPlacements",function(){return _}),n.d(t,"canUseDOM",function(){return w}),t.isReactRefObj=k,t.findDOMElements=E,t.isArrayOrNodeList=x,t.getTarget=function(e){var t=E(e);if(x(t))return t[0];return t},n.d(t,"defaultToggleEvents",function(){return S}),t.addMultipleEventListeners=function(e,t,n,r){var i=e;x(i)||(i=[i]);var o=n;"string"==typeof o&&(o=o.split(/\s+/));if(!x(i)||"function"!=typeof t||!Array.isArray(o))throw new Error("\n      The first argument of this function must be DOM node or an array on DOM nodes or NodeList.\n      The second must be a function.\n      The third is a string or an array of strings that represents DOM events\n    ");return Array.prototype.forEach.call(o,function(e){Array.prototype.forEach.call(i,function(n){n.addEventListener(e,t,r)})}),function(){Array.prototype.forEach.call(o,function(e){Array.prototype.forEach.call(i,function(n){n.removeEventListener(e,t,r)})})}},n.d(t,"focusableElements",function(){return M});var r,i=n(662),o=n.n(i),a=n(4),s=n.n(a);function u(){var e=document.createElement("div");e.style.position="absolute",e.style.top="-9999px",e.style.width="50px",e.style.height="50px",e.style.overflow="scroll",document.body.appendChild(e);var t=e.offsetWidth-e.clientWidth;return document.body.removeChild(e),t}function l(e){document.body.style.paddingRight=e>0?e+"px":null}function c(){return document.body.clientWidth<window.innerWidth}var d={};function f(e){d[e]||("undefined"!=typeof console&&console.error(e),d[e]=!0)}function h(e,t,n){if(!(e[t]instanceof Element))return new Error("Invalid prop `"+t+"` supplied to `"+n+"`. Expected prop to be an instance of Element. Validation failed.")}var p=s.a.oneOfType([s.a.string,s.a.func,h,s.a.shape({current:s.a.any})]),m=s.a.oneOfType([s.a.func,s.a.string,s.a.shape({$$typeof:s.a.symbol,render:s.a.func}),s.a.arrayOf(s.a.oneOfType([s.a.func,s.a.string,s.a.shape({$$typeof:s.a.symbol,render:s.a.func})]))]),g={Fade:150,Collapse:350,Modal:300,Carousel:600},y=["in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","onEnter","onEntering","onEntered","onExit","onExiting","onExited"],v={ENTERING:"entering",ENTERED:"entered",EXITING:"exiting",EXITED:"exited"},b={esc:27,space:32,enter:13,tab:9,up:38,down:40,home:36,end:35,n:78,p:80},_=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],w=!("undefined"==typeof window||!window.document||!window.document.createElement);function k(e){return!(!e||"object"!=typeof e)&&"current"in e}function E(e){if(k(e))return e.current;if(o()(e))return e();if("string"==typeof e&&w){var t=document.querySelectorAll(e);if(t.length||(t=document.querySelectorAll("#"+e)),!t.length)throw new Error("The target '"+e+"' could not be identified in the dom, tip: check spelling");return t}return e}function x(e){return null!==e&&(Array.isArray(e)||w&&"number"==typeof e.length)}var S=["touchstart","click"];var M=["a[href]","area[href]","input:not([disabled]):not([type=hidden])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","object","embed","[tabindex]:not(.modal)","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])']},function(e,t,n){"use strict";function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}t.a=r},function(e,t,n){"use strict";var r=n(116),i=n(1989),o=n(562),a=n(748),s=function(){function e(e){this._isScalar=!1,e&&(this._subscribe=e)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(e,t,n){var r=this.operator,o=i.toSubscriber(e,t,n);if(r?r.call(o,this.source):o.add(this.source||!o.syncErrorThrowable?this._subscribe(o):this._trySubscribe(o)),o.syncErrorThrowable&&(o.syncErrorThrowable=!1,o.syncErrorThrown))throw o.syncErrorValue;return o},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){e.syncErrorThrown=!0,e.syncErrorValue=t,e.error(t)}},e.prototype.forEach=function(e,t){var n=this;if(t||(r.root.Rx&&r.root.Rx.config&&r.root.Rx.config.Promise?t=r.root.Rx.config.Promise:r.root.Promise&&(t=r.root.Promise)),!t)throw new Error("no Promise impl found");return new t(function(t,r){var i;i=n.subscribe(function(t){if(i)try{e(t)}catch(e){r(e),i.unsubscribe()}else e(t)},r,t)})},e.prototype._subscribe=function(e){return this.source.subscribe(e)},e.prototype[o.observable]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return 0===e.length?this:a.pipeFromArray(e)(this)},e.prototype.toPromise=function(e){var t=this;if(e||(r.root.Rx&&r.root.Rx.config&&r.root.Rx.config.Promise?e=r.root.Rx.config.Promise:r.root.Promise&&(e=r.root.Promise)),!e)throw new Error("no Promise impl found");return new e(function(e,n){var r;t.subscribe(function(e){return r=e},function(e){return n(e)},function(){return e(r)})})},e.create=function(t){return new e(t)},e}();t.Observable=s},function(e,t,n){var r;
/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/
/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/
!function(){"use strict";var n={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var o=typeof r;if("string"===o||"number"===o)e.push(r);else if(Array.isArray(r)&&r.length){var a=i.apply(null,r);a&&e.push(a)}else if("object"===o)for(var s in r)n.call(r,s)&&r[s]&&e.push(s)}}return e.join(" ")}void 0!==e&&e.exports?(i.default=i,e.exports=i):void 0===(r=function(){return i}.apply(t,[]))||(e.exports=r)}()},function(e,t,n){"use strict";t.a=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_lodash=__webpack_require__(11),_lodash2=_interopRequireDefault(_lodash);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Date.prototype.format=function(e){var t={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};for(var n in/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length))),t)new RegExp("("+n+")").test(e)&&(e=e.replace(RegExp.$1,1===RegExp.$1.length?t[n]:("00"+t[n]).substr((""+t[n]).length)));return e};var Common=function(){};Common.print_filter=function(filter){var f=eval(filter);f.length,void 0!==f.top&&(f=f.top(1/0)),void 0!==f.dimension&&(f=f.dimension(function(e){return""}).top(1/0)),console.log(filter+"("+f.length+") = "+JSON.stringify(f).replace("[","[\n\t").replace(/}\,/g,"},\n\t").replace("]","\n]"))},Common.isNullOrEmpty=function(e){return""===e||null==e||"undefined"==e},Common.loadJS=function(e){return new Promise(function(t,n){if(_lodash2.default.find(document.getElementsByTagName("script"),function(t){return t.src==e}))t("done");else{var r=document.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=function(){t("done")};var i=document.getElementsByTagName("script")[0];i.parentNode.insertBefore(r,i)}})},Common.loadCSS=function(e){return new Promise(function(t,n){if(_lodash2.default.find(document.getElementsByTagName("link"),function(t){return t.href==e}))t("done");else{var r=document.createElement("link");r.type="text/css",r.rel="stylesheet",r.async=!0,r.href=e,r.onload=function(){t("done")};var i=document.getElementsByTagName("link")[0];i.parentNode.insertBefore(r,i)}})},Common.showTipType={success:"success",info:"info",warn:"warn",danger:"danger"},Common.hideTip=function(e,t){$("#tip-container").hide(0),Common.showLoadingWaiting(!1),t&&t()},Common.showTip=function(e,t,n,r,i,o){e&&$("#loading-tip .loading-text").html(e),$("#loading-tip").removeClass(),n&&""!=n&&t&&($("#loading-tip").addClass("has-type"),$("#loading-tip").addClass(n)),r?$("#tip-container .loading-close").hide():($("#tip-container .loading-close").show(),$("#tip-container .loading-close").one("click",function(){Common.hideTip(0,o)})),t?(i?$("#tip-container img").hide():$("#tip-container img").show(),$("#tip-container").show(0)):Common.hideTip(0,o),t&&($("#tip-container").off("click","**"),$("#loading-tip").on("click mouseover",function(e){"A"!=e.target.tagName&&e.preventDefault(),e.stopPropagation(),$("#tip-container #loading-tip").clearQueue().stop()}),$("#tip-container").on("click",function(e){$("#tip-container #loading-tip").clearQueue().stop().animate({zoom:"150%"},200).animate({zoom:"100%"},200)}),$("#tip-container").on("dbclick",function(e){Common.hideTip(0,o)})),Common._tipsTimer&&(clearTimeout(Common._tipsTimer),Common._tipsTimer=null),r&&r>0&&(Common._tipsTimer=setTimeout(function(){Common.hideTip(500,o)},r>500?r:r+500))},Common.showHints=function(e,t,n,r){e||(e="Please wait ..."),t||(t=Common.showTipType.warn),n||t!=Common.showTipType.info||(n=3e3),Common.showTip(e,!0,t,n,!0,r)},Common.showLoadingWaiting=function(e,t){Common._showLoadingWaitingTimer&&(clearTimeout(Common._showLoadingWaitingTimer),Common._showLoadingWaitingTimer=null),e&&(Common._showLoadingWaitingTimer=setTimeout(function(){$("#loading-tip").is(":visible")&&$("#loading-tip .loading-text").text(e),Common._showLoadingWaitingTimer=null},t))},Common.hiddenHints=function(e){Common.hideTip(e>=0?e:1e3)},Common.showLoading=function(e){e||(e="Loading ..."),Common.showTip(e,!0,null,0,!1)},Common.hideLoading=function(e){Common.hiddenHints(e)},Common.genUniqId=function(){return(Date.now().toString(36)+Math.random().toString(36).substr(2,5)).toUpperCase()},Common.isEmptyObject=function(e){if("object"!=(void 0===e?"undefined":_typeof(e)))return!0;for(var t in e)return!1;return!0},Common.isString=function(e){return"string"==typeof e&&e.constructor==String},Common.matchInArray=function(e,t){for(var n=t.length,r=0;r<n;r++)if(String(e).match(t[r]))return!0;return!1},Common.contains=function(e,t){if(!e||!t)return null;t=String(t).replace(/[\~\!\@\#\$\%\^\&\*\(\)\/\\\|\,\.\<\>\?\"\'\;\:\_\+\-\=\[\]\{\}]/gi,".");var n=new RegExp(String(t),"ig");for(var r in e){if(n.test(String(e[r])))return r;if("object"===_typeof(e[r])){var i=Common.contains(e[r],t);if(i)return i}}return null},Common.removeSpecialChar=function(e){return String(e).replace(/[\~\!\@\#\$\%\^\&\*\(\)\/\\\|\,\.\<\>\?\"\'\;\:\_\+\-\=\[\]\{\}]/gi,"")},Common.keepCharOnly=function(e){return String(e).replace(/[\~\!\@\#\$\%\^\&\*\(\)\/\\\|\,\.\<\>\?\"\'\;\:\_\+\-\=\[\]\{\} ]/gi,"")},Common.getQueryString=function(e){var t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)"),n=window.location.search.substr(1).match(t);return null!=n?unescape(n[2]):null},Common.getQueryStringAll=function(e){var t=window.location.search;return t=t.substr(1)},Common.deepCopy=function(e){var t=void 0;if(Array.isArray(e))t=[];else{if("object"!==(void 0===e?"undefined":_typeof(e)))return e;t={}}for(var n in e)t[n]=this.deepCopy(e[n]);return t},Common.deepMerge=function(e,t){var n=["string","number","boolean","undefined"];if(null===e||null===t)return t;if(n.includes(void 0===e?"undefined":_typeof(e))&&n.includes(void 0===t?"undefined":_typeof(t)))return t;if("object"!==(void 0===e?"undefined":_typeof(e))||"object"!==(void 0===t?"undefined":_typeof(t)))return e;for(var r in t)e[r]=Common.deepMerge(e[r],t[r]);return e},Common.equal=function(objA,objB){if(_typeof(arguments[0])!=_typeof(arguments[1]))return!1;if(arguments[0]instanceof Array&&arguments[1]instanceof Array){if(arguments[0].length!=arguments[1].length)return!1;for(var allElementsEqual=!0,i=0;i<arguments[0].length;++i){if(_typeof(arguments[0][i])!=_typeof(arguments[1][i]))return!1;if(allElementsEqual="number"==typeof arguments[0][i]&&"number"==typeof arguments[1][i]?arguments[0][i]==arguments[1][i]:arguments.callee(arguments[0][i],arguments[1][i]),!allElementsEqual)break}return allElementsEqual}if(arguments[0]instanceof Object&&arguments[1]instanceof Object){if(Object.getOwnPropertyNames(arguments[0]).length!=Object.getOwnPropertyNames(arguments[1]).length)return!1;var result=!0;for(var o in arguments[0])if(result="number"==typeof arguments[0][o]||"string"==typeof arguments[0][o]?eval("arguments[0]['"+o+"'] == arguments[1]['"+o+"']"):arguments.callee(eval("arguments[0]['"+o+"']"),eval("arguments[1]['"+o+"']")),!result)break;return result}return arguments[0]==arguments[1]},Common.isNonEmptyArray=function(e){return!!(Array.isArray(e)&&e.length>0)},Common.sendRequst=function(e,t,n,r,i,o){r=arguments[3]?arguments[3]:"POST",i=!!arguments[4]&&arguments[4],o=!!arguments[5]&&arguments[5],"POST"==r&&(this.isString(t)&&(t=JSON.parse(t)),t=JSON.stringify(t)),o||Common.showLoading(),$.ajax({type:r,url:e,data:t,dataType:"json",contentType:"application/json; charset=utf-8",cache:i,timeout:3e4,beforeSend:function(e){e.setRequestHeader("neo4jDesktopApi",!(!window||!window.neo4jDesktopApi))},success:function(e){e&&e.status&&401==parseInt(e.status)?(console.log(e.message||"Please login at first"),window.location.href="/login"):n(null,e)},error:function(t,r,i){var o=new Error;o.name=r,console.error(o,t,i),"Not Found"===i?o.message="Request path error, error path : "+e:["timeout","parsererror"].includes(r)?o.message="Request failed with "+r+".":o.message="Request failed. Please review firebug or developer tools console and submit results via the feedback tool. Thank you.",n(o)},complete:function(){o||Common.hideLoading(0)}})},Common.getDayTime=function(e){return(e=e?new Date(e):new Date).getTime()-1e3*(60*e.getHours()*60+60*e.getMinutes()+e.getSeconds())},Common.getTime=function(e){return e?new Date(e).getTime():0},Common.getDataWithElement=function(e){var t={};$(e).find("input:hidden").each(function(e,n){t[$(n).attr("name")]=$(n).val()}),$(e).find("input:text").each(function(e,n){t[$(n).attr("name")]=$(n).val()}),$(e).find("input:password").each(function(e,n){t[$(n).attr("name")]=$(n).val()}),$(e).find("select").each(function(e,n){$(n).find("option:selected").attr("value")&&(t[$(n).attr("name")]=$(n).find("option:selected").attr("value"))}),$(e).find("input:radio:checked").each(function(e,n){t[$(n).attr("name")]=$(n).val()}),$(e).find("input:checkbox").each(function(e,n){t[$(n).attr("name")]=$(n).is(":checked")?1:0}),$(e).find("textarea").each(function(e,n){t[$(n).attr("name")]=$(n).val()});var n={};for(var r in t){var i=t[r];if(/\./.test(r)){var o=r.split(".");Common.seriesKeysToObject(o,n,i)}else n[r]=i}return n},Common.seriesKeysToObject=function(e,t,n){if("object"!=(void 0===t?"undefined":_typeof(t))||!e||!n)return console.warn("Miss parameters [seriesKeys ,object ,value] ");var r=e.shift();t[r]||(t[r]={}),e&&0==e.length?t[r]=n:Common.seriesKeysToObject(e,t[r],n)},Common.addHints=function(e,t){$("#result").show(),$("#result > span").html(t),null!=e&&$(e).parents(".form-group").addClass("has-error"),$(e).parents("form").find("input,textarea").bind("change",function(){$("#result").hide(),$(this).parents(".form-group").removeClass("has-error")})},Common.checkDataElement=function(e){var t=!0,n=this;return $(e).find("input:text,textarea,input:hidden").each(function(e,r){"*"==$(r).parents(".form-group").find(".text-muted").html()&&""==$(r).val()&&(n.addHints($(r),"You must fill in the required"),t=!1)}),t},Common.sureModel=function(e,t,n,r,i){$("#confirm-title").html(e),$("#confirm-content").html(t),"hide_type"==r?$("#confirm-cancel-button").remove():$("#confirm-cancel-button").html(r),i&&$("#confirm-ok-button").html(i),$("#confirm-modal").modal("show"),$("#confirm-ok-button").unbind("click"),$("#confirm-ok-button").click(function(){$("#confirm-modal").modal("hide"),n&&n()})},Common.updateDatePickerDate=function(e,t){$(e).find(".end-date-picker").datepicker("update",new Date(t[1]).format("yyyy-MM-dd")),$(e).find(".start-date-picker").datepicker("update",new Date(t[0]).format("yyyy-MM-dd"))},Common.updateDatePicker=function(e,t,n){if(!t||2!=t.length)return new Error("Range is Error");$(e).find(".start-date-picker").datepicker({format:"yyyy-mm-dd",weekStart:1,autoclose:!0,todayHighlight:!0,defaultViewDate:{year:t[0].getFullYear(),month:t[0].getMonth(),day:t[0].getDate()}}).on("changeDate",function(e){var t=e.date.valueOf();n&&n("start-date-picker",t,e)}),$(e).find(".end-date-picker").datepicker({format:"yyyy-mm-dd",weekStart:1,autoclose:!0,todayHighlight:!0,defaultViewDate:{year:t[1].getFullYear(),month:t[1].getMonth(),day:t[1].getDate()}}).on("changeDate",function(e){var t=e.date.valueOf();n&&n("end-date-picker",t,e)})},Common.updateDefaultDatePicker=function(e){$(e).find(".start-date-picker").datepicker({format:"yyyy-mm-dd",weekStart:1,autoclose:!0,todayHighlight:!0}).on("changeDate",function(t){t.date.valueOf();var n=$(e).find(".end-date-picker").val();n&&n.length>0&&new Date(n).getTime()}),$(e).find(".end-date-picker").datepicker({format:"yyyy-mm-dd",weekStart:1,autoclose:!0,todayHighlight:!0}).on("changeDate",function(t){t.date.valueOf();var n=$(e).find(".start-date-picker").val();n&&n.length>0&&new Date(n).getTime()})},Common.CSVToArray=function(e,t){t=t||",";for(var n=new RegExp("(\\"+t+'|\\r?\\n|\\r|^)(?:"([^"]*(?:""[^"]*)*)"|([^"\\'+t+"\\r\\n]*))","gi"),r=[[]],i=null;i=n.exec(e);){var o=i[1];o.length&&o!=t&&r.push([]);var a="";a=i[2]?i[2].replace(new RegExp('""',"g"),'"'):i[3],r[r.length-1].push(a)}return r},Common.convertCSVArrayToJSON=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=[];e[0]=e[0].map(function(e){return String(e).trim()});for(var r=1;r<e.length;r++){var i={},o=0;if(e[0].length==e[r].length){for(var a=0;a<e[0].length;a++)""==e[r][a]&&o++,i[e[0][a]]=e[r][a],t&&i[e[0][a]].indexOf("=")>0&&function(){var t={},n=/,/g;i[e[0][a]].indexOf("|")>0&&(n=/\|/g),i[e[0][a]].split(n).filter(function(e){return e.length>0}).map(function(e){var n=e.trim().split("=");2==n.length&&n[0]&&""!=n[0].trim()&&(t[n[0].trim()]=n[1].trim())}),i[e[0][a]]=t}();o!=e[0].length&&n.push(i)}}return n},Common.convertCSV2JSON=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.convertCSVArrayToJSON(this.CSVToArray(e),t)},Common.saveToCSVFile=function(e,t){var n="data:text/csv;charset=utf-8,"+encodeURIComponent(e),r=document.createElementNS("http://www.w3.org/1999/xhtml","a");r.href=n,r.download=t+".csv";var i=document.createEvent("MouseEvents");i.initMouseEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null),r.dispatchEvent(i),URL.revokeObjectURL(n)},Common.saveLink=function(e,t){var n=document.createElementNS("http://www.w3.org/1999/xhtml","a");n.href=e,t&&(n.download=t);var r=document.createEvent("MouseEvents");r.initMouseEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null),n.dispatchEvent(r),URL.revokeObjectURL(n.href)},Common.request=function(){var e=arguments.length<=0?void 0:arguments[0],t=(arguments.length<=1?void 0:arguments[1])||{},n=arguments.length<=2?void 0:arguments[2],r=(arguments.length<=3?void 0:arguments[3])?arguments.length<=3?void 0:arguments[3]:"POST",i=!(arguments.length<=4||!arguments[4])&&(arguments.length<=4?void 0:arguments[4]),o=(arguments.length<=5?void 0:arguments[5])?arguments.length<=5?void 0:arguments[5]:"json",a="json"==o?"application/json; charset=utf-8":"multipart/form-data; boundary=----WebKitFormBoundary1zpntJt8maaWDRdb";"POST"==r&&"json"==o&&("string"==typeof t&&(t=JSON.parse(t)),t=JSON.stringify(t)),Common.showLoading();var s={type:r,url:e,data:t,dataType:o,contentType:a,cache:i,beforeSend:function(e){e.setRequestHeader("Authorization","Basic bmVvNGo6a2luZXZpeg==")},success:function(e){n(null,e)},error:function(e,t,r){n("Not Found"===r?new Error("Request path error, error path : "+request_url):new Error("Request failed. Please review firebug or developer tools console and submit results via the feedback tool. Thank you."))},complete:function(){Common.hideLoading(0)}};return"jsonp"==o&&(s.jsonp=(arguments.length<=6?void 0:arguments[6])?arguments.length<=6?void 0:arguments[6]:"callback"),$.ajax(s)},Common.storeSet=function(e,t){window.localStorage.setItem(e,t)},Common.storeGet=function(e){return window.localStorage.getItem(e)},Common.storeRemove=function(e){window.localStorage.removeItem(e)},Common.arrayContainsArray=function(e,t){return 0!=t.length&&0!=e.length&&t.reduce(function(t,n){return t=e.includes(n)?t+1:t},0)==t.length},Common.untilCheck=function(e){var t=null;return new Promise(function(n,r){t=setInterval(function(){e()&&(clearInterval(t),t=null,n("done"))},60)})},Common.focus=function(e){switch(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"class"){case"class":document.getElementsByClassName(e)[0].focus();break;case"name":document.getElementsByName(e)[0].focus()}},window.Common=Common,exports.default=Common},function(e,t,n){(function(e,r){var i;
/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright JS Foundation and other contributors <https://js.foundation/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(){var o,a=200,s="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",u="Expected a function",l="__lodash_hash_undefined__",c=500,d="__lodash_placeholder__",f=1,h=2,p=4,m=1,g=2,y=1,v=2,b=4,_=8,w=16,k=32,E=64,x=128,S=256,M=512,T=30,C="...",A=800,O=16,N=1,L=2,j=1/0,P=9007199254740991,D=1.7976931348623157e308,I=NaN,R=4294967295,F=R-1,Y=R>>>1,B=[["ary",x],["bind",y],["bindKey",v],["curry",_],["curryRight",w],["flip",M],["partial",k],["partialRight",E],["rearg",S]],H="[object Arguments]",z="[object Array]",W="[object AsyncFunction]",U="[object Boolean]",V="[object Date]",G="[object DOMException]",q="[object Error]",K="[object Function]",$="[object GeneratorFunction]",X="[object Map]",J="[object Number]",Q="[object Null]",Z="[object Object]",ee="[object Proxy]",te="[object RegExp]",ne="[object Set]",re="[object String]",ie="[object Symbol]",oe="[object Undefined]",ae="[object WeakMap]",se="[object WeakSet]",ue="[object ArrayBuffer]",le="[object DataView]",ce="[object Float32Array]",de="[object Float64Array]",fe="[object Int8Array]",he="[object Int16Array]",pe="[object Int32Array]",me="[object Uint8Array]",ge="[object Uint8ClampedArray]",ye="[object Uint16Array]",ve="[object Uint32Array]",be=/\b__p \+= '';/g,_e=/\b(__p \+=) '' \+/g,we=/(__e\(.*?\)|\b__t\)) \+\n'';/g,ke=/&(?:amp|lt|gt|quot|#39);/g,Ee=/[&<>"']/g,xe=RegExp(ke.source),Se=RegExp(Ee.source),Me=/<%-([\s\S]+?)%>/g,Te=/<%([\s\S]+?)%>/g,Ce=/<%=([\s\S]+?)%>/g,Ae=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Oe=/^\w*$/,Ne=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Le=/[\\^$.*+?()[\]{}|]/g,je=RegExp(Le.source),Pe=/^\s+|\s+$/g,De=/^\s+/,Ie=/\s+$/,Re=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Fe=/\{\n\/\* \[wrapped with (.+)\] \*/,Ye=/,? & /,Be=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,He=/\\(\\)?/g,ze=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,We=/\w*$/,Ue=/^[-+]0x[0-9a-f]+$/i,Ve=/^0b[01]+$/i,Ge=/^\[object .+?Constructor\]$/,qe=/^0o[0-7]+$/i,Ke=/^(?:0|[1-9]\d*)$/,$e=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Xe=/($^)/,Je=/['\n\r\u2028\u2029\\]/g,Qe="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Ze="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",et="[\\ud800-\\udfff]",tt="["+Ze+"]",nt="["+Qe+"]",rt="\\d+",it="[\\u2700-\\u27bf]",ot="[a-z\\xdf-\\xf6\\xf8-\\xff]",at="[^\\ud800-\\udfff"+Ze+rt+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",st="\\ud83c[\\udffb-\\udfff]",ut="[^\\ud800-\\udfff]",lt="(?:\\ud83c[\\udde6-\\uddff]){2}",ct="[\\ud800-\\udbff][\\udc00-\\udfff]",dt="[A-Z\\xc0-\\xd6\\xd8-\\xde]",ft="(?:"+ot+"|"+at+")",ht="(?:"+dt+"|"+at+")",pt="(?:"+nt+"|"+st+")"+"?",mt="[\\ufe0e\\ufe0f]?"+pt+("(?:\\u200d(?:"+[ut,lt,ct].join("|")+")[\\ufe0e\\ufe0f]?"+pt+")*"),gt="(?:"+[it,lt,ct].join("|")+")"+mt,yt="(?:"+[ut+nt+"?",nt,lt,ct,et].join("|")+")",vt=RegExp("[']","g"),bt=RegExp(nt,"g"),_t=RegExp(st+"(?="+st+")|"+yt+mt,"g"),wt=RegExp([dt+"?"+ot+"+(?:['](?:d|ll|m|re|s|t|ve))?(?="+[tt,dt,"$"].join("|")+")",ht+"+(?:['](?:D|LL|M|RE|S|T|VE))?(?="+[tt,dt+ft,"$"].join("|")+")",dt+"?"+ft+"+(?:['](?:d|ll|m|re|s|t|ve))?",dt+"+(?:['](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",rt,gt].join("|"),"g"),kt=RegExp("[\\u200d\\ud800-\\udfff"+Qe+"\\ufe0e\\ufe0f]"),Et=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,xt=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],St=-1,Mt={};Mt[ce]=Mt[de]=Mt[fe]=Mt[he]=Mt[pe]=Mt[me]=Mt[ge]=Mt[ye]=Mt[ve]=!0,Mt[H]=Mt[z]=Mt[ue]=Mt[U]=Mt[le]=Mt[V]=Mt[q]=Mt[K]=Mt[X]=Mt[J]=Mt[Z]=Mt[te]=Mt[ne]=Mt[re]=Mt[ae]=!1;var Tt={};Tt[H]=Tt[z]=Tt[ue]=Tt[le]=Tt[U]=Tt[V]=Tt[ce]=Tt[de]=Tt[fe]=Tt[he]=Tt[pe]=Tt[X]=Tt[J]=Tt[Z]=Tt[te]=Tt[ne]=Tt[re]=Tt[ie]=Tt[me]=Tt[ge]=Tt[ye]=Tt[ve]=!0,Tt[q]=Tt[K]=Tt[ae]=!1;var Ct={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},At=parseFloat,Ot=parseInt,Nt="object"==typeof e&&e&&e.Object===Object&&e,Lt="object"==typeof self&&self&&self.Object===Object&&self,jt=Nt||Lt||Function("return this")(),Pt="object"==typeof t&&t&&!t.nodeType&&t,Dt=Pt&&"object"==typeof r&&r&&!r.nodeType&&r,It=Dt&&Dt.exports===Pt,Rt=It&&Nt.process,Ft=function(){try{var e=Dt&&Dt.require&&Dt.require("util").types;return e||Rt&&Rt.binding&&Rt.binding("util")}catch(e){}}(),Yt=Ft&&Ft.isArrayBuffer,Bt=Ft&&Ft.isDate,Ht=Ft&&Ft.isMap,zt=Ft&&Ft.isRegExp,Wt=Ft&&Ft.isSet,Ut=Ft&&Ft.isTypedArray;function Vt(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function Gt(e,t,n,r){for(var i=-1,o=null==e?0:e.length;++i<o;){var a=e[i];t(r,a,n(a),e)}return r}function qt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function Kt(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function $t(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function Xt(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o}function Jt(e,t){return!!(null==e?0:e.length)&&un(e,t,0)>-1}function Qt(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}function Zt(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}function en(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function tn(e,t,n,r){var i=-1,o=null==e?0:e.length;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n}function nn(e,t,n,r){var i=null==e?0:e.length;for(r&&i&&(n=e[--i]);i--;)n=t(n,e[i],i,e);return n}function rn(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var on=fn("length");function an(e,t,n){var r;return n(e,function(e,n,i){if(t(e,n,i))return r=n,!1}),r}function sn(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}function un(e,t,n){return t==t?function(e,t,n){var r=n-1,i=e.length;for(;++r<i;)if(e[r]===t)return r;return-1}(e,t,n):sn(e,cn,n)}function ln(e,t,n,r){for(var i=n-1,o=e.length;++i<o;)if(r(e[i],t))return i;return-1}function cn(e){return e!=e}function dn(e,t){var n=null==e?0:e.length;return n?mn(e,t)/n:I}function fn(e){return function(t){return null==t?o:t[e]}}function hn(e){return function(t){return null==e?o:e[t]}}function pn(e,t,n,r,i){return i(e,function(e,i,o){n=r?(r=!1,e):t(n,e,i,o)}),n}function mn(e,t){for(var n,r=-1,i=e.length;++r<i;){var a=t(e[r]);a!==o&&(n=n===o?a:n+a)}return n}function gn(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function yn(e){return function(t){return e(t)}}function vn(e,t){return Zt(t,function(t){return e[t]})}function bn(e,t){return e.has(t)}function _n(e,t){for(var n=-1,r=e.length;++n<r&&un(t,e[n],0)>-1;);return n}function wn(e,t){for(var n=e.length;n--&&un(t,e[n],0)>-1;);return n}var kn=hn({"":"A","":"A","":"A","":"A","":"A","":"A","":"a","":"a","":"a","":"a","":"a","":"a","":"C","":"c","":"D","":"d","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"N","":"n","":"O","":"O","":"O","":"O","":"O","":"O","":"o","":"o","":"o","":"o","":"o","":"o","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"Y","":"y","":"y","":"Ae","":"ae","":"Th","":"th","":"ss","":"A","":"A","":"A","":"a","":"a","":"a","":"C","":"C","":"C","":"C","":"c","":"c","":"c","":"c","":"D","":"D","":"d","":"d","":"E","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"e","":"G","":"G","":"G","":"G","":"g","":"g","":"g","":"g","":"H","":"H","":"h","":"h","":"I","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"i","":"J","":"j","":"K","":"k","":"k","":"L","":"L","":"L","":"L","":"L","":"l","":"l","":"l","":"l","":"l","":"N","":"N","":"N","":"N","":"n","":"n","":"n","":"n","":"O","":"O","":"O","":"o","":"o","":"o","":"R","":"R","":"R","":"r","":"r","":"r","":"S","":"S","":"S","":"S","":"s","":"s","":"s","":"s","":"T","":"T","":"T","":"t","":"t","":"t","":"U","":"U","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"u","":"u","":"W","":"w","":"Y","":"y","":"Y","":"Z","":"Z","":"Z","":"z","":"z","":"z","":"IJ","":"ij","":"Oe","":"oe","":"'n","":"s"}),En=hn({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function xn(e){return"\\"+Ct[e]}function Sn(e){return kt.test(e)}function Mn(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}function Tn(e,t){return function(n){return e(t(n))}}function Cn(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var a=e[n];a!==t&&a!==d||(e[n]=d,o[i++]=n)}return o}function An(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}function On(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=[e,e]}),n}function Nn(e){return Sn(e)?function(e){var t=_t.lastIndex=0;for(;_t.test(e);)++t;return t}(e):on(e)}function Ln(e){return Sn(e)?function(e){return e.match(_t)||[]}(e):function(e){return e.split("")}(e)}var jn=hn({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var Pn=function e(t){var n,r=(t=null==t?jt:Pn.defaults(jt.Object(),t,Pn.pick(jt,xt))).Array,i=t.Date,Qe=t.Error,Ze=t.Function,et=t.Math,tt=t.Object,nt=t.RegExp,rt=t.String,it=t.TypeError,ot=r.prototype,at=Ze.prototype,st=tt.prototype,ut=t["__core-js_shared__"],lt=at.toString,ct=st.hasOwnProperty,dt=0,ft=(n=/[^.]+$/.exec(ut&&ut.keys&&ut.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",ht=st.toString,pt=lt.call(tt),mt=jt._,gt=nt("^"+lt.call(ct).replace(Le,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),yt=It?t.Buffer:o,_t=t.Symbol,kt=t.Uint8Array,Ct=yt?yt.allocUnsafe:o,Nt=Tn(tt.getPrototypeOf,tt),Lt=tt.create,Pt=st.propertyIsEnumerable,Dt=ot.splice,Rt=_t?_t.isConcatSpreadable:o,Ft=_t?_t.iterator:o,on=_t?_t.toStringTag:o,hn=function(){try{var e=Yo(tt,"defineProperty");return e({},"",{}),e}catch(e){}}(),Dn=t.clearTimeout!==jt.clearTimeout&&t.clearTimeout,In=i&&i.now!==jt.Date.now&&i.now,Rn=t.setTimeout!==jt.setTimeout&&t.setTimeout,Fn=et.ceil,Yn=et.floor,Bn=tt.getOwnPropertySymbols,Hn=yt?yt.isBuffer:o,zn=t.isFinite,Wn=ot.join,Un=Tn(tt.keys,tt),Vn=et.max,Gn=et.min,qn=i.now,Kn=t.parseInt,$n=et.random,Xn=ot.reverse,Jn=Yo(t,"DataView"),Qn=Yo(t,"Map"),Zn=Yo(t,"Promise"),er=Yo(t,"Set"),tr=Yo(t,"WeakMap"),nr=Yo(tt,"create"),rr=tr&&new tr,ir={},or=da(Jn),ar=da(Qn),sr=da(Zn),ur=da(er),lr=da(tr),cr=_t?_t.prototype:o,dr=cr?cr.valueOf:o,fr=cr?cr.toString:o;function hr(e){if(Cs(e)&&!ys(e)&&!(e instanceof yr)){if(e instanceof gr)return e;if(ct.call(e,"__wrapped__"))return fa(e)}return new gr(e)}var pr=function(){function e(){}return function(t){if(!Ts(t))return{};if(Lt)return Lt(t);e.prototype=t;var n=new e;return e.prototype=o,n}}();function mr(){}function gr(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=o}function yr(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=R,this.__views__=[]}function vr(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function br(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function _r(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function wr(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new _r;++t<n;)this.add(e[t])}function kr(e){var t=this.__data__=new br(e);this.size=t.size}function Er(e,t){var n=ys(e),r=!n&&gs(e),i=!n&&!r&&ws(e),o=!n&&!r&&!i&&Is(e),a=n||r||i||o,s=a?gn(e.length,rt):[],u=s.length;for(var l in e)!t&&!ct.call(e,l)||a&&("length"==l||i&&("offset"==l||"parent"==l)||o&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||Go(l,u))||s.push(l);return s}function xr(e){var t=e.length;return t?e[wi(0,t-1)]:o}function Sr(e,t){return ua(no(e),Pr(t,0,e.length))}function Mr(e){return ua(no(e))}function Tr(e,t,n){(n===o||hs(e[t],n))&&(n!==o||t in e)||Lr(e,t,n)}function Cr(e,t,n){var r=e[t];ct.call(e,t)&&hs(r,n)&&(n!==o||t in e)||Lr(e,t,n)}function Ar(e,t){for(var n=e.length;n--;)if(hs(e[n][0],t))return n;return-1}function Or(e,t,n,r){return Yr(e,function(e,i,o){t(r,e,n(e),o)}),r}function Nr(e,t){return e&&ro(t,iu(t),e)}function Lr(e,t,n){"__proto__"==t&&hn?hn(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function jr(e,t){for(var n=-1,i=t.length,a=r(i),s=null==e;++n<i;)a[n]=s?o:Zs(e,t[n]);return a}function Pr(e,t,n){return e==e&&(n!==o&&(e=e<=n?e:n),t!==o&&(e=e>=t?e:t)),e}function Dr(e,t,n,r,i,a){var s,u=t&f,l=t&h,c=t&p;if(n&&(s=i?n(e,r,i,a):n(e)),s!==o)return s;if(!Ts(e))return e;var d=ys(e);if(d){if(s=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&ct.call(e,"index")&&(n.index=e.index,n.input=e.input),n}(e),!u)return no(e,s)}else{var m=zo(e),g=m==K||m==$;if(ws(e))return Xi(e,u);if(m==Z||m==H||g&&!i){if(s=l||g?{}:Uo(e),!u)return l?function(e,t){return ro(e,Ho(e),t)}(e,function(e,t){return e&&ro(t,ou(t),e)}(s,e)):function(e,t){return ro(e,Bo(e),t)}(e,Nr(s,e))}else{if(!Tt[m])return i?e:{};s=function(e,t,n){var r,i,o,a=e.constructor;switch(t){case ue:return Ji(e);case U:case V:return new a(+e);case le:return function(e,t){var n=t?Ji(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case ce:case de:case fe:case he:case pe:case me:case ge:case ye:case ve:return Qi(e,n);case X:return new a;case J:case re:return new a(e);case te:return(o=new(i=e).constructor(i.source,We.exec(i))).lastIndex=i.lastIndex,o;case ne:return new a;case ie:return r=e,dr?tt(dr.call(r)):{}}}(e,m,u)}}a||(a=new kr);var y=a.get(e);if(y)return y;if(a.set(e,s),js(e))return e.forEach(function(r){s.add(Dr(r,t,n,r,e,a))}),s;if(As(e))return e.forEach(function(r,i){s.set(i,Dr(r,t,n,i,e,a))}),s;var v=d?o:(c?l?Lo:No:l?ou:iu)(e);return qt(v||e,function(r,i){v&&(r=e[i=r]),Cr(s,i,Dr(r,t,n,i,e,a))}),s}function Ir(e,t,n){var r=n.length;if(null==e)return!r;for(e=tt(e);r--;){var i=n[r],a=t[i],s=e[i];if(s===o&&!(i in e)||!a(s))return!1}return!0}function Rr(e,t,n){if("function"!=typeof e)throw new it(u);return ia(function(){e.apply(o,n)},t)}function Fr(e,t,n,r){var i=-1,o=Jt,s=!0,u=e.length,l=[],c=t.length;if(!u)return l;n&&(t=Zt(t,yn(n))),r?(o=Qt,s=!1):t.length>=a&&(o=bn,s=!1,t=new wr(t));e:for(;++i<u;){var d=e[i],f=null==n?d:n(d);if(d=r||0!==d?d:0,s&&f==f){for(var h=c;h--;)if(t[h]===f)continue e;l.push(d)}else o(t,f,r)||l.push(d)}return l}hr.templateSettings={escape:Me,evaluate:Te,interpolate:Ce,variable:"",imports:{_:hr}},hr.prototype=mr.prototype,hr.prototype.constructor=hr,gr.prototype=pr(mr.prototype),gr.prototype.constructor=gr,yr.prototype=pr(mr.prototype),yr.prototype.constructor=yr,vr.prototype.clear=function(){this.__data__=nr?nr(null):{},this.size=0},vr.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},vr.prototype.get=function(e){var t=this.__data__;if(nr){var n=t[e];return n===l?o:n}return ct.call(t,e)?t[e]:o},vr.prototype.has=function(e){var t=this.__data__;return nr?t[e]!==o:ct.call(t,e)},vr.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=nr&&t===o?l:t,this},br.prototype.clear=function(){this.__data__=[],this.size=0},br.prototype.delete=function(e){var t=this.__data__,n=Ar(t,e);return!(n<0||(n==t.length-1?t.pop():Dt.call(t,n,1),--this.size,0))},br.prototype.get=function(e){var t=this.__data__,n=Ar(t,e);return n<0?o:t[n][1]},br.prototype.has=function(e){return Ar(this.__data__,e)>-1},br.prototype.set=function(e,t){var n=this.__data__,r=Ar(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},_r.prototype.clear=function(){this.size=0,this.__data__={hash:new vr,map:new(Qn||br),string:new vr}},_r.prototype.delete=function(e){var t=Ro(this,e).delete(e);return this.size-=t?1:0,t},_r.prototype.get=function(e){return Ro(this,e).get(e)},_r.prototype.has=function(e){return Ro(this,e).has(e)},_r.prototype.set=function(e,t){var n=Ro(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},wr.prototype.add=wr.prototype.push=function(e){return this.__data__.set(e,l),this},wr.prototype.has=function(e){return this.__data__.has(e)},kr.prototype.clear=function(){this.__data__=new br,this.size=0},kr.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},kr.prototype.get=function(e){return this.__data__.get(e)},kr.prototype.has=function(e){return this.__data__.has(e)},kr.prototype.set=function(e,t){var n=this.__data__;if(n instanceof br){var r=n.__data__;if(!Qn||r.length<a-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new _r(r)}return n.set(e,t),this.size=n.size,this};var Yr=ao(qr),Br=ao(Kr,!0);function Hr(e,t){var n=!0;return Yr(e,function(e,r,i){return n=!!t(e,r,i)}),n}function zr(e,t,n){for(var r=-1,i=e.length;++r<i;){var a=e[r],s=t(a);if(null!=s&&(u===o?s==s&&!Ds(s):n(s,u)))var u=s,l=a}return l}function Wr(e,t){var n=[];return Yr(e,function(e,r,i){t(e,r,i)&&n.push(e)}),n}function Ur(e,t,n,r,i){var o=-1,a=e.length;for(n||(n=Vo),i||(i=[]);++o<a;){var s=e[o];t>0&&n(s)?t>1?Ur(s,t-1,n,r,i):en(i,s):r||(i[i.length]=s)}return i}var Vr=so(),Gr=so(!0);function qr(e,t){return e&&Vr(e,t,iu)}function Kr(e,t){return e&&Gr(e,t,iu)}function $r(e,t){return Xt(t,function(t){return xs(e[t])})}function Xr(e,t){for(var n=0,r=(t=Gi(t,e)).length;null!=e&&n<r;)e=e[ca(t[n++])];return n&&n==r?e:o}function Jr(e,t,n){var r=t(e);return ys(e)?r:en(r,n(e))}function Qr(e){return null==e?e===o?oe:Q:on&&on in tt(e)?function(e){var t=ct.call(e,on),n=e[on];try{e[on]=o;var r=!0}catch(e){}var i=ht.call(e);return r&&(t?e[on]=n:delete e[on]),i}(e):function(e){return ht.call(e)}(e)}function Zr(e,t){return e>t}function ei(e,t){return null!=e&&ct.call(e,t)}function ti(e,t){return null!=e&&t in tt(e)}function ni(e,t,n){for(var i=n?Qt:Jt,a=e[0].length,s=e.length,u=s,l=r(s),c=1/0,d=[];u--;){var f=e[u];u&&t&&(f=Zt(f,yn(t))),c=Gn(f.length,c),l[u]=!n&&(t||a>=120&&f.length>=120)?new wr(u&&f):o}f=e[0];var h=-1,p=l[0];e:for(;++h<a&&d.length<c;){var m=f[h],g=t?t(m):m;if(m=n||0!==m?m:0,!(p?bn(p,g):i(d,g,n))){for(u=s;--u;){var y=l[u];if(!(y?bn(y,g):i(e[u],g,n)))continue e}p&&p.push(g),d.push(m)}}return d}function ri(e,t,n){var r=null==(e=ta(e,t=Gi(t,e)))?e:e[ca(Ea(t))];return null==r?o:Vt(r,e,n)}function ii(e){return Cs(e)&&Qr(e)==H}function oi(e,t,n,r,i){return e===t||(null==e||null==t||!Cs(e)&&!Cs(t)?e!=e&&t!=t:function(e,t,n,r,i,a){var s=ys(e),u=ys(t),l=s?z:zo(e),c=u?z:zo(t),d=(l=l==H?Z:l)==Z,f=(c=c==H?Z:c)==Z,h=l==c;if(h&&ws(e)){if(!ws(t))return!1;s=!0,d=!1}if(h&&!d)return a||(a=new kr),s||Is(e)?Ao(e,t,n,r,i,a):function(e,t,n,r,i,o,a){switch(n){case le:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case ue:return!(e.byteLength!=t.byteLength||!o(new kt(e),new kt(t)));case U:case V:case J:return hs(+e,+t);case q:return e.name==t.name&&e.message==t.message;case te:case re:return e==t+"";case X:var s=Mn;case ne:var u=r&m;if(s||(s=An),e.size!=t.size&&!u)return!1;var l=a.get(e);if(l)return l==t;r|=g,a.set(e,t);var c=Ao(s(e),s(t),r,i,o,a);return a.delete(e),c;case ie:if(dr)return dr.call(e)==dr.call(t)}return!1}(e,t,l,n,r,i,a);if(!(n&m)){var p=d&&ct.call(e,"__wrapped__"),y=f&&ct.call(t,"__wrapped__");if(p||y){var v=p?e.value():e,b=y?t.value():t;return a||(a=new kr),i(v,b,n,r,a)}}return!!h&&(a||(a=new kr),function(e,t,n,r,i,a){var s=n&m,u=No(e),l=u.length,c=No(t).length;if(l!=c&&!s)return!1;for(var d=l;d--;){var f=u[d];if(!(s?f in t:ct.call(t,f)))return!1}var h=a.get(e);if(h&&a.get(t))return h==t;var p=!0;a.set(e,t),a.set(t,e);for(var g=s;++d<l;){f=u[d];var y=e[f],v=t[f];if(r)var b=s?r(v,y,f,t,e,a):r(y,v,f,e,t,a);if(!(b===o?y===v||i(y,v,n,r,a):b)){p=!1;break}g||(g="constructor"==f)}if(p&&!g){var _=e.constructor,w=t.constructor;_!=w&&"constructor"in e&&"constructor"in t&&!("function"==typeof _&&_ instanceof _&&"function"==typeof w&&w instanceof w)&&(p=!1)}return a.delete(e),a.delete(t),p}(e,t,n,r,i,a))}(e,t,n,r,oi,i))}function ai(e,t,n,r){var i=n.length,a=i,s=!r;if(null==e)return!a;for(e=tt(e);i--;){var u=n[i];if(s&&u[2]?u[1]!==e[u[0]]:!(u[0]in e))return!1}for(;++i<a;){var l=(u=n[i])[0],c=e[l],d=u[1];if(s&&u[2]){if(c===o&&!(l in e))return!1}else{var f=new kr;if(r)var h=r(c,d,l,e,t,f);if(!(h===o?oi(d,c,m|g,r,f):h))return!1}}return!0}function si(e){return!(!Ts(e)||ft&&ft in e)&&(xs(e)?gt:Ge).test(da(e))}function ui(e){return"function"==typeof e?e:null==e?Ou:"object"==typeof e?ys(e)?pi(e[0],e[1]):hi(e):Yu(e)}function li(e){if(!Jo(e))return Un(e);var t=[];for(var n in tt(e))ct.call(e,n)&&"constructor"!=n&&t.push(n);return t}function ci(e){if(!Ts(e))return function(e){var t=[];if(null!=e)for(var n in tt(e))t.push(n);return t}(e);var t=Jo(e),n=[];for(var r in e)("constructor"!=r||!t&&ct.call(e,r))&&n.push(r);return n}function di(e,t){return e<t}function fi(e,t){var n=-1,i=bs(e)?r(e.length):[];return Yr(e,function(e,r,o){i[++n]=t(e,r,o)}),i}function hi(e){var t=Fo(e);return 1==t.length&&t[0][2]?Zo(t[0][0],t[0][1]):function(n){return n===e||ai(n,e,t)}}function pi(e,t){return Ko(e)&&Qo(t)?Zo(ca(e),t):function(n){var r=Zs(n,e);return r===o&&r===t?eu(n,e):oi(t,r,m|g)}}function mi(e,t,n,r,i){e!==t&&Vr(t,function(a,s){if(Ts(a))i||(i=new kr),function(e,t,n,r,i,a,s){var u=na(e,n),l=na(t,n),c=s.get(l);if(c)Tr(e,n,c);else{var d=a?a(u,l,n+"",e,t,s):o,f=d===o;if(f){var h=ys(l),p=!h&&ws(l),m=!h&&!p&&Is(l);d=l,h||p||m?ys(u)?d=u:_s(u)?d=no(u):p?(f=!1,d=Xi(l,!0)):m?(f=!1,d=Qi(l,!0)):d=[]:Ns(l)||gs(l)?(d=u,gs(u)?d=Us(u):Ts(u)&&!xs(u)||(d=Uo(l))):f=!1}f&&(s.set(l,d),i(d,l,r,a,s),s.delete(l)),Tr(e,n,d)}}(e,t,s,n,mi,r,i);else{var u=r?r(na(e,s),a,s+"",e,t,i):o;u===o&&(u=a),Tr(e,s,u)}},ou)}function gi(e,t){var n=e.length;if(n)return Go(t+=t<0?n:0,n)?e[t]:o}function yi(e,t,n){var r=-1;return t=Zt(t.length?t:[Ou],yn(Io())),function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}(fi(e,function(e,n,i){return{criteria:Zt(t,function(t){return t(e)}),index:++r,value:e}}),function(e,t){return function(e,t,n){for(var r=-1,i=e.criteria,o=t.criteria,a=i.length,s=n.length;++r<a;){var u=Zi(i[r],o[r]);if(u){if(r>=s)return u;var l=n[r];return u*("desc"==l?-1:1)}}return e.index-t.index}(e,t,n)})}function vi(e,t,n){for(var r=-1,i=t.length,o={};++r<i;){var a=t[r],s=Xr(e,a);n(s,a)&&Mi(o,Gi(a,e),s)}return o}function bi(e,t,n,r){var i=r?ln:un,o=-1,a=t.length,s=e;for(e===t&&(t=no(t)),n&&(s=Zt(e,yn(n)));++o<a;)for(var u=0,l=t[o],c=n?n(l):l;(u=i(s,c,u,r))>-1;)s!==e&&Dt.call(s,u,1),Dt.call(e,u,1);return e}function _i(e,t){for(var n=e?t.length:0,r=n-1;n--;){var i=t[n];if(n==r||i!==o){var o=i;Go(i)?Dt.call(e,i,1):Fi(e,i)}}return e}function wi(e,t){return e+Yn($n()*(t-e+1))}function ki(e,t){var n="";if(!e||t<1||t>P)return n;do{t%2&&(n+=e),(t=Yn(t/2))&&(e+=e)}while(t);return n}function Ei(e,t){return oa(ea(e,t,Ou),e+"")}function xi(e){return xr(hu(e))}function Si(e,t){var n=hu(e);return ua(n,Pr(t,0,n.length))}function Mi(e,t,n,r){if(!Ts(e))return e;for(var i=-1,a=(t=Gi(t,e)).length,s=a-1,u=e;null!=u&&++i<a;){var l=ca(t[i]),c=n;if(i!=s){var d=u[l];(c=r?r(d,l,u):o)===o&&(c=Ts(d)?d:Go(t[i+1])?[]:{})}Cr(u,l,c),u=u[l]}return e}var Ti=rr?function(e,t){return rr.set(e,t),e}:Ou,Ci=hn?function(e,t){return hn(e,"toString",{configurable:!0,enumerable:!1,value:Tu(t),writable:!0})}:Ou;function Ai(e){return ua(hu(e))}function Oi(e,t,n){var i=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(n=n>o?o:n)<0&&(n+=o),o=t>n?0:n-t>>>0,t>>>=0;for(var a=r(o);++i<o;)a[i]=e[i+t];return a}function Ni(e,t){var n;return Yr(e,function(e,r,i){return!(n=t(e,r,i))}),!!n}function Li(e,t,n){var r=0,i=null==e?r:e.length;if("number"==typeof t&&t==t&&i<=Y){for(;r<i;){var o=r+i>>>1,a=e[o];null!==a&&!Ds(a)&&(n?a<=t:a<t)?r=o+1:i=o}return i}return ji(e,t,Ou,n)}function ji(e,t,n,r){t=n(t);for(var i=0,a=null==e?0:e.length,s=t!=t,u=null===t,l=Ds(t),c=t===o;i<a;){var d=Yn((i+a)/2),f=n(e[d]),h=f!==o,p=null===f,m=f==f,g=Ds(f);if(s)var y=r||m;else y=c?m&&(r||h):u?m&&h&&(r||!p):l?m&&h&&!p&&(r||!g):!p&&!g&&(r?f<=t:f<t);y?i=d+1:a=d}return Gn(a,F)}function Pi(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var a=e[n],s=t?t(a):a;if(!n||!hs(s,u)){var u=s;o[i++]=0===a?0:a}}return o}function Di(e){return"number"==typeof e?e:Ds(e)?I:+e}function Ii(e){if("string"==typeof e)return e;if(ys(e))return Zt(e,Ii)+"";if(Ds(e))return fr?fr.call(e):"";var t=e+"";return"0"==t&&1/e==-j?"-0":t}function Ri(e,t,n){var r=-1,i=Jt,o=e.length,s=!0,u=[],l=u;if(n)s=!1,i=Qt;else if(o>=a){var c=t?null:Eo(e);if(c)return An(c);s=!1,i=bn,l=new wr}else l=t?[]:u;e:for(;++r<o;){var d=e[r],f=t?t(d):d;if(d=n||0!==d?d:0,s&&f==f){for(var h=l.length;h--;)if(l[h]===f)continue e;t&&l.push(f),u.push(d)}else i(l,f,n)||(l!==u&&l.push(f),u.push(d))}return u}function Fi(e,t){return null==(e=ta(e,t=Gi(t,e)))||delete e[ca(Ea(t))]}function Yi(e,t,n,r){return Mi(e,t,n(Xr(e,t)),r)}function Bi(e,t,n,r){for(var i=e.length,o=r?i:-1;(r?o--:++o<i)&&t(e[o],o,e););return n?Oi(e,r?0:o,r?o+1:i):Oi(e,r?o+1:0,r?i:o)}function Hi(e,t){var n=e;return n instanceof yr&&(n=n.value()),tn(t,function(e,t){return t.func.apply(t.thisArg,en([e],t.args))},n)}function zi(e,t,n){var i=e.length;if(i<2)return i?Ri(e[0]):[];for(var o=-1,a=r(i);++o<i;)for(var s=e[o],u=-1;++u<i;)u!=o&&(a[o]=Fr(a[o]||s,e[u],t,n));return Ri(Ur(a,1),t,n)}function Wi(e,t,n){for(var r=-1,i=e.length,a=t.length,s={};++r<i;){var u=r<a?t[r]:o;n(s,e[r],u)}return s}function Ui(e){return _s(e)?e:[]}function Vi(e){return"function"==typeof e?e:Ou}function Gi(e,t){return ys(e)?e:Ko(e,t)?[e]:la(Vs(e))}var qi=Ei;function Ki(e,t,n){var r=e.length;return n=n===o?r:n,!t&&n>=r?e:Oi(e,t,n)}var $i=Dn||function(e){return jt.clearTimeout(e)};function Xi(e,t){if(t)return e.slice();var n=e.length,r=Ct?Ct(n):new e.constructor(n);return e.copy(r),r}function Ji(e){var t=new e.constructor(e.byteLength);return new kt(t).set(new kt(e)),t}function Qi(e,t){var n=t?Ji(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function Zi(e,t){if(e!==t){var n=e!==o,r=null===e,i=e==e,a=Ds(e),s=t!==o,u=null===t,l=t==t,c=Ds(t);if(!u&&!c&&!a&&e>t||a&&s&&l&&!u&&!c||r&&s&&l||!n&&l||!i)return 1;if(!r&&!a&&!c&&e<t||c&&n&&i&&!r&&!a||u&&n&&i||!s&&i||!l)return-1}return 0}function eo(e,t,n,i){for(var o=-1,a=e.length,s=n.length,u=-1,l=t.length,c=Vn(a-s,0),d=r(l+c),f=!i;++u<l;)d[u]=t[u];for(;++o<s;)(f||o<a)&&(d[n[o]]=e[o]);for(;c--;)d[u++]=e[o++];return d}function to(e,t,n,i){for(var o=-1,a=e.length,s=-1,u=n.length,l=-1,c=t.length,d=Vn(a-u,0),f=r(d+c),h=!i;++o<d;)f[o]=e[o];for(var p=o;++l<c;)f[p+l]=t[l];for(;++s<u;)(h||o<a)&&(f[p+n[s]]=e[o++]);return f}function no(e,t){var n=-1,i=e.length;for(t||(t=r(i));++n<i;)t[n]=e[n];return t}function ro(e,t,n,r){var i=!n;n||(n={});for(var a=-1,s=t.length;++a<s;){var u=t[a],l=r?r(n[u],e[u],u,n,e):o;l===o&&(l=e[u]),i?Lr(n,u,l):Cr(n,u,l)}return n}function io(e,t){return function(n,r){var i=ys(n)?Gt:Or,o=t?t():{};return i(n,e,Io(r,2),o)}}function oo(e){return Ei(function(t,n){var r=-1,i=n.length,a=i>1?n[i-1]:o,s=i>2?n[2]:o;for(a=e.length>3&&"function"==typeof a?(i--,a):o,s&&qo(n[0],n[1],s)&&(a=i<3?o:a,i=1),t=tt(t);++r<i;){var u=n[r];u&&e(t,u,r,a)}return t})}function ao(e,t){return function(n,r){if(null==n)return n;if(!bs(n))return e(n,r);for(var i=n.length,o=t?i:-1,a=tt(n);(t?o--:++o<i)&&!1!==r(a[o],o,a););return n}}function so(e){return function(t,n,r){for(var i=-1,o=tt(t),a=r(t),s=a.length;s--;){var u=a[e?s:++i];if(!1===n(o[u],u,o))break}return t}}function uo(e){return function(t){var n=Sn(t=Vs(t))?Ln(t):o,r=n?n[0]:t.charAt(0),i=n?Ki(n,1).join(""):t.slice(1);return r[e]()+i}}function lo(e){return function(t){return tn(xu(gu(t).replace(vt,"")),e,"")}}function co(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=pr(e.prototype),r=e.apply(n,t);return Ts(r)?r:n}}function fo(e){return function(t,n,r){var i=tt(t);if(!bs(t)){var a=Io(n,3);t=iu(t),n=function(e){return a(i[e],e,i)}}var s=e(t,n,r);return s>-1?i[a?t[s]:s]:o}}function ho(e){return Oo(function(t){var n=t.length,r=n,i=gr.prototype.thru;for(e&&t.reverse();r--;){var a=t[r];if("function"!=typeof a)throw new it(u);if(i&&!s&&"wrapper"==Po(a))var s=new gr([],!0)}for(r=s?r:n;++r<n;){var l=Po(a=t[r]),c="wrapper"==l?jo(a):o;s=c&&$o(c[0])&&c[1]==(x|_|k|S)&&!c[4].length&&1==c[9]?s[Po(c[0])].apply(s,c[3]):1==a.length&&$o(a)?s[l]():s.thru(a)}return function(){var e=arguments,r=e[0];if(s&&1==e.length&&ys(r))return s.plant(r).value();for(var i=0,o=n?t[i].apply(this,e):r;++i<n;)o=t[i].call(this,o);return o}})}function po(e,t,n,i,a,s,u,l,c,d){var f=t&x,h=t&y,p=t&v,m=t&(_|w),g=t&M,b=p?o:co(e);return function y(){for(var v=arguments.length,_=r(v),w=v;w--;)_[w]=arguments[w];if(m)var k=Do(y),E=function(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}(_,k);if(i&&(_=eo(_,i,a,m)),s&&(_=to(_,s,u,m)),v-=E,m&&v<d){var x=Cn(_,k);return wo(e,t,po,y.placeholder,n,_,x,l,c,d-v)}var S=h?n:this,M=p?S[e]:e;return v=_.length,l?_=function(e,t){for(var n=e.length,r=Gn(t.length,n),i=no(e);r--;){var a=t[r];e[r]=Go(a,n)?i[a]:o}return e}(_,l):g&&v>1&&_.reverse(),f&&c<v&&(_.length=c),this&&this!==jt&&this instanceof y&&(M=b||co(M)),M.apply(S,_)}}function mo(e,t){return function(n,r){return function(e,t,n,r){return qr(e,function(e,i,o){t(r,n(e),i,o)}),r}(n,e,t(r),{})}}function go(e,t){return function(n,r){var i;if(n===o&&r===o)return t;if(n!==o&&(i=n),r!==o){if(i===o)return r;"string"==typeof n||"string"==typeof r?(n=Ii(n),r=Ii(r)):(n=Di(n),r=Di(r)),i=e(n,r)}return i}}function yo(e){return Oo(function(t){return t=Zt(t,yn(Io())),Ei(function(n){var r=this;return e(t,function(e){return Vt(e,r,n)})})})}function vo(e,t){var n=(t=t===o?" ":Ii(t)).length;if(n<2)return n?ki(t,e):t;var r=ki(t,Fn(e/Nn(t)));return Sn(t)?Ki(Ln(r),0,e).join(""):r.slice(0,e)}function bo(e){return function(t,n,i){return i&&"number"!=typeof i&&qo(t,n,i)&&(n=i=o),t=Bs(t),n===o?(n=t,t=0):n=Bs(n),function(e,t,n,i){for(var o=-1,a=Vn(Fn((t-e)/(n||1)),0),s=r(a);a--;)s[i?a:++o]=e,e+=n;return s}(t,n,i=i===o?t<n?1:-1:Bs(i),e)}}function _o(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=Ws(t),n=Ws(n)),e(t,n)}}function wo(e,t,n,r,i,a,s,u,l,c){var d=t&_;t|=d?k:E,(t&=~(d?E:k))&b||(t&=~(y|v));var f=[e,t,i,d?a:o,d?s:o,d?o:a,d?o:s,u,l,c],h=n.apply(o,f);return $o(e)&&ra(h,f),h.placeholder=r,aa(h,e,t)}function ko(e){var t=et[e];return function(e,n){if(e=Ws(e),n=null==n?0:Gn(Hs(n),292)){var r=(Vs(e)+"e").split("e");return+((r=(Vs(t(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}var Eo=er&&1/An(new er([,-0]))[1]==j?function(e){return new er(e)}:Du;function xo(e){return function(t){var n=zo(t);return n==X?Mn(t):n==ne?On(t):function(e,t){return Zt(t,function(t){return[t,e[t]]})}(t,e(t))}}function So(e,t,n,i,a,s,l,c){var f=t&v;if(!f&&"function"!=typeof e)throw new it(u);var h=i?i.length:0;if(h||(t&=~(k|E),i=a=o),l=l===o?l:Vn(Hs(l),0),c=c===o?c:Hs(c),h-=a?a.length:0,t&E){var p=i,m=a;i=a=o}var g=f?o:jo(e),M=[e,t,n,i,a,p,m,s,l,c];if(g&&function(e,t){var n=e[1],r=t[1],i=n|r,o=i<(y|v|x),a=r==x&&n==_||r==x&&n==S&&e[7].length<=t[8]||r==(x|S)&&t[7].length<=t[8]&&n==_;if(!o&&!a)return e;r&y&&(e[2]=t[2],i|=n&y?0:b);var s=t[3];if(s){var u=e[3];e[3]=u?eo(u,s,t[4]):s,e[4]=u?Cn(e[3],d):t[4]}(s=t[5])&&(u=e[5],e[5]=u?to(u,s,t[6]):s,e[6]=u?Cn(e[5],d):t[6]),(s=t[7])&&(e[7]=s),r&x&&(e[8]=null==e[8]?t[8]:Gn(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=i}(M,g),e=M[0],t=M[1],n=M[2],i=M[3],a=M[4],!(c=M[9]=M[9]===o?f?0:e.length:Vn(M[9]-h,0))&&t&(_|w)&&(t&=~(_|w)),t&&t!=y)T=t==_||t==w?function(e,t,n){var i=co(e);return function a(){for(var s=arguments.length,u=r(s),l=s,c=Do(a);l--;)u[l]=arguments[l];var d=s<3&&u[0]!==c&&u[s-1]!==c?[]:Cn(u,c);return(s-=d.length)<n?wo(e,t,po,a.placeholder,o,u,d,o,o,n-s):Vt(this&&this!==jt&&this instanceof a?i:e,this,u)}}(e,t,c):t!=k&&t!=(y|k)||a.length?po.apply(o,M):function(e,t,n,i){var o=t&y,a=co(e);return function t(){for(var s=-1,u=arguments.length,l=-1,c=i.length,d=r(c+u),f=this&&this!==jt&&this instanceof t?a:e;++l<c;)d[l]=i[l];for(;u--;)d[l++]=arguments[++s];return Vt(f,o?n:this,d)}}(e,t,n,i);else var T=function(e,t,n){var r=t&y,i=co(e);return function t(){return(this&&this!==jt&&this instanceof t?i:e).apply(r?n:this,arguments)}}(e,t,n);return aa((g?Ti:ra)(T,M),e,t)}function Mo(e,t,n,r){return e===o||hs(e,st[n])&&!ct.call(r,n)?t:e}function To(e,t,n,r,i,a){return Ts(e)&&Ts(t)&&(a.set(t,e),mi(e,t,o,To,a),a.delete(t)),e}function Co(e){return Ns(e)?o:e}function Ao(e,t,n,r,i,a){var s=n&m,u=e.length,l=t.length;if(u!=l&&!(s&&l>u))return!1;var c=a.get(e);if(c&&a.get(t))return c==t;var d=-1,f=!0,h=n&g?new wr:o;for(a.set(e,t),a.set(t,e);++d<u;){var p=e[d],y=t[d];if(r)var v=s?r(y,p,d,t,e,a):r(p,y,d,e,t,a);if(v!==o){if(v)continue;f=!1;break}if(h){if(!rn(t,function(e,t){if(!bn(h,t)&&(p===e||i(p,e,n,r,a)))return h.push(t)})){f=!1;break}}else if(p!==y&&!i(p,y,n,r,a)){f=!1;break}}return a.delete(e),a.delete(t),f}function Oo(e){return oa(ea(e,o,va),e+"")}function No(e){return Jr(e,iu,Bo)}function Lo(e){return Jr(e,ou,Ho)}var jo=rr?function(e){return rr.get(e)}:Du;function Po(e){for(var t=e.name+"",n=ir[t],r=ct.call(ir,t)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==e)return i.name}return t}function Do(e){return(ct.call(hr,"placeholder")?hr:e).placeholder}function Io(){var e=hr.iteratee||Nu;return e=e===Nu?ui:e,arguments.length?e(arguments[0],arguments[1]):e}function Ro(e,t){var n,r,i=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof t?"string":"hash"]:i.map}function Fo(e){for(var t=iu(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,Qo(i)]}return t}function Yo(e,t){var n=function(e,t){return null==e?o:e[t]}(e,t);return si(n)?n:o}var Bo=Bn?function(e){return null==e?[]:(e=tt(e),Xt(Bn(e),function(t){return Pt.call(e,t)}))}:zu,Ho=Bn?function(e){for(var t=[];e;)en(t,Bo(e)),e=Nt(e);return t}:zu,zo=Qr;function Wo(e,t,n){for(var r=-1,i=(t=Gi(t,e)).length,o=!1;++r<i;){var a=ca(t[r]);if(!(o=null!=e&&n(e,a)))break;e=e[a]}return o||++r!=i?o:!!(i=null==e?0:e.length)&&Ms(i)&&Go(a,i)&&(ys(e)||gs(e))}function Uo(e){return"function"!=typeof e.constructor||Jo(e)?{}:pr(Nt(e))}function Vo(e){return ys(e)||gs(e)||!!(Rt&&e&&e[Rt])}function Go(e,t){var n=typeof e;return!!(t=null==t?P:t)&&("number"==n||"symbol"!=n&&Ke.test(e))&&e>-1&&e%1==0&&e<t}function qo(e,t,n){if(!Ts(n))return!1;var r=typeof t;return!!("number"==r?bs(n)&&Go(t,n.length):"string"==r&&t in n)&&hs(n[t],e)}function Ko(e,t){if(ys(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!Ds(e))||Oe.test(e)||!Ae.test(e)||null!=t&&e in tt(t)}function $o(e){var t=Po(e),n=hr[t];if("function"!=typeof n||!(t in yr.prototype))return!1;if(e===n)return!0;var r=jo(n);return!!r&&e===r[0]}(Jn&&zo(new Jn(new ArrayBuffer(1)))!=le||Qn&&zo(new Qn)!=X||Zn&&"[object Promise]"!=zo(Zn.resolve())||er&&zo(new er)!=ne||tr&&zo(new tr)!=ae)&&(zo=function(e){var t=Qr(e),n=t==Z?e.constructor:o,r=n?da(n):"";if(r)switch(r){case or:return le;case ar:return X;case sr:return"[object Promise]";case ur:return ne;case lr:return ae}return t});var Xo=ut?xs:Wu;function Jo(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||st)}function Qo(e){return e==e&&!Ts(e)}function Zo(e,t){return function(n){return null!=n&&n[e]===t&&(t!==o||e in tt(n))}}function ea(e,t,n){return t=Vn(t===o?e.length-1:t,0),function(){for(var i=arguments,o=-1,a=Vn(i.length-t,0),s=r(a);++o<a;)s[o]=i[t+o];o=-1;for(var u=r(t+1);++o<t;)u[o]=i[o];return u[t]=n(s),Vt(e,this,u)}}function ta(e,t){return t.length<2?e:Xr(e,Oi(t,0,-1))}function na(e,t){if("__proto__"!=t)return e[t]}var ra=sa(Ti),ia=Rn||function(e,t){return jt.setTimeout(e,t)},oa=sa(Ci);function aa(e,t,n){var r=t+"";return oa(e,function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(Re,"{\n/* [wrapped with "+t+"] */\n")}(r,function(e,t){return qt(B,function(n){var r="_."+n[0];t&n[1]&&!Jt(e,r)&&e.push(r)}),e.sort()}(function(e){var t=e.match(Fe);return t?t[1].split(Ye):[]}(r),n)))}function sa(e){var t=0,n=0;return function(){var r=qn(),i=O-(r-n);if(n=r,i>0){if(++t>=A)return arguments[0]}else t=0;return e.apply(o,arguments)}}function ua(e,t){var n=-1,r=e.length,i=r-1;for(t=t===o?r:t;++n<t;){var a=wi(n,i),s=e[a];e[a]=e[n],e[n]=s}return e.length=t,e}var la=function(e){var t=ss(e,function(e){return n.size===c&&n.clear(),e}),n=t.cache;return t}(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(Ne,function(e,n,r,i){t.push(r?i.replace(He,"$1"):n||e)}),t});function ca(e){if("string"==typeof e||Ds(e))return e;var t=e+"";return"0"==t&&1/e==-j?"-0":t}function da(e){if(null!=e){try{return lt.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function fa(e){if(e instanceof yr)return e.clone();var t=new gr(e.__wrapped__,e.__chain__);return t.__actions__=no(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var ha=Ei(function(e,t){return _s(e)?Fr(e,Ur(t,1,_s,!0)):[]}),pa=Ei(function(e,t){var n=Ea(t);return _s(n)&&(n=o),_s(e)?Fr(e,Ur(t,1,_s,!0),Io(n,2)):[]}),ma=Ei(function(e,t){var n=Ea(t);return _s(n)&&(n=o),_s(e)?Fr(e,Ur(t,1,_s,!0),o,n):[]});function ga(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:Hs(n);return i<0&&(i=Vn(r+i,0)),sn(e,Io(t,3),i)}function ya(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=r-1;return n!==o&&(i=Hs(n),i=n<0?Vn(r+i,0):Gn(i,r-1)),sn(e,Io(t,3),i,!0)}function va(e){return null!=e&&e.length?Ur(e,1):[]}function ba(e){return e&&e.length?e[0]:o}var _a=Ei(function(e){var t=Zt(e,Ui);return t.length&&t[0]===e[0]?ni(t):[]}),wa=Ei(function(e){var t=Ea(e),n=Zt(e,Ui);return t===Ea(n)?t=o:n.pop(),n.length&&n[0]===e[0]?ni(n,Io(t,2)):[]}),ka=Ei(function(e){var t=Ea(e),n=Zt(e,Ui);return(t="function"==typeof t?t:o)&&n.pop(),n.length&&n[0]===e[0]?ni(n,o,t):[]});function Ea(e){var t=null==e?0:e.length;return t?e[t-1]:o}var xa=Ei(Sa);function Sa(e,t){return e&&e.length&&t&&t.length?bi(e,t):e}var Ma=Oo(function(e,t){var n=null==e?0:e.length,r=jr(e,t);return _i(e,Zt(t,function(e){return Go(e,n)?+e:e}).sort(Zi)),r});function Ta(e){return null==e?e:Xn.call(e)}var Ca=Ei(function(e){return Ri(Ur(e,1,_s,!0))}),Aa=Ei(function(e){var t=Ea(e);return _s(t)&&(t=o),Ri(Ur(e,1,_s,!0),Io(t,2))}),Oa=Ei(function(e){var t=Ea(e);return t="function"==typeof t?t:o,Ri(Ur(e,1,_s,!0),o,t)});function Na(e){if(!e||!e.length)return[];var t=0;return e=Xt(e,function(e){if(_s(e))return t=Vn(e.length,t),!0}),gn(t,function(t){return Zt(e,fn(t))})}function La(e,t){if(!e||!e.length)return[];var n=Na(e);return null==t?n:Zt(n,function(e){return Vt(t,o,e)})}var ja=Ei(function(e,t){return _s(e)?Fr(e,t):[]}),Pa=Ei(function(e){return zi(Xt(e,_s))}),Da=Ei(function(e){var t=Ea(e);return _s(t)&&(t=o),zi(Xt(e,_s),Io(t,2))}),Ia=Ei(function(e){var t=Ea(e);return t="function"==typeof t?t:o,zi(Xt(e,_s),o,t)}),Ra=Ei(Na);var Fa=Ei(function(e){var t=e.length,n=t>1?e[t-1]:o;return La(e,n="function"==typeof n?(e.pop(),n):o)});function Ya(e){var t=hr(e);return t.__chain__=!0,t}function Ba(e,t){return t(e)}var Ha=Oo(function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,i=function(t){return jr(t,e)};return!(t>1||this.__actions__.length)&&r instanceof yr&&Go(n)?((r=r.slice(n,+n+(t?1:0))).__actions__.push({func:Ba,args:[i],thisArg:o}),new gr(r,this.__chain__).thru(function(e){return t&&!e.length&&e.push(o),e})):this.thru(i)});var za=io(function(e,t,n){ct.call(e,n)?++e[n]:Lr(e,n,1)});var Wa=fo(ga),Ua=fo(ya);function Va(e,t){return(ys(e)?qt:Yr)(e,Io(t,3))}function Ga(e,t){return(ys(e)?Kt:Br)(e,Io(t,3))}var qa=io(function(e,t,n){ct.call(e,n)?e[n].push(t):Lr(e,n,[t])});var Ka=Ei(function(e,t,n){var i=-1,o="function"==typeof t,a=bs(e)?r(e.length):[];return Yr(e,function(e){a[++i]=o?Vt(t,e,n):ri(e,t,n)}),a}),$a=io(function(e,t,n){Lr(e,n,t)});function Xa(e,t){return(ys(e)?Zt:fi)(e,Io(t,3))}var Ja=io(function(e,t,n){e[n?0:1].push(t)},function(){return[[],[]]});var Qa=Ei(function(e,t){if(null==e)return[];var n=t.length;return n>1&&qo(e,t[0],t[1])?t=[]:n>2&&qo(t[0],t[1],t[2])&&(t=[t[0]]),yi(e,Ur(t,1),[])}),Za=In||function(){return jt.Date.now()};function es(e,t,n){return t=n?o:t,t=e&&null==t?e.length:t,So(e,x,o,o,o,o,t)}function ts(e,t){var n;if("function"!=typeof t)throw new it(u);return e=Hs(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=o),n}}var ns=Ei(function(e,t,n){var r=y;if(n.length){var i=Cn(n,Do(ns));r|=k}return So(e,r,t,n,i)}),rs=Ei(function(e,t,n){var r=y|v;if(n.length){var i=Cn(n,Do(rs));r|=k}return So(t,r,e,n,i)});function is(e,t,n){var r,i,a,s,l,c,d=0,f=!1,h=!1,p=!0;if("function"!=typeof e)throw new it(u);function m(t){var n=r,a=i;return r=i=o,d=t,s=e.apply(a,n)}function g(e){var n=e-c;return c===o||n>=t||n<0||h&&e-d>=a}function y(){var e=Za();if(g(e))return v(e);l=ia(y,function(e){var n=t-(e-c);return h?Gn(n,a-(e-d)):n}(e))}function v(e){return l=o,p&&r?m(e):(r=i=o,s)}function b(){var e=Za(),n=g(e);if(r=arguments,i=this,c=e,n){if(l===o)return function(e){return d=e,l=ia(y,t),f?m(e):s}(c);if(h)return l=ia(y,t),m(c)}return l===o&&(l=ia(y,t)),s}return t=Ws(t)||0,Ts(n)&&(f=!!n.leading,a=(h="maxWait"in n)?Vn(Ws(n.maxWait)||0,t):a,p="trailing"in n?!!n.trailing:p),b.cancel=function(){l!==o&&$i(l),d=0,r=c=i=l=o},b.flush=function(){return l===o?s:v(Za())},b}var os=Ei(function(e,t){return Rr(e,1,t)}),as=Ei(function(e,t,n){return Rr(e,Ws(t)||0,n)});function ss(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new it(u);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(ss.Cache||_r),n}function us(e){if("function"!=typeof e)throw new it(u);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}ss.Cache=_r;var ls=qi(function(e,t){var n=(t=1==t.length&&ys(t[0])?Zt(t[0],yn(Io())):Zt(Ur(t,1),yn(Io()))).length;return Ei(function(r){for(var i=-1,o=Gn(r.length,n);++i<o;)r[i]=t[i].call(this,r[i]);return Vt(e,this,r)})}),cs=Ei(function(e,t){var n=Cn(t,Do(cs));return So(e,k,o,t,n)}),ds=Ei(function(e,t){var n=Cn(t,Do(ds));return So(e,E,o,t,n)}),fs=Oo(function(e,t){return So(e,S,o,o,o,t)});function hs(e,t){return e===t||e!=e&&t!=t}var ps=_o(Zr),ms=_o(function(e,t){return e>=t}),gs=ii(function(){return arguments}())?ii:function(e){return Cs(e)&&ct.call(e,"callee")&&!Pt.call(e,"callee")},ys=r.isArray,vs=Yt?yn(Yt):function(e){return Cs(e)&&Qr(e)==ue};function bs(e){return null!=e&&Ms(e.length)&&!xs(e)}function _s(e){return Cs(e)&&bs(e)}var ws=Hn||Wu,ks=Bt?yn(Bt):function(e){return Cs(e)&&Qr(e)==V};function Es(e){if(!Cs(e))return!1;var t=Qr(e);return t==q||t==G||"string"==typeof e.message&&"string"==typeof e.name&&!Ns(e)}function xs(e){if(!Ts(e))return!1;var t=Qr(e);return t==K||t==$||t==W||t==ee}function Ss(e){return"number"==typeof e&&e==Hs(e)}function Ms(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=P}function Ts(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Cs(e){return null!=e&&"object"==typeof e}var As=Ht?yn(Ht):function(e){return Cs(e)&&zo(e)==X};function Os(e){return"number"==typeof e||Cs(e)&&Qr(e)==J}function Ns(e){if(!Cs(e)||Qr(e)!=Z)return!1;var t=Nt(e);if(null===t)return!0;var n=ct.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&lt.call(n)==pt}var Ls=zt?yn(zt):function(e){return Cs(e)&&Qr(e)==te};var js=Wt?yn(Wt):function(e){return Cs(e)&&zo(e)==ne};function Ps(e){return"string"==typeof e||!ys(e)&&Cs(e)&&Qr(e)==re}function Ds(e){return"symbol"==typeof e||Cs(e)&&Qr(e)==ie}var Is=Ut?yn(Ut):function(e){return Cs(e)&&Ms(e.length)&&!!Mt[Qr(e)]};var Rs=_o(di),Fs=_o(function(e,t){return e<=t});function Ys(e){if(!e)return[];if(bs(e))return Ps(e)?Ln(e):no(e);if(Ft&&e[Ft])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[Ft]());var t=zo(e);return(t==X?Mn:t==ne?An:hu)(e)}function Bs(e){return e?(e=Ws(e))===j||e===-j?(e<0?-1:1)*D:e==e?e:0:0===e?e:0}function Hs(e){var t=Bs(e),n=t%1;return t==t?n?t-n:t:0}function zs(e){return e?Pr(Hs(e),0,R):0}function Ws(e){if("number"==typeof e)return e;if(Ds(e))return I;if(Ts(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Ts(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(Pe,"");var n=Ve.test(e);return n||qe.test(e)?Ot(e.slice(2),n?2:8):Ue.test(e)?I:+e}function Us(e){return ro(e,ou(e))}function Vs(e){return null==e?"":Ii(e)}var Gs=oo(function(e,t){if(Jo(t)||bs(t))ro(t,iu(t),e);else for(var n in t)ct.call(t,n)&&Cr(e,n,t[n])}),qs=oo(function(e,t){ro(t,ou(t),e)}),Ks=oo(function(e,t,n,r){ro(t,ou(t),e,r)}),$s=oo(function(e,t,n,r){ro(t,iu(t),e,r)}),Xs=Oo(jr);var Js=Ei(function(e,t){e=tt(e);var n=-1,r=t.length,i=r>2?t[2]:o;for(i&&qo(t[0],t[1],i)&&(r=1);++n<r;)for(var a=t[n],s=ou(a),u=-1,l=s.length;++u<l;){var c=s[u],d=e[c];(d===o||hs(d,st[c])&&!ct.call(e,c))&&(e[c]=a[c])}return e}),Qs=Ei(function(e){return e.push(o,To),Vt(su,o,e)});function Zs(e,t,n){var r=null==e?o:Xr(e,t);return r===o?n:r}function eu(e,t){return null!=e&&Wo(e,t,ti)}var tu=mo(function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=ht.call(t)),e[t]=n},Tu(Ou)),nu=mo(function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=ht.call(t)),ct.call(e,t)?e[t].push(n):e[t]=[n]},Io),ru=Ei(ri);function iu(e){return bs(e)?Er(e):li(e)}function ou(e){return bs(e)?Er(e,!0):ci(e)}var au=oo(function(e,t,n){mi(e,t,n)}),su=oo(function(e,t,n,r){mi(e,t,n,r)}),uu=Oo(function(e,t){var n={};if(null==e)return n;var r=!1;t=Zt(t,function(t){return t=Gi(t,e),r||(r=t.length>1),t}),ro(e,Lo(e),n),r&&(n=Dr(n,f|h|p,Co));for(var i=t.length;i--;)Fi(n,t[i]);return n});var lu=Oo(function(e,t){return null==e?{}:function(e,t){return vi(e,t,function(t,n){return eu(e,n)})}(e,t)});function cu(e,t){if(null==e)return{};var n=Zt(Lo(e),function(e){return[e]});return t=Io(t),vi(e,n,function(e,n){return t(e,n[0])})}var du=xo(iu),fu=xo(ou);function hu(e){return null==e?[]:vn(e,iu(e))}var pu=lo(function(e,t,n){return t=t.toLowerCase(),e+(n?mu(t):t)});function mu(e){return Eu(Vs(e).toLowerCase())}function gu(e){return(e=Vs(e))&&e.replace($e,kn).replace(bt,"")}var yu=lo(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()}),vu=lo(function(e,t,n){return e+(n?" ":"")+t.toLowerCase()}),bu=uo("toLowerCase");var _u=lo(function(e,t,n){return e+(n?"_":"")+t.toLowerCase()});var wu=lo(function(e,t,n){return e+(n?" ":"")+Eu(t)});var ku=lo(function(e,t,n){return e+(n?" ":"")+t.toUpperCase()}),Eu=uo("toUpperCase");function xu(e,t,n){return e=Vs(e),(t=n?o:t)===o?function(e){return Et.test(e)}(e)?function(e){return e.match(wt)||[]}(e):function(e){return e.match(Be)||[]}(e):e.match(t)||[]}var Su=Ei(function(e,t){try{return Vt(e,o,t)}catch(e){return Es(e)?e:new Qe(e)}}),Mu=Oo(function(e,t){return qt(t,function(t){t=ca(t),Lr(e,t,ns(e[t],e))}),e});function Tu(e){return function(){return e}}var Cu=ho(),Au=ho(!0);function Ou(e){return e}function Nu(e){return ui("function"==typeof e?e:Dr(e,f))}var Lu=Ei(function(e,t){return function(n){return ri(n,e,t)}}),ju=Ei(function(e,t){return function(n){return ri(e,n,t)}});function Pu(e,t,n){var r=iu(t),i=$r(t,r);null!=n||Ts(t)&&(i.length||!r.length)||(n=t,t=e,e=this,i=$r(t,iu(t)));var o=!(Ts(n)&&"chain"in n&&!n.chain),a=xs(e);return qt(i,function(n){var r=t[n];e[n]=r,a&&(e.prototype[n]=function(){var t=this.__chain__;if(o||t){var n=e(this.__wrapped__);return(n.__actions__=no(this.__actions__)).push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,en([this.value()],arguments))})}),e}function Du(){}var Iu=yo(Zt),Ru=yo($t),Fu=yo(rn);function Yu(e){return Ko(e)?fn(ca(e)):function(e){return function(t){return Xr(t,e)}}(e)}var Bu=bo(),Hu=bo(!0);function zu(){return[]}function Wu(){return!1}var Uu=go(function(e,t){return e+t},0),Vu=ko("ceil"),Gu=go(function(e,t){return e/t},1),qu=ko("floor");var Ku,$u=go(function(e,t){return e*t},1),Xu=ko("round"),Ju=go(function(e,t){return e-t},0);return hr.after=function(e,t){if("function"!=typeof t)throw new it(u);return e=Hs(e),function(){if(--e<1)return t.apply(this,arguments)}},hr.ary=es,hr.assign=Gs,hr.assignIn=qs,hr.assignInWith=Ks,hr.assignWith=$s,hr.at=Xs,hr.before=ts,hr.bind=ns,hr.bindAll=Mu,hr.bindKey=rs,hr.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return ys(e)?e:[e]},hr.chain=Ya,hr.chunk=function(e,t,n){t=(n?qo(e,t,n):t===o)?1:Vn(Hs(t),0);var i=null==e?0:e.length;if(!i||t<1)return[];for(var a=0,s=0,u=r(Fn(i/t));a<i;)u[s++]=Oi(e,a,a+=t);return u},hr.compact=function(e){for(var t=-1,n=null==e?0:e.length,r=0,i=[];++t<n;){var o=e[t];o&&(i[r++]=o)}return i},hr.concat=function(){var e=arguments.length;if(!e)return[];for(var t=r(e-1),n=arguments[0],i=e;i--;)t[i-1]=arguments[i];return en(ys(n)?no(n):[n],Ur(t,1))},hr.cond=function(e){var t=null==e?0:e.length,n=Io();return e=t?Zt(e,function(e){if("function"!=typeof e[1])throw new it(u);return[n(e[0]),e[1]]}):[],Ei(function(n){for(var r=-1;++r<t;){var i=e[r];if(Vt(i[0],this,n))return Vt(i[1],this,n)}})},hr.conforms=function(e){return function(e){var t=iu(e);return function(n){return Ir(n,e,t)}}(Dr(e,f))},hr.constant=Tu,hr.countBy=za,hr.create=function(e,t){var n=pr(e);return null==t?n:Nr(n,t)},hr.curry=function e(t,n,r){var i=So(t,_,o,o,o,o,o,n=r?o:n);return i.placeholder=e.placeholder,i},hr.curryRight=function e(t,n,r){var i=So(t,w,o,o,o,o,o,n=r?o:n);return i.placeholder=e.placeholder,i},hr.debounce=is,hr.defaults=Js,hr.defaultsDeep=Qs,hr.defer=os,hr.delay=as,hr.difference=ha,hr.differenceBy=pa,hr.differenceWith=ma,hr.drop=function(e,t,n){var r=null==e?0:e.length;return r?Oi(e,(t=n||t===o?1:Hs(t))<0?0:t,r):[]},hr.dropRight=function(e,t,n){var r=null==e?0:e.length;return r?Oi(e,0,(t=r-(t=n||t===o?1:Hs(t)))<0?0:t):[]},hr.dropRightWhile=function(e,t){return e&&e.length?Bi(e,Io(t,3),!0,!0):[]},hr.dropWhile=function(e,t){return e&&e.length?Bi(e,Io(t,3),!0):[]},hr.fill=function(e,t,n,r){var i=null==e?0:e.length;return i?(n&&"number"!=typeof n&&qo(e,t,n)&&(n=0,r=i),function(e,t,n,r){var i=e.length;for((n=Hs(n))<0&&(n=-n>i?0:i+n),(r=r===o||r>i?i:Hs(r))<0&&(r+=i),r=n>r?0:zs(r);n<r;)e[n++]=t;return e}(e,t,n,r)):[]},hr.filter=function(e,t){return(ys(e)?Xt:Wr)(e,Io(t,3))},hr.flatMap=function(e,t){return Ur(Xa(e,t),1)},hr.flatMapDeep=function(e,t){return Ur(Xa(e,t),j)},hr.flatMapDepth=function(e,t,n){return n=n===o?1:Hs(n),Ur(Xa(e,t),n)},hr.flatten=va,hr.flattenDeep=function(e){return null!=e&&e.length?Ur(e,j):[]},hr.flattenDepth=function(e,t){return null!=e&&e.length?Ur(e,t=t===o?1:Hs(t)):[]},hr.flip=function(e){return So(e,M)},hr.flow=Cu,hr.flowRight=Au,hr.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var i=e[t];r[i[0]]=i[1]}return r},hr.functions=function(e){return null==e?[]:$r(e,iu(e))},hr.functionsIn=function(e){return null==e?[]:$r(e,ou(e))},hr.groupBy=qa,hr.initial=function(e){return null!=e&&e.length?Oi(e,0,-1):[]},hr.intersection=_a,hr.intersectionBy=wa,hr.intersectionWith=ka,hr.invert=tu,hr.invertBy=nu,hr.invokeMap=Ka,hr.iteratee=Nu,hr.keyBy=$a,hr.keys=iu,hr.keysIn=ou,hr.map=Xa,hr.mapKeys=function(e,t){var n={};return t=Io(t,3),qr(e,function(e,r,i){Lr(n,t(e,r,i),e)}),n},hr.mapValues=function(e,t){var n={};return t=Io(t,3),qr(e,function(e,r,i){Lr(n,r,t(e,r,i))}),n},hr.matches=function(e){return hi(Dr(e,f))},hr.matchesProperty=function(e,t){return pi(e,Dr(t,f))},hr.memoize=ss,hr.merge=au,hr.mergeWith=su,hr.method=Lu,hr.methodOf=ju,hr.mixin=Pu,hr.negate=us,hr.nthArg=function(e){return e=Hs(e),Ei(function(t){return gi(t,e)})},hr.omit=uu,hr.omitBy=function(e,t){return cu(e,us(Io(t)))},hr.once=function(e){return ts(2,e)},hr.orderBy=function(e,t,n,r){return null==e?[]:(ys(t)||(t=null==t?[]:[t]),ys(n=r?o:n)||(n=null==n?[]:[n]),yi(e,t,n))},hr.over=Iu,hr.overArgs=ls,hr.overEvery=Ru,hr.overSome=Fu,hr.partial=cs,hr.partialRight=ds,hr.partition=Ja,hr.pick=lu,hr.pickBy=cu,hr.property=Yu,hr.propertyOf=function(e){return function(t){return null==e?o:Xr(e,t)}},hr.pull=xa,hr.pullAll=Sa,hr.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?bi(e,t,Io(n,2)):e},hr.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?bi(e,t,o,n):e},hr.pullAt=Ma,hr.range=Bu,hr.rangeRight=Hu,hr.rearg=fs,hr.reject=function(e,t){return(ys(e)?Xt:Wr)(e,us(Io(t,3)))},hr.remove=function(e,t){var n=[];if(!e||!e.length)return n;var r=-1,i=[],o=e.length;for(t=Io(t,3);++r<o;){var a=e[r];t(a,r,e)&&(n.push(a),i.push(r))}return _i(e,i),n},hr.rest=function(e,t){if("function"!=typeof e)throw new it(u);return Ei(e,t=t===o?t:Hs(t))},hr.reverse=Ta,hr.sampleSize=function(e,t,n){return t=(n?qo(e,t,n):t===o)?1:Hs(t),(ys(e)?Sr:Si)(e,t)},hr.set=function(e,t,n){return null==e?e:Mi(e,t,n)},hr.setWith=function(e,t,n,r){return r="function"==typeof r?r:o,null==e?e:Mi(e,t,n,r)},hr.shuffle=function(e){return(ys(e)?Mr:Ai)(e)},hr.slice=function(e,t,n){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&qo(e,t,n)?(t=0,n=r):(t=null==t?0:Hs(t),n=n===o?r:Hs(n)),Oi(e,t,n)):[]},hr.sortBy=Qa,hr.sortedUniq=function(e){return e&&e.length?Pi(e):[]},hr.sortedUniqBy=function(e,t){return e&&e.length?Pi(e,Io(t,2)):[]},hr.split=function(e,t,n){return n&&"number"!=typeof n&&qo(e,t,n)&&(t=n=o),(n=n===o?R:n>>>0)?(e=Vs(e))&&("string"==typeof t||null!=t&&!Ls(t))&&!(t=Ii(t))&&Sn(e)?Ki(Ln(e),0,n):e.split(t,n):[]},hr.spread=function(e,t){if("function"!=typeof e)throw new it(u);return t=null==t?0:Vn(Hs(t),0),Ei(function(n){var r=n[t],i=Ki(n,0,t);return r&&en(i,r),Vt(e,this,i)})},hr.tail=function(e){var t=null==e?0:e.length;return t?Oi(e,1,t):[]},hr.take=function(e,t,n){return e&&e.length?Oi(e,0,(t=n||t===o?1:Hs(t))<0?0:t):[]},hr.takeRight=function(e,t,n){var r=null==e?0:e.length;return r?Oi(e,(t=r-(t=n||t===o?1:Hs(t)))<0?0:t,r):[]},hr.takeRightWhile=function(e,t){return e&&e.length?Bi(e,Io(t,3),!1,!0):[]},hr.takeWhile=function(e,t){return e&&e.length?Bi(e,Io(t,3)):[]},hr.tap=function(e,t){return t(e),e},hr.throttle=function(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new it(u);return Ts(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),is(e,t,{leading:r,maxWait:t,trailing:i})},hr.thru=Ba,hr.toArray=Ys,hr.toPairs=du,hr.toPairsIn=fu,hr.toPath=function(e){return ys(e)?Zt(e,ca):Ds(e)?[e]:no(la(Vs(e)))},hr.toPlainObject=Us,hr.transform=function(e,t,n){var r=ys(e),i=r||ws(e)||Is(e);if(t=Io(t,4),null==n){var o=e&&e.constructor;n=i?r?new o:[]:Ts(e)&&xs(o)?pr(Nt(e)):{}}return(i?qt:qr)(e,function(e,r,i){return t(n,e,r,i)}),n},hr.unary=function(e){return es(e,1)},hr.union=Ca,hr.unionBy=Aa,hr.unionWith=Oa,hr.uniq=function(e){return e&&e.length?Ri(e):[]},hr.uniqBy=function(e,t){return e&&e.length?Ri(e,Io(t,2)):[]},hr.uniqWith=function(e,t){return t="function"==typeof t?t:o,e&&e.length?Ri(e,o,t):[]},hr.unset=function(e,t){return null==e||Fi(e,t)},hr.unzip=Na,hr.unzipWith=La,hr.update=function(e,t,n){return null==e?e:Yi(e,t,Vi(n))},hr.updateWith=function(e,t,n,r){return r="function"==typeof r?r:o,null==e?e:Yi(e,t,Vi(n),r)},hr.values=hu,hr.valuesIn=function(e){return null==e?[]:vn(e,ou(e))},hr.without=ja,hr.words=xu,hr.wrap=function(e,t){return cs(Vi(t),e)},hr.xor=Pa,hr.xorBy=Da,hr.xorWith=Ia,hr.zip=Ra,hr.zipObject=function(e,t){return Wi(e||[],t||[],Cr)},hr.zipObjectDeep=function(e,t){return Wi(e||[],t||[],Mi)},hr.zipWith=Fa,hr.entries=du,hr.entriesIn=fu,hr.extend=qs,hr.extendWith=Ks,Pu(hr,hr),hr.add=Uu,hr.attempt=Su,hr.camelCase=pu,hr.capitalize=mu,hr.ceil=Vu,hr.clamp=function(e,t,n){return n===o&&(n=t,t=o),n!==o&&(n=(n=Ws(n))==n?n:0),t!==o&&(t=(t=Ws(t))==t?t:0),Pr(Ws(e),t,n)},hr.clone=function(e){return Dr(e,p)},hr.cloneDeep=function(e){return Dr(e,f|p)},hr.cloneDeepWith=function(e,t){return Dr(e,f|p,t="function"==typeof t?t:o)},hr.cloneWith=function(e,t){return Dr(e,p,t="function"==typeof t?t:o)},hr.conformsTo=function(e,t){return null==t||Ir(e,t,iu(t))},hr.deburr=gu,hr.defaultTo=function(e,t){return null==e||e!=e?t:e},hr.divide=Gu,hr.endsWith=function(e,t,n){e=Vs(e),t=Ii(t);var r=e.length,i=n=n===o?r:Pr(Hs(n),0,r);return(n-=t.length)>=0&&e.slice(n,i)==t},hr.eq=hs,hr.escape=function(e){return(e=Vs(e))&&Se.test(e)?e.replace(Ee,En):e},hr.escapeRegExp=function(e){return(e=Vs(e))&&je.test(e)?e.replace(Le,"\\$&"):e},hr.every=function(e,t,n){var r=ys(e)?$t:Hr;return n&&qo(e,t,n)&&(t=o),r(e,Io(t,3))},hr.find=Wa,hr.findIndex=ga,hr.findKey=function(e,t){return an(e,Io(t,3),qr)},hr.findLast=Ua,hr.findLastIndex=ya,hr.findLastKey=function(e,t){return an(e,Io(t,3),Kr)},hr.floor=qu,hr.forEach=Va,hr.forEachRight=Ga,hr.forIn=function(e,t){return null==e?e:Vr(e,Io(t,3),ou)},hr.forInRight=function(e,t){return null==e?e:Gr(e,Io(t,3),ou)},hr.forOwn=function(e,t){return e&&qr(e,Io(t,3))},hr.forOwnRight=function(e,t){return e&&Kr(e,Io(t,3))},hr.get=Zs,hr.gt=ps,hr.gte=ms,hr.has=function(e,t){return null!=e&&Wo(e,t,ei)},hr.hasIn=eu,hr.head=ba,hr.identity=Ou,hr.includes=function(e,t,n,r){e=bs(e)?e:hu(e),n=n&&!r?Hs(n):0;var i=e.length;return n<0&&(n=Vn(i+n,0)),Ps(e)?n<=i&&e.indexOf(t,n)>-1:!!i&&un(e,t,n)>-1},hr.indexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:Hs(n);return i<0&&(i=Vn(r+i,0)),un(e,t,i)},hr.inRange=function(e,t,n){return t=Bs(t),n===o?(n=t,t=0):n=Bs(n),function(e,t,n){return e>=Gn(t,n)&&e<Vn(t,n)}(e=Ws(e),t,n)},hr.invoke=ru,hr.isArguments=gs,hr.isArray=ys,hr.isArrayBuffer=vs,hr.isArrayLike=bs,hr.isArrayLikeObject=_s,hr.isBoolean=function(e){return!0===e||!1===e||Cs(e)&&Qr(e)==U},hr.isBuffer=ws,hr.isDate=ks,hr.isElement=function(e){return Cs(e)&&1===e.nodeType&&!Ns(e)},hr.isEmpty=function(e){if(null==e)return!0;if(bs(e)&&(ys(e)||"string"==typeof e||"function"==typeof e.splice||ws(e)||Is(e)||gs(e)))return!e.length;var t=zo(e);if(t==X||t==ne)return!e.size;if(Jo(e))return!li(e).length;for(var n in e)if(ct.call(e,n))return!1;return!0},hr.isEqual=function(e,t){return oi(e,t)},hr.isEqualWith=function(e,t,n){var r=(n="function"==typeof n?n:o)?n(e,t):o;return r===o?oi(e,t,o,n):!!r},hr.isError=Es,hr.isFinite=function(e){return"number"==typeof e&&zn(e)},hr.isFunction=xs,hr.isInteger=Ss,hr.isLength=Ms,hr.isMap=As,hr.isMatch=function(e,t){return e===t||ai(e,t,Fo(t))},hr.isMatchWith=function(e,t,n){return n="function"==typeof n?n:o,ai(e,t,Fo(t),n)},hr.isNaN=function(e){return Os(e)&&e!=+e},hr.isNative=function(e){if(Xo(e))throw new Qe(s);return si(e)},hr.isNil=function(e){return null==e},hr.isNull=function(e){return null===e},hr.isNumber=Os,hr.isObject=Ts,hr.isObjectLike=Cs,hr.isPlainObject=Ns,hr.isRegExp=Ls,hr.isSafeInteger=function(e){return Ss(e)&&e>=-P&&e<=P},hr.isSet=js,hr.isString=Ps,hr.isSymbol=Ds,hr.isTypedArray=Is,hr.isUndefined=function(e){return e===o},hr.isWeakMap=function(e){return Cs(e)&&zo(e)==ae},hr.isWeakSet=function(e){return Cs(e)&&Qr(e)==se},hr.join=function(e,t){return null==e?"":Wn.call(e,t)},hr.kebabCase=yu,hr.last=Ea,hr.lastIndexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=r;return n!==o&&(i=(i=Hs(n))<0?Vn(r+i,0):Gn(i,r-1)),t==t?function(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}(e,t,i):sn(e,cn,i,!0)},hr.lowerCase=vu,hr.lowerFirst=bu,hr.lt=Rs,hr.lte=Fs,hr.max=function(e){return e&&e.length?zr(e,Ou,Zr):o},hr.maxBy=function(e,t){return e&&e.length?zr(e,Io(t,2),Zr):o},hr.mean=function(e){return dn(e,Ou)},hr.meanBy=function(e,t){return dn(e,Io(t,2))},hr.min=function(e){return e&&e.length?zr(e,Ou,di):o},hr.minBy=function(e,t){return e&&e.length?zr(e,Io(t,2),di):o},hr.stubArray=zu,hr.stubFalse=Wu,hr.stubObject=function(){return{}},hr.stubString=function(){return""},hr.stubTrue=function(){return!0},hr.multiply=$u,hr.nth=function(e,t){return e&&e.length?gi(e,Hs(t)):o},hr.noConflict=function(){return jt._===this&&(jt._=mt),this},hr.noop=Du,hr.now=Za,hr.pad=function(e,t,n){e=Vs(e);var r=(t=Hs(t))?Nn(e):0;if(!t||r>=t)return e;var i=(t-r)/2;return vo(Yn(i),n)+e+vo(Fn(i),n)},hr.padEnd=function(e,t,n){e=Vs(e);var r=(t=Hs(t))?Nn(e):0;return t&&r<t?e+vo(t-r,n):e},hr.padStart=function(e,t,n){e=Vs(e);var r=(t=Hs(t))?Nn(e):0;return t&&r<t?vo(t-r,n)+e:e},hr.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),Kn(Vs(e).replace(De,""),t||0)},hr.random=function(e,t,n){if(n&&"boolean"!=typeof n&&qo(e,t,n)&&(t=n=o),n===o&&("boolean"==typeof t?(n=t,t=o):"boolean"==typeof e&&(n=e,e=o)),e===o&&t===o?(e=0,t=1):(e=Bs(e),t===o?(t=e,e=0):t=Bs(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var i=$n();return Gn(e+i*(t-e+At("1e-"+((i+"").length-1))),t)}return wi(e,t)},hr.reduce=function(e,t,n){var r=ys(e)?tn:pn,i=arguments.length<3;return r(e,Io(t,4),n,i,Yr)},hr.reduceRight=function(e,t,n){var r=ys(e)?nn:pn,i=arguments.length<3;return r(e,Io(t,4),n,i,Br)},hr.repeat=function(e,t,n){return t=(n?qo(e,t,n):t===o)?1:Hs(t),ki(Vs(e),t)},hr.replace=function(){var e=arguments,t=Vs(e[0]);return e.length<3?t:t.replace(e[1],e[2])},hr.result=function(e,t,n){var r=-1,i=(t=Gi(t,e)).length;for(i||(i=1,e=o);++r<i;){var a=null==e?o:e[ca(t[r])];a===o&&(r=i,a=n),e=xs(a)?a.call(e):a}return e},hr.round=Xu,hr.runInContext=e,hr.sample=function(e){return(ys(e)?xr:xi)(e)},hr.size=function(e){if(null==e)return 0;if(bs(e))return Ps(e)?Nn(e):e.length;var t=zo(e);return t==X||t==ne?e.size:li(e).length},hr.snakeCase=_u,hr.some=function(e,t,n){var r=ys(e)?rn:Ni;return n&&qo(e,t,n)&&(t=o),r(e,Io(t,3))},hr.sortedIndex=function(e,t){return Li(e,t)},hr.sortedIndexBy=function(e,t,n){return ji(e,t,Io(n,2))},hr.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var r=Li(e,t);if(r<n&&hs(e[r],t))return r}return-1},hr.sortedLastIndex=function(e,t){return Li(e,t,!0)},hr.sortedLastIndexBy=function(e,t,n){return ji(e,t,Io(n,2),!0)},hr.sortedLastIndexOf=function(e,t){if(null!=e&&e.length){var n=Li(e,t,!0)-1;if(hs(e[n],t))return n}return-1},hr.startCase=wu,hr.startsWith=function(e,t,n){return e=Vs(e),n=null==n?0:Pr(Hs(n),0,e.length),t=Ii(t),e.slice(n,n+t.length)==t},hr.subtract=Ju,hr.sum=function(e){return e&&e.length?mn(e,Ou):0},hr.sumBy=function(e,t){return e&&e.length?mn(e,Io(t,2)):0},hr.template=function(e,t,n){var r=hr.templateSettings;n&&qo(e,t,n)&&(t=o),e=Vs(e),t=Ks({},t,r,Mo);var i,a,s=Ks({},t.imports,r.imports,Mo),u=iu(s),l=vn(s,u),c=0,d=t.interpolate||Xe,f="__p += '",h=nt((t.escape||Xe).source+"|"+d.source+"|"+(d===Ce?ze:Xe).source+"|"+(t.evaluate||Xe).source+"|$","g"),p="//# sourceURL="+("sourceURL"in t?t.sourceURL:"lodash.templateSources["+ ++St+"]")+"\n";e.replace(h,function(t,n,r,o,s,u){return r||(r=o),f+=e.slice(c,u).replace(Je,xn),n&&(i=!0,f+="' +\n__e("+n+") +\n'"),s&&(a=!0,f+="';\n"+s+";\n__p += '"),r&&(f+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),c=u+t.length,t}),f+="';\n";var m=t.variable;m||(f="with (obj) {\n"+f+"\n}\n"),f=(a?f.replace(be,""):f).replace(_e,"$1").replace(we,"$1;"),f="function("+(m||"obj")+") {\n"+(m?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+f+"return __p\n}";var g=Su(function(){return Ze(u,p+"return "+f).apply(o,l)});if(g.source=f,Es(g))throw g;return g},hr.times=function(e,t){if((e=Hs(e))<1||e>P)return[];var n=R,r=Gn(e,R);t=Io(t),e-=R;for(var i=gn(r,t);++n<e;)t(n);return i},hr.toFinite=Bs,hr.toInteger=Hs,hr.toLength=zs,hr.toLower=function(e){return Vs(e).toLowerCase()},hr.toNumber=Ws,hr.toSafeInteger=function(e){return e?Pr(Hs(e),-P,P):0===e?e:0},hr.toString=Vs,hr.toUpper=function(e){return Vs(e).toUpperCase()},hr.trim=function(e,t,n){if((e=Vs(e))&&(n||t===o))return e.replace(Pe,"");if(!e||!(t=Ii(t)))return e;var r=Ln(e),i=Ln(t);return Ki(r,_n(r,i),wn(r,i)+1).join("")},hr.trimEnd=function(e,t,n){if((e=Vs(e))&&(n||t===o))return e.replace(Ie,"");if(!e||!(t=Ii(t)))return e;var r=Ln(e);return Ki(r,0,wn(r,Ln(t))+1).join("")},hr.trimStart=function(e,t,n){if((e=Vs(e))&&(n||t===o))return e.replace(De,"");if(!e||!(t=Ii(t)))return e;var r=Ln(e);return Ki(r,_n(r,Ln(t))).join("")},hr.truncate=function(e,t){var n=T,r=C;if(Ts(t)){var i="separator"in t?t.separator:i;n="length"in t?Hs(t.length):n,r="omission"in t?Ii(t.omission):r}var a=(e=Vs(e)).length;if(Sn(e)){var s=Ln(e);a=s.length}if(n>=a)return e;var u=n-Nn(r);if(u<1)return r;var l=s?Ki(s,0,u).join(""):e.slice(0,u);if(i===o)return l+r;if(s&&(u+=l.length-u),Ls(i)){if(e.slice(u).search(i)){var c,d=l;for(i.global||(i=nt(i.source,Vs(We.exec(i))+"g")),i.lastIndex=0;c=i.exec(d);)var f=c.index;l=l.slice(0,f===o?u:f)}}else if(e.indexOf(Ii(i),u)!=u){var h=l.lastIndexOf(i);h>-1&&(l=l.slice(0,h))}return l+r},hr.unescape=function(e){return(e=Vs(e))&&xe.test(e)?e.replace(ke,jn):e},hr.uniqueId=function(e){var t=++dt;return Vs(e)+t},hr.upperCase=ku,hr.upperFirst=Eu,hr.each=Va,hr.eachRight=Ga,hr.first=ba,Pu(hr,(Ku={},qr(hr,function(e,t){ct.call(hr.prototype,t)||(Ku[t]=e)}),Ku),{chain:!1}),hr.VERSION="4.17.11",qt(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){hr[e].placeholder=hr}),qt(["drop","take"],function(e,t){yr.prototype[e]=function(n){n=n===o?1:Vn(Hs(n),0);var r=this.__filtered__&&!t?new yr(this):this.clone();return r.__filtered__?r.__takeCount__=Gn(n,r.__takeCount__):r.__views__.push({size:Gn(n,R),type:e+(r.__dir__<0?"Right":"")}),r},yr.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}}),qt(["filter","map","takeWhile"],function(e,t){var n=t+1,r=n==N||3==n;yr.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:Io(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}}),qt(["head","last"],function(e,t){var n="take"+(t?"Right":"");yr.prototype[e]=function(){return this[n](1).value()[0]}}),qt(["initial","tail"],function(e,t){var n="drop"+(t?"":"Right");yr.prototype[e]=function(){return this.__filtered__?new yr(this):this[n](1)}}),yr.prototype.compact=function(){return this.filter(Ou)},yr.prototype.find=function(e){return this.filter(e).head()},yr.prototype.findLast=function(e){return this.reverse().find(e)},yr.prototype.invokeMap=Ei(function(e,t){return"function"==typeof e?new yr(this):this.map(function(n){return ri(n,e,t)})}),yr.prototype.reject=function(e){return this.filter(us(Io(e)))},yr.prototype.slice=function(e,t){e=Hs(e);var n=this;return n.__filtered__&&(e>0||t<0)?new yr(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==o&&(n=(t=Hs(t))<0?n.dropRight(-t):n.take(t-e)),n)},yr.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},yr.prototype.toArray=function(){return this.take(R)},qr(yr.prototype,function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),i=hr[r?"take"+("last"==t?"Right":""):t],a=r||/^find/.test(t);i&&(hr.prototype[t]=function(){var t=this.__wrapped__,s=r?[1]:arguments,u=t instanceof yr,l=s[0],c=u||ys(t),d=function(e){var t=i.apply(hr,en([e],s));return r&&f?t[0]:t};c&&n&&"function"==typeof l&&1!=l.length&&(u=c=!1);var f=this.__chain__,h=!!this.__actions__.length,p=a&&!f,m=u&&!h;if(!a&&c){t=m?t:new yr(this);var g=e.apply(t,s);return g.__actions__.push({func:Ba,args:[d],thisArg:o}),new gr(g,f)}return p&&m?e.apply(this,s):(g=this.thru(d),p?r?g.value()[0]:g.value():g)})}),qt(["pop","push","shift","sort","splice","unshift"],function(e){var t=ot[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);hr.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var i=this.value();return t.apply(ys(i)?i:[],e)}return this[n](function(n){return t.apply(ys(n)?n:[],e)})}}),qr(yr.prototype,function(e,t){var n=hr[t];if(n){var r=n.name+"";(ir[r]||(ir[r]=[])).push({name:t,func:n})}}),ir[po(o,v).name]=[{name:"wrapper",func:o}],yr.prototype.clone=function(){var e=new yr(this.__wrapped__);return e.__actions__=no(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=no(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=no(this.__views__),e},yr.prototype.reverse=function(){if(this.__filtered__){var e=new yr(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},yr.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=ys(e),r=t<0,i=n?e.length:0,o=function(e,t,n){for(var r=-1,i=n.length;++r<i;){var o=n[r],a=o.size;switch(o.type){case"drop":e+=a;break;case"dropRight":t-=a;break;case"take":t=Gn(t,e+a);break;case"takeRight":e=Vn(e,t-a)}}return{start:e,end:t}}(0,i,this.__views__),a=o.start,s=o.end,u=s-a,l=r?s:a-1,c=this.__iteratees__,d=c.length,f=0,h=Gn(u,this.__takeCount__);if(!n||!r&&i==u&&h==u)return Hi(e,this.__actions__);var p=[];e:for(;u--&&f<h;){for(var m=-1,g=e[l+=t];++m<d;){var y=c[m],v=y.iteratee,b=y.type,_=v(g);if(b==L)g=_;else if(!_){if(b==N)continue e;break e}}p[f++]=g}return p},hr.prototype.at=Ha,hr.prototype.chain=function(){return Ya(this)},hr.prototype.commit=function(){return new gr(this.value(),this.__chain__)},hr.prototype.next=function(){this.__values__===o&&(this.__values__=Ys(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?o:this.__values__[this.__index__++]}},hr.prototype.plant=function(e){for(var t,n=this;n instanceof mr;){var r=fa(n);r.__index__=0,r.__values__=o,t?i.__wrapped__=r:t=r;var i=r;n=n.__wrapped__}return i.__wrapped__=e,t},hr.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof yr){var t=e;return this.__actions__.length&&(t=new yr(this)),(t=t.reverse()).__actions__.push({func:Ba,args:[Ta],thisArg:o}),new gr(t,this.__chain__)}return this.thru(Ta)},hr.prototype.toJSON=hr.prototype.valueOf=hr.prototype.value=function(){return Hi(this.__wrapped__,this.__actions__)},hr.prototype.first=hr.prototype.head,Ft&&(hr.prototype[Ft]=function(){return this}),hr}();jt._=Pn,(i=function(){return Pn}.call(t,n,t,r))===o||(r.exports=i)}).call(this)}).call(t,n(22),n(26)(e))},,,,,,function(e,t,n){var r=n(28),i=n(52);for(var o in(t=e.exports=function(e,t){return new i(t).process(e)}).FilterCSS=i,r)t[o]=r[o];"undefined"!=typeof window&&(window.filterCSS=e.exports)},function(e,t){e.exports={indexOf:function(e,t){var n,r;if(Array.prototype.indexOf)return e.indexOf(t);for(n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},forEach:function(e,t,n){var r,i;if(Array.prototype.forEach)return e.forEach(t,n);for(r=0,i=e.length;r<i;r++)t.call(n,e[r],r,e)},trim:function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},spaceIndex:function(e){var t=/\s|\n|\t/.exec(e);return t?t.index:-1}}},,,,,function(e,t){e.exports=THREE},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},i=n(560),o=n(103),a=n(1172),s=n(561),u=function(e){function t(t,n,r){switch(e.call(this),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=a.empty;break;case 1:if(!t){this.destination=a.empty;break}if("object"==typeof t){if(c(t)){var i=t[s.rxSubscriber]();this.syncErrorThrowable=i.syncErrorThrowable,this.destination=i,i.add(this)}else this.syncErrorThrowable=!0,this.destination=new l(this,t);break}default:this.syncErrorThrowable=!0,this.destination=new l(this,t,n,r)}}return r(t,e),t.prototype[s.rxSubscriber]=function(){return this},t.create=function(e,n,r){var i=new t(e,n,r);return i.syncErrorThrowable=!1,i},t.prototype.next=function(e){this.isStopped||this._next(e)},t.prototype.error=function(e){this.isStopped||(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this))},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){this.destination.error(e),this.unsubscribe()},t.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},t.prototype._unsubscribeAndRecycle=function(){var e=this._parent,t=this._parents;return this._parent=null,this._parents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parent=e,this._parents=t,this},t}(o.Subscription);t.Subscriber=u;var l=function(e){function t(t,n,r,o){var s;e.call(this),this._parentSubscriber=t;var u=this;i.isFunction(n)?s=n:n&&(s=n.next,r=n.error,o=n.complete,n!==a.empty&&(u=Object.create(n),i.isFunction(u.unsubscribe)&&this.add(u.unsubscribe.bind(u)),u.unsubscribe=this.unsubscribe.bind(this))),this._context=u,this._next=s,this._error=r,this._complete=o}return r(t,e),t.prototype.next=function(e){if(!this.isStopped&&this._next){var t=this._parentSubscriber;t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}},t.prototype.error=function(e){if(!this.isStopped){var t=this._parentSubscriber;if(this._error)t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else{if(!t.syncErrorThrowable)throw this.unsubscribe(),e;t.syncErrorValue=e,t.syncErrorThrown=!0,this.unsubscribe()}}},t.prototype.complete=function(){var e=this;if(!this.isStopped){var t=this._parentSubscriber;if(this._complete){var n=function(){return e._complete.call(e._context)};t.syncErrorThrowable?(this.__tryOrSetError(t,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}},t.prototype.__tryOrUnsub=function(e,t){try{e.call(this._context,t)}catch(e){throw this.unsubscribe(),e}},t.prototype.__tryOrSetError=function(e,t,n){try{t.call(this._context,n)}catch(t){return e.syncErrorValue=t,e.syncErrorThrown=!0,!0}return!1},t.prototype._unsubscribe=function(){var e=this._parentSubscriber;this._context=null,this._parentSubscriber=null,e.unsubscribe()},t}(u);function c(e){return e instanceof u||"syncErrorThrowable"in e&&e[s.rxSubscriber]}},,function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){var r=n(17).FilterCSS,i=n(17).getDefaultWhiteList,o=n(18);function a(){return{a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","loop","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],sup:[],strong:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","loop","preload","src","height","width"]}}var s=new r;function u(e){return e.replace(l,"&lt;").replace(c,"&gt;")}var l=/</g,c=/>/g,d=/"/g,f=/&quot;/g,h=/&#([a-zA-Z0-9]*);?/gim,p=/&colon;?/gim,m=/&newline;?/gim,g=/((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a)\:/gi,y=/e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\(.*/gi,v=/u\s*r\s*l\s*\(.*/gi;function b(e){return e.replace(d,"&quot;")}function _(e){return e.replace(f,'"')}function w(e){return e.replace(h,function(e,t){return"x"===t[0]||"X"===t[0]?String.fromCharCode(parseInt(t.substr(1),16)):String.fromCharCode(parseInt(t,10))})}function k(e){return e.replace(p,":").replace(m," ")}function E(e){for(var t="",n=0,r=e.length;n<r;n++)t+=e.charCodeAt(n)<32?" ":e.charAt(n);return o.trim(t)}function x(e){return e=E(e=k(e=w(e=_(e))))}function S(e){return e=u(e=b(e))}var M=/<!--[\s\S]*?-->/g;t.whiteList={a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","loop","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],sup:[],strong:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","loop","preload","src","height","width"]},t.getDefaultWhiteList=a,t.onTag=function(e,t,n){},t.onIgnoreTag=function(e,t,n){},t.onTagAttr=function(e,t,n){},t.onIgnoreTagAttr=function(e,t,n){},t.safeAttrValue=function(e,t,n,r){if(n=x(n),"href"===t||"src"===t){if("#"===(n=o.trim(n)))return"#";if("http://"!==n.substr(0,7)&&"https://"!==n.substr(0,8)&&"mailto:"!==n.substr(0,7)&&"tel:"!==n.substr(0,4)&&"#"!==n[0]&&"/"!==n[0])return""}else if("background"===t){if(g.lastIndex=0,g.test(n))return""}else if("style"===t){if(y.lastIndex=0,y.test(n))return"";if(v.lastIndex=0,v.test(n)&&(g.lastIndex=0,g.test(n)))return"";!1!==r&&(n=(r=r||s).process(n))}return n=S(n)},t.escapeHtml=u,t.escapeQuote=b,t.unescapeQuote=_,t.escapeHtmlEntities=w,t.escapeDangerHtml5Entities=k,t.clearNonPrintableCharacter=E,t.friendlyAttrValue=x,t.escapeAttrValue=S,t.onIgnoreTagStripAll=function(){return""},t.StripTagBody=function(e,t){"function"!=typeof t&&(t=function(){});var n=!Array.isArray(e),r=[],i=!1;return{onIgnoreTag:function(a,s,u){if(function(t){return!!n||-1!==o.indexOf(e,t)}(a)){if(u.isClosing){var l="[/removed]",c=u.position+l.length;return r.push([!1!==i?i:u.position,c]),i=!1,l}return i||(i=u.position),"[removed]"}return t(a,s,u)},remove:function(e){var t="",n=0;return o.forEach(r,function(r){t+=e.slice(n,r[0]),n=r[1]}),t+=e.slice(n)}}},t.stripCommentTag=function(e){return e.replace(M,"")},t.stripBlankChar=function(e){var t=e.split("");return(t=t.filter(function(e){var t=e.charCodeAt(0);return!(127===t||t<=31&&10!==t&&13!==t)})).join("")},t.cssFilter=s,t.getDefaultCSSWhiteList=i},function(e,t){function n(){var e={"align-content":!1,"align-items":!1,"align-self":!1,"alignment-adjust":!1,"alignment-baseline":!1,all:!1,"anchor-point":!1,animation:!1,"animation-delay":!1,"animation-direction":!1,"animation-duration":!1,"animation-fill-mode":!1,"animation-iteration-count":!1,"animation-name":!1,"animation-play-state":!1,"animation-timing-function":!1,azimuth:!1,"backface-visibility":!1,background:!0,"background-attachment":!0,"background-clip":!0,"background-color":!0,"background-image":!0,"background-origin":!0,"background-position":!0,"background-repeat":!0,"background-size":!0,"baseline-shift":!1,binding:!1,bleed:!1,"bookmark-label":!1,"bookmark-level":!1,"bookmark-state":!1,border:!0,"border-bottom":!0,"border-bottom-color":!0,"border-bottom-left-radius":!0,"border-bottom-right-radius":!0,"border-bottom-style":!0,"border-bottom-width":!0,"border-collapse":!0,"border-color":!0,"border-image":!0,"border-image-outset":!0,"border-image-repeat":!0,"border-image-slice":!0,"border-image-source":!0,"border-image-width":!0,"border-left":!0,"border-left-color":!0,"border-left-style":!0,"border-left-width":!0,"border-radius":!0,"border-right":!0,"border-right-color":!0,"border-right-style":!0,"border-right-width":!0,"border-spacing":!0,"border-style":!0,"border-top":!0,"border-top-color":!0,"border-top-left-radius":!0,"border-top-right-radius":!0,"border-top-style":!0,"border-top-width":!0,"border-width":!0,bottom:!1,"box-decoration-break":!0,"box-shadow":!0,"box-sizing":!0,"box-snap":!0,"box-suppress":!0,"break-after":!0,"break-before":!0,"break-inside":!0,"caption-side":!1,chains:!1,clear:!0,clip:!1,"clip-path":!1,"clip-rule":!1,color:!0,"color-interpolation-filters":!0,"column-count":!1,"column-fill":!1,"column-gap":!1,"column-rule":!1,"column-rule-color":!1,"column-rule-style":!1,"column-rule-width":!1,"column-span":!1,"column-width":!1,columns:!1,contain:!1,content:!1,"counter-increment":!1,"counter-reset":!1,"counter-set":!1,crop:!1,cue:!1,"cue-after":!1,"cue-before":!1,cursor:!1,direction:!1,display:!0,"display-inside":!0,"display-list":!0,"display-outside":!0,"dominant-baseline":!1,elevation:!1,"empty-cells":!1,filter:!1,flex:!1,"flex-basis":!1,"flex-direction":!1,"flex-flow":!1,"flex-grow":!1,"flex-shrink":!1,"flex-wrap":!1,float:!1,"float-offset":!1,"flood-color":!1,"flood-opacity":!1,"flow-from":!1,"flow-into":!1,font:!0,"font-family":!0,"font-feature-settings":!0,"font-kerning":!0,"font-language-override":!0,"font-size":!0,"font-size-adjust":!0,"font-stretch":!0,"font-style":!0,"font-synthesis":!0,"font-variant":!0,"font-variant-alternates":!0,"font-variant-caps":!0,"font-variant-east-asian":!0,"font-variant-ligatures":!0,"font-variant-numeric":!0,"font-variant-position":!0,"font-weight":!0,grid:!1,"grid-area":!1,"grid-auto-columns":!1,"grid-auto-flow":!1,"grid-auto-rows":!1,"grid-column":!1,"grid-column-end":!1,"grid-column-start":!1,"grid-row":!1,"grid-row-end":!1,"grid-row-start":!1,"grid-template":!1,"grid-template-areas":!1,"grid-template-columns":!1,"grid-template-rows":!1,"hanging-punctuation":!1,height:!0,hyphens:!1,icon:!1,"image-orientation":!1,"image-resolution":!1,"ime-mode":!1,"initial-letters":!1,"inline-box-align":!1,"justify-content":!1,"justify-items":!1,"justify-self":!1,left:!1,"letter-spacing":!0,"lighting-color":!0,"line-box-contain":!1,"line-break":!1,"line-grid":!1,"line-height":!1,"line-snap":!1,"line-stacking":!1,"line-stacking-ruby":!1,"line-stacking-shift":!1,"line-stacking-strategy":!1,"list-style":!0,"list-style-image":!0,"list-style-position":!0,"list-style-type":!0,margin:!0,"margin-bottom":!0,"margin-left":!0,"margin-right":!0,"margin-top":!0,"marker-offset":!1,"marker-side":!1,marks:!1,mask:!1,"mask-box":!1,"mask-box-outset":!1,"mask-box-repeat":!1,"mask-box-slice":!1,"mask-box-source":!1,"mask-box-width":!1,"mask-clip":!1,"mask-image":!1,"mask-origin":!1,"mask-position":!1,"mask-repeat":!1,"mask-size":!1,"mask-source-type":!1,"mask-type":!1,"max-height":!0,"max-lines":!1,"max-width":!0,"min-height":!0,"min-width":!0,"move-to":!1,"nav-down":!1,"nav-index":!1,"nav-left":!1,"nav-right":!1,"nav-up":!1,"object-fit":!1,"object-position":!1,opacity:!1,order:!1,orphans:!1,outline:!1,"outline-color":!1,"outline-offset":!1,"outline-style":!1,"outline-width":!1,overflow:!1,"overflow-wrap":!1,"overflow-x":!1,"overflow-y":!1,padding:!0,"padding-bottom":!0,"padding-left":!0,"padding-right":!0,"padding-top":!0,page:!1,"page-break-after":!1,"page-break-before":!1,"page-break-inside":!1,"page-policy":!1,pause:!1,"pause-after":!1,"pause-before":!1,perspective:!1,"perspective-origin":!1,pitch:!1,"pitch-range":!1,"play-during":!1,position:!1,"presentation-level":!1,quotes:!1,"region-fragment":!1,resize:!1,rest:!1,"rest-after":!1,"rest-before":!1,richness:!1,right:!1,rotation:!1,"rotation-point":!1,"ruby-align":!1,"ruby-merge":!1,"ruby-position":!1,"shape-image-threshold":!1,"shape-outside":!1,"shape-margin":!1,size:!1,speak:!1,"speak-as":!1,"speak-header":!1,"speak-numeral":!1,"speak-punctuation":!1,"speech-rate":!1,stress:!1,"string-set":!1,"tab-size":!1,"table-layout":!1,"text-align":!0,"text-align-last":!0,"text-combine-upright":!0,"text-decoration":!0,"text-decoration-color":!0,"text-decoration-line":!0,"text-decoration-skip":!0,"text-decoration-style":!0,"text-emphasis":!0,"text-emphasis-color":!0,"text-emphasis-position":!0,"text-emphasis-style":!0,"text-height":!0,"text-indent":!0,"text-justify":!0,"text-orientation":!0,"text-overflow":!0,"text-shadow":!0,"text-space-collapse":!0,"text-transform":!0,"text-underline-position":!0,"text-wrap":!0,top:!1,transform:!1,"transform-origin":!1,"transform-style":!1,transition:!1,"transition-delay":!1,"transition-duration":!1,"transition-property":!1,"transition-timing-function":!1,"unicode-bidi":!1,"vertical-align":!1,visibility:!1,"voice-balance":!1,"voice-duration":!1,"voice-family":!1,"voice-pitch":!1,"voice-range":!1,"voice-rate":!1,"voice-stress":!1,"voice-volume":!1,volume:!1,"white-space":!1,widows:!1,width:!0,"will-change":!1,"word-break":!0,"word-spacing":!0,"word-wrap":!0,"wrap-flow":!1,"wrap-through":!1,"writing-mode":!1,"z-index":!1};return e}var r=/javascript\s*\:/gim;t.whiteList=n(),t.getDefaultWhiteList=n,t.onAttr=function(e,t,n){},t.onIgnoreAttr=function(e,t,n){},t.safeAttrValue=function(e,t){return r.test(t)?"":t}},function(e,t){e.exports={indexOf:function(e,t){var n,r;if(Array.prototype.indexOf)return e.indexOf(t);for(n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},forEach:function(e,t,n){var r,i;if(Array.prototype.forEach)return e.forEach(t,n);for(r=0,i=e.length;r<i;r++)t.call(n,e[r],r,e)},trim:function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},trimRight:function(e){return String.prototype.trimRight?e.trimRight():e.replace(/(\s*$)/g,"")}}},function(e,t,n){var r=n(18);function i(e){var t=r.spaceIndex(e);if(-1===t)var n=e.slice(1,-1);else n=e.slice(1,t+1);return"/"===(n=r.trim(n).toLowerCase()).slice(0,1)&&(n=n.slice(1)),"/"===n.slice(-1)&&(n=n.slice(0,-1)),n}function o(e){return"</"===e.slice(0,2)}var a=/[^a-zA-Z0-9_:\.\-]/gim;function s(e,t){for(;t<e.length;t++){var n=e[t];if(" "!==n)return"="===n?t:-1}}function u(e,t){for(;t>0;t--){var n=e[t];if(" "!==n)return"="===n?t:-1}}function l(e){return function(e){return'"'===e[0]&&'"'===e[e.length-1]||"'"===e[0]&&"'"===e[e.length-1]}(e)?e.substr(1,e.length-2):e}t.parseTag=function(e,t,n){"user strict";var r="",a=0,s=!1,u=!1,l=0,c=e.length,d="",f="";for(l=0;l<c;l++){var h=e.charAt(l);if(!1===s){if("<"===h){s=l;continue}}else if(!1===u){if("<"===h){r+=n(e.slice(a,l)),s=l,a=l;continue}if(">"===h){r+=n(e.slice(a,s)),d=i(f=e.slice(s,l+1)),r+=t(s,r.length,d,f,o(f)),a=l+1,s=!1;continue}if(('"'===h||"'"===h)&&"="===e.charAt(l-1)){u=h;continue}}else if(h===u){u=!1;continue}}return a<e.length&&(r+=n(e.substr(a))),r},t.parseAttr=function(e,t){"user strict";var n=0,i=[],o=!1,c=e.length;function d(e,n){if(!((e=(e=r.trim(e)).replace(a,"").toLowerCase()).length<1)){var o=t(e,n||"");o&&i.push(o)}}for(var f=0;f<c;f++){var h,p=e.charAt(f);if(!1!==o||"="!==p)if(!1===o||f!==n||'"'!==p&&"'"!==p||"="!==e.charAt(f-1)){if(/\s|\n|\t/.test(p)){if(e=e.replace(/\s|\n|\t/g," "),!1===o){if(-1===(h=s(e,f))){d(r.trim(e.slice(n,f))),o=!1,n=f+1;continue}f=h-1;continue}if(-1===(h=u(e,f-1))){d(o,l(r.trim(e.slice(n,f)))),o=!1,n=f+1;continue}}}else{if(-1===(h=e.indexOf(p,f+1)))break;d(o,r.trim(e.slice(n+1,h))),o=!1,n=(f=h)+1}else o=e.slice(n,f),n=f+1}return n<e.length&&(!1===o?d(e.slice(n)):d(o,l(r.trim(e.slice(n))))),r.trim(i.join(" "))}},,,function(e,t,n){"use strict";t.a=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=u(n(1)),o=u(n(48)),a=u(n(49)),s=u(n(10));function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={editorContent:"",subject:"",imageURL:null,fullVersion:""},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),r(t,[{key:"componentDidMount",value:function(){var e=this;this.getVersion().then(function(){e.initEditor()})}},{key:"getVersion",value:function(){var e=this;return new Promise(function(t,n){s.default.sendRequst("/api/install/version",{},function(n,r){r&&r.fullVersion?e.setState({fullVersion:r.fullVersion},function(){t("done")}):e.setState({fullVersion:"v2.1.3"},function(){t("done")})},"GET",!0,!0)})}},{key:"initEditor",value:function(){var e,t=this,n=new o.default("#feedback-tool","#feedback-editor");n.customConfig.menus=["fontSize","italic","underline","foreColor","link","image","undo","redo"],n.customConfig.lang=(l(e={"":"Font Size","":"Color","":"Link Text","":"Remove Link","":" Link","":"Upload Image","":"Web Image"},"","Upload Image"),l(e,"","Edit Image"),l(e,"","Remove Image"),l(e,"","Image"),l(e,"","Max Width"),l(e,"","Upload"),l(e,"","Insert"),l(e,"","Init"),e),n.customConfig.zIndex=1,n.customConfig.uploadImgServer="/api/file/upload/feedback",n.customConfig.uploadImgMaxLength=1,n.customConfig.zIndex=100,n.customConfig.uploadImgHooks={customInsert:function(e,n,r){var i=n.data[0];e(i),t.setState({imageURL:i})}},n.customConfig.customAlert=function(e){},n.customConfig.onchange=function(e){t.setState({editorContent:e})},n.create()}},{key:"handleSubmit",value:function(){var e=this,t=this.state,n=t.subject,r=t.imageURL,i=t.editorContent;if(n&&i&&0!=n.length&&0!=i.length){var o=(0,a.default)(i);s.default.sendRequst("/api/feedback/addFeedback",{subject:n,detail:o,img:r},function(t,n){t?s.default.showHints(t.message,s.default.showTipType.warn,1800):(s.default.showHints("Message successful. Thank you for the feedback, we value your input.",s.default.showTipType.success,1800),e.handleClose())},"POST",!0,!0)}else s.default.showHints("Please complete subject line and message.",s.default.showTipType.warn,1200)}},{key:"handleSubjectChange",value:function(e){this.setState({subject:e.target.value})}},{key:"handleClose",value:function(){this.props.handleClose()}},{key:"render",value:function(){var e=this;return i.default.createElement("div",{id:"customModel",className:"modal show feedback",role:"dialog","aria-labelledby":"customModelLabel","aria-hidden":"false",style:{display:"block"}},i.default.createElement("div",{className:"modal-dialog",id:"feedback-dialog"},i.default.createElement("div",{className:"modal-content",id:"customModelContent"},i.default.createElement("div",{className:"modal-header"},i.default.createElement("h5",{className:"modal-title",id:"customModelTitle"},i.default.createElement("i",{className:"fa fa-comments"})," Feedback"),i.default.createElement("button",{type:"button",className:"close",onClick:function(){return e.handleClose()}},i.default.createElement("span",{"aria-hidden":"true"},""),i.default.createElement("span",{className:"sr-only"},"Close"))),i.default.createElement("div",{className:"modal-body text-left",id:"customModelBody"},i.default.createElement("div",{className:"form-group  "},i.default.createElement("label",{className:" "},"Subject"),i.default.createElement("input",{className:"form-control ",type:"text",placeholder:"Please enter your subject",onChange:function(t){return e.handleSubjectChange(t)},value:this.state.subject})),i.default.createElement("div",{className:"form-group "},i.default.createElement("label",{className:" "},"Message"),i.default.createElement("div",{id:"feedback-tool",className:"feedback-tool"}),i.default.createElement("div",{id:"feedback-editor",className:"feedback-editor"})),i.default.createElement("div",{className:"full-version"},"GraphXR Version : ",this.state.fullVersion)),i.default.createElement("div",{className:"modal-footer"},i.default.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(){return e.handleSubmit()}},"Submit"),i.default.createElement("button",{type:"button",className:"btn btn-info",onClick:function(){return e.handleClose()}},"Cancel")))))}}]),t}();t.default=c},,,,function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},function(e,t,n){"use strict";t.a=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},function(e,t,n){var r=n(71),i=r.Buffer;function o(e,t){for(var n in e)t[n]=e[n]}function a(e,t,n){return i(e,t,n)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=r:(o(r,t),t.Buffer=a),o(i,a),a.from=function(e,t,n){if("number"==typeof e)throw new TypeError("Argument must not be a number");return i(e,t,n)},a.alloc=function(e,t,n){if("number"!=typeof e)throw new TypeError("Argument must be a number");var r=i(e);return void 0!==t?"string"==typeof n?r.fill(t,n):r.fill(t):r.fill(0),r},a.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i(e)},a.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return r.SlowBuffer(e)}},,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.KeyboardState=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=s(n(11)),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(23)),a=s(n(429));function s(e){return e&&e.__esModule?e:{default:e}}var u=new THREEx.KeyboardState,l=null,c=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.graph=t,this.selectNodeIdsMap={},this.eventTypes={change:"change"},this.events={change:{}}}return r(e,null,[{key:"shareInstance",value:function(){return l||(l=new this),l}},{key:"bindGraph",value:function(e){return this.shareInstance().graph=e,this.shareInstance()}},{key:"selectWithNodeIds",value:function(e,t){return this.shareInstance().selectWithNodeIds(e,t),this.shareInstance()}},{key:"on",value:function(e,t,n){return this.shareInstance().on(e,t,n),this.shareInstance()}},{key:"getNodeWithId",value:function(e){return this.shareInstance().graph?this.shareInstance().graph.nodeSet[e]:null}},{key:"selectTypes",get:function(){return{new:"new",append:"append",removeSub:"removeSub"}}},{key:"center",get:function(){return this.shareInstance().center}},{key:"eventTypes",get:function(){return this.shareInstance().eventTypes}},{key:"singleNode",get:function(){return this.shareInstance().singleNode}},{key:"selectNodeIdsMap",get:function(){return this.shareInstance().selectNodeIdsMap||[]}},{key:"layoutNodeIds",get:function(){return this.shareInstance().graph?this.shareInstance().graph.layoutNodes.map(function(e){return e.id}):[]}}]),r(e,[{key:"on",value:function(e,t,n){this.events[e]&&t?(n=n||t.name,this.events[e][n]=t):this.events[e]&&!t&&this.events[e][n]?delete this.events[e][n]:console.warn("Only support the events :",Object.keys(this.events))}},{key:"_handleEvent",value:function(e,t){console.log("Select Changed :",e),this.events[e]&&i.default.size(this.events[e])>0&&i.default.forEach(this.events[e],function(e){e()})}},{key:"selectWithNodeIds",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(n=void 0===n?null:n,!t||!Array.isArray(t)&&"string"!=typeof t)return console.warn("Miss parmater nodeIds");Array.isArray(t)||(t=[t]),null===n||e.selectTypes[n]?null===n&&(n=u.pressed("ctrl")?e.selectTypes.append:u.pressed("alt")?e.selectTypes.removeSub:e.selectTypes.new):(console.warn("Only support the types["+e.selectTypes+"], please try use NodesSelectManager.selectTypes"),n=e.selectTypes.new);var r=this,o=[];switch(n){case e.selectTypes.append:t.forEach(function(e){r.selectNodeIdsMap[e]||(r.selectNodeIdsMap[e]=e,o.push(e))}),r.handleSelect(o,!0);break;case e.selectTypes.removeSub:t.forEach(function(e){r.selectNodeIdsMap[e]&&(delete r.selectNodeIdsMap[e],o.push(e))}),r.handleSelect(o,!1);break;case e.selectTypes.new:default:var s=Object.keys(r.selectNodeIdsMap).sort();r.handleSelect(s,!1),r.selectNodeIdsMap={},t.forEach(function(e){r.selectNodeIdsMap[e]=e});var l=Object.keys(r.selectNodeIdsMap).sort();i.default.isEqual(l,s)||(o=l.length>0?l:s),r.handleSelect(l,!0)}o.length>0&&(r._handleEvent(r.eventTypes.change,{type:n,nodeIds:t}),a.default.updateNodeIds(Object.keys(this.selectNodeIdsMap),this.graph))}},{key:"forceChangeEvent",value:function(){this._handleEvent(this.eventTypes.change,{type:e.selectTypes.new,nodeIds:Object.keys(this.selectNodeIdsMap)})}},{key:"handleSelect",value:function(e,t){var n=this;i.default.forEach(e,function(e){n.graph.nodeSet[e]&&(n.graph.nodeSet[e].selected=!!t)})}},{key:"center",get:function(){var e=this,t=new o.Vector3(0,0,0),n=0;return i.default.forEach(this.selectNodeIdsMap,function(r){e.graph.nodeSet[r]&&(t.add(e.graph.nodeSet[r].position),n++)}),t.divideScalar(n||1),t}},{key:"singleNode",get:function(){var e=i.default.size(this.selectNodeIdsMap),t=i.default.size(this.graph.nodeSet);return 1==e?{total:t,selectCount:e,node:this.graph.nodeSet[Object.keys(this.selectNodeIdsMap)[0]]}:{total:t,selectCount:e,node:null}}}]),e}();t.default=c,t.KeyboardState=u},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},i=function(e){function t(){e.apply(this,arguments)}return r(t,e),t.prototype.notifyNext=function(e,t,n,r,i){this.destination.next(t)},t.prototype.notifyError=function(e,t){this.destination.error(e)},t.prototype.notifyComplete=function(e){this.destination.complete()},t}(n(24).Subscriber);t.OuterSubscriber=i},function(e,t,n){"use strict";var r=n(116),i=n(1174),o=n(1175),a=n(1170),s=n(7),u=n(465),l=n(1998),c=n(562);t.subscribeToResult=function(e,t,n,d){var f=new l.InnerSubscriber(e,n,d);if(f.closed)return null;if(t instanceof s.Observable)return t._isScalar?(f.next(t.value),f.complete(),null):(f.syncErrorThrowable=!0,t.subscribe(f));if(i.isArrayLike(t)){for(var h=0,p=t.length;h<p&&!f.closed;h++)f.next(t[h]);f.closed||f.complete()}else{if(o.isPromise(t))return t.then(function(e){f.closed||(f.next(e),f.complete())},function(e){return f.error(e)}).then(null,function(e){r.root.setTimeout(function(){throw e})}),f;if(t&&"function"==typeof t[u.iterator])for(var m=t[u.iterator]();;){var g=m.next();if(g.done){f.complete();break}if(f.next(g.value),f.closed)break}else if(t&&"function"==typeof t[c.observable]){var y=t[c.observable]();if("function"==typeof y.subscribe)return y.subscribe(new l.InnerSubscriber(e,n,d));f.error(new TypeError("Provided object does not correctly implement Symbol.observable"))}else{var v="You provided "+(a.isObject(t)?"an invalid object":"'"+t+"'")+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.";f.error(new TypeError(v))}}return null}},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0});var i=f(n(84)),o=f(n(11)),a=f(n(101)),s=f(n(10)),u=f(n(106)),l=(f(n(105)),d(n(270))),c=d(n(253));function d(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function f(e){return e&&e.__esModule?e:{default:e}}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var p={neo4jBaseInfo:(r={alreadyInit:!1,labels:[],relationships:[],properties:[],querys:[],icon:"/public/default_icons/spritesheet.png",iconMap:{},models:[],useModel:!1,indexableKeys:[],labelConfigs:[],relationshipConfigs:[]},h(r,"indexableKeys",["name"]),h(r,"useModel",!0),h(r,"searchKey","man"),h(r,"isNIH",!1),h(r,"meta",{labels:{},relationships:{},indexs:{},schema:{}}),h(r,"summary",{version:"neo4j/1.0.0"}),r),dataFilters:{},addDataFilter:function(e,t){if("function"!=typeof e)return console.warn("The filter must be as function.");this.dataFilters[t]&&(console.warn("The filter["+t+"] will be replaced."),this.dataFilters[t]=e)},initNeo4jBaseInfo:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return new Promise(function(t){if(p.neo4jBaseInfo.alreadyInit&&!e)return t({err:null});i.default.waterfall([function(e){a.default.getNeo4jBaseInfo().then(function(t){e(null,t)}).catch(function(t){e(t)})},function(e,t){a.default.getCurrentCacheProject()._id?s.default.sendRequst("/api/graph/"+window.globalVariable.graphDatabaseType+"/neo4jBaseInfo",{labels:e.labels,projectId:a.default.getProjectId()},function(n,r){t(null,Object.assign(e,r&&r.content?r.content:{}))},"POST",!0,!0):(console.log("Can't got the cache project info, So can't update the asyn the config info from server"),t(null,e))},function(e,t){a.default.getProps({labels:!0,relationships:!0},!0).then(function(n){e.meta=Object.assign({},e.meta,n),t(null,e)}).catch(function(n){t(null,e)})}],function(e,n){Object.assign(p.neo4jBaseInfo,n||{},{alreadyInit:!0}),p.neo4jBaseInfo.alreadyInit=!0;var r=["Publication","Events"];return p.neo4jBaseInfo.isNIH=r.filter(function(e){return p.neo4jBaseInfo.labels.includes(e)}).length==r.length,t({err:e})})})},getNeo4jVersion:function(){return p.initNeo4jBaseInfo().then(function(){return new Promise(function(e,t){e(p.neo4jBaseInfo.summary.version)})})},getConfig:function(){return p.initNeo4jBaseInfo().then(function(){return new Promise(function(e,t){e(p.neo4jBaseInfo)})})},getTypes:function(){return p.initNeo4jBaseInfo().then(function(){return new Promise(function(e,t){e(p.neo4jBaseInfo.labels)})})},getProperties:function(){return p.initNeo4jBaseInfo().then(function(){return new Promise(function(e,t){var n=[];p.neo4jBaseInfo.labels.forEach(function(e){var t=u.default.instance().getLabelConfig(e);n=n.concat(o.default.map(t.properties,function(e,t){return!0===e?t:null}).filter(function(e){return null!==e}))}),e(o.default.filter(p.neo4jBaseInfo.properties,function(e){return!n.includes(e)}))})})},getIndexableKeys:function(){return p.initNeo4jBaseInfo().then(function(){return new Promise(function(e,t){e(p.neo4jBaseInfo.indexableKeys||[])})})},getSampleQuery:function(){return p.initNeo4jBaseInfo().then(function(){return new Promise(function(e,t){e({sampleQuerys:p.neo4jBaseInfo.querys,customQuerys:p.neo4jBaseInfo.customQuery}||{})})})},getRelationships:function(){return p.initNeo4jBaseInfo().then(function(){return new Promise(function(e,t){e(p.neo4jBaseInfo.relationships||[])})})},getSchema:function(){return p.initNeo4jBaseInfo().then(function(){return new Promise(function(e,t){e(p.neo4jBaseInfo.meta.schema||{})})})},convertToFullSearchQuery:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return!p.isSupportFulltextSearch()?a.default.convertToAPOCQuery(e,t):a.default.convertToIndexQuery(e,t)},configFullSearchIndex:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{labelName:{propA:"isSelected[true/false]"}},t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return!e||e.labelName&&"propVal"==e.labelName.propA?reject(new Error("Can't support the labelsConfig")):new Promise(function(n,r){i.default.waterfall([function(e){return a.default.removeSearchIndex().then(function(){e(null)}).catch(function(t){e(null)})},function(n){var r=p.convertToFullSearchQuery(e);return a.default.excuteCommand(r,t).then(function(e){n(null)}).catch(function(e){n(e)})}],function(e){e?r(e):n({message:"Search Index Config Successful"})})})},getIndex:function(){return p.initNeo4jBaseInfo().then(function(){return!p.isSupportFulltextSearch()?a.default.getAPOCIndex():a.default.getFullSearchIndex().then(function(e){var t=p.neo4jBaseInfo.meta.labels,n={};return e&&e.labels&&e.props&&e.labels.forEach(function(r){n[r]={},e.props.forEach(function(e){t[r]&&t[r].props&&t[r].props.includes(e)&&(n[r][e]=!0)})}),n})})},isSupportFulltextSearch:function(){return Number(String(p.neo4jBaseInfo.summary.version).replace(/.*\/(\d+\.\d+).*/gi,"$1"))>=3.5},searchGraph:function(e){return p.initNeo4jBaseInfo().then(function(){var t=!p.isSupportFulltextSearch();return a.default.searchGraph(e,t)})},getNodeNeighbors:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:25,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return a.default.getNodeNeighbors(e,t,n)},excuteCommand:function(e,t){return a.default.excuteCommand(e,t)},getLabelProps:function(e){return p.initNeo4jBaseInfo().then(function(){return(p.neo4jBaseInfo.meta.labels[e]||{}).props||[]})},getRelationshipProps:function(e){return p.initNeo4jBaseInfo().then(function(){return(p.neo4jBaseInfo.meta.relationships[e]||{}).props||[]})},setLabelConfig:function(e,t){return new Promise(function(n,r){if(!a.default.hasShareContrl())return r(new Error("This operation requires additional permissions."));s.default.request("/api/graph/"+window.globalVariable.graphDatabaseType+"/label/"+e+"/properties",{labelConfig:t,projectId:a.default.getProjectId()},function(e,t){return e||0!=t.status?(console.error(e),r(e)):n(t.content||{})},"POST")})},setRelationshipConfig:function(e,t){return new Promise(function(n,r){if(!a.default.hasShareContrl())return r(new Error("This operation requires additional permissions."));s.default.request("/api/graph/"+window.globalVariable.graphDatabaseType+"/relationship/"+e,{relationshipConfig:t,projectId:a.default.getProjectId()},function(e,t){return e||0!=t.status?(console.error(e),r(e)):n(t.content||{})},"POST")})},addQuery:function(e){return new Promise(function(t,n){if(!a.default.hasShareContrl())return n(new Error("This operation requires additional permissions."));s.default.request("/api/graph/"+window.globalVariable.graphDatabaseType+"/addQuery",{query:e,projectId:a.default.getProjectId()},function(e,r){return e||0!=r.status?(console.error(e),n(e)):t(r.content||{})},"POST")})},deleteQuery:function(e){return new Promise(function(t,n){if(!a.default.hasShareContrl())return n(new Error("This operation requires additional permissions."));s.default.request("/api/graph/"+window.globalVariable.graphDatabaseType+"/deleteQuery",{query:e,projectId:a.default.getProjectId()},function(e,r){return e||0!=r.status?(console.error(e),n(e)):t(r.content||{})},"POST")})},getProjects:function(){var e=new Promise(function(e,t){s.default.sendRequst("/api/graph/neo4j/project/list",{},function(n,r){return n||0!=r.status?(console.error(n),t(n)):e(r.content)},"POST")}),t=new Promise(function(e,t){s.default.sendRequst("/api/userShareProjects/getAllProjectByUser",{},function(n,r){return n||0!=r.status?(console.error(n),t(n)):e(r.content)},"POST")});return Promise.all([e,t]).then(function(e){return{personalProjects:e[0],shareProjects:e[1]}})},getUserByKeyword:function(e){return new Promise(function(t,n){s.default.sendRequst("/api/user/getUserByKeyword",e,function(e,r){return e||0!=r.status?(console.error(e),n(e)):t(r.content)},"POST")})},addUserToShareProject:function(e){return new Promise(function(t,n){s.default.sendRequst("/api/userShareProjects/addUserToShareProject",{addInfo:e},function(e,r){return e||0!=r.status?(console.error(e),n(e)):t(r.content)},"POST")})},getAllUserByProject:function(e){return new Promise(function(t,n){s.default.sendRequst("/api/userShareProjects/getAllUserByProject",{projectId:e.id},function(e,r){return e||0!=r.status?(console.error(e),n(e)):t(r.content)},"POST")})},changeUserPurviewById:function(e){return new Promise(function(t,n){s.default.sendRequst("/api/userShareProjects/changeUserPurviewById",{id:e.id,purview:e.purview},function(e,r){return e||0!=r.status?(console.error(e),n(e)):t(r.content)},"POST")})},getAllProjectByUser:function(e){return new Promise(function(t,n){s.default.sendRequst("/api/userShareProjects/getAllProjectByUser",{projectId:e.id},function(e,r){return e||0!=r.status?(console.error(e),n(e)):t(r.content)},"POST")})},deleteShareProjectById:function(e){return new Promise(function(t,n){s.default.sendRequst("/api/userShareProjects/deleteShareProjectById",{id:e.id},function(e,r){return e||0!=r.status?(console.error(e),n(e)):t(r.content)},"POST")})},addProject:function(e){return new Promise(function(t,n){i.default.waterfall([function(t){e.isLocal?p.checkConnection(e).then(function(n){e.isLocal=n,t(null,e)}).catch(function(e){t(e)}):t(null,e)}],function(e,r){if(e)return n(e);s.default.sendRequst("/api/graph/neo4j/project/add",{dbinfo:r},function(e,r){return e||0!=r.status?(e=e||new Error(r.message||"add fail"),n(e)):t(r.content)},"POST")})})},deleteProject:function(e){return new Promise(function(t,n){s.default.sendRequst("/api/graph/neo4j/project/delete",{projectId:e},function(e,r){return e||0!=r.status?(console.error(e),n(e)):t(r.content)},"POST")})},shareProject:function(e,t){return new Promise(function(n,r){s.default.sendRequst("/api/graph/neo4j/project/share",{projectId:e,isShare:t},function(e,t){return e||0!=t.status?(console.error(e),r(e)):n(t.content)},"POST")})},getInfoById:function(e){return new Promise(function(t,n){s.default.sendRequst("/api/graph/neo4j/project/getInfo",{id:e},function(e,r){0==r.status?t(r.content):n(r.message)},"GET",!0,!0)})},configNeo4jDBHost:function(e){return new Promise(function(t,n){s.default.sendRequst("/api/graph/neo4j/configDemoHost",{host:e,id:"configDemoHost"},function(e,r){return e||0!=r.status?(console.error(e),n(e)):(c.cleanConnections(),t(r.content))},"POST")})},logout:function(){return new Promise(function(e,t){s.default.sendRequst("/api/user/logout",{},function(n,r){return n||0!=r.status?(console.error(n),t(n)):e(r.content)},"POST")})},isLocalHostname:function(e){return/^localhost|(^127\.)|(^(0)?10\.)|(^172\.(0)?1[6-9]\.)|(^172\.(0)?2[0-9]\.)|(^172\.(0)?3[0-1]\.)|(^169\.254\.)|(^192\.168\.)/.test(String(e))},checkConnection:function(e){return new Promise(function(t,n){var r=Object.assign({isCheckOnly:!0},e);i.default.waterfall([function(e){p.isLocalHostname(r.hostname)||r.isLocal?e(null,!0):s.default.sendRequst("/api/graph/neo4j/project/checkConnect",{dbinfo:r},function(t,n){e(null,!(!t&&0==n.status))},"POST",!1,!0)},function(e,t){e?l.checkConnect(r.hostname,r.boltPort,r.username,r.password,function(e){t(e,!0,r)}):t(null,!1)}],function(e,r,i){e?(e=a.default.friendlyError(e,i&&i.hostname&&i.boltPort?i.hostname+":"+i.boltPort:null),n(e)):t(r)})})}};window._requestData=p,t.default=p},function(e,t,n){var r;r=function(){"use strict";function e(e){return!!e&&(e instanceof HTMLCollection||e instanceof NodeList)}var t=[];function n(t){if(t){if(t instanceof n)return t;this.selector=t;var r,i,o=t.nodeType,a=[];9===o?a=[t]:1===o?a=[t]:e(t)||t instanceof Array?a=t:"string"==typeof t&&(0===(t=t.replace("/\n/mg","").trim()).indexOf("<")?(r=t,i=void 0,(i=document.createElement("div")).innerHTML=r,a=i.children):a=function(t){var n=document.querySelectorAll(t);return e(n)?n:[n]}(t));var s=a.length;if(!s)return this;var u=void 0;for(u=0;u<s;u++)this[u]=a[u];this.length=s}}function r(e){return new n(e)}n.prototype={constructor:n,forEach:function(e){var t=void 0;for(t=0;t<this.length;t++){var n=this[t];if(!1===e.call(n,n,t))break}return this},clone:function(e){var t=[];return this.forEach(function(n){t.push(n.cloneNode(!!e))}),r(t)},get:function(e){var t=this.length;return e>=t&&(e%=t),r(this[e])},first:function(){return this.get(0)},last:function(){var e=this.length;return this.get(e-1)},on:function(e,n,r){r||(r=n,n=null);var i=[];return i=e.split(/\s+/),this.forEach(function(e){i.forEach(function(i){i&&(t.push({elem:e,type:i,fn:r}),n?e.addEventListener(i,function(e){var t=e.target;t.matches(n)&&r.call(t,e)}):e.addEventListener(i,r))})})},off:function(e,t){return this.forEach(function(n){n.removeEventListener(e,t)})},attr:function(e,t){return null==t?this[0].getAttribute(e):this.forEach(function(n){n.setAttribute(e,t)})},addClass:function(e){return e?this.forEach(function(t){var n=void 0;t.className?((n=(n=t.className.split(/\s/)).filter(function(e){return!!e.trim()})).indexOf(e)<0&&n.push(e),t.className=n.join(" ")):t.className=e}):this},removeClass:function(e){return e?this.forEach(function(t){var n=void 0;t.className&&(n=(n=t.className.split(/\s/)).filter(function(t){return!(!(t=t.trim())||t===e)}),t.className=n.join(" "))}):this},css:function(e,t){var n=e+":"+t+";";return this.forEach(function(t){var r=(t.getAttribute("style")||"").trim(),i=[];r?(r.split(";").forEach(function(e){var t=e.split(":").map(function(e){return e.trim()});2===t.length&&i.push(t[0]+":"+t[1])}),(i=i.map(function(t){return 0===t.indexOf(e)?n:t})).indexOf(n)<0&&i.push(n),t.setAttribute("style",i.join("; "))):t.setAttribute("style",n)})},show:function(){return this.css("display","block")},hide:function(){return this.css("display","none")},children:function(){var e=this[0];return e?r(e.children):null},childNodes:function(){var e=this[0];return e?r(e.childNodes):null},append:function(e){return this.forEach(function(t){e.forEach(function(e){t.appendChild(e)})})},remove:function(){return this.forEach(function(e){if(e.remove)e.remove();else{var t=e.parentElement;t&&t.removeChild(e)}})},isContain:function(e){var t=this[0],n=e[0];return t.contains(n)},getSizeData:function(){return this[0].getBoundingClientRect()},getNodeName:function(){return this[0].nodeName},find:function(e){return r(this[0].querySelectorAll(e))},text:function(e){return e?this.forEach(function(t){t.innerHTML=e}):this[0].innerHTML.replace(/<.*?>/g,function(){return""})},html:function(e){var t=this[0];return null==e?t.innerHTML:(t.innerHTML=e,this)},val:function(){return this[0].value.trim()},focus:function(){return this.forEach(function(e){e.focus()})},parent:function(){return r(this[0].parentElement)},parentUntil:function(e,t){var n=document.querySelectorAll(e),i=n.length;if(!i)return null;var o=t||this[0];if("BODY"===o.nodeName)return null;var a=o.parentElement,s=void 0;for(s=0;s<i;s++)if(a===n[s])return r(a);return this.parentUntil(e,a)},equal:function(e){return 1===e.nodeType?this[0]===e:this[0]===e[0]},insertBefore:function(e){var t=r(e)[0];return t?this.forEach(function(e){t.parentNode.insertBefore(e,t)}):this},insertAfter:function(e){var t=r(e)[0];return t?this.forEach(function(e){var n=t.parentNode;n.lastChild===t?n.appendChild(e):n.insertBefore(e,t.nextSibling)}):this}},r.offAll=function(){t.forEach(function(e){var t=e.elem,n=e.type,r=e.fn;t.removeEventListener(n,r)})};var i={menus:["head","bold","fontSize","fontName","italic","underline","strikeThrough","foreColor","backColor","link","list","justify","quote","emoticon","image","table","video","code","undo","redo"],fontNames:["","","Arial","Tahoma","Verdana"],colors:["#000000","#eeece0","#1c487f","#4d80bf","#c24f4a","#8baa4a","#7b5ba1","#46acc8","#f9963b","#ffffff"],emotions:[{title:"",type:"image",content:[{alt:"[]",src:"http://img.t.sinajs.cn/t4/appstyle/expression/ext/normal/50/pcmoren_huaixiao_org.png"},{alt:"[]",src:"http://img.t.sinajs.cn/t4/appstyle/expression/ext/normal/40/pcmoren_tian_org.png"},{alt:"[]",src:"http://img.t.sinajs.cn/t4/appstyle/expression/ext/normal/3c/pcmoren_wu_org.png"}]},{title:"",type:"image",content:[{src:"http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/7a/shenshou_thumb.gif",alt:"[]"},{src:"http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/60/horse2_thumb.gif",alt:"[]"},{src:"http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/bc/fuyun_thumb.gif",alt:"[]"}]},{title:"emoji",type:"emoji",content:"                  ".split(/\s/)}],zIndex:1e4,debug:!1,linkCheck:function(e,t){return!0},linkImgCheck:function(e){return!0},pasteFilterStyle:!0,pasteIgnoreImg:!1,pasteTextHandle:function(e){return e},showLinkImg:!0,linkImgCallback:function(e){},uploadImgMaxSize:5242880,uploadImgShowBase64:!1,uploadFileName:"",uploadImgParams:{},uploadImgHeaders:{},withCredentials:!1,uploadImgTimeout:1e4,uploadImgHooks:{before:function(e,t,n){},success:function(e,t,n){},fail:function(e,t,n){},error:function(e,t){},timeout:function(e,t){}},qiniu:!1},o={_ua:navigator.userAgent,isWebkit:function(){return/webkit/i.test(this._ua)},isIE:function(){return"ActiveXObject"in window}};function a(e,t){var n=void 0;for(n in e)if(e.hasOwnProperty(n)&&!1===t.call(e,n,e[n]))break}function s(e,t){var n=void 0,r=void 0,i=e.length||0;for(n=0;n<i&&(r=e[n],!1!==t.call(e,r,n));n++);}function u(e){return e+Math.random().toString().slice(2)}function l(e){return null==e?"":e.replace(/</gm,"&lt;").replace(/>/gm,"&gt;").replace(/"/gm,"&quot;").replace(/(\r\n|\r|\n)/g,"<br/>")}function c(e){return"function"==typeof e}function d(e){this.editor=e,this.$elem=r('<div class="w-e-menu">\n            <i class="w-e-icon-bold"></i>\n        </div>'),this.type="click",this._active=!1}d.prototype={constructor:d,onClick:function(e){var t=this.editor,n=t.selection.isSelectionEmpty();n&&t.selection.createEmptyRange(),t.cmd.do("bold"),n&&(t.selection.collapseRange(),t.selection.restoreSelection())},tryChangeActive:function(e){var t=this.editor,n=this.$elem;t.cmd.queryCommandState("bold")?(this._active=!0,n.addClass("w-e-active")):(this._active=!1,n.removeClass("w-e-active"))}};var f=function(e,t){var n=t;return(e.config.langArgs||[]).forEach(function(e){var t=e.reg,r=e.val;t.test(n)&&(n=n.replace(t,function(){return r}))}),n},h=function(){};function p(e,t){var n=this,i=e.editor;this.menu=e,this.opt=t;var o=r('<div class="w-e-droplist"></div>'),a=t.$title,s=void 0;a&&(s=a.html(),s=f(i,s),a.html(s),a.addClass("w-e-dp-title"),o.append(a));var u=t.list||[],l=t.type||"list",c=t.onClick||h,d=r('<ul class="'+("list"===l?"w-e-list":"w-e-block")+'"></ul>');o.append(d),u.forEach(function(e){var t=e.$elem,o=t.html();o=f(i,o),t.html(o);var a=e.value,s=r('<li class="w-e-item"></li>');t&&(s.append(t),d.append(s),s.on("click",function(e){c(a),n.hideTimeoutId=setTimeout(function(){n.hide()},0)}))}),o.on("mouseleave",function(e){n.hideTimeoutId=setTimeout(function(){n.hide()},0)}),this.$container=o,this._rendered=!1,this._show=!1}function m(e){var t=this;this.editor=e,this.$elem=r('<div class="w-e-menu"><i class="w-e-icon-header"></i></div>'),this.type="droplist",this._active=!1,this.droplist=new p(this,{width:100,$title:r("<p></p>"),type:"list",list:[{$elem:r("<h1>H1</h1>"),value:"<h1>"},{$elem:r("<h2>H2</h2>"),value:"<h2>"},{$elem:r("<h3>H3</h3>"),value:"<h3>"},{$elem:r("<h4>H4</h4>"),value:"<h4>"},{$elem:r("<h5>H5</h5>"),value:"<h5>"},{$elem:r("<p></p>"),value:"<p>"}],onClick:function(e){t._command(e)}})}function g(e){var t=this;this.editor=e,this.$elem=r('<div class="w-e-menu"><i class="w-e-icon-text-heigh"></i></div>'),this.type="droplist",this._active=!1,this.droplist=new p(this,{width:160,$title:r("<p></p>"),type:"list",list:[{$elem:r('<span style="font-size: x-small;">x-small</span>'),value:"1"},{$elem:r('<span style="font-size: small;">small</span>'),value:"2"},{$elem:r("<span>normal</span>"),value:"3"},{$elem:r('<span style="font-size: large;">large</span>'),value:"4"},{$elem:r('<span style="font-size: x-large;">x-large</span>'),value:"5"},{$elem:r('<span style="font-size: xx-large;">xx-large</span>'),value:"6"}],onClick:function(e){t._command(e)}})}function y(e){var t=this;this.editor=e,this.$elem=r('<div class="w-e-menu"><i class="w-e-icon-font"></i></div>'),this.type="droplist",this._active=!1;var n=e.config.fontNames||[];this.droplist=new p(this,{width:100,$title:r("<p></p>"),type:"list",list:n.map(function(e){return{$elem:r('<span style="font-family: '+e+';">'+e+"</span>"),value:e}}),onClick:function(e){t._command(e)}})}p.prototype={constructor:p,show:function(){this.hideTimeoutId&&clearTimeout(this.hideTimeoutId);var e=this.menu.$elem,t=this.$container;if(!this._show){if(this._rendered)t.show();else{var n=e.getSizeData().height||0,r=this.opt.width||100;t.css("margin-top",n+"px").css("width",r+"px"),e.append(t),this._rendered=!0}this._show=!0}},hide:function(){this.showTimeoutId&&clearTimeout(this.showTimeoutId);var e=this.$container;this._show&&(e.hide(),this._show=!1)}},m.prototype={constructor:m,_command:function(e){var t=this.editor,n=t.selection.getSelectionContainerElem();t.$textElem.equal(n)||t.cmd.do("formatBlock",e)},tryChangeActive:function(e){var t=this.editor,n=this.$elem,r=t.cmd.queryCommandValue("formatBlock");/^h/i.test(r)?(this._active=!0,n.addClass("w-e-active")):(this._active=!1,n.removeClass("w-e-active"))}},g.prototype={constructor:g,_command:function(e){this.editor.cmd.do("fontSize",e)}},y.prototype={constructor:y,_command:function(e){this.editor.cmd.do("fontName",e)}};var v=function(){},b=[];function _(e,t){this.menu=e,this.opt=t}function w(e){this.editor=e,this.$elem=r('<div class="w-e-menu"><i class="w-e-icon-link"></i></div>'),this.type="panel",this._active=!1}function k(e){this.editor=e,this.$elem=r('<div class="w-e-menu">\n            <i class="w-e-icon-italic"></i>\n        </div>'),this.type="click",this._active=!1}function E(e){this.editor=e,this.$elem=r('<div class="w-e-menu">\n            <i class="w-e-icon-redo"></i>\n        </div>'),this.type="click",this._active=!1}function x(e){this.editor=e,this.$elem=r('<div class="w-e-menu">\n            <i class="w-e-icon-strikethrough"></i>\n        </div>'),this.type="click",this._active=!1}function S(e){this.editor=e,this.$elem=r('<div class="w-e-menu">\n            <i class="w-e-icon-underline"></i>\n        </div>'),this.type="click",this._active=!1}function M(e){this.editor=e,this.$elem=r('<div class="w-e-menu">\n            <i class="w-e-icon-undo"></i>\n        </div>'),this.type="click",this._active=!1}function T(e){var t=this;this.editor=e,this.$elem=r('<div class="w-e-menu"><i class="w-e-icon-list2"></i></div>'),this.type="droplist",this._active=!1,this.droplist=new p(this,{width:120,$title:r("<p></p>"),type:"list",list:[{$elem:r('<span><i class="w-e-icon-list-numbered"></i> </span>'),value:"insertOrderedList"},{$elem:r('<span><i class="w-e-icon-list2"></i> </span>'),value:"insertUnorderedList"}],onClick:function(e){t._command(e)}})}function C(e){var t=this;this.editor=e,this.$elem=r('<div class="w-e-menu"><i class="w-e-icon-paragraph-left"></i></div>'),this.type="droplist",this._active=!1,this.droplist=new p(this,{width:100,$title:r("<p></p>"),type:"list",list:[{$elem:r('<span><i class="w-e-icon-paragraph-left"></i> </span>'),value:"justifyLeft"},{$elem:r('<span><i class="w-e-icon-paragraph-center"></i> </span>'),value:"justifyCenter"},{$elem:r('<span><i class="w-e-icon-paragraph-right"></i> </span>'),value:"justifyRight"}],onClick:function(e){t._command(e)}})}function A(e){var t=this;this.editor=e,this.$elem=r('<div class="w-e-menu"><i class="w-e-icon-pencil2"></i></div>'),this.type="droplist";var n=e.config.colors||[];this._active=!1,this.droplist=new p(this,{width:120,$title:r("<p></p>"),type:"inline-block",list:n.map(function(e){return{$elem:r('<i style="color:'+e+';" class="w-e-icon-pencil2"></i>'),value:e}}),onClick:function(e){t._command(e)}})}function O(e){var t=this;this.editor=e,this.$elem=r('<div class="w-e-menu"><i class="w-e-icon-paint-brush"></i></div>'),this.type="droplist";var n=e.config.colors||[];this._active=!1,this.droplist=new p(this,{width:120,$title:r("<p></p>"),type:"inline-block",list:n.map(function(e){return{$elem:r('<i style="color:'+e+';" class="w-e-icon-paint-brush"></i>'),value:e}}),onClick:function(e){t._command(e)}})}function N(e){this.editor=e,this.$elem=r('<div class="w-e-menu">\n            <i class="w-e-icon-quotes-left"></i>\n        </div>'),this.type="click",this._active=!1}function L(e){this.editor=e,this.$elem=r('<div class="w-e-menu">\n            <i class="w-e-icon-terminal"></i>\n        </div>'),this.type="panel",this._active=!1}function j(e){this.editor=e,this.$elem=r('<div class="w-e-menu">\n            <i class="w-e-icon-happy"></i>\n        </div>'),this.type="panel",this._active=!1}function P(e){this.editor=e,this.$elem=r('<div class="w-e-menu"><i class="w-e-icon-table2"></i></div>'),this.type="panel",this._active=!1}function D(e){this.editor=e,this.$elem=r('<div class="w-e-menu"><i class="w-e-icon-play"></i></div>'),this.type="panel",this._active=!1}function I(e){this.editor=e;var t=u("w-e-img");this.$elem=r('<div class="w-e-menu" id="'+t+'"><i class="w-e-icon-image"></i></div>'),e.imgMenuId=t,this.type="panel",this._active=!1}_.prototype={constructor:_,show:function(){var e=this,t=this.menu;if(!(b.indexOf(t)>=0)){var n=t.editor,i=r("body"),o=n.$textContainerElem,a=this.opt,s=r('<div class="w-e-panel-container"></div>'),u=a.width||300;s.css("width",u+"px").css("margin-left",(0-u)/2+"px");var l=r('<i class="w-e-icon-close w-e-panel-close"></i>');s.append(l),l.on("click",function(){e.hide()});var c=r('<ul class="w-e-panel-tab-title"></ul>'),d=r('<div class="w-e-panel-tab-content"></div>');s.append(c).append(d);var h=a.height;h&&d.css("height",h+"px").css("overflow-y","auto");var p=a.tabs||[],m=[],g=[];p.forEach(function(e,t){if(e){var i=e.title||"",o=e.tpl||"";i=f(n,i),o=f(n,o);var a=r('<li class="w-e-item">'+i+"</li>");c.append(a);var s=r(o);d.append(s),a._index=t,m.push(a),g.push(s),0===t?(a._active=!0,a.addClass("w-e-active")):s.hide(),a.on("click",function(e){a._active||(m.forEach(function(e){e._active=!1,e.removeClass("w-e-active")}),g.forEach(function(e){e.hide()}),a._active=!0,a.addClass("w-e-active"),s.show())})}}),s.on("click",function(e){e.stopPropagation()}),i.on("click",function(t){e.hide()}),o.append(s),p.forEach(function(t,n){t&&(t.events||[]).forEach(function(t){var r=t.selector,i=t.type,o=t.fn||v;g[n].find(r).on(i,function(t){t.stopPropagation(),o(t)&&e.hide()})})});var y=s.find("input[type=text],textarea");y.length&&y.get(0).focus(),this.$container=s,this._hideOtherPanels(),b.push(t)}},hide:function(){var e=this.menu,t=this.$container;t&&t.remove(),b=b.filter(function(t){return t!==e})},_hideOtherPanels:function(){b.length&&b.forEach(function(e){var t=e.panel||{};t.hide&&t.hide()})}},w.prototype={constructor:w,onClick:function(e){var t=this.editor,n=void 0;if(this._active){if(!(n=t.selection.getSelectionContainerElem()))return;t.selection.createRangeByElem(n),t.selection.restoreSelection(),this._createPanel(n.text(),n.attr("href"))}else t.selection.isSelectionEmpty()?this._createPanel("",""):this._createPanel(t.selection.getSelectionText(),"")},_createPanel:function(e,t){var n=this,i=u("input-link"),o=u("input-text"),a=u("btn-ok"),s=u("btn-del"),l=this._active?"inline-block":"none",c=new _(this,{width:300,tabs:[{title:"",tpl:'<div>\n                            <input id="'+o+'" type="text" class="block" value="'+e+'" placeholder=""/></td>\n                            <input id="'+i+'" type="text" class="block" value="'+t+'" placeholder="http://..."/></td>\n                            <div class="w-e-button-container">\n                                <button id="'+a+'" class="right"></button>\n                                <button id="'+s+'" class="gray right" style="display:'+l+'"></button>\n                            </div>\n                        </div>',events:[{selector:"#"+a,type:"click",fn:function(){var e=r("#"+i),t=r("#"+o),a=e.val(),s=t.val();return n._insertLink(s,a),!0}},{selector:"#"+s,type:"click",fn:function(){return n._delLink(),!0}}]}]});c.show(),this.panel=c},_delLink:function(){if(this._active){var e=this.editor;if(e.selection.getSelectionContainerElem()){var t=e.selection.getSelectionText();e.cmd.do("insertHTML","<span>"+t+"</span>")}}},_insertLink:function(e,t){var n=this.editor,r=n.config.linkCheck,i=!0;r&&"function"==typeof r&&(i=r(e,t)),!0===i?n.cmd.do("insertHTML",'<a href="'+t+'" target="_blank">'+e+"</a>"):alert(i)},tryChangeActive:function(e){var t=this.editor,n=this.$elem,r=t.selection.getSelectionContainerElem();r&&("A"===r.getNodeName()?(this._active=!0,n.addClass("w-e-active")):(this._active=!1,n.removeClass("w-e-active")))}},k.prototype={constructor:k,onClick:function(e){var t=this.editor,n=t.selection.isSelectionEmpty();n&&t.selection.createEmptyRange(),t.cmd.do("italic"),n&&(t.selection.collapseRange(),t.selection.restoreSelection())},tryChangeActive:function(e){var t=this.editor,n=this.$elem;t.cmd.queryCommandState("italic")?(this._active=!0,n.addClass("w-e-active")):(this._active=!1,n.removeClass("w-e-active"))}},E.prototype={constructor:E,onClick:function(e){this.editor.cmd.do("redo")}},x.prototype={constructor:x,onClick:function(e){var t=this.editor,n=t.selection.isSelectionEmpty();n&&t.selection.createEmptyRange(),t.cmd.do("strikeThrough"),n&&(t.selection.collapseRange(),t.selection.restoreSelection())},tryChangeActive:function(e){var t=this.editor,n=this.$elem;t.cmd.queryCommandState("strikeThrough")?(this._active=!0,n.addClass("w-e-active")):(this._active=!1,n.removeClass("w-e-active"))}},S.prototype={constructor:S,onClick:function(e){var t=this.editor,n=t.selection.isSelectionEmpty();n&&t.selection.createEmptyRange(),t.cmd.do("underline"),n&&(t.selection.collapseRange(),t.selection.restoreSelection())},tryChangeActive:function(e){var t=this.editor,n=this.$elem;t.cmd.queryCommandState("underline")?(this._active=!0,n.addClass("w-e-active")):(this._active=!1,n.removeClass("w-e-active"))}},M.prototype={constructor:M,onClick:function(e){this.editor.cmd.do("undo")}},T.prototype={constructor:T,_command:function(e){var t=this.editor,n=t.$textElem;if(t.selection.restoreSelection(),!t.cmd.queryCommandState(e)){t.cmd.do(e);var r=t.selection.getSelectionContainerElem();if("LI"===r.getNodeName()&&(r=r.parent()),!1!==/^ol|ul$/i.test(r.getNodeName())&&!r.equal(n)){var i=r.parent();i.equal(n)||(r.insertAfter(i),i.remove())}}},tryChangeActive:function(e){var t=this.editor,n=this.$elem;t.cmd.queryCommandState("insertUnOrderedList")||t.cmd.queryCommandState("insertOrderedList")?(this._active=!0,n.addClass("w-e-active")):(this._active=!1,n.removeClass("w-e-active"))}},C.prototype={constructor:C,_command:function(e){this.editor.cmd.do(e)}},A.prototype={constructor:A,_command:function(e){this.editor.cmd.do("foreColor",e)}},O.prototype={constructor:O,_command:function(e){this.editor.cmd.do("backColor",e)}},N.prototype={constructor:N,onClick:function(e){var t=this.editor,n=t.selection.getSelectionContainerElem(),i=n.getNodeName();if(o.isIE()){if("P"===i)return r("<blockquote>"+n.text()+"</blockquote>").insertAfter(n),void n.remove();"BLOCKQUOTE"===i&&(r("<p>"+n.text()+"</p>").insertAfter(n),n.remove())}else"BLOCKQUOTE"===i?t.cmd.do("formatBlock","<P>"):t.cmd.do("formatBlock","<BLOCKQUOTE>")},tryChangeActive:function(e){var t=this.editor,n=this.$elem,r=t.cmd.queryCommandValue("formatBlock");/^BLOCKQUOTE$/i.test(r)?(this._active=!0,n.addClass("w-e-active")):(this._active=!1,n.removeClass("w-e-active"))}},L.prototype={constructor:L,onClick:function(e){var t=this.editor,n=t.selection.getSelectionStartElem(),i=t.selection.getSelectionEndElem(),o=t.selection.isSelectionEmpty(),a=t.selection.getSelectionText(),s=void 0;if(n.equal(i))return o?void(this._active?this._createPanel(n.html()):this._createPanel()):(s=r("<code>"+a+"</code>"),t.cmd.do("insertElem",s),t.selection.createRangeByElem(s,!1),void t.selection.restoreSelection());t.selection.restoreSelection()},_createPanel:function(e){var t=this,n=(e=e||"")?"edit":"new",i=u("texxt"),o=u("btn"),a=new _(this,{width:500,tabs:[{title:"",tpl:'<div>\n                        <textarea id="'+i+'" style="height:145px;;">'+e+'</textarea>\n                        <div class="w-e-button-container">\n                            <button id="'+o+'" class="right"></button>\n                        </div>\n                    <div>',events:[{selector:"#"+o,type:"click",fn:function(){var e=r("#"+i),o=e.val()||e.html();return o=l(o),"new"===n?t._insertCode(o):t._updateCode(o),!0}}]}]});a.show(),this.panel=a},_insertCode:function(e){this.editor.cmd.do("insertHTML","<pre><code>"+e+"</code></pre><p><br></p>")},_updateCode:function(e){var t=this.editor,n=t.selection.getSelectionContainerElem();n&&(n.html(e),t.selection.restoreSelection())},tryChangeActive:function(e){var t=this.editor,n=this.$elem,r=t.selection.getSelectionContainerElem();if(r){var i=r.parent();"CODE"===r.getNodeName()&&"PRE"===i.getNodeName()?(this._active=!0,n.addClass("w-e-active")):(this._active=!1,n.removeClass("w-e-active"))}}},j.prototype={constructor:j,onClick:function(){this._createPanel()},_createPanel:function(){var e=this,t=[];(this.editor.config.emotions||[]).forEach(function(n){var i=n.type,o=n.content||[],a="";"emoji"===i&&o.forEach(function(e){e&&(a+='<span class="w-e-item">'+e+"</span>")}),"image"===i&&o.forEach(function(e){var t=e.src,n=e.alt;t&&(a+='<span class="w-e-item"><img src="'+t+'" alt="'+n+'" data-w-e="1"/></span>')}),t.push({title:n.title,tpl:'<div class="w-e-emoticon-container">'+a+"</div>",events:[{selector:"span.w-e-item",type:"click",fn:function(t){var n=r(t.target),i=void 0;return i="IMG"===n.getNodeName()?n.parent().html():"<span>"+n.html()+"</span>",e._insert(i),!0}}]})});var n=new _(this,{width:300,height:200,tabs:t});n.show(),this.panel=n},_insert:function(e){this.editor.cmd.do("insertHTML",e)}},P.prototype={constructor:P,onClick:function(){this._active?this._createEditPanel():this._createInsertPanel()},_createInsertPanel:function(){var e=this,t=u("btn"),n=u("row"),i=u("col"),o=new _(this,{width:250,tabs:[{title:"",tpl:'<div>\n                        <p style="text-align:left; padding:5px 0;">\n                            \n                            <input id="'+n+'" type="text" value="5" style="width:40px;text-align:center;"/>\n                            \n                            <input id="'+i+'" type="text" value="5" style="width:40px;text-align:center;"/>\n                            \n                        </p>\n                        <div class="w-e-button-container">\n                            <button id="'+t+'" class="right"></button>\n                        </div>\n                    </div>',events:[{selector:"#"+t,type:"click",fn:function(){var t=parseInt(r("#"+n).val()),o=parseInt(r("#"+i).val());return t&&o&&t>0&&o>0&&e._insert(t,o),!0}}]}]});o.show(),this.panel=o},_insert:function(e,t){var n=void 0,r=void 0,i='<table border="0" width="100%" cellpadding="0" cellspacing="0">';for(n=0;n<e;n++){if(i+="<tr>",0===n)for(r=0;r<t;r++)i+="<th>&nbsp;</th>";else for(r=0;r<t;r++)i+="<td>&nbsp;</td>";i+="</tr>"}i+="</table><p><br></p>";var o=this.editor;o.cmd.do("insertHTML",i),o.cmd.do("enableObjectResizing",!1),o.cmd.do("enableInlineTableEditing",!1)},_createEditPanel:function(){var e=this,t=u("add-row"),n=u("add-col"),r=u("del-row"),i=u("del-col"),o=u("del-table");new _(this,{width:320,tabs:[{title:"",tpl:'<div>\n                        <div class="w-e-button-container" style="border-bottom:1px solid #f1f1f1;padding-bottom:5px;margin-bottom:5px;">\n                            <button id="'+t+'" class="left"></button>\n                            <button id="'+r+'" class="red left"></button>\n                            <button id="'+n+'" class="left"></button>\n                            <button id="'+i+'" class="red left"></button>\n                        </div>\n                        <div class="w-e-button-container">\n                            <button id="'+o+'" class="gray left"></button>\n                        </dv>\n                    </div>',events:[{selector:"#"+t,type:"click",fn:function(){return e._addRow(),!0}},{selector:"#"+n,type:"click",fn:function(){return e._addCol(),!0}},{selector:"#"+r,type:"click",fn:function(){return e._delRow(),!0}},{selector:"#"+i,type:"click",fn:function(){return e._delCol(),!0}},{selector:"#"+o,type:"click",fn:function(){return e._delTable(),!0}}]}]}).show()},_getLocationData:function(){var e={},t=this.editor.selection.getSelectionContainerElem();if(t){var n=t.getNodeName();if("TD"===n||"TH"===n){var r=t.parent(),i=r.children(),o=i.length;i.forEach(function(n,r){if(n===t[0])return e.td={index:r,elem:n,length:o},!1});var a=r.parent().children(),s=a.length;return a.forEach(function(t,n){if(t===r[0])return e.tr={index:n,elem:t,length:s},!1}),e}}},_addRow:function(){var e=this._getLocationData();if(e){var t=r(e.tr.elem),n=e.td.length,i=document.createElement("tr"),o="",a=void 0;for(a=0;a<n;a++)o+="<td>&nbsp;</td>";i.innerHTML=o,r(i).insertAfter(t)}},_addCol:function(){var e=this._getLocationData();if(e){var t=e.tr,n=e.td.index;r(t.elem).parent().children().forEach(function(e){var t=r(e).children().get(n),i=t.getNodeName().toLowerCase();r(document.createElement(i)).insertAfter(t)})}},_delRow:function(){var e=this._getLocationData();e&&r(e.tr.elem).remove()},_delCol:function(){var e=this._getLocationData();if(e){var t=e.tr,n=e.td.index;r(t.elem).parent().children().forEach(function(e){r(e).children().get(n).remove()})}},_delTable:function(){var e=this.editor.selection.getSelectionContainerElem();if(e){var t=e.parentUntil("table");t&&t.remove()}},tryChangeActive:function(e){var t=this.editor,n=this.$elem,r=t.selection.getSelectionContainerElem();if(r){var i=r.getNodeName();"TD"===i||"TH"===i?(this._active=!0,n.addClass("w-e-active")):(this._active=!1,n.removeClass("w-e-active"))}}},D.prototype={constructor:D,onClick:function(){this._createPanel()},_createPanel:function(){var e=this,t=u("text-val"),n=u("btn"),i=new _(this,{width:350,tabs:[{title:"",tpl:'<div>\n                        <input id="'+t+'" type="text" class="block" placeholder="<iframe src=... ></iframe>"/>\n                        <div class="w-e-button-container">\n                            <button id="'+n+'" class="right"></button>\n                        </div>\n                    </div>',events:[{selector:"#"+n,type:"click",fn:function(){var n=r("#"+t).val().trim();return n&&e._insert(n),!0}}]}]});i.show(),this.panel=i},_insert:function(e){this.editor.cmd.do("insertHTML",e+"<p><br></p>")}},I.prototype={constructor:I,onClick:function(){this.editor.config.qiniu||(this._active?this._createEditPanel():this._createInsertPanel())},_createEditPanel:function(){var e=this.editor,t=u("width-30"),n=u("width-50"),r=u("width-100"),i=u("del-btn"),o=new _(this,{width:300,tabs:[{title:"",tpl:'<div>\n                    <div class="w-e-button-container" style="border-bottom:1px solid #f1f1f1;padding-bottom:5px;margin-bottom:5px;">\n                        <span style="float:left;font-size:14px;margin:4px 5px 0 5px;color:#333;"></span>\n                        <button id="'+t+'" class="left">30%</button>\n                        <button id="'+n+'" class="left">50%</button>\n                        <button id="'+r+'" class="left">100%</button>\n                    </div>\n                    <div class="w-e-button-container">\n                        <button id="'+i+'" class="gray left"></button>\n                    </dv>\n                </div>',events:[{selector:"#"+t,type:"click",fn:function(){var t=e._selectedImg;return t&&t.css("max-width","30%"),!0}},{selector:"#"+n,type:"click",fn:function(){var t=e._selectedImg;return t&&t.css("max-width","50%"),!0}},{selector:"#"+r,type:"click",fn:function(){var t=e._selectedImg;return t&&t.css("max-width","100%"),!0}},{selector:"#"+i,type:"click",fn:function(){var t=e._selectedImg;return t&&t.remove(),!0}}]}]});o.show(),this.panel=o},_createInsertPanel:function(){var e=this.editor,t=e.uploadImg,n=e.config,i=u("up-trigger"),o=u("up-file"),a=u("link-url"),s=u("link-btn"),l=[{title:"",tpl:'<div class="w-e-up-img-container">\n                    <div id="'+i+'" class="w-e-up-btn">\n                        <i class="w-e-icon-upload2"></i>\n                    </div>\n                    <div style="display:none;">\n                        <input id="'+o+'" type="file" multiple="multiple" accept="image/jpg,image/jpeg,image/png,image/gif,image/bmp"/>\n                    </div>\n                </div>',events:[{selector:"#"+i,type:"click",fn:function(){var e=r("#"+o)[0];if(!e)return!0;e.click()}},{selector:"#"+o,type:"change",fn:function(){var e=r("#"+o)[0];if(!e)return!0;var n=e.files;return n.length&&t.uploadImg(n),!0}}]},{title:"",tpl:'<div>\n                    <input id="'+a+'" type="text" class="block" placeholder=""/></td>\n                    <div class="w-e-button-container">\n                        <button id="'+s+'" class="right"></button>\n                    </div>\n                </div>',events:[{selector:"#"+s,type:"click",fn:function(){var e=r("#"+a).val().trim();return e&&t.insertLinkImg(e),!0}}]}],c=[];(n.uploadImgShowBase64||n.uploadImgServer||n.customUploadImg)&&window.FileReader&&c.push(l[0]),n.showLinkImg&&c.push(l[1]);var d=new _(this,{width:300,tabs:c});d.show(),this.panel=d},tryChangeActive:function(e){var t=this.editor,n=this.$elem;t._selectedImg?(this._active=!0,n.addClass("w-e-active")):(this._active=!1,n.removeClass("w-e-active"))}};var R={};function F(e){this.editor=e,this.menus={}}function Y(e){var t=e.clipboardData||e.originalEvent&&e.originalEvent.clipboardData;return l(null==t?window.clipboardData&&window.clipboardData.getData("text"):t.getData("text/plain"))}function B(e){this.editor=e}function H(e){this.editor=e}function z(e){this.editor=e,this._currentRange=null}function W(e){this.editor=e,this._time=0,this._isShow=!1,this._isRender=!1,this._timeoutId=0,this.$textContainer=e.$textContainerElem,this.$bar=r('<div class="w-e-progress"></div>')}R.bold=d,R.head=m,R.fontSize=g,R.fontName=y,R.link=w,R.italic=k,R.redo=E,R.strikeThrough=x,R.underline=S,R.undo=M,R.list=T,R.justify=C,R.foreColor=A,R.backColor=O,R.quote=N,R.code=L,R.emoticon=j,R.table=P,R.video=D,R.image=I,F.prototype={constructor:F,init:function(){var e=this,t=this.editor;((t.config||{}).menus||[]).forEach(function(n){var r=R[n];r&&"function"==typeof r&&(e.menus[n]=new r(t))}),this._addToToolbar(),this._bindEvent()},_addToToolbar:function(){var e=this.editor,t=e.$toolbarElem,n=this.menus,r=e.config.zIndex+1;a(n,function(e,n){var i=n.$elem;i&&(i.css("z-index",r),t.append(i))})},_bindEvent:function(){var e=this.menus,t=this.editor;a(e,function(e,n){var r=n.type;if(r){var i=n.$elem,o=n.droplist;n.panel;"click"===r&&n.onClick&&i.on("click",function(e){null!=t.selection.getRange()&&n.onClick(e)}),"droplist"===r&&o&&i.on("mouseenter",function(e){null!=t.selection.getRange()&&(o.showTimeoutId=setTimeout(function(){o.show()},200))}).on("mouseleave",function(e){o.hideTimeoutId=setTimeout(function(){o.hide()},0)}),"panel"===r&&n.onClick&&i.on("click",function(e){e.stopPropagation(),null!=t.selection.getRange()&&n.onClick(e)})}})},changeActive:function(){a(this.menus,function(e,t){t.tryChangeActive&&setTimeout(function(){t.tryChangeActive()},100)})}},B.prototype={constructor:B,init:function(){this._bindEvent()},clear:function(){this.html("<p><br></p>")},html:function(e){var t=this.editor,n=t.$textElem,r=void 0;if(null==e)return r=n.html(),r=r.replace(/\u200b/gm,""),r;n.html(e),t.initSelection()},getJSON:function(){return function e(t){var n=[];return(t.childNodes()||[]).forEach(function(t){var i=void 0,o=t.nodeType;if(3===o&&(i=l(i=t.textContent)),1===o){(i={}).tag=t.nodeName.toLowerCase();for(var a=[],s=t.attributes||{},u=s.length||0,c=0;c<u;c++){var d=s[c];a.push({name:d.name,value:d.value})}i.attrs=a,i.children=e(r(t))}n.push(i)}),n}(this.editor.$textElem)},text:function(e){var t=this.editor,n=t.$textElem,r=void 0;if(null==e)return r=n.text(),r=r.replace(/\u200b/gm,""),r;n.text("<p>"+e+"</p>"),t.initSelection()},append:function(e){var t=this.editor;t.$textElem.append(r(e)),t.initSelection()},_bindEvent:function(){this._saveRangeRealTime(),this._enterKeyHandle(),this._clearHandle(),this._pasteHandle(),this._tabHandle(),this._imgHandle(),this._dragHandle()},_saveRangeRealTime:function(){var e=this.editor,t=e.$textElem;function n(t){e.selection.saveRange(),e.menus.changeActive()}t.on("keyup",n),t.on("mousedown",function(e){t.on("mouseleave",n)}),t.on("mouseup",function(e){n(),t.off("mouseleave",n)})},_enterKeyHandle:function(){var e=this.editor,t=e.$textElem;function n(t){var n=r("<p><br></p>");n.insertBefore(t),e.selection.createRangeByElem(n,!0),e.selection.restoreSelection(),t.remove()}t.on("keyup",function(r){var i,o;13===r.keyCode&&(i=e.selection.getSelectionContainerElem(),"<code><br></code>"!==(o=i.parent()).html()?o.equal(t)&&"P"!==i.getNodeName()&&(i.text()||n(i)):n(i))}),t.on("keydown",function(t){13===t.keyCode?function(t){var n=e.selection.getSelectionContainerElem();if(n){var i=n.parent(),o=n.getNodeName(),a=i.getNodeName();if("CODE"===o&&"PRE"===a&&e.cmd.queryCommandSupported("insertHTML")){if(!0===e._willBreakCode){var s=r("<p><br></p>");return s.insertAfter(i),e.selection.createRangeByElem(s,!0),e.selection.restoreSelection(),e._willBreakCode=!1,void t.preventDefault()}var u=e.selection.getRange().startOffset;e.cmd.do("insertHTML","\n"),e.selection.saveRange(),e.selection.getRange().startOffset===u&&e.cmd.do("insertHTML","\n");var l=n.html().length;e.selection.getRange().startOffset+1===l&&(e._willBreakCode=!0),t.preventDefault()}}}(t):e._willBreakCode=!1})},_clearHandle:function(){var e=this.editor,t=e.$textElem;t.on("keydown",function(e){8===e.keyCode&&("<p><br></p>"!==t.html().toLowerCase().trim()||e.preventDefault())}),t.on("keyup",function(n){if(8===n.keyCode){var i=void 0,o=t.html().toLowerCase().trim();o&&"<br>"!==o||(i=r("<p><br/></p>"),t.html(""),t.append(i),e.selection.createRangeByElem(i,!1,!0),e.selection.restoreSelection())}})},_pasteHandle:function(){var e=this.editor,t=e.config,n=t.pasteFilterStyle,r=t.pasteTextHandle,i=t.pasteIgnoreImg,s=e.$textElem,u=0;function d(){var e=Date.now(),t=!1;return e-u>=100&&(t=!0),u=e,t}s.on("paste",function(t){if(!o.isIE()&&(t.preventDefault(),d())){var a=function(e,t,n){var r=e.clipboardData||e.originalEvent&&e.originalEvent.clipboardData,i=void 0,o=void 0;if(null==r?i=window.clipboardData&&window.clipboardData.getData("text"):(i=r.getData("text/plain"),o=r.getData("text/html")),!o&&i&&(o="<p>"+l(i)+"</p>"),o){var a=o.split("</html>");return 2===a.length&&(o=a[0]),o=(o=(o=o.replace(/<(meta|script|link).+?>/gim,"")).replace(/<!--.*?-->/gm,"")).replace(/\s?data-.+?=('|").+?('|")/gim,""),n&&(o=o.replace(/<img.+?>/gim,"")),o=t?o.replace(/\s?(class|style)=('|").*?('|")/gim,""):o.replace(/\s?class=('|").*?('|")/gim,"")}}(t,n,i),s=Y(t);s=s.replace(/\n/gm,"<br>");var f=e.selection.getSelectionContainerElem();if(f){var h=f.getNodeName();if("CODE"===h||"PRE"===h)return r&&c(r)&&(s=""+(r(s)||"")),void e.cmd.do("insertHTML","<p>"+s+"</p>");if(a)try{r&&c(r)&&(a=""+(r(a)||"")),e.cmd.do("insertHTML",a)}catch(t){r&&c(r)&&(s=""+(r(s)||"")),e.cmd.do("insertHTML","<p>"+s+"</p>")}else u=0}}}),s.on("paste",function(t){if(!o.isIE()&&(t.preventDefault(),d())){var n=function(e){var t=[];if(Y(e))return t;var n=(e.clipboardData||e.originalEvent&&e.originalEvent.clipboardData||{}).items;return n?(a(n,function(e,n){var r=n.type;/image/i.test(r)&&t.push(n.getAsFile())}),t):t}(t);if(n&&n.length){var r=e.selection.getSelectionContainerElem();if(r){var i=r.getNodeName();if("CODE"!==i&&"PRE"!==i)e.uploadImg.uploadImg(n)}}}})},_tabHandle:function(){var e=this.editor;e.$textElem.on("keydown",function(t){if(9===t.keyCode&&e.cmd.queryCommandSupported("insertHTML")){var n=e.selection.getSelectionContainerElem();if(n){var r=n.parent(),i=n.getNodeName(),o=r.getNodeName();"CODE"===i&&"PRE"===o?e.cmd.do("insertHTML","    "):e.cmd.do("insertHTML","&nbsp;&nbsp;&nbsp;&nbsp;"),t.preventDefault()}}})},_imgHandle:function(){var e=this.editor,t=e.$textElem;t.on("click","img",function(t){var n=r(this);"1"!==n.attr("data-w-e")&&(e._selectedImg=n,e.selection.createRangeByElem(n),e.selection.restoreSelection())}),t.on("click  keyup",function(t){t.target.matches("img")||(e._selectedImg=null)})},_dragHandle:function(){var e=this.editor;r(document).on("dragleave drop dragenter dragover",function(e){e.preventDefault()}),e.$textElem.on("drop",function(t){t.preventDefault();var n=t.dataTransfer&&t.dataTransfer.files;n&&n.length&&e.uploadImg.uploadImg(n)})}},H.prototype={constructor:H,do:function(e,t){var n=this.editor;if(n._useStyleWithCSS||(document.execCommand("styleWithCSS",null,!0),n._useStyleWithCSS=!0),n.selection.getRange()){n.selection.restoreSelection();var r="_"+e;this[r]?this[r](t):this._execCommand(e,t),n.menus.changeActive(),n.selection.saveRange(),n.selection.restoreSelection(),n.change&&n.change()}},_insertHTML:function(e){var t=this.editor.selection.getRange();this.queryCommandSupported("insertHTML")?this._execCommand("insertHTML",e):t.insertNode?(t.deleteContents(),t.insertNode(r(e)[0])):t.pasteHTML&&t.pasteHTML(e)},_insertElem:function(e){var t=this.editor.selection.getRange();t.insertNode&&(t.deleteContents(),t.insertNode(e[0]))},_execCommand:function(e,t){document.execCommand(e,!1,t)},queryCommandValue:function(e){return document.queryCommandValue(e)},queryCommandState:function(e){return document.queryCommandState(e)},queryCommandSupported:function(e){return document.queryCommandSupported(e)}},z.prototype={constructor:z,getRange:function(){return this._currentRange},saveRange:function(e){if(e)this._currentRange=e;else{var t=window.getSelection();if(0!==t.rangeCount){var n=t.getRangeAt(0),r=this.getSelectionContainerElem(n);if(r)if("false"!==r.attr("contenteditable")&&!r.parentUntil("[contenteditable=false]"))this.editor.$textElem.isContain(r)&&(this._currentRange=n)}}},collapseRange:function(e){null==e&&(e=!1);var t=this._currentRange;t&&t.collapse(e)},getSelectionText:function(){return this._currentRange?this._currentRange.toString():""},getSelectionContainerElem:function(e){var t=void 0;if(e=e||this._currentRange)return r(1===(t=e.commonAncestorContainer).nodeType?t:t.parentNode)},getSelectionStartElem:function(e){var t=void 0;if(e=e||this._currentRange)return r(1===(t=e.startContainer).nodeType?t:t.parentNode)},getSelectionEndElem:function(e){var t=void 0;if(e=e||this._currentRange)return r(1===(t=e.endContainer).nodeType?t:t.parentNode)},isSelectionEmpty:function(){var e=this._currentRange;return!(!e||!e.startContainer||e.startContainer!==e.endContainer||e.startOffset!==e.endOffset)},restoreSelection:function(){var e=window.getSelection();e.removeAllRanges(),e.addRange(this._currentRange)},createEmptyRange:function(){var e=this.editor,t=this.getRange(),n=void 0;if(t&&this.isSelectionEmpty())try{o.isWebkit()?(e.cmd.do("insertHTML","&#8203;"),t.setEnd(t.endContainer,t.endOffset+1),this.saveRange(t)):(n=r("<strong>&#8203;</strong>"),e.cmd.do("insertElem",n),this.createRangeByElem(n,!0))}catch(e){}},createRangeByElem:function(e,t,n){if(e.length){var r=e[0],i=document.createRange();n?i.selectNodeContents(r):i.selectNode(r),"boolean"==typeof t&&i.collapse(t),this.saveRange(i)}}},W.prototype={constructor:W,show:function(e){var t=this;if(!this._isShow){this._isShow=!0;var n=this.$bar;if(this._isRender)this._isRender=!0;else this.$textContainer.append(n);Date.now()-this._time>100&&e<=1&&(n.css("width",100*e+"%"),this._time=Date.now());var r=this._timeoutId;r&&clearTimeout(r),r=setTimeout(function(){t._hide()},500)}},_hide:function(){this.$bar.remove(),this._time=0,this._isShow=!1,this._isRender=!1}};var U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function V(e){this.editor=e}V.prototype={constructor:V,_alert:function(e,t){var n=this.editor,r=n.config.debug,i=n.config.customAlert;if(r)throw new Error("wangEditor: "+(t||e));i&&"function"==typeof i?i(e):alert(e)},insertLinkImg:function(e){var t=this;if(e){var n=this.editor,r=n.config,i=r.linkImgCheck,o=void 0;if(i&&"function"==typeof i&&"string"==typeof(o=i(e)))alert(o);else{n.cmd.do("insertHTML",'<img src="'+e+'" style="max-width:100%;"/>');var a=document.createElement("img");a.onload=function(){var t=r.linkImgCallback;t&&"function"==typeof t&&t(e),a=null},a.onerror=function(){a=null,t._alert("",'wangEditor:  "'+e+'"')},a.onabort=function(){a=null},a.src=e}}},uploadImg:function(e){var t=this;if(e&&e.length){var n=this.editor,r=n.config,i=r.uploadImgServer,o=r.uploadImgShowBase64,u=r.uploadImgMaxSize,l=u/1024/1024,c=r.uploadImgMaxLength||1e4,d=r.uploadFileName||"",f=r.uploadImgParams||{},h=r.uploadImgParamsWithUrl,p=r.uploadImgHeaders||{},m=r.uploadImgHooks||{},g=r.uploadImgTimeout||3e3,y=r.withCredentials;null==y&&(y=!1);var v=r.customUploadImg;if(v||i||o){var b=[],_=[];if(s(e,function(e){var t=e.name,n=e.size;t&&n&&(!1!==/\.(jpg|jpeg|png|bmp|gif|webp)$/i.test(t)?u<n?_.push(""+t+" "+l+"M"):b.push(e):_.push(""+t+""))}),_.length)this._alert(": \n"+_.join("\n"));else if(b.length>c)this._alert(""+c+"");else if(v&&"function"==typeof v)v(b,this.insertLinkImg.bind(this));else{var w=new FormData;if(s(b,function(e){var t=d||e.name;w.append(t,e)}),i&&"string"==typeof i){var k=i.split("#");i=k[0];var E=k[1]||"";a(f,function(e,t){h&&(i.indexOf("?")>0?i+="&":i+="?",i=i+e+"="+t),w.append(e,t)}),E&&(i+="#"+E);var x=new XMLHttpRequest;if(x.open("POST",i),x.timeout=g,x.ontimeout=function(){m.timeout&&"function"==typeof m.timeout&&m.timeout(x,n),t._alert("")},x.upload&&(x.upload.onprogress=function(e){var t=void 0,r=new W(n);e.lengthComputable&&(t=e.loaded/e.total,r.show(t))}),x.onreadystatechange=function(){var e=void 0;if(4===x.readyState){if(x.status<200||x.status>=300)return m.error&&"function"==typeof m.error&&m.error(x,n),void t._alert(""," "+x.status);if("object"!==(void 0===(e=x.responseText)?"undefined":U(e)))try{e=JSON.parse(e)}catch(r){return m.fail&&"function"==typeof m.fail&&m.fail(x,n,e),void t._alert("",": "+e)}if(m.customInsert||"0"==e.errno){if(m.customInsert&&"function"==typeof m.customInsert)m.customInsert(t.insertLinkImg.bind(t),e,n);else(e.data||[]).forEach(function(e){t.insertLinkImg(e)});m.success&&"function"==typeof m.success&&m.success(x,n,e)}else m.fail&&"function"==typeof m.fail&&m.fail(x,n,e),t._alert(""," errno="+e.errno)}},m.before&&"function"==typeof m.before){var S=m.before(x,n,b);if(S&&"object"===(void 0===S?"undefined":U(S))&&S.prevent)return void this._alert(S.msg)}return a(p,function(e,t){x.setRequestHeader(e,t)}),x.withCredentials=y,void x.send(w)}o&&s(e,function(e){var n=t,r=new FileReader;r.readAsDataURL(e),r.onload=function(){n.insertLinkImg(this.result)}})}}}}};var G=1;function q(e,t){if(null==e)throw new Error("");this.id="wangEditor-"+G++,this.toolbarSelector=e,this.textSelector=t,this.customConfig={}}q.prototype={constructor:q,_initConfig:function(){this.config=Object.assign({},i,this.customConfig);var e=[];a(this.config.lang||{},function(t,n){e.push({reg:new RegExp(t,"img"),val:n})}),this.config.langArgs=e},_initDom:function(){var e=this,t=r(this.toolbarSelector),n=this.textSelector,i=this.config,o=i.zIndex,a=void 0,s=void 0,l=void 0,c=void 0;null==n?(a=r("<div></div>"),s=r("<div></div>"),c=t.children(),t.append(a).append(s),a.css("background-color","#f1f1f1").css("border","1px solid #ccc"),s.css("border","1px solid #ccc").css("border-top","none").css("height","300px")):(a=t,c=(s=r(n)).children()),(l=r("<div></div>")).attr("contenteditable","true").css("width","100%").css("height","100%"),c&&c.length?l.append(c):l.append(r("<p><br></p>")),s.append(l),a.addClass("w-e-toolbar"),s.addClass("w-e-text-container"),s.css("z-index",o),l.addClass("w-e-text");var d=u("toolbar-elem");a.attr("id",d);var f=u("text-elem");l.attr("id",f),this.$toolbarElem=a,this.$textContainerElem=s,this.$textElem=l,this.toolbarElemId=d,this.textElemId=f;var h=!0;s.on("compositionstart",function(){h=!1}),s.on("compositionend",function(){h=!0}),s.on("click keyup",function(){h&&e.change&&e.change()}),a.on("click",function(){this.change&&this.change()}),(i.onfocus||i.onblur)&&(this.isFocus=!1,r(document).on("click",function(t){var n=l.isContain(r(t.target)),i=a.isContain(r(t.target)),o=a[0]==t.target;if(n)e.isFocus||e.onfocus&&e.onfocus(),e.isFocus=!0;else{if(i&&!o)return;e.isFocus&&e.onblur&&e.onblur(),e.isFocus=!1}}))},_initCommand:function(){this.cmd=new H(this)},_initSelectionAPI:function(){this.selection=new z(this)},_initUploadImg:function(){this.uploadImg=new V(this)},_initMenus:function(){this.menus=new F(this),this.menus.init()},_initText:function(){this.txt=new B(this),this.txt.init()},initSelection:function(e){var t=this.$textElem,n=t.children();if(!n.length)return t.append(r("<p><br></p>")),void this.initSelection();var i=n.last();if(e){var o=i.html().toLowerCase(),a=i.getNodeName();if("<br>"!==o&&"<br/>"!==o||"P"!==a)return t.append(r("<p><br></p>")),void this.initSelection()}this.selection.createRangeByElem(i,!1,!0),this.selection.restoreSelection()},_bindEvent:function(){var e=0,t=this.txt.html(),n=this.config,r=n.onchangeTimeout;(!(r=parseInt(r,10))||r<=0)&&(r=200);var i=n.onchange;i&&"function"==typeof i&&(this.change=function(){var n=this.txt.html();n.length===t.length&&n===t||(e&&clearTimeout(e),e=setTimeout(function(){i(n),t=n},r))});var o=n.onblur;o&&"function"==typeof o&&(this.onblur=function(){var e=this.txt.html();o(e)});var a=n.onfocus;a&&"function"==typeof a&&(this.onfocus=function(){a()})},create:function(){this._initConfig(),this._initDom(),this._initCommand(),this._initSelectionAPI(),this._initText(),this._initMenus(),this._initUploadImg(),this.initSelection(!0),this._bindEvent()},_offAllEvent:function(){r.offAll()}};try{document}catch(e){throw new Error("")}"function"!=typeof Object.assign&&(Object.assign=function(e,t){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(e),r=1;r<arguments.length;r++){var i=arguments[r];if(null!=i)for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])}return n}),Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(e){for(var t=(this.document||this.ownerDocument).querySelectorAll(e),n=t.length;--n>=0&&t.item(n)!==this;);return n>-1});var K=document.createElement("style");return K.type="text/css",K.innerHTML='.w-e-toolbar,.w-e-text-container,.w-e-menu-panel {  padding: 0;  margin: 0;  box-sizing: border-box;}.w-e-toolbar *,.w-e-text-container *,.w-e-menu-panel * {  padding: 0;  margin: 0;  box-sizing: border-box;}.w-e-clear-fix:after {  content: "";  display: table;  clear: both;}.w-e-toolbar .w-e-droplist {  position: absolute;  left: 0;  top: 0;  background-color: #fff;  border: 1px solid #f1f1f1;  border-right-color: #ccc;  border-bottom-color: #ccc;}.w-e-toolbar .w-e-droplist .w-e-dp-title {  text-align: center;  color: #999;  line-height: 2;  border-bottom: 1px solid #f1f1f1;  font-size: 13px;}.w-e-toolbar .w-e-droplist ul.w-e-list {  list-style: none;  line-height: 1;}.w-e-toolbar .w-e-droplist ul.w-e-list li.w-e-item {  color: #333;  padding: 5px 0;}.w-e-toolbar .w-e-droplist ul.w-e-list li.w-e-item:hover {  background-color: #f1f1f1;}.w-e-toolbar .w-e-droplist ul.w-e-block {  list-style: none;  text-align: left;  padding: 5px;}.w-e-toolbar .w-e-droplist ul.w-e-block li.w-e-item {  display: inline-block;  *display: inline;  *zoom: 1;  padding: 3px 5px;}.w-e-toolbar .w-e-droplist ul.w-e-block li.w-e-item:hover {  background-color: #f1f1f1;}@font-face {  font-family: \'w-e-icon\';  src: url(data:application/x-font-woff;charset=utf-8;base64,d09GRgABAAAAABhQAAsAAAAAGAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABPUy8yAAABCAAAAGAAAABgDxIPBGNtYXAAAAFoAAABBAAAAQQrSf4BZ2FzcAAAAmwAAAAIAAAACAAAABBnbHlmAAACdAAAEvAAABLwfpUWUWhlYWQAABVkAAAANgAAADYQp00kaGhlYQAAFZwAAAAkAAAAJAfEA+FobXR4AAAVwAAAAIQAAACEeAcD7GxvY2EAABZEAAAARAAAAERBSEX+bWF4cAAAFogAAAAgAAAAIAAsALZuYW1lAAAWqAAAAYYAAAGGmUoJ+3Bvc3QAABgwAAAAIAAAACAAAwAAAAMD3gGQAAUAAAKZAswAAACPApkCzAAAAesAMwEJAAAAAAAAAAAAAAAAAAAAARAAAAAAAAAAAAAAAAAAAAAAQAAA8fwDwP/AAEADwABAAAAAAQAAAAAAAAAAAAAAIAAAAAAAAwAAAAMAAAAcAAEAAwAAABwAAwABAAAAHAAEAOgAAAA2ACAABAAWAAEAIOkG6Q3pEulH6Wbpd+m56bvpxunL6d/qDepc6l/qZepo6nHqefAN8BTxIPHc8fz//f//AAAAAAAg6QbpDekS6UfpZel36bnpu+nG6cvp3+oN6lzqX+pi6mjqcep38A3wFPEg8dzx/P/9//8AAf/jFv4W+Bb0FsAWoxaTFlIWURZHFkMWMBYDFbUVsxWxFa8VpxWiEA8QCQ7+DkMOJAADAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAB//8ADwABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAAAQAAAAAAAAAAAAIAADc5AQAAAAACAAD/wAQAA8AABAATAAABNwEnAQMuAScTNwEjAQMlATUBBwGAgAHAQP5Anxc7MmOAAYDA/oDAAoABgP6ATgFAQAHAQP5A/p0yOxcBEU4BgP6A/YDAAYDA/oCAAAQAAAAABAADgAAQACEALQA0AAABOAExETgBMSE4ATEROAExITUhIgYVERQWMyEyNjURNCYjBxQGIyImNTQ2MzIWEyE1EwEzNwPA/IADgPyAGiYmGgOAGiYmGoA4KCg4OCgoOED9AOABAEDgA0D9AAMAQCYa/QAaJiYaAwAaJuAoODgoKDg4/biAAYD+wMAAAAIAAABABAADQAA4ADwAAAEmJy4BJyYjIgcOAQcGBwYHDgEHBhUUFx4BFxYXFhceARcWMzI3PgE3Njc2Nz4BNzY1NCcuAScmJwERDQED1TY4OXY8PT8/PTx2OTg2CwcICwMDAwMLCAcLNjg5djw9Pz89PHY5ODYLBwgLAwMDAwsIBwv9qwFA/sADIAgGBggCAgICCAYGCCkqKlktLi8vLi1ZKiopCAYGCAICAgIIBgYIKSoqWS0uLy8uLVkqKin94AGAwMAAAAAAAgDA/8ADQAPAABsAJwAAASIHDgEHBhUUFx4BFxYxMDc+ATc2NTQnLgEnJgMiJjU0NjMyFhUUBgIAQjs6VxkZMjJ4MjIyMngyMhkZVzo7QlBwcFBQcHADwBkZVzo7Qnh9fcxBQUFBzH19eEI7OlcZGf4AcFBQcHBQUHAAAAEAAAAABAADgAArAAABIgcOAQcGBycRISc+ATMyFx4BFxYVFAcOAQcGBxc2Nz4BNzY1NCcuAScmIwIANTIyXCkpI5YBgJA1i1BQRUZpHh4JCSIYGB5VKCAgLQwMKCiLXl1qA4AKCycbHCOW/oCQNDweHmlGRVArKClJICEaYCMrK2I2NjlqXV6LKCgAAQAAAAAEAAOAACoAABMUFx4BFxYXNyYnLgEnJjU0Nz4BNzYzMhYXByERByYnLgEnJiMiBw4BBwYADAwtICAoVR4YGCIJCR4eaUZFUFCLNZABgJYjKSlcMjI1al1eiygoAYA5NjZiKysjYBohIEkpKCtQRUZpHh48NJABgJYjHBsnCwooKIteXQAAAAACAAAAQAQBAwAAJgBNAAATMhceARcWFRQHDgEHBiMiJy4BJyY1JzQ3PgE3NjMVIgYHDgEHPgEhMhceARcWFRQHDgEHBiMiJy4BJyY1JzQ3PgE3NjMVIgYHDgEHPgHhLikpPRESEhE9KSkuLikpPRESASMjelJRXUB1LQkQBwgSAkkuKSk9ERISET0pKS4uKSk9ERIBIyN6UlFdQHUtCRAHCBICABIRPSkpLi4pKT0REhIRPSkpLiBdUVJ6IyOAMC4IEwoCARIRPSkpLi4pKT0REhIRPSkpLiBdUVJ6IyOAMC4IEwoCAQAABgBA/8AEAAPAAAMABwALABEAHQApAAAlIRUhESEVIREhFSEnESM1IzUTFTMVIzU3NSM1MxUVESM1MzUjNTM1IzUBgAKA/YACgP2AAoD9gMBAQECAwICAwMCAgICAgIACAIACAIDA/wDAQP3yMkCSPDJAku7+wEBAQEBAAAYAAP/ABAADwAADAAcACwAXACMALwAAASEVIREhFSERIRUhATQ2MzIWFRQGIyImETQ2MzIWFRQGIyImETQ2MzIWFRQGIyImAYACgP2AAoD9gAKA/YD+gEs1NUtLNTVLSzU1S0s1NUtLNTVLSzU1SwOAgP8AgP8AgANANUtLNTVLS/61NUtLNTVLS/61NUtLNTVLSwADAAAAAAQAA6AAAwANABQAADchFSElFSE1EyEVITUhJQkBIxEjEQAEAPwABAD8AIABAAEAAQD9YAEgASDggEBAwEBAAQCAgMABIP7g/wABAAAAAAACAB7/zAPiA7QAMwBkAAABIiYnJicmNDc2PwE+ATMyFhcWFxYUBwYPAQYiJyY0PwE2NCcuASMiBg8BBhQXFhQHDgEjAyImJyYnJjQ3Nj8BNjIXFhQPAQYUFx4BMzI2PwE2NCcmNDc2MhcWFxYUBwYPAQ4BIwG4ChMIIxISEhIjwCNZMTFZIyMSEhISI1gPLA8PD1gpKRQzHBwzFMApKQ8PCBMKuDFZIyMSEhISI1gPLA8PD1gpKRQzHBwzFMApKQ8PDysQIxISEhIjwCNZMQFECAckLS1eLS0kwCIlJSIkLS1eLS0kVxAQDysPWCl0KRQVFRTAKXQpDysQBwj+iCUiJC0tXi0tJFcQEA8rD1gpdCkUFRUUwCl0KQ8rEA8PJC0tXi0tJMAiJQAAAAAFAAD/wAQAA8AAGwA3AFMAXwBrAAAFMjc+ATc2NTQnLgEnJiMiBw4BBwYVFBceARcWEzIXHgEXFhUUBw4BBwYjIicuAScmNTQ3PgE3NhMyNz4BNzY3BgcOAQcGIyInLgEnJicWFx4BFxYnNDYzMhYVFAYjIiYlNDYzMhYVFAYjIiYCAGpdXosoKCgoi15dampdXosoKCgoi15dalZMTHEgISEgcUxMVlZMTHEgISEgcUxMVisrKlEmJiMFHBtWODc/Pzc4VhscBSMmJlEqK9UlGxslJRsbJQGAJRsbJSUbGyVAKCiLXl1qal1eiygoKCiLXl1qal1eiygoA6AhIHFMTFZWTExxICEhIHFMTFZWTExxICH+CQYGFRAQFEM6OlYYGRkYVjo6QxQQEBUGBvcoODgoKDg4KCg4OCgoODgAAAMAAP/ABAADwAAbADcAQwAAASIHDgEHBhUUFx4BFxYzMjc+ATc2NTQnLgEnJgMiJy4BJyY1NDc+ATc2MzIXHgEXFhUUBw4BBwYTBycHFwcXNxc3JzcCAGpdXosoKCgoi15dampdXosoKCgoi15dalZMTHEgISEgcUxMVlZMTHEgISEgcUxMSqCgYKCgYKCgYKCgA8AoKIteXWpqXV6LKCgoKIteXWpqXV6LKCj8YCEgcUxMVlZMTHEgISEgcUxMVlZMTHEgIQKgoKBgoKBgoKBgoKAAAQBl/8ADmwPAACkAAAEiJiMiBw4BBwYVFBYzLgE1NDY3MAcGAgcGBxUhEzM3IzceATMyNjcOAQMgRGhGcVNUbRobSUgGDWVKEBBLPDxZAT1sxizXNC1VJi5QGB09A7AQHh1hPj9BTTsLJjeZbwN9fv7Fj5AjGQIAgPYJDzdrCQcAAAAAAgAAAAAEAAOAAAkAFwAAJTMHJzMRIzcXIyURJyMRMxUhNTMRIwcRA4CAoKCAgKCggP8AQMCA/oCAwEDAwMACAMDAwP8AgP1AQEACwIABAAADAMAAAANAA4AAFgAfACgAAAE+ATU0Jy4BJyYjIREhMjc+ATc2NTQmATMyFhUUBisBEyMRMzIWFRQGAsQcIBQURi4vNf7AAYA1Ly5GFBRE/oRlKjw8KWafn58sPj4B2yJULzUvLkYUFPyAFBRGLi81RnQBRks1NUv+gAEASzU1SwAAAAACAMAAAANAA4AAHwAjAAABMxEUBw4BBwYjIicuAScmNREzERQWFx4BMzI2Nz4BNQEhFSECwIAZGVc6O0JCOzpXGRmAGxgcSSgoSRwYG/4AAoD9gAOA/mA8NDVOFhcXFk41NDwBoP5gHjgXGBsbGBc4Hv6ggAAAAAABAIAAAAOAA4AACwAAARUjATMVITUzASM1A4CA/sCA/kCAAUCAA4BA/QBAQAMAQAABAAAAAAQAA4AAPQAAARUjHgEVFAYHDgEjIiYnLgE1MxQWMzI2NTQmIyE1IS4BJy4BNTQ2Nz4BMzIWFx4BFSM0JiMiBhUUFjMyFhcEAOsVFjUwLHE+PnEsMDWAck5OcnJO/gABLAIEATA1NTAscT4+cSwwNYByTk5yck47bisBwEAdQSI1YiQhJCQhJGI1NExMNDRMQAEDASRiNTViJCEkJCEkYjU0TEw0NEwhHwAAAAcAAP/ABAADwAADAAcACwAPABMAGwAjAAATMxUjNzMVIyUzFSM3MxUjJTMVIwMTIRMzEyETAQMhAyMDIQMAgIDAwMABAICAwMDAAQCAgBAQ/QAQIBACgBD9QBADABAgEP2AEAHAQEBAQEBAQEBAAkD+QAHA/oABgPwAAYD+gAFA/sAAAAoAAAAABAADgAADAAcACwAPABMAFwAbAB8AIwAnAAATESERATUhFR0BITUBFSE1IxUhNREhFSElIRUhETUhFQEhFSEhNSEVAAQA/YABAP8AAQD/AED/AAEA/wACgAEA/wABAPyAAQD/AAKAAQADgPyAA4D9wMDAQMDAAgDAwMDA/wDAwMABAMDA/sDAwMAAAAUAAAAABAADgAADAAcACwAPABMAABMhFSEVIRUhESEVIREhFSERIRUhAAQA/AACgP2AAoD9gAQA/AAEAPwAA4CAQID/AIABQID/AIAAAAAABQAAAAAEAAOAAAMABwALAA8AEwAAEyEVIRchFSERIRUhAyEVIREhFSEABAD8AMACgP2AAoD9gMAEAPwABAD8AAOAgECA/wCAAUCA/wCAAAAFAAAAAAQAA4AAAwAHAAsADwATAAATIRUhBSEVIREhFSEBIRUhESEVIQAEAPwAAYACgP2AAoD9gP6ABAD8AAQA/AADgIBAgP8AgAFAgP8AgAAAAAABAD8APwLmAuYALAAAJRQPAQYjIi8BBwYjIi8BJjU0PwEnJjU0PwE2MzIfATc2MzIfARYVFA8BFxYVAuYQThAXFxCoqBAXFhBOEBCoqBAQThAWFxCoqBAXFxBOEBCoqBDDFhBOEBCoqBAQThAWFxCoqBAXFxBOEBCoqBAQThAXFxCoqBAXAAAABgAAAAADJQNuABQAKAA8AE0AVQCCAAABERQHBisBIicmNRE0NzY7ATIXFhUzERQHBisBIicmNRE0NzY7ATIXFhcRFAcGKwEiJyY1ETQ3NjsBMhcWExEhERQXFhcWMyEyNzY3NjUBIScmJyMGBwUVFAcGKwERFAcGIyEiJyY1ESMiJyY9ATQ3NjsBNzY3NjsBMhcWHwEzMhcWFQElBgUIJAgFBgYFCCQIBQaSBQUIJQgFBQUFCCUIBQWSBQUIJQgFBQUFCCUIBQVJ/gAEBAUEAgHbAgQEBAT+gAEAGwQGtQYEAfcGBQg3Ghsm/iUmGxs3CAUFBQUIsSgIFxYXtxcWFgkosAgFBgIS/rcIBQUFBQgBSQgFBgYFCP63CAUFBQUIAUkIBQYGBQj+twgFBQUFCAFJCAUGBgX+WwId/eMNCwoFBQUFCgsNAmZDBQICBVUkCAYF/eMwIiMhIi8CIAUGCCQIBQVgFQ8PDw8VYAUFCAACAAcASQO3Aq8AGgAuAAAJAQYjIi8BJjU0PwEnJjU0PwE2MzIXARYVFAcBFRQHBiMhIicmPQE0NzYzITIXFgFO/vYGBwgFHQYG4eEGBh0FCAcGAQoGBgJpBQUI/dsIBQUFBQgCJQgFBQGF/vYGBhwGCAcG4OEGBwcGHQUF/vUFCAcG/vslCAUFBQUIJQgFBQUFAAAAAQAjAAAD3QNuALMAACUiJyYjIgcGIyInJjU0NzY3Njc2NzY9ATQnJiMhIgcGHQEUFxYXFjMWFxYVFAcGIyInJiMiBwYjIicmNTQ3Njc2NzY3Nj0BETQ1NDU0JzQnJicmJyYnJicmIyInJjU0NzYzMhcWMzI3NjMyFxYVFAcGIwYHBgcGHQEUFxYzITI3Nj0BNCcmJyYnJjU0NzYzMhcWMzI3NjMyFxYVFAcGByIHBgcGFREUFxYXFhcyFxYVFAcGIwPBGTMyGhkyMxkNCAcJCg0MERAKEgEHFf5+FgcBFQkSEw4ODAsHBw4bNTUaGDExGA0HBwkJCwwQDwkSAQIBAgMEBAUIEhENDQoLBwcOGjU1GhgwMRgOBwcJCgwNEBAIFAEHDwGQDgcBFAoXFw8OBwcOGTMyGRkxMRkOBwcKCg0NEBEIFBQJEREODQoLBwcOAAICAgIMCw8RCQkBAQMDBQxE4AwFAwMFDNRRDQYBAgEICBIPDA0CAgICDAwOEQgJAQIDAwUNRSEB0AINDQgIDg4KCgsLBwcDBgEBCAgSDwwNAgICAg0MDxEICAECAQYMULYMBwEBBwy2UAwGAQEGBxYPDA0CAgICDQwPEQgIAQECBg1P/eZEDAYCAgEJCBEPDA0AAAIAAP+3A/8DtwATADkAAAEyFxYVFAcCBwYjIicmNTQ3ATYzARYXFh8BFgcGIyInJicmJyY1FhcWFxYXFjMyNzY3Njc2NzY3NjcDmygeHhq+TDdFSDQ0NQFtISn9+BcmJy8BAkxMe0c2NiEhEBEEExQQEBIRCRcIDxITFRUdHR4eKQO3GxooJDP+mUY0NTRJSTABSx/9sSsfHw0oek1MGhsuLzo6RAMPDgsLCgoWJRsaEREKCwQEAgABAAAAAAAA9evv618PPPUACwQAAAAAANbEBFgAAAAA1sQEWAAA/7cEAQPAAAAACAACAAAAAAAAAAEAAAPA/8AAAAQAAAD//wQBAAEAAAAAAAAAAAAAAAAAAAAhBAAAAAAAAAAAAAAAAgAAAAQAAAAEAAAABAAAAAQAAMAEAAAABAAAAAQAAAAEAABABAAAAAQAAAAEAAAeBAAAAAQAAAAEAABlBAAAAAQAAMAEAADABAAAgAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAMlAD8DJQAAA74ABwQAACMD/wAAAAAAAAAKABQAHgBMAJQA+AE2AXwBwgI2AnQCvgLoA34EHgSIBMoE8gU0BXAFiAXgBiIGagaSBroG5AcoB+AIKgkcCXgAAQAAACEAtAAKAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAA4ArgABAAAAAAABAAcAAAABAAAAAAACAAcAYAABAAAAAAADAAcANgABAAAAAAAEAAcAdQABAAAAAAAFAAsAFQABAAAAAAAGAAcASwABAAAAAAAKABoAigADAAEECQABAA4ABwADAAEECQACAA4AZwADAAEECQADAA4APQADAAEECQAEAA4AfAADAAEECQAFABYAIAADAAEECQAGAA4AUgADAAEECQAKADQApGljb21vb24AaQBjAG8AbQBvAG8AblZlcnNpb24gMS4wAFYAZQByAHMAaQBvAG4AIAAxAC4AMGljb21vb24AaQBjAG8AbQBvAG8Abmljb21vb24AaQBjAG8AbQBvAG8AblJlZ3VsYXIAUgBlAGcAdQBsAGEAcmljb21vb24AaQBjAG8AbQBvAG8AbkZvbnQgZ2VuZXJhdGVkIGJ5IEljb01vb24uAEYAbwBuAHQAIABnAGUAbgBlAHIAYQB0AGUAZAAgAGIAeQAgAEkAYwBvAE0AbwBvAG4ALgAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=) format(\'truetype\');  font-weight: normal;  font-style: normal;}[class^="w-e-icon-"],[class*=" w-e-icon-"] {  /* use !important to prevent issues with browser extensions that change fonts */  font-family: \'w-e-icon\' !important;  speak: none;  font-style: normal;  font-weight: normal;  font-variant: normal;  text-transform: none;  line-height: 1;  /* Better Font Rendering =========== */  -webkit-font-smoothing: antialiased;  -moz-osx-font-smoothing: grayscale;}.w-e-icon-close:before {  content: "\\f00d";}.w-e-icon-upload2:before {  content: "\\e9c6";}.w-e-icon-trash-o:before {  content: "\\f014";}.w-e-icon-header:before {  content: "\\f1dc";}.w-e-icon-pencil2:before {  content: "\\e906";}.w-e-icon-paint-brush:before {  content: "\\f1fc";}.w-e-icon-image:before {  content: "\\e90d";}.w-e-icon-play:before {  content: "\\e912";}.w-e-icon-location:before {  content: "\\e947";}.w-e-icon-undo:before {  content: "\\e965";}.w-e-icon-redo:before {  content: "\\e966";}.w-e-icon-quotes-left:before {  content: "\\e977";}.w-e-icon-list-numbered:before {  content: "\\e9b9";}.w-e-icon-list2:before {  content: "\\e9bb";}.w-e-icon-link:before {  content: "\\e9cb";}.w-e-icon-happy:before {  content: "\\e9df";}.w-e-icon-bold:before {  content: "\\ea62";}.w-e-icon-underline:before {  content: "\\ea63";}.w-e-icon-italic:before {  content: "\\ea64";}.w-e-icon-strikethrough:before {  content: "\\ea65";}.w-e-icon-table2:before {  content: "\\ea71";}.w-e-icon-paragraph-left:before {  content: "\\ea77";}.w-e-icon-paragraph-center:before {  content: "\\ea78";}.w-e-icon-paragraph-right:before {  content: "\\ea79";}.w-e-icon-terminal:before {  content: "\\f120";}.w-e-icon-page-break:before {  content: "\\ea68";}.w-e-icon-cancel-circle:before {  content: "\\ea0d";}.w-e-icon-font:before {  content: "\\ea5c";}.w-e-icon-text-heigh:before {  content: "\\ea5f";}.w-e-toolbar {  display: -webkit-box;  display: -ms-flexbox;  display: flex;  padding: 0 5px;  /* flex-wrap: wrap; */  /*  */}.w-e-toolbar .w-e-menu {  position: relative;  text-align: center;  padding: 5px 10px;  cursor: pointer;}.w-e-toolbar .w-e-menu i {  color: #999;}.w-e-toolbar .w-e-menu:hover i {  color: #333;}.w-e-toolbar .w-e-active i {  color: #1e88e5;}.w-e-toolbar .w-e-active:hover i {  color: #1e88e5;}.w-e-text-container .w-e-panel-container {  position: absolute;  top: 0;  left: 50%;  border: 1px solid #ccc;  border-top: 0;  box-shadow: 1px 1px 2px #ccc;  color: #333;  background-color: #fff;  /*  emotion panel  */  /*  panel  */}.w-e-text-container .w-e-panel-container .w-e-panel-close {  position: absolute;  right: 0;  top: 0;  padding: 5px;  margin: 2px 5px 0 0;  cursor: pointer;  color: #999;}.w-e-text-container .w-e-panel-container .w-e-panel-close:hover {  color: #333;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-title {  list-style: none;  display: -webkit-box;  display: -ms-flexbox;  display: flex;  font-size: 14px;  margin: 2px 10px 0 10px;  border-bottom: 1px solid #f1f1f1;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-title .w-e-item {  padding: 3px 5px;  color: #999;  cursor: pointer;  margin: 0 3px;  position: relative;  top: 1px;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-title .w-e-active {  color: #333;  border-bottom: 1px solid #333;  cursor: default;  font-weight: 700;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-content {  padding: 10px 15px 10px 15px;  font-size: 16px;  /*  */  /*  */}.w-e-text-container .w-e-panel-container .w-e-panel-tab-content input:focus,.w-e-text-container .w-e-panel-container .w-e-panel-tab-content textarea:focus,.w-e-text-container .w-e-panel-container .w-e-panel-tab-content button:focus {  outline: none;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-content textarea {  width: 100%;  border: 1px solid #ccc;  padding: 5px;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-content textarea:focus {  border-color: #1e88e5;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-content input[type=text] {  border: none;  border-bottom: 1px solid #ccc;  font-size: 14px;  height: 20px;  color: #333;  text-align: left;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-content input[type=text].small {  width: 30px;  text-align: center;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-content input[type=text].block {  display: block;  width: 100%;  margin: 10px 0;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-content input[type=text]:focus {  border-bottom: 2px solid #1e88e5;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-content .w-e-button-container button {  font-size: 14px;  color: #1e88e5;  border: none;  padding: 5px 10px;  background-color: #fff;  cursor: pointer;  border-radius: 3px;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-content .w-e-button-container button.left {  float: left;  margin-right: 10px;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-content .w-e-button-container button.right {  float: right;  margin-left: 10px;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-content .w-e-button-container button.gray {  color: #999;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-content .w-e-button-container button.red {  color: #c24f4a;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-content .w-e-button-container button:hover {  background-color: #f1f1f1;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-content .w-e-button-container:after {  content: "";  display: table;  clear: both;}.w-e-text-container .w-e-panel-container .w-e-emoticon-container .w-e-item {  cursor: pointer;  font-size: 18px;  padding: 0 3px;  display: inline-block;  *display: inline;  *zoom: 1;}.w-e-text-container .w-e-panel-container .w-e-up-img-container {  text-align: center;}.w-e-text-container .w-e-panel-container .w-e-up-img-container .w-e-up-btn {  display: inline-block;  *display: inline;  *zoom: 1;  color: #999;  cursor: pointer;  font-size: 60px;  line-height: 1;}.w-e-text-container .w-e-panel-container .w-e-up-img-container .w-e-up-btn:hover {  color: #333;}.w-e-text-container {  position: relative;}.w-e-text-container .w-e-progress {  position: absolute;  background-color: #1e88e5;  bottom: 0;  left: 0;  height: 1px;}.w-e-text {  padding: 0 10px;  overflow-y: scroll;}.w-e-text p,.w-e-text h1,.w-e-text h2,.w-e-text h3,.w-e-text h4,.w-e-text h5,.w-e-text table,.w-e-text pre {  margin: 10px 0;  line-height: 1.5;}.w-e-text ul,.w-e-text ol {  margin: 10px 0 10px 20px;}.w-e-text blockquote {  display: block;  border-left: 8px solid #d0e5f2;  padding: 5px 10px;  margin: 10px 0;  line-height: 1.4;  font-size: 100%;  background-color: #f1f1f1;}.w-e-text code {  display: inline-block;  *display: inline;  *zoom: 1;  background-color: #f1f1f1;  border-radius: 3px;  padding: 3px 5px;  margin: 0 3px;}.w-e-text pre code {  display: block;}.w-e-text table {  border-top: 1px solid #ccc;  border-left: 1px solid #ccc;}.w-e-text table td,.w-e-text table th {  border-bottom: 1px solid #ccc;  border-right: 1px solid #ccc;  padding: 3px 5px;}.w-e-text table th {  border-bottom: 2px solid #ccc;  text-align: center;}.w-e-text:focus {  outline: none;}.w-e-text img {  cursor: pointer;}.w-e-text img:hover {  box-shadow: 0 0 5px #333;}',document.getElementsByTagName("HEAD").item(0).appendChild(K),window.wangEditor||q},e.exports=r()},function(e,t,n){var r=n(27),i=n(30),o=n(54);for(var a in(t=e.exports=function(e,t){return new o(t).process(e)}).FilterXSS=o,r)t[a]=r[a];for(var a in i)t[a]=i[a];"undefined"!=typeof window&&(window.filterXSS=e.exports),"undefined"!=typeof self&&"undefined"!=typeof DedicatedWorkerGlobalScope&&self instanceof DedicatedWorkerGlobalScope&&(self.filterXSS=e.exports)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Colors=t.GraphLayout=t.D3Sliders=t.MenuVisible=t.Playback=t.DebugFlags=t.Config=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(23));var i=!("undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope)&&/^\/records/gi.test(window.location.pathname),o={canRecord:i,isCollaborate:/^\/collaborate/gi.test(self.location.pathname),isShare:/^\/share\/[0-9a-z]{22,}\/.+/.test(self.location.pathname),isDebug:/debug/gi.test(self.location.hash),layoutEngine:i?"d3-3D":"worker",force2d:!0,graphDirectional:!0,numEdgeSize:5,edgeDegreeThreshold:[0,2,4,8,16,1e6],edgeThickness:[1,2,4,8,16,32],pageItems:25,pointerReachDistance:4,nodeSizeScale:1,freezNode:!0,edgeDefaultAlpha:.6};o.nodeSizeScale="d3"==o.layoutEngine?12:1;var a={showAxis:!0},s={advance_days:1,duration:10,play_pause:2e3},u={company:{name:!0,vendors:!0,id:!0,collaborators:!0,accounts:!0},layout:{physics:!0,linkDegree:!0,edgeBundle:!0,downloads:!0},help:{playback:!0,music:!0,capture:!0,contact:!0,leaf:!0,edge:!0,messageCloud:!0,tags:!0},node:{internal:{email:!0,id:!0,role:!0,companyName:!1,companyId:!0,actions:!0,activity:!0,notes:!0},external:{email:!0,id:!0,role:!0,companyName:!0,companyId:!0,actions:!0,activity:!0,notes:!0}}},l={linkStrength:{name:"Link strength",min:.01,max:3,defaultValue:1,step:.01},linkDistance:{name:"Link distance",min:0,max:1.5,defaultValue:.5,step:.1},charge:{name:"Charge",min:-.02,max:-.001,defaultValue:-.01,step:.001},gravity:{name:"Gravity",min:.001,max:.5,defaultValue:.2,step:.001},friction:{name:"Friction",min:0,max:1,defaultValue:.3,step:.01},heightCompress:{name:"HeightCompress",min:1,max:30,defaultValue:1,step:1}},c={force2d:!0,width:1,height:1,iterations:1e4,pcscale:.02,attraction:336.7,repulsion:1.45,pointSize:.5,lineSize:1,gravity_center:new r.Vector3(0,0,0),gravity:.03,skip:0,degreeFilter:{active:!0,min:0,max:100,from:0,to:100},edgeBundle:{stepSize:{name:"Step Size",min:0,max:1,defaultValue:.2,step:.01},compatibilityThreshold:{name:"Compatibility Threshold",min:0,max:1,defaultValue:.4,step:.01}},genNodesReportFunc:null,getNodeKeysMap:null,updateGraphNodeWithIds:null,updateGraphNodeHighlightWithId:null,genEdgesReportFunc:null,getEdgeKeysMap:null,updateGraphEdgeWithIds:null,updateGraphEdgeHighlightWithId:null},d={background:1316898,clear_alpha:1,msaaRenderPass_sample_level:2,internal:new r.Color(4754148),external:new r.Color(16099072),send_only:new r.Color(8378624),receive_only:new r.Color(13631503),send_and_receive:new r.Color(8789),edge:new r.Color(8421504),edge_alpha:.8,mouseoverHighlightNode:.85};t.Config=o,t.DebugFlags=a,t.Playback=s,t.MenuVisible=u,t.D3Sliders=l,t.GraphLayout=c,t.Colors=d,t.default={config:o,debugFlags:a,playback:s,menuVisible:u,d3Sliders:l,graphLayout:c,colors:d}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DefaultIconConfig=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=u(n(47)),o=u(n(439)),a=u(n(106)),s=u(n(105));function u(e){return e&&e.__esModule?e:{default:e}}var l=null,c=n(50).Config,d=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.graph=t,this.config=c,this.labels=[],this.icon="/public/default_icons/spritesheet.png",this.iconColumn=4,this.iconMap={},this.useModel=!1,this.models=[],o.default.init(),this.labelsConfig=a.default.instance(),this.relationshipConfig=s.default.instance()}return r(e,[{key:"getCurrentLabels",value:function(){var e={};return this.graph&&this.graph.visibleNodes.forEach(function(t){if(0!=t.alpha){var n=t.data.detail.type,r=e[n];if(!r){var i={count:0,selectedNum:0,selected:!1};e[n]=i,r=i}r.count+=1,t.selected&&(r.selectedNum+=1)}}),e}},{key:"getCurrentSelectedNodeIds",value:function(){return this.graph.visibleNodes.filter(function(e){return e.selected}).map(function(e){return e.id})}},{key:"getCurrentRelationships",value:function(){var e={};return this.graph&&this.graph.visibleEdges.forEach(function(t){var n=t.name;if(!e[n]){var r={color:t.color.getStyle(),name:t.name};e[n]=r}}),e}},{key:"initConfig",value:function(){var e=this;return new Promise(function(t,n){i.default.getConfig().then(function(n){e.iconMap=n.iconMap,e.useModel=n.useModel,e.models=n.models,Object.keys(e.iconMap).forEach(function(t){void 0===o.default.instance().iconMap[t]&&(o.default.instance().iconMap[t]={}),o.default.instance().iconMap[t].id=e.iconMap[t],o.default.instance().iconMap[t].path="sprite sprite-scale sprite-"+e.iconMap[t]}),e.labels=n.labels,e.labelsConfig.init(n.labelConfigs),e.relationshipConfig.init(n.relationshipConfigs),t("done")}).catch(function(e){console.error(e),t("error")})})}}],[{key:"init",value:function(t){return this.instance().graph=t,e.instance()}},{key:"instance",value:function(){return l||(l=new this),l}}]),e}();t.default=d,t.DefaultIconConfig={id:0,iconPath:"/public/default_icons/spritesheet.png",iconColumn:4}},function(e,t,n){var r=n(28),i=n(53);n(29);function o(e){return void 0===e||null===e}function a(e){(e=function(e){var t={};for(var n in e)t[n]=e[n];return t}(e||{})).whiteList=e.whiteList||r.whiteList,e.onAttr=e.onAttr||r.onAttr,e.onIgnoreAttr=e.onIgnoreAttr||r.onIgnoreAttr,e.safeAttrValue=e.safeAttrValue||r.safeAttrValue,this.options=e}a.prototype.process=function(e){if(!(e=(e=e||"").toString()))return"";var t=this.options,n=t.whiteList,r=t.onAttr,a=t.onIgnoreAttr,s=t.safeAttrValue;return i(e,function(e,t,i,u,l){var c=n[i],d=!1;if(!0===c?d=c:"function"==typeof c?d=c(u):c instanceof RegExp&&(d=c.test(u)),!0!==d&&(d=!1),u=s(i,u)){var f,h={position:t,sourcePosition:e,source:l,isWhite:d};return d?o(f=r(i,u,h))?i+":"+u:f:o(f=a(i,u,h))?void 0:f}})},e.exports=a},function(e,t,n){var r=n(29);e.exports=function(e,t){";"!==(e=r.trimRight(e))[e.length-1]&&(e+=";");var n=e.length,i=!1,o=0,a=0,s="";function u(){if(!i){var n=r.trim(e.slice(o,a)),u=n.indexOf(":");if(-1!==u){var l=r.trim(n.slice(0,u)),c=r.trim(n.slice(u+1));if(l){var d=t(o,s.length,l,c,n);d&&(s+=d+"; ")}}}o=a+1}for(;a<n;a++){var l=e[a];if("/"===l&&"*"===e[a+1]){var c=e.indexOf("*/",a+2);if(-1===c)break;o=(a=c+1)+1,i=!1}else"("===l?i=!0:")"===l?i=!1:";"===l?i||u():"\n"===l&&u()}return r.trim(s)}},function(e,t,n){var r=n(17).FilterCSS,i=n(27),o=n(30),a=o.parseTag,s=o.parseAttr,u=n(18);function l(e){return void 0===e||null===e}function c(e){(e=function(e){var t={};for(var n in e)t[n]=e[n];return t}(e||{})).stripIgnoreTag&&(e.onIgnoreTag&&console.error('Notes: cannot use these two options "stripIgnoreTag" and "onIgnoreTag" at the same time'),e.onIgnoreTag=i.onIgnoreTagStripAll),e.whiteList=e.whiteList||i.whiteList,e.onTag=e.onTag||i.onTag,e.onTagAttr=e.onTagAttr||i.onTagAttr,e.onIgnoreTag=e.onIgnoreTag||i.onIgnoreTag,e.onIgnoreTagAttr=e.onIgnoreTagAttr||i.onIgnoreTagAttr,e.safeAttrValue=e.safeAttrValue||i.safeAttrValue,e.escapeHtml=e.escapeHtml||i.escapeHtml,this.options=e,!1===e.css?this.cssFilter=!1:(e.css=e.css||{},this.cssFilter=new r(e.css))}c.prototype.process=function(e){if(!(e=(e=e||"").toString()))return"";var t=this.options,n=t.whiteList,r=t.onTag,o=t.onIgnoreTag,c=t.onTagAttr,d=t.onIgnoreTagAttr,f=t.safeAttrValue,h=t.escapeHtml,p=this.cssFilter;t.stripBlankChar&&(e=i.stripBlankChar(e)),t.allowCommentTag||(e=i.stripCommentTag(e));var m=!1;if(t.stripIgnoreTagBody){m=i.StripTagBody(t.stripIgnoreTagBody,o);o=m.onIgnoreTag}var g=a(e,function(e,t,i,a,m){var g,y={sourcePosition:e,position:t,isClosing:m,isWhite:n.hasOwnProperty(i)};if(!l(g=r(i,a,y)))return g;if(y.isWhite){if(y.isClosing)return"</"+i+">";var v=function(e){var t=u.spaceIndex(e);if(-1===t)return{html:"",closing:"/"===e[e.length-2]};var n="/"===(e=u.trim(e.slice(t+1,-1)))[e.length-1];return n&&(e=u.trim(e.slice(0,-1))),{html:e,closing:n}}(a),b=n[i],_=s(v.html,function(e,t){var n,r=-1!==u.indexOf(b,e);return l(n=c(i,e,t,r))?r?(t=f(i,e,t,p))?e+'="'+t+'"':e:l(n=d(i,e,t,r))?void 0:n:n});a="<"+i;return _&&(a+=" "+_),v.closing&&(a+=" /"),a+=">"}return l(g=o(i,a,y))?h(a):g},h);return m&&(g=m.remove(g)),g},e.exports=c},,,,,function(e,t){var n,r,i=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(e){n=o}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var u,l=[],c=!1,d=-1;function f(){c&&u&&(c=!1,u.length?l=u.concat(l):d=-1,l.length&&h())}function h(){if(!c){var e=s(f);c=!0;for(var t=l.length;t;){for(u=l,l=[];++d<t;)u&&u[d].run();d=-1,t=l.length}u=null,c=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function m(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];l.push(new p(e,t)),1!==l.length||c||s(h)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=m,i.addListener=m,i.once=m,i.off=m,i.removeListener=m,i.removeAllListeners=m,i.emit=m,i.prependListener=m,i.prependOnceListener=m,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=a(n(1)),o=a(n(10));function a(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={fullVersion:"v2.1.3"},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),r(t,[{key:"componentDidMount",value:function(){this.getVersion()}},{key:"getVersion",value:function(){var e=this;return new Promise(function(t,n){o.default.sendRequst("/api/install/version",{},function(n,r){r&&r.fullVersion?e.setState({fullVersion:r.fullVersion},function(){t("done")}):e.setState({fullVersion:"v2.1.3"},function(){t("done")})},"GET",!0,!0)})}},{key:"openVersions",value:function(){window.open("/version")}},{key:"openHelp",value:function(){window.open("/help")}},{key:"openKineviz",value:function(){window.open("https://www.kineviz.com")}},{key:"openPrivacy",value:function(){window.open("/Privacy")}},{key:"render",value:function(){var e=this,t=this.state.fullVersion;return i.default.createElement("div",{id:"about-main"},i.default.createElement("div",{id:"about-page"},i.default.createElement("div",{className:"about-close"},i.default.createElement("i",{className:"fa fa-times","aria-hidden":"true",onClick:function(){return e.props.handleAbout()}})),i.default.createElement("div",{className:"about-head"},i.default.createElement("img",{src:"/public/images/logo.png",className:"App-logo",alt:"logo"}),i.default.createElement("div",{className:"title-text"},"GraphXR")),i.default.createElement("div",{className:"about-body"},i.default.createElement("div",{className:"about-item version",onClick:this.openVersions},i.default.createElement("i",{className:"fa fa-code-fork","aria-hidden":"true"}),"Version : ",t),i.default.createElement("div",{className:"about-item feedback",onClick:function(){return e.props.handleFeedback()}},i.default.createElement("i",{className:"fa fa-comments"}),"Report an issue"),i.default.createElement("div",{className:"about-item help",onClick:this.openHelp},i.default.createElement("i",{className:"fa fa-book","aria-hidden":"true"}),"Get help with GraphXR"),this.props.isChangeTour?i.default.createElement("div",{className:"about-item help",onClick:function(){return e.props.handleTourInLeftPanel()}},i.default.createElement("i",{className:"fa fa-info-circle","aria-hidden":"true"}),"Quick start with tour"):null),i.default.createElement("div",{className:"about-foot"},i.default.createElement("div",{onClick:this.openKineviz},"Copyright 2017-2019 Kineviz Inc."),i.default.createElement("div",{onClick:this.openPrivacy},"GraphXR Terms of Service"))))}}]),t}();t.default=s},,,,,,,,function(e,t,n){var r;r=function(){"use strict";var e=navigator.userAgent,t=navigator.platform,n=/gecko\/\d/i.test(e),r=/MSIE \d/.test(e),i=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(e),o=/Edge\/(\d+)/.exec(e),a=r||i||o,s=a&&(r?document.documentMode||6:+(o||i)[1]),u=!o&&/WebKit\//.test(e),l=u&&/Qt\/\d+\.\d+/.test(e),c=!o&&/Chrome\//.test(e),d=/Opera\//.test(e),f=/Apple Computer/.test(navigator.vendor),h=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(e),p=/PhantomJS/.test(e),m=!o&&/AppleWebKit/.test(e)&&/Mobile\/\w+/.test(e),g=/Android/.test(e),y=m||g||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(e),v=m||/Mac/.test(t),b=/\bCrOS\b/.test(e),_=/win/i.test(t),w=d&&e.match(/Version\/(\d*\.\d*)/);w&&(w=Number(w[1])),w&&w>=15&&(d=!1,u=!0);var k=v&&(l||d&&(null==w||w<12.11)),E=n||a&&s>=9;function x(e){return new RegExp("(^|\\s)"+e+"(?:$|\\s)\\s*")}var S,M=function(e,t){var n=e.className,r=x(t).exec(n);if(r){var i=n.slice(r.index+r[0].length);e.className=n.slice(0,r.index)+(i?r[1]+i:"")}};function T(e){for(var t=e.childNodes.length;t>0;--t)e.removeChild(e.firstChild);return e}function C(e,t){return T(e).appendChild(t)}function A(e,t,n,r){var i=document.createElement(e);if(n&&(i.className=n),r&&(i.style.cssText=r),"string"==typeof t)i.appendChild(document.createTextNode(t));else if(t)for(var o=0;o<t.length;++o)i.appendChild(t[o]);return i}function O(e,t,n,r){var i=A(e,t,n,r);return i.setAttribute("role","presentation"),i}function N(e,t){if(3==t.nodeType&&(t=t.parentNode),e.contains)return e.contains(t);do{if(11==t.nodeType&&(t=t.host),t==e)return!0}while(t=t.parentNode)}function L(){var e;try{e=document.activeElement}catch(t){e=document.body||null}for(;e&&e.shadowRoot&&e.shadowRoot.activeElement;)e=e.shadowRoot.activeElement;return e}function j(e,t){var n=e.className;x(t).test(n)||(e.className+=(n?" ":"")+t)}function P(e,t){for(var n=e.split(" "),r=0;r<n.length;r++)n[r]&&!x(n[r]).test(t)&&(t+=" "+n[r]);return t}S=document.createRange?function(e,t,n,r){var i=document.createRange();return i.setEnd(r||e,n),i.setStart(e,t),i}:function(e,t,n){var r=document.body.createTextRange();try{r.moveToElementText(e.parentNode)}catch(e){return r}return r.collapse(!0),r.moveEnd("character",n),r.moveStart("character",t),r};var D=function(e){e.select()};function I(e){var t=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,t)}}function R(e,t,n){for(var r in t||(t={}),e)!e.hasOwnProperty(r)||!1===n&&t.hasOwnProperty(r)||(t[r]=e[r]);return t}function F(e,t,n,r,i){null==t&&-1==(t=e.search(/[^\s\u00a0]/))&&(t=e.length);for(var o=r||0,a=i||0;;){var s=e.indexOf("\t",o);if(s<0||s>=t)return a+(t-o);a+=s-o,a+=n-a%n,o=s+1}}m?D=function(e){e.selectionStart=0,e.selectionEnd=e.value.length}:a&&(D=function(e){try{e.select()}catch(e){}});var Y=function(){this.id=null};function B(e,t){for(var n=0;n<e.length;++n)if(e[n]==t)return n;return-1}Y.prototype.set=function(e,t){clearTimeout(this.id),this.id=setTimeout(t,e)};var H=30,z={toString:function(){return"CodeMirror.Pass"}},W={scroll:!1},U={origin:"*mouse"},V={origin:"+move"};function G(e,t,n){for(var r=0,i=0;;){var o=e.indexOf("\t",r);-1==o&&(o=e.length);var a=o-r;if(o==e.length||i+a>=t)return r+Math.min(a,t-i);if(i+=o-r,r=o+1,(i+=n-i%n)>=t)return r}}var q=[""];function K(e){for(;q.length<=e;)q.push($(q)+" ");return q[e]}function $(e){return e[e.length-1]}function X(e,t){for(var n=[],r=0;r<e.length;r++)n[r]=t(e[r],r);return n}function J(){}function Q(e,t){var n;return Object.create?n=Object.create(e):(J.prototype=e,n=new J),t&&R(t,n),n}var Z=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function ee(e){return/\w/.test(e)||e>""&&(e.toUpperCase()!=e.toLowerCase()||Z.test(e))}function te(e,t){return t?!!(t.source.indexOf("\\w")>-1&&ee(e))||t.test(e):ee(e)}function ne(e){for(var t in e)if(e.hasOwnProperty(t)&&e[t])return!1;return!0}var re=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function ie(e){return e.charCodeAt(0)>=768&&re.test(e)}function oe(e,t,n){for(;(n<0?t>0:t<e.length)&&ie(e.charAt(t));)t+=n;return t}function ae(e,t,n){for(var r=t>n?-1:1;;){if(t==n)return t;var i=(t+n)/2,o=r<0?Math.ceil(i):Math.floor(i);if(o==t)return e(o)?t:n;e(o)?n=o:t=o+r}}function se(e,t){if((t-=e.first)<0||t>=e.size)throw new Error("There is no line "+(t+e.first)+" in the document.");for(var n=e;!n.lines;)for(var r=0;;++r){var i=n.children[r],o=i.chunkSize();if(t<o){n=i;break}t-=o}return n.lines[t]}function ue(e,t,n){var r=[],i=t.line;return e.iter(t.line,n.line+1,function(e){var o=e.text;i==n.line&&(o=o.slice(0,n.ch)),i==t.line&&(o=o.slice(t.ch)),r.push(o),++i}),r}function le(e,t,n){var r=[];return e.iter(t,n,function(e){r.push(e.text)}),r}function ce(e,t){var n=t-e.height;if(n)for(var r=e;r;r=r.parent)r.height+=n}function de(e){if(null==e.parent)return null;for(var t=e.parent,n=B(t.lines,e),r=t.parent;r;t=r,r=r.parent)for(var i=0;r.children[i]!=t;++i)n+=r.children[i].chunkSize();return n+t.first}function fe(e,t){var n=e.first;e:do{for(var r=0;r<e.children.length;++r){var i=e.children[r],o=i.height;if(t<o){e=i;continue e}t-=o,n+=i.chunkSize()}return n}while(!e.lines);for(var a=0;a<e.lines.length;++a){var s=e.lines[a].height;if(t<s)break;t-=s}return n+a}function he(e,t){return t>=e.first&&t<e.first+e.size}function pe(e,t){return String(e.lineNumberFormatter(t+e.firstLineNumber))}function me(e,t,n){if(void 0===n&&(n=null),!(this instanceof me))return new me(e,t,n);this.line=e,this.ch=t,this.sticky=n}function ge(e,t){return e.line-t.line||e.ch-t.ch}function ye(e,t){return e.sticky==t.sticky&&0==ge(e,t)}function ve(e){return me(e.line,e.ch)}function be(e,t){return ge(e,t)<0?t:e}function _e(e,t){return ge(e,t)<0?e:t}function we(e,t){return Math.max(e.first,Math.min(t,e.first+e.size-1))}function ke(e,t){if(t.line<e.first)return me(e.first,0);var n=e.first+e.size-1;return t.line>n?me(n,se(e,n).text.length):function(e,t){var n=e.ch;return null==n||n>t?me(e.line,t):n<0?me(e.line,0):e}(t,se(e,t.line).text.length)}function Ee(e,t){for(var n=[],r=0;r<t.length;r++)n[r]=ke(e,t[r]);return n}var xe=!1,Se=!1;function Me(e,t,n){this.marker=e,this.from=t,this.to=n}function Te(e,t){if(e)for(var n=0;n<e.length;++n){var r=e[n];if(r.marker==t)return r}}function Ce(e,t){for(var n,r=0;r<e.length;++r)e[r]!=t&&(n||(n=[])).push(e[r]);return n}function Ae(e,t){if(t.full)return null;var n=he(e,t.from.line)&&se(e,t.from.line).markedSpans,r=he(e,t.to.line)&&se(e,t.to.line).markedSpans;if(!n&&!r)return null;var i=t.from.ch,o=t.to.ch,a=0==ge(t.from,t.to),s=function(e,t,n){var r;if(e)for(var i=0;i<e.length;++i){var o=e[i],a=o.marker;if(null==o.from||(a.inclusiveLeft?o.from<=t:o.from<t)||o.from==t&&"bookmark"==a.type&&(!n||!o.marker.insertLeft)){var s=null==o.to||(a.inclusiveRight?o.to>=t:o.to>t);(r||(r=[])).push(new Me(a,o.from,s?null:o.to))}}return r}(n,i,a),u=function(e,t,n){var r;if(e)for(var i=0;i<e.length;++i){var o=e[i],a=o.marker;if(null==o.to||(a.inclusiveRight?o.to>=t:o.to>t)||o.from==t&&"bookmark"==a.type&&(!n||o.marker.insertLeft)){var s=null==o.from||(a.inclusiveLeft?o.from<=t:o.from<t);(r||(r=[])).push(new Me(a,s?null:o.from-t,null==o.to?null:o.to-t))}}return r}(r,o,a),l=1==t.text.length,c=$(t.text).length+(l?i:0);if(s)for(var d=0;d<s.length;++d){var f=s[d];if(null==f.to){var h=Te(u,f.marker);h?l&&(f.to=null==h.to?null:h.to+c):f.to=i}}if(u)for(var p=0;p<u.length;++p){var m=u[p];if(null!=m.to&&(m.to+=c),null==m.from)Te(s,m.marker)||(m.from=c,l&&(s||(s=[])).push(m));else m.from+=c,l&&(s||(s=[])).push(m)}s&&(s=Oe(s)),u&&u!=s&&(u=Oe(u));var g=[s];if(!l){var y,v=t.text.length-2;if(v>0&&s)for(var b=0;b<s.length;++b)null==s[b].to&&(y||(y=[])).push(new Me(s[b].marker,null,null));for(var _=0;_<v;++_)g.push(y);g.push(u)}return g}function Oe(e){for(var t=0;t<e.length;++t){var n=e[t];null!=n.from&&n.from==n.to&&!1!==n.marker.clearWhenEmpty&&e.splice(t--,1)}return e.length?e:null}function Ne(e){var t=e.markedSpans;if(t){for(var n=0;n<t.length;++n)t[n].marker.detachLine(e);e.markedSpans=null}}function Le(e,t){if(t){for(var n=0;n<t.length;++n)t[n].marker.attachLine(e);e.markedSpans=t}}function je(e){return e.inclusiveLeft?-1:0}function Pe(e){return e.inclusiveRight?1:0}function De(e,t){var n=e.lines.length-t.lines.length;if(0!=n)return n;var r=e.find(),i=t.find(),o=ge(r.from,i.from)||je(e)-je(t);if(o)return-o;var a=ge(r.to,i.to)||Pe(e)-Pe(t);return a||t.id-e.id}function Ie(e,t){var n,r=Se&&e.markedSpans;if(r)for(var i=void 0,o=0;o<r.length;++o)(i=r[o]).marker.collapsed&&null==(t?i.from:i.to)&&(!n||De(n,i.marker)<0)&&(n=i.marker);return n}function Re(e){return Ie(e,!0)}function Fe(e){return Ie(e,!1)}function Ye(e,t){var n,r=Se&&e.markedSpans;if(r)for(var i=0;i<r.length;++i){var o=r[i];o.marker.collapsed&&(null==o.from||o.from<t)&&(null==o.to||o.to>t)&&(!n||De(n,o.marker)<0)&&(n=o.marker)}return n}function Be(e,t,n,r,i){var o=se(e,t),a=Se&&o.markedSpans;if(a)for(var s=0;s<a.length;++s){var u=a[s];if(u.marker.collapsed){var l=u.marker.find(0),c=ge(l.from,n)||je(u.marker)-je(i),d=ge(l.to,r)||Pe(u.marker)-Pe(i);if(!(c>=0&&d<=0||c<=0&&d>=0)&&(c<=0&&(u.marker.inclusiveRight&&i.inclusiveLeft?ge(l.to,n)>=0:ge(l.to,n)>0)||c>=0&&(u.marker.inclusiveRight&&i.inclusiveLeft?ge(l.from,r)<=0:ge(l.from,r)<0)))return!0}}}function He(e){for(var t;t=Re(e);)e=t.find(-1,!0).line;return e}function ze(e,t){var n=se(e,t),r=He(n);return n==r?t:de(r)}function We(e,t){if(t>e.lastLine())return t;var n,r=se(e,t);if(!Ue(e,r))return t;for(;n=Fe(r);)r=n.find(1,!0).line;return de(r)+1}function Ue(e,t){var n=Se&&t.markedSpans;if(n)for(var r=void 0,i=0;i<n.length;++i)if((r=n[i]).marker.collapsed){if(null==r.from)return!0;if(!r.marker.widgetNode&&0==r.from&&r.marker.inclusiveLeft&&Ve(e,t,r))return!0}}function Ve(e,t,n){if(null==n.to){var r=n.marker.find(1,!0);return Ve(e,r.line,Te(r.line.markedSpans,n.marker))}if(n.marker.inclusiveRight&&n.to==t.text.length)return!0;for(var i=void 0,o=0;o<t.markedSpans.length;++o)if((i=t.markedSpans[o]).marker.collapsed&&!i.marker.widgetNode&&i.from==n.to&&(null==i.to||i.to!=n.from)&&(i.marker.inclusiveLeft||n.marker.inclusiveRight)&&Ve(e,t,i))return!0}function Ge(e){for(var t=0,n=(e=He(e)).parent,r=0;r<n.lines.length;++r){var i=n.lines[r];if(i==e)break;t+=i.height}for(var o=n.parent;o;o=(n=o).parent)for(var a=0;a<o.children.length;++a){var s=o.children[a];if(s==n)break;t+=s.height}return t}function qe(e){if(0==e.height)return 0;for(var t,n=e.text.length,r=e;t=Re(r);){var i=t.find(0,!0);r=i.from.line,n+=i.from.ch-i.to.ch}for(r=e;t=Fe(r);){var o=t.find(0,!0);n-=r.text.length-o.from.ch,n+=(r=o.to.line).text.length-o.to.ch}return n}function Ke(e){var t=e.display,n=e.doc;t.maxLine=se(n,n.first),t.maxLineLength=qe(t.maxLine),t.maxLineChanged=!0,n.iter(function(e){var n=qe(e);n>t.maxLineLength&&(t.maxLineLength=n,t.maxLine=e)})}var $e=null;function Xe(e,t,n){var r;$e=null;for(var i=0;i<e.length;++i){var o=e[i];if(o.from<t&&o.to>t)return i;o.to==t&&(o.from!=o.to&&"before"==n?r=i:$e=i),o.from==t&&(o.from!=o.to&&"before"!=n?r=i:$e=i)}return null!=r?r:$e}var Je=function(){var e="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",t="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111";var n=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,r=/[stwN]/,i=/[LRr]/,o=/[Lb1n]/,a=/[1n]/;function s(e,t,n){this.level=e,this.from=t,this.to=n}return function(u,l){var c="ltr"==l?"L":"R";if(0==u.length||"ltr"==l&&!n.test(u))return!1;for(var d,f=u.length,h=[],p=0;p<f;++p)h.push((d=u.charCodeAt(p))<=247?e.charAt(d):1424<=d&&d<=1524?"R":1536<=d&&d<=1785?t.charAt(d-1536):1774<=d&&d<=2220?"r":8192<=d&&d<=8203?"w":8204==d?"b":"L");for(var m=0,g=c;m<f;++m){var y=h[m];"m"==y?h[m]=g:g=y}for(var v=0,b=c;v<f;++v){var _=h[v];"1"==_&&"r"==b?h[v]="n":i.test(_)&&(b=_,"r"==_&&(h[v]="R"))}for(var w=1,k=h[0];w<f-1;++w){var E=h[w];"+"==E&&"1"==k&&"1"==h[w+1]?h[w]="1":","!=E||k!=h[w+1]||"1"!=k&&"n"!=k||(h[w]=k),k=E}for(var x=0;x<f;++x){var S=h[x];if(","==S)h[x]="N";else if("%"==S){var M=void 0;for(M=x+1;M<f&&"%"==h[M];++M);for(var T=x&&"!"==h[x-1]||M<f&&"1"==h[M]?"1":"N",C=x;C<M;++C)h[C]=T;x=M-1}}for(var A=0,O=c;A<f;++A){var N=h[A];"L"==O&&"1"==N?h[A]="L":i.test(N)&&(O=N)}for(var L=0;L<f;++L)if(r.test(h[L])){var j=void 0;for(j=L+1;j<f&&r.test(h[j]);++j);for(var P="L"==(L?h[L-1]:c),D=P==("L"==(j<f?h[j]:c))?P?"L":"R":c,I=L;I<j;++I)h[I]=D;L=j-1}for(var R,F=[],Y=0;Y<f;)if(o.test(h[Y])){var B=Y;for(++Y;Y<f&&o.test(h[Y]);++Y);F.push(new s(0,B,Y))}else{var H=Y,z=F.length;for(++Y;Y<f&&"L"!=h[Y];++Y);for(var W=H;W<Y;)if(a.test(h[W])){H<W&&F.splice(z,0,new s(1,H,W));var U=W;for(++W;W<Y&&a.test(h[W]);++W);F.splice(z,0,new s(2,U,W)),H=W}else++W;H<Y&&F.splice(z,0,new s(1,H,Y))}return"ltr"==l&&(1==F[0].level&&(R=u.match(/^\s+/))&&(F[0].from=R[0].length,F.unshift(new s(0,0,R[0].length))),1==$(F).level&&(R=u.match(/\s+$/))&&($(F).to-=R[0].length,F.push(new s(0,f-R[0].length,f)))),"rtl"==l?F.reverse():F}}();function Qe(e,t){var n=e.order;return null==n&&(n=e.order=Je(e.text,t)),n}var Ze=[],et=function(e,t,n){if(e.addEventListener)e.addEventListener(t,n,!1);else if(e.attachEvent)e.attachEvent("on"+t,n);else{var r=e._handlers||(e._handlers={});r[t]=(r[t]||Ze).concat(n)}};function tt(e,t){return e._handlers&&e._handlers[t]||Ze}function nt(e,t,n){if(e.removeEventListener)e.removeEventListener(t,n,!1);else if(e.detachEvent)e.detachEvent("on"+t,n);else{var r=e._handlers,i=r&&r[t];if(i){var o=B(i,n);o>-1&&(r[t]=i.slice(0,o).concat(i.slice(o+1)))}}}function rt(e,t){var n=tt(e,t);if(n.length)for(var r=Array.prototype.slice.call(arguments,2),i=0;i<n.length;++i)n[i].apply(null,r)}function it(e,t,n){return"string"==typeof t&&(t={type:t,preventDefault:function(){this.defaultPrevented=!0}}),rt(e,n||t.type,e,t),ct(t)||t.codemirrorIgnore}function ot(e){var t=e._handlers&&e._handlers.cursorActivity;if(t)for(var n=e.curOp.cursorActivityHandlers||(e.curOp.cursorActivityHandlers=[]),r=0;r<t.length;++r)-1==B(n,t[r])&&n.push(t[r])}function at(e,t){return tt(e,t).length>0}function st(e){e.prototype.on=function(e,t){et(this,e,t)},e.prototype.off=function(e,t){nt(this,e,t)}}function ut(e){e.preventDefault?e.preventDefault():e.returnValue=!1}function lt(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}function ct(e){return null!=e.defaultPrevented?e.defaultPrevented:0==e.returnValue}function dt(e){ut(e),lt(e)}function ft(e){return e.target||e.srcElement}function ht(e){var t=e.which;return null==t&&(1&e.button?t=1:2&e.button?t=3:4&e.button&&(t=2)),v&&e.ctrlKey&&1==t&&(t=3),t}var pt,mt,gt=function(){if(a&&s<9)return!1;var e=A("div");return"draggable"in e||"dragDrop"in e}();function yt(e){if(null==pt){var t=A("span","");C(e,A("span",[t,document.createTextNode("x")])),0!=e.firstChild.offsetHeight&&(pt=t.offsetWidth<=1&&t.offsetHeight>2&&!(a&&s<8))}var n=pt?A("span",""):A("span","",null,"display: inline-block; width: 1px; margin-right: -1px");return n.setAttribute("cm-text",""),n}function vt(e){if(null!=mt)return mt;var t=C(e,document.createTextNode("AA")),n=S(t,0,1).getBoundingClientRect(),r=S(t,1,2).getBoundingClientRect();return T(e),!(!n||n.left==n.right)&&(mt=r.right-n.right<3)}var bt,_t=3!="\n\nb".split(/\n/).length?function(e){for(var t=0,n=[],r=e.length;t<=r;){var i=e.indexOf("\n",t);-1==i&&(i=e.length);var o=e.slice(t,"\r"==e.charAt(i-1)?i-1:i),a=o.indexOf("\r");-1!=a?(n.push(o.slice(0,a)),t+=a+1):(n.push(o),t=i+1)}return n}:function(e){return e.split(/\r\n?|\n/)},wt=window.getSelection?function(e){try{return e.selectionStart!=e.selectionEnd}catch(e){return!1}}:function(e){var t;try{t=e.ownerDocument.selection.createRange()}catch(e){}return!(!t||t.parentElement()!=e)&&0!=t.compareEndPoints("StartToEnd",t)},kt="oncopy"in(bt=A("div"))||(bt.setAttribute("oncopy","return;"),"function"==typeof bt.oncopy),Et=null;var xt={},St={};function Mt(e){if("string"==typeof e&&St.hasOwnProperty(e))e=St[e];else if(e&&"string"==typeof e.name&&St.hasOwnProperty(e.name)){var t=St[e.name];"string"==typeof t&&(t={name:t}),(e=Q(t,e)).name=t.name}else{if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+xml$/.test(e))return Mt("application/xml");if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+json$/.test(e))return Mt("application/json")}return"string"==typeof e?{name:e}:e||{name:"null"}}function Tt(e,t){t=Mt(t);var n=xt[t.name];if(!n)return Tt(e,"text/plain");var r=n(e,t);if(Ct.hasOwnProperty(t.name)){var i=Ct[t.name];for(var o in i)i.hasOwnProperty(o)&&(r.hasOwnProperty(o)&&(r["_"+o]=r[o]),r[o]=i[o])}if(r.name=t.name,t.helperType&&(r.helperType=t.helperType),t.modeProps)for(var a in t.modeProps)r[a]=t.modeProps[a];return r}var Ct={};function At(e,t){R(t,Ct.hasOwnProperty(e)?Ct[e]:Ct[e]={})}function Ot(e,t){if(!0===t)return t;if(e.copyState)return e.copyState(t);var n={};for(var r in t){var i=t[r];i instanceof Array&&(i=i.concat([])),n[r]=i}return n}function Nt(e,t){for(var n;e.innerMode&&(n=e.innerMode(t))&&n.mode!=e;)t=n.state,e=n.mode;return n||{mode:e,state:t}}function Lt(e,t,n){return!e.startState||e.startState(t,n)}var jt=function(e,t,n){this.pos=this.start=0,this.string=e,this.tabSize=t||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=n};jt.prototype.eol=function(){return this.pos>=this.string.length},jt.prototype.sol=function(){return this.pos==this.lineStart},jt.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},jt.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},jt.prototype.eat=function(e){var t=this.string.charAt(this.pos);if("string"==typeof e?t==e:t&&(e.test?e.test(t):e(t)))return++this.pos,t},jt.prototype.eatWhile=function(e){for(var t=this.pos;this.eat(e););return this.pos>t},jt.prototype.eatSpace=function(){for(var e=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>e},jt.prototype.skipToEnd=function(){this.pos=this.string.length},jt.prototype.skipTo=function(e){var t=this.string.indexOf(e,this.pos);if(t>-1)return this.pos=t,!0},jt.prototype.backUp=function(e){this.pos-=e},jt.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=F(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?F(this.string,this.lineStart,this.tabSize):0)},jt.prototype.indentation=function(){return F(this.string,null,this.tabSize)-(this.lineStart?F(this.string,this.lineStart,this.tabSize):0)},jt.prototype.match=function(e,t,n){if("string"!=typeof e){var r=this.string.slice(this.pos).match(e);return r&&r.index>0?null:(r&&!1!==t&&(this.pos+=r[0].length),r)}var i=function(e){return n?e.toLowerCase():e};if(i(this.string.substr(this.pos,e.length))==i(e))return!1!==t&&(this.pos+=e.length),!0},jt.prototype.current=function(){return this.string.slice(this.start,this.pos)},jt.prototype.hideFirstChars=function(e,t){this.lineStart+=e;try{return t()}finally{this.lineStart-=e}},jt.prototype.lookAhead=function(e){var t=this.lineOracle;return t&&t.lookAhead(e)},jt.prototype.baseToken=function(){var e=this.lineOracle;return e&&e.baseToken(this.pos)};var Pt=function(e,t){this.state=e,this.lookAhead=t},Dt=function(e,t,n,r){this.state=t,this.doc=e,this.line=n,this.maxLookAhead=r||0,this.baseTokens=null,this.baseTokenPos=1};function It(e,t,n,r){var i=[e.state.modeGen],o={};Vt(e,t.text,e.doc.mode,n,function(e,t){return i.push(e,t)},o,r);for(var a=n.state,s=function(r){n.baseTokens=i;var s=e.state.overlays[r],u=1,l=0;n.state=!0,Vt(e,t.text,s.mode,n,function(e,t){for(var n=u;l<e;){var r=i[u];r>e&&i.splice(u,1,e,i[u+1],r),u+=2,l=Math.min(e,r)}if(t)if(s.opaque)i.splice(n,u-n,e,"overlay "+t),u=n+2;else for(;n<u;n+=2){var o=i[n+1];i[n+1]=(o?o+" ":"")+"overlay "+t}},o),n.state=a,n.baseTokens=null,n.baseTokenPos=1},u=0;u<e.state.overlays.length;++u)s(u);return{styles:i,classes:o.bgClass||o.textClass?o:null}}function Rt(e,t,n){if(!t.styles||t.styles[0]!=e.state.modeGen){var r=Ft(e,de(t)),i=t.text.length>e.options.maxHighlightLength&&Ot(e.doc.mode,r.state),o=It(e,t,r);i&&(r.state=i),t.stateAfter=r.save(!i),t.styles=o.styles,o.classes?t.styleClasses=o.classes:t.styleClasses&&(t.styleClasses=null),n===e.doc.highlightFrontier&&(e.doc.modeFrontier=Math.max(e.doc.modeFrontier,++e.doc.highlightFrontier))}return t.styles}function Ft(e,t,n){var r=e.doc,i=e.display;if(!r.mode.startState)return new Dt(r,!0,t);var o=function(e,t,n){for(var r,i,o=e.doc,a=n?-1:t-(e.doc.mode.innerMode?1e3:100),s=t;s>a;--s){if(s<=o.first)return o.first;var u=se(o,s-1),l=u.stateAfter;if(l&&(!n||s+(l instanceof Pt?l.lookAhead:0)<=o.modeFrontier))return s;var c=F(u.text,null,e.options.tabSize);(null==i||r>c)&&(i=s-1,r=c)}return i}(e,t,n),a=o>r.first&&se(r,o-1).stateAfter,s=a?Dt.fromSaved(r,a,o):new Dt(r,Lt(r.mode),o);return r.iter(o,t,function(n){Yt(e,n.text,s);var r=s.line;n.stateAfter=r==t-1||r%5==0||r>=i.viewFrom&&r<i.viewTo?s.save():null,s.nextLine()}),n&&(r.modeFrontier=s.line),s}function Yt(e,t,n,r){var i=e.doc.mode,o=new jt(t,e.options.tabSize,n);for(o.start=o.pos=r||0,""==t&&Bt(i,n.state);!o.eol();)Ht(i,o,n.state),o.start=o.pos}function Bt(e,t){if(e.blankLine)return e.blankLine(t);if(e.innerMode){var n=Nt(e,t);return n.mode.blankLine?n.mode.blankLine(n.state):void 0}}function Ht(e,t,n,r){for(var i=0;i<10;i++){r&&(r[0]=Nt(e,n).mode);var o=e.token(t,n);if(t.pos>t.start)return o}throw new Error("Mode "+e.name+" failed to advance stream.")}Dt.prototype.lookAhead=function(e){var t=this.doc.getLine(this.line+e);return null!=t&&e>this.maxLookAhead&&(this.maxLookAhead=e),t},Dt.prototype.baseToken=function(e){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=e;)this.baseTokenPos+=2;var t=this.baseTokens[this.baseTokenPos+1];return{type:t&&t.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-e}},Dt.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},Dt.fromSaved=function(e,t,n){return t instanceof Pt?new Dt(e,Ot(e.mode,t.state),n,t.lookAhead):new Dt(e,Ot(e.mode,t),n)},Dt.prototype.save=function(e){var t=!1!==e?Ot(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new Pt(t,this.maxLookAhead):t};var zt=function(e,t,n){this.start=e.start,this.end=e.pos,this.string=e.current(),this.type=t||null,this.state=n};function Wt(e,t,n,r){var i,o,a=e.doc,s=a.mode,u=se(a,(t=ke(a,t)).line),l=Ft(e,t.line,n),c=new jt(u.text,e.options.tabSize,l);for(r&&(o=[]);(r||c.pos<t.ch)&&!c.eol();)c.start=c.pos,i=Ht(s,c,l.state),r&&o.push(new zt(c,i,Ot(a.mode,l.state)));return r?o:new zt(c,i,l.state)}function Ut(e,t){if(e)for(;;){var n=e.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!n)break;e=e.slice(0,n.index)+e.slice(n.index+n[0].length);var r=n[1]?"bgClass":"textClass";null==t[r]?t[r]=n[2]:new RegExp("(?:^|s)"+n[2]+"(?:$|s)").test(t[r])||(t[r]+=" "+n[2])}return e}function Vt(e,t,n,r,i,o,a){var s=n.flattenSpans;null==s&&(s=e.options.flattenSpans);var u,l=0,c=null,d=new jt(t,e.options.tabSize,r),f=e.options.addModeClass&&[null];for(""==t&&Ut(Bt(n,r.state),o);!d.eol();){if(d.pos>e.options.maxHighlightLength?(s=!1,a&&Yt(e,t,r,d.pos),d.pos=t.length,u=null):u=Ut(Ht(n,d,r.state,f),o),f){var h=f[0].name;h&&(u="m-"+(u?h+" "+u:h))}if(!s||c!=u){for(;l<d.start;)i(l=Math.min(d.start,l+5e3),c);c=u}d.start=d.pos}for(;l<d.pos;){var p=Math.min(d.pos,l+5e3);i(p,c),l=p}}var Gt=function(e,t,n){this.text=e,Le(this,t),this.height=n?n(this):1};function qt(e){e.parent=null,Ne(e)}Gt.prototype.lineNo=function(){return de(this)},st(Gt);var Kt={},$t={};function Xt(e,t){if(!e||/^\s*$/.test(e))return null;var n=t.addModeClass?$t:Kt;return n[e]||(n[e]=e.replace(/\S+/g,"cm-$&"))}function Jt(e,t){var n=O("span",null,null,u?"padding-right: .1px":null),r={pre:O("pre",[n],"CodeMirror-line"),content:n,col:0,pos:0,cm:e,trailingSpace:!1,splitSpaces:e.getOption("lineWrapping")};t.measure={};for(var i=0;i<=(t.rest?t.rest.length:0);i++){var o=i?t.rest[i-1]:t.line,a=void 0;r.pos=0,r.addToken=Zt,vt(e.display.measure)&&(a=Qe(o,e.doc.direction))&&(r.addToken=en(r.addToken,a)),r.map=[],nn(o,r,Rt(e,o,t!=e.display.externalMeasured&&de(o))),o.styleClasses&&(o.styleClasses.bgClass&&(r.bgClass=P(o.styleClasses.bgClass,r.bgClass||"")),o.styleClasses.textClass&&(r.textClass=P(o.styleClasses.textClass,r.textClass||""))),0==r.map.length&&r.map.push(0,0,r.content.appendChild(yt(e.display.measure))),0==i?(t.measure.map=r.map,t.measure.cache={}):((t.measure.maps||(t.measure.maps=[])).push(r.map),(t.measure.caches||(t.measure.caches=[])).push({}))}if(u){var s=r.content.lastChild;(/\bcm-tab\b/.test(s.className)||s.querySelector&&s.querySelector(".cm-tab"))&&(r.content.className="cm-tab-wrap-hack")}return rt(e,"renderLine",e,t.line,r.pre),r.pre.className&&(r.textClass=P(r.pre.className,r.textClass||"")),r}function Qt(e){var t=A("span","","cm-invalidchar");return t.title="\\u"+e.charCodeAt(0).toString(16),t.setAttribute("aria-label",t.title),t}function Zt(e,t,n,r,i,o,u){if(t){var l,c=e.splitSpaces?function(e,t){if(e.length>1&&!/  /.test(e))return e;for(var n=t,r="",i=0;i<e.length;i++){var o=e.charAt(i);" "!=o||!n||i!=e.length-1&&32!=e.charCodeAt(i+1)||(o=""),r+=o,n=" "==o}return r}(t,e.trailingSpace):t,d=e.cm.state.specialChars,f=!1;if(d.test(t)){l=document.createDocumentFragment();for(var h=0;;){d.lastIndex=h;var p=d.exec(t),m=p?p.index-h:t.length-h;if(m){var g=document.createTextNode(c.slice(h,h+m));a&&s<9?l.appendChild(A("span",[g])):l.appendChild(g),e.map.push(e.pos,e.pos+m,g),e.col+=m,e.pos+=m}if(!p)break;h+=m+1;var y=void 0;if("\t"==p[0]){var v=e.cm.options.tabSize,b=v-e.col%v;(y=l.appendChild(A("span",K(b),"cm-tab"))).setAttribute("role","presentation"),y.setAttribute("cm-text","\t"),e.col+=b}else"\r"==p[0]||"\n"==p[0]?((y=l.appendChild(A("span","\r"==p[0]?"":"","cm-invalidchar"))).setAttribute("cm-text",p[0]),e.col+=1):((y=e.cm.options.specialCharPlaceholder(p[0])).setAttribute("cm-text",p[0]),a&&s<9?l.appendChild(A("span",[y])):l.appendChild(y),e.col+=1);e.map.push(e.pos,e.pos+1,y),e.pos++}}else e.col+=t.length,l=document.createTextNode(c),e.map.push(e.pos,e.pos+t.length,l),a&&s<9&&(f=!0),e.pos+=t.length;if(e.trailingSpace=32==c.charCodeAt(t.length-1),n||r||i||f||o){var _=n||"";r&&(_+=r),i&&(_+=i);var w=A("span",[l],_,o);if(u)for(var k in u)u.hasOwnProperty(k)&&"style"!=k&&"class"!=k&&w.setAttribute(k,u[k]);return e.content.appendChild(w)}e.content.appendChild(l)}}function en(e,t){return function(n,r,i,o,a,s,u){i=i?i+" cm-force-border":"cm-force-border";for(var l=n.pos,c=l+r.length;;){for(var d=void 0,f=0;f<t.length&&!((d=t[f]).to>l&&d.from<=l);f++);if(d.to>=c)return e(n,r,i,o,a,s,u);e(n,r.slice(0,d.to-l),i,o,null,s,u),o=null,r=r.slice(d.to-l),l=d.to}}}function tn(e,t,n,r){var i=!r&&n.widgetNode;i&&e.map.push(e.pos,e.pos+t,i),!r&&e.cm.display.input.needsContentAttribute&&(i||(i=e.content.appendChild(document.createElement("span"))),i.setAttribute("cm-marker",n.id)),i&&(e.cm.display.input.setUneditable(i),e.content.appendChild(i)),e.pos+=t,e.trailingSpace=!1}function nn(e,t,n){var r=e.markedSpans,i=e.text,o=0;if(r)for(var a,s,u,l,c,d,f,h=i.length,p=0,m=1,g="",y=0;;){if(y==p){u=l=c=s="",f=null,d=null,y=1/0;for(var v=[],b=void 0,_=0;_<r.length;++_){var w=r[_],k=w.marker;if("bookmark"==k.type&&w.from==p&&k.widgetNode)v.push(k);else if(w.from<=p&&(null==w.to||w.to>p||k.collapsed&&w.to==p&&w.from==p)){if(null!=w.to&&w.to!=p&&y>w.to&&(y=w.to,l=""),k.className&&(u+=" "+k.className),k.css&&(s=(s?s+";":"")+k.css),k.startStyle&&w.from==p&&(c+=" "+k.startStyle),k.endStyle&&w.to==y&&(b||(b=[])).push(k.endStyle,w.to),k.title&&((f||(f={})).title=k.title),k.attributes)for(var E in k.attributes)(f||(f={}))[E]=k.attributes[E];k.collapsed&&(!d||De(d.marker,k)<0)&&(d=w)}else w.from>p&&y>w.from&&(y=w.from)}if(b)for(var x=0;x<b.length;x+=2)b[x+1]==y&&(l+=" "+b[x]);if(!d||d.from==p)for(var S=0;S<v.length;++S)tn(t,0,v[S]);if(d&&(d.from||0)==p){if(tn(t,(null==d.to?h+1:d.to)-p,d.marker,null==d.from),null==d.to)return;d.to==p&&(d=!1)}}if(p>=h)break;for(var M=Math.min(h,y);;){if(g){var T=p+g.length;if(!d){var C=T>M?g.slice(0,M-p):g;t.addToken(t,C,a?a+u:u,c,p+C.length==y?l:"",s,f)}if(T>=M){g=g.slice(M-p),p=M;break}p=T,c=""}g=i.slice(o,o=n[m++]),a=Xt(n[m++],t.cm.options)}}else for(var A=1;A<n.length;A+=2)t.addToken(t,i.slice(o,o=n[A]),Xt(n[A+1],t.cm.options))}function rn(e,t,n){this.line=t,this.rest=function(e){for(var t,n;t=Fe(e);)e=t.find(1,!0).line,(n||(n=[])).push(e);return n}(t),this.size=this.rest?de($(this.rest))-n+1:1,this.node=this.text=null,this.hidden=Ue(e,t)}function on(e,t,n){for(var r,i=[],o=t;o<n;o=r){var a=new rn(e.doc,se(e.doc,o),o);r=o+a.size,i.push(a)}return i}var an=null;var sn=null;function un(e,t){var n=tt(e,t);if(n.length){var r,i=Array.prototype.slice.call(arguments,2);an?r=an.delayedCallbacks:sn?r=sn:(r=sn=[],setTimeout(ln,0));for(var o=function(e){r.push(function(){return n[e].apply(null,i)})},a=0;a<n.length;++a)o(a)}}function ln(){var e=sn;sn=null;for(var t=0;t<e.length;++t)e[t]()}function cn(e,t,n,r){for(var i=0;i<t.changes.length;i++){var o=t.changes[i];"text"==o?hn(e,t):"gutter"==o?mn(e,t,n,r):"class"==o?pn(e,t):"widget"==o&&gn(e,t,r)}t.changes=null}function dn(e){return e.node==e.text&&(e.node=A("div",null,null,"position: relative"),e.text.parentNode&&e.text.parentNode.replaceChild(e.node,e.text),e.node.appendChild(e.text),a&&s<8&&(e.node.style.zIndex=2)),e.node}function fn(e,t){var n=e.display.externalMeasured;return n&&n.line==t.line?(e.display.externalMeasured=null,t.measure=n.measure,n.built):Jt(e,t)}function hn(e,t){var n=t.text.className,r=fn(e,t);t.text==t.node&&(t.node=r.pre),t.text.parentNode.replaceChild(r.pre,t.text),t.text=r.pre,r.bgClass!=t.bgClass||r.textClass!=t.textClass?(t.bgClass=r.bgClass,t.textClass=r.textClass,pn(e,t)):n&&(t.text.className=n)}function pn(e,t){!function(e,t){var n=t.bgClass?t.bgClass+" "+(t.line.bgClass||""):t.line.bgClass;if(n&&(n+=" CodeMirror-linebackground"),t.background)n?t.background.className=n:(t.background.parentNode.removeChild(t.background),t.background=null);else if(n){var r=dn(t);t.background=r.insertBefore(A("div",null,n),r.firstChild),e.display.input.setUneditable(t.background)}}(e,t),t.line.wrapClass?dn(t).className=t.line.wrapClass:t.node!=t.text&&(t.node.className="");var n=t.textClass?t.textClass+" "+(t.line.textClass||""):t.line.textClass;t.text.className=n||""}function mn(e,t,n,r){if(t.gutter&&(t.node.removeChild(t.gutter),t.gutter=null),t.gutterBackground&&(t.node.removeChild(t.gutterBackground),t.gutterBackground=null),t.line.gutterClass){var i=dn(t);t.gutterBackground=A("div",null,"CodeMirror-gutter-background "+t.line.gutterClass,"left: "+(e.options.fixedGutter?r.fixedPos:-r.gutterTotalWidth)+"px; width: "+r.gutterTotalWidth+"px"),e.display.input.setUneditable(t.gutterBackground),i.insertBefore(t.gutterBackground,t.text)}var o=t.line.gutterMarkers;if(e.options.lineNumbers||o){var a=dn(t),s=t.gutter=A("div",null,"CodeMirror-gutter-wrapper","left: "+(e.options.fixedGutter?r.fixedPos:-r.gutterTotalWidth)+"px");if(e.display.input.setUneditable(s),a.insertBefore(s,t.text),t.line.gutterClass&&(s.className+=" "+t.line.gutterClass),!e.options.lineNumbers||o&&o["CodeMirror-linenumbers"]||(t.lineNumber=s.appendChild(A("div",pe(e.options,n),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+r.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+e.display.lineNumInnerWidth+"px"))),o)for(var u=0;u<e.options.gutters.length;++u){var l=e.options.gutters[u],c=o.hasOwnProperty(l)&&o[l];c&&s.appendChild(A("div",[c],"CodeMirror-gutter-elt","left: "+r.gutterLeft[l]+"px; width: "+r.gutterWidth[l]+"px"))}}}function gn(e,t,n){t.alignable&&(t.alignable=null);for(var r=t.node.firstChild,i=void 0;r;r=i)i=r.nextSibling,"CodeMirror-linewidget"==r.className&&t.node.removeChild(r);vn(e,t,n)}function yn(e,t,n,r){var i=fn(e,t);return t.text=t.node=i.pre,i.bgClass&&(t.bgClass=i.bgClass),i.textClass&&(t.textClass=i.textClass),pn(e,t),mn(e,t,n,r),vn(e,t,r),t.node}function vn(e,t,n){if(bn(e,t.line,t,n,!0),t.rest)for(var r=0;r<t.rest.length;r++)bn(e,t.rest[r],t,n,!1)}function bn(e,t,n,r,i){if(t.widgets)for(var o=dn(n),a=0,s=t.widgets;a<s.length;++a){var u=s[a],l=A("div",[u.node],"CodeMirror-linewidget");u.handleMouseEvents||l.setAttribute("cm-ignore-events","true"),_n(u,l,n,r),e.display.input.setUneditable(l),i&&u.above?o.insertBefore(l,n.gutter||n.text):o.appendChild(l),un(u,"redraw")}}function _n(e,t,n,r){if(e.noHScroll){(n.alignable||(n.alignable=[])).push(t);var i=r.wrapperWidth;t.style.left=r.fixedPos+"px",e.coverGutter||(i-=r.gutterTotalWidth,t.style.paddingLeft=r.gutterTotalWidth+"px"),t.style.width=i+"px"}e.coverGutter&&(t.style.zIndex=5,t.style.position="relative",e.noHScroll||(t.style.marginLeft=-r.gutterTotalWidth+"px"))}function wn(e){if(null!=e.height)return e.height;var t=e.doc.cm;if(!t)return 0;if(!N(document.body,e.node)){var n="position: relative;";e.coverGutter&&(n+="margin-left: -"+t.display.gutters.offsetWidth+"px;"),e.noHScroll&&(n+="width: "+t.display.wrapper.clientWidth+"px;"),C(t.display.measure,A("div",[e.node],null,n))}return e.height=e.node.parentNode.offsetHeight}function kn(e,t){for(var n=ft(t);n!=e.wrapper;n=n.parentNode)if(!n||1==n.nodeType&&"true"==n.getAttribute("cm-ignore-events")||n.parentNode==e.sizer&&n!=e.mover)return!0}function En(e){return e.lineSpace.offsetTop}function xn(e){return e.mover.offsetHeight-e.lineSpace.offsetHeight}function Sn(e){if(e.cachedPaddingH)return e.cachedPaddingH;var t=C(e.measure,A("pre","x")),n=window.getComputedStyle?window.getComputedStyle(t):t.currentStyle,r={left:parseInt(n.paddingLeft),right:parseInt(n.paddingRight)};return isNaN(r.left)||isNaN(r.right)||(e.cachedPaddingH=r),r}function Mn(e){return H-e.display.nativeBarWidth}function Tn(e){return e.display.scroller.clientWidth-Mn(e)-e.display.barWidth}function Cn(e){return e.display.scroller.clientHeight-Mn(e)-e.display.barHeight}function An(e,t,n){if(e.line==t)return{map:e.measure.map,cache:e.measure.cache};for(var r=0;r<e.rest.length;r++)if(e.rest[r]==t)return{map:e.measure.maps[r],cache:e.measure.caches[r]};for(var i=0;i<e.rest.length;i++)if(de(e.rest[i])>n)return{map:e.measure.maps[i],cache:e.measure.caches[i],before:!0}}function On(e,t,n,r){return jn(e,Ln(e,t),n,r)}function Nn(e,t){if(t>=e.display.viewFrom&&t<e.display.viewTo)return e.display.view[ur(e,t)];var n=e.display.externalMeasured;return n&&t>=n.lineN&&t<n.lineN+n.size?n:void 0}function Ln(e,t){var n=de(t),r=Nn(e,n);r&&!r.text?r=null:r&&r.changes&&(cn(e,r,n,rr(e)),e.curOp.forceUpdate=!0),r||(r=function(e,t){var n=de(t=He(t)),r=e.display.externalMeasured=new rn(e.doc,t,n);r.lineN=n;var i=r.built=Jt(e,r);return r.text=i.pre,C(e.display.lineMeasure,i.pre),r}(e,t));var i=An(r,t,n);return{line:t,view:r,rect:null,map:i.map,cache:i.cache,before:i.before,hasHeights:!1}}function jn(e,t,n,r,i){t.before&&(n=-1);var o,u=n+(r||"");return t.cache.hasOwnProperty(u)?o=t.cache[u]:(t.rect||(t.rect=t.view.text.getBoundingClientRect()),t.hasHeights||(!function(e,t,n){var r=e.options.lineWrapping,i=r&&Tn(e);if(!t.measure.heights||r&&t.measure.width!=i){var o=t.measure.heights=[];if(r){t.measure.width=i;for(var a=t.text.firstChild.getClientRects(),s=0;s<a.length-1;s++){var u=a[s],l=a[s+1];Math.abs(u.bottom-l.bottom)>2&&o.push((u.bottom+l.top)/2-n.top)}}o.push(n.bottom-n.top)}}(e,t.view,t.rect),t.hasHeights=!0),(o=function(e,t,n,r){var i,o=In(t.map,n,r),u=o.node,l=o.start,c=o.end,d=o.collapse;if(3==u.nodeType){for(var f=0;f<4;f++){for(;l&&ie(t.line.text.charAt(o.coverStart+l));)--l;for(;o.coverStart+c<o.coverEnd&&ie(t.line.text.charAt(o.coverStart+c));)++c;if((i=a&&s<9&&0==l&&c==o.coverEnd-o.coverStart?u.parentNode.getBoundingClientRect():Rn(S(u,l,c).getClientRects(),r)).left||i.right||0==l)break;c=l,l-=1,d="right"}a&&s<11&&(i=function(e,t){if(!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI||!function(e){if(null!=Et)return Et;var t=C(e,A("span","x")),n=t.getBoundingClientRect(),r=S(t,0,1).getBoundingClientRect();return Et=Math.abs(n.left-r.left)>1}(e))return t;var n=screen.logicalXDPI/screen.deviceXDPI,r=screen.logicalYDPI/screen.deviceYDPI;return{left:t.left*n,right:t.right*n,top:t.top*r,bottom:t.bottom*r}}(e.display.measure,i))}else{var h;l>0&&(d=r="right"),i=e.options.lineWrapping&&(h=u.getClientRects()).length>1?h["right"==r?h.length-1:0]:u.getBoundingClientRect()}if(a&&s<9&&!l&&(!i||!i.left&&!i.right)){var p=u.parentNode.getClientRects()[0];i=p?{left:p.left,right:p.left+nr(e.display),top:p.top,bottom:p.bottom}:Dn}for(var m=i.top-t.rect.top,g=i.bottom-t.rect.top,y=(m+g)/2,v=t.view.measure.heights,b=0;b<v.length-1&&!(y<v[b]);b++);var _=b?v[b-1]:0,w=v[b],k={left:("right"==d?i.right:i.left)-t.rect.left,right:("left"==d?i.left:i.right)-t.rect.left,top:_,bottom:w};i.left||i.right||(k.bogus=!0);e.options.singleCursorHeightPerLine||(k.rtop=m,k.rbottom=g);return k}(e,t,n,r)).bogus||(t.cache[u]=o)),{left:o.left,right:o.right,top:i?o.rtop:o.top,bottom:i?o.rbottom:o.bottom}}var Pn,Dn={left:0,right:0,top:0,bottom:0};function In(e,t,n){for(var r,i,o,a,s,u,l=0;l<e.length;l+=3)if(s=e[l],u=e[l+1],t<s?(i=0,o=1,a="left"):t<u?o=(i=t-s)+1:(l==e.length-3||t==u&&e[l+3]>t)&&(i=(o=u-s)-1,t>=u&&(a="right")),null!=i){if(r=e[l+2],s==u&&n==(r.insertLeft?"left":"right")&&(a=n),"left"==n&&0==i)for(;l&&e[l-2]==e[l-3]&&e[l-1].insertLeft;)r=e[2+(l-=3)],a="left";if("right"==n&&i==u-s)for(;l<e.length-3&&e[l+3]==e[l+4]&&!e[l+5].insertLeft;)r=e[(l+=3)+2],a="right";break}return{node:r,start:i,end:o,collapse:a,coverStart:s,coverEnd:u}}function Rn(e,t){var n=Dn;if("left"==t)for(var r=0;r<e.length&&(n=e[r]).left==n.right;r++);else for(var i=e.length-1;i>=0&&(n=e[i]).left==n.right;i--);return n}function Fn(e){if(e.measure&&(e.measure.cache={},e.measure.heights=null,e.rest))for(var t=0;t<e.rest.length;t++)e.measure.caches[t]={}}function Yn(e){e.display.externalMeasure=null,T(e.display.lineMeasure);for(var t=0;t<e.display.view.length;t++)Fn(e.display.view[t])}function Bn(e){Yn(e),e.display.cachedCharWidth=e.display.cachedTextHeight=e.display.cachedPaddingH=null,e.options.lineWrapping||(e.display.maxLineChanged=!0),e.display.lineNumChars=null}function Hn(){return c&&g?-(document.body.getBoundingClientRect().left-parseInt(getComputedStyle(document.body).marginLeft)):window.pageXOffset||(document.documentElement||document.body).scrollLeft}function zn(){return c&&g?-(document.body.getBoundingClientRect().top-parseInt(getComputedStyle(document.body).marginTop)):window.pageYOffset||(document.documentElement||document.body).scrollTop}function Wn(e){var t=0;if(e.widgets)for(var n=0;n<e.widgets.length;++n)e.widgets[n].above&&(t+=wn(e.widgets[n]));return t}function Un(e,t,n,r,i){if(!i){var o=Wn(t);n.top+=o,n.bottom+=o}if("line"==r)return n;r||(r="local");var a=Ge(t);if("local"==r?a+=En(e.display):a-=e.display.viewOffset,"page"==r||"window"==r){var s=e.display.lineSpace.getBoundingClientRect();a+=s.top+("window"==r?0:zn());var u=s.left+("window"==r?0:Hn());n.left+=u,n.right+=u}return n.top+=a,n.bottom+=a,n}function Vn(e,t,n){if("div"==n)return t;var r=t.left,i=t.top;if("page"==n)r-=Hn(),i-=zn();else if("local"==n||!n){var o=e.display.sizer.getBoundingClientRect();r+=o.left,i+=o.top}var a=e.display.lineSpace.getBoundingClientRect();return{left:r-a.left,top:i-a.top}}function Gn(e,t,n,r,i){return r||(r=se(e.doc,t.line)),Un(e,r,On(e,r,t.ch,i),n)}function qn(e,t,n,r,i,o){function a(t,a){var s=jn(e,i,t,a?"right":"left",o);return a?s.left=s.right:s.right=s.left,Un(e,r,s,n)}r=r||se(e.doc,t.line),i||(i=Ln(e,r));var s=Qe(r,e.doc.direction),u=t.ch,l=t.sticky;if(u>=r.text.length?(u=r.text.length,l="before"):u<=0&&(u=0,l="after"),!s)return a("before"==l?u-1:u,"before"==l);function c(e,t,n){var r=1==s[t].level;return a(n?e-1:e,r!=n)}var d=Xe(s,u,l),f=$e,h=c(u,d,"before"==l);return null!=f&&(h.other=c(u,f,"before"!=l)),h}function Kn(e,t){var n=0;t=ke(e.doc,t),e.options.lineWrapping||(n=nr(e.display)*t.ch);var r=se(e.doc,t.line),i=Ge(r)+En(e.display);return{left:n,right:n,top:i,bottom:i+r.height}}function $n(e,t,n,r,i){var o=me(e,t,n);return o.xRel=i,r&&(o.outside=!0),o}function Xn(e,t,n){var r=e.doc;if((n+=e.display.viewOffset)<0)return $n(r.first,0,null,!0,-1);var i=fe(r,n),o=r.first+r.size-1;if(i>o)return $n(r.first+r.size-1,se(r,o).text.length,null,!0,1);t<0&&(t=0);for(var a=se(r,i);;){var s=er(e,a,i,t,n),u=Ye(a,s.ch+(s.xRel>0?1:0));if(!u)return s;var l=u.find(1);if(l.line==i)return l;a=se(r,i=l.line)}}function Jn(e,t,n,r){r-=Wn(t);var i=t.text.length,o=ae(function(t){return jn(e,n,t-1).bottom<=r},i,0);return{begin:o,end:i=ae(function(t){return jn(e,n,t).top>r},o,i)}}function Qn(e,t,n,r){return n||(n=Ln(e,t)),Jn(e,t,n,Un(e,t,jn(e,n,r),"line").top)}function Zn(e,t,n,r){return!(e.bottom<=n)&&(e.top>n||(r?e.left:e.right)>t)}function er(e,t,n,r,i){i-=Ge(t);var o=Ln(e,t),a=Wn(t),s=0,u=t.text.length,l=!0,c=Qe(t,e.doc.direction);if(c){var d=(e.options.lineWrapping?function(e,t,n,r,i,o,a){var s=Jn(e,t,r,a),u=s.begin,l=s.end;/\s/.test(t.text.charAt(l-1))&&l--;for(var c=null,d=null,f=0;f<i.length;f++){var h=i[f];if(!(h.from>=l||h.to<=u)){var p=1!=h.level,m=jn(e,r,p?Math.min(l,h.to)-1:Math.max(u,h.from)).right,g=m<o?o-m+1e9:m-o;(!c||d>g)&&(c=h,d=g)}}c||(c=i[i.length-1]);c.from<u&&(c={from:u,to:c.to,level:c.level});c.to>l&&(c={from:c.from,to:l,level:c.level});return c}:function(e,t,n,r,i,o,a){var s=ae(function(s){var u=i[s],l=1!=u.level;return Zn(qn(e,me(n,l?u.to:u.from,l?"before":"after"),"line",t,r),o,a,!0)},0,i.length-1),u=i[s];if(s>0){var l=1!=u.level,c=qn(e,me(n,l?u.from:u.to,l?"after":"before"),"line",t,r);Zn(c,o,a,!0)&&c.top>a&&(u=i[s-1])}return u})(e,t,n,o,c,r,i);s=(l=1!=d.level)?d.from:d.to-1,u=l?d.to:d.from-1}var f,h,p=null,m=null,g=ae(function(t){var n=jn(e,o,t);return n.top+=a,n.bottom+=a,!!Zn(n,r,i,!1)&&(n.top<=i&&n.left<=r&&(p=t,m=n),!0)},s,u),y=!1;if(m){var v=r-m.left<m.right-r,b=v==l;g=p+(b?0:1),h=b?"after":"before",f=v?m.left:m.right}else{l||g!=u&&g!=s||g++,h=0==g?"after":g==t.text.length?"before":jn(e,o,g-(l?1:0)).bottom+a<=i==l?"after":"before";var _=qn(e,me(n,g,h),"line",t,o);f=_.left,y=i<_.top||i>=_.bottom}return $n(n,g=oe(t.text,g,1),h,y,r-f)}function tr(e){if(null!=e.cachedTextHeight)return e.cachedTextHeight;if(null==Pn){Pn=A("pre");for(var t=0;t<49;++t)Pn.appendChild(document.createTextNode("x")),Pn.appendChild(A("br"));Pn.appendChild(document.createTextNode("x"))}C(e.measure,Pn);var n=Pn.offsetHeight/50;return n>3&&(e.cachedTextHeight=n),T(e.measure),n||1}function nr(e){if(null!=e.cachedCharWidth)return e.cachedCharWidth;var t=A("span","xxxxxxxxxx"),n=A("pre",[t]);C(e.measure,n);var r=t.getBoundingClientRect(),i=(r.right-r.left)/10;return i>2&&(e.cachedCharWidth=i),i||10}function rr(e){for(var t=e.display,n={},r={},i=t.gutters.clientLeft,o=t.gutters.firstChild,a=0;o;o=o.nextSibling,++a)n[e.options.gutters[a]]=o.offsetLeft+o.clientLeft+i,r[e.options.gutters[a]]=o.clientWidth;return{fixedPos:ir(t),gutterTotalWidth:t.gutters.offsetWidth,gutterLeft:n,gutterWidth:r,wrapperWidth:t.wrapper.clientWidth}}function ir(e){return e.scroller.getBoundingClientRect().left-e.sizer.getBoundingClientRect().left}function or(e){var t=tr(e.display),n=e.options.lineWrapping,r=n&&Math.max(5,e.display.scroller.clientWidth/nr(e.display)-3);return function(i){if(Ue(e.doc,i))return 0;var o=0;if(i.widgets)for(var a=0;a<i.widgets.length;a++)i.widgets[a].height&&(o+=i.widgets[a].height);return n?o+(Math.ceil(i.text.length/r)||1)*t:o+t}}function ar(e){var t=e.doc,n=or(e);t.iter(function(e){var t=n(e);t!=e.height&&ce(e,t)})}function sr(e,t,n,r){var i=e.display;if(!n&&"true"==ft(t).getAttribute("cm-not-content"))return null;var o,a,s=i.lineSpace.getBoundingClientRect();try{o=t.clientX-s.left,a=t.clientY-s.top}catch(t){return null}var u,l=Xn(e,o,a);if(r&&1==l.xRel&&(u=se(e.doc,l.line).text).length==l.ch){var c=F(u,u.length,e.options.tabSize)-u.length;l=me(l.line,Math.max(0,Math.round((o-Sn(e.display).left)/nr(e.display))-c))}return l}function ur(e,t){if(t>=e.display.viewTo)return null;if((t-=e.display.viewFrom)<0)return null;for(var n=e.display.view,r=0;r<n.length;r++)if((t-=n[r].size)<0)return r}function lr(e){e.display.input.showSelection(e.display.input.prepareSelection())}function cr(e,t){void 0===t&&(t=!0);for(var n=e.doc,r={},i=r.cursors=document.createDocumentFragment(),o=r.selection=document.createDocumentFragment(),a=0;a<n.sel.ranges.length;a++)if(t||a!=n.sel.primIndex){var s=n.sel.ranges[a];if(!(s.from().line>=e.display.viewTo||s.to().line<e.display.viewFrom)){var u=s.empty();(u||e.options.showCursorWhenSelecting)&&dr(e,s.head,i),u||hr(e,s,o)}}return r}function dr(e,t,n){var r=qn(e,t,"div",null,null,!e.options.singleCursorHeightPerLine),i=n.appendChild(A("div","","CodeMirror-cursor"));if(i.style.left=r.left+"px",i.style.top=r.top+"px",i.style.height=Math.max(0,r.bottom-r.top)*e.options.cursorHeight+"px",r.other){var o=n.appendChild(A("div","","CodeMirror-cursor CodeMirror-secondarycursor"));o.style.display="",o.style.left=r.other.left+"px",o.style.top=r.other.top+"px",o.style.height=.85*(r.other.bottom-r.other.top)+"px"}}function fr(e,t){return e.top-t.top||e.left-t.left}function hr(e,t,n){var r=e.display,i=e.doc,o=document.createDocumentFragment(),a=Sn(e.display),s=a.left,u=Math.max(r.sizerWidth,Tn(e)-r.sizer.offsetLeft)-a.right,l="ltr"==i.direction;function c(e,t,n,r){t<0&&(t=0),t=Math.round(t),r=Math.round(r),o.appendChild(A("div",null,"CodeMirror-selected","position: absolute; left: "+e+"px;\n                             top: "+t+"px; width: "+(null==n?u-e:n)+"px;\n                             height: "+(r-t)+"px"))}function d(t,n,r){var o,a,d=se(i,t),f=d.text.length;function h(n,r){return Gn(e,me(t,n),"div",d,r)}function p(t,n,r){var i=Qn(e,d,null,t),o="ltr"==n==("after"==r)?"left":"right";return h("after"==r?i.begin:i.end-(/\s/.test(d.text.charAt(i.end-1))?2:1),o)[o]}var m=Qe(d,i.direction);return function(e,t,n,r){if(!e)return r(t,n,"ltr",0);for(var i=!1,o=0;o<e.length;++o){var a=e[o];(a.from<n&&a.to>t||t==n&&a.to==t)&&(r(Math.max(a.from,t),Math.min(a.to,n),1==a.level?"rtl":"ltr",o),i=!0)}i||r(t,n,"ltr")}(m,n||0,null==r?f:r,function(e,t,i,d){var g="ltr"==i,y=h(e,g?"left":"right"),v=h(t-1,g?"right":"left"),b=null==n&&0==e,_=null==r&&t==f,w=0==d,k=!m||d==m.length-1;if(v.top-y.top<=3){var E=(l?_:b)&&k,x=(l?b:_)&&w?s:(g?y:v).left,S=E?u:(g?v:y).right;c(x,y.top,S-x,y.bottom)}else{var M,T,C,A;g?(M=l&&b&&w?s:y.left,T=l?u:p(e,i,"before"),C=l?s:p(t,i,"after"),A=l&&_&&k?u:v.right):(M=l?p(e,i,"before"):s,T=!l&&b&&w?u:y.right,C=!l&&_&&k?s:v.left,A=l?p(t,i,"after"):u),c(M,y.top,T-M,y.bottom),y.bottom<v.top&&c(s,y.bottom,null,v.top),c(C,v.top,A-C,v.bottom)}(!o||fr(y,o)<0)&&(o=y),fr(v,o)<0&&(o=v),(!a||fr(y,a)<0)&&(a=y),fr(v,a)<0&&(a=v)}),{start:o,end:a}}var f=t.from(),h=t.to();if(f.line==h.line)d(f.line,f.ch,h.ch);else{var p=se(i,f.line),m=se(i,h.line),g=He(p)==He(m),y=d(f.line,f.ch,g?p.text.length+1:null).end,v=d(h.line,g?0:null,h.ch).start;g&&(y.top<v.top-2?(c(y.right,y.top,null,y.bottom),c(s,v.top,v.left,v.bottom)):c(y.right,y.top,v.left-y.right,y.bottom)),y.bottom<v.top&&c(s,y.bottom,null,v.top)}n.appendChild(o)}function pr(e){if(e.state.focused){var t=e.display;clearInterval(t.blinker);var n=!0;t.cursorDiv.style.visibility="",e.options.cursorBlinkRate>0?t.blinker=setInterval(function(){return t.cursorDiv.style.visibility=(n=!n)?"":"hidden"},e.options.cursorBlinkRate):e.options.cursorBlinkRate<0&&(t.cursorDiv.style.visibility="hidden")}}function mr(e){e.state.focused||(e.display.input.focus(),yr(e))}function gr(e){e.state.delayingBlurEvent=!0,setTimeout(function(){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1,vr(e))},100)}function yr(e,t){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1),"nocursor"!=e.options.readOnly&&(e.state.focused||(rt(e,"focus",e,t),e.state.focused=!0,j(e.display.wrapper,"CodeMirror-focused"),e.curOp||e.display.selForContextMenu==e.doc.sel||(e.display.input.reset(),u&&setTimeout(function(){return e.display.input.reset(!0)},20)),e.display.input.receivedFocus()),pr(e))}function vr(e,t){e.state.delayingBlurEvent||(e.state.focused&&(rt(e,"blur",e,t),e.state.focused=!1,M(e.display.wrapper,"CodeMirror-focused")),clearInterval(e.display.blinker),setTimeout(function(){e.state.focused||(e.display.shift=!1)},150))}function br(e){for(var t=e.display,n=t.lineDiv.offsetTop,r=0;r<t.view.length;r++){var i=t.view[r],o=e.options.lineWrapping,u=void 0,l=0;if(!i.hidden){if(a&&s<8){var c=i.node.offsetTop+i.node.offsetHeight;u=c-n,n=c}else{var d=i.node.getBoundingClientRect();u=d.bottom-d.top,!o&&i.text.firstChild&&(l=i.text.firstChild.getBoundingClientRect().right-d.left-1)}var f=i.line.height-u;if(u<2&&(u=tr(t)),(f>.005||f<-.005)&&(ce(i.line,u),_r(i.line),i.rest))for(var h=0;h<i.rest.length;h++)_r(i.rest[h]);if(l>e.display.sizerWidth){var p=Math.ceil(l/nr(e.display));p>e.display.maxLineLength&&(e.display.maxLineLength=p,e.display.maxLine=i.line,e.display.maxLineChanged=!0)}}}}function _r(e){if(e.widgets)for(var t=0;t<e.widgets.length;++t){var n=e.widgets[t],r=n.node.parentNode;r&&(n.height=r.offsetHeight)}}function wr(e,t,n){var r=n&&null!=n.top?Math.max(0,n.top):e.scroller.scrollTop;r=Math.floor(r-En(e));var i=n&&null!=n.bottom?n.bottom:r+e.wrapper.clientHeight,o=fe(t,r),a=fe(t,i);if(n&&n.ensure){var s=n.ensure.from.line,u=n.ensure.to.line;s<o?(o=s,a=fe(t,Ge(se(t,s))+e.wrapper.clientHeight)):Math.min(u,t.lastLine())>=a&&(o=fe(t,Ge(se(t,u))-e.wrapper.clientHeight),a=u)}return{from:o,to:Math.max(a,o+1)}}function kr(e){var t=e.display,n=t.view;if(t.alignWidgets||t.gutters.firstChild&&e.options.fixedGutter){for(var r=ir(t)-t.scroller.scrollLeft+e.doc.scrollLeft,i=t.gutters.offsetWidth,o=r+"px",a=0;a<n.length;a++)if(!n[a].hidden){e.options.fixedGutter&&(n[a].gutter&&(n[a].gutter.style.left=o),n[a].gutterBackground&&(n[a].gutterBackground.style.left=o));var s=n[a].alignable;if(s)for(var u=0;u<s.length;u++)s[u].style.left=o}e.options.fixedGutter&&(t.gutters.style.left=r+i+"px")}}function Er(e){if(!e.options.lineNumbers)return!1;var t=e.doc,n=pe(e.options,t.first+t.size-1),r=e.display;if(n.length!=r.lineNumChars){var i=r.measure.appendChild(A("div",[A("div",n)],"CodeMirror-linenumber CodeMirror-gutter-elt")),o=i.firstChild.offsetWidth,a=i.offsetWidth-o;return r.lineGutter.style.width="",r.lineNumInnerWidth=Math.max(o,r.lineGutter.offsetWidth-a)+1,r.lineNumWidth=r.lineNumInnerWidth+a,r.lineNumChars=r.lineNumInnerWidth?n.length:-1,r.lineGutter.style.width=r.lineNumWidth+"px",ui(e),!0}return!1}function xr(e,t){var n=e.display,r=tr(e.display);t.top<0&&(t.top=0);var i=e.curOp&&null!=e.curOp.scrollTop?e.curOp.scrollTop:n.scroller.scrollTop,o=Cn(e),a={};t.bottom-t.top>o&&(t.bottom=t.top+o);var s=e.doc.height+xn(n),u=t.top<r,l=t.bottom>s-r;if(t.top<i)a.scrollTop=u?0:t.top;else if(t.bottom>i+o){var c=Math.min(t.top,(l?s:t.bottom)-o);c!=i&&(a.scrollTop=c)}var d=e.curOp&&null!=e.curOp.scrollLeft?e.curOp.scrollLeft:n.scroller.scrollLeft,f=Tn(e)-(e.options.fixedGutter?n.gutters.offsetWidth:0),h=t.right-t.left>f;return h&&(t.right=t.left+f),t.left<10?a.scrollLeft=0:t.left<d?a.scrollLeft=Math.max(0,t.left-(h?0:10)):t.right>f+d-3&&(a.scrollLeft=t.right+(h?0:10)-f),a}function Sr(e,t){null!=t&&(Cr(e),e.curOp.scrollTop=(null==e.curOp.scrollTop?e.doc.scrollTop:e.curOp.scrollTop)+t)}function Mr(e){Cr(e);var t=e.getCursor();e.curOp.scrollToPos={from:t,to:t,margin:e.options.cursorScrollMargin}}function Tr(e,t,n){null==t&&null==n||Cr(e),null!=t&&(e.curOp.scrollLeft=t),null!=n&&(e.curOp.scrollTop=n)}function Cr(e){var t=e.curOp.scrollToPos;t&&(e.curOp.scrollToPos=null,Ar(e,Kn(e,t.from),Kn(e,t.to),t.margin))}function Ar(e,t,n,r){var i=xr(e,{left:Math.min(t.left,n.left),top:Math.min(t.top,n.top)-r,right:Math.max(t.right,n.right),bottom:Math.max(t.bottom,n.bottom)+r});Tr(e,i.scrollLeft,i.scrollTop)}function Or(e,t){Math.abs(e.doc.scrollTop-t)<2||(n||si(e,{top:t}),Nr(e,t,!0),n&&si(e),ni(e,100))}function Nr(e,t,n){t=Math.min(e.display.scroller.scrollHeight-e.display.scroller.clientHeight,t),(e.display.scroller.scrollTop!=t||n)&&(e.doc.scrollTop=t,e.display.scrollbars.setScrollTop(t),e.display.scroller.scrollTop!=t&&(e.display.scroller.scrollTop=t))}function Lr(e,t,n,r){t=Math.min(t,e.display.scroller.scrollWidth-e.display.scroller.clientWidth),(n?t==e.doc.scrollLeft:Math.abs(e.doc.scrollLeft-t)<2)&&!r||(e.doc.scrollLeft=t,kr(e),e.display.scroller.scrollLeft!=t&&(e.display.scroller.scrollLeft=t),e.display.scrollbars.setScrollLeft(t))}function jr(e){var t=e.display,n=t.gutters.offsetWidth,r=Math.round(e.doc.height+xn(e.display));return{clientHeight:t.scroller.clientHeight,viewHeight:t.wrapper.clientHeight,scrollWidth:t.scroller.scrollWidth,clientWidth:t.scroller.clientWidth,viewWidth:t.wrapper.clientWidth,barLeft:e.options.fixedGutter?n:0,docHeight:r,scrollHeight:r+Mn(e)+t.barHeight,nativeBarWidth:t.nativeBarWidth,gutterWidth:n}}var Pr=function(e,t,n){this.cm=n;var r=this.vert=A("div",[A("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),i=this.horiz=A("div",[A("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");r.tabIndex=i.tabIndex=-1,e(r),e(i),et(r,"scroll",function(){r.clientHeight&&t(r.scrollTop,"vertical")}),et(i,"scroll",function(){i.clientWidth&&t(i.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,a&&s<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};Pr.prototype.update=function(e){var t=e.scrollWidth>e.clientWidth+1,n=e.scrollHeight>e.clientHeight+1,r=e.nativeBarWidth;if(n){this.vert.style.display="block",this.vert.style.bottom=t?r+"px":"0";var i=e.viewHeight-(t?r:0);this.vert.firstChild.style.height=Math.max(0,e.scrollHeight-e.clientHeight+i)+"px"}else this.vert.style.display="",this.vert.firstChild.style.height="0";if(t){this.horiz.style.display="block",this.horiz.style.right=n?r+"px":"0",this.horiz.style.left=e.barLeft+"px";var o=e.viewWidth-e.barLeft-(n?r:0);this.horiz.firstChild.style.width=Math.max(0,e.scrollWidth-e.clientWidth+o)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&e.clientHeight>0&&(0==r&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:n?r:0,bottom:t?r:0}},Pr.prototype.setScrollLeft=function(e){this.horiz.scrollLeft!=e&&(this.horiz.scrollLeft=e),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},Pr.prototype.setScrollTop=function(e){this.vert.scrollTop!=e&&(this.vert.scrollTop=e),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},Pr.prototype.zeroWidthHack=function(){var e=v&&!h?"12px":"18px";this.horiz.style.height=this.vert.style.width=e,this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none",this.disableHoriz=new Y,this.disableVert=new Y},Pr.prototype.enableZeroWidthBar=function(e,t,n){e.style.pointerEvents="auto",t.set(1e3,function r(){var i=e.getBoundingClientRect();("vert"==n?document.elementFromPoint(i.right-1,(i.top+i.bottom)/2):document.elementFromPoint((i.right+i.left)/2,i.bottom-1))!=e?e.style.pointerEvents="none":t.set(1e3,r)})},Pr.prototype.clear=function(){var e=this.horiz.parentNode;e.removeChild(this.horiz),e.removeChild(this.vert)};var Dr=function(){};function Ir(e,t){t||(t=jr(e));var n=e.display.barWidth,r=e.display.barHeight;Rr(e,t);for(var i=0;i<4&&n!=e.display.barWidth||r!=e.display.barHeight;i++)n!=e.display.barWidth&&e.options.lineWrapping&&br(e),Rr(e,jr(e)),n=e.display.barWidth,r=e.display.barHeight}function Rr(e,t){var n=e.display,r=n.scrollbars.update(t);n.sizer.style.paddingRight=(n.barWidth=r.right)+"px",n.sizer.style.paddingBottom=(n.barHeight=r.bottom)+"px",n.heightForcer.style.borderBottom=r.bottom+"px solid transparent",r.right&&r.bottom?(n.scrollbarFiller.style.display="block",n.scrollbarFiller.style.height=r.bottom+"px",n.scrollbarFiller.style.width=r.right+"px"):n.scrollbarFiller.style.display="",r.bottom&&e.options.coverGutterNextToScrollbar&&e.options.fixedGutter?(n.gutterFiller.style.display="block",n.gutterFiller.style.height=r.bottom+"px",n.gutterFiller.style.width=t.gutterWidth+"px"):n.gutterFiller.style.display=""}Dr.prototype.update=function(){return{bottom:0,right:0}},Dr.prototype.setScrollLeft=function(){},Dr.prototype.setScrollTop=function(){},Dr.prototype.clear=function(){};var Fr={native:Pr,null:Dr};function Yr(e){e.display.scrollbars&&(e.display.scrollbars.clear(),e.display.scrollbars.addClass&&M(e.display.wrapper,e.display.scrollbars.addClass)),e.display.scrollbars=new Fr[e.options.scrollbarStyle](function(t){e.display.wrapper.insertBefore(t,e.display.scrollbarFiller),et(t,"mousedown",function(){e.state.focused&&setTimeout(function(){return e.display.input.focus()},0)}),t.setAttribute("cm-not-content","true")},function(t,n){"horizontal"==n?Lr(e,t):Or(e,t)},e),e.display.scrollbars.addClass&&j(e.display.wrapper,e.display.scrollbars.addClass)}var Br=0;function Hr(e){var t;e.curOp={cm:e,viewChanged:!1,startHeight:e.doc.height,forceUpdate:!1,updateInput:null,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++Br},t=e.curOp,an?an.ops.push(t):t.ownsGroup=an={ops:[t],delayedCallbacks:[]}}function zr(e){var t=e.curOp;t&&function(e,t){var n=e.ownsGroup;if(n)try{!function(e){var t=e.delayedCallbacks,n=0;do{for(;n<t.length;n++)t[n].call(null);for(var r=0;r<e.ops.length;r++){var i=e.ops[r];if(i.cursorActivityHandlers)for(;i.cursorActivityCalled<i.cursorActivityHandlers.length;)i.cursorActivityHandlers[i.cursorActivityCalled++].call(null,i.cm)}}while(n<t.length)}(n)}finally{an=null,t(n)}}(t,function(e){for(var t=0;t<e.ops.length;t++)e.ops[t].cm.curOp=null;!function(e){for(var t=e.ops,n=0;n<t.length;n++)Wr(t[n]);for(var r=0;r<t.length;r++)(i=t[r]).updatedDisplay=i.mustUpdate&&oi(i.cm,i.update);var i;for(var o=0;o<t.length;o++)Ur(t[o]);for(var a=0;a<t.length;a++)Vr(t[a]);for(var s=0;s<t.length;s++)Gr(t[s])}(e)})}function Wr(e){var t=e.cm,n=t.display;!function(e){var t=e.display;!t.scrollbarsClipped&&t.scroller.offsetWidth&&(t.nativeBarWidth=t.scroller.offsetWidth-t.scroller.clientWidth,t.heightForcer.style.height=Mn(e)+"px",t.sizer.style.marginBottom=-t.nativeBarWidth+"px",t.sizer.style.borderRightWidth=Mn(e)+"px",t.scrollbarsClipped=!0)}(t),e.updateMaxLine&&Ke(t),e.mustUpdate=e.viewChanged||e.forceUpdate||null!=e.scrollTop||e.scrollToPos&&(e.scrollToPos.from.line<n.viewFrom||e.scrollToPos.to.line>=n.viewTo)||n.maxLineChanged&&t.options.lineWrapping,e.update=e.mustUpdate&&new ii(t,e.mustUpdate&&{top:e.scrollTop,ensure:e.scrollToPos},e.forceUpdate)}function Ur(e){var t=e.cm,n=t.display;e.updatedDisplay&&br(t),e.barMeasure=jr(t),n.maxLineChanged&&!t.options.lineWrapping&&(e.adjustWidthTo=On(t,n.maxLine,n.maxLine.text.length).left+3,t.display.sizerWidth=e.adjustWidthTo,e.barMeasure.scrollWidth=Math.max(n.scroller.clientWidth,n.sizer.offsetLeft+e.adjustWidthTo+Mn(t)+t.display.barWidth),e.maxScrollLeft=Math.max(0,n.sizer.offsetLeft+e.adjustWidthTo-Tn(t))),(e.updatedDisplay||e.selectionChanged)&&(e.preparedSelection=n.input.prepareSelection())}function Vr(e){var t=e.cm;null!=e.adjustWidthTo&&(t.display.sizer.style.minWidth=e.adjustWidthTo+"px",e.maxScrollLeft<t.doc.scrollLeft&&Lr(t,Math.min(t.display.scroller.scrollLeft,e.maxScrollLeft),!0),t.display.maxLineChanged=!1);var n=e.focus&&e.focus==L();e.preparedSelection&&t.display.input.showSelection(e.preparedSelection,n),(e.updatedDisplay||e.startHeight!=t.doc.height)&&Ir(t,e.barMeasure),e.updatedDisplay&&li(t,e.barMeasure),e.selectionChanged&&pr(t),t.state.focused&&e.updateInput&&t.display.input.reset(e.typing),n&&mr(e.cm)}function Gr(e){var t=e.cm,n=t.display,r=t.doc;(e.updatedDisplay&&ai(t,e.update),null==n.wheelStartX||null==e.scrollTop&&null==e.scrollLeft&&!e.scrollToPos||(n.wheelStartX=n.wheelStartY=null),null!=e.scrollTop&&Nr(t,e.scrollTop,e.forceScroll),null!=e.scrollLeft&&Lr(t,e.scrollLeft,!0,!0),e.scrollToPos)&&function(e,t){if(!it(e,"scrollCursorIntoView")){var n=e.display,r=n.sizer.getBoundingClientRect(),i=null;if(t.top+r.top<0?i=!0:t.bottom+r.top>(window.innerHeight||document.documentElement.clientHeight)&&(i=!1),null!=i&&!p){var o=A("div","",null,"position: absolute;\n                         top: "+(t.top-n.viewOffset-En(e.display))+"px;\n                         height: "+(t.bottom-t.top+Mn(e)+n.barHeight)+"px;\n                         left: "+t.left+"px; width: "+Math.max(2,t.right-t.left)+"px;");e.display.lineSpace.appendChild(o),o.scrollIntoView(i),e.display.lineSpace.removeChild(o)}}}(t,function(e,t,n,r){var i;null==r&&(r=0),e.options.lineWrapping||t!=n||(n="before"==(t=t.ch?me(t.line,"before"==t.sticky?t.ch-1:t.ch,"after"):t).sticky?me(t.line,t.ch+1,"before"):t);for(var o=0;o<5;o++){var a=!1,s=qn(e,t),u=n&&n!=t?qn(e,n):s,l=xr(e,i={left:Math.min(s.left,u.left),top:Math.min(s.top,u.top)-r,right:Math.max(s.left,u.left),bottom:Math.max(s.bottom,u.bottom)+r}),c=e.doc.scrollTop,d=e.doc.scrollLeft;if(null!=l.scrollTop&&(Or(e,l.scrollTop),Math.abs(e.doc.scrollTop-c)>1&&(a=!0)),null!=l.scrollLeft&&(Lr(e,l.scrollLeft),Math.abs(e.doc.scrollLeft-d)>1&&(a=!0)),!a)break}return i}(t,ke(r,e.scrollToPos.from),ke(r,e.scrollToPos.to),e.scrollToPos.margin));var i=e.maybeHiddenMarkers,o=e.maybeUnhiddenMarkers;if(i)for(var a=0;a<i.length;++a)i[a].lines.length||rt(i[a],"hide");if(o)for(var s=0;s<o.length;++s)o[s].lines.length&&rt(o[s],"unhide");n.wrapper.offsetHeight&&(r.scrollTop=t.display.scroller.scrollTop),e.changeObjs&&rt(t,"changes",t,e.changeObjs),e.update&&e.update.finish()}function qr(e,t){if(e.curOp)return t();Hr(e);try{return t()}finally{zr(e)}}function Kr(e,t){return function(){if(e.curOp)return t.apply(e,arguments);Hr(e);try{return t.apply(e,arguments)}finally{zr(e)}}}function $r(e){return function(){if(this.curOp)return e.apply(this,arguments);Hr(this);try{return e.apply(this,arguments)}finally{zr(this)}}}function Xr(e){return function(){var t=this.cm;if(!t||t.curOp)return e.apply(this,arguments);Hr(t);try{return e.apply(this,arguments)}finally{zr(t)}}}function Jr(e,t,n,r){null==t&&(t=e.doc.first),null==n&&(n=e.doc.first+e.doc.size),r||(r=0);var i=e.display;if(r&&n<i.viewTo&&(null==i.updateLineNumbers||i.updateLineNumbers>t)&&(i.updateLineNumbers=t),e.curOp.viewChanged=!0,t>=i.viewTo)Se&&ze(e.doc,t)<i.viewTo&&Zr(e);else if(n<=i.viewFrom)Se&&We(e.doc,n+r)>i.viewFrom?Zr(e):(i.viewFrom+=r,i.viewTo+=r);else if(t<=i.viewFrom&&n>=i.viewTo)Zr(e);else if(t<=i.viewFrom){var o=ei(e,n,n+r,1);o?(i.view=i.view.slice(o.index),i.viewFrom=o.lineN,i.viewTo+=r):Zr(e)}else if(n>=i.viewTo){var a=ei(e,t,t,-1);a?(i.view=i.view.slice(0,a.index),i.viewTo=a.lineN):Zr(e)}else{var s=ei(e,t,t,-1),u=ei(e,n,n+r,1);s&&u?(i.view=i.view.slice(0,s.index).concat(on(e,s.lineN,u.lineN)).concat(i.view.slice(u.index)),i.viewTo+=r):Zr(e)}var l=i.externalMeasured;l&&(n<l.lineN?l.lineN+=r:t<l.lineN+l.size&&(i.externalMeasured=null))}function Qr(e,t,n){e.curOp.viewChanged=!0;var r=e.display,i=e.display.externalMeasured;if(i&&t>=i.lineN&&t<i.lineN+i.size&&(r.externalMeasured=null),!(t<r.viewFrom||t>=r.viewTo)){var o=r.view[ur(e,t)];if(null!=o.node){var a=o.changes||(o.changes=[]);-1==B(a,n)&&a.push(n)}}}function Zr(e){e.display.viewFrom=e.display.viewTo=e.doc.first,e.display.view=[],e.display.viewOffset=0}function ei(e,t,n,r){var i,o=ur(e,t),a=e.display.view;if(!Se||n==e.doc.first+e.doc.size)return{index:o,lineN:n};for(var s=e.display.viewFrom,u=0;u<o;u++)s+=a[u].size;if(s!=t){if(r>0){if(o==a.length-1)return null;i=s+a[o].size-t,o++}else i=s-t;t+=i,n+=i}for(;ze(e.doc,n)!=n;){if(o==(r<0?0:a.length-1))return null;n+=r*a[o-(r<0?1:0)].size,o+=r}return{index:o,lineN:n}}function ti(e){for(var t=e.display.view,n=0,r=0;r<t.length;r++){var i=t[r];i.hidden||i.node&&!i.changes||++n}return n}function ni(e,t){e.doc.highlightFrontier<e.display.viewTo&&e.state.highlight.set(t,I(ri,e))}function ri(e){var t=e.doc;if(!(t.highlightFrontier>=e.display.viewTo)){var n=+new Date+e.options.workTime,r=Ft(e,t.highlightFrontier),i=[];t.iter(r.line,Math.min(t.first+t.size,e.display.viewTo+500),function(o){if(r.line>=e.display.viewFrom){var a=o.styles,s=o.text.length>e.options.maxHighlightLength?Ot(t.mode,r.state):null,u=It(e,o,r,!0);s&&(r.state=s),o.styles=u.styles;var l=o.styleClasses,c=u.classes;c?o.styleClasses=c:l&&(o.styleClasses=null);for(var d=!a||a.length!=o.styles.length||l!=c&&(!l||!c||l.bgClass!=c.bgClass||l.textClass!=c.textClass),f=0;!d&&f<a.length;++f)d=a[f]!=o.styles[f];d&&i.push(r.line),o.stateAfter=r.save(),r.nextLine()}else o.text.length<=e.options.maxHighlightLength&&Yt(e,o.text,r),o.stateAfter=r.line%5==0?r.save():null,r.nextLine();if(+new Date>n)return ni(e,e.options.workDelay),!0}),t.highlightFrontier=r.line,t.modeFrontier=Math.max(t.modeFrontier,r.line),i.length&&qr(e,function(){for(var t=0;t<i.length;t++)Qr(e,i[t],"text")})}}var ii=function(e,t,n){var r=e.display;this.viewport=t,this.visible=wr(r,e.doc,t),this.editorIsHidden=!r.wrapper.offsetWidth,this.wrapperHeight=r.wrapper.clientHeight,this.wrapperWidth=r.wrapper.clientWidth,this.oldDisplayWidth=Tn(e),this.force=n,this.dims=rr(e),this.events=[]};function oi(e,t){var n=e.display,r=e.doc;if(t.editorIsHidden)return Zr(e),!1;if(!t.force&&t.visible.from>=n.viewFrom&&t.visible.to<=n.viewTo&&(null==n.updateLineNumbers||n.updateLineNumbers>=n.viewTo)&&n.renderedView==n.view&&0==ti(e))return!1;Er(e)&&(Zr(e),t.dims=rr(e));var i=r.first+r.size,o=Math.max(t.visible.from-e.options.viewportMargin,r.first),a=Math.min(i,t.visible.to+e.options.viewportMargin);n.viewFrom<o&&o-n.viewFrom<20&&(o=Math.max(r.first,n.viewFrom)),n.viewTo>a&&n.viewTo-a<20&&(a=Math.min(i,n.viewTo)),Se&&(o=ze(e.doc,o),a=We(e.doc,a));var s=o!=n.viewFrom||a!=n.viewTo||n.lastWrapHeight!=t.wrapperHeight||n.lastWrapWidth!=t.wrapperWidth;!function(e,t,n){var r=e.display;0==r.view.length||t>=r.viewTo||n<=r.viewFrom?(r.view=on(e,t,n),r.viewFrom=t):(r.viewFrom>t?r.view=on(e,t,r.viewFrom).concat(r.view):r.viewFrom<t&&(r.view=r.view.slice(ur(e,t))),r.viewFrom=t,r.viewTo<n?r.view=r.view.concat(on(e,r.viewTo,n)):r.viewTo>n&&(r.view=r.view.slice(0,ur(e,n)))),r.viewTo=n}(e,o,a),n.viewOffset=Ge(se(e.doc,n.viewFrom)),e.display.mover.style.top=n.viewOffset+"px";var l=ti(e);if(!s&&0==l&&!t.force&&n.renderedView==n.view&&(null==n.updateLineNumbers||n.updateLineNumbers>=n.viewTo))return!1;var c=function(e){if(e.hasFocus())return null;var t=L();if(!t||!N(e.display.lineDiv,t))return null;var n={activeElt:t};if(window.getSelection){var r=window.getSelection();r.anchorNode&&r.extend&&N(e.display.lineDiv,r.anchorNode)&&(n.anchorNode=r.anchorNode,n.anchorOffset=r.anchorOffset,n.focusNode=r.focusNode,n.focusOffset=r.focusOffset)}return n}(e);return l>4&&(n.lineDiv.style.display="none"),function(e,t,n){var r=e.display,i=e.options.lineNumbers,o=r.lineDiv,a=o.firstChild;function s(t){var n=t.nextSibling;return u&&v&&e.display.currentWheelTarget==t?t.style.display="none":t.parentNode.removeChild(t),n}for(var l=r.view,c=r.viewFrom,d=0;d<l.length;d++){var f=l[d];if(f.hidden);else if(f.node&&f.node.parentNode==o){for(;a!=f.node;)a=s(a);var h=i&&null!=t&&t<=c&&f.lineNumber;f.changes&&(B(f.changes,"gutter")>-1&&(h=!1),cn(e,f,c,n)),h&&(T(f.lineNumber),f.lineNumber.appendChild(document.createTextNode(pe(e.options,c)))),a=f.node.nextSibling}else{var p=yn(e,f,c,n);o.insertBefore(p,a)}c+=f.size}for(;a;)a=s(a)}(e,n.updateLineNumbers,t.dims),l>4&&(n.lineDiv.style.display=""),n.renderedView=n.view,function(e){if(e&&e.activeElt&&e.activeElt!=L()&&(e.activeElt.focus(),e.anchorNode&&N(document.body,e.anchorNode)&&N(document.body,e.focusNode))){var t=window.getSelection(),n=document.createRange();n.setEnd(e.anchorNode,e.anchorOffset),n.collapse(!1),t.removeAllRanges(),t.addRange(n),t.extend(e.focusNode,e.focusOffset)}}(c),T(n.cursorDiv),T(n.selectionDiv),n.gutters.style.height=n.sizer.style.minHeight=0,s&&(n.lastWrapHeight=t.wrapperHeight,n.lastWrapWidth=t.wrapperWidth,ni(e,400)),n.updateLineNumbers=null,!0}function ai(e,t){for(var n=t.viewport,r=!0;(r&&e.options.lineWrapping&&t.oldDisplayWidth!=Tn(e)||(n&&null!=n.top&&(n={top:Math.min(e.doc.height+xn(e.display)-Cn(e),n.top)}),t.visible=wr(e.display,e.doc,n),!(t.visible.from>=e.display.viewFrom&&t.visible.to<=e.display.viewTo)))&&oi(e,t);r=!1){br(e);var i=jr(e);lr(e),Ir(e,i),li(e,i),t.force=!1}t.signal(e,"update",e),e.display.viewFrom==e.display.reportedViewFrom&&e.display.viewTo==e.display.reportedViewTo||(t.signal(e,"viewportChange",e,e.display.viewFrom,e.display.viewTo),e.display.reportedViewFrom=e.display.viewFrom,e.display.reportedViewTo=e.display.viewTo)}function si(e,t){var n=new ii(e,t);if(oi(e,n)){br(e),ai(e,n);var r=jr(e);lr(e),Ir(e,r),li(e,r),n.finish()}}function ui(e){var t=e.display.gutters.offsetWidth;e.display.sizer.style.marginLeft=t+"px"}function li(e,t){e.display.sizer.style.minHeight=t.docHeight+"px",e.display.heightForcer.style.top=t.docHeight+"px",e.display.gutters.style.height=t.docHeight+e.display.barHeight+Mn(e)+"px"}function ci(e){var t=e.display.gutters,n=e.options.gutters;T(t);for(var r=0;r<n.length;++r){var i=n[r],o=t.appendChild(A("div",null,"CodeMirror-gutter "+i));"CodeMirror-linenumbers"==i&&(e.display.lineGutter=o,o.style.width=(e.display.lineNumWidth||1)+"px")}t.style.display=r?"":"none",ui(e)}function di(e){var t=B(e.gutters,"CodeMirror-linenumbers");-1==t&&e.lineNumbers?e.gutters=e.gutters.concat(["CodeMirror-linenumbers"]):t>-1&&!e.lineNumbers&&(e.gutters=e.gutters.slice(0),e.gutters.splice(t,1))}ii.prototype.signal=function(e,t){at(e,t)&&this.events.push(arguments)},ii.prototype.finish=function(){for(var e=0;e<this.events.length;e++)rt.apply(null,this.events[e])};var fi=0,hi=null;function pi(e){var t=e.wheelDeltaX,n=e.wheelDeltaY;return null==t&&e.detail&&e.axis==e.HORIZONTAL_AXIS&&(t=e.detail),null==n&&e.detail&&e.axis==e.VERTICAL_AXIS?n=e.detail:null==n&&(n=e.wheelDelta),{x:t,y:n}}function mi(e){var t=pi(e);return t.x*=hi,t.y*=hi,t}function gi(e,t){var r=pi(t),i=r.x,o=r.y,a=e.display,s=a.scroller,l=s.scrollWidth>s.clientWidth,c=s.scrollHeight>s.clientHeight;if(i&&l||o&&c){if(o&&v&&u)e:for(var f=t.target,h=a.view;f!=s;f=f.parentNode)for(var p=0;p<h.length;p++)if(h[p].node==f){e.display.currentWheelTarget=f;break e}if(i&&!n&&!d&&null!=hi)return o&&c&&Or(e,Math.max(0,s.scrollTop+o*hi)),Lr(e,Math.max(0,s.scrollLeft+i*hi)),(!o||o&&c)&&ut(t),void(a.wheelStartX=null);if(o&&null!=hi){var m=o*hi,g=e.doc.scrollTop,y=g+a.wrapper.clientHeight;m<0?g=Math.max(0,g+m-50):y=Math.min(e.doc.height,y+m+50),si(e,{top:g,bottom:y})}fi<20&&(null==a.wheelStartX?(a.wheelStartX=s.scrollLeft,a.wheelStartY=s.scrollTop,a.wheelDX=i,a.wheelDY=o,setTimeout(function(){if(null!=a.wheelStartX){var e=s.scrollLeft-a.wheelStartX,t=s.scrollTop-a.wheelStartY,n=t&&a.wheelDY&&t/a.wheelDY||e&&a.wheelDX&&e/a.wheelDX;a.wheelStartX=a.wheelStartY=null,n&&(hi=(hi*fi+n)/(fi+1),++fi)}},200)):(a.wheelDX+=i,a.wheelDY+=o))}}a?hi=-.53:n?hi=15:c?hi=-.7:f&&(hi=-1/3);var yi=function(e,t){this.ranges=e,this.primIndex=t};yi.prototype.primary=function(){return this.ranges[this.primIndex]},yi.prototype.equals=function(e){if(e==this)return!0;if(e.primIndex!=this.primIndex||e.ranges.length!=this.ranges.length)return!1;for(var t=0;t<this.ranges.length;t++){var n=this.ranges[t],r=e.ranges[t];if(!ye(n.anchor,r.anchor)||!ye(n.head,r.head))return!1}return!0},yi.prototype.deepCopy=function(){for(var e=[],t=0;t<this.ranges.length;t++)e[t]=new vi(ve(this.ranges[t].anchor),ve(this.ranges[t].head));return new yi(e,this.primIndex)},yi.prototype.somethingSelected=function(){for(var e=0;e<this.ranges.length;e++)if(!this.ranges[e].empty())return!0;return!1},yi.prototype.contains=function(e,t){t||(t=e);for(var n=0;n<this.ranges.length;n++){var r=this.ranges[n];if(ge(t,r.from())>=0&&ge(e,r.to())<=0)return n}return-1};var vi=function(e,t){this.anchor=e,this.head=t};function bi(e,t,n){var r=e&&e.options.selectionsMayTouch,i=t[n];t.sort(function(e,t){return ge(e.from(),t.from())}),n=B(t,i);for(var o=1;o<t.length;o++){var a=t[o],s=t[o-1],u=ge(s.to(),a.from());if(r&&!a.empty()?u>0:u>=0){var l=_e(s.from(),a.from()),c=be(s.to(),a.to()),d=s.empty()?a.from()==a.head:s.from()==s.head;o<=n&&--n,t.splice(--o,2,new vi(d?c:l,d?l:c))}}return new yi(t,n)}function _i(e,t){return new yi([new vi(e,t||e)],0)}function wi(e){return e.text?me(e.from.line+e.text.length-1,$(e.text).length+(1==e.text.length?e.from.ch:0)):e.to}function ki(e,t){if(ge(e,t.from)<0)return e;if(ge(e,t.to)<=0)return wi(t);var n=e.line+t.text.length-(t.to.line-t.from.line)-1,r=e.ch;return e.line==t.to.line&&(r+=wi(t).ch-t.to.ch),me(n,r)}function Ei(e,t){for(var n=[],r=0;r<e.sel.ranges.length;r++){var i=e.sel.ranges[r];n.push(new vi(ki(i.anchor,t),ki(i.head,t)))}return bi(e.cm,n,e.sel.primIndex)}function xi(e,t,n){return e.line==t.line?me(n.line,e.ch-t.ch+n.ch):me(n.line+(e.line-t.line),e.ch)}function Si(e){e.doc.mode=Tt(e.options,e.doc.modeOption),Mi(e)}function Mi(e){e.doc.iter(function(e){e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null)}),e.doc.modeFrontier=e.doc.highlightFrontier=e.doc.first,ni(e,100),e.state.modeGen++,e.curOp&&Jr(e)}function Ti(e,t){return 0==t.from.ch&&0==t.to.ch&&""==$(t.text)&&(!e.cm||e.cm.options.wholeLineUpdateBefore)}function Ci(e,t,n,r){function i(e){return n?n[e]:null}function o(e,n,i){!function(e,t,n,r){e.text=t,e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null),null!=e.order&&(e.order=null),Ne(e),Le(e,n);var i=r?r(e):1;i!=e.height&&ce(e,i)}(e,n,i,r),un(e,"change",e,t)}function a(e,t){for(var n=[],o=e;o<t;++o)n.push(new Gt(l[o],i(o),r));return n}var s=t.from,u=t.to,l=t.text,c=se(e,s.line),d=se(e,u.line),f=$(l),h=i(l.length-1),p=u.line-s.line;if(t.full)e.insert(0,a(0,l.length)),e.remove(l.length,e.size-l.length);else if(Ti(e,t)){var m=a(0,l.length-1);o(d,d.text,h),p&&e.remove(s.line,p),m.length&&e.insert(s.line,m)}else if(c==d)if(1==l.length)o(c,c.text.slice(0,s.ch)+f+c.text.slice(u.ch),h);else{var g=a(1,l.length-1);g.push(new Gt(f+c.text.slice(u.ch),h,r)),o(c,c.text.slice(0,s.ch)+l[0],i(0)),e.insert(s.line+1,g)}else if(1==l.length)o(c,c.text.slice(0,s.ch)+l[0]+d.text.slice(u.ch),i(0)),e.remove(s.line+1,p);else{o(c,c.text.slice(0,s.ch)+l[0],i(0)),o(d,f+d.text.slice(u.ch),h);var y=a(1,l.length-1);p>1&&e.remove(s.line+1,p-1),e.insert(s.line+1,y)}un(e,"change",e,t)}function Ai(e,t,n){!function e(r,i,o){if(r.linked)for(var a=0;a<r.linked.length;++a){var s=r.linked[a];if(s.doc!=i){var u=o&&s.sharedHist;n&&!u||(t(s.doc,u),e(s.doc,r,u))}}}(e,null,!0)}function Oi(e,t){if(t.cm)throw new Error("This document is already in use.");e.doc=t,t.cm=e,ar(e),Si(e),Ni(e),e.options.lineWrapping||Ke(e),e.options.mode=t.modeOption,Jr(e)}function Ni(e){("rtl"==e.doc.direction?j:M)(e.display.lineDiv,"CodeMirror-rtl")}function Li(e){this.done=[],this.undone=[],this.undoDepth=1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=e||1}function ji(e,t){var n={from:ve(t.from),to:wi(t),text:ue(e,t.from,t.to)};return Fi(e,n,t.from.line,t.to.line+1),Ai(e,function(e){return Fi(e,n,t.from.line,t.to.line+1)},!0),n}function Pi(e){for(;e.length;){if(!$(e).ranges)break;e.pop()}}function Di(e,t,n,r){var i=e.history;i.undone.length=0;var o,a,s=+new Date;if((i.lastOp==r||i.lastOrigin==t.origin&&t.origin&&("+"==t.origin.charAt(0)&&i.lastModTime>s-(e.cm?e.cm.options.historyEventDelay:500)||"*"==t.origin.charAt(0)))&&(o=function(e,t){return t?(Pi(e.done),$(e.done)):e.done.length&&!$(e.done).ranges?$(e.done):e.done.length>1&&!e.done[e.done.length-2].ranges?(e.done.pop(),$(e.done)):void 0}(i,i.lastOp==r)))a=$(o.changes),0==ge(t.from,t.to)&&0==ge(t.from,a.to)?a.to=wi(t):o.changes.push(ji(e,t));else{var u=$(i.done);for(u&&u.ranges||Ri(e.sel,i.done),o={changes:[ji(e,t)],generation:i.generation},i.done.push(o);i.done.length>i.undoDepth;)i.done.shift(),i.done[0].ranges||i.done.shift()}i.done.push(n),i.generation=++i.maxGeneration,i.lastModTime=i.lastSelTime=s,i.lastOp=i.lastSelOp=r,i.lastOrigin=i.lastSelOrigin=t.origin,a||rt(e,"historyAdded")}function Ii(e,t,n,r){var i=e.history,o=r&&r.origin;n==i.lastSelOp||o&&i.lastSelOrigin==o&&(i.lastModTime==i.lastSelTime&&i.lastOrigin==o||function(e,t,n,r){var i=t.charAt(0);return"*"==i||"+"==i&&n.ranges.length==r.ranges.length&&n.somethingSelected()==r.somethingSelected()&&new Date-e.history.lastSelTime<=(e.cm?e.cm.options.historyEventDelay:500)}(e,o,$(i.done),t))?i.done[i.done.length-1]=t:Ri(t,i.done),i.lastSelTime=+new Date,i.lastSelOrigin=o,i.lastSelOp=n,r&&!1!==r.clearRedo&&Pi(i.undone)}function Ri(e,t){var n=$(t);n&&n.ranges&&n.equals(e)||t.push(e)}function Fi(e,t,n,r){var i=t["spans_"+e.id],o=0;e.iter(Math.max(e.first,n),Math.min(e.first+e.size,r),function(n){n.markedSpans&&((i||(i=t["spans_"+e.id]={}))[o]=n.markedSpans),++o})}function Yi(e){if(!e)return null;for(var t,n=0;n<e.length;++n)e[n].marker.explicitlyCleared?t||(t=e.slice(0,n)):t&&t.push(e[n]);return t?t.length?t:null:e}function Bi(e,t){var n=function(e,t){var n=t["spans_"+e.id];if(!n)return null;for(var r=[],i=0;i<t.text.length;++i)r.push(Yi(n[i]));return r}(e,t),r=Ae(e,t);if(!n)return r;if(!r)return n;for(var i=0;i<n.length;++i){var o=n[i],a=r[i];if(o&&a)e:for(var s=0;s<a.length;++s){for(var u=a[s],l=0;l<o.length;++l)if(o[l].marker==u.marker)continue e;o.push(u)}else a&&(n[i]=a)}return n}function Hi(e,t,n){for(var r=[],i=0;i<e.length;++i){var o=e[i];if(o.ranges)r.push(n?yi.prototype.deepCopy.call(o):o);else{var a=o.changes,s=[];r.push({changes:s});for(var u=0;u<a.length;++u){var l=a[u],c=void 0;if(s.push({from:l.from,to:l.to,text:l.text}),t)for(var d in l)(c=d.match(/^spans_(\d+)$/))&&B(t,Number(c[1]))>-1&&($(s)[d]=l[d],delete l[d])}}}return r}function zi(e,t,n,r){if(r){var i=e.anchor;if(n){var o=ge(t,i)<0;o!=ge(n,i)<0?(i=t,t=n):o!=ge(t,n)<0&&(t=n)}return new vi(i,t)}return new vi(n||t,t)}function Wi(e,t,n,r,i){null==i&&(i=e.cm&&(e.cm.display.shift||e.extend)),Ki(e,new yi([zi(e.sel.primary(),t,n,i)],0),r)}function Ui(e,t,n){for(var r=[],i=e.cm&&(e.cm.display.shift||e.extend),o=0;o<e.sel.ranges.length;o++)r[o]=zi(e.sel.ranges[o],t[o],null,i);Ki(e,bi(e.cm,r,e.sel.primIndex),n)}function Vi(e,t,n,r){var i=e.sel.ranges.slice(0);i[t]=n,Ki(e,bi(e.cm,i,e.sel.primIndex),r)}function Gi(e,t,n,r){Ki(e,_i(t,n),r)}function qi(e,t,n){var r=e.history.done,i=$(r);i&&i.ranges?(r[r.length-1]=t,$i(e,t,n)):Ki(e,t,n)}function Ki(e,t,n){$i(e,t,n),Ii(e,e.sel,e.cm?e.cm.curOp.id:NaN,n)}function $i(e,t,n){(at(e,"beforeSelectionChange")||e.cm&&at(e.cm,"beforeSelectionChange"))&&(t=function(e,t,n){var r={ranges:t.ranges,update:function(t){this.ranges=[];for(var n=0;n<t.length;n++)this.ranges[n]=new vi(ke(e,t[n].anchor),ke(e,t[n].head))},origin:n&&n.origin};return rt(e,"beforeSelectionChange",e,r),e.cm&&rt(e.cm,"beforeSelectionChange",e.cm,r),r.ranges!=t.ranges?bi(e.cm,r.ranges,r.ranges.length-1):t}(e,t,n)),Xi(e,Qi(e,t,n&&n.bias||(ge(t.primary().head,e.sel.primary().head)<0?-1:1),!0)),n&&!1===n.scroll||!e.cm||Mr(e.cm)}function Xi(e,t){t.equals(e.sel)||(e.sel=t,e.cm&&(e.cm.curOp.updateInput=e.cm.curOp.selectionChanged=!0,ot(e.cm)),un(e,"cursorActivity",e))}function Ji(e){Xi(e,Qi(e,e.sel,null,!1))}function Qi(e,t,n,r){for(var i,o=0;o<t.ranges.length;o++){var a=t.ranges[o],s=t.ranges.length==e.sel.ranges.length&&e.sel.ranges[o],u=eo(e,a.anchor,s&&s.anchor,n,r),l=eo(e,a.head,s&&s.head,n,r);(i||u!=a.anchor||l!=a.head)&&(i||(i=t.ranges.slice(0,o)),i[o]=new vi(u,l))}return i?bi(e.cm,i,t.primIndex):t}function Zi(e,t,n,r,i){var o=se(e,t.line);if(o.markedSpans)for(var a=0;a<o.markedSpans.length;++a){var s=o.markedSpans[a],u=s.marker;if((null==s.from||(u.inclusiveLeft?s.from<=t.ch:s.from<t.ch))&&(null==s.to||(u.inclusiveRight?s.to>=t.ch:s.to>t.ch))){if(i&&(rt(u,"beforeCursorEnter"),u.explicitlyCleared)){if(o.markedSpans){--a;continue}break}if(!u.atomic)continue;if(n){var l=u.find(r<0?1:-1),c=void 0;if((r<0?u.inclusiveRight:u.inclusiveLeft)&&(l=to(e,l,-r,l&&l.line==t.line?o:null)),l&&l.line==t.line&&(c=ge(l,n))&&(r<0?c<0:c>0))return Zi(e,l,t,r,i)}var d=u.find(r<0?-1:1);return(r<0?u.inclusiveLeft:u.inclusiveRight)&&(d=to(e,d,r,d.line==t.line?o:null)),d?Zi(e,d,t,r,i):null}}return t}function eo(e,t,n,r,i){var o=r||1,a=Zi(e,t,n,o,i)||!i&&Zi(e,t,n,o,!0)||Zi(e,t,n,-o,i)||!i&&Zi(e,t,n,-o,!0);return a||(e.cantEdit=!0,me(e.first,0))}function to(e,t,n,r){return n<0&&0==t.ch?t.line>e.first?ke(e,me(t.line-1)):null:n>0&&t.ch==(r||se(e,t.line)).text.length?t.line<e.first+e.size-1?me(t.line+1,0):null:new me(t.line,t.ch+n)}function no(e){e.setSelection(me(e.firstLine(),0),me(e.lastLine()),W)}function ro(e,t,n){var r={canceled:!1,from:t.from,to:t.to,text:t.text,origin:t.origin,cancel:function(){return r.canceled=!0}};return n&&(r.update=function(t,n,i,o){t&&(r.from=ke(e,t)),n&&(r.to=ke(e,n)),i&&(r.text=i),void 0!==o&&(r.origin=o)}),rt(e,"beforeChange",e,r),e.cm&&rt(e.cm,"beforeChange",e.cm,r),r.canceled?null:{from:r.from,to:r.to,text:r.text,origin:r.origin}}function io(e,t,n){if(e.cm){if(!e.cm.curOp)return Kr(e.cm,io)(e,t,n);if(e.cm.state.suppressEdits)return}if(!(at(e,"beforeChange")||e.cm&&at(e.cm,"beforeChange"))||(t=ro(e,t,!0))){var r=xe&&!n&&function(e,t,n){var r=null;if(e.iter(t.line,n.line+1,function(e){if(e.markedSpans)for(var t=0;t<e.markedSpans.length;++t){var n=e.markedSpans[t].marker;!n.readOnly||r&&-1!=B(r,n)||(r||(r=[])).push(n)}}),!r)return null;for(var i=[{from:t,to:n}],o=0;o<r.length;++o)for(var a=r[o],s=a.find(0),u=0;u<i.length;++u){var l=i[u];if(!(ge(l.to,s.from)<0||ge(l.from,s.to)>0)){var c=[u,1],d=ge(l.from,s.from),f=ge(l.to,s.to);(d<0||!a.inclusiveLeft&&!d)&&c.push({from:l.from,to:s.from}),(f>0||!a.inclusiveRight&&!f)&&c.push({from:s.to,to:l.to}),i.splice.apply(i,c),u+=c.length-3}}return i}(e,t.from,t.to);if(r)for(var i=r.length-1;i>=0;--i)oo(e,{from:r[i].from,to:r[i].to,text:i?[""]:t.text,origin:t.origin});else oo(e,t)}}function oo(e,t){if(1!=t.text.length||""!=t.text[0]||0!=ge(t.from,t.to)){var n=Ei(e,t);Di(e,t,n,e.cm?e.cm.curOp.id:NaN),uo(e,t,n,Ae(e,t));var r=[];Ai(e,function(e,n){n||-1!=B(r,e.history)||(ho(e.history,t),r.push(e.history)),uo(e,t,null,Ae(e,t))})}}function ao(e,t,n){var r=e.cm&&e.cm.state.suppressEdits;if(!r||n){for(var i,o=e.history,a=e.sel,s="undo"==t?o.done:o.undone,u="undo"==t?o.undone:o.done,l=0;l<s.length&&(i=s[l],n?!i.ranges||i.equals(e.sel):i.ranges);l++);if(l!=s.length){for(o.lastOrigin=o.lastSelOrigin=null;;){if(!(i=s.pop()).ranges){if(r)return void s.push(i);break}if(Ri(i,u),n&&!i.equals(e.sel))return void Ki(e,i,{clearRedo:!1});a=i}var c=[];Ri(a,u),u.push({changes:c,generation:o.generation}),o.generation=i.generation||++o.maxGeneration;for(var d=at(e,"beforeChange")||e.cm&&at(e.cm,"beforeChange"),f=function(n){var r=i.changes[n];if(r.origin=t,d&&!ro(e,r,!1))return s.length=0,{};c.push(ji(e,r));var o=n?Ei(e,r):$(s);uo(e,r,o,Bi(e,r)),!n&&e.cm&&e.cm.scrollIntoView({from:r.from,to:wi(r)});var a=[];Ai(e,function(e,t){t||-1!=B(a,e.history)||(ho(e.history,r),a.push(e.history)),uo(e,r,null,Bi(e,r))})},h=i.changes.length-1;h>=0;--h){var p=f(h);if(p)return p.v}}}}function so(e,t){if(0!=t&&(e.first+=t,e.sel=new yi(X(e.sel.ranges,function(e){return new vi(me(e.anchor.line+t,e.anchor.ch),me(e.head.line+t,e.head.ch))}),e.sel.primIndex),e.cm)){Jr(e.cm,e.first,e.first-t,t);for(var n=e.cm.display,r=n.viewFrom;r<n.viewTo;r++)Qr(e.cm,r,"gutter")}}function uo(e,t,n,r){if(e.cm&&!e.cm.curOp)return Kr(e.cm,uo)(e,t,n,r);if(t.to.line<e.first)so(e,t.text.length-1-(t.to.line-t.from.line));else if(!(t.from.line>e.lastLine())){if(t.from.line<e.first){var i=t.text.length-1-(e.first-t.from.line);so(e,i),t={from:me(e.first,0),to:me(t.to.line+i,t.to.ch),text:[$(t.text)],origin:t.origin}}var o=e.lastLine();t.to.line>o&&(t={from:t.from,to:me(o,se(e,o).text.length),text:[t.text[0]],origin:t.origin}),t.removed=ue(e,t.from,t.to),n||(n=Ei(e,t)),e.cm?function(e,t,n){var r=e.doc,i=e.display,o=t.from,a=t.to,s=!1,u=o.line;e.options.lineWrapping||(u=de(He(se(r,o.line))),r.iter(u,a.line+1,function(e){if(e==i.maxLine)return s=!0,!0}));r.sel.contains(t.from,t.to)>-1&&ot(e);Ci(r,t,n,or(e)),e.options.lineWrapping||(r.iter(u,o.line+t.text.length,function(e){var t=qe(e);t>i.maxLineLength&&(i.maxLine=e,i.maxLineLength=t,i.maxLineChanged=!0,s=!1)}),s&&(e.curOp.updateMaxLine=!0));(function(e,t){if(e.modeFrontier=Math.min(e.modeFrontier,t),!(e.highlightFrontier<t-10)){for(var n=e.first,r=t-1;r>n;r--){var i=se(e,r).stateAfter;if(i&&(!(i instanceof Pt)||r+i.lookAhead<t)){n=r+1;break}}e.highlightFrontier=Math.min(e.highlightFrontier,n)}})(r,o.line),ni(e,400);var l=t.text.length-(a.line-o.line)-1;t.full?Jr(e):o.line!=a.line||1!=t.text.length||Ti(e.doc,t)?Jr(e,o.line,a.line+1,l):Qr(e,o.line,"text");var c=at(e,"changes"),d=at(e,"change");if(d||c){var f={from:o,to:a,text:t.text,removed:t.removed,origin:t.origin};d&&un(e,"change",e,f),c&&(e.curOp.changeObjs||(e.curOp.changeObjs=[])).push(f)}e.display.selForContextMenu=null}(e.cm,t,r):Ci(e,t,r),$i(e,n,W)}}function lo(e,t,n,r,i){var o;r||(r=n),ge(r,n)<0&&(n=(o=[r,n])[0],r=o[1]),"string"==typeof t&&(t=e.splitLines(t)),io(e,{from:n,to:r,text:t,origin:i})}function co(e,t,n,r){n<e.line?e.line+=r:t<e.line&&(e.line=t,e.ch=0)}function fo(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i],a=!0;if(o.ranges){o.copied||((o=e[i]=o.deepCopy()).copied=!0);for(var s=0;s<o.ranges.length;s++)co(o.ranges[s].anchor,t,n,r),co(o.ranges[s].head,t,n,r)}else{for(var u=0;u<o.changes.length;++u){var l=o.changes[u];if(n<l.from.line)l.from=me(l.from.line+r,l.from.ch),l.to=me(l.to.line+r,l.to.ch);else if(t<=l.to.line){a=!1;break}}a||(e.splice(0,i+1),i=0)}}}function ho(e,t){var n=t.from.line,r=t.to.line,i=t.text.length-(r-n)-1;fo(e.done,n,r,i),fo(e.undone,n,r,i)}function po(e,t,n,r){var i=t,o=t;return"number"==typeof t?o=se(e,we(e,t)):i=de(t),null==i?null:(r(o,i)&&e.cm&&Qr(e.cm,i,n),o)}function mo(e){this.lines=e,this.parent=null;for(var t=0,n=0;n<e.length;++n)e[n].parent=this,t+=e[n].height;this.height=t}function go(e){this.children=e;for(var t=0,n=0,r=0;r<e.length;++r){var i=e[r];t+=i.chunkSize(),n+=i.height,i.parent=this}this.size=t,this.height=n,this.parent=null}vi.prototype.from=function(){return _e(this.anchor,this.head)},vi.prototype.to=function(){return be(this.anchor,this.head)},vi.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch},mo.prototype={chunkSize:function(){return this.lines.length},removeInner:function(e,t){for(var n=e,r=e+t;n<r;++n){var i=this.lines[n];this.height-=i.height,qt(i),un(i,"delete")}this.lines.splice(e,t)},collapse:function(e){e.push.apply(e,this.lines)},insertInner:function(e,t,n){this.height+=n,this.lines=this.lines.slice(0,e).concat(t).concat(this.lines.slice(e));for(var r=0;r<t.length;++r)t[r].parent=this},iterN:function(e,t,n){for(var r=e+t;e<r;++e)if(n(this.lines[e]))return!0}},go.prototype={chunkSize:function(){return this.size},removeInner:function(e,t){this.size-=t;for(var n=0;n<this.children.length;++n){var r=this.children[n],i=r.chunkSize();if(e<i){var o=Math.min(t,i-e),a=r.height;if(r.removeInner(e,o),this.height-=a-r.height,i==o&&(this.children.splice(n--,1),r.parent=null),0==(t-=o))break;e=0}else e-=i}if(this.size-t<25&&(this.children.length>1||!(this.children[0]instanceof mo))){var s=[];this.collapse(s),this.children=[new mo(s)],this.children[0].parent=this}},collapse:function(e){for(var t=0;t<this.children.length;++t)this.children[t].collapse(e)},insertInner:function(e,t,n){this.size+=t.length,this.height+=n;for(var r=0;r<this.children.length;++r){var i=this.children[r],o=i.chunkSize();if(e<=o){if(i.insertInner(e,t,n),i.lines&&i.lines.length>50){for(var a=i.lines.length%25+25,s=a;s<i.lines.length;){var u=new mo(i.lines.slice(s,s+=25));i.height-=u.height,this.children.splice(++r,0,u),u.parent=this}i.lines=i.lines.slice(0,a),this.maybeSpill()}break}e-=o}},maybeSpill:function(){if(!(this.children.length<=10)){var e=this;do{var t=new go(e.children.splice(e.children.length-5,5));if(e.parent){e.size-=t.size,e.height-=t.height;var n=B(e.parent.children,e);e.parent.children.splice(n+1,0,t)}else{var r=new go(e.children);r.parent=e,e.children=[r,t],e=r}t.parent=e.parent}while(e.children.length>10);e.parent.maybeSpill()}},iterN:function(e,t,n){for(var r=0;r<this.children.length;++r){var i=this.children[r],o=i.chunkSize();if(e<o){var a=Math.min(t,o-e);if(i.iterN(e,a,n))return!0;if(0==(t-=a))break;e=0}else e-=o}}};var yo=function(e,t,n){if(n)for(var r in n)n.hasOwnProperty(r)&&(this[r]=n[r]);this.doc=e,this.node=t};function vo(e,t,n){Ge(t)<(e.curOp&&e.curOp.scrollTop||e.doc.scrollTop)&&Sr(e,n)}yo.prototype.clear=function(){var e=this.doc.cm,t=this.line.widgets,n=this.line,r=de(n);if(null!=r&&t){for(var i=0;i<t.length;++i)t[i]==this&&t.splice(i--,1);t.length||(n.widgets=null);var o=wn(this);ce(n,Math.max(0,n.height-o)),e&&(qr(e,function(){vo(e,n,-o),Qr(e,r,"widget")}),un(e,"lineWidgetCleared",e,this,r))}},yo.prototype.changed=function(){var e=this,t=this.height,n=this.doc.cm,r=this.line;this.height=null;var i=wn(this)-t;i&&(Ue(this.doc,r)||ce(r,r.height+i),n&&qr(n,function(){n.curOp.forceUpdate=!0,vo(n,r,i),un(n,"lineWidgetChanged",n,e,de(r))}))},st(yo);var bo=0,_o=function(e,t){this.lines=[],this.type=t,this.doc=e,this.id=++bo};function wo(e,t,n,r,i){if(r&&r.shared)return function(e,t,n,r,i){(r=R(r)).shared=!1;var o=[wo(e,t,n,r,i)],a=o[0],s=r.widgetNode;return Ai(e,function(e){s&&(r.widgetNode=s.cloneNode(!0)),o.push(wo(e,ke(e,t),ke(e,n),r,i));for(var u=0;u<e.linked.length;++u)if(e.linked[u].isParent)return;a=$(o)}),new ko(o,a)}(e,t,n,r,i);if(e.cm&&!e.cm.curOp)return Kr(e.cm,wo)(e,t,n,r,i);var o=new _o(e,i),a=ge(t,n);if(r&&R(r,o,!1),a>0||0==a&&!1!==o.clearWhenEmpty)return o;if(o.replacedWith&&(o.collapsed=!0,o.widgetNode=O("span",[o.replacedWith],"CodeMirror-widget"),r.handleMouseEvents||o.widgetNode.setAttribute("cm-ignore-events","true"),r.insertLeft&&(o.widgetNode.insertLeft=!0)),o.collapsed){if(Be(e,t.line,t,n,o)||t.line!=n.line&&Be(e,n.line,t,n,o))throw new Error("Inserting collapsed marker partially overlapping an existing one");Se=!0}o.addToHistory&&Di(e,{from:t,to:n,origin:"markText"},e.sel,NaN);var s,u=t.line,l=e.cm;if(e.iter(u,n.line+1,function(e){l&&o.collapsed&&!l.options.lineWrapping&&He(e)==l.display.maxLine&&(s=!0),o.collapsed&&u!=t.line&&ce(e,0),function(e,t){e.markedSpans=e.markedSpans?e.markedSpans.concat([t]):[t],t.marker.attachLine(e)}(e,new Me(o,u==t.line?t.ch:null,u==n.line?n.ch:null)),++u}),o.collapsed&&e.iter(t.line,n.line+1,function(t){Ue(e,t)&&ce(t,0)}),o.clearOnEnter&&et(o,"beforeCursorEnter",function(){return o.clear()}),o.readOnly&&(xe=!0,(e.history.done.length||e.history.undone.length)&&e.clearHistory()),o.collapsed&&(o.id=++bo,o.atomic=!0),l){if(s&&(l.curOp.updateMaxLine=!0),o.collapsed)Jr(l,t.line,n.line+1);else if(o.className||o.startStyle||o.endStyle||o.css||o.attributes||o.title)for(var c=t.line;c<=n.line;c++)Qr(l,c,"text");o.atomic&&Ji(l.doc),un(l,"markerAdded",l,o)}return o}_o.prototype.clear=function(){if(!this.explicitlyCleared){var e=this.doc.cm,t=e&&!e.curOp;if(t&&Hr(e),at(this,"clear")){var n=this.find();n&&un(this,"clear",n.from,n.to)}for(var r=null,i=null,o=0;o<this.lines.length;++o){var a=this.lines[o],s=Te(a.markedSpans,this);e&&!this.collapsed?Qr(e,de(a),"text"):e&&(null!=s.to&&(i=de(a)),null!=s.from&&(r=de(a))),a.markedSpans=Ce(a.markedSpans,s),null==s.from&&this.collapsed&&!Ue(this.doc,a)&&e&&ce(a,tr(e.display))}if(e&&this.collapsed&&!e.options.lineWrapping)for(var u=0;u<this.lines.length;++u){var l=He(this.lines[u]),c=qe(l);c>e.display.maxLineLength&&(e.display.maxLine=l,e.display.maxLineLength=c,e.display.maxLineChanged=!0)}null!=r&&e&&this.collapsed&&Jr(e,r,i+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,e&&Ji(e.doc)),e&&un(e,"markerCleared",e,this,r,i),t&&zr(e),this.parent&&this.parent.clear()}},_o.prototype.find=function(e,t){var n,r;null==e&&"bookmark"==this.type&&(e=1);for(var i=0;i<this.lines.length;++i){var o=this.lines[i],a=Te(o.markedSpans,this);if(null!=a.from&&(n=me(t?o:de(o),a.from),-1==e))return n;if(null!=a.to&&(r=me(t?o:de(o),a.to),1==e))return r}return n&&{from:n,to:r}},_o.prototype.changed=function(){var e=this,t=this.find(-1,!0),n=this,r=this.doc.cm;t&&r&&qr(r,function(){var i=t.line,o=de(t.line),a=Nn(r,o);if(a&&(Fn(a),r.curOp.selectionChanged=r.curOp.forceUpdate=!0),r.curOp.updateMaxLine=!0,!Ue(n.doc,i)&&null!=n.height){var s=n.height;n.height=null;var u=wn(n)-s;u&&ce(i,i.height+u)}un(r,"markerChanged",r,e)})},_o.prototype.attachLine=function(e){if(!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;t.maybeHiddenMarkers&&-1!=B(t.maybeHiddenMarkers,this)||(t.maybeUnhiddenMarkers||(t.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(e)},_o.prototype.detachLine=function(e){if(this.lines.splice(B(this.lines,e),1),!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;(t.maybeHiddenMarkers||(t.maybeHiddenMarkers=[])).push(this)}},st(_o);var ko=function(e,t){this.markers=e,this.primary=t;for(var n=0;n<e.length;++n)e[n].parent=this};function Eo(e){return e.findMarks(me(e.first,0),e.clipPos(me(e.lastLine())),function(e){return e.parent})}function xo(e){for(var t=function(t){var n=e[t],r=[n.primary.doc];Ai(n.primary.doc,function(e){return r.push(e)});for(var i=0;i<n.markers.length;i++){var o=n.markers[i];-1==B(r,o.doc)&&(o.parent=null,n.markers.splice(i--,1))}},n=0;n<e.length;n++)t(n)}ko.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var e=0;e<this.markers.length;++e)this.markers[e].clear();un(this,"clear")}},ko.prototype.find=function(e,t){return this.primary.find(e,t)},st(ko);var So=0,Mo=function(e,t,n,r,i){if(!(this instanceof Mo))return new Mo(e,t,n,r,i);null==n&&(n=0),go.call(this,[new mo([new Gt("",null)])]),this.first=n,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=n;var o=me(n,0);this.sel=_i(o),this.history=new Li(null),this.id=++So,this.modeOption=t,this.lineSep=r,this.direction="rtl"==i?"rtl":"ltr",this.extend=!1,"string"==typeof e&&(e=this.splitLines(e)),Ci(this,{from:o,to:o,text:e}),Ki(this,_i(o),W)};Mo.prototype=Q(go.prototype,{constructor:Mo,iter:function(e,t,n){n?this.iterN(e-this.first,t-e,n):this.iterN(this.first,this.first+this.size,e)},insert:function(e,t){for(var n=0,r=0;r<t.length;++r)n+=t[r].height;this.insertInner(e-this.first,t,n)},remove:function(e,t){this.removeInner(e-this.first,t)},getValue:function(e){var t=le(this,this.first,this.first+this.size);return!1===e?t:t.join(e||this.lineSeparator())},setValue:Xr(function(e){var t=me(this.first,0),n=this.first+this.size-1;io(this,{from:t,to:me(n,se(this,n).text.length),text:this.splitLines(e),origin:"setValue",full:!0},!0),this.cm&&Tr(this.cm,0,0),Ki(this,_i(t),W)}),replaceRange:function(e,t,n,r){lo(this,e,t=ke(this,t),n=n?ke(this,n):t,r)},getRange:function(e,t,n){var r=ue(this,ke(this,e),ke(this,t));return!1===n?r:r.join(n||this.lineSeparator())},getLine:function(e){var t=this.getLineHandle(e);return t&&t.text},getLineHandle:function(e){if(he(this,e))return se(this,e)},getLineNumber:function(e){return de(e)},getLineHandleVisualStart:function(e){return"number"==typeof e&&(e=se(this,e)),He(e)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(e){return ke(this,e)},getCursor:function(e){var t=this.sel.primary();return null==e||"head"==e?t.head:"anchor"==e?t.anchor:"end"==e||"to"==e||!1===e?t.to():t.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:Xr(function(e,t,n){Gi(this,ke(this,"number"==typeof e?me(e,t||0):e),null,n)}),setSelection:Xr(function(e,t,n){Gi(this,ke(this,e),ke(this,t||e),n)}),extendSelection:Xr(function(e,t,n){Wi(this,ke(this,e),t&&ke(this,t),n)}),extendSelections:Xr(function(e,t){Ui(this,Ee(this,e),t)}),extendSelectionsBy:Xr(function(e,t){Ui(this,Ee(this,X(this.sel.ranges,e)),t)}),setSelections:Xr(function(e,t,n){if(e.length){for(var r=[],i=0;i<e.length;i++)r[i]=new vi(ke(this,e[i].anchor),ke(this,e[i].head));null==t&&(t=Math.min(e.length-1,this.sel.primIndex)),Ki(this,bi(this.cm,r,t),n)}}),addSelection:Xr(function(e,t,n){var r=this.sel.ranges.slice(0);r.push(new vi(ke(this,e),ke(this,t||e))),Ki(this,bi(this.cm,r,r.length-1),n)}),getSelection:function(e){for(var t,n=this.sel.ranges,r=0;r<n.length;r++){var i=ue(this,n[r].from(),n[r].to());t=t?t.concat(i):i}return!1===e?t:t.join(e||this.lineSeparator())},getSelections:function(e){for(var t=[],n=this.sel.ranges,r=0;r<n.length;r++){var i=ue(this,n[r].from(),n[r].to());!1!==e&&(i=i.join(e||this.lineSeparator())),t[r]=i}return t},replaceSelection:function(e,t,n){for(var r=[],i=0;i<this.sel.ranges.length;i++)r[i]=e;this.replaceSelections(r,t,n||"+input")},replaceSelections:Xr(function(e,t,n){for(var r=[],i=this.sel,o=0;o<i.ranges.length;o++){var a=i.ranges[o];r[o]={from:a.from(),to:a.to(),text:this.splitLines(e[o]),origin:n}}for(var s=t&&"end"!=t&&function(e,t,n){for(var r=[],i=me(e.first,0),o=i,a=0;a<t.length;a++){var s=t[a],u=xi(s.from,i,o),l=xi(wi(s),i,o);if(i=s.to,o=l,"around"==n){var c=e.sel.ranges[a],d=ge(c.head,c.anchor)<0;r[a]=new vi(d?l:u,d?u:l)}else r[a]=new vi(u,u)}return new yi(r,e.sel.primIndex)}(this,r,t),u=r.length-1;u>=0;u--)io(this,r[u]);s?qi(this,s):this.cm&&Mr(this.cm)}),undo:Xr(function(){ao(this,"undo")}),redo:Xr(function(){ao(this,"redo")}),undoSelection:Xr(function(){ao(this,"undo",!0)}),redoSelection:Xr(function(){ao(this,"redo",!0)}),setExtending:function(e){this.extend=e},getExtending:function(){return this.extend},historySize:function(){for(var e=this.history,t=0,n=0,r=0;r<e.done.length;r++)e.done[r].ranges||++t;for(var i=0;i<e.undone.length;i++)e.undone[i].ranges||++n;return{undo:t,redo:n}},clearHistory:function(){this.history=new Li(this.history.maxGeneration)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(e){return e&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(e){return this.history.generation==(e||this.cleanGeneration)},getHistory:function(){return{done:Hi(this.history.done),undone:Hi(this.history.undone)}},setHistory:function(e){var t=this.history=new Li(this.history.maxGeneration);t.done=Hi(e.done.slice(0),null,!0),t.undone=Hi(e.undone.slice(0),null,!0)},setGutterMarker:Xr(function(e,t,n){return po(this,e,"gutter",function(e){var r=e.gutterMarkers||(e.gutterMarkers={});return r[t]=n,!n&&ne(r)&&(e.gutterMarkers=null),!0})}),clearGutter:Xr(function(e){var t=this;this.iter(function(n){n.gutterMarkers&&n.gutterMarkers[e]&&po(t,n,"gutter",function(){return n.gutterMarkers[e]=null,ne(n.gutterMarkers)&&(n.gutterMarkers=null),!0})})}),lineInfo:function(e){var t;if("number"==typeof e){if(!he(this,e))return null;if(t=e,!(e=se(this,e)))return null}else if(null==(t=de(e)))return null;return{line:t,handle:e,text:e.text,gutterMarkers:e.gutterMarkers,textClass:e.textClass,bgClass:e.bgClass,wrapClass:e.wrapClass,widgets:e.widgets}},addLineClass:Xr(function(e,t,n){return po(this,e,"gutter"==t?"gutter":"class",function(e){var r="text"==t?"textClass":"background"==t?"bgClass":"gutter"==t?"gutterClass":"wrapClass";if(e[r]){if(x(n).test(e[r]))return!1;e[r]+=" "+n}else e[r]=n;return!0})}),removeLineClass:Xr(function(e,t,n){return po(this,e,"gutter"==t?"gutter":"class",function(e){var r="text"==t?"textClass":"background"==t?"bgClass":"gutter"==t?"gutterClass":"wrapClass",i=e[r];if(!i)return!1;if(null==n)e[r]=null;else{var o=i.match(x(n));if(!o)return!1;var a=o.index+o[0].length;e[r]=i.slice(0,o.index)+(o.index&&a!=i.length?" ":"")+i.slice(a)||null}return!0})}),addLineWidget:Xr(function(e,t,n){return function(e,t,n,r){var i=new yo(e,n,r),o=e.cm;return o&&i.noHScroll&&(o.display.alignWidgets=!0),po(e,t,"widget",function(t){var n=t.widgets||(t.widgets=[]);if(null==i.insertAt?n.push(i):n.splice(Math.min(n.length-1,Math.max(0,i.insertAt)),0,i),i.line=t,o&&!Ue(e,t)){var r=Ge(t)<e.scrollTop;ce(t,t.height+wn(i)),r&&Sr(o,i.height),o.curOp.forceUpdate=!0}return!0}),o&&un(o,"lineWidgetAdded",o,i,"number"==typeof t?t:de(t)),i}(this,e,t,n)}),removeLineWidget:function(e){e.clear()},markText:function(e,t,n){return wo(this,ke(this,e),ke(this,t),n,n&&n.type||"range")},setBookmark:function(e,t){var n={replacedWith:t&&(null==t.nodeType?t.widget:t),insertLeft:t&&t.insertLeft,clearWhenEmpty:!1,shared:t&&t.shared,handleMouseEvents:t&&t.handleMouseEvents};return wo(this,e=ke(this,e),e,n,"bookmark")},findMarksAt:function(e){var t=[],n=se(this,(e=ke(this,e)).line).markedSpans;if(n)for(var r=0;r<n.length;++r){var i=n[r];(null==i.from||i.from<=e.ch)&&(null==i.to||i.to>=e.ch)&&t.push(i.marker.parent||i.marker)}return t},findMarks:function(e,t,n){e=ke(this,e),t=ke(this,t);var r=[],i=e.line;return this.iter(e.line,t.line+1,function(o){var a=o.markedSpans;if(a)for(var s=0;s<a.length;s++){var u=a[s];null!=u.to&&i==e.line&&e.ch>=u.to||null==u.from&&i!=e.line||null!=u.from&&i==t.line&&u.from>=t.ch||n&&!n(u.marker)||r.push(u.marker.parent||u.marker)}++i}),r},getAllMarks:function(){var e=[];return this.iter(function(t){var n=t.markedSpans;if(n)for(var r=0;r<n.length;++r)null!=n[r].from&&e.push(n[r].marker)}),e},posFromIndex:function(e){var t,n=this.first,r=this.lineSeparator().length;return this.iter(function(i){var o=i.text.length+r;if(o>e)return t=e,!0;e-=o,++n}),ke(this,me(n,t))},indexFromPos:function(e){var t=(e=ke(this,e)).ch;if(e.line<this.first||e.ch<0)return 0;var n=this.lineSeparator().length;return this.iter(this.first,e.line,function(e){t+=e.text.length+n}),t},copy:function(e){var t=new Mo(le(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return t.scrollTop=this.scrollTop,t.scrollLeft=this.scrollLeft,t.sel=this.sel,t.extend=!1,e&&(t.history.undoDepth=this.history.undoDepth,t.setHistory(this.getHistory())),t},linkedDoc:function(e){e||(e={});var t=this.first,n=this.first+this.size;null!=e.from&&e.from>t&&(t=e.from),null!=e.to&&e.to<n&&(n=e.to);var r=new Mo(le(this,t,n),e.mode||this.modeOption,t,this.lineSep,this.direction);return e.sharedHist&&(r.history=this.history),(this.linked||(this.linked=[])).push({doc:r,sharedHist:e.sharedHist}),r.linked=[{doc:this,isParent:!0,sharedHist:e.sharedHist}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n],i=r.find(),o=e.clipPos(i.from),a=e.clipPos(i.to);if(ge(o,a)){var s=wo(e,o,a,r.primary,r.primary.type);r.markers.push(s),s.parent=r}}}(r,Eo(this)),r},unlinkDoc:function(e){if(e instanceof Ea&&(e=e.doc),this.linked)for(var t=0;t<this.linked.length;++t){if(this.linked[t].doc==e){this.linked.splice(t,1),e.unlinkDoc(this),xo(Eo(this));break}}if(e.history==this.history){var n=[e.id];Ai(e,function(e){return n.push(e.id)},!0),e.history=new Li(null),e.history.done=Hi(this.history.done,n),e.history.undone=Hi(this.history.undone,n)}},iterLinkedDocs:function(e){Ai(this,e)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(e){return this.lineSep?e.split(this.lineSep):_t(e)},lineSeparator:function(){return this.lineSep||"\n"},setDirection:Xr(function(e){var t;("rtl"!=e&&(e="ltr"),e!=this.direction)&&(this.direction=e,this.iter(function(e){return e.order=null}),this.cm&&qr(t=this.cm,function(){Ni(t),Jr(t)}))})}),Mo.prototype.eachLine=Mo.prototype.iter;var To=0;function Co(e){var t=this;if(Ao(t),!it(t,e)&&!kn(t.display,e)){ut(e),a&&(To=+new Date);var n=sr(t,e,!0),r=e.dataTransfer.files;if(n&&!t.isReadOnly())if(r&&r.length&&window.FileReader&&window.File)for(var i=r.length,o=Array(i),s=0,u=function(e,r){if(!t.options.allowDropFileTypes||-1!=B(t.options.allowDropFileTypes,e.type)){var a=new FileReader;a.onload=Kr(t,function(){var e=a.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(e)&&(e=""),o[r]=e,++s==i){var u={from:n=ke(t.doc,n),to:n,text:t.doc.splitLines(o.join(t.doc.lineSeparator())),origin:"paste"};io(t.doc,u),qi(t.doc,_i(n,wi(u)))}}),a.readAsText(e)}},l=0;l<i;++l)u(r[l],l);else{if(t.state.draggingText&&t.doc.sel.contains(n)>-1)return t.state.draggingText(e),void setTimeout(function(){return t.display.input.focus()},20);try{var c=e.dataTransfer.getData("Text");if(c){var d;if(t.state.draggingText&&!t.state.draggingText.copy&&(d=t.listSelections()),$i(t.doc,_i(n,n)),d)for(var f=0;f<d.length;++f)lo(t.doc,"",d[f].anchor,d[f].head,"drag");t.replaceSelection(c,"around","paste"),t.display.input.focus()}}catch(e){}}}}function Ao(e){e.display.dragCursor&&(e.display.lineSpace.removeChild(e.display.dragCursor),e.display.dragCursor=null)}function Oo(e){if(document.getElementsByClassName){for(var t=document.getElementsByClassName("CodeMirror"),n=[],r=0;r<t.length;r++){var i=t[r].CodeMirror;i&&n.push(i)}n.length&&n[0].operation(function(){for(var t=0;t<n.length;t++)e(n[t])})}}var No=!1;function Lo(){var e;No||(et(window,"resize",function(){null==e&&(e=setTimeout(function(){e=null,Oo(jo)},100))}),et(window,"blur",function(){return Oo(vr)}),No=!0)}function jo(e){var t=e.display;t.cachedCharWidth=t.cachedTextHeight=t.cachedPaddingH=null,t.scrollbarsClipped=!1,e.setSize()}for(var Po={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",127:"Delete",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},Do=0;Do<10;Do++)Po[Do+48]=Po[Do+96]=String(Do);for(var Io=65;Io<=90;Io++)Po[Io]=String.fromCharCode(Io);for(var Ro=1;Ro<=12;Ro++)Po[Ro+111]=Po[Ro+63235]="F"+Ro;var Fo={};function Yo(e){var t,n,r,i,o=e.split(/-(?!$)/);e=o[o.length-1];for(var a=0;a<o.length-1;a++){var s=o[a];if(/^(cmd|meta|m)$/i.test(s))i=!0;else if(/^a(lt)?$/i.test(s))t=!0;else if(/^(c|ctrl|control)$/i.test(s))n=!0;else{if(!/^s(hift)?$/i.test(s))throw new Error("Unrecognized modifier name: "+s);r=!0}}return t&&(e="Alt-"+e),n&&(e="Ctrl-"+e),i&&(e="Cmd-"+e),r&&(e="Shift-"+e),e}function Bo(e){var t={};for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];if(/^(name|fallthrough|(de|at)tach)$/.test(n))continue;if("..."==r){delete e[n];continue}for(var i=X(n.split(" "),Yo),o=0;o<i.length;o++){var a=void 0,s=void 0;o==i.length-1?(s=i.join(" "),a=r):(s=i.slice(0,o+1).join(" "),a="...");var u=t[s];if(u){if(u!=a)throw new Error("Inconsistent bindings for "+s)}else t[s]=a}delete e[n]}for(var l in t)e[l]=t[l];return e}function Ho(e,t,n,r){var i=(t=Vo(t)).call?t.call(e,r):t[e];if(!1===i)return"nothing";if("..."===i)return"multi";if(null!=i&&n(i))return"handled";if(t.fallthrough){if("[object Array]"!=Object.prototype.toString.call(t.fallthrough))return Ho(e,t.fallthrough,n,r);for(var o=0;o<t.fallthrough.length;o++){var a=Ho(e,t.fallthrough[o],n,r);if(a)return a}}}function zo(e){var t="string"==typeof e?e:Po[e.keyCode];return"Ctrl"==t||"Alt"==t||"Shift"==t||"Mod"==t}function Wo(e,t,n){var r=e;return t.altKey&&"Alt"!=r&&(e="Alt-"+e),(k?t.metaKey:t.ctrlKey)&&"Ctrl"!=r&&(e="Ctrl-"+e),(k?t.ctrlKey:t.metaKey)&&"Cmd"!=r&&(e="Cmd-"+e),!n&&t.shiftKey&&"Shift"!=r&&(e="Shift-"+e),e}function Uo(e,t){if(d&&34==e.keyCode&&e.char)return!1;var n=Po[e.keyCode];return null!=n&&!e.altGraphKey&&(3==e.keyCode&&e.code&&(n=e.code),Wo(n,e,t))}function Vo(e){return"string"==typeof e?Fo[e]:e}function Go(e,t){for(var n=e.doc.sel.ranges,r=[],i=0;i<n.length;i++){for(var o=t(n[i]);r.length&&ge(o.from,$(r).to)<=0;){var a=r.pop();if(ge(a.from,o.from)<0){o.from=a.from;break}}r.push(o)}qr(e,function(){for(var t=r.length-1;t>=0;t--)lo(e.doc,"",r[t].from,r[t].to,"+delete");Mr(e)})}function qo(e,t,n){var r=oe(e.text,t+n,n);return r<0||r>e.text.length?null:r}function Ko(e,t,n){var r=qo(e,t.ch,n);return null==r?null:new me(t.line,r,n<0?"after":"before")}function $o(e,t,n,r,i){if(e){var o=Qe(n,t.doc.direction);if(o){var a,s=i<0?$(o):o[0],u=i<0==(1==s.level)?"after":"before";if(s.level>0||"rtl"==t.doc.direction){var l=Ln(t,n);a=i<0?n.text.length-1:0;var c=jn(t,l,a).top;a=ae(function(e){return jn(t,l,e).top==c},i<0==(1==s.level)?s.from:s.to-1,a),"before"==u&&(a=qo(n,a,1))}else a=i<0?s.to:s.from;return new me(r,a,u)}}return new me(r,i<0?n.text.length:0,i<0?"before":"after")}Fo.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},Fo.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},Fo.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},Fo.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},Fo.default=v?Fo.macDefault:Fo.pcDefault;var Xo={selectAll:no,singleSelection:function(e){return e.setSelection(e.getCursor("anchor"),e.getCursor("head"),W)},killLine:function(e){return Go(e,function(t){if(t.empty()){var n=se(e.doc,t.head.line).text.length;return t.head.ch==n&&t.head.line<e.lastLine()?{from:t.head,to:me(t.head.line+1,0)}:{from:t.head,to:me(t.head.line,n)}}return{from:t.from(),to:t.to()}})},deleteLine:function(e){return Go(e,function(t){return{from:me(t.from().line,0),to:ke(e.doc,me(t.to().line+1,0))}})},delLineLeft:function(e){return Go(e,function(e){return{from:me(e.from().line,0),to:e.from()}})},delWrappedLineLeft:function(e){return Go(e,function(t){var n=e.charCoords(t.head,"div").top+5;return{from:e.coordsChar({left:0,top:n},"div"),to:t.from()}})},delWrappedLineRight:function(e){return Go(e,function(t){var n=e.charCoords(t.head,"div").top+5,r=e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:n},"div");return{from:t.from(),to:r}})},undo:function(e){return e.undo()},redo:function(e){return e.redo()},undoSelection:function(e){return e.undoSelection()},redoSelection:function(e){return e.redoSelection()},goDocStart:function(e){return e.extendSelection(me(e.firstLine(),0))},goDocEnd:function(e){return e.extendSelection(me(e.lastLine()))},goLineStart:function(e){return e.extendSelectionsBy(function(t){return Jo(e,t.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(e){return e.extendSelectionsBy(function(t){return Qo(e,t.head)},{origin:"+move",bias:1})},goLineEnd:function(e){return e.extendSelectionsBy(function(t){return function(e,t){var n=se(e.doc,t),r=function(e){for(var t;t=Fe(e);)e=t.find(1,!0).line;return e}(n);r!=n&&(t=de(r));return $o(!0,e,n,t,-1)}(e,t.head.line)},{origin:"+move",bias:-1})},goLineRight:function(e){return e.extendSelectionsBy(function(t){var n=e.cursorCoords(t.head,"div").top+5;return e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:n},"div")},V)},goLineLeft:function(e){return e.extendSelectionsBy(function(t){var n=e.cursorCoords(t.head,"div").top+5;return e.coordsChar({left:0,top:n},"div")},V)},goLineLeftSmart:function(e){return e.extendSelectionsBy(function(t){var n=e.cursorCoords(t.head,"div").top+5,r=e.coordsChar({left:0,top:n},"div");return r.ch<e.getLine(r.line).search(/\S/)?Qo(e,t.head):r},V)},goLineUp:function(e){return e.moveV(-1,"line")},goLineDown:function(e){return e.moveV(1,"line")},goPageUp:function(e){return e.moveV(-1,"page")},goPageDown:function(e){return e.moveV(1,"page")},goCharLeft:function(e){return e.moveH(-1,"char")},goCharRight:function(e){return e.moveH(1,"char")},goColumnLeft:function(e){return e.moveH(-1,"column")},goColumnRight:function(e){return e.moveH(1,"column")},goWordLeft:function(e){return e.moveH(-1,"word")},goGroupRight:function(e){return e.moveH(1,"group")},goGroupLeft:function(e){return e.moveH(-1,"group")},goWordRight:function(e){return e.moveH(1,"word")},delCharBefore:function(e){return e.deleteH(-1,"char")},delCharAfter:function(e){return e.deleteH(1,"char")},delWordBefore:function(e){return e.deleteH(-1,"word")},delWordAfter:function(e){return e.deleteH(1,"word")},delGroupBefore:function(e){return e.deleteH(-1,"group")},delGroupAfter:function(e){return e.deleteH(1,"group")},indentAuto:function(e){return e.indentSelection("smart")},indentMore:function(e){return e.indentSelection("add")},indentLess:function(e){return e.indentSelection("subtract")},insertTab:function(e){return e.replaceSelection("\t")},insertSoftTab:function(e){for(var t=[],n=e.listSelections(),r=e.options.tabSize,i=0;i<n.length;i++){var o=n[i].from(),a=F(e.getLine(o.line),o.ch,r);t.push(K(r-a%r))}e.replaceSelections(t)},defaultTab:function(e){e.somethingSelected()?e.indentSelection("add"):e.execCommand("insertTab")},transposeChars:function(e){return qr(e,function(){for(var t=e.listSelections(),n=[],r=0;r<t.length;r++)if(t[r].empty()){var i=t[r].head,o=se(e.doc,i.line).text;if(o)if(i.ch==o.length&&(i=new me(i.line,i.ch-1)),i.ch>0)i=new me(i.line,i.ch+1),e.replaceRange(o.charAt(i.ch-1)+o.charAt(i.ch-2),me(i.line,i.ch-2),i,"+transpose");else if(i.line>e.doc.first){var a=se(e.doc,i.line-1).text;a&&(i=new me(i.line,1),e.replaceRange(o.charAt(0)+e.doc.lineSeparator()+a.charAt(a.length-1),me(i.line-1,a.length-1),i,"+transpose"))}n.push(new vi(i,i))}e.setSelections(n)})},newlineAndIndent:function(e){return qr(e,function(){for(var t=e.listSelections(),n=t.length-1;n>=0;n--)e.replaceRange(e.doc.lineSeparator(),t[n].anchor,t[n].head,"+input");t=e.listSelections();for(var r=0;r<t.length;r++)e.indentLine(t[r].from().line,null,!0);Mr(e)})},openLine:function(e){return e.replaceSelection("\n","start")},toggleOverwrite:function(e){return e.toggleOverwrite()}};function Jo(e,t){var n=se(e.doc,t),r=He(n);return r!=n&&(t=de(r)),$o(!0,e,r,t,1)}function Qo(e,t){var n=Jo(e,t.line),r=se(e.doc,n.line),i=Qe(r,e.doc.direction);if(!i||0==i[0].level){var o=Math.max(0,r.text.search(/\S/)),a=t.line==n.line&&t.ch<=o&&t.ch;return me(n.line,a?0:o,n.sticky)}return n}function Zo(e,t,n){if("string"==typeof t&&!(t=Xo[t]))return!1;e.display.input.ensurePolled();var r=e.display.shift,i=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),n&&(e.display.shift=!1),i=t(e)!=z}finally{e.display.shift=r,e.state.suppressEdits=!1}return i}var ea=new Y;function ta(e,t,n,r){var i=e.state.keySeq;if(i){if(zo(t))return"handled";if(/\'$/.test(t)?e.state.keySeq=null:ea.set(50,function(){e.state.keySeq==i&&(e.state.keySeq=null,e.display.input.reset())}),na(e,i+" "+t,n,r))return!0}return na(e,t,n,r)}function na(e,t,n,r){var i=function(e,t,n){for(var r=0;r<e.state.keyMaps.length;r++){var i=Ho(t,e.state.keyMaps[r],n,e);if(i)return i}return e.options.extraKeys&&Ho(t,e.options.extraKeys,n,e)||Ho(t,e.options.keyMap,n,e)}(e,t,r);return"multi"==i&&(e.state.keySeq=t),"handled"==i&&un(e,"keyHandled",e,t,n),"handled"!=i&&"multi"!=i||(ut(n),pr(e)),!!i}function ra(e,t){var n=Uo(t,!0);return!!n&&(t.shiftKey&&!e.state.keySeq?ta(e,"Shift-"+n,t,function(t){return Zo(e,t,!0)})||ta(e,n,t,function(t){if("string"==typeof t?/^go[A-Z]/.test(t):t.motion)return Zo(e,t)}):ta(e,n,t,function(t){return Zo(e,t)}))}var ia=null;function oa(e){var t=this;if(t.curOp.focus=L(),!it(t,e)){a&&s<11&&27==e.keyCode&&(e.returnValue=!1);var n=e.keyCode;t.display.shift=16==n||e.shiftKey;var r=ra(t,e);d&&(ia=r?n:null,!r&&88==n&&!kt&&(v?e.metaKey:e.ctrlKey)&&t.replaceSelection("",null,"cut")),18!=n||/\bCodeMirror-crosshair\b/.test(t.display.lineDiv.className)||function(e){var t=e.display.lineDiv;function n(e){18!=e.keyCode&&e.altKey||(M(t,"CodeMirror-crosshair"),nt(document,"keyup",n),nt(document,"mouseover",n))}j(t,"CodeMirror-crosshair"),et(document,"keyup",n),et(document,"mouseover",n)}(t)}}function aa(e){16==e.keyCode&&(this.doc.sel.shift=!1),it(this,e)}function sa(e){var t=this;if(!(kn(t.display,e)||it(t,e)||e.ctrlKey&&!e.altKey||v&&e.metaKey)){var n=e.keyCode,r=e.charCode;if(d&&n==ia)return ia=null,void ut(e);if(!d||e.which&&!(e.which<10)||!ra(t,e)){var i=String.fromCharCode(null==r?n:r);"\b"!=i&&(function(e,t,n){return ta(e,"'"+n+"'",t,function(t){return Zo(e,t,!0)})}(t,e,i)||t.display.input.onKeyPress(e))}}}var ua,la,ca=function(e,t,n){this.time=e,this.pos=t,this.button=n};function da(e){var t=this,n=t.display;if(!(it(t,e)||n.activeTouch&&n.input.supportsTouch()))if(n.input.ensurePolled(),n.shift=e.shiftKey,kn(n,e))u||(n.scroller.draggable=!1,setTimeout(function(){return n.scroller.draggable=!0},100));else if(!pa(t,e)){var r=sr(t,e),i=ht(e),o=r?function(e,t){var n=+new Date;return la&&la.compare(n,e,t)?(ua=la=null,"triple"):ua&&ua.compare(n,e,t)?(la=new ca(n,e,t),ua=null,"double"):(ua=new ca(n,e,t),la=null,"single")}(r,i):"single";window.focus(),1==i&&t.state.selectingText&&t.state.selectingText(e),r&&function(e,t,n,r,i){var o="Click";"double"==r?o="Double"+o:"triple"==r&&(o="Triple"+o);return ta(e,Wo(o=(1==t?"Left":2==t?"Middle":"Right")+o,i),i,function(t){if("string"==typeof t&&(t=Xo[t]),!t)return!1;var r=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),r=t(e,n)!=z}finally{e.state.suppressEdits=!1}return r})}(t,i,r,o,e)||(1==i?r?function(e,t,n,r){a?setTimeout(I(mr,e),0):e.curOp.focus=L();var i,o=function(e,t,n){var r=e.getOption("configureMouse"),i=r?r(e,t,n):{};if(null==i.unit){var o=b?n.shiftKey&&n.metaKey:n.altKey;i.unit=o?"rectangle":"single"==t?"char":"double"==t?"word":"line"}(null==i.extend||e.doc.extend)&&(i.extend=e.doc.extend||n.shiftKey);null==i.addNew&&(i.addNew=v?n.metaKey:n.ctrlKey);null==i.moveOnDrag&&(i.moveOnDrag=!(v?n.altKey:n.ctrlKey));return i}(e,n,r),l=e.doc.sel;e.options.dragDrop&&gt&&!e.isReadOnly()&&"single"==n&&(i=l.contains(t))>-1&&(ge((i=l.ranges[i]).from(),t)<0||t.xRel>0)&&(ge(i.to(),t)>0||t.xRel<0)?function(e,t,n,r){var i=e.display,o=!1,l=Kr(e,function(t){u&&(i.scroller.draggable=!1),e.state.draggingText=!1,nt(i.wrapper.ownerDocument,"mouseup",l),nt(i.wrapper.ownerDocument,"mousemove",c),nt(i.scroller,"dragstart",d),nt(i.scroller,"drop",l),o||(ut(t),r.addNew||Wi(e.doc,n,null,null,r.extend),u||a&&9==s?setTimeout(function(){i.wrapper.ownerDocument.body.focus(),i.input.focus()},20):i.input.focus())}),c=function(e){o=o||Math.abs(t.clientX-e.clientX)+Math.abs(t.clientY-e.clientY)>=10},d=function(){return o=!0};u&&(i.scroller.draggable=!0);e.state.draggingText=l,l.copy=!r.moveOnDrag,i.scroller.dragDrop&&i.scroller.dragDrop();et(i.wrapper.ownerDocument,"mouseup",l),et(i.wrapper.ownerDocument,"mousemove",c),et(i.scroller,"dragstart",d),et(i.scroller,"drop",l),gr(e),setTimeout(function(){return i.input.focus()},20)}(e,r,t,o):function(e,t,n,r){var i=e.display,o=e.doc;ut(t);var a,s,u=o.sel,l=u.ranges;r.addNew&&!r.extend?(s=o.sel.contains(n),a=s>-1?l[s]:new vi(n,n)):(a=o.sel.primary(),s=o.sel.primIndex);if("rectangle"==r.unit)r.addNew||(a=new vi(n,n)),n=sr(e,t,!0,!0),s=-1;else{var c=fa(e,n,r.unit);a=r.extend?zi(a,c.anchor,c.head,r.extend):c}r.addNew?-1==s?(s=l.length,Ki(o,bi(e,l.concat([a]),s),{scroll:!1,origin:"*mouse"})):l.length>1&&l[s].empty()&&"char"==r.unit&&!r.extend?(Ki(o,bi(e,l.slice(0,s).concat(l.slice(s+1)),0),{scroll:!1,origin:"*mouse"}),u=o.sel):Vi(o,s,a,U):(s=0,Ki(o,new yi([a],0),U),u=o.sel);var d=n;function f(t){if(0!=ge(d,t))if(d=t,"rectangle"==r.unit){for(var i=[],l=e.options.tabSize,c=F(se(o,n.line).text,n.ch,l),f=F(se(o,t.line).text,t.ch,l),h=Math.min(c,f),p=Math.max(c,f),m=Math.min(n.line,t.line),g=Math.min(e.lastLine(),Math.max(n.line,t.line));m<=g;m++){var y=se(o,m).text,v=G(y,h,l);h==p?i.push(new vi(me(m,v),me(m,v))):y.length>v&&i.push(new vi(me(m,v),me(m,G(y,p,l))))}i.length||i.push(new vi(n,n)),Ki(o,bi(e,u.ranges.slice(0,s).concat(i),s),{origin:"*mouse",scroll:!1}),e.scrollIntoView(t)}else{var b,_=a,w=fa(e,t,r.unit),k=_.anchor;ge(w.anchor,k)>0?(b=w.head,k=_e(_.from(),w.anchor)):(b=w.anchor,k=be(_.to(),w.head));var E=u.ranges.slice(0);E[s]=function(e,t){var n=t.anchor,r=t.head,i=se(e.doc,n.line);if(0==ge(n,r)&&n.sticky==r.sticky)return t;var o=Qe(i);if(!o)return t;var a=Xe(o,n.ch,n.sticky),s=o[a];if(s.from!=n.ch&&s.to!=n.ch)return t;var u,l=a+(s.from==n.ch==(1!=s.level)?0:1);if(0==l||l==o.length)return t;if(r.line!=n.line)u=(r.line-n.line)*("ltr"==e.doc.direction?1:-1)>0;else{var c=Xe(o,r.ch,r.sticky),d=c-a||(r.ch-n.ch)*(1==s.level?-1:1);u=c==l-1||c==l?d<0:d>0}var f=o[l+(u?-1:0)],h=u==(1==f.level),p=h?f.from:f.to,m=h?"after":"before";return n.ch==p&&n.sticky==m?t:new vi(new me(n.line,p,m),r)}(e,new vi(ke(o,k),b)),Ki(o,bi(e,E,s),U)}}var h=i.wrapper.getBoundingClientRect(),p=0;function m(t){e.state.selectingText=!1,p=1/0,ut(t),i.input.focus(),nt(i.wrapper.ownerDocument,"mousemove",g),nt(i.wrapper.ownerDocument,"mouseup",y),o.history.lastSelOrigin=null}var g=Kr(e,function(t){0!==t.buttons&&ht(t)?function t(n){var a=++p;var s=sr(e,n,!0,"rectangle"==r.unit);if(!s)return;if(0!=ge(s,d)){e.curOp.focus=L(),f(s);var u=wr(i,o);(s.line>=u.to||s.line<u.from)&&setTimeout(Kr(e,function(){p==a&&t(n)}),150)}else{var l=n.clientY<h.top?-20:n.clientY>h.bottom?20:0;l&&setTimeout(Kr(e,function(){p==a&&(i.scroller.scrollTop+=l,t(n))}),50)}}(t):m(t)}),y=Kr(e,m);e.state.selectingText=y,et(i.wrapper.ownerDocument,"mousemove",g),et(i.wrapper.ownerDocument,"mouseup",y)}(e,r,t,o)}(t,r,o,e):ft(e)==n.scroller&&ut(e):2==i?(r&&Wi(t.doc,r),setTimeout(function(){return n.input.focus()},20)):3==i&&(E?t.display.input.onContextMenu(e):gr(t)))}}function fa(e,t,n){if("char"==n)return new vi(t,t);if("word"==n)return e.findWordAt(t);if("line"==n)return new vi(me(t.line,0),ke(e.doc,me(t.line+1,0)));var r=n(e,t);return new vi(r.from,r.to)}function ha(e,t,n,r){var i,o;if(t.touches)i=t.touches[0].clientX,o=t.touches[0].clientY;else try{i=t.clientX,o=t.clientY}catch(t){return!1}if(i>=Math.floor(e.display.gutters.getBoundingClientRect().right))return!1;r&&ut(t);var a=e.display,s=a.lineDiv.getBoundingClientRect();if(o>s.bottom||!at(e,n))return ct(t);o-=s.top-a.viewOffset;for(var u=0;u<e.options.gutters.length;++u){var l=a.gutters.childNodes[u];if(l&&l.getBoundingClientRect().right>=i)return rt(e,n,e,fe(e.doc,o),e.options.gutters[u],t),ct(t)}}function pa(e,t){return ha(e,t,"gutterClick",!0)}function ma(e,t){kn(e.display,t)||function(e,t){if(!at(e,"gutterContextMenu"))return!1;return ha(e,t,"gutterContextMenu",!1)}(e,t)||it(e,t,"contextmenu")||E||e.display.input.onContextMenu(t)}function ga(e){e.display.wrapper.className=e.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+e.options.theme.replace(/(^|\s)\s*/g," cm-s-"),Bn(e)}ca.prototype.compare=function(e,t,n){return this.time+400>e&&0==ge(t,this.pos)&&n==this.button};var ya={toString:function(){return"CodeMirror.Init"}},va={},ba={};function _a(e){ci(e),Jr(e),kr(e)}function wa(e,t,n){if(!t!=!(n&&n!=ya)){var r=e.display.dragFunctions,i=t?et:nt;i(e.display.scroller,"dragstart",r.start),i(e.display.scroller,"dragenter",r.enter),i(e.display.scroller,"dragover",r.over),i(e.display.scroller,"dragleave",r.leave),i(e.display.scroller,"drop",r.drop)}}function ka(e){e.options.lineWrapping?(j(e.display.wrapper,"CodeMirror-wrap"),e.display.sizer.style.minWidth="",e.display.sizerWidth=null):(M(e.display.wrapper,"CodeMirror-wrap"),Ke(e)),ar(e),Jr(e),Bn(e),setTimeout(function(){return Ir(e)},100)}function Ea(e,t){var r=this;if(!(this instanceof Ea))return new Ea(e,t);this.options=t=t?R(t):{},R(va,t,!1),di(t);var i=t.value;"string"==typeof i?i=new Mo(i,t.mode,null,t.lineSeparator,t.direction):t.mode&&(i.modeOption=t.mode),this.doc=i;var o=new Ea.inputStyles[t.inputStyle](this),l=this.display=new function(e,t,r){var i=this;this.input=r,i.scrollbarFiller=A("div",null,"CodeMirror-scrollbar-filler"),i.scrollbarFiller.setAttribute("cm-not-content","true"),i.gutterFiller=A("div",null,"CodeMirror-gutter-filler"),i.gutterFiller.setAttribute("cm-not-content","true"),i.lineDiv=O("div",null,"CodeMirror-code"),i.selectionDiv=A("div",null,null,"position: relative; z-index: 1"),i.cursorDiv=A("div",null,"CodeMirror-cursors"),i.measure=A("div",null,"CodeMirror-measure"),i.lineMeasure=A("div",null,"CodeMirror-measure"),i.lineSpace=O("div",[i.measure,i.lineMeasure,i.selectionDiv,i.cursorDiv,i.lineDiv],null,"position: relative; outline: none");var o=O("div",[i.lineSpace],"CodeMirror-lines");i.mover=A("div",[o],null,"position: relative"),i.sizer=A("div",[i.mover],"CodeMirror-sizer"),i.sizerWidth=null,i.heightForcer=A("div",null,null,"position: absolute; height: "+H+"px; width: 1px;"),i.gutters=A("div",null,"CodeMirror-gutters"),i.lineGutter=null,i.scroller=A("div",[i.sizer,i.heightForcer,i.gutters],"CodeMirror-scroll"),i.scroller.setAttribute("tabIndex","-1"),i.wrapper=A("div",[i.scrollbarFiller,i.gutterFiller,i.scroller],"CodeMirror"),a&&s<8&&(i.gutters.style.zIndex=-1,i.scroller.style.paddingRight=0),u||n&&y||(i.scroller.draggable=!0),e&&(e.appendChild?e.appendChild(i.wrapper):e(i.wrapper)),i.viewFrom=i.viewTo=t.first,i.reportedViewFrom=i.reportedViewTo=t.first,i.view=[],i.renderedView=null,i.externalMeasured=null,i.viewOffset=0,i.lastWrapHeight=i.lastWrapWidth=0,i.updateLineNumbers=null,i.nativeBarWidth=i.barHeight=i.barWidth=0,i.scrollbarsClipped=!1,i.lineNumWidth=i.lineNumInnerWidth=i.lineNumChars=null,i.alignWidgets=!1,i.cachedCharWidth=i.cachedTextHeight=i.cachedPaddingH=null,i.maxLine=null,i.maxLineLength=0,i.maxLineChanged=!1,i.wheelDX=i.wheelDY=i.wheelStartX=i.wheelStartY=null,i.shift=!1,i.selForContextMenu=null,i.activeTouch=null,r.init(i)}(e,i,o);for(var c in l.wrapper.CodeMirror=this,ci(this),ga(this),t.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),Yr(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:!1,cutIncoming:!1,selectingText:!1,draggingText:!1,highlight:new Y,keySeq:null,specialChars:null},t.autofocus&&!y&&l.input.focus(),a&&s<11&&setTimeout(function(){return r.display.input.reset(!0)},20),function(e){var t=e.display;et(t.scroller,"mousedown",Kr(e,da)),et(t.scroller,"dblclick",a&&s<11?Kr(e,function(t){if(!it(e,t)){var n=sr(e,t);if(n&&!pa(e,t)&&!kn(e.display,t)){ut(t);var r=e.findWordAt(n);Wi(e.doc,r.anchor,r.head)}}}):function(t){return it(e,t)||ut(t)});et(t.scroller,"contextmenu",function(t){return ma(e,t)});var n,r={end:0};function i(){t.activeTouch&&(n=setTimeout(function(){return t.activeTouch=null},1e3),(r=t.activeTouch).end=+new Date)}function o(e,t){if(null==t.left)return!0;var n=t.left-e.left,r=t.top-e.top;return n*n+r*r>400}et(t.scroller,"touchstart",function(i){if(!it(e,i)&&!function(e){if(1!=e.touches.length)return!1;var t=e.touches[0];return t.radiusX<=1&&t.radiusY<=1}(i)&&!pa(e,i)){t.input.ensurePolled(),clearTimeout(n);var o=+new Date;t.activeTouch={start:o,moved:!1,prev:o-r.end<=300?r:null},1==i.touches.length&&(t.activeTouch.left=i.touches[0].pageX,t.activeTouch.top=i.touches[0].pageY)}}),et(t.scroller,"touchmove",function(){t.activeTouch&&(t.activeTouch.moved=!0)}),et(t.scroller,"touchend",function(n){var r=t.activeTouch;if(r&&!kn(t,n)&&null!=r.left&&!r.moved&&new Date-r.start<300){var a,s=e.coordsChar(t.activeTouch,"page");a=!r.prev||o(r,r.prev)?new vi(s,s):!r.prev.prev||o(r,r.prev.prev)?e.findWordAt(s):new vi(me(s.line,0),ke(e.doc,me(s.line+1,0))),e.setSelection(a.anchor,a.head),e.focus(),ut(n)}i()}),et(t.scroller,"touchcancel",i),et(t.scroller,"scroll",function(){t.scroller.clientHeight&&(Or(e,t.scroller.scrollTop),Lr(e,t.scroller.scrollLeft,!0),rt(e,"scroll",e))}),et(t.scroller,"mousewheel",function(t){return gi(e,t)}),et(t.scroller,"DOMMouseScroll",function(t){return gi(e,t)}),et(t.wrapper,"scroll",function(){return t.wrapper.scrollTop=t.wrapper.scrollLeft=0}),t.dragFunctions={enter:function(t){it(e,t)||dt(t)},over:function(t){it(e,t)||(!function(e,t){var n=sr(e,t);if(n){var r=document.createDocumentFragment();dr(e,n,r),e.display.dragCursor||(e.display.dragCursor=A("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),e.display.lineSpace.insertBefore(e.display.dragCursor,e.display.cursorDiv)),C(e.display.dragCursor,r)}}(e,t),dt(t))},start:function(t){return function(e,t){if(a&&(!e.state.draggingText||+new Date-To<100))dt(t);else if(!it(e,t)&&!kn(e.display,t)&&(t.dataTransfer.setData("Text",e.getSelection()),t.dataTransfer.effectAllowed="copyMove",t.dataTransfer.setDragImage&&!f)){var n=A("img",null,null,"position: fixed; left: 0; top: 0;");n.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",d&&(n.width=n.height=1,e.display.wrapper.appendChild(n),n._top=n.offsetTop),t.dataTransfer.setDragImage(n,0,0),d&&n.parentNode.removeChild(n)}}(e,t)},drop:Kr(e,Co),leave:function(t){it(e,t)||Ao(e)}};var u=t.input.getField();et(u,"keyup",function(t){return aa.call(e,t)}),et(u,"keydown",Kr(e,oa)),et(u,"keypress",Kr(e,sa)),et(u,"focus",function(t){return yr(e,t)}),et(u,"blur",function(t){return vr(e,t)})}(this),Lo(),Hr(this),this.curOp.forceUpdate=!0,Oi(this,i),t.autofocus&&!y||this.hasFocus()?setTimeout(I(yr,this),20):vr(this),ba)ba.hasOwnProperty(c)&&ba[c](r,t[c],ya);Er(this),t.finishInit&&t.finishInit(this);for(var h=0;h<xa.length;++h)xa[h](r);zr(this),u&&t.lineWrapping&&"optimizelegibility"==getComputedStyle(l.lineDiv).textRendering&&(l.lineDiv.style.textRendering="auto")}Ea.defaults=va,Ea.optionHandlers=ba;var xa=[];function Sa(e,t,n,r){var i,o=e.doc;null==n&&(n="add"),"smart"==n&&(o.mode.indent?i=Ft(e,t).state:n="prev");var a=e.options.tabSize,s=se(o,t),u=F(s.text,null,a);s.stateAfter&&(s.stateAfter=null);var l,c=s.text.match(/^\s*/)[0];if(r||/\S/.test(s.text)){if("smart"==n&&((l=o.mode.indent(i,s.text.slice(c.length),s.text))==z||l>150)){if(!r)return;n="prev"}}else l=0,n="not";"prev"==n?l=t>o.first?F(se(o,t-1).text,null,a):0:"add"==n?l=u+e.options.indentUnit:"subtract"==n?l=u-e.options.indentUnit:"number"==typeof n&&(l=u+n),l=Math.max(0,l);var d="",f=0;if(e.options.indentWithTabs)for(var h=Math.floor(l/a);h;--h)f+=a,d+="\t";if(f<l&&(d+=K(l-f)),d!=c)return lo(o,d,me(t,0),me(t,c.length),"+input"),s.stateAfter=null,!0;for(var p=0;p<o.sel.ranges.length;p++){var m=o.sel.ranges[p];if(m.head.line==t&&m.head.ch<c.length){var g=me(t,c.length);Vi(o,p,new vi(g,g));break}}}Ea.defineInitHook=function(e){return xa.push(e)};var Ma=null;function Ta(e){Ma=e}function Ca(e,t,n,r,i){var o=e.doc;e.display.shift=!1,r||(r=o.sel);var a,s=e.state.pasteIncoming||"paste"==i,u=_t(t),l=null;if(s&&r.ranges.length>1)if(Ma&&Ma.text.join("\n")==t){if(r.ranges.length%Ma.text.length==0){l=[];for(var c=0;c<Ma.text.length;c++)l.push(o.splitLines(Ma.text[c]))}}else u.length==r.ranges.length&&e.options.pasteLinesPerSelection&&(l=X(u,function(e){return[e]}));for(var d=r.ranges.length-1;d>=0;d--){var f=r.ranges[d],h=f.from(),p=f.to();f.empty()&&(n&&n>0?h=me(h.line,h.ch-n):e.state.overwrite&&!s?p=me(p.line,Math.min(se(o,p.line).text.length,p.ch+$(u).length)):s&&Ma&&Ma.lineWise&&Ma.text.join("\n")==t&&(h=p=me(h.line,0))),a=e.curOp.updateInput;var m={from:h,to:p,text:l?l[d%l.length]:u,origin:i||(s?"paste":e.state.cutIncoming?"cut":"+input")};io(e.doc,m),un(e,"inputRead",e,m)}t&&!s&&Oa(e,t),Mr(e),e.curOp.updateInput=a,e.curOp.typing=!0,e.state.pasteIncoming=e.state.cutIncoming=!1}function Aa(e,t){var n=e.clipboardData&&e.clipboardData.getData("Text");if(n)return e.preventDefault(),t.isReadOnly()||t.options.disableInput||qr(t,function(){return Ca(t,n,0,null,"paste")}),!0}function Oa(e,t){if(e.options.electricChars&&e.options.smartIndent)for(var n=e.doc.sel,r=n.ranges.length-1;r>=0;r--){var i=n.ranges[r];if(!(i.head.ch>100||r&&n.ranges[r-1].head.line==i.head.line)){var o=e.getModeAt(i.head),a=!1;if(o.electricChars){for(var s=0;s<o.electricChars.length;s++)if(t.indexOf(o.electricChars.charAt(s))>-1){a=Sa(e,i.head.line,"smart");break}}else o.electricInput&&o.electricInput.test(se(e.doc,i.head.line).text.slice(0,i.head.ch))&&(a=Sa(e,i.head.line,"smart"));a&&un(e,"electricInput",e,i.head.line)}}}function Na(e){for(var t=[],n=[],r=0;r<e.doc.sel.ranges.length;r++){var i=e.doc.sel.ranges[r].head.line,o={anchor:me(i,0),head:me(i+1,0)};n.push(o),t.push(e.getRange(o.anchor,o.head))}return{text:t,ranges:n}}function La(e,t){e.setAttribute("autocorrect","off"),e.setAttribute("autocapitalize","off"),e.setAttribute("spellcheck",!!t)}function ja(){var e=A("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; outline: none"),t=A("div",[e],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return u?e.style.width="1000px":e.setAttribute("wrap","off"),m&&(e.style.border="1px solid black"),La(e),t}function Pa(e,t,n,r,i){var o=t,a=n,s=se(e,t.line);function u(r){var o,a;if(null==(o=i?function(e,t,n,r){var i=Qe(t,e.doc.direction);if(!i)return Ko(t,n,r);n.ch>=t.text.length?(n.ch=t.text.length,n.sticky="before"):n.ch<=0&&(n.ch=0,n.sticky="after");var o=Xe(i,n.ch,n.sticky),a=i[o];if("ltr"==e.doc.direction&&a.level%2==0&&(r>0?a.to>n.ch:a.from<n.ch))return Ko(t,n,r);var s,u=function(e,n){return qo(t,e instanceof me?e.ch:e,n)},l=function(n){return e.options.lineWrapping?(s=s||Ln(e,t),Qn(e,t,s,n)):{begin:0,end:t.text.length}},c=l("before"==n.sticky?u(n,-1):n.ch);if("rtl"==e.doc.direction||1==a.level){var d=1==a.level==r<0,f=u(n,d?1:-1);if(null!=f&&(d?f<=a.to&&f<=c.end:f>=a.from&&f>=c.begin)){var h=d?"before":"after";return new me(n.line,f,h)}}var p=function(e,t,r){for(var o=function(e,t){return t?new me(n.line,u(e,1),"before"):new me(n.line,e,"after")};e>=0&&e<i.length;e+=t){var a=i[e],s=t>0==(1!=a.level),l=s?r.begin:u(r.end,-1);if(a.from<=l&&l<a.to)return o(l,s);if(l=s?a.from:u(a.to,-1),r.begin<=l&&l<r.end)return o(l,s)}},m=p(o+r,r,c);if(m)return m;var g=r>0?c.end:u(c.begin,-1);return null==g||r>0&&g==t.text.length||!(m=p(r>0?0:i.length-1,r,l(g)))?null:m}(e.cm,s,t,n):Ko(s,t,n))){if(r||(a=t.line+n)<e.first||a>=e.first+e.size||(t=new me(a,t.ch,t.sticky),!(s=se(e,a))))return!1;t=$o(i,e.cm,s,t.line,n)}else t=o;return!0}if("char"==r)u();else if("column"==r)u(!0);else if("word"==r||"group"==r)for(var l=null,c="group"==r,d=e.cm&&e.cm.getHelper(t,"wordChars"),f=!0;!(n<0)||u(!f);f=!1){var h=s.text.charAt(t.ch)||"\n",p=te(h,d)?"w":c&&"\n"==h?"n":!c||/\s/.test(h)?null:"p";if(!c||f||p||(p="s"),l&&l!=p){n<0&&(n=1,u(),t.sticky="after");break}if(p&&(l=p),n>0&&!u(!f))break}var m=eo(e,t,o,a,!0);return ye(o,m)&&(m.hitSide=!0),m}function Da(e,t,n,r){var i,o,a=e.doc,s=t.left;if("page"==r){var u=Math.min(e.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight),l=Math.max(u-.5*tr(e.display),3);i=(n>0?t.bottom:t.top)+n*l}else"line"==r&&(i=n>0?t.bottom+3:t.top-3);for(;(o=Xn(e,s,i)).outside;){if(n<0?i<=0:i>=a.height){o.hitSide=!0;break}i+=5*n}return o}var Ia=function(e){this.cm=e,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new Y,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};function Ra(e,t){var n=Nn(e,t.line);if(!n||n.hidden)return null;var r=se(e.doc,t.line),i=An(n,r,t.line),o=Qe(r,e.doc.direction),a="left";o&&(a=Xe(o,t.ch)%2?"right":"left");var s=In(i.map,t.ch,a);return s.offset="right"==s.collapse?s.end:s.start,s}function Fa(e,t){return t&&(e.bad=!0),e}function Ya(e,t,n){var r;if(t==e.display.lineDiv){if(!(r=e.display.lineDiv.childNodes[n]))return Fa(e.clipPos(me(e.display.viewTo-1)),!0);t=null,n=0}else for(r=t;;r=r.parentNode){if(!r||r==e.display.lineDiv)return null;if(r.parentNode&&r.parentNode==e.display.lineDiv)break}for(var i=0;i<e.display.view.length;i++){var o=e.display.view[i];if(o.node==r)return Ba(o,t,n)}}function Ba(e,t,n){var r=e.text.firstChild,i=!1;if(!t||!N(r,t))return Fa(me(de(e.line),0),!0);if(t==r&&(i=!0,t=r.childNodes[n],n=0,!t)){var o=e.rest?$(e.rest):e.line;return Fa(me(de(o),o.text.length),i)}var a=3==t.nodeType?t:null,s=t;for(a||1!=t.childNodes.length||3!=t.firstChild.nodeType||(a=t.firstChild,n&&(n=a.nodeValue.length));s.parentNode!=r;)s=s.parentNode;var u=e.measure,l=u.maps;function c(t,n,r){for(var i=-1;i<(l?l.length:0);i++)for(var o=i<0?u.map:l[i],a=0;a<o.length;a+=3){var s=o[a+2];if(s==t||s==n){var c=de(i<0?e.line:e.rest[i]),d=o[a]+r;return(r<0||s!=t)&&(d=o[a+(r?1:0)]),me(c,d)}}}var d=c(a,s,n);if(d)return Fa(d,i);for(var f=s.nextSibling,h=a?a.nodeValue.length-n:0;f;f=f.nextSibling){if(d=c(f,f.firstChild,0))return Fa(me(d.line,d.ch-h),i);h+=f.textContent.length}for(var p=s.previousSibling,m=n;p;p=p.previousSibling){if(d=c(p,p.firstChild,-1))return Fa(me(d.line,d.ch+m),i);m+=p.textContent.length}}Ia.prototype.init=function(e){var t=this,n=this,r=n.cm,i=n.div=e.lineDiv;function o(e){if(!it(r,e)){if(r.somethingSelected())Ta({lineWise:!1,text:r.getSelections()}),"cut"==e.type&&r.replaceSelection("",null,"cut");else{if(!r.options.lineWiseCopyCut)return;var t=Na(r);Ta({lineWise:!0,text:t.text}),"cut"==e.type&&r.operation(function(){r.setSelections(t.ranges,0,W),r.replaceSelection("",null,"cut")})}if(e.clipboardData){e.clipboardData.clearData();var o=Ma.text.join("\n");if(e.clipboardData.setData("Text",o),e.clipboardData.getData("Text")==o)return void e.preventDefault()}var a=ja(),s=a.firstChild;r.display.lineSpace.insertBefore(a,r.display.lineSpace.firstChild),s.value=Ma.text.join("\n");var u=document.activeElement;D(s),setTimeout(function(){r.display.lineSpace.removeChild(a),u.focus(),u==i&&n.showPrimarySelection()},50)}}La(i,r.options.spellcheck),et(i,"paste",function(e){it(r,e)||Aa(e,r)||s<=11&&setTimeout(Kr(r,function(){return t.updateFromDOM()}),20)}),et(i,"compositionstart",function(e){t.composing={data:e.data,done:!1}}),et(i,"compositionupdate",function(e){t.composing||(t.composing={data:e.data,done:!1})}),et(i,"compositionend",function(e){t.composing&&(e.data!=t.composing.data&&t.readFromDOMSoon(),t.composing.done=!0)}),et(i,"touchstart",function(){return n.forceCompositionEnd()}),et(i,"input",function(){t.composing||t.readFromDOMSoon()}),et(i,"copy",o),et(i,"cut",o)},Ia.prototype.prepareSelection=function(){var e=cr(this.cm,!1);return e.focus=this.cm.state.focused,e},Ia.prototype.showSelection=function(e,t){e&&this.cm.display.view.length&&((e.focus||t)&&this.showPrimarySelection(),this.showMultipleSelections(e))},Ia.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},Ia.prototype.showPrimarySelection=function(){var e=this.getSelection(),t=this.cm,r=t.doc.sel.primary(),i=r.from(),o=r.to();if(t.display.viewTo==t.display.viewFrom||i.line>=t.display.viewTo||o.line<t.display.viewFrom)e.removeAllRanges();else{var a=Ya(t,e.anchorNode,e.anchorOffset),s=Ya(t,e.focusNode,e.focusOffset);if(!a||a.bad||!s||s.bad||0!=ge(_e(a,s),i)||0!=ge(be(a,s),o)){var u=t.display.view,l=i.line>=t.display.viewFrom&&Ra(t,i)||{node:u[0].measure.map[2],offset:0},c=o.line<t.display.viewTo&&Ra(t,o);if(!c){var d=u[u.length-1].measure,f=d.maps?d.maps[d.maps.length-1]:d.map;c={node:f[f.length-1],offset:f[f.length-2]-f[f.length-3]}}if(l&&c){var h,p=e.rangeCount&&e.getRangeAt(0);try{h=S(l.node,l.offset,c.offset,c.node)}catch(e){}h&&(!n&&t.state.focused?(e.collapse(l.node,l.offset),h.collapsed||(e.removeAllRanges(),e.addRange(h))):(e.removeAllRanges(),e.addRange(h)),p&&null==e.anchorNode?e.addRange(p):n&&this.startGracePeriod()),this.rememberSelection()}else e.removeAllRanges()}}},Ia.prototype.startGracePeriod=function(){var e=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){e.gracePeriod=!1,e.selectionChanged()&&e.cm.operation(function(){return e.cm.curOp.selectionChanged=!0})},20)},Ia.prototype.showMultipleSelections=function(e){C(this.cm.display.cursorDiv,e.cursors),C(this.cm.display.selectionDiv,e.selection)},Ia.prototype.rememberSelection=function(){var e=this.getSelection();this.lastAnchorNode=e.anchorNode,this.lastAnchorOffset=e.anchorOffset,this.lastFocusNode=e.focusNode,this.lastFocusOffset=e.focusOffset},Ia.prototype.selectionInEditor=function(){var e=this.getSelection();if(!e.rangeCount)return!1;var t=e.getRangeAt(0).commonAncestorContainer;return N(this.div,t)},Ia.prototype.focus=function(){"nocursor"!=this.cm.options.readOnly&&(this.selectionInEditor()||this.showSelection(this.prepareSelection(),!0),this.div.focus())},Ia.prototype.blur=function(){this.div.blur()},Ia.prototype.getField=function(){return this.div},Ia.prototype.supportsTouch=function(){return!0},Ia.prototype.receivedFocus=function(){var e=this;this.selectionInEditor()?this.pollSelection():qr(this.cm,function(){return e.cm.curOp.selectionChanged=!0}),this.polling.set(this.cm.options.pollInterval,function t(){e.cm.state.focused&&(e.pollSelection(),e.polling.set(e.cm.options.pollInterval,t))})},Ia.prototype.selectionChanged=function(){var e=this.getSelection();return e.anchorNode!=this.lastAnchorNode||e.anchorOffset!=this.lastAnchorOffset||e.focusNode!=this.lastFocusNode||e.focusOffset!=this.lastFocusOffset},Ia.prototype.pollSelection=function(){if(null==this.readDOMTimeout&&!this.gracePeriod&&this.selectionChanged()){var e=this.getSelection(),t=this.cm;if(g&&c&&this.cm.options.gutters.length&&function(e){for(var t=e;t;t=t.parentNode)if(/CodeMirror-gutter-wrapper/.test(t.className))return!0;return!1}(e.anchorNode))return this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),void this.focus();if(!this.composing){this.rememberSelection();var n=Ya(t,e.anchorNode,e.anchorOffset),r=Ya(t,e.focusNode,e.focusOffset);n&&r&&qr(t,function(){Ki(t.doc,_i(n,r),W),(n.bad||r.bad)&&(t.curOp.selectionChanged=!0)})}}},Ia.prototype.pollContent=function(){null!=this.readDOMTimeout&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var e,t,n,r=this.cm,i=r.display,o=r.doc.sel.primary(),a=o.from(),s=o.to();if(0==a.ch&&a.line>r.firstLine()&&(a=me(a.line-1,se(r.doc,a.line-1).length)),s.ch==se(r.doc,s.line).text.length&&s.line<r.lastLine()&&(s=me(s.line+1,0)),a.line<i.viewFrom||s.line>i.viewTo-1)return!1;a.line==i.viewFrom||0==(e=ur(r,a.line))?(t=de(i.view[0].line),n=i.view[0].node):(t=de(i.view[e].line),n=i.view[e-1].node.nextSibling);var u,l,c=ur(r,s.line);if(c==i.view.length-1?(u=i.viewTo-1,l=i.lineDiv.lastChild):(u=de(i.view[c+1].line)-1,l=i.view[c+1].node.previousSibling),!n)return!1;for(var d=r.doc.splitLines(function(e,t,n,r,i){var o="",a=!1,s=e.doc.lineSeparator(),u=!1;function l(){a&&(o+=s,u&&(o+=s),a=u=!1)}function c(e){e&&(l(),o+=e)}function d(t){if(1==t.nodeType){var n=t.getAttribute("cm-text");if(n)return void c(n);var o,f=t.getAttribute("cm-marker");if(f){var h=e.findMarks(me(r,0),me(i+1,0),(g=+f,function(e){return e.id==g}));return void(h.length&&(o=h[0].find(0))&&c(ue(e.doc,o.from,o.to).join(s)))}if("false"==t.getAttribute("contenteditable"))return;var p=/^(pre|div|p|li|table|br)$/i.test(t.nodeName);if(!/^br$/i.test(t.nodeName)&&0==t.textContent.length)return;p&&l();for(var m=0;m<t.childNodes.length;m++)d(t.childNodes[m]);/^(pre|p)$/i.test(t.nodeName)&&(u=!0),p&&(a=!0)}else 3==t.nodeType&&c(t.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "));var g}for(;d(t),t!=n;)t=t.nextSibling,u=!1;return o}(r,n,l,t,u)),f=ue(r.doc,me(t,0),me(u,se(r.doc,u).text.length));d.length>1&&f.length>1;)if($(d)==$(f))d.pop(),f.pop(),u--;else{if(d[0]!=f[0])break;d.shift(),f.shift(),t++}for(var h=0,p=0,m=d[0],g=f[0],y=Math.min(m.length,g.length);h<y&&m.charCodeAt(h)==g.charCodeAt(h);)++h;for(var v=$(d),b=$(f),_=Math.min(v.length-(1==d.length?h:0),b.length-(1==f.length?h:0));p<_&&v.charCodeAt(v.length-p-1)==b.charCodeAt(b.length-p-1);)++p;if(1==d.length&&1==f.length&&t==a.line)for(;h&&h>a.ch&&v.charCodeAt(v.length-p-1)==b.charCodeAt(b.length-p-1);)h--,p++;d[d.length-1]=v.slice(0,v.length-p).replace(/^\u200b+/,""),d[0]=d[0].slice(h).replace(/\u200b+$/,"");var w=me(t,h),k=me(u,f.length?$(f).length-p:0);return d.length>1||d[0]||ge(w,k)?(lo(r.doc,d,w,k,"+input"),!0):void 0},Ia.prototype.ensurePolled=function(){this.forceCompositionEnd()},Ia.prototype.reset=function(){this.forceCompositionEnd()},Ia.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},Ia.prototype.readFromDOMSoon=function(){var e=this;null==this.readDOMTimeout&&(this.readDOMTimeout=setTimeout(function(){if(e.readDOMTimeout=null,e.composing){if(!e.composing.done)return;e.composing=null}e.updateFromDOM()},80))},Ia.prototype.updateFromDOM=function(){var e=this;!this.cm.isReadOnly()&&this.pollContent()||qr(this.cm,function(){return Jr(e.cm)})},Ia.prototype.setUneditable=function(e){e.contentEditable="false"},Ia.prototype.onKeyPress=function(e){0==e.charCode||this.composing||(e.preventDefault(),this.cm.isReadOnly()||Kr(this.cm,Ca)(this.cm,String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),0))},Ia.prototype.readOnlyChanged=function(e){this.div.contentEditable=String("nocursor"!=e)},Ia.prototype.onContextMenu=function(){},Ia.prototype.resetPosition=function(){},Ia.prototype.needsContentAttribute=!0;var Ha=function(e){this.cm=e,this.prevInput="",this.pollingFast=!1,this.polling=new Y,this.hasSelection=!1,this.composing=null};Ha.prototype.init=function(e){var t=this,n=this,r=this.cm;this.createField(e);var i=this.textarea;function o(e){if(!it(r,e)){if(r.somethingSelected())Ta({lineWise:!1,text:r.getSelections()});else{if(!r.options.lineWiseCopyCut)return;var t=Na(r);Ta({lineWise:!0,text:t.text}),"cut"==e.type?r.setSelections(t.ranges,null,W):(n.prevInput="",i.value=t.text.join("\n"),D(i))}"cut"==e.type&&(r.state.cutIncoming=!0)}}e.wrapper.insertBefore(this.wrapper,e.wrapper.firstChild),m&&(i.style.width="0px"),et(i,"input",function(){a&&s>=9&&t.hasSelection&&(t.hasSelection=null),n.poll()}),et(i,"paste",function(e){it(r,e)||Aa(e,r)||(r.state.pasteIncoming=!0,n.fastPoll())}),et(i,"cut",o),et(i,"copy",o),et(e.scroller,"paste",function(t){kn(e,t)||it(r,t)||(r.state.pasteIncoming=!0,n.focus())}),et(e.lineSpace,"selectstart",function(t){kn(e,t)||ut(t)}),et(i,"compositionstart",function(){var e=r.getCursor("from");n.composing&&n.composing.range.clear(),n.composing={start:e,range:r.markText(e,r.getCursor("to"),{className:"CodeMirror-composing"})}}),et(i,"compositionend",function(){n.composing&&(n.poll(),n.composing.range.clear(),n.composing=null)})},Ha.prototype.createField=function(e){this.wrapper=ja(),this.textarea=this.wrapper.firstChild},Ha.prototype.prepareSelection=function(){var e=this.cm,t=e.display,n=e.doc,r=cr(e);if(e.options.moveInputWithCursor){var i=qn(e,n.sel.primary().head,"div"),o=t.wrapper.getBoundingClientRect(),a=t.lineDiv.getBoundingClientRect();r.teTop=Math.max(0,Math.min(t.wrapper.clientHeight-10,i.top+a.top-o.top)),r.teLeft=Math.max(0,Math.min(t.wrapper.clientWidth-10,i.left+a.left-o.left))}return r},Ha.prototype.showSelection=function(e){var t=this.cm.display;C(t.cursorDiv,e.cursors),C(t.selectionDiv,e.selection),null!=e.teTop&&(this.wrapper.style.top=e.teTop+"px",this.wrapper.style.left=e.teLeft+"px")},Ha.prototype.reset=function(e){if(!this.contextMenuPending&&!this.composing){var t=this.cm;if(t.somethingSelected()){this.prevInput="";var n=t.getSelection();this.textarea.value=n,t.state.focused&&D(this.textarea),a&&s>=9&&(this.hasSelection=n)}else e||(this.prevInput=this.textarea.value="",a&&s>=9&&(this.hasSelection=null))}},Ha.prototype.getField=function(){return this.textarea},Ha.prototype.supportsTouch=function(){return!1},Ha.prototype.focus=function(){if("nocursor"!=this.cm.options.readOnly&&(!y||L()!=this.textarea))try{this.textarea.focus()}catch(e){}},Ha.prototype.blur=function(){this.textarea.blur()},Ha.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},Ha.prototype.receivedFocus=function(){this.slowPoll()},Ha.prototype.slowPoll=function(){var e=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){e.poll(),e.cm.state.focused&&e.slowPoll()})},Ha.prototype.fastPoll=function(){var e=!1,t=this;t.pollingFast=!0,t.polling.set(20,function n(){t.poll()||e?(t.pollingFast=!1,t.slowPoll()):(e=!0,t.polling.set(60,n))})},Ha.prototype.poll=function(){var e=this,t=this.cm,n=this.textarea,r=this.prevInput;if(this.contextMenuPending||!t.state.focused||wt(n)&&!r&&!this.composing||t.isReadOnly()||t.options.disableInput||t.state.keySeq)return!1;var i=n.value;if(i==r&&!t.somethingSelected())return!1;if(a&&s>=9&&this.hasSelection===i||v&&/[\uf700-\uf7ff]/.test(i))return t.display.input.reset(),!1;if(t.doc.sel==t.display.selForContextMenu){var o=i.charCodeAt(0);if(8203!=o||r||(r=""),8666==o)return this.reset(),this.cm.execCommand("undo")}for(var u=0,l=Math.min(r.length,i.length);u<l&&r.charCodeAt(u)==i.charCodeAt(u);)++u;return qr(t,function(){Ca(t,i.slice(u),r.length-u,null,e.composing?"*compose":null),i.length>1e3||i.indexOf("\n")>-1?n.value=e.prevInput="":e.prevInput=i,e.composing&&(e.composing.range.clear(),e.composing.range=t.markText(e.composing.start,t.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},Ha.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},Ha.prototype.onKeyPress=function(){a&&s>=9&&(this.hasSelection=null),this.fastPoll()},Ha.prototype.onContextMenu=function(e){var t=this,n=t.cm,r=n.display,i=t.textarea,o=sr(n,e),l=r.scroller.scrollTop;if(o&&!d){n.options.resetSelectionOnContextMenu&&-1==n.doc.sel.contains(o)&&Kr(n,Ki)(n.doc,_i(o),W);var c=i.style.cssText,f=t.wrapper.style.cssText;t.wrapper.style.cssText="position: absolute";var h,p=t.wrapper.getBoundingClientRect();if(i.style.cssText="position: absolute; width: 30px; height: 30px;\n      top: "+(e.clientY-p.top-5)+"px; left: "+(e.clientX-p.left-5)+"px;\n      z-index: 1000; background: "+(a?"rgba(255, 255, 255, .05)":"transparent")+";\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);",u&&(h=window.scrollY),r.input.focus(),u&&window.scrollTo(null,h),r.input.reset(),n.somethingSelected()||(i.value=t.prevInput=" "),t.contextMenuPending=!0,r.selForContextMenu=n.doc.sel,clearTimeout(r.detectingSelectAll),a&&s>=9&&g(),E){dt(e);var m=function(){nt(window,"mouseup",m),setTimeout(y,20)};et(window,"mouseup",m)}else setTimeout(y,50)}function g(){if(null!=i.selectionStart){var e=n.somethingSelected(),o=""+(e?i.value:"");i.value="",i.value=o,t.prevInput=e?"":"",i.selectionStart=1,i.selectionEnd=o.length,r.selForContextMenu=n.doc.sel}}function y(){if(t.contextMenuPending=!1,t.wrapper.style.cssText=f,i.style.cssText=c,a&&s<9&&r.scrollbars.setScrollTop(r.scroller.scrollTop=l),null!=i.selectionStart){(!a||a&&s<9)&&g();var e=0,o=function(){r.selForContextMenu==n.doc.sel&&0==i.selectionStart&&i.selectionEnd>0&&""==t.prevInput?Kr(n,no)(n):e++<10?r.detectingSelectAll=setTimeout(o,500):(r.selForContextMenu=null,r.input.reset())};r.detectingSelectAll=setTimeout(o,200)}}},Ha.prototype.readOnlyChanged=function(e){e||this.reset(),this.textarea.disabled="nocursor"==e},Ha.prototype.setUneditable=function(){},Ha.prototype.needsContentAttribute=!1,function(e){var t=e.optionHandlers;function n(n,r,i,o){e.defaults[n]=r,i&&(t[n]=o?function(e,t,n){n!=ya&&i(e,t,n)}:i)}e.defineOption=n,e.Init=ya,n("value","",function(e,t){return e.setValue(t)},!0),n("mode",null,function(e,t){e.doc.modeOption=t,Si(e)},!0),n("indentUnit",2,Si,!0),n("indentWithTabs",!1),n("smartIndent",!0),n("tabSize",4,function(e){Mi(e),Bn(e),Jr(e)},!0),n("lineSeparator",null,function(e,t){if(e.doc.lineSep=t,t){var n=[],r=e.doc.first;e.doc.iter(function(e){for(var i=0;;){var o=e.text.indexOf(t,i);if(-1==o)break;i=o+t.length,n.push(me(r,o))}r++});for(var i=n.length-1;i>=0;i--)lo(e.doc,t,n[i],me(n[i].line,n[i].ch+t.length))}}),n("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b-\u200f\u2028\u2029\ufeff]/g,function(e,t,n){e.state.specialChars=new RegExp(t.source+(t.test("\t")?"":"|\t"),"g"),n!=ya&&e.refresh()}),n("specialCharPlaceholder",Qt,function(e){return e.refresh()},!0),n("electricChars",!0),n("inputStyle",y?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),n("spellcheck",!1,function(e,t){return e.getInputField().spellcheck=t},!0),n("rtlMoveVisually",!_),n("wholeLineUpdateBefore",!0),n("theme","default",function(e){ga(e),_a(e)},!0),n("keyMap","default",function(e,t,n){var r=Vo(t),i=n!=ya&&Vo(n);i&&i.detach&&i.detach(e,r),r.attach&&r.attach(e,i||null)}),n("extraKeys",null),n("configureMouse",null),n("lineWrapping",!1,ka,!0),n("gutters",[],function(e){di(e.options),_a(e)},!0),n("fixedGutter",!0,function(e,t){e.display.gutters.style.left=t?ir(e.display)+"px":"0",e.refresh()},!0),n("coverGutterNextToScrollbar",!1,function(e){return Ir(e)},!0),n("scrollbarStyle","native",function(e){Yr(e),Ir(e),e.display.scrollbars.setScrollTop(e.doc.scrollTop),e.display.scrollbars.setScrollLeft(e.doc.scrollLeft)},!0),n("lineNumbers",!1,function(e){di(e.options),_a(e)},!0),n("firstLineNumber",1,_a,!0),n("lineNumberFormatter",function(e){return e},_a,!0),n("showCursorWhenSelecting",!1,lr,!0),n("resetSelectionOnContextMenu",!0),n("lineWiseCopyCut",!0),n("pasteLinesPerSelection",!0),n("selectionsMayTouch",!1),n("readOnly",!1,function(e,t){"nocursor"==t&&(vr(e),e.display.input.blur()),e.display.input.readOnlyChanged(t)}),n("disableInput",!1,function(e,t){t||e.display.input.reset()},!0),n("dragDrop",!0,wa),n("allowDropFileTypes",null),n("cursorBlinkRate",530),n("cursorScrollMargin",0),n("cursorHeight",1,lr,!0),n("singleCursorHeightPerLine",!0,lr,!0),n("workTime",100),n("workDelay",100),n("flattenSpans",!0,Mi,!0),n("addModeClass",!1,Mi,!0),n("pollInterval",100),n("undoDepth",200,function(e,t){return e.doc.history.undoDepth=t}),n("historyEventDelay",1250),n("viewportMargin",10,function(e){return e.refresh()},!0),n("maxHighlightLength",1e4,Mi,!0),n("moveInputWithCursor",!0,function(e,t){t||e.display.input.resetPosition()}),n("tabindex",null,function(e,t){return e.display.input.getField().tabIndex=t||""}),n("autofocus",null),n("direction","ltr",function(e,t){return e.doc.setDirection(t)},!0),n("phrases",null)}(Ea),function(e){var t=e.optionHandlers,n=e.helpers={};e.prototype={constructor:e,focus:function(){window.focus(),this.display.input.focus()},setOption:function(e,n){var r=this.options,i=r[e];r[e]==n&&"mode"!=e||(r[e]=n,t.hasOwnProperty(e)&&Kr(this,t[e])(this,n,i),rt(this,"optionChange",this,e))},getOption:function(e){return this.options[e]},getDoc:function(){return this.doc},addKeyMap:function(e,t){this.state.keyMaps[t?"push":"unshift"](Vo(e))},removeKeyMap:function(e){for(var t=this.state.keyMaps,n=0;n<t.length;++n)if(t[n]==e||t[n].name==e)return t.splice(n,1),!0},addOverlay:$r(function(t,n){var r=t.token?t:e.getMode(this.options,t);if(r.startState)throw new Error("Overlays may not be stateful.");!function(e,t,n){for(var r=0,i=n(t);r<e.length&&n(e[r])<=i;)r++;e.splice(r,0,t)}(this.state.overlays,{mode:r,modeSpec:t,opaque:n&&n.opaque,priority:n&&n.priority||0},function(e){return e.priority}),this.state.modeGen++,Jr(this)}),removeOverlay:$r(function(e){for(var t=this.state.overlays,n=0;n<t.length;++n){var r=t[n].modeSpec;if(r==e||"string"==typeof e&&r.name==e)return t.splice(n,1),this.state.modeGen++,void Jr(this)}}),indentLine:$r(function(e,t,n){"string"!=typeof t&&"number"!=typeof t&&(t=null==t?this.options.smartIndent?"smart":"prev":t?"add":"subtract"),he(this.doc,e)&&Sa(this,e,t,n)}),indentSelection:$r(function(e){for(var t=this.doc.sel.ranges,n=-1,r=0;r<t.length;r++){var i=t[r];if(i.empty())i.head.line>n&&(Sa(this,i.head.line,e,!0),n=i.head.line,r==this.doc.sel.primIndex&&Mr(this));else{var o=i.from(),a=i.to(),s=Math.max(n,o.line);n=Math.min(this.lastLine(),a.line-(a.ch?0:1))+1;for(var u=s;u<n;++u)Sa(this,u,e);var l=this.doc.sel.ranges;0==o.ch&&t.length==l.length&&l[r].from().ch>0&&Vi(this.doc,r,new vi(o,l[r].to()),W)}}}),getTokenAt:function(e,t){return Wt(this,e,t)},getLineTokens:function(e,t){return Wt(this,me(e),t,!0)},getTokenTypeAt:function(e){e=ke(this.doc,e);var t,n=Rt(this,se(this.doc,e.line)),r=0,i=(n.length-1)/2,o=e.ch;if(0==o)t=n[2];else for(;;){var a=r+i>>1;if((a?n[2*a-1]:0)>=o)i=a;else{if(!(n[2*a+1]<o)){t=n[2*a+2];break}r=a+1}}var s=t?t.indexOf("overlay "):-1;return s<0?t:0==s?null:t.slice(0,s-1)},getModeAt:function(t){var n=this.doc.mode;return n.innerMode?e.innerMode(n,this.getTokenAt(t).state).mode:n},getHelper:function(e,t){return this.getHelpers(e,t)[0]},getHelpers:function(e,t){var r=[];if(!n.hasOwnProperty(t))return r;var i=n[t],o=this.getModeAt(e);if("string"==typeof o[t])i[o[t]]&&r.push(i[o[t]]);else if(o[t])for(var a=0;a<o[t].length;a++){var s=i[o[t][a]];s&&r.push(s)}else o.helperType&&i[o.helperType]?r.push(i[o.helperType]):i[o.name]&&r.push(i[o.name]);for(var u=0;u<i._global.length;u++){var l=i._global[u];l.pred(o,this)&&-1==B(r,l.val)&&r.push(l.val)}return r},getStateAfter:function(e,t){var n=this.doc;return Ft(this,(e=we(n,null==e?n.first+n.size-1:e))+1,t).state},cursorCoords:function(e,t){var n=this.doc.sel.primary();return qn(this,null==e?n.head:"object"==typeof e?ke(this.doc,e):e?n.from():n.to(),t||"page")},charCoords:function(e,t){return Gn(this,ke(this.doc,e),t||"page")},coordsChar:function(e,t){return Xn(this,(e=Vn(this,e,t||"page")).left,e.top)},lineAtHeight:function(e,t){return e=Vn(this,{top:e,left:0},t||"page").top,fe(this.doc,e+this.display.viewOffset)},heightAtLine:function(e,t,n){var r,i=!1;if("number"==typeof e){var o=this.doc.first+this.doc.size-1;e<this.doc.first?e=this.doc.first:e>o&&(e=o,i=!0),r=se(this.doc,e)}else r=e;return Un(this,r,{top:0,left:0},t||"page",n||i).top+(i?this.doc.height-Ge(r):0)},defaultTextHeight:function(){return tr(this.display)},defaultCharWidth:function(){return nr(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(e,t,n,r,i){var o,a,s,u=this.display,l=(e=qn(this,ke(this.doc,e))).bottom,c=e.left;if(t.style.position="absolute",t.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(t),u.sizer.appendChild(t),"over"==r)l=e.top;else if("above"==r||"near"==r){var d=Math.max(u.wrapper.clientHeight,this.doc.height),f=Math.max(u.sizer.clientWidth,u.lineSpace.clientWidth);("above"==r||e.bottom+t.offsetHeight>d)&&e.top>t.offsetHeight?l=e.top-t.offsetHeight:e.bottom+t.offsetHeight<=d&&(l=e.bottom),c+t.offsetWidth>f&&(c=f-t.offsetWidth)}t.style.top=l+"px",t.style.left=t.style.right="","right"==i?(c=u.sizer.clientWidth-t.offsetWidth,t.style.right="0px"):("left"==i?c=0:"middle"==i&&(c=(u.sizer.clientWidth-t.offsetWidth)/2),t.style.left=c+"px"),n&&(o=this,a={left:c,top:l,right:c+t.offsetWidth,bottom:l+t.offsetHeight},null!=(s=xr(o,a)).scrollTop&&Or(o,s.scrollTop),null!=s.scrollLeft&&Lr(o,s.scrollLeft))},triggerOnKeyDown:$r(oa),triggerOnKeyPress:$r(sa),triggerOnKeyUp:aa,triggerOnMouseDown:$r(da),execCommand:function(e){if(Xo.hasOwnProperty(e))return Xo[e].call(null,this)},triggerElectric:$r(function(e){Oa(this,e)}),findPosH:function(e,t,n,r){var i=1;t<0&&(i=-1,t=-t);for(var o=ke(this.doc,e),a=0;a<t&&!(o=Pa(this.doc,o,i,n,r)).hitSide;++a);return o},moveH:$r(function(e,t){var n=this;this.extendSelectionsBy(function(r){return n.display.shift||n.doc.extend||r.empty()?Pa(n.doc,r.head,e,t,n.options.rtlMoveVisually):e<0?r.from():r.to()},V)}),deleteH:$r(function(e,t){var n=this.doc.sel,r=this.doc;n.somethingSelected()?r.replaceSelection("",null,"+delete"):Go(this,function(n){var i=Pa(r,n.head,e,t,!1);return e<0?{from:i,to:n.head}:{from:n.head,to:i}})}),findPosV:function(e,t,n,r){var i=1,o=r;t<0&&(i=-1,t=-t);for(var a=ke(this.doc,e),s=0;s<t;++s){var u=qn(this,a,"div");if(null==o?o=u.left:u.left=o,(a=Da(this,u,i,n)).hitSide)break}return a},moveV:$r(function(e,t){var n=this,r=this.doc,i=[],o=!this.display.shift&&!r.extend&&r.sel.somethingSelected();if(r.extendSelectionsBy(function(a){if(o)return e<0?a.from():a.to();var s=qn(n,a.head,"div");null!=a.goalColumn&&(s.left=a.goalColumn),i.push(s.left);var u=Da(n,s,e,t);return"page"==t&&a==r.sel.primary()&&Sr(n,Gn(n,u,"div").top-s.top),u},V),i.length)for(var a=0;a<r.sel.ranges.length;a++)r.sel.ranges[a].goalColumn=i[a]}),findWordAt:function(e){var t=se(this.doc,e.line).text,n=e.ch,r=e.ch;if(t){var i=this.getHelper(e,"wordChars");"before"!=e.sticky&&r!=t.length||!n?++r:--n;for(var o=t.charAt(n),a=te(o,i)?function(e){return te(e,i)}:/\s/.test(o)?function(e){return/\s/.test(e)}:function(e){return!/\s/.test(e)&&!te(e)};n>0&&a(t.charAt(n-1));)--n;for(;r<t.length&&a(t.charAt(r));)++r}return new vi(me(e.line,n),me(e.line,r))},toggleOverwrite:function(e){null!=e&&e==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?j(this.display.cursorDiv,"CodeMirror-overwrite"):M(this.display.cursorDiv,"CodeMirror-overwrite"),rt(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==L()},isReadOnly:function(){return!(!this.options.readOnly&&!this.doc.cantEdit)},scrollTo:$r(function(e,t){Tr(this,e,t)}),getScrollInfo:function(){var e=this.display.scroller;return{left:e.scrollLeft,top:e.scrollTop,height:e.scrollHeight-Mn(this)-this.display.barHeight,width:e.scrollWidth-Mn(this)-this.display.barWidth,clientHeight:Cn(this),clientWidth:Tn(this)}},scrollIntoView:$r(function(e,t){null==e?(e={from:this.doc.sel.primary().head,to:null},null==t&&(t=this.options.cursorScrollMargin)):"number"==typeof e?e={from:me(e,0),to:null}:null==e.from&&(e={from:e,to:null}),e.to||(e.to=e.from),e.margin=t||0,null!=e.from.line?function(e,t){Cr(e),e.curOp.scrollToPos=t}(this,e):Ar(this,e.from,e.to,e.margin)}),setSize:$r(function(e,t){var n=this,r=function(e){return"number"==typeof e||/^\d+$/.test(String(e))?e+"px":e};null!=e&&(this.display.wrapper.style.width=r(e)),null!=t&&(this.display.wrapper.style.height=r(t)),this.options.lineWrapping&&Yn(this);var i=this.display.viewFrom;this.doc.iter(i,this.display.viewTo,function(e){if(e.widgets)for(var t=0;t<e.widgets.length;t++)if(e.widgets[t].noHScroll){Qr(n,i,"widget");break}++i}),this.curOp.forceUpdate=!0,rt(this,"refresh",this)}),operation:function(e){return qr(this,e)},startOperation:function(){return Hr(this)},endOperation:function(){return zr(this)},refresh:$r(function(){var e=this.display.cachedTextHeight;Jr(this),this.curOp.forceUpdate=!0,Bn(this),Tr(this,this.doc.scrollLeft,this.doc.scrollTop),ui(this),(null==e||Math.abs(e-tr(this.display))>.5)&&ar(this),rt(this,"refresh",this)}),swapDoc:$r(function(e){var t=this.doc;return t.cm=null,Oi(this,e),Bn(this),this.display.input.reset(),Tr(this,e.scrollLeft,e.scrollTop),this.curOp.forceScroll=!0,un(this,"swapDoc",this,t),t}),phrase:function(e){var t=this.options.phrases;return t&&Object.prototype.hasOwnProperty.call(t,e)?t[e]:e},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},st(e),e.registerHelper=function(t,r,i){n.hasOwnProperty(t)||(n[t]=e[t]={_global:[]}),n[t][r]=i},e.registerGlobalHelper=function(t,r,i,o){e.registerHelper(t,r,o),n[t]._global.push({pred:i,val:o})}}(Ea);var za="iter insert remove copy getEditor constructor".split(" ");for(var Wa in Mo.prototype)Mo.prototype.hasOwnProperty(Wa)&&B(za,Wa)<0&&(Ea.prototype[Wa]=function(e){return function(){return e.apply(this.doc,arguments)}}(Mo.prototype[Wa]));return st(Mo),Ea.inputStyles={textarea:Ha,contenteditable:Ia},Ea.defineMode=function(e){Ea.defaults.mode||"null"==e||(Ea.defaults.mode=e),function(e,t){arguments.length>2&&(t.dependencies=Array.prototype.slice.call(arguments,2)),xt[e]=t}.apply(this,arguments)},Ea.defineMIME=function(e,t){St[e]=t},Ea.defineMode("null",function(){return{token:function(e){return e.skipToEnd()}}}),Ea.defineMIME("text/plain","null"),Ea.defineExtension=function(e,t){Ea.prototype[e]=t},Ea.defineDocExtension=function(e,t){Mo.prototype[e]=t},Ea.fromTextArea=function(e,t){if((t=t?R(t):{}).value=e.value,!t.tabindex&&e.tabIndex&&(t.tabindex=e.tabIndex),!t.placeholder&&e.placeholder&&(t.placeholder=e.placeholder),null==t.autofocus){var n=L();t.autofocus=n==e||null!=e.getAttribute("autofocus")&&n==document.body}function r(){e.value=s.getValue()}var i;if(e.form&&(et(e.form,"submit",r),!t.leaveSubmitMethodAlone)){var o=e.form;i=o.submit;try{var a=o.submit=function(){r(),o.submit=i,o.submit(),o.submit=a}}catch(e){}}t.finishInit=function(t){t.save=r,t.getTextArea=function(){return e},t.toTextArea=function(){t.toTextArea=isNaN,r(),e.parentNode.removeChild(t.getWrapperElement()),e.style.display="",e.form&&(nt(e.form,"submit",r),"function"==typeof e.form.submit&&(e.form.submit=i))}},e.style.display="none";var s=Ea(function(t){return e.parentNode.insertBefore(t,e.nextSibling)},t);return s},function(e){e.off=nt,e.on=et,e.wheelEventPixels=mi,e.Doc=Mo,e.splitLines=_t,e.countColumn=F,e.findColumn=G,e.isWordChar=ee,e.Pass=z,e.signal=rt,e.Line=Gt,e.changeEnd=wi,e.scrollbarModel=Fr,e.Pos=me,e.cmpPos=ge,e.modes=xt,e.mimeModes=St,e.resolveMode=Mt,e.getMode=Tt,e.modeExtensions=Ct,e.extendMode=At,e.copyState=Ot,e.startState=Lt,e.innerMode=Nt,e.commands=Xo,e.keyMap=Fo,e.keyName=Uo,e.isModifierKey=zo,e.lookupKey=Ho,e.normalizeKeyMap=Bo,e.StringStream=jt,e.SharedTextMarker=ko,e.TextMarker=_o,e.LineWidget=yo,e.e_preventDefault=ut,e.e_stopPropagation=lt,e.e_stop=dt,e.addClass=j,e.contains=N,e.rmClass=M,e.keyNames=Po}(Ea),Ea.version="5.42.0",Ea},e.exports=r()},,function(e,t,n){"use strict";(function(e){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
var r=n(1773),i=n(1774),o=n(1106);function a(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(a()<t)throw new RangeError("Invalid typed array length");return u.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=u.prototype:(null===e&&(e=new u(t)),e.length=t),e}function u(e,t,n){if(!(u.TYPED_ARRAY_SUPPORT||this instanceof u))return new u(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return d(this,e)}return l(this,e,t,n)}function l(e,t,n,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r);u.TYPED_ARRAY_SUPPORT?(e=t).__proto__=u.prototype:e=f(e,t);return e}(e,t,n,r):"string"==typeof t?function(e,t,n){"string"==typeof n&&""!==n||(n="utf8");if(!u.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|p(t,n),i=(e=s(e,r)).write(t,n);i!==r&&(e=e.slice(0,i));return e}(e,t,n):function(e,t){if(u.isBuffer(t)){var n=0|h(t.length);return 0===(e=s(e,n)).length?e:(t.copy(e,0,0,n),e)}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(r=t.length)!=r?s(e,0):f(e,t);if("Buffer"===t.type&&o(t.data))return f(e,t.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function c(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function d(e,t){if(c(t),e=s(e,t<0?0:0|h(t)),!u.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function f(e,t){var n=t.length<0?0:0|h(t.length);e=s(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function h(e){if(e>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|e}function p(e,t){if(u.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return B(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return H(e).length;default:if(r)return B(e).length;t=(""+t).toLowerCase(),r=!0}}function m(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function g(e,t,n,r,i){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof t&&(t=u.from(t,r)),u.isBuffer(t))return 0===t.length?-1:y(e,t,n,r,i);if("number"==typeof t)return t&=255,u.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):y(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function y(e,t,n,r,i){var o,a=1,s=e.length,u=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;a=2,s/=2,u/=2,n/=2}function l(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(i){var c=-1;for(o=n;o<s;o++)if(l(e,o)===l(t,-1===c?0:o-c)){if(-1===c&&(c=o),o-c+1===u)return c*a}else-1!==c&&(o-=o-c),c=-1}else for(n+u>s&&(n=s-u),o=n;o>=0;o--){for(var d=!0,f=0;f<u;f++)if(l(e,o+f)!==l(t,f)){d=!1;break}if(d)return o}return-1}function v(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=t.length;if(o%2!=0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var a=0;a<r;++a){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))return a;e[n+a]=s}return a}function b(e,t,n,r){return z(B(t,e.length-n),e,n,r)}function _(e,t,n,r){return z(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function w(e,t,n,r){return _(e,t,n,r)}function k(e,t,n,r){return z(H(t),e,n,r)}function E(e,t,n,r){return z(function(e,t){for(var n,r,i,o=[],a=0;a<e.length&&!((t-=2)<0);++a)n=e.charCodeAt(a),r=n>>8,i=n%256,o.push(i),o.push(r);return o}(t,e.length-n),e,n,r)}function x(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function S(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var o,a,s,u,l=e[i],c=null,d=l>239?4:l>223?3:l>191?2:1;if(i+d<=n)switch(d){case 1:l<128&&(c=l);break;case 2:128==(192&(o=e[i+1]))&&(u=(31&l)<<6|63&o)>127&&(c=u);break;case 3:o=e[i+1],a=e[i+2],128==(192&o)&&128==(192&a)&&(u=(15&l)<<12|(63&o)<<6|63&a)>2047&&(u<55296||u>57343)&&(c=u);break;case 4:o=e[i+1],a=e[i+2],s=e[i+3],128==(192&o)&&128==(192&a)&&128==(192&s)&&(u=(15&l)<<18|(63&o)<<12|(63&a)<<6|63&s)>65535&&u<1114112&&(c=u)}null===c?(c=65533,d=1):c>65535&&(c-=65536,r.push(c>>>10&1023|55296),c=56320|1023&c),r.push(c),i+=d}return function(e){var t=e.length;if(t<=M)return String.fromCharCode.apply(String,e);var n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=M));return n}(r)}t.Buffer=u,t.SlowBuffer=function(e){+e!=e&&(e=0);return u.alloc(+e)},t.INSPECT_MAX_BYTES=50,u.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=a(),u.poolSize=8192,u._augment=function(e){return e.__proto__=u.prototype,e},u.from=function(e,t,n){return l(null,e,t,n)},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0})),u.alloc=function(e,t,n){return function(e,t,n,r){return c(t),t<=0?s(e,t):void 0!==n?"string"==typeof r?s(e,t).fill(n,r):s(e,t).fill(n):s(e,t)}(null,e,t,n)},u.allocUnsafe=function(e){return d(null,e)},u.allocUnsafeSlow=function(e){return d(null,e)},u.isBuffer=function(e){return!(null==e||!e._isBuffer)},u.compare=function(e,t){if(!u.isBuffer(e)||!u.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},u.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(e,t){if(!o(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return u.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=u.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var a=e[n];if(!u.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,i),i+=a.length}return r},u.byteLength=p,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)m(this,t,t+1);return this},u.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)m(this,t,t+3),m(this,t+1,t+2);return this},u.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)m(this,t,t+7),m(this,t+1,t+6),m(this,t+2,t+5),m(this,t+3,t+4);return this},u.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?S(this,0,e):function(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return A(this,t,n);case"utf8":case"utf-8":return S(this,t,n);case"ascii":return T(this,t,n);case"latin1":case"binary":return C(this,t,n);case"base64":return x(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}.apply(this,arguments)},u.prototype.equals=function(e){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===u.compare(this,e)},u.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},u.prototype.compare=function(e,t,n,r,i){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(t>>>=0,n>>>=0,r>>>=0,i>>>=0,this===e)return 0;for(var o=i-r,a=n-t,s=Math.min(o,a),l=this.slice(r,i),c=e.slice(t,n),d=0;d<s;++d)if(l[d]!==c[d]){o=l[d],a=c[d];break}return o<a?-1:a<o?1:0},u.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},u.prototype.indexOf=function(e,t,n){return g(this,e,t,n,!0)},u.prototype.lastIndexOf=function(e,t,n){return g(this,e,t,n,!1)},u.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return v(this,e,t,n);case"utf8":case"utf-8":return b(this,e,t,n);case"ascii":return _(this,e,t,n);case"latin1":case"binary":return w(this,e,t,n);case"base64":return k(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var M=4096;function T(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function C(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function A(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=t;o<n;++o)i+=Y(e[o]);return i}function O(e,t,n){for(var r=e.slice(t,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function N(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function L(e,t,n,r,i,o){if(!u.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function j(e,t,n,r){t<0&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-n,2);i<o;++i)e[n+i]=(t&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function P(e,t,n,r){t<0&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-n,4);i<o;++i)e[n+i]=t>>>8*(r?i:3-i)&255}function D(e,t,n,r,i,o){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function I(e,t,n,r,o){return o||D(e,0,n,4),i.write(e,t,n,r,23,4),n+4}function R(e,t,n,r,o){return o||D(e,0,n,8),i.write(e,t,n,r,52,8),n+8}u.prototype.slice=function(e,t){var n,r=this.length;if(e=~~e,t=void 0===t?r:~~t,e<0?(e+=r)<0&&(e=0):e>r&&(e=r),t<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e),u.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=u.prototype;else{var i=t-e;n=new u(i,void 0);for(var o=0;o<i;++o)n[o]=this[o+e]}return n},u.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||N(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r},u.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||N(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},u.prototype.readUInt8=function(e,t){return t||N(e,1,this.length),this[e]},u.prototype.readUInt16LE=function(e,t){return t||N(e,2,this.length),this[e]|this[e+1]<<8},u.prototype.readUInt16BE=function(e,t){return t||N(e,2,this.length),this[e]<<8|this[e+1]},u.prototype.readUInt32LE=function(e,t){return t||N(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},u.prototype.readUInt32BE=function(e,t){return t||N(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},u.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||N(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*t)),r},u.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||N(e,t,this.length);for(var r=t,i=1,o=this[e+--r];r>0&&(i*=256);)o+=this[e+--r]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},u.prototype.readInt8=function(e,t){return t||N(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},u.prototype.readInt16LE=function(e,t){t||N(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt16BE=function(e,t){t||N(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt32LE=function(e,t){return t||N(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},u.prototype.readInt32BE=function(e,t){return t||N(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},u.prototype.readFloatLE=function(e,t){return t||N(e,4,this.length),i.read(this,e,!0,23,4)},u.prototype.readFloatBE=function(e,t){return t||N(e,4,this.length),i.read(this,e,!1,23,4)},u.prototype.readDoubleLE=function(e,t){return t||N(e,8,this.length),i.read(this,e,!0,52,8)},u.prototype.readDoubleBE=function(e,t){return t||N(e,8,this.length),i.read(this,e,!1,52,8)},u.prototype.writeUIntLE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||L(this,e,t,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[t]=255&e;++o<n&&(i*=256);)this[t+o]=e/i&255;return t+n},u.prototype.writeUIntBE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||L(this,e,t,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+n},u.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||L(this,e,t,1,255,0),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},u.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||L(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):j(this,e,t,!0),t+2},u.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||L(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):j(this,e,t,!1),t+2},u.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||L(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):P(this,e,t,!0),t+4},u.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||L(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):P(this,e,t,!1),t+4},u.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);L(this,e,t,n,i-1,-i)}var o=0,a=1,s=0;for(this[t]=255&e;++o<n&&(a*=256);)e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},u.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);L(this,e,t,n,i-1,-i)}var o=n-1,a=1,s=0;for(this[t+o]=255&e;--o>=0&&(a*=256);)e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},u.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||L(this,e,t,1,127,-128),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},u.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||L(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):j(this,e,t,!0),t+2},u.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||L(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):j(this,e,t,!1),t+2},u.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||L(this,e,t,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):P(this,e,t,!0),t+4},u.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||L(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):P(this,e,t,!1),t+4},u.prototype.writeFloatLE=function(e,t,n){return I(this,e,t,!0,n)},u.prototype.writeFloatBE=function(e,t,n){return I(this,e,t,!1,n)},u.prototype.writeDoubleLE=function(e,t,n){return R(this,e,t,!0,n)},u.prototype.writeDoubleBE=function(e,t,n){return R(this,e,t,!1,n)},u.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i,o=r-n;if(this===e&&n<t&&t<r)for(i=o-1;i>=0;--i)e[i+t]=this[i+n];else if(o<1e3||!u.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)e[i+t]=this[i+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+o),t);return o},u.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!u.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var o;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(o=t;o<n;++o)this[o]=e;else{var a=u.isBuffer(e)?e:B(new u(e,r).toString()),s=a.length;for(o=0;o<n-t;++o)this[o+t]=a[o%s]}return this};var F=/[^+\/0-9A-Za-z-_]/g;function Y(e){return e<16?"0"+e.toString(16):e.toString(16)}function B(e,t){var n;t=t||1/0;for(var r=e.length,i=null,o=[],a=0;a<r;++a){if((n=e.charCodeAt(a))>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function H(e){return r.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(F,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function z(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}}).call(t,n(22))},function(e,t,n){"use strict";t.a=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),i.forEach(function(t){Object(r.a)(e,t,n[t])})}return e};var r=n(683)},function(e,t,n){"use strict";var r=n(470),i=n(471);t.async=new i.AsyncScheduler(r.AsyncAction)},,,,,,,,,,,function(e,t,n){(function(e,n,r,i){(function(t){"use strict";function o(e,t){t|=0;for(var n=Math.max(e.length-t,0),r=Array(n),i=0;i<n;i++)r[i]=e[t+i];return r}var a=function(e){var t=o(arguments,1);return function(){var n=o(arguments);return e.apply(null,t.concat(n))}},s=function(e){return function(){var t=o(arguments),n=t.pop();e.call(this,t,n)}};function u(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}var l="function"==typeof e&&e,c="object"==typeof n&&"function"==typeof n.nextTick;function d(e){setTimeout(e,0)}function f(e){return function(t){var n=o(arguments,1);e(function(){t.apply(null,n)})}}var h=f(l?e:c?n.nextTick:d);function p(e){return s(function(t,n){var r;try{r=e.apply(this,t)}catch(e){return n(e)}u(r)&&"function"==typeof r.then?r.then(function(e){m(n,null,e)},function(e){m(n,e.message?e:new Error(e))}):n(null,r)})}function m(e,t,n){try{e(t,n)}catch(e){h(g,e)}}function g(e){throw e}var y="function"==typeof Symbol;function v(e){return y&&"AsyncFunction"===e[Symbol.toStringTag]}function b(e){return v(e)?p(e):e}function _(e){return function(t){var n=o(arguments,1),r=s(function(n,r){var i=this;return e(t,function(e,t){b(e).apply(i,n.concat(t))},r)});return n.length?r.apply(this,n):r}}var w="object"==typeof r&&r&&r.Object===Object&&r,k="object"==typeof self&&self&&self.Object===Object&&self,E=w||k||Function("return this")(),x=E.Symbol,S=Object.prototype,M=S.hasOwnProperty,T=S.toString,C=x?x.toStringTag:void 0;var A=Object.prototype.toString;var O="[object Null]",N="[object Undefined]",L=x?x.toStringTag:void 0;function j(e){return null==e?void 0===e?N:O:L&&L in Object(e)?function(e){var t=M.call(e,C),n=e[C];try{e[C]=void 0;var r=!0}catch(e){}var i=T.call(e);return r&&(t?e[C]=n:delete e[C]),i}(e):function(e){return A.call(e)}(e)}var P="[object AsyncFunction]",D="[object Function]",I="[object GeneratorFunction]",R="[object Proxy]";var F=9007199254740991;function Y(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=F}function B(e){return null!=e&&Y(e.length)&&!function(e){if(!u(e))return!1;var t=j(e);return t==D||t==I||t==P||t==R}(e)}var H={};function z(){}function W(e){return function(){if(null!==e){var t=e;e=null,t.apply(this,arguments)}}}var U="function"==typeof Symbol&&Symbol.iterator,V=function(e){return U&&e[U]&&e[U]()};function G(e){return null!=e&&"object"==typeof e}var q="[object Arguments]";function K(e){return G(e)&&j(e)==q}var $=Object.prototype,X=$.hasOwnProperty,J=$.propertyIsEnumerable,Q=K(function(){return arguments}())?K:function(e){return G(e)&&X.call(e,"callee")&&!J.call(e,"callee")},Z=Array.isArray;var ee="object"==typeof t&&t&&!t.nodeType&&t,te=ee&&"object"==typeof i&&i&&!i.nodeType&&i,ne=te&&te.exports===ee?E.Buffer:void 0,re=(ne?ne.isBuffer:void 0)||function(){return!1},ie=9007199254740991,oe=/^(?:0|[1-9]\d*)$/;function ae(e,t){var n=typeof e;return!!(t=null==t?ie:t)&&("number"==n||"symbol"!=n&&oe.test(e))&&e>-1&&e%1==0&&e<t}var se={};se["[object Float32Array]"]=se["[object Float64Array]"]=se["[object Int8Array]"]=se["[object Int16Array]"]=se["[object Int32Array]"]=se["[object Uint8Array]"]=se["[object Uint8ClampedArray]"]=se["[object Uint16Array]"]=se["[object Uint32Array]"]=!0,se["[object Arguments]"]=se["[object Array]"]=se["[object ArrayBuffer]"]=se["[object Boolean]"]=se["[object DataView]"]=se["[object Date]"]=se["[object Error]"]=se["[object Function]"]=se["[object Map]"]=se["[object Number]"]=se["[object Object]"]=se["[object RegExp]"]=se["[object Set]"]=se["[object String]"]=se["[object WeakMap]"]=!1;var ue,le="object"==typeof t&&t&&!t.nodeType&&t,ce=le&&"object"==typeof i&&i&&!i.nodeType&&i,de=ce&&ce.exports===le&&w.process,fe=function(){try{var e=ce&&ce.require&&ce.require("util").types;return e||de&&de.binding&&de.binding("util")}catch(e){}}(),he=fe&&fe.isTypedArray,pe=he?(ue=he,function(e){return ue(e)}):function(e){return G(e)&&Y(e.length)&&!!se[j(e)]},me=Object.prototype.hasOwnProperty;function ge(e,t){var n=Z(e),r=!n&&Q(e),i=!n&&!r&&re(e),o=!n&&!r&&!i&&pe(e),a=n||r||i||o,s=a?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],u=s.length;for(var l in e)!t&&!me.call(e,l)||a&&("length"==l||i&&("offset"==l||"parent"==l)||o&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||ae(l,u))||s.push(l);return s}var ye=Object.prototype;var ve=function(e,t){return function(n){return e(t(n))}}(Object.keys,Object),be=Object.prototype.hasOwnProperty;function _e(e){if(n=(t=e)&&t.constructor,t!==("function"==typeof n&&n.prototype||ye))return ve(e);var t,n,r=[];for(var i in Object(e))be.call(e,i)&&"constructor"!=i&&r.push(i);return r}function we(e){return B(e)?ge(e):_e(e)}function ke(e){if(B(e))return function(e){var t=-1,n=e.length;return function(){return++t<n?{value:e[t],key:t}:null}}(e);var t,n,r,i,o=V(e);return o?function(e){var t=-1;return function(){var n=e.next();return n.done?null:(t++,{value:n.value,key:t})}}(o):(n=we(t=e),r=-1,i=n.length,function(){var e=n[++r];return r<i?{value:t[e],key:e}:null})}function Ee(e){return function(){if(null===e)throw new Error("Callback was already called.");var t=e;e=null,t.apply(this,arguments)}}function xe(e){return function(t,n,r){if(r=W(r||z),e<=0||!t)return r(null);var i=ke(t),o=!1,a=0,s=!1;function u(e,t){if(a-=1,e)o=!0,r(e);else{if(t===H||o&&a<=0)return o=!0,r(null);s||l()}}function l(){for(s=!0;a<e&&!o;){var t=i();if(null===t)return o=!0,void(a<=0&&r(null));a+=1,n(t.value,t.key,Ee(u))}s=!1}l()}}function Se(e,t,n,r){xe(t)(e,b(n),r)}function Me(e,t){return function(n,r,i){return e(n,t,r,i)}}function Te(e,t,n){n=W(n||z);var r=0,i=0,o=e.length;function a(e,t){e?n(e):++i!==o&&t!==H||n(null)}for(0===o&&n(null);r<o;r++)t(e[r],r,Ee(a))}var Ce=Me(Se,1/0),Ae=function(e,t,n){(B(e)?Te:Ce)(e,b(t),n)};function Oe(e){return function(t,n,r){return e(Ae,t,b(n),r)}}function Ne(e,t,n,r){r=r||z,t=t||[];var i=[],o=0,a=b(n);e(t,function(e,t,n){var r=o++;a(e,function(e,t){i[r]=t,n(e)})},function(e){r(e,i)})}var Le=Oe(Ne),je=_(Le);function Pe(e){return function(t,n,r,i){return e(xe(n),t,b(r),i)}}var De=Pe(Ne),Ie=Me(De,1),Re=_(Ie);function Fe(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}var Ye,Be=function(e,t,n){for(var r=-1,i=Object(e),o=n(e),a=o.length;a--;){var s=o[Ye?a:++r];if(!1===t(i[s],s,i))break}return e};function He(e,t){return e&&Be(e,t,we)}function ze(e){return e!=e}function We(e,t,n){return t==t?function(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}(e,t,n):function(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}(e,ze,n)}var Ue=function(e,t,n){"function"==typeof t&&(n=t,t=null),n=W(n||z);var r=we(e).length;if(!r)return n(null);t||(t=r);var i={},a=0,s=!1,u=Object.create(null),l=[],c=[],d={};function f(e,t){l.push(function(){!function(e,t){if(s)return;var r=Ee(function(t,r){if(a--,arguments.length>2&&(r=o(arguments,1)),t){var l={};He(i,function(e,t){l[t]=e}),l[e]=r,s=!0,u=Object.create(null),n(t,l)}else i[e]=r,Fe(u[e]||[],function(e){e()}),h()});a++;var l=b(t[t.length-1]);t.length>1?l(i,r):l(r)}(e,t)})}function h(){if(0===l.length&&0===a)return n(null,i);for(;l.length&&a<t;){l.shift()()}}function p(t){var n=[];return He(e,function(e,r){Z(e)&&We(e,t,0)>=0&&n.push(r)}),n}He(e,function(t,n){if(!Z(t))return f(n,[t]),void c.push(n);var r=t.slice(0,t.length-1),i=r.length;if(0===i)return f(n,t),void c.push(n);d[n]=i,Fe(r,function(o){if(!e[o])throw new Error("async.auto task `"+n+"` has a non-existent dependency `"+o+"` in "+r.join(", "));!function(e,t){var n=u[e];n||(n=u[e]=[]);n.push(t)}(o,function(){0===--i&&f(n,t)})})}),function(){var e,t=0;for(;c.length;)e=c.pop(),t++,Fe(p(e),function(e){0==--d[e]&&c.push(e)});if(t!==r)throw new Error("async.auto cannot execute tasks due to a recursive dependency")}(),h()};function Ve(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}var Ge="[object Symbol]";var qe=1/0,Ke=x?x.prototype:void 0,$e=Ke?Ke.toString:void 0;function Xe(e){if("string"==typeof e)return e;if(Z(e))return Ve(e,Xe)+"";if(function(e){return"symbol"==typeof e||G(e)&&j(e)==Ge}(e))return $e?$e.call(e):"";var t=e+"";return"0"==t&&1/e==-qe?"-0":t}function Je(e,t,n){var r=e.length;return n=void 0===n?r:n,!t&&n>=r?e:function(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var o=Array(i);++r<i;)o[r]=e[r+t];return o}(e,t,n)}var Qe=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");var Ze="[\\ud800-\\udfff]",et="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",tt="\\ud83c[\\udffb-\\udfff]",nt="[^\\ud800-\\udfff]",rt="(?:\\ud83c[\\udde6-\\uddff]){2}",it="[\\ud800-\\udbff][\\udc00-\\udfff]",ot="(?:"+et+"|"+tt+")"+"?",at="[\\ufe0e\\ufe0f]?"+ot+("(?:\\u200d(?:"+[nt,rt,it].join("|")+")[\\ufe0e\\ufe0f]?"+ot+")*"),st="(?:"+[nt+et+"?",et,rt,it,Ze].join("|")+")",ut=RegExp(tt+"(?="+tt+")|"+st+at,"g");function lt(e){return function(e){return Qe.test(e)}(e)?function(e){return e.match(ut)||[]}(e):function(e){return e.split("")}(e)}var ct=/^\s+|\s+$/g;function dt(e,t,n){var r;if((e=null==(r=e)?"":Xe(r))&&(n||void 0===t))return e.replace(ct,"");if(!e||!(t=Xe(t)))return e;var i=lt(e),o=lt(t);return Je(i,function(e,t){for(var n=-1,r=e.length;++n<r&&We(t,e[n],0)>-1;);return n}(i,o),function(e,t){for(var n=e.length;n--&&We(t,e[n],0)>-1;);return n}(i,o)+1).join("")}var ft=/^(?:async\s+)?(function)?\s*[^\(]*\(\s*([^\)]*)\)/m,ht=/,/,pt=/(=.+)?(\s*)$/,mt=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm;function gt(e,t){var n={};He(e,function(e,t){var r,i,o=v(e),a=!o&&1===e.length||o&&0===e.length;if(Z(e))r=e.slice(0,-1),e=e[e.length-1],n[t]=r.concat(r.length>0?s:e);else if(a)n[t]=e;else{if(r=i=(i=(i=(i=(i=e).toString().replace(mt,"")).match(ft)[2].replace(" ",""))?i.split(ht):[]).map(function(e){return dt(e.replace(pt,""))}),0===e.length&&!o&&0===r.length)throw new Error("autoInject task functions require explicit parameters.");o||r.pop(),n[t]=r.concat(s)}function s(t,n){var i=Ve(r,function(e){return t[e]});i.push(n),b(e).apply(null,i)}}),Ue(n,t)}function yt(){this.head=this.tail=null,this.length=0}function vt(e,t){e.length=1,e.head=e.tail=t}function bt(e,t,n){if(null==t)t=1;else if(0===t)throw new Error("Concurrency must not be zero");var r=b(e),i=0,o=[],a=!1;function s(e,t,n){if(null!=n&&"function"!=typeof n)throw new Error("task callback must be a function");if(c.started=!0,Z(e)||(e=[e]),0===e.length&&c.idle())return h(function(){c.drain()});for(var r=0,i=e.length;r<i;r++){var o={data:e[r],callback:n||z};t?c._tasks.unshift(o):c._tasks.push(o)}a||(a=!0,h(function(){a=!1,c.process()}))}function u(e){return function(t){i-=1;for(var n=0,r=e.length;n<r;n++){var a=e[n],s=We(o,a,0);0===s?o.shift():s>0&&o.splice(s,1),a.callback.apply(a,arguments),null!=t&&c.error(t,a.data)}i<=c.concurrency-c.buffer&&c.unsaturated(),c.idle()&&c.drain(),c.process()}}var l=!1,c={_tasks:new yt,concurrency:t,payload:n,saturated:z,unsaturated:z,buffer:t/4,empty:z,drain:z,error:z,started:!1,paused:!1,push:function(e,t){s(e,!1,t)},kill:function(){c.drain=z,c._tasks.empty()},unshift:function(e,t){s(e,!0,t)},remove:function(e){c._tasks.remove(e)},process:function(){if(!l){for(l=!0;!c.paused&&i<c.concurrency&&c._tasks.length;){var e=[],t=[],n=c._tasks.length;c.payload&&(n=Math.min(n,c.payload));for(var a=0;a<n;a++){var s=c._tasks.shift();e.push(s),o.push(s),t.push(s.data)}i+=1,0===c._tasks.length&&c.empty(),i===c.concurrency&&c.saturated();var d=Ee(u(e));r(t,d)}l=!1}},length:function(){return c._tasks.length},running:function(){return i},workersList:function(){return o},idle:function(){return c._tasks.length+i===0},pause:function(){c.paused=!0},resume:function(){!1!==c.paused&&(c.paused=!1,h(c.process))}};return c}function _t(e,t){return bt(e,1,t)}yt.prototype.removeLink=function(e){return e.prev?e.prev.next=e.next:this.head=e.next,e.next?e.next.prev=e.prev:this.tail=e.prev,e.prev=e.next=null,this.length-=1,e},yt.prototype.empty=function(){for(;this.head;)this.shift();return this},yt.prototype.insertAfter=function(e,t){t.prev=e,t.next=e.next,e.next?e.next.prev=t:this.tail=t,e.next=t,this.length+=1},yt.prototype.insertBefore=function(e,t){t.prev=e.prev,t.next=e,e.prev?e.prev.next=t:this.head=t,e.prev=t,this.length+=1},yt.prototype.unshift=function(e){this.head?this.insertBefore(this.head,e):vt(this,e)},yt.prototype.push=function(e){this.tail?this.insertAfter(this.tail,e):vt(this,e)},yt.prototype.shift=function(){return this.head&&this.removeLink(this.head)},yt.prototype.pop=function(){return this.tail&&this.removeLink(this.tail)},yt.prototype.toArray=function(){for(var e=Array(this.length),t=this.head,n=0;n<this.length;n++)e[n]=t.data,t=t.next;return e},yt.prototype.remove=function(e){for(var t=this.head;t;){var n=t.next;e(t)&&this.removeLink(t),t=n}return this};var wt=Me(Se,1);function kt(e,t,n,r){r=W(r||z);var i=b(n);wt(e,function(e,n,r){i(t,e,function(e,n){t=n,r(e)})},function(e){r(e,t)})}function Et(){var e=Ve(arguments,b);return function(){var t=o(arguments),n=this,r=t[t.length-1];"function"==typeof r?t.pop():r=z,kt(e,t,function(e,t,r){t.apply(n,e.concat(function(e){var t=o(arguments,1);r(e,t)}))},function(e,t){r.apply(n,[e].concat(t))})}}var xt=function(){return Et.apply(null,o(arguments).reverse())},St=Array.prototype.concat,Mt=function(e,t,n,r){r=r||z;var i=b(n);De(e,t,function(e,t){i(e,function(e){return e?t(e):t(null,o(arguments,1))})},function(e,t){for(var n=[],i=0;i<t.length;i++)t[i]&&(n=St.apply(n,t[i]));return r(e,n)})},Tt=Me(Mt,1/0),Ct=Me(Mt,1),At=function(){var e=o(arguments),t=[null].concat(e);return function(){return arguments[arguments.length-1].apply(this,t)}};function Ot(e){return e}function Nt(e,t){return function(n,r,i,o){o=o||z;var a,s=!1;n(r,function(n,r,o){i(n,function(r,i){r?o(r):e(i)&&!a?(s=!0,a=t(!0,n),o(null,H)):o()})},function(e){e?o(e):o(null,s?a:t(!1))})}}function Lt(e,t){return t}var jt=Oe(Nt(Ot,Lt)),Pt=Pe(Nt(Ot,Lt)),Dt=Me(Pt,1);function It(e){return function(t){var n=o(arguments,1);n.push(function(t){var n=o(arguments,1);"object"==typeof console&&(t?console.error&&console.error(t):console[e]&&Fe(n,function(t){console[e](t)}))}),b(t).apply(null,n)}}var Rt=It("dir");function Ft(e,t,n){n=Ee(n||z);var r=b(e),i=b(t);function a(e){if(e)return n(e);var t=o(arguments,1);t.push(s),i.apply(this,t)}function s(e,t){return e?n(e):t?void r(a):n(null)}s(null,!0)}function Yt(e,t,n){n=Ee(n||z);var r=b(e),i=function(e){if(e)return n(e);var a=o(arguments,1);if(t.apply(this,a))return r(i);n.apply(null,[null].concat(a))};r(i)}function Bt(e,t,n){Yt(e,function(){return!t.apply(this,arguments)},n)}function Ht(e,t,n){n=Ee(n||z);var r=b(t),i=b(e);function o(e){if(e)return n(e);i(a)}function a(e,t){return e?n(e):t?void r(o):n(null)}i(a)}function zt(e){return function(t,n,r){return e(t,r)}}function Wt(e,t,n){Ae(e,zt(b(t)),n)}function Ut(e,t,n,r){xe(t)(e,zt(b(n)),r)}var Vt=Me(Ut,1);function Gt(e){return v(e)?e:s(function(t,n){var r=!0;t.push(function(){var e=arguments;r?h(function(){n.apply(null,e)}):n.apply(null,e)}),e.apply(this,t),r=!1})}function qt(e){return!e}var Kt=Oe(Nt(qt,qt)),$t=Pe(Nt(qt,qt)),Xt=Me($t,1);function Jt(e){return function(t){return null==t?void 0:t[e]}}function Qt(e,t,n,r){var i=new Array(t.length);e(t,function(e,t,r){n(e,function(e,n){i[t]=!!n,r(e)})},function(e){if(e)return r(e);for(var n=[],o=0;o<t.length;o++)i[o]&&n.push(t[o]);r(null,n)})}function Zt(e,t,n,r){var i=[];e(t,function(e,t,r){n(e,function(n,o){n?r(n):(o&&i.push({index:t,value:e}),r())})},function(e){e?r(e):r(null,Ve(i.sort(function(e,t){return e.index-t.index}),Jt("value")))})}function en(e,t,n,r){(B(t)?Qt:Zt)(e,t,b(n),r||z)}var tn=Oe(en),nn=Pe(en),rn=Me(nn,1);function on(e,t){var n=Ee(t||z),r=b(Gt(e));!function e(t){if(t)return n(t);r(e)}()}var an=function(e,t,n,r){r=r||z;var i=b(n);De(e,t,function(e,t){i(e,function(n,r){return n?t(n):t(null,{key:r,val:e})})},function(e,t){for(var n={},i=Object.prototype.hasOwnProperty,o=0;o<t.length;o++)if(t[o]){var a=t[o].key,s=t[o].val;i.call(n,a)?n[a].push(s):n[a]=[s]}return r(e,n)})},sn=Me(an,1/0),un=Me(an,1),ln=It("log");function cn(e,t,n,r){r=W(r||z);var i={},o=b(n);Se(e,t,function(e,t,n){o(e,t,function(e,r){if(e)return n(e);i[t]=r,n()})},function(e){r(e,i)})}var dn=Me(cn,1/0),fn=Me(cn,1);function hn(e,t){return t in e}function pn(e,t){var n=Object.create(null),r=Object.create(null);t=t||Ot;var i=b(e),a=s(function(e,a){var s=t.apply(null,e);hn(n,s)?h(function(){a.apply(null,n[s])}):hn(r,s)?r[s].push(a):(r[s]=[a],i.apply(null,e.concat(function(){var e=o(arguments);n[s]=e;var t=r[s];delete r[s];for(var i=0,a=t.length;i<a;i++)t[i].apply(null,e)})))});return a.memo=n,a.unmemoized=e,a}var mn=f(c?n.nextTick:l?e:d);function gn(e,t,n){n=n||z;var r=B(t)?[]:{};e(t,function(e,t,n){b(e)(function(e,i){arguments.length>2&&(i=o(arguments,1)),r[t]=i,n(e)})},function(e){n(e,r)})}function yn(e,t){gn(Ae,e,t)}function vn(e,t,n){gn(xe(t),e,n)}var bn=function(e,t){var n=b(e);return bt(function(e,t){n(e[0],t)},t,1)},_n=function(e,t){var n=bn(e,t);return n.push=function(e,t,r){if(null==r&&(r=z),"function"!=typeof r)throw new Error("task callback must be a function");if(n.started=!0,Z(e)||(e=[e]),0===e.length)return h(function(){n.drain()});t=t||0;for(var i=n._tasks.head;i&&t>=i.priority;)i=i.next;for(var o=0,a=e.length;o<a;o++){var s={data:e[o],priority:t,callback:r};i?n._tasks.insertBefore(i,s):n._tasks.push(s)}h(n.process)},delete n.unshift,n};function wn(e,t){if(t=W(t||z),!Z(e))return t(new TypeError("First argument to race must be an array of functions"));if(!e.length)return t();for(var n=0,r=e.length;n<r;n++)b(e[n])(t)}function kn(e,t,n,r){kt(o(e).reverse(),t,n,r)}function En(e){var t=b(e);return s(function(e,n){return e.push(function(e,t){var r;e?n(null,{error:e}):(r=arguments.length<=2?t:o(arguments,1),n(null,{value:r}))}),t.apply(this,e)})}function xn(e){var t;return Z(e)?t=Ve(e,En):(t={},He(e,function(e,n){t[n]=En.call(this,e)})),t}function Sn(e,t,n,r){en(e,t,function(e,t){n(e,function(e,n){t(e,!n)})},r)}var Mn=Oe(Sn),Tn=Pe(Sn),Cn=Me(Tn,1);function An(e){return function(){return e}}function On(e,t,n){var r=5,i=0,o={times:r,intervalFunc:An(i)};if(arguments.length<3&&"function"==typeof e?(n=t||z,t=e):(!function(e,t){if("object"==typeof t)e.times=+t.times||r,e.intervalFunc="function"==typeof t.interval?t.interval:An(+t.interval||i),e.errorFilter=t.errorFilter;else{if("number"!=typeof t&&"string"!=typeof t)throw new Error("Invalid arguments for async.retry");e.times=+t||r}}(o,e),n=n||z),"function"!=typeof t)throw new Error("Invalid arguments for async.retry");var a=b(t),s=1;!function e(){a(function(t){t&&s++<o.times&&("function"!=typeof o.errorFilter||o.errorFilter(t))?setTimeout(e,o.intervalFunc(s)):n.apply(null,arguments)})}()}var Nn=function(e,t){t||(t=e,e=null);var n=b(t);return s(function(t,r){function i(e){n.apply(null,t.concat(e))}e?On(e,i,r):On(i,r)})};function Ln(e,t){gn(wt,e,t)}var jn=Oe(Nt(Boolean,Ot)),Pn=Pe(Nt(Boolean,Ot)),Dn=Me(Pn,1);function In(e,t,n){var r=b(t);function i(e,t){var n=e.criteria,r=t.criteria;return n<r?-1:n>r?1:0}Le(e,function(e,t){r(e,function(n,r){if(n)return t(n);t(null,{value:e,criteria:r})})},function(e,t){if(e)return n(e);n(null,Ve(t.sort(i),Jt("value")))})}function Rn(e,t,n){var r=b(e);return s(function(i,o){var a,s=!1;i.push(function(){s||(o.apply(null,arguments),clearTimeout(a))}),a=setTimeout(function(){var t=e.name||"anonymous",r=new Error('Callback function "'+t+'" timed out.');r.code="ETIMEDOUT",n&&(r.info=n),s=!0,o(r)},t),r.apply(null,i)})}var Fn=Math.ceil,Yn=Math.max;function Bn(e,t,n,r){var i=b(n);De(function(e,t,n,r){for(var i=-1,o=Yn(Fn((t-e)/(n||1)),0),a=Array(o);o--;)a[r?o:++i]=e,e+=n;return a}(0,e,1),t,i,r)}var Hn=Me(Bn,1/0),zn=Me(Bn,1);function Wn(e,t,n,r){arguments.length<=3&&(r=n,n=t,t=Z(e)?[]:{}),r=W(r||z);var i=b(n);Ae(e,function(e,n,r){i(t,e,n,r)},function(e){r(e,t)})}function Un(e,t){var n,r=null;t=t||z,Vt(e,function(e,t){b(e)(function(e,i){n=arguments.length>2?o(arguments,1):i,r=e,t(!e)})},function(){t(r,n)})}function Vn(e){return function(){return(e.unmemoized||e).apply(null,arguments)}}function Gn(e,t,n){n=Ee(n||z);var r=b(t);if(!e())return n(null);var i=function(t){if(t)return n(t);if(e())return r(i);var a=o(arguments,1);n.apply(null,[null].concat(a))};r(i)}function qn(e,t,n){Gn(function(){return!e.apply(this,arguments)},t,n)}var Kn=function(e,t){if(t=W(t||z),!Z(e))return t(new Error("First argument to waterfall must be an array of functions"));if(!e.length)return t();var n=0;function r(t){var r=b(e[n++]);t.push(Ee(i)),r.apply(null,t)}function i(i){if(i||n===e.length)return t.apply(null,arguments);r(o(arguments,1))}r([])},$n={apply:a,applyEach:je,applyEachSeries:Re,asyncify:p,auto:Ue,autoInject:gt,cargo:_t,compose:xt,concat:Tt,concatLimit:Mt,concatSeries:Ct,constant:At,detect:jt,detectLimit:Pt,detectSeries:Dt,dir:Rt,doDuring:Ft,doUntil:Bt,doWhilst:Yt,during:Ht,each:Wt,eachLimit:Ut,eachOf:Ae,eachOfLimit:Se,eachOfSeries:wt,eachSeries:Vt,ensureAsync:Gt,every:Kt,everyLimit:$t,everySeries:Xt,filter:tn,filterLimit:nn,filterSeries:rn,forever:on,groupBy:sn,groupByLimit:an,groupBySeries:un,log:ln,map:Le,mapLimit:De,mapSeries:Ie,mapValues:dn,mapValuesLimit:cn,mapValuesSeries:fn,memoize:pn,nextTick:mn,parallel:yn,parallelLimit:vn,priorityQueue:_n,queue:bn,race:wn,reduce:kt,reduceRight:kn,reflect:En,reflectAll:xn,reject:Mn,rejectLimit:Tn,rejectSeries:Cn,retry:On,retryable:Nn,seq:Et,series:Ln,setImmediate:h,some:jn,someLimit:Pn,someSeries:Dn,sortBy:In,timeout:Rn,times:Hn,timesLimit:Bn,timesSeries:zn,transform:Wn,tryEach:Un,unmemoize:Vn,until:qn,waterfall:Kn,whilst:Gn,all:Kt,allLimit:$t,allSeries:Xt,any:jn,anyLimit:Pn,anySeries:Dn,find:jt,findLimit:Pt,findSeries:Dt,forEach:Wt,forEachSeries:Vt,forEachLimit:Ut,forEachOf:Ae,forEachOfSeries:wt,forEachOfLimit:Se,inject:kt,foldl:kt,foldr:kn,select:tn,selectLimit:nn,selectSeries:rn,wrapSync:p};t.default=$n,t.apply=a,t.applyEach=je,t.applyEachSeries=Re,t.asyncify=p,t.auto=Ue,t.autoInject=gt,t.cargo=_t,t.compose=xt,t.concat=Tt,t.concatLimit=Mt,t.concatSeries=Ct,t.constant=At,t.detect=jt,t.detectLimit=Pt,t.detectSeries=Dt,t.dir=Rt,t.doDuring=Ft,t.doUntil=Bt,t.doWhilst=Yt,t.during=Ht,t.each=Wt,t.eachLimit=Ut,t.eachOf=Ae,t.eachOfLimit=Se,t.eachOfSeries=wt,t.eachSeries=Vt,t.ensureAsync=Gt,t.every=Kt,t.everyLimit=$t,t.everySeries=Xt,t.filter=tn,t.filterLimit=nn,t.filterSeries=rn,t.forever=on,t.groupBy=sn,t.groupByLimit=an,t.groupBySeries=un,t.log=ln,t.map=Le,t.mapLimit=De,t.mapSeries=Ie,t.mapValues=dn,t.mapValuesLimit=cn,t.mapValuesSeries=fn,t.memoize=pn,t.nextTick=mn,t.parallel=yn,t.parallelLimit=vn,t.priorityQueue=_n,t.queue=bn,t.race=wn,t.reduce=kt,t.reduceRight=kn,t.reflect=En,t.reflectAll=xn,t.reject=Mn,t.rejectLimit=Tn,t.rejectSeries=Cn,t.retry=On,t.retryable=Nn,t.seq=Et,t.series=Ln,t.setImmediate=h,t.some=jn,t.someLimit=Pn,t.someSeries=Dn,t.sortBy=In,t.timeout=Rn,t.times=Hn,t.timesLimit=Bn,t.timesSeries=zn,t.transform=Wn,t.tryEach=Un,t.unmemoize=Vn,t.until=qn,t.waterfall=Kn,t.whilst=Gn,t.all=Kt,t.allLimit=$t,t.allSeries=Xt,t.any=jn,t.anyLimit=Pn,t.anySeries=Dn,t.find=jt,t.findLimit=Pt,t.findSeries=Dt,t.forEach=Wt,t.forEachSeries=Vt,t.forEachLimit=Ut,t.forEachOf=Ae,t.forEachOfSeries=wt,t.forEachOfLimit=Se,t.inject=kt,t.foldl=kt,t.foldr=kn,t.select=tn,t.selectLimit=nn,t.selectSeries=rn,t.wrapSync=p,Object.defineProperty(t,"__esModule",{value:!0})})(t)}).call(t,n(255).setImmediate,n(59),n(22),n(26)(e))},,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Types=t.Actions=void 0;var r=n(1105),i={FULL_SCREEN:"com.kineviz.FULL_SCREEN",SCENE_OPERATOR:"com.kineviz.SCENE_OPERATOR",NODE_LEAF_TRIMMING:"LEAF_TRIMMING",NODE_FIND_NEIGHBOR:"FIND_NEIGHBOR",NODE_CLEAN_ALL_PIN:"CLEAN_ALL_PIN",NODE_FREEZ:"FREEZ_ALL_NODE",NODE_UNDO:"NODE_UNDO",NODE_REDO:"NODE_REDO",NODE_SELECT_ALL:"NODE_SELECT_ALL",EDGE_FILTER:"EDGE_FILTER",NODE_FILTER:"NODE_FILTER",DEFAULT_LAYOUT:"com.kineviz.LAYOUT_DEFAULT",TRIGGER_LAYOUT:"com.kineviz.TRIGGER_LAYOUT",LAYOUT_GRAPH_PHYSICS_ITEM:"com.kineviz.LAYOUT_GRAPH_PHYSICS_ITEM",ADD_PARAMETRIC:"com.kineviz.ADD_PARAMETRIC",DEL_PARAMETRIC:"com.kineviz.DEL_PARAMETRIC",LINK_DEGREE_CONFIG:"com.kineviz.LINK_DEGREE_CONFIG",LINK_DEGREE_FILTER:"com.kineviz.LINK_DEGREE_FILTER",DOWNLOAD_MARK:"com.kineviz.DOWNLOAD_MARK",SET_DATA_COMPANIES_LIST:"com.kineviz.SET_DATA_COMPANIES_LIST",NODE_OPERATOER:"com.kineviz.NODE_OPERATOER",SET_NODE_PROPERTY_BY_LABEL:"com.kineviz.SET_NODE_PROPERTY_BY_LABEL",SET_NODE_VISIBLE_BY_LABEL:"com.kineviz.SET_NODE_VISIBLE_BY_LABEL",SET_RELATIONSHIP_VISIBLE:"com.kineviz.SET_RELATIONSHIP_VISIBLE",AUTO_SHOW_IMAGE:"com.kineviz.AUTO_SHOW_IMAGE",HIDE_ARROW:"com.kineviz.HIDE_ARROW",SEARCH_NODE:"com.kineviz.SEARCH_NODE",EXPAND_NODE:"com.kineviz.EXPAND_NODE",FLY_TO_NODE:"com.kineviz.FLY_TO_NODE",SHOW_NODE_INFO:"com.kineviz.SHOW_NODE_INFO",DISABLE_NODE_INFO:"com.kineviz.DISABLE_NODE_INFO",UNTARGET_NODE:"com.kineviz.UNTARGET_NODE",SHOW_CURRENT_LABELS:"com.kineviz.SHOW_CURRENT_LABELS",TAG_NODE_BY_PROPERTY:"com.kineviz.TAG_NODE_BY_PROPERTY",ADD_NODE_TO_GRAPH:"com.kineviz.ADD_NODE_TO_GRAPH",ADD_NODE_TO_SEARCH_LIST:"com.kineviz.ADD_NODE_TO_SEARCH_LIST",SET_LAYOUT:"com.kineviz.SET_LAYOUT",LOAD_GRAPH:"com.kineviz.LOAD_GRAPH",SHOW_TOPBAR:"com.kineviz.SHOW_TOPBAR",SHOW_POPWINDOW:"com.kineviz.SHOW_POPWINDOW",ADJUST_AXIS_SCALE:"com.kineviz.ADJUST_AXIS_SCALE",SHOW_GRAPH_BUILDER:"com.kineviz.SHOW_GRAPH_BUILDER",SHOW_NEIGHBORS_SLIDER:"com.kineviz.SHOW_NEIGHBORS_SLIDER",LOAD_INNER_RELATIONSHIP:"com.kineviz.LOAD_INNER_RELATIONSHIP",CHANGE_GRAPH_ICON_SHEET:"com.kineviz.CHANGE_GRAPH_ICON_SHEET",SHOW_EXPAND_PANEL:"com.kineviz.SHOW_EXPAND_PANEL",SHOW_MOVE_BORDER:"com.kineviz.SHOW_MOVE_BORDER",SHOW_RIGHT_PANEL:"com.kineviz.SHOW_RIGHT_PANEL"},o={setFullScreen:function(e){return{type:i.FULL_SCREEN,params:{isFullscreen:e}}},setSceneOperator:function(e){return{type:i.SCENE_OPERATOR,params:{operator:e}}},addParametricLayout:function(e,t){return{type:i.ADD_PARAMETRIC,params:{key:e,parametric:t}}},deleteParametricLayout:function(e){return{type:i.DEL_PARAMETRIC,params:{parametric:e}}},resetForceLayout:function(){return{type:i.DEFAULT_LAYOUT}},triggerForceLayout:function(){return{type:i.TRIGGER_LAYOUT}},layoutGraphPhysicsChange:function(e,t){var n={};return n[e]=t,{type:i.LAYOUT_GRAPH_PHYSICS_ITEM,params:n}},layoutEdgeBundleChange:function(e,t){var n={};return n[e]=t,{type:i.LAYOUT_EDGE_BUNDLE_ITEM,params:n}},linkDegreeConfig:function(e,t,n,r){return{type:i.LINK_DEGREE_CONFIG,params:{min:e,max:t,from:n,to:r}}},linkDegreeFilter:function(e,t){return{type:i.LINK_DEGREE_FILTER,params:{from:e,to:t}}},downloadMark:function(e,t){return{type:i.DOWNLOAD_MARK,params:{item:e,isRequireDown:t}}},nodeOperator:function(e,t){return{type:i.NODE_OPERATOER,params:{operator:e,extraParams:t||{}}}},nodeFilter:function(e,t){return{type:i.NODE_FILTER,params:{property:e,filterCondition:t}}},edgeFilter:function(e,t){return{type:i.EDGE_FILTER,params:{property:e,filterCondition:t}}},setNodePropertyByLabel:function(e,t,n,r){return{type:i.SET_NODE_PROPERTY_BY_LABEL,params:{label:e,property:t,value:n,img:r}}},setNodesVisibleByLabel:function(e,t){return{type:i.SET_NODE_VISIBLE_BY_LABEL,params:{label:e,visible:t}}},setRelationshipVisible:function(e,t){return{type:i.SET_RELATIONSHIP_VISIBLE,params:{relationship:e,visible:t}}},autoShowImage:function(e){return{type:i.AUTO_SHOW_IMAGE,params:{autoShowImage:e}}},hideArrow:function(e){return{type:i.HIDE_ARROW,params:{hideArrow:e}}},searchNode:function(e){return{type:i.SEARCH_NODE,params:{keyword:e}}},expandNode:function(e,t){return{type:i.EXPAND_NODE,params:{nodeId:e,page:t}}},flyToNode:function(e){return{type:i.FLY_TO_NODE,params:{nodeId:e}}},showNodeInfo:function(e){return{type:i.SHOW_NODE_INFO,params:{nodeId:e}}},disableNodeInfo:function(e){return{type:i.DISABLE_NODE_INFO,params:{isDisable:e}}},unTargetNode:function(){return{type:i.UNTARGET_NODE}},showCurrentLabels:function(e){return{type:i.SHOW_CURRENT_LABELS,params:{labels:e}}},tagNodeByProperty:function(e){return{type:i.TAG_NODE_BY_PROPERTY,params:{property:e}}},addNodesToSearchList:function(e){return{type:i.ADD_NODE_TO_SEARCH_LIST,params:{nodes:e}}},addNodesToGraph:function(e){return{type:i.ADD_NODE_TO_GRAPH,params:{nodes:e}}},setLayout:function(e){return{type:i.SET_LAYOUT,params:{layout:e}}},showTopbar:function(e){return{type:i.SHOW_TOPBAR,params:{topbar:e}}},showPopWindow:function(e,t,n){return{type:i.SHOW_POPWINDOW,params:{windowName:e,title:t||"",content:n||{}}}},showGraphBuilder:function(e,t,n,r){return{type:i.SHOW_GRAPH_BUILDER,params:{show:e,dataType:t,schemaName:n,data:r}}},showNeighborsSlider:function(e){return{type:i.SHOW_NEIGHBORS_SLIDER,params:{show:e}}},adjustAxisScale:function(e){return{type:i.ADJUST_AXIS_SCALE,params:{value:e}}},changeGraphIconSheet:function(e,t,n){return{type:i.CHANGE_GRAPH_ICON_SHEET,params:{id:e,iconPath:t,iconColumn:n}}},loadGraph:function(e){return{type:i.LOAD_GRAPH,params:{graph:e}}},loadInnerRelationship:function(e){return{type:i.LOAD_INNER_RELATIONSHIP,params:{isLoad:e}}},showExpandPanel:function(e){return{type:i.SHOW_EXPAND_PANEL,params:{isShowPanel:e}}},showMoveBorder:function(e){return{type:i.SHOW_MOVE_BORDER,params:{moveBorder:e}}},showRightPanel:function(e){return{type:i.SHOW_RIGHT_PANEL,params:{rightPanelPosition:e}}}},a=Object.assign({},i,r.Types),s=Object.assign({},o,r.Actions);t.default=s,t.Actions=s,t.Types=a},function(e,t,n){(function(e){!function(e,t){"use strict";function r(e,t){if(!e)throw new Error(t||"Assertion failed")}function i(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}function o(e,t,n){if(o.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&("le"!==t&&"be"!==t||(n=t,t=10),this._init(e||0,t||10,n||"be"))}var a;"object"==typeof e?e.exports=o:t.BN=o,o.BN=o,o.wordSize=26;try{a=n(1830).Buffer}catch(e){}function s(e,t,n){for(var r=0,i=Math.min(e.length,n),o=t;o<i;o++){var a=e.charCodeAt(o)-48;r<<=4,r|=a>=49&&a<=54?a-49+10:a>=17&&a<=22?a-17+10:15&a}return r}function u(e,t,n,r){for(var i=0,o=Math.min(e.length,n),a=t;a<o;a++){var s=e.charCodeAt(a)-48;i*=r,i+=s>=49?s-49+10:s>=17?s-17+10:s}return i}o.isBN=function(e){return e instanceof o||null!==e&&"object"==typeof e&&e.constructor.wordSize===o.wordSize&&Array.isArray(e.words)},o.max=function(e,t){return e.cmp(t)>0?e:t},o.min=function(e,t){return e.cmp(t)<0?e:t},o.prototype._init=function(e,t,n){if("number"==typeof e)return this._initNumber(e,t,n);if("object"==typeof e)return this._initArray(e,t,n);"hex"===t&&(t=16),r(t===(0|t)&&t>=2&&t<=36);var i=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&i++,16===t?this._parseHex(e,i):this._parseBase(e,t,i),"-"===e[0]&&(this.negative=1),this.strip(),"le"===n&&this._initArray(this.toArray(),t,n)},o.prototype._initNumber=function(e,t,n){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(r(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===n&&this._initArray(this.toArray(),t,n)},o.prototype._initArray=function(e,t,n){if(r("number"==typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o,a,s=0;if("be"===n)for(i=e.length-1,o=0;i>=0;i-=3)a=e[i]|e[i-1]<<8|e[i-2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);else if("le"===n)for(i=0,o=0;i<e.length;i+=3)a=e[i]|e[i+1]<<8|e[i+2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);return this.strip()},o.prototype._parseHex=function(e,t){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var r,i,o=0;for(n=e.length-6,r=0;n>=t;n-=6)i=s(e,n,n+6),this.words[r]|=i<<o&67108863,this.words[r+1]|=i>>>26-o&4194303,(o+=24)>=26&&(o-=26,r++);n+6!==t&&(i=s(e,t,n+6),this.words[r]|=i<<o&67108863,this.words[r+1]|=i>>>26-o&4194303),this.strip()},o.prototype._parseBase=function(e,t,n){this.words=[0],this.length=1;for(var r=0,i=1;i<=67108863;i*=t)r++;r--,i=i/t|0;for(var o=e.length-n,a=o%r,s=Math.min(o,o-a)+n,l=0,c=n;c<s;c+=r)l=u(e,c,c+r,t),this.imuln(i),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l);if(0!==a){var d=1;for(l=u(e,c,e.length,t),c=0;c<a;c++)d*=t;this.imuln(d),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l)}},o.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},o.prototype.clone=function(){var e=new o(null);return this.copy(e),e},o.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},o.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},o.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var l=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],c=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],d=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function f(e,t,n){n.negative=t.negative^e.negative;var r=e.length+t.length|0;n.length=r,r=r-1|0;var i=0|e.words[0],o=0|t.words[0],a=i*o,s=67108863&a,u=a/67108864|0;n.words[0]=s;for(var l=1;l<r;l++){for(var c=u>>>26,d=67108863&u,f=Math.min(l,t.length-1),h=Math.max(0,l-e.length+1);h<=f;h++){var p=l-h|0;c+=(a=(i=0|e.words[p])*(o=0|t.words[h])+d)/67108864|0,d=67108863&a}n.words[l]=0|d,u=0|c}return 0!==u?n.words[l]=0|u:n.length--,n.strip()}o.prototype.toString=function(e,t){var n;if(e=e||10,t=0|t||1,16===e||"hex"===e){n="";for(var i=0,o=0,a=0;a<this.length;a++){var s=this.words[a],u=(16777215&(s<<i|o)).toString(16);n=0!==(o=s>>>24-i&16777215)||a!==this.length-1?l[6-u.length]+u+n:u+n,(i+=2)>=26&&(i-=26,a--)}for(0!==o&&(n=o.toString(16)+n);n.length%t!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}if(e===(0|e)&&e>=2&&e<=36){var f=c[e],h=d[e];n="";var p=this.clone();for(p.negative=0;!p.isZero();){var m=p.modn(h).toString(e);n=(p=p.idivn(h)).isZero()?m+n:l[f-m.length]+m+n}for(this.isZero()&&(n="0"+n);n.length%t!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}r(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},o.prototype.toJSON=function(){return this.toString(16)},o.prototype.toBuffer=function(e,t){return r(void 0!==a),this.toArrayLike(a,e,t)},o.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)},o.prototype.toArrayLike=function(e,t,n){var i=this.byteLength(),o=n||Math.max(1,i);r(i<=o,"byte array longer than desired length"),r(o>0,"Requested array length <= 0"),this.strip();var a,s,u="le"===t,l=new e(o),c=this.clone();if(u){for(s=0;!c.isZero();s++)a=c.andln(255),c.iushrn(8),l[s]=a;for(;s<o;s++)l[s]=0}else{for(s=0;s<o-i;s++)l[s]=0;for(s=0;!c.isZero();s++)a=c.andln(255),c.iushrn(8),l[o-s-1]=a}return l},Math.clz32?o.prototype._countBits=function(e){return 32-Math.clz32(e)}:o.prototype._countBits=function(e){var t=e,n=0;return t>=4096&&(n+=13,t>>>=13),t>=64&&(n+=7,t>>>=7),t>=8&&(n+=4,t>>>=4),t>=2&&(n+=2,t>>>=2),n+t},o.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,n=0;return 0==(8191&t)&&(n+=13,t>>>=13),0==(127&t)&&(n+=7,t>>>=7),0==(15&t)&&(n+=4,t>>>=4),0==(3&t)&&(n+=2,t>>>=2),0==(1&t)&&n++,n},o.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var n=this._zeroBits(this.words[t]);if(e+=n,26!==n)break}return e},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},o.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this.strip()},o.prototype.ior=function(e){return r(0==(this.negative|e.negative)),this.iuor(e)},o.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},o.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},o.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var n=0;n<t.length;n++)this.words[n]=this.words[n]&e.words[n];return this.length=t.length,this.strip()},o.prototype.iand=function(e){return r(0==(this.negative|e.negative)),this.iuand(e)},o.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},o.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},o.prototype.iuxor=function(e){var t,n;this.length>e.length?(t=this,n=e):(t=e,n=this);for(var r=0;r<n.length;r++)this.words[r]=t.words[r]^n.words[r];if(this!==t)for(;r<t.length;r++)this.words[r]=t.words[r];return this.length=t.length,this.strip()},o.prototype.ixor=function(e){return r(0==(this.negative|e.negative)),this.iuxor(e)},o.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},o.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},o.prototype.inotn=function(e){r("number"==typeof e&&e>=0);var t=0|Math.ceil(e/26),n=e%26;this._expand(t),n>0&&t--;for(var i=0;i<t;i++)this.words[i]=67108863&~this.words[i];return n>0&&(this.words[i]=~this.words[i]&67108863>>26-n),this.strip()},o.prototype.notn=function(e){return this.clone().inotn(e)},o.prototype.setn=function(e,t){r("number"==typeof e&&e>=0);var n=e/26|0,i=e%26;return this._expand(n+1),this.words[n]=t?this.words[n]|1<<i:this.words[n]&~(1<<i),this.strip()},o.prototype.iadd=function(e){var t,n,r;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(n=this,r=e):(n=e,r=this);for(var i=0,o=0;o<r.length;o++)t=(0|n.words[o])+(0|r.words[o])+i,this.words[o]=67108863&t,i=t>>>26;for(;0!==i&&o<n.length;o++)t=(0|n.words[o])+i,this.words[o]=67108863&t,i=t>>>26;if(this.length=n.length,0!==i)this.words[this.length]=i,this.length++;else if(n!==this)for(;o<n.length;o++)this.words[o]=n.words[o];return this},o.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},o.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var n,r,i=this.cmp(e);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(n=this,r=e):(n=e,r=this);for(var o=0,a=0;a<r.length;a++)o=(t=(0|n.words[a])-(0|r.words[a])+o)>>26,this.words[a]=67108863&t;for(;0!==o&&a<n.length;a++)o=(t=(0|n.words[a])+o)>>26,this.words[a]=67108863&t;if(0===o&&a<n.length&&n!==this)for(;a<n.length;a++)this.words[a]=n.words[a];return this.length=Math.max(this.length,a),n!==this&&(this.negative=1),this.strip()},o.prototype.sub=function(e){return this.clone().isub(e)};var h=function(e,t,n){var r,i,o,a=e.words,s=t.words,u=n.words,l=0,c=0|a[0],d=8191&c,f=c>>>13,h=0|a[1],p=8191&h,m=h>>>13,g=0|a[2],y=8191&g,v=g>>>13,b=0|a[3],_=8191&b,w=b>>>13,k=0|a[4],E=8191&k,x=k>>>13,S=0|a[5],M=8191&S,T=S>>>13,C=0|a[6],A=8191&C,O=C>>>13,N=0|a[7],L=8191&N,j=N>>>13,P=0|a[8],D=8191&P,I=P>>>13,R=0|a[9],F=8191&R,Y=R>>>13,B=0|s[0],H=8191&B,z=B>>>13,W=0|s[1],U=8191&W,V=W>>>13,G=0|s[2],q=8191&G,K=G>>>13,$=0|s[3],X=8191&$,J=$>>>13,Q=0|s[4],Z=8191&Q,ee=Q>>>13,te=0|s[5],ne=8191&te,re=te>>>13,ie=0|s[6],oe=8191&ie,ae=ie>>>13,se=0|s[7],ue=8191&se,le=se>>>13,ce=0|s[8],de=8191&ce,fe=ce>>>13,he=0|s[9],pe=8191&he,me=he>>>13;n.negative=e.negative^t.negative,n.length=19;var ge=(l+(r=Math.imul(d,H))|0)+((8191&(i=(i=Math.imul(d,z))+Math.imul(f,H)|0))<<13)|0;l=((o=Math.imul(f,z))+(i>>>13)|0)+(ge>>>26)|0,ge&=67108863,r=Math.imul(p,H),i=(i=Math.imul(p,z))+Math.imul(m,H)|0,o=Math.imul(m,z);var ye=(l+(r=r+Math.imul(d,U)|0)|0)+((8191&(i=(i=i+Math.imul(d,V)|0)+Math.imul(f,U)|0))<<13)|0;l=((o=o+Math.imul(f,V)|0)+(i>>>13)|0)+(ye>>>26)|0,ye&=67108863,r=Math.imul(y,H),i=(i=Math.imul(y,z))+Math.imul(v,H)|0,o=Math.imul(v,z),r=r+Math.imul(p,U)|0,i=(i=i+Math.imul(p,V)|0)+Math.imul(m,U)|0,o=o+Math.imul(m,V)|0;var ve=(l+(r=r+Math.imul(d,q)|0)|0)+((8191&(i=(i=i+Math.imul(d,K)|0)+Math.imul(f,q)|0))<<13)|0;l=((o=o+Math.imul(f,K)|0)+(i>>>13)|0)+(ve>>>26)|0,ve&=67108863,r=Math.imul(_,H),i=(i=Math.imul(_,z))+Math.imul(w,H)|0,o=Math.imul(w,z),r=r+Math.imul(y,U)|0,i=(i=i+Math.imul(y,V)|0)+Math.imul(v,U)|0,o=o+Math.imul(v,V)|0,r=r+Math.imul(p,q)|0,i=(i=i+Math.imul(p,K)|0)+Math.imul(m,q)|0,o=o+Math.imul(m,K)|0;var be=(l+(r=r+Math.imul(d,X)|0)|0)+((8191&(i=(i=i+Math.imul(d,J)|0)+Math.imul(f,X)|0))<<13)|0;l=((o=o+Math.imul(f,J)|0)+(i>>>13)|0)+(be>>>26)|0,be&=67108863,r=Math.imul(E,H),i=(i=Math.imul(E,z))+Math.imul(x,H)|0,o=Math.imul(x,z),r=r+Math.imul(_,U)|0,i=(i=i+Math.imul(_,V)|0)+Math.imul(w,U)|0,o=o+Math.imul(w,V)|0,r=r+Math.imul(y,q)|0,i=(i=i+Math.imul(y,K)|0)+Math.imul(v,q)|0,o=o+Math.imul(v,K)|0,r=r+Math.imul(p,X)|0,i=(i=i+Math.imul(p,J)|0)+Math.imul(m,X)|0,o=o+Math.imul(m,J)|0;var _e=(l+(r=r+Math.imul(d,Z)|0)|0)+((8191&(i=(i=i+Math.imul(d,ee)|0)+Math.imul(f,Z)|0))<<13)|0;l=((o=o+Math.imul(f,ee)|0)+(i>>>13)|0)+(_e>>>26)|0,_e&=67108863,r=Math.imul(M,H),i=(i=Math.imul(M,z))+Math.imul(T,H)|0,o=Math.imul(T,z),r=r+Math.imul(E,U)|0,i=(i=i+Math.imul(E,V)|0)+Math.imul(x,U)|0,o=o+Math.imul(x,V)|0,r=r+Math.imul(_,q)|0,i=(i=i+Math.imul(_,K)|0)+Math.imul(w,q)|0,o=o+Math.imul(w,K)|0,r=r+Math.imul(y,X)|0,i=(i=i+Math.imul(y,J)|0)+Math.imul(v,X)|0,o=o+Math.imul(v,J)|0,r=r+Math.imul(p,Z)|0,i=(i=i+Math.imul(p,ee)|0)+Math.imul(m,Z)|0,o=o+Math.imul(m,ee)|0;var we=(l+(r=r+Math.imul(d,ne)|0)|0)+((8191&(i=(i=i+Math.imul(d,re)|0)+Math.imul(f,ne)|0))<<13)|0;l=((o=o+Math.imul(f,re)|0)+(i>>>13)|0)+(we>>>26)|0,we&=67108863,r=Math.imul(A,H),i=(i=Math.imul(A,z))+Math.imul(O,H)|0,o=Math.imul(O,z),r=r+Math.imul(M,U)|0,i=(i=i+Math.imul(M,V)|0)+Math.imul(T,U)|0,o=o+Math.imul(T,V)|0,r=r+Math.imul(E,q)|0,i=(i=i+Math.imul(E,K)|0)+Math.imul(x,q)|0,o=o+Math.imul(x,K)|0,r=r+Math.imul(_,X)|0,i=(i=i+Math.imul(_,J)|0)+Math.imul(w,X)|0,o=o+Math.imul(w,J)|0,r=r+Math.imul(y,Z)|0,i=(i=i+Math.imul(y,ee)|0)+Math.imul(v,Z)|0,o=o+Math.imul(v,ee)|0,r=r+Math.imul(p,ne)|0,i=(i=i+Math.imul(p,re)|0)+Math.imul(m,ne)|0,o=o+Math.imul(m,re)|0;var ke=(l+(r=r+Math.imul(d,oe)|0)|0)+((8191&(i=(i=i+Math.imul(d,ae)|0)+Math.imul(f,oe)|0))<<13)|0;l=((o=o+Math.imul(f,ae)|0)+(i>>>13)|0)+(ke>>>26)|0,ke&=67108863,r=Math.imul(L,H),i=(i=Math.imul(L,z))+Math.imul(j,H)|0,o=Math.imul(j,z),r=r+Math.imul(A,U)|0,i=(i=i+Math.imul(A,V)|0)+Math.imul(O,U)|0,o=o+Math.imul(O,V)|0,r=r+Math.imul(M,q)|0,i=(i=i+Math.imul(M,K)|0)+Math.imul(T,q)|0,o=o+Math.imul(T,K)|0,r=r+Math.imul(E,X)|0,i=(i=i+Math.imul(E,J)|0)+Math.imul(x,X)|0,o=o+Math.imul(x,J)|0,r=r+Math.imul(_,Z)|0,i=(i=i+Math.imul(_,ee)|0)+Math.imul(w,Z)|0,o=o+Math.imul(w,ee)|0,r=r+Math.imul(y,ne)|0,i=(i=i+Math.imul(y,re)|0)+Math.imul(v,ne)|0,o=o+Math.imul(v,re)|0,r=r+Math.imul(p,oe)|0,i=(i=i+Math.imul(p,ae)|0)+Math.imul(m,oe)|0,o=o+Math.imul(m,ae)|0;var Ee=(l+(r=r+Math.imul(d,ue)|0)|0)+((8191&(i=(i=i+Math.imul(d,le)|0)+Math.imul(f,ue)|0))<<13)|0;l=((o=o+Math.imul(f,le)|0)+(i>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,r=Math.imul(D,H),i=(i=Math.imul(D,z))+Math.imul(I,H)|0,o=Math.imul(I,z),r=r+Math.imul(L,U)|0,i=(i=i+Math.imul(L,V)|0)+Math.imul(j,U)|0,o=o+Math.imul(j,V)|0,r=r+Math.imul(A,q)|0,i=(i=i+Math.imul(A,K)|0)+Math.imul(O,q)|0,o=o+Math.imul(O,K)|0,r=r+Math.imul(M,X)|0,i=(i=i+Math.imul(M,J)|0)+Math.imul(T,X)|0,o=o+Math.imul(T,J)|0,r=r+Math.imul(E,Z)|0,i=(i=i+Math.imul(E,ee)|0)+Math.imul(x,Z)|0,o=o+Math.imul(x,ee)|0,r=r+Math.imul(_,ne)|0,i=(i=i+Math.imul(_,re)|0)+Math.imul(w,ne)|0,o=o+Math.imul(w,re)|0,r=r+Math.imul(y,oe)|0,i=(i=i+Math.imul(y,ae)|0)+Math.imul(v,oe)|0,o=o+Math.imul(v,ae)|0,r=r+Math.imul(p,ue)|0,i=(i=i+Math.imul(p,le)|0)+Math.imul(m,ue)|0,o=o+Math.imul(m,le)|0;var xe=(l+(r=r+Math.imul(d,de)|0)|0)+((8191&(i=(i=i+Math.imul(d,fe)|0)+Math.imul(f,de)|0))<<13)|0;l=((o=o+Math.imul(f,fe)|0)+(i>>>13)|0)+(xe>>>26)|0,xe&=67108863,r=Math.imul(F,H),i=(i=Math.imul(F,z))+Math.imul(Y,H)|0,o=Math.imul(Y,z),r=r+Math.imul(D,U)|0,i=(i=i+Math.imul(D,V)|0)+Math.imul(I,U)|0,o=o+Math.imul(I,V)|0,r=r+Math.imul(L,q)|0,i=(i=i+Math.imul(L,K)|0)+Math.imul(j,q)|0,o=o+Math.imul(j,K)|0,r=r+Math.imul(A,X)|0,i=(i=i+Math.imul(A,J)|0)+Math.imul(O,X)|0,o=o+Math.imul(O,J)|0,r=r+Math.imul(M,Z)|0,i=(i=i+Math.imul(M,ee)|0)+Math.imul(T,Z)|0,o=o+Math.imul(T,ee)|0,r=r+Math.imul(E,ne)|0,i=(i=i+Math.imul(E,re)|0)+Math.imul(x,ne)|0,o=o+Math.imul(x,re)|0,r=r+Math.imul(_,oe)|0,i=(i=i+Math.imul(_,ae)|0)+Math.imul(w,oe)|0,o=o+Math.imul(w,ae)|0,r=r+Math.imul(y,ue)|0,i=(i=i+Math.imul(y,le)|0)+Math.imul(v,ue)|0,o=o+Math.imul(v,le)|0,r=r+Math.imul(p,de)|0,i=(i=i+Math.imul(p,fe)|0)+Math.imul(m,de)|0,o=o+Math.imul(m,fe)|0;var Se=(l+(r=r+Math.imul(d,pe)|0)|0)+((8191&(i=(i=i+Math.imul(d,me)|0)+Math.imul(f,pe)|0))<<13)|0;l=((o=o+Math.imul(f,me)|0)+(i>>>13)|0)+(Se>>>26)|0,Se&=67108863,r=Math.imul(F,U),i=(i=Math.imul(F,V))+Math.imul(Y,U)|0,o=Math.imul(Y,V),r=r+Math.imul(D,q)|0,i=(i=i+Math.imul(D,K)|0)+Math.imul(I,q)|0,o=o+Math.imul(I,K)|0,r=r+Math.imul(L,X)|0,i=(i=i+Math.imul(L,J)|0)+Math.imul(j,X)|0,o=o+Math.imul(j,J)|0,r=r+Math.imul(A,Z)|0,i=(i=i+Math.imul(A,ee)|0)+Math.imul(O,Z)|0,o=o+Math.imul(O,ee)|0,r=r+Math.imul(M,ne)|0,i=(i=i+Math.imul(M,re)|0)+Math.imul(T,ne)|0,o=o+Math.imul(T,re)|0,r=r+Math.imul(E,oe)|0,i=(i=i+Math.imul(E,ae)|0)+Math.imul(x,oe)|0,o=o+Math.imul(x,ae)|0,r=r+Math.imul(_,ue)|0,i=(i=i+Math.imul(_,le)|0)+Math.imul(w,ue)|0,o=o+Math.imul(w,le)|0,r=r+Math.imul(y,de)|0,i=(i=i+Math.imul(y,fe)|0)+Math.imul(v,de)|0,o=o+Math.imul(v,fe)|0;var Me=(l+(r=r+Math.imul(p,pe)|0)|0)+((8191&(i=(i=i+Math.imul(p,me)|0)+Math.imul(m,pe)|0))<<13)|0;l=((o=o+Math.imul(m,me)|0)+(i>>>13)|0)+(Me>>>26)|0,Me&=67108863,r=Math.imul(F,q),i=(i=Math.imul(F,K))+Math.imul(Y,q)|0,o=Math.imul(Y,K),r=r+Math.imul(D,X)|0,i=(i=i+Math.imul(D,J)|0)+Math.imul(I,X)|0,o=o+Math.imul(I,J)|0,r=r+Math.imul(L,Z)|0,i=(i=i+Math.imul(L,ee)|0)+Math.imul(j,Z)|0,o=o+Math.imul(j,ee)|0,r=r+Math.imul(A,ne)|0,i=(i=i+Math.imul(A,re)|0)+Math.imul(O,ne)|0,o=o+Math.imul(O,re)|0,r=r+Math.imul(M,oe)|0,i=(i=i+Math.imul(M,ae)|0)+Math.imul(T,oe)|0,o=o+Math.imul(T,ae)|0,r=r+Math.imul(E,ue)|0,i=(i=i+Math.imul(E,le)|0)+Math.imul(x,ue)|0,o=o+Math.imul(x,le)|0,r=r+Math.imul(_,de)|0,i=(i=i+Math.imul(_,fe)|0)+Math.imul(w,de)|0,o=o+Math.imul(w,fe)|0;var Te=(l+(r=r+Math.imul(y,pe)|0)|0)+((8191&(i=(i=i+Math.imul(y,me)|0)+Math.imul(v,pe)|0))<<13)|0;l=((o=o+Math.imul(v,me)|0)+(i>>>13)|0)+(Te>>>26)|0,Te&=67108863,r=Math.imul(F,X),i=(i=Math.imul(F,J))+Math.imul(Y,X)|0,o=Math.imul(Y,J),r=r+Math.imul(D,Z)|0,i=(i=i+Math.imul(D,ee)|0)+Math.imul(I,Z)|0,o=o+Math.imul(I,ee)|0,r=r+Math.imul(L,ne)|0,i=(i=i+Math.imul(L,re)|0)+Math.imul(j,ne)|0,o=o+Math.imul(j,re)|0,r=r+Math.imul(A,oe)|0,i=(i=i+Math.imul(A,ae)|0)+Math.imul(O,oe)|0,o=o+Math.imul(O,ae)|0,r=r+Math.imul(M,ue)|0,i=(i=i+Math.imul(M,le)|0)+Math.imul(T,ue)|0,o=o+Math.imul(T,le)|0,r=r+Math.imul(E,de)|0,i=(i=i+Math.imul(E,fe)|0)+Math.imul(x,de)|0,o=o+Math.imul(x,fe)|0;var Ce=(l+(r=r+Math.imul(_,pe)|0)|0)+((8191&(i=(i=i+Math.imul(_,me)|0)+Math.imul(w,pe)|0))<<13)|0;l=((o=o+Math.imul(w,me)|0)+(i>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,r=Math.imul(F,Z),i=(i=Math.imul(F,ee))+Math.imul(Y,Z)|0,o=Math.imul(Y,ee),r=r+Math.imul(D,ne)|0,i=(i=i+Math.imul(D,re)|0)+Math.imul(I,ne)|0,o=o+Math.imul(I,re)|0,r=r+Math.imul(L,oe)|0,i=(i=i+Math.imul(L,ae)|0)+Math.imul(j,oe)|0,o=o+Math.imul(j,ae)|0,r=r+Math.imul(A,ue)|0,i=(i=i+Math.imul(A,le)|0)+Math.imul(O,ue)|0,o=o+Math.imul(O,le)|0,r=r+Math.imul(M,de)|0,i=(i=i+Math.imul(M,fe)|0)+Math.imul(T,de)|0,o=o+Math.imul(T,fe)|0;var Ae=(l+(r=r+Math.imul(E,pe)|0)|0)+((8191&(i=(i=i+Math.imul(E,me)|0)+Math.imul(x,pe)|0))<<13)|0;l=((o=o+Math.imul(x,me)|0)+(i>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,r=Math.imul(F,ne),i=(i=Math.imul(F,re))+Math.imul(Y,ne)|0,o=Math.imul(Y,re),r=r+Math.imul(D,oe)|0,i=(i=i+Math.imul(D,ae)|0)+Math.imul(I,oe)|0,o=o+Math.imul(I,ae)|0,r=r+Math.imul(L,ue)|0,i=(i=i+Math.imul(L,le)|0)+Math.imul(j,ue)|0,o=o+Math.imul(j,le)|0,r=r+Math.imul(A,de)|0,i=(i=i+Math.imul(A,fe)|0)+Math.imul(O,de)|0,o=o+Math.imul(O,fe)|0;var Oe=(l+(r=r+Math.imul(M,pe)|0)|0)+((8191&(i=(i=i+Math.imul(M,me)|0)+Math.imul(T,pe)|0))<<13)|0;l=((o=o+Math.imul(T,me)|0)+(i>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,r=Math.imul(F,oe),i=(i=Math.imul(F,ae))+Math.imul(Y,oe)|0,o=Math.imul(Y,ae),r=r+Math.imul(D,ue)|0,i=(i=i+Math.imul(D,le)|0)+Math.imul(I,ue)|0,o=o+Math.imul(I,le)|0,r=r+Math.imul(L,de)|0,i=(i=i+Math.imul(L,fe)|0)+Math.imul(j,de)|0,o=o+Math.imul(j,fe)|0;var Ne=(l+(r=r+Math.imul(A,pe)|0)|0)+((8191&(i=(i=i+Math.imul(A,me)|0)+Math.imul(O,pe)|0))<<13)|0;l=((o=o+Math.imul(O,me)|0)+(i>>>13)|0)+(Ne>>>26)|0,Ne&=67108863,r=Math.imul(F,ue),i=(i=Math.imul(F,le))+Math.imul(Y,ue)|0,o=Math.imul(Y,le),r=r+Math.imul(D,de)|0,i=(i=i+Math.imul(D,fe)|0)+Math.imul(I,de)|0,o=o+Math.imul(I,fe)|0;var Le=(l+(r=r+Math.imul(L,pe)|0)|0)+((8191&(i=(i=i+Math.imul(L,me)|0)+Math.imul(j,pe)|0))<<13)|0;l=((o=o+Math.imul(j,me)|0)+(i>>>13)|0)+(Le>>>26)|0,Le&=67108863,r=Math.imul(F,de),i=(i=Math.imul(F,fe))+Math.imul(Y,de)|0,o=Math.imul(Y,fe);var je=(l+(r=r+Math.imul(D,pe)|0)|0)+((8191&(i=(i=i+Math.imul(D,me)|0)+Math.imul(I,pe)|0))<<13)|0;l=((o=o+Math.imul(I,me)|0)+(i>>>13)|0)+(je>>>26)|0,je&=67108863;var Pe=(l+(r=Math.imul(F,pe))|0)+((8191&(i=(i=Math.imul(F,me))+Math.imul(Y,pe)|0))<<13)|0;return l=((o=Math.imul(Y,me))+(i>>>13)|0)+(Pe>>>26)|0,Pe&=67108863,u[0]=ge,u[1]=ye,u[2]=ve,u[3]=be,u[4]=_e,u[5]=we,u[6]=ke,u[7]=Ee,u[8]=xe,u[9]=Se,u[10]=Me,u[11]=Te,u[12]=Ce,u[13]=Ae,u[14]=Oe,u[15]=Ne,u[16]=Le,u[17]=je,u[18]=Pe,0!==l&&(u[19]=l,n.length++),n};function p(e,t,n){return(new m).mulp(e,t,n)}function m(e,t){this.x=e,this.y=t}Math.imul||(h=f),o.prototype.mulTo=function(e,t){var n=this.length+e.length;return 10===this.length&&10===e.length?h(this,e,t):n<63?f(this,e,t):n<1024?function(e,t,n){n.negative=t.negative^e.negative,n.length=e.length+t.length;for(var r=0,i=0,o=0;o<n.length-1;o++){var a=i;i=0;for(var s=67108863&r,u=Math.min(o,t.length-1),l=Math.max(0,o-e.length+1);l<=u;l++){var c=o-l,d=(0|e.words[c])*(0|t.words[l]),f=67108863&d;s=67108863&(f=f+s|0),i+=(a=(a=a+(d/67108864|0)|0)+(f>>>26)|0)>>>26,a&=67108863}n.words[o]=s,r=a,a=i}return 0!==r?n.words[o]=r:n.length--,n.strip()}(this,e,t):p(this,e,t)},m.prototype.makeRBT=function(e){for(var t=new Array(e),n=o.prototype._countBits(e)-1,r=0;r<e;r++)t[r]=this.revBin(r,n,e);return t},m.prototype.revBin=function(e,t,n){if(0===e||e===n-1)return e;for(var r=0,i=0;i<t;i++)r|=(1&e)<<t-i-1,e>>=1;return r},m.prototype.permute=function(e,t,n,r,i,o){for(var a=0;a<o;a++)r[a]=t[e[a]],i[a]=n[e[a]]},m.prototype.transform=function(e,t,n,r,i,o){this.permute(o,e,t,n,r,i);for(var a=1;a<i;a<<=1)for(var s=a<<1,u=Math.cos(2*Math.PI/s),l=Math.sin(2*Math.PI/s),c=0;c<i;c+=s)for(var d=u,f=l,h=0;h<a;h++){var p=n[c+h],m=r[c+h],g=n[c+h+a],y=r[c+h+a],v=d*g-f*y;y=d*y+f*g,g=v,n[c+h]=p+g,r[c+h]=m+y,n[c+h+a]=p-g,r[c+h+a]=m-y,h!==s&&(v=u*d-l*f,f=u*f+l*d,d=v)}},m.prototype.guessLen13b=function(e,t){var n=1|Math.max(t,e),r=1&n,i=0;for(n=n/2|0;n;n>>>=1)i++;return 1<<i+1+r},m.prototype.conjugate=function(e,t,n){if(!(n<=1))for(var r=0;r<n/2;r++){var i=e[r];e[r]=e[n-r-1],e[n-r-1]=i,i=t[r],t[r]=-t[n-r-1],t[n-r-1]=-i}},m.prototype.normalize13b=function(e,t){for(var n=0,r=0;r<t/2;r++){var i=8192*Math.round(e[2*r+1]/t)+Math.round(e[2*r]/t)+n;e[r]=67108863&i,n=i<67108864?0:i/67108864|0}return e},m.prototype.convert13b=function(e,t,n,i){for(var o=0,a=0;a<t;a++)o+=0|e[a],n[2*a]=8191&o,o>>>=13,n[2*a+1]=8191&o,o>>>=13;for(a=2*t;a<i;++a)n[a]=0;r(0===o),r(0==(-8192&o))},m.prototype.stub=function(e){for(var t=new Array(e),n=0;n<e;n++)t[n]=0;return t},m.prototype.mulp=function(e,t,n){var r=2*this.guessLen13b(e.length,t.length),i=this.makeRBT(r),o=this.stub(r),a=new Array(r),s=new Array(r),u=new Array(r),l=new Array(r),c=new Array(r),d=new Array(r),f=n.words;f.length=r,this.convert13b(e.words,e.length,a,r),this.convert13b(t.words,t.length,l,r),this.transform(a,o,s,u,r,i),this.transform(l,o,c,d,r,i);for(var h=0;h<r;h++){var p=s[h]*c[h]-u[h]*d[h];u[h]=s[h]*d[h]+u[h]*c[h],s[h]=p}return this.conjugate(s,u,r),this.transform(s,u,f,o,r,i),this.conjugate(f,o,r),this.normalize13b(f,r),n.negative=e.negative^t.negative,n.length=e.length+t.length,n.strip()},o.prototype.mul=function(e){var t=new o(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},o.prototype.mulf=function(e){var t=new o(null);return t.words=new Array(this.length+e.length),p(this,e,t)},o.prototype.imul=function(e){return this.clone().mulTo(e,this)},o.prototype.imuln=function(e){r("number"==typeof e),r(e<67108864);for(var t=0,n=0;n<this.length;n++){var i=(0|this.words[n])*e,o=(67108863&i)+(67108863&t);t>>=26,t+=i/67108864|0,t+=o>>>26,this.words[n]=67108863&o}return 0!==t&&(this.words[n]=t,this.length++),this},o.prototype.muln=function(e){return this.clone().imuln(e)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(e){var t=function(e){for(var t=new Array(e.bitLength()),n=0;n<t.length;n++){var r=n/26|0,i=n%26;t[n]=(e.words[r]&1<<i)>>>i}return t}(e);if(0===t.length)return new o(1);for(var n=this,r=0;r<t.length&&0===t[r];r++,n=n.sqr());if(++r<t.length)for(var i=n.sqr();r<t.length;r++,i=i.sqr())0!==t[r]&&(n=n.mul(i));return n},o.prototype.iushln=function(e){r("number"==typeof e&&e>=0);var t,n=e%26,i=(e-n)/26,o=67108863>>>26-n<<26-n;if(0!==n){var a=0;for(t=0;t<this.length;t++){var s=this.words[t]&o,u=(0|this.words[t])-s<<n;this.words[t]=u|a,a=s>>>26-n}a&&(this.words[t]=a,this.length++)}if(0!==i){for(t=this.length-1;t>=0;t--)this.words[t+i]=this.words[t];for(t=0;t<i;t++)this.words[t]=0;this.length+=i}return this.strip()},o.prototype.ishln=function(e){return r(0===this.negative),this.iushln(e)},o.prototype.iushrn=function(e,t,n){var i;r("number"==typeof e&&e>=0),i=t?(t-t%26)/26:0;var o=e%26,a=Math.min((e-o)/26,this.length),s=67108863^67108863>>>o<<o,u=n;if(i-=a,i=Math.max(0,i),u){for(var l=0;l<a;l++)u.words[l]=this.words[l];u.length=a}if(0===a);else if(this.length>a)for(this.length-=a,l=0;l<this.length;l++)this.words[l]=this.words[l+a];else this.words[0]=0,this.length=1;var c=0;for(l=this.length-1;l>=0&&(0!==c||l>=i);l--){var d=0|this.words[l];this.words[l]=c<<26-o|d>>>o,c=d&s}return u&&0!==c&&(u.words[u.length++]=c),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},o.prototype.ishrn=function(e,t,n){return r(0===this.negative),this.iushrn(e,t,n)},o.prototype.shln=function(e){return this.clone().ishln(e)},o.prototype.ushln=function(e){return this.clone().iushln(e)},o.prototype.shrn=function(e){return this.clone().ishrn(e)},o.prototype.ushrn=function(e){return this.clone().iushrn(e)},o.prototype.testn=function(e){r("number"==typeof e&&e>=0);var t=e%26,n=(e-t)/26,i=1<<t;return!(this.length<=n)&&!!(this.words[n]&i)},o.prototype.imaskn=function(e){r("number"==typeof e&&e>=0);var t=e%26,n=(e-t)/26;if(r(0===this.negative,"imaskn works only with positive numbers"),this.length<=n)return this;if(0!==t&&n++,this.length=Math.min(n,this.length),0!==t){var i=67108863^67108863>>>t<<t;this.words[this.length-1]&=i}return this.strip()},o.prototype.maskn=function(e){return this.clone().imaskn(e)},o.prototype.iaddn=function(e){return r("number"==typeof e),r(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},o.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},o.prototype.isubn=function(e){if(r("number"==typeof e),r(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this.strip()},o.prototype.addn=function(e){return this.clone().iaddn(e)},o.prototype.subn=function(e){return this.clone().isubn(e)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(e,t,n){var i,o,a=e.length+n;this._expand(a);var s=0;for(i=0;i<e.length;i++){o=(0|this.words[i+n])+s;var u=(0|e.words[i])*t;s=((o-=67108863&u)>>26)-(u/67108864|0),this.words[i+n]=67108863&o}for(;i<this.length-n;i++)s=(o=(0|this.words[i+n])+s)>>26,this.words[i+n]=67108863&o;if(0===s)return this.strip();for(r(-1===s),s=0,i=0;i<this.length;i++)s=(o=-(0|this.words[i])+s)>>26,this.words[i]=67108863&o;return this.negative=1,this.strip()},o.prototype._wordDiv=function(e,t){var n=(this.length,e.length),r=this.clone(),i=e,a=0|i.words[i.length-1];0!==(n=26-this._countBits(a))&&(i=i.ushln(n),r.iushln(n),a=0|i.words[i.length-1]);var s,u=r.length-i.length;if("mod"!==t){(s=new o(null)).length=u+1,s.words=new Array(s.length);for(var l=0;l<s.length;l++)s.words[l]=0}var c=r.clone()._ishlnsubmul(i,1,u);0===c.negative&&(r=c,s&&(s.words[u]=1));for(var d=u-1;d>=0;d--){var f=67108864*(0|r.words[i.length+d])+(0|r.words[i.length+d-1]);for(f=Math.min(f/a|0,67108863),r._ishlnsubmul(i,f,d);0!==r.negative;)f--,r.negative=0,r._ishlnsubmul(i,1,d),r.isZero()||(r.negative^=1);s&&(s.words[d]=f)}return s&&s.strip(),r.strip(),"div"!==t&&0!==n&&r.iushrn(n),{div:s||null,mod:r}},o.prototype.divmod=function(e,t,n){return r(!e.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:0!==this.negative&&0===e.negative?(s=this.neg().divmod(e,t),"mod"!==t&&(i=s.div.neg()),"div"!==t&&(a=s.mod.neg(),n&&0!==a.negative&&a.iadd(e)),{div:i,mod:a}):0===this.negative&&0!==e.negative?(s=this.divmod(e.neg(),t),"mod"!==t&&(i=s.div.neg()),{div:i,mod:s.mod}):0!=(this.negative&e.negative)?(s=this.neg().divmod(e.neg(),t),"div"!==t&&(a=s.mod.neg(),n&&0!==a.negative&&a.isub(e)),{div:s.div,mod:a}):e.length>this.length||this.cmp(e)<0?{div:new o(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new o(this.modn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new o(this.modn(e.words[0]))}:this._wordDiv(e,t);var i,a,s},o.prototype.div=function(e){return this.divmod(e,"div",!1).div},o.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},o.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},o.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var n=0!==t.div.negative?t.mod.isub(e):t.mod,r=e.ushrn(1),i=e.andln(1),o=n.cmp(r);return o<0||1===i&&0===o?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},o.prototype.modn=function(e){r(e<=67108863);for(var t=(1<<26)%e,n=0,i=this.length-1;i>=0;i--)n=(t*n+(0|this.words[i]))%e;return n},o.prototype.idivn=function(e){r(e<=67108863);for(var t=0,n=this.length-1;n>=0;n--){var i=(0|this.words[n])+67108864*t;this.words[n]=i/e|0,t=i%e}return this.strip()},o.prototype.divn=function(e){return this.clone().idivn(e)},o.prototype.egcd=function(e){r(0===e.negative),r(!e.isZero());var t=this,n=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i=new o(1),a=new o(0),s=new o(0),u=new o(1),l=0;t.isEven()&&n.isEven();)t.iushrn(1),n.iushrn(1),++l;for(var c=n.clone(),d=t.clone();!t.isZero();){for(var f=0,h=1;0==(t.words[0]&h)&&f<26;++f,h<<=1);if(f>0)for(t.iushrn(f);f-- >0;)(i.isOdd()||a.isOdd())&&(i.iadd(c),a.isub(d)),i.iushrn(1),a.iushrn(1);for(var p=0,m=1;0==(n.words[0]&m)&&p<26;++p,m<<=1);if(p>0)for(n.iushrn(p);p-- >0;)(s.isOdd()||u.isOdd())&&(s.iadd(c),u.isub(d)),s.iushrn(1),u.iushrn(1);t.cmp(n)>=0?(t.isub(n),i.isub(s),a.isub(u)):(n.isub(t),s.isub(i),u.isub(a))}return{a:s,b:u,gcd:n.iushln(l)}},o.prototype._invmp=function(e){r(0===e.negative),r(!e.isZero());var t=this,n=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i,a=new o(1),s=new o(0),u=n.clone();t.cmpn(1)>0&&n.cmpn(1)>0;){for(var l=0,c=1;0==(t.words[0]&c)&&l<26;++l,c<<=1);if(l>0)for(t.iushrn(l);l-- >0;)a.isOdd()&&a.iadd(u),a.iushrn(1);for(var d=0,f=1;0==(n.words[0]&f)&&d<26;++d,f<<=1);if(d>0)for(n.iushrn(d);d-- >0;)s.isOdd()&&s.iadd(u),s.iushrn(1);t.cmp(n)>=0?(t.isub(n),a.isub(s)):(n.isub(t),s.isub(a))}return(i=0===t.cmpn(1)?a:s).cmpn(0)<0&&i.iadd(e),i},o.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),n=e.clone();t.negative=0,n.negative=0;for(var r=0;t.isEven()&&n.isEven();r++)t.iushrn(1),n.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;n.isEven();)n.iushrn(1);var i=t.cmp(n);if(i<0){var o=t;t=n,n=o}else if(0===i||0===n.cmpn(1))break;t.isub(n)}return n.iushln(r)},o.prototype.invm=function(e){return this.egcd(e).a.umod(e)},o.prototype.isEven=function(){return 0==(1&this.words[0])},o.prototype.isOdd=function(){return 1==(1&this.words[0])},o.prototype.andln=function(e){return this.words[0]&e},o.prototype.bincn=function(e){r("number"==typeof e);var t=e%26,n=(e-t)/26,i=1<<t;if(this.length<=n)return this._expand(n+1),this.words[n]|=i,this;for(var o=i,a=n;0!==o&&a<this.length;a++){var s=0|this.words[a];o=(s+=o)>>>26,s&=67108863,this.words[a]=s}return 0!==o&&(this.words[a]=o,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(e){var t,n=e<0;if(0!==this.negative&&!n)return-1;if(0===this.negative&&n)return 1;if(this.strip(),this.length>1)t=1;else{n&&(e=-e),r(e<=67108863,"Number is too big");var i=0|this.words[0];t=i===e?0:i<e?-1:1}return 0!==this.negative?0|-t:t},o.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},o.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,n=this.length-1;n>=0;n--){var r=0|this.words[n],i=0|e.words[n];if(r!==i){r<i?t=-1:r>i&&(t=1);break}}return t},o.prototype.gtn=function(e){return 1===this.cmpn(e)},o.prototype.gt=function(e){return 1===this.cmp(e)},o.prototype.gten=function(e){return this.cmpn(e)>=0},o.prototype.gte=function(e){return this.cmp(e)>=0},o.prototype.ltn=function(e){return-1===this.cmpn(e)},o.prototype.lt=function(e){return-1===this.cmp(e)},o.prototype.lten=function(e){return this.cmpn(e)<=0},o.prototype.lte=function(e){return this.cmp(e)<=0},o.prototype.eqn=function(e){return 0===this.cmpn(e)},o.prototype.eq=function(e){return 0===this.cmp(e)},o.red=function(e){return new k(e)},o.prototype.toRed=function(e){return r(!this.red,"Already a number in reduction context"),r(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},o.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(e){return this.red=e,this},o.prototype.forceRed=function(e){return r(!this.red,"Already a number in reduction context"),this._forceRed(e)},o.prototype.redAdd=function(e){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},o.prototype.redIAdd=function(e){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},o.prototype.redSub=function(e){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},o.prototype.redISub=function(e){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},o.prototype.redShl=function(e){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},o.prototype.redMul=function(e){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},o.prototype.redIMul=function(e){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},o.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(e){return r(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var g={k256:null,p224:null,p192:null,p25519:null};function y(e,t){this.name=e,this.p=new o(t,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function v(){y.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function b(){y.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function _(){y.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function w(){y.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function k(e){if("string"==typeof e){var t=o._prime(e);this.m=t.p,this.prime=t}else r(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function E(e){k.call(this,e),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}y.prototype._tmp=function(){var e=new o(null);return e.words=new Array(Math.ceil(this.n/13)),e},y.prototype.ireduce=function(e){var t,n=e;do{this.split(n,this.tmp),t=(n=(n=this.imulK(n)).iadd(this.tmp)).bitLength()}while(t>this.n);var r=t<this.n?-1:n.ucmp(this.p);return 0===r?(n.words[0]=0,n.length=1):r>0?n.isub(this.p):n.strip(),n},y.prototype.split=function(e,t){e.iushrn(this.n,0,t)},y.prototype.imulK=function(e){return e.imul(this.k)},i(v,y),v.prototype.split=function(e,t){for(var n=Math.min(e.length,9),r=0;r<n;r++)t.words[r]=e.words[r];if(t.length=n,e.length<=9)return e.words[0]=0,void(e.length=1);var i=e.words[9];for(t.words[t.length++]=4194303&i,r=10;r<e.length;r++){var o=0|e.words[r];e.words[r-10]=(4194303&o)<<4|i>>>22,i=o}i>>>=22,e.words[r-10]=i,0===i&&e.length>10?e.length-=10:e.length-=9},v.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,n=0;n<e.length;n++){var r=0|e.words[n];t+=977*r,e.words[n]=67108863&t,t=64*r+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},i(b,y),i(_,y),i(w,y),w.prototype.imulK=function(e){for(var t=0,n=0;n<e.length;n++){var r=19*(0|e.words[n])+t,i=67108863&r;r>>>=26,e.words[n]=i,t=r}return 0!==t&&(e.words[e.length++]=t),e},o._prime=function(e){if(g[e])return g[e];var t;if("k256"===e)t=new v;else if("p224"===e)t=new b;else if("p192"===e)t=new _;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new w}return g[e]=t,t},k.prototype._verify1=function(e){r(0===e.negative,"red works only with positives"),r(e.red,"red works only with red numbers")},k.prototype._verify2=function(e,t){r(0==(e.negative|t.negative),"red works only with positives"),r(e.red&&e.red===t.red,"red works only with red numbers")},k.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):e.umod(this.m)._forceRed(this)},k.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},k.prototype.add=function(e,t){this._verify2(e,t);var n=e.add(t);return n.cmp(this.m)>=0&&n.isub(this.m),n._forceRed(this)},k.prototype.iadd=function(e,t){this._verify2(e,t);var n=e.iadd(t);return n.cmp(this.m)>=0&&n.isub(this.m),n},k.prototype.sub=function(e,t){this._verify2(e,t);var n=e.sub(t);return n.cmpn(0)<0&&n.iadd(this.m),n._forceRed(this)},k.prototype.isub=function(e,t){this._verify2(e,t);var n=e.isub(t);return n.cmpn(0)<0&&n.iadd(this.m),n},k.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},k.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},k.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},k.prototype.isqr=function(e){return this.imul(e,e.clone())},k.prototype.sqr=function(e){return this.mul(e,e)},k.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(r(t%2==1),3===t){var n=this.m.add(new o(1)).iushrn(2);return this.pow(e,n)}for(var i=this.m.subn(1),a=0;!i.isZero()&&0===i.andln(1);)a++,i.iushrn(1);r(!i.isZero());var s=new o(1).toRed(this),u=s.redNeg(),l=this.m.subn(1).iushrn(1),c=this.m.bitLength();for(c=new o(2*c*c).toRed(this);0!==this.pow(c,l).cmp(u);)c.redIAdd(u);for(var d=this.pow(c,i),f=this.pow(e,i.addn(1).iushrn(1)),h=this.pow(e,i),p=a;0!==h.cmp(s);){for(var m=h,g=0;0!==m.cmp(s);g++)m=m.redSqr();r(g<p);var y=this.pow(d,new o(1).iushln(p-g-1));f=f.redMul(y),d=y.redSqr(),h=h.redMul(d),p=g}return f},k.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},k.prototype.pow=function(e,t){if(t.isZero())return new o(1).toRed(this);if(0===t.cmpn(1))return e.clone();var n=new Array(16);n[0]=new o(1).toRed(this),n[1]=e;for(var r=2;r<n.length;r++)n[r]=this.mul(n[r-1],e);var i=n[0],a=0,s=0,u=t.bitLength()%26;for(0===u&&(u=26),r=t.length-1;r>=0;r--){for(var l=t.words[r],c=u-1;c>=0;c--){var d=l>>c&1;i!==n[0]&&(i=this.sqr(i)),0!==d||0!==a?(a<<=1,a|=d,(4===++s||0===r&&0===c)&&(i=this.mul(i,n[a]),s=0,a=0)):s=0}u=26}return i},k.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},k.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},o.mont=function(e){return new E(e)},i(E,k),E.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},E.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},E.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var n=e.imul(t),r=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=n.isub(r).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},E.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new o(0)._forceRed(this);var n=e.mul(t),r=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=n.isub(r).iushrn(this.shift),a=i;return i.cmp(this.m)>=0?a=i.isub(this.m):i.cmpn(0)<0&&(a=i.iadd(this.m)),a._forceRed(this)},E.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(void 0===e||e,this)}).call(t,n(26)(e))},,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=a(n(106)),o=a(n(47));function a(e){return e&&e.__esModule?e:{default:e}}var s=["#74b9ff","#a29bfe","#0984e3","#6c5ce7","#ff7675","#fd79a8","#fdcb6e","#e17055","#e84393"],u=null,l=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.colors=s.concat(d3.scaleOrdinal(d3.schemeCategory10).range()).concat(d3.scaleOrdinal(d3.schemeAccent).range()).concat(d3.scaleOrdinal(d3.schemePaired).range()).concat(d3.scaleOrdinal(d3.schemeSet1).range()),this.labelColorMap={},o.default.neo4jBaseInfo.labels.map(function(e){t._autoGenerateColor(e)})}return r(e,null,[{key:"shareInstance",value:function(){return u||(u=new e),u}},{key:"getColorByType",value:function(e){return this.shareInstance().getColorByType(e)}},{key:"getIconByType",value:function(e){return this.shareInstance().getIconByType(e)}},{key:"labels",get:function(){return Object.keys(this.shareInstance().labelColorMap)}}]),r(e,[{key:"_autoGenerateColor",value:function(e){var t=this,n={color:"#ffffff",iconIndex:0};if(!e||""==e)return n;if("Remark"==e)return n.color="#e67e22",n;if(/\:/gi.test(e)){var r=e.split(":");if(r.length>0&&!this.labelColorMap[e]){var i="#FFFFFF";r.forEach(function(e){var n=t.labelColorMap[e]?t.labelColorMap[e]:"#ffffff";i=t.avgcolor(i,n)})}}return this.labelColorMap[e]?n.color=this.labelColorMap[e]:(this.labelColorMap[e]=this.colors[Object.keys(this.labelColorMap).length%this.colors.length],n.color=this.labelColorMap[e]),n}},{key:"avgcolor",value:function(e,t){var n=function(e,t){return(e+t)/2},r=function(e){return parseInt((""+e).replace("#",""),16)},i=function(e){return(e>>0).toString(16)},o=r(e),a=r(t),s=function(e){return e>>16&255},u=function(e){return e>>8&255},l=function(e){return 255&e};return"#"+i(n(s(o),s(a)))+i(n(u(o),u(a)))+i(n(l(o),l(a)))}},{key:"getIconByType",value:function(e){return this._autoGenerateColor(e).iconIndex}},{key:"getColorByType",value:function(e){var t=i.default.instance().getLabelConfig(e),n=this._autoGenerateColor(e).color;return t&&t.background_color?t.background_color:n}}]),e}();t.default=l},,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GraphxrSearchIndexKeyName=t.MetaQuery=void 0;var r=c(n(84)),i=c(n(105)),o=c(n(11)),a=l(n(270)),s=l(n(253)),u=c(n(10));c(n(50));function l(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function c(e){return e&&e.__esModule?e:{default:e}}var d=t.MetaQuery="\nCALL db.labels() YIELD label\nRETURN {name:'labels', data:COLLECT(label)[..1000]} as result\nUNION ALL\nCALL db.relationshipTypes() YIELD relationshipType\nRETURN {name:'relationships', data:COLLECT(relationshipType)[..1000]} as result\nUNION ALL\nCALL db.propertyKeys() YIELD propertyKey\nRETURN {name:'properties', data:COLLECT(propertyKey)[..1000]} as result\n",f=t.GraphxrSearchIndexKeyName="graphxrIndex",h="server"==window.globalVariable.requestMode;var p={convertNeo4jPropsDataResToJSON:function(e){return e&&Array.isArray(e.data)?e.data.filter(function(e){return Array.isArray(e)&&2==e.length&&"props"!=e[1]}).reduce(function(e,t){var n;e[t[0]]?((n=e[t[0]].props).push.apply(n,function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(t[1])),e[t[0]].props=o.default.uniq(e[t[0]].props).sort()):e[t[0]]={name:t[0],props:(t[1]||[]).sort()};return e},{}):{}},isNeo4jDesktopDB:function(){return"Neo4jDesktop"==p.getProjectId()},getProjectId:function(){var e=window.location.pathname.replace(/.+\/([A-Z0-9]{24,})\/.+/gi,"$1");return/^\/simulation\/.+/gi.test(window.location.pathname)?e="configDemoHost":/^\/p\/Neo4jDesktop\//gi.test(window.location.pathname)?e="Neo4jDesktop":window.location.pathname==e&&(e="default"),e},getProjectName:function(){return window.location.pathname.replace(/.+\/[A-Z0-9]{24,}\/(.+)/gi,"$1")},getCurrentCacheProject:function(){return(s.getItem("connections")||{})[p.getProjectId()]||{}},setCurrentCacheProject:function(e,t){var n=Object.assign({_id:p.getProjectId(),isLocal:!!t,isShare:!1,isDemo:!1,lastTime:(new Date).getTime(),user:t?window.globalVariable._id:null},e),r=s.getItem("connections")||{};r[n._id]=n,o.default.forEach(r,function(e,t){(!e.lastTime||(new Date).getTime()-e.lastTime>18e6)&&delete r[t]}),s.setItem("connections",r)},isShareStatus:function(){return p.getCurrentCacheProject().isShare&&/^\/share\/[a-z0-9]{22,}\/.+/.test(window.location.pathname)},hasShareContrl:function(){return!p.isShareStatus()&&p.getCurrentCacheProject().user==window.globalVariable._id},getProjectRemoteStatus:function(e){return!!(!e||e.isDemo||e.isShare||h&&!e.isLocal)},getNeo4jBaseInfo:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return new Promise(function(t,n){p.excuteCommand(d,e).then(function(e){var n,r,i=(n=e,r={},(n=o.default.flatMap(n.data.filter(function(e){return e[0].name}))).forEach(function(e){r[e.name]=e.data}),r);t(Object.assign({labels:[],relationships:[],properties:[],meta:{labels:{},relationships:{},indexs:{}},summary:{version:e.summary.version}},i))}).catch(function(e){console.error(e),n(e)})})},searchGraph:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n="CALL apoc.index.search('"+f+"', '**"+String(e).replace(/\W+/g,"*")+"**', 200) YIELD node RETURN *";t||(e=String(e).replace(/(\/+)?\'/,"\\'"),n="CALL db.index.fulltext.queryNodes('"+f+"','"+("/(.+)?"+e+"(.+)?/")+"') YIELD node RETURN node LIMIT 200");return new Promise(function(r,i){p.excuteCommand(n,!0,t).then(function(t){r({status:0,message:"query success",content:{data:t,keyword:e}})}).catch(function(e){u.default.showHints(e.message),r({status:1,content:[]})})})},getNodeNeighbors:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:25,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=e.type?":`"+e.type+"`":"",a=(e.uids||[e.uid]).filter(function(e){return/^\d+$/g.test(e)}),s=(e.rids||[]).filter(function(e){return/^\d+$/g.test(e)}),u=e.relationships||[],l=o.default.size(s)>0?" AND NOT(ID(r) IN["+s.join(", ")+"])":"",c=i.default.instance().getInvisibleRelationships()||[],d=o.default.size(c)>0?" AND NOT(TYPE(r) IN['"+c.join("', '")+"'])":"";o.default.remove(u,function(e){return c.includes(e)});var f="MATCH (n"+r+")-[r]-(m) WHERE ID(n) IN ["+a+"] \n\t\t "+d+" "+l+" "+(o.default.size(u)>0?" AND TYPE(r) IN['"+u.join("', '")+"'] ":"")+"\n\t\t RETURN r,m SKIP "+n+" LIMIT "+t+" ";return p.excuteCommand(f,!0)},removeSearchIndex:function(){return new Promise(function(e,t){r.default.waterfall([function(e){var t="CALL db.index.fulltext.drop('"+f+"')";p.excuteCommand(t,!0).then(function(){e(null)}).catch(function(t){e(null)})},function(e){var t="CALL apoc.index.remove('"+f+"')";p.excuteCommand(t,!0,!0).then(function(){e(null)}).catch(function(t){e(null)})}],function(t){e()})})},getFullSearchIndex:function(){var e="CALL db.indexes() yield  indexName , tokenNames , properties , progress  WHERE indexName='"+f+"' RETURN tokenNames as labels, properties as props   ";return new Promise(function(t,n){return p.excuteCommand(e).then(function(e){var n=e&&Array.isArray(e.data)?e.data.reduce(function(e,t){return{labels:t[0],props:t[1]}},{}):{};t(n)}).catch(function(e){n(e)})})},getAPOCIndex:function(){return new Promise(function(e,t){return p.excuteCommand("CALL apoc.index.list() yield name as indexName, type as indexType, config as indexConfig",!1,!0).then(function(t){var n=t&&Array.isArray(t.data)?t.data.filter(function(e){return Array.isArray(e)&&3==e.length&&e[0]==f}).reduce(function(e,t){var n=t[2];return o.default.forEach(n,function(t,n){if(/keysForLabel\:/gi.test(n)){var r=n.replace(/keysForLabel\:/gi,"");e[r]={},String(t).split(":").forEach(function(t){t.indexOf(",")<0&&(e[r][t]=!0)})}}),e},{}):{};e(n)}).catch(function(e){t(e)})})},convertToAPOCQuery:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];return"CALL apoc.index.addAllNodes('"+f+"',{\n"+o.default.map(e,function(e,t){var n=o.default.map(e,function(e,t){return e?t:null}).sort(function(e,t){return e>t?1:-1}).filter(function(e){return null!==e});return n.length>0?t+":['"+n.join("','")+"']":null}).sort(function(e,t){return e>t?1:-1}).filter(function(e){return null!==e}).join(","+(t?"\n":""))+"\n}, {autoUpdate:true})"},convertToIndexQuery:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(arguments[1],{}),n={};return o.default.forEach(e,function(e,r){var i=o.default.map(e,function(e,t){return e?t:null}).sort(function(e,t){return e>t?1:-1}).filter(function(e){return null!==e});i.length>0&&(t[r]=r,i.forEach(function(e){return n[e]=e}))}),"CALL db.index.fulltext.createNodeIndex('"+f+"',[\n'"+o.default.map(t,function(e){return e}).sort(function(e,t){return e>t?1:-1}).join("','")+"'\n],[\n'"+o.default.map(n,function(e){return e}).sort(function(e,t){return e>t?1:-1}).join("','")+"'\n])"},getProps:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{labels:!0,relationships:!0,indexs:!1},t=arguments[1];return new Promise(function(n,i){t||u.default.showLoading(),r.default.waterfall([function(n){p.getPropsWithAPOC(e,t).then(function(e){n(null,e)}).catch(function(e){console.warn("Not Install APOC"),n(null,null)})},function(n,r){n?r(null,n):p.getPropsWithFirstRecord(e,t).then(function(e){r(null,e)}).catch(function(e){r(e)})}],function(e,t){e?i(e):n(t)})})},getPropsWithAPOC:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];var e=arguments[1];return e||u.default.showLoading(),new Promise(function(t,n){r.default.waterfall([function(e){var t={labels:{},relationships:{},indexs:{},schema:{labels:[],relationships:[]}};p.getSchema().then(function(n){t.schema=n||{},e(null,t)}).catch(function(t){e(t)})},function(e,t){p.excuteCommand("CALL  apoc.meta.data() yield label, property, index, type, array, other, elementType ",!0).then(function(n){var r={labels:{},relationships:{},indexs:{}};n&&n.data&&u.default.convertCSVArrayToJSON(n.data).filter(function(e){return"RELATIONSHIP"!=e.type}).forEach(function(e){"node"==e.elementType?(r.labels[e.label]||(r.labels[e.label]={name:e.label,props:[]},r.indexs[e.label]={name:e.label,props:[]}),e.index&&r.indexs[e.label].props.push(e.property),r.labels[e.label].props.push(e.property)):"relationship"==e.elementType&&(r.relationships[e.label]||(r.relationships[e.label]={name:e.label,props:[]}),r.relationships[e.label].props.push(e.property))});o.default.forEach(r,function(e){o.default.forEach(e,function(e){e.props=o.default.uniq(e.props)})}),Object.assign(e,r),t(null,e)}).catch(function(e){t(e)})}],function(r,i){r?(e||u.default.showHints(r.message),n(r)):(e||u.default.hideLoading(),t(i))})})},getSchema:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t={labels:[],relationships:[],maps:[]};return p.excuteCommand("CALL db.schema()",e).then(function(e){var n={},r={};return e&&e.data&&e.data.nodes&&e.data.relationships&&(e.data.nodes.forEach(function(e){n[e.id]={id:e.id,name:Array.isArray(e.labels)?e.labels[0]:e.labels}}),e.data.relationships.forEach(function(e){r[e.id]={id:e.id,name:e.type,startLabelName:n[e.startNodeId].name,endLabelName:n[e.endNodeId].name}}),t.labels=o.default.map(n,function(e){return e.name}),t.relationships=o.default.map(r,function(e){return e.name}),t.maps=o.default.values(r)),t})},getPropsWithFirstRecord:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{labels:!0,relationships:!0,indexs:!0},t=arguments[1];return new Promise(function(n,i){t||u.default.showLoading(),r.default.waterfall([function(e){var t={labels:{},relationships:{},indexs:{},schema:{labels:[],relationships:[]}};p.getSchema().then(function(n){t.schema=n||{},e(null,t)}).catch(function(t){e(t)})},function(t,n){if(!e.labels||0==o.default.size(t.schema.labels))return n(null,t);var r=o.default.map(t.schema.labels).map(function(e){return" MATCH (n:`"+e+"`) RETURN '"+e+"' as label, keys(n) as props LIMIT 1 "}).join(" UNION ");p.excuteCommand(r).then(function(e){t.labels=p.convertNeo4jPropsDataResToJSON(e),n(null,t)}).catch(function(e){n(e)})},function(t,n){if(!e.relationships||o.default.size(t.schema.maps)<=0)return n(null,t);var r=o.default.map(t.schema.maps,function(e){return" MATCH (:`"+e.startLabelName+"`)-[r:`"+e.name+"`]->(:`"+e.endLabelName+"`) RETURN type(r) as relationship, keys(r) as props LIMIT 1 "}).join(" UNION ");p.excuteCommand(r).then(function(e){t.relationships=p.convertNeo4jPropsDataResToJSON(e),n(null,t)}).catch(function(e){n(e)})},function(t,n){if(!e.indexs)return n(null,t);p.excuteCommand("CALL db.indexes() yield label , properties as props").then(function(e){t.indexs=p.convertNeo4jPropsDataResToJSON(e),n(null,t)}).catch(function(e){n(e)})}],function(e,r){e?(t||u.default.showHints(e.message),i(e)):(t||u.default.hideLoading(),n(r))})})},excuteCommand:function(e,t,n){return new Promise(function(i,o){t||u.default.showLoading();var l=s.getItem("connections")||{},c=p.getProjectId();r.default.waterfall([function(e){e(null,l[c])},function(e,t){!e||!e.lastTime||(new Date).getTime()-e.lastTime>18e6?u.default.sendRequst("/api/graph/"+window.globalVariable.graphDatabaseType+"/project/getInfo",{id:c},function(n,r){!n&&0==r.status&&r.content?t(null,r.content):t(null,e)},"POST",!1,!0):t(null,e)},function(e,t){e?!e.lastTime||(new Date).getTime()-e.lastTime>18e6?(p.setCurrentCacheProject(e),t(null,e)):t(null,e):t(p.isNeo4jDesktopDB()?new Error("The Neo4j Desktop DB is inactive"):new Error("Cannot get project information"))},function(e,t){p.getProjectRemoteStatus(e)?u.default.sendRequst("/api/graph/"+window.globalVariable.graphDatabaseType+"/project/connect",{id:c},function(n,r){t(n||(0!==r.status?new Error(r.message):null),e)},"POST",!1,!0):a.checkConnect(e.hostname,e.boltPort,e.username,e.password,function(n){t(n,e)},!0)},function(n,r){p.getProjectRemoteStatus(n)?u.default.sendRequst("/api/graph/"+window.globalVariable.graphDatabaseType+"/excuteCommand",{command:e,projectId:c},function(e,t){e||t&&0!==t.status?r(e||new Error(t.message)):r(null,t?t.content:n)},"POST",!1,t):a.excuteCommand(e,n,function(e,t){r(e,t)})}],function(e,r){if(e){var a=l[c];return e=p.friendlyError(e,a&&a.hostname&&a.boltPort?a.hostname+":"+a.boltPort:null,n),t||u.default.showHints(e.message),o(e)}return t||u.default.hideLoading(),i(r)})})},friendlyError:function(e,t,n){if(!e||!e.message)return e;if(/Due to security constraints in your web browser/gi.test(e.message)){var r="";t&&(r='\n\t\t\t\t\t<br/><br/>\t\n\t\t\t\t\tManual trust configuration for Chrome\t\n\t\t\t\t\t<br/>\t\n\t\t\t\t\t Please click Neo4j bolt https link.\t\n\t\t\t\t\t<a href="https://'+t+'" target="_blank">https://'+t+'</a>\t\n\t\t\t\t\t<br/>\t\n\t\t\t\t\t Next, click "<i>ADVANCED</i>"\t\n\t\t\t\t\t<br/>\t\n\t\t\t\t\t Next, click "<i>Proceed to '+t.replace(/:\d+$/gi,"")+' (unsafe)</i>".\n\t\t\t\t\t<br/>\t\n\t\t\t\t\t<br/>\t\n\t\t\t\t\tThis will enable your browser to accept the WSS connection required by bolt.\t\n\t\t\t\t\tOnly use this method with trusted data sources.'),e.message="Due to security constraints in your web browser, \n\t\t\t\tplease ensure your browser is configured to trust the certificate of Neo4j instance.\n\t\t\t\t"+r+"\n\t\t\t\t",p.isNeo4jDesktopDB()&&(e.message="The Neo4j Desktop DB is inactive")}else if(n&&/apoc.index/gi.test(e.message)){if(e.message='Please ensure your Neo4j instance has the APOC plugin installed and define an index named "graphxrIndex"\n\t\t\treference <a href="/help/apoc-full-text-search-config" target="_blank">APOC Full Text Search Config</a>. ',t&&p.hasShareContrl()){var i="/apoc-search-index/"+p.getProjectId()+"/"+p.getProjectName();e.message+=' If you already installed APOC, please goto <a href="'+i+'" target="_blank">APOC Search Index Config GUI</a>'}}else if(!n&&/db.index.fulltext.queryNodes/gi.test(e.message)&&/no such fulltext schema index/gi.test(e.message)){var o="/apoc-search-index/"+p.getProjectId()+"/"+p.getProjectName();e.message='Please goto <a href="'+o+'" target="_blank">Search Index Config</a>, and config search index.'}return e}};t.default=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(47),a=(r=o)&&r.__esModule?r:{default:r};var s=["#3366cc","#dc3912","#ff9900","#109618","#990099","#0099c6","#dd4477","#66aa00","#b82e2e","#316395","#994499","#22aa99","#aaaa11","#6633cc","#e67300","#8b0707","#651067","#329262","#5574a6","#3b3eac"],u=null,l=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.colors=s,this.relationshipColorMap={},a.default.neo4jBaseInfo.relationships.map(function(e){t._autoGenerateColor(e)})}return i(e,null,[{key:"shareInstance",value:function(){return u||(u=new e),u}},{key:"getColorByName",value:function(e){return this.shareInstance().getColorByName(e)}},{key:"relationships",get:function(){return Object.keys(this.shareInstance().relationshipColorMap)}}]),i(e,[{key:"_autoGenerateColor",value:function(e){return this.relationshipColorMap[e]||(this.relationshipColorMap[e]=this.colors[Object.keys(this.relationshipColorMap).length%this.colors.length]),this.relationshipColorMap[e]}},{key:"getColorByName",value:function(e){return this._autoGenerateColor(e)}}]),e}();t.default=l},function(e,t,n){"use strict";var r=n(288),i=n(1170),o=n(560),a=n(113),s=n(108),u=n(1171),l=function(){function e(e){this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,e&&(this._unsubscribe=e)}var t;return e.prototype.unsubscribe=function(){var e,t=!1;if(!this.closed){var n=this._parent,l=this._parents,d=this._unsubscribe,f=this._subscriptions;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;for(var h=-1,p=l?l.length:0;n;)n.remove(this),n=++h<p&&l[h]||null;if(o.isFunction(d))a.tryCatch(d).call(this)===s.errorObject&&(t=!0,e=e||(s.errorObject.e instanceof u.UnsubscriptionError?c(s.errorObject.e.errors):[s.errorObject.e]));if(r.isArray(f))for(h=-1,p=f.length;++h<p;){var m=f[h];if(i.isObject(m))if(a.tryCatch(m.unsubscribe).call(m)===s.errorObject){t=!0,e=e||[];var g=s.errorObject.e;g instanceof u.UnsubscriptionError?e=e.concat(c(g.errors)):e.push(g)}}if(t)throw new u.UnsubscriptionError(e)}},e.prototype.add=function(t){if(!t||t===e.EMPTY)return e.EMPTY;if(t===this)return this;var n=t;switch(typeof t){case"function":n=new e(t);case"object":if(n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if("function"!=typeof n._addParent){var r=n;(n=new e)._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}return(this._subscriptions||(this._subscriptions=[])).push(n),n._addParent(this),n},e.prototype.remove=function(e){var t=this._subscriptions;if(t){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}},e.prototype._addParent=function(e){var t=this._parent,n=this._parents;t&&t!==e?n?-1===n.indexOf(e)&&n.push(e):this._parents=[e]:this._parent=e},e.EMPTY=((t=new e).closed=!0,t),e}();function c(e){return e.reduce(function(e,t){return e.concat(t instanceof u.UnsubscriptionError?t.errors:t)},[])}t.Subscription=l},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var i=null,o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.configs={}}return r(e,[{key:"getRelationshipConfig",value:function(e){return this.configs[e]||{}}},{key:"init",value:function(e){var t=this;e&&e instanceof Array&&e.forEach(function(e){t.configs[e.relationship]=e})}},{key:"getInvisibleRelationships",value:function(){var e=this,t=[];return Object.keys(this.configs).forEach(function(n){0==e.configs[n].visible&&t.push(n)}),t}},{key:"addConfig",value:function(e){this.configs[e.relationship]=e}},{key:"updateRelationship",value:function(e){this.configs[e.relationship]=Object.assign(this.configs[e]||{},e,{isUserAction:!0}),console.log(this.configs)}}],[{key:"instance",value:function(){return null==i?i=new this:i}}]),e}();t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var i=null,o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.configs={}}return r(e,null,[{key:"instance",value:function(){return null==i?i=new this:i}}]),r(e,[{key:"getLabelConfig",value:function(e){return this.configs[String(e)]||{}}},{key:"init",value:function(e){var t=this;e&&e instanceof Array&&e.forEach(function(e){e&&(t.configs[e.label]=e)})}},{key:"addConfig",value:function(e){this.configs[e.label]=e}},{key:"updateLabel",value:function(e,t){this.configs[e.label]=Object.assign(this.configs[e.label]||{},e,{isUserAction:!0})}}]),e}();t.default=o},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},i=n(7),o=n(24),a=n(103),s=n(563),u=n(1173),l=n(561),c=function(e){function t(t){e.call(this,t),this.destination=t}return r(t,e),t}(o.Subscriber);t.SubjectSubscriber=c;var d=function(e){function t(){e.call(this),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}return r(t,e),t.prototype[l.rxSubscriber]=function(){return new c(this)},t.prototype.lift=function(e){var t=new f(this,this);return t.operator=e,t},t.prototype.next=function(e){if(this.closed)throw new s.ObjectUnsubscribedError;if(!this.isStopped)for(var t=this.observers,n=t.length,r=t.slice(),i=0;i<n;i++)r[i].next(e)},t.prototype.error=function(e){if(this.closed)throw new s.ObjectUnsubscribedError;this.hasError=!0,this.thrownError=e,this.isStopped=!0;for(var t=this.observers,n=t.length,r=t.slice(),i=0;i<n;i++)r[i].error(e);this.observers.length=0},t.prototype.complete=function(){if(this.closed)throw new s.ObjectUnsubscribedError;this.isStopped=!0;for(var e=this.observers,t=e.length,n=e.slice(),r=0;r<t;r++)n[r].complete();this.observers.length=0},t.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},t.prototype._trySubscribe=function(t){if(this.closed)throw new s.ObjectUnsubscribedError;return e.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(e){if(this.closed)throw new s.ObjectUnsubscribedError;return this.hasError?(e.error(this.thrownError),a.Subscription.EMPTY):this.isStopped?(e.complete(),a.Subscription.EMPTY):(this.observers.push(e),new u.SubjectSubscription(this,e))},t.prototype.asObservable=function(){var e=new i.Observable;return e.source=this,e},t.create=function(e,t){return new f(e,t)},t}(i.Observable);t.Subject=d;var f=function(e){function t(t,n){e.call(this),this.destination=t,this.source=n}return r(t,e),t.prototype.next=function(e){var t=this.destination;t&&t.next&&t.next(e)},t.prototype.error=function(e){var t=this.destination;t&&t.error&&this.destination.error(e)},t.prototype.complete=function(){var e=this.destination;e&&e.complete&&this.destination.complete()},t.prototype._subscribe=function(e){return this.source?this.source.subscribe(e):a.Subscription.EMPTY},t}(d);t.AnonymousSubject=f},function(e,t,n){"use strict";t.errorObject={e:{}}},,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Edge=t.Node=t.ColorSchema=t.GraphXR=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=s(n(11)),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(23)),a=s(n(50));function s(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var l={LABEL:0,TAG:1,PROPERTY:2},c=function(){function e(t){u(this,e),this.options=t||{},this.nodeSet={},this.nodes=[],this.edges=[],this.filters=[],this.renderNeedsUpdate=!1,this.colorSchema=l.LABEL,this.visibleNodes=[],this.visibleEdges=[],this.layoutNodes=this.visibleNodes,this.layoutEdges=this.visibleEdges}return r(e,[{key:"addFilter",value:function(e){this.filters.push(e)}},{key:"resetFilter",value:function(){this.nodes.forEach(function(e){e.alpha=1,e.image&&(e.alpha=0,e.imageAlpha=1)}),this.edges.forEach(function(e){e.alpha=1})}},{key:"applyFilters",value:function(){var e=this;this.filters.forEach(function(t){t.apply(e)})}},{key:"addNode",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this.reached_limit())return!1;if(this.renderNeedsUpdate=t,void 0==this.nodeSet[e.id]){var n=e;return e instanceof d||(n=new d(e.id)).restore(e),this.nodeSet[e.id]=n,this.nodes.push(n),this.layoutNodes.push(n),!0}return!!this.nodeSet[e.id]&&(this.nodeSet[e.id].restore(e,!0),!0)}},{key:"addNodes",value:function(e){var t=this;e.forEach(function(e){t.addNode(e)})}},{key:"clear",value:function(){for(var e in this.renderNeedsUpdate=!0,this.nodeSet)delete this.nodeSet[e];this.nodes.length=0,this.edges.length=0,this.layoutEdges.length=0,this.layoutNodes.length=0,this.visibleEdges.length=0,this.visibleNodes.length=0}},{key:"removeAllNodesAndEdges",value:function(){this.clear()}},{key:"nodeIdExist",value:function(e){return void 0!=this.nodeSet[e]}},{key:"getNode",value:function(e){return this.getNodeById(e)}},{key:"getNodeById",value:function(e){return this.nodeSet[e]}},{key:"getEdgesToNode",value:function(e){return this.getEdgesWithNodeId(e?e.id:null)}},{key:"getEdgesWithNodeId",value:function(e){return i.default.filter(this.edges,function(t){return t.sourceId===e||t.targetId===e})}},{key:"addEdges",value:function(e){var t,n,r,i=this,o=[];(e.forEach(function(e){var t=i.nodeSet[e.sourceId],n=i.nodeSet[e.targetId],r=i.getEdgeWithId(e.sourceId,e.targetId);if(t&&n&&!r){var a=e;e instanceof f?(a.source=t,a.target=n):a=new f(t,n,{color:e.color,alpha:e.alpha}),o.push(a)}else r&&(r.restore(e),r.source=t,r.target=n)}),(t=this.edges).push.apply(t,o),(n=this.layoutEdges).push.apply(n,o),this.layoutEdges!=this.visibleEdges)&&(r=this.visibleEdges).push.apply(r,o)}},{key:"getNodeByName",value:function(e){return i.default.find(this.nodes,function(t){return t.data.name==e})}},{key:"getEdgeWithId",value:function(e,t){return i.default.find(this.edges,function(n){return n.sourceId==e&&n.targetId==t})}},{key:"getEdge",value:function(e,t){return e&&t?this.getEdgeWithId(e.id,t.id):null}},{key:"addEdge",value:function(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(!e||!t)return null;this.renderNeedsUpdate=r;var i=this.getEdge(e,t);return i||(i=new f(e,t),n&&(n.data&&(i.data=n.data),n.color&&(i.color=n.color),n.alpha&&(i.alpha=n.alpha)),this.edges.push(i),this.layoutEdges.push(i),this.layoutEdges!=this.visibleEdges&&this.visibleEdges.push(i)),i}},{key:"removeEdge",value:function(e,t){i.default.remove(this.edges,function(n){return n.sourceId==e&&n.targetId==t}),i.default.remove(this.layoutEdges,function(n){return n.sourceId==e&&n.targetId==t}),i.default.remove(this.visibleEdges,function(n){return n.sourceId==e&&n.targetId==t}),this.renderNeedsUpdate=!0}},{key:"reached_limit",value:function(){return void 0!=this.options.limit&&this.options.limit<=this.nodes.length}},{key:"update_degree",value:function(){this.nodes.forEach(function(e){e.degree=0,e.neighbor=[]}),this.edges.forEach(function(e){e.source.degree+=1,e.source.neighbor.push(e.target.id),e.target.degree+=1,e.target.neighbor.push(e.source.id)})}},{key:"sanity_check",value:function(){this.edges.forEach(function(e){e.source==e.target&&console.log("src == tgt "+e.sourceId+" --- "+e.targetId)})}},{key:"createFromArray",value:function(e){var t=this,n={};e.layoutNodes.forEach(function(e){t.addNode(e,!1),n[e.id]=e.id}),this.removeNodesByIds(this.nodes.filter(function(e){return void 0===n[e.id]}).map(function(e){return e.id}));var r={};e.layoutEdges.forEach(function(e){var n=t.addEdge(t.getNodeById(e.sourceId),t.getNodeById(e.targetId),{},!1);n&&n.id&&(r[n.id]=n.id)}),i.default.remove(this.edges,function(e){return!r[e.id]}),i.default.remove(this.layoutEdges,function(e){return!r[e.id]}),i.default.remove(this.visibleEdges,function(e){return!r[e.id]}),this.renderNeedsUpdate=!0}},{key:"serializeLayoutNodesPosition",value:function(e){return{layoutNodes:this.layoutNodes.map(function(e){return{id:e.id,position:e.position}})}}},{key:"serialize",value:function(){var e=this.layoutEdges,t=this.layoutNodes;return{layoutEdges:e.map(function(e){return{alpha:e.alpha,sourceId:e.sourceId,targetId:e.targetId}}),layoutNodes:t.map(function(e){return{alpha:e.alpha,id:e.id,position:e.position,data:{}}})}}},{key:"updatePositionFromArray",value:function(e){var t=this;e.length==this.layoutNodes.length&&(e.forEach(function(e){t.nodeSet[e.id]&&(t.nodeSet[e.id].position.x=e.position.x,t.nodeSet[e.id].position.y=e.position.y,t.nodeSet[e.id].position.z=e.position.z)}),this.renderNeedsUpdate=!0)}},{key:"updatePropertyByLabel",value:function(e,t,n){this.nodes.filter(function(t){return t.data.detail.type==e}).forEach(function(e){void 0!==e[t]&&(e[t]=n)})}},{key:"updateNodeSizeByProperty",value:function(e,t){if(""==t)this.nodes.filter(function(t){return t.data.detail.type==e}).forEach(function(e){return e.size=window.currentNodesSize?window.currentNodesSize:1.585});else{var n=this.nodes.filter(function(t){return t.data.detail.type==e}).filter(function(e){return void 0!==e.data.detail.data[t]&&"number"==typeof e.data.detail.data[t]}),r=n.map(function(e){return e.data.detail.data[t]}).filter(function(e){return!isNaN(e)});if(r.length<2)console.log("Not enough valid number for node size scaling");else{var o=i.default.max(r)+1e-4,a=i.default.min(r);n.forEach(function(e){var n,r,i;void 0!==e.data.detail.data[t]&&"number"==typeof e.data.detail.data[t]&&(e.size=(n=e.data.detail.data[t],r=o,i=a,window.currentNodesSize?(1+(n-i)/(r-i)*3)*window.currentNodesSize:1*(1+(n-i)/(r-i)*3)))})}}}},{key:"updateNodeParams",value:function(e){var t=this;Object.keys(e).forEach(function(n){t.nodeSet[n]&&(t.nodeSet[n].position.x=e[n].position.x,t.nodeSet[n].position.y=e[n].position.y,t.nodeSet[n].position.z=e[n].position.z,t.nodeSet[n].alpha=e[n].alpha,t.nodeSet[n].imageAlpha=e[n].imageAlpha,t.nodeSet[n].size=e[n].size,t.nodeSet[n].selected=e[n].selected,t.nodeSet[n].icon=e[n].icon)}),this.renderNeedsUpdate=!0}},{key:"updateVisibleAndLayoutElements",value:function(e){e||this.update_degree(),this.visibleNodes=e?this.nodes.filter(function(e){return e.degree>1}):[].concat(this.nodes),this.visibleEdges=e?this.edges.filter(function(e){return e.source.degree>1&&e.target.degree>1}):[].concat(this.edges),this.layoutNodes=this.visibleNodes,this.layoutEdges=this.visibleEdges,console.log("full: "+this.nodes.length+", "+this.edges.length+"\n      visible: "+this.visibleNodes.length+", "+this.visibleEdges.length),this.renderNeedsUpdate=!0}},{key:"removeVisibleLeaf",value:function(){var e={};this.visibleEdges.forEach(function(t){e[t.sourceId]||(e[t.sourceId]={}),e[t.targetId]||(e[t.targetId]={}),e[t.sourceId][t.id]=t.id,e[t.targetId][t.id]=t.id}),i.default.forEach(e,function(t,n){e[n]=i.default.size(t)}),this.visibleNodes=this.visibleNodes.filter(function(t){return e[t.id]>1}),this.visibleEdges=this.visibleEdges.filter(function(t){return e[t.sourceId]>1&&e[t.targetId]>1}),this.layoutNodes=this.visibleNodes,this.layoutEdges=this.visibleEdges,this.renderNeedsUpdate=!0}},{key:"removeNodeWithoutEdges",value:function(){var e=this,t=this.visibleNodes.filter(function(t){var n=i.default.filter(e.visibleEdges,function(e){return e.sourceId==t.id||e.targetId==t.id});return!n||0==n.length});this.removeNodesByIds(t.map(function(e){return e.id}),!0)}},{key:"removeEdgesNodeNotExist",value:function(){var e=this,t=this.edges.filter(function(t){var n=e.nodeSet[t.sourceId],r=e.nodeSet[t.targetId];return void 0==n||void 0==r}).map(function(e){return e.id});this.removeEdgesByIds(t)}},{key:"removeNodeById",value:function(e){this.nodeIdExist(e)&&this.removeNodesByIds([e])}},{key:"removeNodesByIds",value:function(e,t){var n=this;if(e&&Array.isArray(e)&&e.length>0){var r=i.default.remove(t?this.visibleEdges:this.edges,function(t){return e.includes(t.sourceId)||e.includes(t.targetId)}),o={};r.forEach(function(e){o[e.id]=!0}),i.default.remove(this.edges,function(e){return o[e.id]}),i.default.remove(this.visibleEdges,function(e){return o[e.id]}),i.default.remove(this.layoutEdges,function(e){return o[e.id]}),r&&r.length>0&&r.forEach(function(e){e.source.data.neighborsCount=0,e.source.data.hasAllNeighbors=!1,e.target.data.neighborsCount=0,e.target.data.hasAllNeighbors=!1});var a=i.default.remove(t?this.visibleNodes:this.nodes,function(t){return e.includes(t.id)}).map(function(e){return e.id});a&&a.length>0&&(a.forEach(function(e){delete n.nodeSet[e]}),i.default.remove(this.nodes,function(e){return a.includes(e.id)}),i.default.remove(this.layoutNodes,function(e){return a.includes(e.id)}),i.default.remove(this.visibleNodes,function(e){return a.includes(e.id)}))}}},{key:"removeEdgesByIds",value:function(e){if(e&&Array.isArray(e)&&e.length>0){var t=i.default.remove(this.edges,function(t){return e.includes(t.id)});i.default.remove(this.layoutEdges,function(t){return e.includes(t.id)}),i.default.remove(this.visibleEdges,function(t){return e.includes(t.id)}),t&&t.length>0&&t.forEach(function(e){e.source.data.neighborsCount=0,e.source.data.hasAllNeighbors=!1,e.target.data.neighborsCount=0,e.target.data.hasAllNeighbors=!1})}}},{key:"updateEdgeSourceTarget",value:function(e){e&&(e.target=this.nodeSet[e.targetId],e.source=this.nodeSet[e.sourceId])}}]),e}(),d=function(){function e(t,n){u(this,e),this.id=String(t),this.index=0,this.degree=0,this.position=new o.Vector3(0,0,0),this.color=new o.Color(3836361),this.alpha=1,this.imageAlpha=1,this.icon=0,this.data={},this.pinned=!1,this.fixed=!1,this.selected=!1,this.wasFixed=!1,this.size=Math.pow(10,.2),this.clone=this.clone.bind(this)}return r(e,[{key:"clone",value:function(){var t=new e(this.id);return t.index=this.index,t.degree=this.degree,t.position=this.position.clone(),t.color=this.color.clone(),t.size=this.size,t.alpha=this.alpha,t.imageAlpha=this.imageAlpha,t.icon=this.icon,t.data=this.data,t.pinned=this.pinned,t.fixed=this.fixed,t.selected=this.selected,t.wasFixed=this.wasFixed,t}},{key:"restore",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.index=e.index,this.degree=e.degree,t||(this.position=(new o.Vector3).fromArray(e.position)),this.color=new o.Color(e.color),this.alpha=e.alpha,this.imageAlpha=e.imageAlpha,this.icon=e.icon,this.size=e.size,this.data=e.data||this.data,this.pinned=e.pinned,this.fixed=e.fixed,this.selected=e.selected,this.wasFixed=e.wasFixed,this}},{key:"toJSON",value:function(){return{id:this.id,index:this.index,degree:this.degree,position:this.position.toArray(),color:this.color.getStyle(),size:this.size,alpha:this.alpha,imageAlpha:this.imageAlpha,icon:this.icon,data:this.data,pinned:this.pinned,fixed:this.fixed,selected:this.selected,wasFixed:this.wasFixed}}}]),e}(),f=function(){function e(t,n,r){u(this,e),this.uid="",this.sourceId=t.id,this.targetId=n.id,this.source=t,this.target=n,this.name="",this.alpha=r&&r.alpha?r.alpha:a.default.config.edgeDefaultAlpha,this.properties={},this.color=new o.Color(r&&r.color?r.color:a.default.colors.edge)}return r(e,[{key:"toJSON",value:function(){return{id:this.id,sourceId:this.sourceId,targetId:this.targetId,name:this.name,data:this.data,properties:this.properties,alpha:this.alpha,color:this.color.getStyle()}}},{key:"restore",value:function(e){return this.sourceId=e.sourceId,this.targetId=e.targetId,this.name=e.name,this.data=e.data||this.data,this.alpha=e.alpha,this.properties=e.properties||this.properties||{},this.color=new o.Color(e.color),this}},{key:"id",get:function(){return this.sourceId+"-"+this.targetId}}]),e}();t.GraphXR=c,t.ColorSchema=l,t.Node=d,t.Edge=f},function(e,t,n){"use strict";var r,i=n(108);function o(){try{return r.apply(this,arguments)}catch(e){return i.errorObject.e=e,i.errorObject}}t.tryCatch=function(e){return r=e,o}},,,function(e,t,n){"use strict";(function(e){var n="undefined"!=typeof window&&window,r="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,i=n||void 0!==e&&e||r;t.root=i,function(){if(!i)throw new Error("RxJS could not find any global context (window, self, global)")}()}).call(t,n(22))},,,,,,,,,,,function(e,t,n){(function(e){"use strict";e.defineLocale("af",{months:"Januarie_Februarie_Maart_April_Mei_Junie_Julie_Augustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mrt_Apr_Mei_Jun_Jul_Aug_Sep_Okt_Nov_Des".split("_"),weekdays:"Sondag_Maandag_Dinsdag_Woensdag_Donderdag_Vrydag_Saterdag".split("_"),weekdaysShort:"Son_Maa_Din_Woe_Don_Vry_Sat".split("_"),weekdaysMin:"So_Ma_Di_Wo_Do_Vr_Sa".split("_"),meridiemParse:/vm|nm/i,isPM:function(e){return/^nm$/i.test(e)},meridiem:function(e,t,n){return e<12?n?"vm":"VM":n?"nm":"NM"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Vandag om] LT",nextDay:"[Mre om] LT",nextWeek:"dddd [om] LT",lastDay:"[Gister om] LT",lastWeek:"[Laas] dddd [om] LT",sameElse:"L"},relativeTime:{future:"oor %s",past:"%s gelede",s:"'n paar sekondes",ss:"%d sekondes",m:"'n minuut",mm:"%d minute",h:"'n uur",hh:"%d ure",d:"'n dag",dd:"%d dae",M:"'n maand",MM:"%d maande",y:"'n jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(e){return e+(1===e||8===e||e>=20?"ste":"de")},week:{dow:1,doy:4}})})(n(0))},function(e,t,n){(function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"},r=function(e){return 0===e?0:1===e?1:2===e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5},i={s:["  "," ",["",""],"%d ","%d ","%d "],m:["  "," ",["",""],"%d ","%d ","%d "],h:["  "," ",["",""],"%d ","%d ","%d "],d:["  "," ",["",""],"%d ","%d ","%d "],M:["  "," ",["",""],"%d ","%d ","%d "],y:["  "," ",["",""],"%d ","%d ","%d "]},o=function(e){return function(t,n,o,a){var s=r(t),u=i[e][r(t)];return 2===s&&(u=u[n?0:1]),u.replace(/%d/i,t)}},a=["","","","","","","","","","","",""];e.defineLocale("ar",{months:a,monthsShort:a,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/M/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(e){return""===e},meridiem:function(e,t,n){return e<12?"":""},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:o("s"),ss:o("s"),m:o("m"),mm:o("m"),h:o("h"),hh:o("h"),d:o("d"),dd:o("d"),M:o("M"),MM:o("M"),y:o("y"),yy:o("y")},preparse:function(e){return e.replace(/[]/g,function(e){return n[e]}).replace(//g,",")},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]}).replace(/,/g,"")},week:{dow:6,doy:12}})})(n(0))},function(e,t,n){(function(e){"use strict";e.defineLocale("ar-dz",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},week:{dow:0,doy:4}})})(n(0))},function(e,t,n){(function(e){"use strict";e.defineLocale("ar-kw",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},week:{dow:0,doy:12}})})(n(0))},function(e,t,n){(function(e){"use strict";var t={1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",0:"0"},n=function(e){return 0===e?0:1===e?1:2===e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5},r={s:["  "," ",["",""],"%d ","%d ","%d "],m:["  "," ",["",""],"%d ","%d ","%d "],h:["  "," ",["",""],"%d ","%d ","%d "],d:["  "," ",["",""],"%d ","%d ","%d "],M:["  "," ",["",""],"%d ","%d ","%d "],y:["  "," ",["",""],"%d ","%d ","%d "]},i=function(e){return function(t,i,o,a){var s=n(t),u=r[e][n(t)];return 2===s&&(u=u[i?0:1]),u.replace(/%d/i,t)}},o=["","","","","","","","","","","",""];e.defineLocale("ar-ly",{months:o,monthsShort:o,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/M/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(e){return""===e},meridiem:function(e,t,n){return e<12?"":""},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:i("s"),ss:i("s"),m:i("m"),mm:i("m"),h:i("h"),hh:i("h"),d:i("d"),dd:i("d"),M:i("M"),MM:i("M"),y:i("y"),yy:i("y")},preparse:function(e){return e.replace(//g,",")},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]}).replace(/,/g,"")},week:{dow:6,doy:12}})})(n(0))},function(e,t,n){(function(e){"use strict";e.defineLocale("ar-ma",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},week:{dow:6,doy:12}})})(n(0))},function(e,t,n){(function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};e.defineLocale("ar-sa",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(e){return""===e},meridiem:function(e,t,n){return e<12?"":""},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},preparse:function(e){return e.replace(/[]/g,function(e){return n[e]}).replace(//g,",")},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]}).replace(/,/g,"")},week:{dow:0,doy:6}})})(n(0))},function(e,t,n){(function(e){"use strict";e.defineLocale("ar-tn",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},week:{dow:1,doy:4}})})(n(0))},function(e,t,n){(function(e){"use strict";var t={1:"-inci",5:"-inci",8:"-inci",70:"-inci",80:"-inci",2:"-nci",7:"-nci",20:"-nci",50:"-nci",3:"-nc",4:"-nc",100:"-nc",6:"-nc",9:"-uncu",10:"-uncu",30:"-uncu",60:"-nc",90:"-nc"};e.defineLocale("az",{months:"yanvar_fevral_mart_aprel_may_iyun_iyul_avqust_sentyabr_oktyabr_noyabr_dekabr".split("_"),monthsShort:"yan_fev_mar_apr_may_iyn_iyl_avq_sen_okt_noy_dek".split("_"),weekdays:"Bazar_Bazar ertsi_rnb axam_rnb_Cm axam_Cm_nb".split("_"),weekdaysShort:"Baz_BzE_Ax_r_CAx_Cm_n".split("_"),weekdaysMin:"Bz_BE_A__CA_C_".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bugn saat] LT",nextDay:"[sabah saat] LT",nextWeek:"[gln hft] dddd [saat] LT",lastDay:"[dnn] LT",lastWeek:"[ken hft] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s vvl",s:"birne saniy",ss:"%d saniy",m:"bir dqiq",mm:"%d dqiq",h:"bir saat",hh:"%d saat",d:"bir gn",dd:"%d gn",M:"bir ay",MM:"%d ay",y:"bir il",yy:"%d il"},meridiemParse:/gec|shr|gndz|axam/,isPM:function(e){return/^(gndz|axam)$/.test(e)},meridiem:function(e,t,n){return e<4?"gec":e<12?"shr":e<17?"gndz":"axam"},dayOfMonthOrdinalParse:/\d{1,2}-(nc|inci|nci|nc|nc|uncu)/,ordinal:function(e){if(0===e)return e+"-nc";var n=e%10;return e+(t[n]||t[e%100-n]||t[e>=100?100:null])},week:{dow:1,doy:7}})})(n(0))},function(e,t,n){(function(e){"use strict";function t(e,t,n){var r,i;return"m"===n?t?"":"":"h"===n?t?"":"":e+" "+(r=+e,i={ss:t?"__":"__",mm:t?"__":"__",hh:t?"__":"__",dd:"__",MM:"__",yy:"__"}[n].split("_"),r%10==1&&r%100!=11?i[0]:r%10>=2&&r%10<=4&&(r%100<10||r%100>=20)?i[1]:i[2])}e.defineLocale("be",{months:{format:"___________".split("_"),standalone:"___________".split("_")},monthsShort:"___________".split("_"),weekdays:{format:"______".split("_"),standalone:"______".split("_"),isFormat:/\[ ?[] ?(?:|)? ?\] ?dddd/},weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., HH:mm",LLLL:"dddd, D MMMM YYYY ., HH:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",lastDay:"[ ] LT",nextWeek:function(){return"[] dddd [] LT"},lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return"[ ] dddd [] LT";case 1:case 2:case 4:return"[ ] dddd [] LT"}},sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",m:t,mm:t,h:t,hh:t,d:"",dd:t,M:"",MM:t,y:"",yy:t},meridiemParse:/|||/,isPM:function(e){return/^(|)$/.test(e)},meridiem:function(e,t,n){return e<4?"":e<12?"":e<17?"":""},dayOfMonthOrdinalParse:/\d{1,2}-(||)/,ordinal:function(e,t){switch(t){case"M":case"d":case"DDD":case"w":case"W":return e%10!=2&&e%10!=3||e%100==12||e%100==13?e+"-":e+"-";case"D":return e+"-";default:return e}},week:{dow:1,doy:7}})})(n(0))},function(e,t,n){(function(e){"use strict";e.defineLocale("bg",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[ ] dddd [] LT";case 1:case 2:case 4:case 5:return"[ ] dddd [] LT"}},sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:" ",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}-(|||||)/,ordinal:function(e){var t=e%10,n=e%100;return 0===e?e+"-":0===n?e+"-":n>10&&n<20?e+"-":1===t?e+"-":2===t?e+"-":7===t||8===t?e+"-":e+"-"},week:{dow:1,doy:7}})})(n(0))},function(e,t,n){(function(e){"use strict";e.defineLocale("bm",{months:"Zanwuyekalo_Fewuruyekalo_Marisikalo_Awirilikalo_Mkalo_Zuwnkalo_Zuluyekalo_Utikalo_Stanburukalo_kutburukalo_Nowanburukalo_Desanburukalo".split("_"),monthsShort:"Zan_Few_Mar_Awi_M_Zuw_Zul_Uti_St_ku_Now_Des".split("_"),weekdays:"Kari_Ntnn_Tarata_Araba_Alamisa_Juma_Sibiri".split("_"),weekdaysShort:"Kar_Nt_Tar_Ara_Ala_Jum_Sib".split("_"),weekdaysMin:"Ka_Nt_Ta_Ar_Al_Ju_Si".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"MMMM [tile] D [san] YYYY",LLL:"MMMM [tile] D [san] YYYY [lr] HH:mm",LLLL:"dddd MMMM [tile] D [san] YYYY [lr] HH:mm"},calendar:{sameDay:"[Bi lr] LT",nextDay:"[Sini lr] LT",nextWeek:"dddd [don lr] LT",lastDay:"[Kunu lr] LT",lastWeek:"dddd [tmnen lr] LT",sameElse:"L"},relativeTime:{future:"%s kn",past:"a b %s b",s:"sanga dama dama",ss:"sekondi %d",m:"miniti kelen",mm:"miniti %d",h:"lr kelen",hh:"lr %d",d:"tile kelen",dd:"tile %d",M:"kalo kelen",MM:"kalo %d",y:"san kelen",yy:"san %d"},week:{dow:1,doy:4}})})(n(0))},function(e,t,n){(function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};e.defineLocale("bn",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(e){return e.replace(/[]/g,function(e){return n[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]})},meridiemParse:/||||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t&&e>=4||""===t&&e<5||""===t?e+12:e},meridiem:function(e,t,n){return e<4?"":e<10?"":e<17?"":e<20?"":""},week:{dow:0,doy:6}})})(n(0))},function(e,t,n){(function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};e.defineLocale("bo",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[], LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},preparse:function(e){return e.replace(/[]/g,function(e){return n[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]})},meridiemParse:/||||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t&&e>=4||""===t&&e<5||""===t?e+12:e},meridiem:function(e,t,n){return e<4?"":e<10?"":e<17?"":e<20?"":""},week:{dow:0,doy:6}})})(n(0))},function(e,t,n){(function(e){"use strict";function t(e,t,n){return e+" "+function(e,t){if(2===t)return function(e){var t={m:"v",b:"v",d:"z"};if(void 0===t[e.charAt(0)])return e;return t[e.charAt(0)]+e.substring(1)}(e);return e}({mm:"munutenn",MM:"miz",dd:"devezh"}[n],e)}e.defineLocale("br",{months:"Genver_C'hwevrer_Meurzh_Ebrel_Mae_Mezheven_Gouere_Eost_Gwengolo_Here_Du_Kerzu".split("_"),monthsShort:"Gen_C'hwe_Meu_Ebr_Mae_Eve_Gou_Eos_Gwe_Her_Du_Ker".split("_"),weekdays:"Sul_Lun_Meurzh_Merc'her_Yaou_Gwener_Sadorn".split("_"),weekdaysShort:"Sul_Lun_Meu_Mer_Yao_Gwe_Sad".split("_"),weekdaysMin:"Su_Lu_Me_Mer_Ya_Gw_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h[e]mm A",LTS:"h[e]mm:ss A",L:"DD/MM/YYYY",LL:"D [a viz] MMMM YYYY",LLL:"D [a viz] MMMM YYYY h[e]mm A",LLLL:"dddd, D [a viz] MMMM YYYY h[e]mm A"},calendar:{sameDay:"[Hiziv da] LT",nextDay:"[Warc'hoazh da] LT",nextWeek:"dddd [da] LT",lastDay:"[Dec'h da] LT",lastWeek:"dddd [paset da] LT",sameElse:"L"},relativeTime:{future:"a-benn %s",past:"%s 'zo",s:"un nebeud segondenno",ss:"%d eilenn",m:"ur vunutenn",mm:t,h:"un eur",hh:"%d eur",d:"un devezh",dd:t,M:"ur miz",MM:t,y:"ur bloaz",yy:function(e){switch(function e(t){return t>9?e(t%10):t}(e)){case 1:case 3:case 4:case 5:case 9:return e+" bloaz";default:return e+" vloaz"}}},dayOfMonthOrdinalParse:/\d{1,2}(a|vet)/,ordinal:function(e){return e+(1===e?"a":"vet")},week:{dow:1,doy:4}})})(n(0))},function(e,t,n){(function(e){"use strict";function t(e,t,n){var r=e+" ";switch(n){case"ss":return r+=1===e?"sekunda":2===e||3===e||4===e?"sekunde":"sekundi";case"m":return t?"jedna minuta":"jedne minute";case"mm":return r+=1===e?"minuta":2===e||3===e||4===e?"minute":"minuta";case"h":return t?"jedan sat":"jednog sata";case"hh":return r+=1===e?"sat":2===e||3===e||4===e?"sata":"sati";case"dd":return r+=1===e?"dan":"dana";case"MM":return r+=1===e?"mjesec":2===e||3===e||4===e?"mjeseca":"mjeseci";case"yy":return r+=1===e?"godina":2===e||3===e||4===e?"godine":"godina"}}e.defineLocale("bs",{months:"januar_februar_mart_april_maj_juni_juli_august_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._aug._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_etvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._et._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_e_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[juer u] LT",lastWeek:function(){switch(this.day()){case 0:case 3:return"[prolu] dddd [u] LT";case 6:return"[prole] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[proli] dddd [u] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",ss:t,m:t,mm:t,h:t,hh:t,d:"dan",dd:t,M:"mjesec",MM:t,y:"godinu",yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})})(n(0))},function(e,t,n){(function(e){"use strict";e.defineLocale("ca",{months:{standalone:"gener_febrer_mar_abril_maig_juny_juliol_agost_setembre_octubre_novembre_desembre".split("_"),format:"de gener_de febrer_de mar_d'abril_de maig_de juny_de juliol_d'agost_de setembre_d'octubre_de novembre_de desembre".split("_"),isFormat:/D[oD]?(\s)+MMMM/},monthsShort:"gen._febr._mar_abr._maig_juny_jul._ag._set._oct._nov._des.".split("_"),monthsParseExact:!0,weekdays:"diumenge_dilluns_dimarts_dimecres_dijous_divendres_dissabte".split("_"),weekdaysShort:"dg._dl._dt._dc._dj._dv._ds.".split("_"),weekdaysMin:"dg_dl_dt_dc_dj_dv_ds".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [de] YYYY",ll:"D MMM YYYY",LLL:"D MMMM [de] YYYY [a les] H:mm",lll:"D MMM YYYY, H:mm",LLLL:"dddd D MMMM [de] YYYY [a les] H:mm",llll:"ddd D MMM YYYY, H:mm"},calendar:{sameDay:function(){return"[avui a "+(1!==this.hours()?"les":"la")+"] LT"},nextDay:function(){return"[dem a "+(1!==this.hours()?"les":"la")+"] LT"},nextWeek:function(){return"dddd [a "+(1!==this.hours()?"les":"la")+"] LT"},lastDay:function(){return"[ahir a "+(1!==this.hours()?"les":"la")+"] LT"},lastWeek:function(){return"[el] dddd [passat a "+(1!==this.hours()?"les":"la")+"] LT"},sameElse:"L"},relativeTime:{future:"d'aqu %s",past:"fa %s",s:"uns segons",ss:"%d segons",m:"un minut",mm:"%d minuts",h:"una hora",hh:"%d hores",d:"un dia",dd:"%d dies",M:"un mes",MM:"%d mesos",y:"un any",yy:"%d anys"},dayOfMonthOrdinalParse:/\d{1,2}(r|n|t||a)/,ordinal:function(e,t){var n=1===e?"r":2===e?"n":3===e?"r":4===e?"t":"";return"w"!==t&&"W"!==t||(n="a"),e+n},week:{dow:1,doy:4}})})(n(0))},function(e,t,n){(function(e){"use strict";var t="leden_nor_bezen_duben_kvten_erven_ervenec_srpen_z_jen_listopad_prosinec".split("_"),n="led_no_be_dub_kv_vn_vc_srp_z_j_lis_pro".split("_");function r(e){return e>1&&e<5&&1!=~~(e/10)}function i(e,t,n,i){var o=e+" ";switch(n){case"s":return t||i?"pr sekund":"pr sekundami";case"ss":return t||i?o+(r(e)?"sekundy":"sekund"):o+"sekundami";case"m":return t?"minuta":i?"minutu":"minutou";case"mm":return t||i?o+(r(e)?"minuty":"minut"):o+"minutami";case"h":return t?"hodina":i?"hodinu":"hodinou";case"hh":return t||i?o+(r(e)?"hodiny":"hodin"):o+"hodinami";case"d":return t||i?"den":"dnem";case"dd":return t||i?o+(r(e)?"dny":"dn"):o+"dny";case"M":return t||i?"msc":"mscem";case"MM":return t||i?o+(r(e)?"msce":"msc"):o+"msci";case"y":return t||i?"rok":"rokem";case"yy":return t||i?o+(r(e)?"roky":"let"):o+"lety"}}e.defineLocale("cs",{months:t,monthsShort:n,monthsParse:function(e,t){var n,r=[];for(n=0;n<12;n++)r[n]=new RegExp("^"+e[n]+"$|^"+t[n]+"$","i");return r}(t,n),shortMonthsParse:function(e){var t,n=[];for(t=0;t<12;t++)n[t]=new RegExp("^"+e[t]+"$","i");return n}(n),longMonthsParse:function(e){var t,n=[];for(t=0;t<12;t++)n[t]=new RegExp("^"+e[t]+"$","i");return n}(t),weekdays:"nedle_pondl_ter_steda_tvrtek_ptek_sobota".split("_"),weekdaysShort:"ne_po_t_st_t_p_so".split("_"),weekdaysMin:"ne_po_t_st_t_p_so".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd D. MMMM YYYY H:mm",l:"D. M. YYYY"},calendar:{sameDay:"[dnes v] LT",nextDay:"[ztra v] LT",nextWeek:function(){switch(this.day()){case 0:return"[v nedli v] LT";case 1:case 2:return"[v] dddd [v] LT";case 3:return"[ve stedu v] LT";case 4:return"[ve tvrtek v] LT";case 5:return"[v ptek v] LT";case 6:return"[v sobotu v] LT"}},lastDay:"[vera v] LT",lastWeek:function(){switch(this.day()){case 0:return"[minulou nedli v] LT";case 1:case 2:return"[minul] dddd [v] LT";case 3:return"[minulou stedu v] LT";case 4:case 5:return"[minul] dddd [v] LT";case 6:return"[minulou sobotu v] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"ped %s",s:i,ss:i,m:i,mm:i,h:i,hh:i,d:i,dd:i,M:i,MM:i,y:i,yy:i},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})})(n(0))},function(e,t,n){(function(e){"use strict";e.defineLocale("cv",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"YYYY [] MMMM [] D[-]",LLL:"YYYY [] MMMM [] D[-], HH:mm",LLLL:"dddd, YYYY [] MMMM [] D[-], HH:mm"},calendar:{sameDay:"[] LT []",nextDay:"[] LT []",lastDay:"[] LT []",nextWeek:"[] dddd LT []",lastWeek:"[] dddd LT []",sameElse:"L"},relativeTime:{future:function(e){return e+(/$/i.exec(e)?"":/$/i.exec(e)?"":"")},past:"%s ",s:"- ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}-/,ordinal:"%d-",week:{dow:1,doy:7}})})(n(0))},function(e,t,n){(function(e){"use strict";e.defineLocale("cy",{months:"Ionawr_Chwefror_Mawrth_Ebrill_Mai_Mehefin_Gorffennaf_Awst_Medi_Hydref_Tachwedd_Rhagfyr".split("_"),monthsShort:"Ion_Chwe_Maw_Ebr_Mai_Meh_Gor_Aws_Med_Hyd_Tach_Rhag".split("_"),weekdays:"Dydd Sul_Dydd Llun_Dydd Mawrth_Dydd Mercher_Dydd Iau_Dydd Gwener_Dydd Sadwrn".split("_"),weekdaysShort:"Sul_Llun_Maw_Mer_Iau_Gwe_Sad".split("_"),weekdaysMin:"Su_Ll_Ma_Me_Ia_Gw_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Heddiw am] LT",nextDay:"[Yfory am] LT",nextWeek:"dddd [am] LT",lastDay:"[Ddoe am] LT",lastWeek:"dddd [diwethaf am] LT",sameElse:"L"},relativeTime:{future:"mewn %s",past:"%s yn l",s:"ychydig eiliadau",ss:"%d eiliad",m:"munud",mm:"%d munud",h:"awr",hh:"%d awr",d:"diwrnod",dd:"%d diwrnod",M:"mis",MM:"%d mis",y:"blwyddyn",yy:"%d flynedd"},dayOfMonthOrdinalParse:/\d{1,2}(fed|ain|af|il|ydd|ed|eg)/,ordinal:function(e){var t="";return e>20?t=40===e||50===e||60===e||80===e||100===e?"fed":"ain":e>0&&(t=["","af","il","ydd","ydd","ed","ed","ed","fed","fed","fed","eg","fed","eg","eg","fed","eg","eg","fed","eg","fed"][e]),e+t},week:{dow:1,doy:4}})})(n(0))},function(e,t,n){(function(e){"use strict";e.defineLocale("da",{months:"januar_februar_marts_april_maj_juni_juli_august_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"sndag_mandag_tirsdag_onsdag_torsdag_fredag_lrdag".split("_"),weekdaysShort:"sn_man_tir_ons_tor_fre_lr".split("_"),weekdaysMin:"s_ma_ti_on_to_fr_l".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd [d.] D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[i dag kl.] LT",nextDay:"[i morgen kl.] LT",nextWeek:"p dddd [kl.] LT",lastDay:"[i gr kl.] LT",lastWeek:"[i] dddd[s kl.] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s siden",s:"f sekunder",ss:"%d sekunder",m:"et minut",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dage",M:"en mned",MM:"%d mneder",y:"et r",yy:"%d r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})})(n(0))},function(e,t,n){(function(e){"use strict";function t(e,t,n,r){var i={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[e+" Tage",e+" Tagen"],M:["ein Monat","einem Monat"],MM:[e+" Monate",e+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[e+" Jahre",e+" Jahren"]};return t?i[n][0]:i[n][1]}e.defineLocale("de",{months:"Januar_Februar_Mrz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Feb._Mrz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:t,mm:"%d Minuten",h:t,hh:"%d Stunden",d:t,dd:t,M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})})(n(0))},function(e,t,n){(function(e){"use strict";function t(e,t,n,r){var i={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[e+" Tage",e+" Tagen"],M:["ein Monat","einem Monat"],MM:[e+" Monate",e+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[e+" Jahre",e+" Jahren"]};return t?i[n][0]:i[n][1]}e.defineLocale("de-at",{months:"Jnner_Februar_Mrz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jn._Feb._Mrz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:t,mm:"%d Minuten",h:t,hh:"%d Stunden",d:t,dd:t,M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})})(n(0))},function(e,t,n){(function(e){"use strict";function t(e,t,n,r){var i={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[e+" Tage",e+" Tagen"],M:["ein Monat","einem Monat"],MM:[e+" Monate",e+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[e+" Jahre",e+" Jahren"]};return t?i[n][0]:i[n][1]}e.defineLocale("de-ch",{months:"Januar_Februar_Mrz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Feb._Mrz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:t,mm:"%d Minuten",h:t,hh:"%d Stunden",d:t,dd:t,M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})})(n(0))},function(e,t,n){(function(e){"use strict";var t=["","","","","","","","","","","",""],n=["","","","","","",""];e.defineLocale("dv",{months:t,monthsShort:t,weekdays:n,weekdaysShort:n,weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/M/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(e){return""===e},meridiem:function(e,t,n){return e<12?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd LT",lastDay:"[] LT",lastWeek:"[] dddd LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",ss:"d% ",m:"",mm:" %d",h:"",hh:" %d",d:"",dd:" %d",M:"",MM:" %d",y:"",yy:" %d"},preparse:function(e){return e.replace(//g,",")},postformat:function(e){return e.replace(/,/g,"")},week:{dow:7,doy:12}})})(n(0))},function(e,t,n){(function(e){"use strict";e.defineLocale("el",{monthsNominativeEl:"___________".split("_"),monthsGenitiveEl:"___________".split("_"),months:function(e,t){return e?"string"==typeof t&&/D/.test(t.substring(0,t.indexOf("MMMM")))?this._monthsGenitiveEl[e.month()]:this._monthsNominativeEl[e.month()]:this._monthsNominativeEl},monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),meridiem:function(e,t,n){return e>11?n?"":"":n?"":""},isPM:function(e){return""===(e+"").toLowerCase()[0]},meridiemParse:/[]\.??\.?/i,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendarEl:{sameDay:"[ {}] LT",nextDay:"[ {}] LT",nextWeek:"dddd [{}] LT",lastDay:"[ {}] LT",lastWeek:function(){switch(this.day()){case 6:return"[ ] dddd [{}] LT";default:return"[ ] dddd [{}] LT"}},sameElse:"L"},calendar:function(e,t){var n,r=this._calendarEl[e],i=t&&t.hours();return((n=r)instanceof Function||"[object Function]"===Object.prototype.toString.call(n))&&(r=r.apply(t)),r.replace("{}",i%12==1?"":"")},relativeTime:{future:" %s",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})})(n(0))},function(e,t,n){(function(e){"use strict";e.defineLocale("en-au",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:1,doy:4}})})(n(0))},function(e,t,n){(function(e){"use strict";e.defineLocale("en-ca",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"YYYY-MM-DD",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}})})(n(0))},function(e,t,n){(function(e){"use strict";e.defineLocale("en-gb",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:1,doy:4}})})(n(0))},function(e,t,n){(function(e){"use strict";e.defineLocale("en-ie",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:1,doy:4}})})(n(0))},function(e,t,n){(function(e){"use strict";e.defineLocale("en-il",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}})})(n(0))},function(e,t,n){(function(e){"use strict";e.defineLocale("en-nz",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:1,doy:4}})})(n(0))},function(e,t,n){(function(e){"use strict";e.defineLocale("eo",{months:"januaro_februaro_marto_aprilo_majo_junio_julio_agusto_septembro_oktobro_novembro_decembro".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_ag_sep_okt_nov_dec".split("_"),weekdays:"dimano_lundo_mardo_merkredo_ado_vendredo_sabato".split("_"),weekdaysShort:"dim_lun_mard_merk_a_ven_sab".split("_"),weekdaysMin:"di_lu_ma_me_a_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D[-a de] MMMM, YYYY",LLL:"D[-a de] MMMM, YYYY HH:mm",LLLL:"dddd, [la] D[-a de] MMMM, YYYY HH:mm"},meridiemParse:/[ap]\.t\.m/i,isPM:function(e){return"p"===e.charAt(0).toLowerCase()},meridiem:function(e,t,n){return e>11?n?"p.t.m.":"P.T.M.":n?"a.t.m.":"A.T.M."},calendar:{sameDay:"[Hodia je] LT",nextDay:"[Morga je] LT",nextWeek:"dddd [je] LT",lastDay:"[Hiera je] LT",lastWeek:"[pasinta] dddd [je] LT",sameElse:"L"},relativeTime:{future:"post %s",past:"anta %s",s:"sekundoj",ss:"%d sekundoj",m:"minuto",mm:"%d minutoj",h:"horo",hh:"%d horoj",d:"tago",dd:"%d tagoj",M:"monato",MM:"%d monatoj",y:"jaro",yy:"%d jaroj"},dayOfMonthOrdinalParse:/\d{1,2}a/,ordinal:"%da",week:{dow:1,doy:7}})})(n(0))},function(e,t,n){(function(e){"use strict";var t="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),n="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),r=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],i=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;e.defineLocale("es",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(e,r){return e?/-MMM-/.test(r)?n[e.month()]:t[e.month()]:t},monthsRegex:i,monthsShortRegex:i,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:r,longMonthsParse:r,shortMonthsParse:r,weekdays:"domingo_lunes_martes_mircoles_jueves_viernes_sbado".split("_"),weekdaysShort:"dom._lun._mar._mi._jue._vie._sb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[maana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un da",dd:"%d das",M:"un mes",MM:"%d meses",y:"un ao",yy:"%d aos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})})(n(0))},function(e,t,n){(function(e){"use strict";var t="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),n="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),r=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],i=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;e.defineLocale("es-do",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(e,r){return e?/-MMM-/.test(r)?n[e.month()]:t[e.month()]:t},monthsRegex:i,monthsShortRegex:i,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:r,longMonthsParse:r,shortMonthsParse:r,weekdays:"domingo_lunes_martes_mircoles_jueves_viernes_sbado".split("_"),weekdaysShort:"dom._lun._mar._mi._jue._vie._sb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY h:mm A",LLLL:"dddd, D [de] MMMM [de] YYYY h:mm A"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[maana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un da",dd:"%d das",M:"un mes",MM:"%d meses",y:"un ao",yy:"%d aos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})})(n(0))},function(e,t,n){(function(e){"use strict";var t="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),n="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_");e.defineLocale("es-us",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(e,r){return e?/-MMM-/.test(r)?n[e.month()]:t[e.month()]:t},monthsParseExact:!0,weekdays:"domingo_lunes_martes_mircoles_jueves_viernes_sbado".split("_"),weekdaysShort:"dom._lun._mar._mi._jue._vie._sb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"MM/DD/YYYY",LL:"MMMM [de] D [de] YYYY",LLL:"MMMM [de] D [de] YYYY h:mm A",LLLL:"dddd, MMMM [de] D [de] YYYY h:mm A"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[maana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un da",dd:"%d das",M:"un mes",MM:"%d meses",y:"un ao",yy:"%d aos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:0,doy:6}})})(n(0))},function(e,t,n){(function(e){"use strict";function t(e,t,n,r){var i={s:["mne sekundi","mni sekund","paar sekundit"],ss:[e+"sekundi",e+"sekundit"],m:["he minuti","ks minut"],mm:[e+" minuti",e+" minutit"],h:["he tunni","tund aega","ks tund"],hh:[e+" tunni",e+" tundi"],d:["he peva","ks pev"],M:["kuu aja","kuu aega","ks kuu"],MM:[e+" kuu",e+" kuud"],y:["he aasta","aasta","ks aasta"],yy:[e+" aasta",e+" aastat"]};return t?i[n][2]?i[n][2]:i[n][1]:r?i[n][0]:i[n][1]}e.defineLocale("et",{months:"jaanuar_veebruar_mrts_aprill_mai_juuni_juuli_august_september_oktoober_november_detsember".split("_"),monthsShort:"jaan_veebr_mrts_apr_mai_juuni_juuli_aug_sept_okt_nov_dets".split("_"),weekdays:"phapev_esmaspev_teisipev_kolmapev_neljapev_reede_laupev".split("_"),weekdaysShort:"P_E_T_K_N_R_L".split("_"),weekdaysMin:"P_E_T_K_N_R_L".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[Tna,] LT",nextDay:"[Homme,] LT",nextWeek:"[Jrgmine] dddd LT",lastDay:"[Eile,] LT",lastWeek:"[Eelmine] dddd LT",sameElse:"L"},relativeTime:{future:"%s prast",past:"%s tagasi",s:t,ss:t,m:t,mm:t,h:t,hh:t,d:t,dd:"%d peva",M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})})(n(0))},function(e,t,n){(function(e){"use strict";e.defineLocale("eu",{months:"urtarrila_otsaila_martxoa_apirila_maiatza_ekaina_uztaila_abuztua_iraila_urria_azaroa_abendua".split("_"),monthsShort:"urt._ots._mar._api._mai._eka._uzt._abu._ira._urr._aza._abe.".split("_"),monthsParseExact:!0,weekdays:"igandea_astelehena_asteartea_asteazkena_osteguna_ostirala_larunbata".split("_"),weekdaysShort:"ig._al._ar._az._og._ol._lr.".split("_"),weekdaysMin:"ig_al_ar_az_og_ol_lr".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY[ko] MMMM[ren] D[a]",LLL:"YYYY[ko] MMMM[ren] D[a] HH:mm",LLLL:"dddd, YYYY[ko] MMMM[ren] D[a] HH:mm",l:"YYYY-M-D",ll:"YYYY[ko] MMM D[a]",lll:"YYYY[ko] MMM D[a] HH:mm",llll:"ddd, YYYY[ko] MMM D[a] HH:mm"},calendar:{sameDay:"[gaur] LT[etan]",nextDay:"[bihar] LT[etan]",nextWeek:"dddd LT[etan]",lastDay:"[atzo] LT[etan]",lastWeek:"[aurreko] dddd LT[etan]",sameElse:"L"},relativeTime:{future:"%s barru",past:"duela %s",s:"segundo batzuk",ss:"%d segundo",m:"minutu bat",mm:"%d minutu",h:"ordu bat",hh:"%d ordu",d:"egun bat",dd:"%d egun",M:"hilabete bat",MM:"%d hilabete",y:"urte bat",yy:"%d urte"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})})(n(0))},function(e,t,n){(function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};e.defineLocale("fa",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/  |  /,isPM:function(e){return/  /.test(e)},meridiem:function(e,t,n){return e<12?"  ":"  "},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"dddd [] [] LT",sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",ss:" d%",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(e){return e.replace(/[-]/g,function(e){return n[e]}).replace(//g,",")},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]}).replace(/,/g,"")},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:6,doy:12}})})(n(0))},function(e,t,n){(function(e){"use strict";var t="nolla yksi kaksi kolme nelj viisi kuusi seitsemn kahdeksan yhdeksn".split(" "),n=["nolla","yhden","kahden","kolmen","neljn","viiden","kuuden",t[7],t[8],t[9]];function r(e,r,i,o){var a="";switch(i){case"s":return o?"muutaman sekunnin":"muutama sekunti";case"ss":return o?"sekunnin":"sekuntia";case"m":return o?"minuutin":"minuutti";case"mm":a=o?"minuutin":"minuuttia";break;case"h":return o?"tunnin":"tunti";case"hh":a=o?"tunnin":"tuntia";break;case"d":return o?"pivn":"piv";case"dd":a=o?"pivn":"piv";break;case"M":return o?"kuukauden":"kuukausi";case"MM":a=o?"kuukauden":"kuukautta";break;case"y":return o?"vuoden":"vuosi";case"yy":a=o?"vuoden":"vuotta"}return a=function(e,r){return e<10?r?n[e]:t[e]:e}(e,o)+" "+a}e.defineLocale("fi",{months:"tammikuu_helmikuu_maaliskuu_huhtikuu_toukokuu_keskuu_heinkuu_elokuu_syyskuu_lokakuu_marraskuu_joulukuu".split("_"),monthsShort:"tammi_helmi_maalis_huhti_touko_kes_hein_elo_syys_loka_marras_joulu".split("_"),weekdays:"sunnuntai_maanantai_tiistai_keskiviikko_torstai_perjantai_lauantai".split("_"),weekdaysShort:"su_ma_ti_ke_to_pe_la".split("_"),weekdaysMin:"su_ma_ti_ke_to_pe_la".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD.MM.YYYY",LL:"Do MMMM[ta] YYYY",LLL:"Do MMMM[ta] YYYY, [klo] HH.mm",LLLL:"dddd, Do MMMM[ta] YYYY, [klo] HH.mm",l:"D.M.YYYY",ll:"Do MMM YYYY",lll:"Do MMM YYYY, [klo] HH.mm",llll:"ddd, Do MMM YYYY, [klo] HH.mm"},calendar:{sameDay:"[tnn] [klo] LT",nextDay:"[huomenna] [klo] LT",nextWeek:"dddd [klo] LT",lastDay:"[eilen] [klo] LT",lastWeek:"[viime] dddd[na] [klo] LT",sameElse:"L"},relativeTime:{future:"%s pst",past:"%s sitten",s:r,ss:r,m:r,mm:r,h:r,hh:r,d:r,dd:r,M:r,MM:r,y:r,yy:r},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})})(n(0))},function(e,t,n){(function(e){"use strict";e.defineLocale("fo",{months:"januar_februar_mars_aprl_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan_feb_mar_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_"),weekdays:"sunnudagur_mnadagur_tsdagur_mikudagur_hsdagur_frggjadagur_leygardagur".split("_"),weekdaysShort:"sun_mn_ts_mik_hs_fr_ley".split("_"),weekdaysMin:"su_m_t_mi_h_fr_le".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D. MMMM, YYYY HH:mm"},calendar:{sameDay:"[ dag kl.] LT",nextDay:"[ morgin kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[ gjr kl.] LT",lastWeek:"[sstu] dddd [kl] LT",sameElse:"L"},relativeTime:{future:"um %s",past:"%s sani",s:"f sekund",ss:"%d sekundir",m:"ein minutt",mm:"%d minuttir",h:"ein tmi",hh:"%d tmar",d:"ein dagur",dd:"%d dagar",M:"ein mnai",MM:"%d mnair",y:"eitt r",yy:"%d r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})})(n(0))},function(e,t,n){(function(e){"use strict";e.defineLocale("fr",{months:"janvier_fvrier_mars_avril_mai_juin_juillet_aot_septembre_octobre_novembre_dcembre".split("_"),monthsShort:"janv._fvr._mars_avr._mai_juin_juil._aot_sept._oct._nov._dc.".split("_"),monthsParseExact:!0,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourdhui ] LT",nextDay:"[Demain ] LT",nextWeek:"dddd [] LT",lastDay:"[Hier ] LT",lastWeek:"dddd [dernier ] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|)/,ordinal:function(e,t){switch(t){case"D":return e+(1===e?"er":"");default:case"M":case"Q":case"DDD":case"d":return e+(1===e?"er":"e");case"w":case"W":return e+(1===e?"re":"e")}},week:{dow:1,doy:4}})})(n(0))},function(e,t,n){(function(e){"use strict";e.defineLocale("fr-ca",{months:"janvier_fvrier_mars_avril_mai_juin_juillet_aot_septembre_octobre_novembre_dcembre".split("_"),monthsShort:"janv._fvr._mars_avr._mai_juin_juil._aot_sept._oct._nov._dc.".split("_"),monthsParseExact:!0,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourdhui ] LT",nextDay:"[Demain ] LT",nextWeek:"dddd [] LT",lastDay:"[Hier ] LT",lastWeek:"dddd [dernier ] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|e)/,ordinal:function(e,t){switch(t){default:case"M":case"Q":case"D":case"DDD":case"d":return e+(1===e?"er":"e");case"w":case"W":return e+(1===e?"re":"e")}}})})(n(0))},function(e,t,n){(function(e){"use strict";e.defineLocale("fr-ch",{months:"janvier_fvrier_mars_avril_mai_juin_juillet_aot_septembre_octobre_novembre_dcembre".split("_"),monthsShort:"janv._fvr._mars_avr._mai_juin_juil._aot_sept._oct._nov._dc.".split("_"),monthsParseExact:!0,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourdhui ] LT",nextDay:"[Demain ] LT",nextWeek:"dddd [] LT",lastDay:"[Hier ] LT",lastWeek:"dddd [dernier ] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|e)/,ordinal:function(e,t){switch(t){default:case"M":case"Q":case"D":case"DDD":case"d":return e+(1===e?"er":"e");case"w":case"W":return e+(1===e?"re":"e")}},week:{dow:1,doy:4}})})(n(0))},function(e,t,n){(function(e){"use strict";var t="jan._feb._mrt._apr._mai_jun._jul._aug._sep._okt._nov._des.".split("_"),n="jan_feb_mrt_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_");e.defineLocale("fy",{months:"jannewaris_febrewaris_maart_april_maaie_juny_july_augustus_septimber_oktober_novimber_desimber".split("_"),monthsShort:function(e,r){return e?/-MMM-/.test(r)?n[e.month()]:t[e.month()]:t},monthsParseExact:!0,weekdays:"snein_moandei_tiisdei_woansdei_tongersdei_freed_sneon".split("_"),weekdaysShort:"si._mo._ti._wo._to._fr._so.".split("_"),weekdaysMin:"Si_Mo_Ti_Wo_To_Fr_So".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[hjoed om] LT",nextDay:"[moarn om] LT",nextWeek:"dddd [om] LT",lastDay:"[juster om] LT",lastWeek:"[frne] dddd [om] LT",sameElse:"L"},relativeTime:{future:"oer %s",past:"%s lyn",s:"in pear sekonden",ss:"%d sekonden",m:"ien mint",mm:"%d minuten",h:"ien oere",hh:"%d oeren",d:"ien dei",dd:"%d dagen",M:"ien moanne",MM:"%d moannen",y:"ien jier",yy:"%d jierren"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(e){return e+(1===e||8===e||e>=20?"ste":"de")},week:{dow:1,doy:4}})})(n(0))},function(e,t,n){(function(e){"use strict";e.defineLocale("gd",{months:["Am Faoilleach","An Gearran","Am Mrt","An Giblean","An Citean","An t-gmhios","An t-Iuchar","An Lnastal","An t-Sultain","An Dmhair","An t-Samhain","An Dbhlachd"],monthsShort:["Faoi","Gear","Mrt","Gibl","Cit","gmh","Iuch","Ln","Sult","Dmh","Samh","Dbh"],monthsParseExact:!0,weekdays:["Didmhnaich","Diluain","Dimirt","Diciadain","Diardaoin","Dihaoine","Disathairne"],weekdaysShort:["Did","Dil","Dim","Dic","Dia","Dih","Dis"],weekdaysMin:["D","Lu","M","Ci","Ar","Ha","Sa"],longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[An-diugh aig] LT",nextDay:"[A-mireach aig] LT",nextWeek:"dddd [aig] LT",lastDay:"[An-d aig] LT",lastWeek:"dddd [seo chaidh] [aig] LT",sameElse:"L"},relativeTime:{future:"ann an %s",past:"bho chionn %s",s:"beagan diogan",ss:"%d diogan",m:"mionaid",mm:"%d mionaidean",h:"uair",hh:"%d uairean",d:"latha",dd:"%d latha",M:"mos",MM:"%d mosan",y:"bliadhna",yy:"%d bliadhna"},dayOfMonthOrdinalParse:/\d{1,2}(d|na|mh)/,ordinal:function(e){return e+(1===e?"d":e%10==2?"na":"mh")},week:{dow:1,doy:4}})})(n(0))},function(e,t,n){(function(e){"use strict";e.defineLocale("gl",{months:"xaneiro_febreiro_marzo_abril_maio_xuo_xullo_agosto_setembro_outubro_novembro_decembro".split("_"),monthsShort:"xan._feb._mar._abr._mai._xu._xul._ago._set._out._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"domingo_luns_martes_mrcores_xoves_venres_sbado".split("_"),weekdaysShort:"dom._lun._mar._mr._xov._ven._sb.".split("_"),weekdaysMin:"do_lu_ma_m_xo_ve_s".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoxe "+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[ma "+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd ["+(1!==this.hours()?"s":"a")+"] LT"},lastDay:function(){return"[onte "+(1!==this.hours()?"":"a")+"] LT"},lastWeek:function(){return"[o] dddd [pasado "+(1!==this.hours()?"s":"a")+"] LT"},sameElse:"L"},relativeTime:{future:function(e){return 0===e.indexOf("un")?"n"+e:"en "+e},past:"hai %s",s:"uns segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"unha hora",hh:"%d horas",d:"un da",dd:"%d das",M:"un mes",MM:"%d meses",y:"un ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})})(n(0))},function(e,t,n){(function(e){"use strict";function t(e,t,n,r){var i={s:["thodde secondanim","thodde second"],ss:[e+" secondanim",e+" second"],m:["eka mintan","ek minute"],mm:[e+" mintanim",e+" mintam"],h:["eka horan","ek hor"],hh:[e+" horanim",e+" horam"],d:["eka disan","ek dis"],dd:[e+" disanim",e+" dis"],M:["eka mhoinean","ek mhoino"],MM:[e+" mhoineanim",e+" mhoine"],y:["eka vorsan","ek voros"],yy:[e+" vorsanim",e+" vorsam"]};return t?i[n][0]:i[n][1]}e.defineLocale("gom-latn",{months:"Janer_Febrer_Mars_Abril_Mai_Jun_Julai_Agost_Setembr_Otubr_Novembr_Dezembr".split("_"),monthsShort:"Jan._Feb._Mars_Abr._Mai_Jun_Jul._Ago._Set._Otu._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Aitar_Somar_Mongllar_Budvar_Brestar_Sukrar_Son'var".split("_"),weekdaysShort:"Ait._Som._Mon._Bud._Bre._Suk._Son.".split("_"),weekdaysMin:"Ai_Sm_Mo_Bu_Br_Su_Sn".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"A h:mm [vazta]",LTS:"A h:mm:ss [vazta]",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY A h:mm [vazta]",LLLL:"dddd, MMMM[achea] Do, YYYY, A h:mm [vazta]",llll:"ddd, D MMM YYYY, A h:mm [vazta]"},calendar:{sameDay:"[Aiz] LT",nextDay:"[Faleam] LT",nextWeek:"[Ieta to] dddd[,] LT",lastDay:"[Kal] LT",lastWeek:"[Fatlo] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s adim",s:t,ss:t,m:t,mm:t,h:t,hh:t,d:t,dd:t,M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}(er)/,ordinal:function(e,t){switch(t){case"D":return e+"er";default:case"M":case"Q":case"DDD":case"d":case"w":case"W":return e}},week:{dow:1,doy:4},meridiemParse:/rati|sokalli|donparam|sanje/,meridiemHour:function(e,t){return 12===e&&(e=0),"rati"===t?e<4?e:e+12:"sokalli"===t?e:"donparam"===t?e>12?e:e+12:"sanje"===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"rati":e<12?"sokalli":e<16?"donparam":e<20?"sanje":"rati"}})})(n(0))},function(e,t,n){(function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};e.defineLocale("gu",{months:"___________".split("_"),monthsShort:"._.__.___._._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(e){return e.replace(/[]/g,function(e){return n[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]})},meridiemParse:/|||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t?e<4?e:e+12:""===t?e:""===t?e>=10?e:e+12:""===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"":e<10?"":e<17?"":e<20?"":""},week:{dow:0,doy:6}})})(n(0))},function(e,t,n){(function(e){"use strict";e.defineLocale("he",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D []MMMM YYYY",LLL:"D []MMMM YYYY HH:mm",LLLL:"dddd, D []MMMM YYYY HH:mm",l:"D/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY HH:mm",llll:"ddd, D MMM YYYY HH:mm"},calendar:{sameDay:"[ ]LT",nextDay:"[ ]LT",nextWeek:"dddd [] LT",lastDay:"[ ]LT",lastWeek:"[] dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:" ",ss:"%d ",m:"",mm:"%d ",h:"",hh:function(e){return 2===e?"":e+" "},d:"",dd:function(e){return 2===e?"":e+" "},M:"",MM:function(e){return 2===e?"":e+" "},y:"",yy:function(e){return 2===e?"":e%10==0&&10!==e?e+" ":e+" "}},meridiemParse:/"|"| | | ||/i,isPM:function(e){return/^("| |)$/.test(e)},meridiem:function(e,t,n){return e<5?" ":e<10?"":e<12?n?'"':" ":e<18?n?'"':" ":""}})})(n(0))},function(e,t,n){(function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};e.defineLocale("hi",{months:"___________".split("_"),monthsShort:"._.__.___._._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:"  ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(e){return e.replace(/[]/g,function(e){return n[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]})},meridiemParse:/|||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t?e<4?e:e+12:""===t?e:""===t?e>=10?e:e+12:""===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"":e<10?"":e<17?"":e<20?"":""},week:{dow:0,doy:6}})})(n(0))},function(e,t,n){(function(e){"use strict";function t(e,t,n){var r=e+" ";switch(n){case"ss":return r+=1===e?"sekunda":2===e||3===e||4===e?"sekunde":"sekundi";case"m":return t?"jedna minuta":"jedne minute";case"mm":return r+=1===e?"minuta":2===e||3===e||4===e?"minute":"minuta";case"h":return t?"jedan sat":"jednog sata";case"hh":return r+=1===e?"sat":2===e||3===e||4===e?"sata":"sati";case"dd":return r+=1===e?"dan":"dana";case"MM":return r+=1===e?"mjesec":2===e||3===e||4===e?"mjeseca":"mjeseci";case"yy":return r+=1===e?"godina":2===e||3===e||4===e?"godine":"godina"}}e.defineLocale("hr",{months:{format:"sijenja_veljae_oujka_travnja_svibnja_lipnja_srpnja_kolovoza_rujna_listopada_studenoga_prosinca".split("_"),standalone:"sijeanj_veljaa_oujak_travanj_svibanj_lipanj_srpanj_kolovoz_rujan_listopad_studeni_prosinac".split("_")},monthsShort:"sij._velj._ou._tra._svi._lip._srp._kol._ruj._lis._stu._pro.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_etvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._et._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_e_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[juer u] LT",lastWeek:function(){switch(this.day()){case 0:case 3:return"[prolu] dddd [u] LT";case 6:return"[prole] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[proli] dddd [u] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",ss:t,m:t,mm:t,h:t,hh:t,d:"dan",dd:t,M:"mjesec",MM:t,y:"godinu",yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})})(n(0))},function(e,t,n){(function(e){"use strict";var t="vasrnap htfn kedden szerdn cstrtkn pnteken szombaton".split(" ");function n(e,t,n,r){var i=e;switch(n){case"s":return r||t?"nhny msodperc":"nhny msodperce";case"ss":return i+(r||t)?" msodperc":" msodperce";case"m":return"egy"+(r||t?" perc":" perce");case"mm":return i+(r||t?" perc":" perce");case"h":return"egy"+(r||t?" ra":" rja");case"hh":return i+(r||t?" ra":" rja");case"d":return"egy"+(r||t?" nap":" napja");case"dd":return i+(r||t?" nap":" napja");case"M":return"egy"+(r||t?" hnap":" hnapja");case"MM":return i+(r||t?" hnap":" hnapja");case"y":return"egy"+(r||t?" v":" ve");case"yy":return i+(r||t?" v":" ve")}return""}function r(e){return(e?"":"[mlt] ")+"["+t[this.day()]+"] LT[-kor]"}e.defineLocale("hu",{months:"janur_februr_mrcius_prilis_mjus_jnius_jlius_augusztus_szeptember_oktber_november_december".split("_"),monthsShort:"jan_feb_mrc_pr_mj_jn_jl_aug_szept_okt_nov_dec".split("_"),weekdays:"vasrnap_htf_kedd_szerda_cstrtk_pntek_szombat".split("_"),weekdaysShort:"vas_ht_kedd_sze_cst_pn_szo".split("_"),weekdaysMin:"v_h_k_sze_cs_p_szo".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"YYYY.MM.DD.",LL:"YYYY. MMMM D.",LLL:"YYYY. MMMM D. H:mm",LLLL:"YYYY. MMMM D., dddd H:mm"},meridiemParse:/de|du/i,isPM:function(e){return"u"===e.charAt(1).toLowerCase()},meridiem:function(e,t,n){return e<12?!0===n?"de":"DE":!0===n?"du":"DU"},calendar:{sameDay:"[ma] LT[-kor]",nextDay:"[holnap] LT[-kor]",nextWeek:function(){return r.call(this,!0)},lastDay:"[tegnap] LT[-kor]",lastWeek:function(){return r.call(this,!1)},sameElse:"L"},relativeTime:{future:"%s mlva",past:"%s",s:n,ss:n,m:n,mm:n,h:n,hh:n,d:n,dd:n,M:n,MM:n,y:n,yy:n},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})})(n(0))},function(e,t,n){(function(e){"use strict";e.defineLocale("hy-am",{months:{format:"___________".split("_"),standalone:"___________".split("_")},monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., HH:mm",LLLL:"dddd, D MMMM YYYY ., HH:mm"},calendar:{sameDay:"[] LT",nextDay:"[] LT",lastDay:"[] LT",nextWeek:function(){return"dddd [ ] LT"},lastWeek:function(){return"[] dddd [ ] LT"},sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:"  ",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},meridiemParse:/|||/,isPM:function(e){return/^(|)$/.test(e)},meridiem:function(e){return e<4?"":e<12?"":e<17?"":""},dayOfMonthOrdinalParse:/\d{1,2}|\d{1,2}-(|)/,ordinal:function(e,t){switch(t){case"DDD":case"w":case"W":case"DDDo":return 1===e?e+"-":e+"-";default:return e}},week:{dow:1,doy:7}})})(n(0))},function(e,t,n){(function(e){"use strict";e.defineLocale("id",{months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Agt_Sep_Okt_Nov_Des".split("_"),weekdays:"Minggu_Senin_Selasa_Rabu_Kamis_Jumat_Sabtu".split("_"),weekdaysShort:"Min_Sen_Sel_Rab_Kam_Jum_Sab".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|siang|sore|malam/,meridiemHour:function(e,t){return 12===e&&(e=0),"pagi"===t?e:"siang"===t?e>=11?e:e+12:"sore"===t||"malam"===t?e+12:void 0},meridiem:function(e,t,n){return e<11?"pagi":e<15?"siang":e<19?"sore":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Besok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kemarin pukul] LT",lastWeek:"dddd [lalu pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lalu",s:"beberapa detik",ss:"%d detik",m:"semenit",mm:"%d menit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}})})(n(0))},function(e,t,n){(function(e){"use strict";function t(e){return e%100==11||e%10!=1}function n(e,n,r,i){var o=e+" ";switch(r){case"s":return n||i?"nokkrar sekndur":"nokkrum sekndum";case"ss":return t(e)?o+(n||i?"sekndur":"sekndum"):o+"seknda";case"m":return n?"mnta":"mntu";case"mm":return t(e)?o+(n||i?"mntur":"mntum"):n?o+"mnta":o+"mntu";case"hh":return t(e)?o+(n||i?"klukkustundir":"klukkustundum"):o+"klukkustund";case"d":return n?"dagur":i?"dag":"degi";case"dd":return t(e)?n?o+"dagar":o+(i?"daga":"dgum"):n?o+"dagur":o+(i?"dag":"degi");case"M":return n?"mnuur":i?"mnu":"mnui";case"MM":return t(e)?n?o+"mnuir":o+(i?"mnui":"mnuum"):n?o+"mnuur":o+(i?"mnu":"mnui");case"y":return n||i?"r":"ri";case"yy":return t(e)?o+(n||i?"r":"rum"):o+(n||i?"r":"ri")}}e.defineLocale("is",{months:"janar_febrar_mars_aprl_ma_jn_jl_gst_september_oktber_nvember_desember".split("_"),monthsShort:"jan_feb_mar_apr_ma_jn_jl_g_sep_okt_nv_des".split("_"),weekdays:"sunnudagur_mnudagur_rijudagur_mivikudagur_fimmtudagur_fstudagur_laugardagur".split("_"),weekdaysShort:"sun_mn_ri_mi_fim_fs_lau".split("_"),weekdaysMin:"Su_M_r_Mi_Fi_F_La".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] H:mm",LLLL:"dddd, D. MMMM YYYY [kl.] H:mm"},calendar:{sameDay:"[ dag kl.] LT",nextDay:"[ morgun kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[ gr kl.] LT",lastWeek:"[sasta] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"eftir %s",past:"fyrir %s san",s:n,ss:n,m:n,mm:n,h:"klukkustund",hh:n,d:n,dd:n,M:n,MM:n,y:n,yy:n},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})})(n(0))},function(e,t,n){(function(e){"use strict";e.defineLocale("it",{months:"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),monthsShort:"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),weekdays:"domenica_luned_marted_mercoled_gioved_venerd_sabato".split("_"),weekdaysShort:"dom_lun_mar_mer_gio_ven_sab".split("_"),weekdaysMin:"do_lu_ma_me_gi_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Oggi alle] LT",nextDay:"[Domani alle] LT",nextWeek:"dddd [alle] LT",lastDay:"[Ieri alle] LT",lastWeek:function(){switch(this.day()){case 0:return"[la scorsa] dddd [alle] LT";default:return"[lo scorso] dddd [alle] LT"}},sameElse:"L"},relativeTime:{future:function(e){return(/^[0-9].+$/.test(e)?"tra":"in")+" "+e},past:"%s fa",s:"alcuni secondi",ss:"%d secondi",m:"un minuto",mm:"%d minuti",h:"un'ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})})(n(0))},function(e,t,n){(function(e){"use strict";e.defineLocale("ja",{months:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYYMD",LLL:"YYYYMD HH:mm",LLLL:"YYYYMD dddd HH:mm",l:"YYYY/MM/DD",ll:"YYYYMD",lll:"YYYYMD HH:mm",llll:"YYYYMD(ddd) HH:mm"},meridiemParse:/|/i,isPM:function(e){return""===e},meridiem:function(e,t,n){return e<12?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:function(e){return e.week()<this.week()?"[]dddd LT":"dddd LT"},lastDay:"[] LT",lastWeek:function(e){return this.week()<e.week()?"[]dddd LT":"dddd LT"},sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"";default:return e}},relativeTime:{future:"%s",past:"%s",s:"",ss:"%d",m:"1",mm:"%d",h:"1",hh:"%d",d:"1",dd:"%d",M:"1",MM:"%d",y:"1",yy:"%d"}})})(n(0))},function(e,t,n){(function(e){"use strict";e.defineLocale("jv",{months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_Nopember_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Ags_Sep_Okt_Nop_Des".split("_"),weekdays:"Minggu_Senen_Seloso_Rebu_Kemis_Jemuwah_Septu".split("_"),weekdaysShort:"Min_Sen_Sel_Reb_Kem_Jem_Sep".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sp".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/enjing|siyang|sonten|ndalu/,meridiemHour:function(e,t){return 12===e&&(e=0),"enjing"===t?e:"siyang"===t?e>=11?e:e+12:"sonten"===t||"ndalu"===t?e+12:void 0},meridiem:function(e,t,n){return e<11?"enjing":e<15?"siyang":e<19?"sonten":"ndalu"},calendar:{sameDay:"[Dinten puniko pukul] LT",nextDay:"[Mbenjang pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kala wingi pukul] LT",lastWeek:"dddd [kepengker pukul] LT",sameElse:"L"},relativeTime:{future:"wonten ing %s",past:"%s ingkang kepengker",s:"sawetawis detik",ss:"%d detik",m:"setunggal menit",mm:"%d menit",h:"setunggal jam",hh:"%d jam",d:"sedinten",dd:"%d dinten",M:"sewulan",MM:"%d wulan",y:"setaun",yy:"%d taun"},week:{dow:1,doy:7}})})(n(0))},function(e,t,n){(function(e){"use strict";e.defineLocale("ka",{months:{standalone:"___________".split("_"),format:"___________".split("_")},monthsShort:"___________".split("_"),weekdays:{standalone:"______".split("_"),format:"______".split("_"),isFormat:/(|)/},weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[] LT[-]",nextDay:"[] LT[-]",lastDay:"[] LT[-]",nextWeek:"[] dddd LT[-]",lastWeek:"[] dddd LT-",sameElse:"L"},relativeTime:{future:function(e){return/(|||)/.test(e)?e.replace(/$/,""):e+""},past:function(e){return/(||||)/.test(e)?e.replace(/(|)$/," ")://.test(e)?e.replace(/$/," "):void 0},s:" ",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},dayOfMonthOrdinalParse:/0|1-|-\d{1,2}|\d{1,2}-/,ordinal:function(e){return 0===e?e:1===e?e+"-":e<20||e<=100&&e%20==0||e%100==0?"-"+e:e+"-"},week:{dow:1,doy:7}})})(n(0))},function(e,t,n){(function(e){"use strict";var t={0:"-",1:"-",2:"-",3:"-",4:"-",5:"-",6:"-",7:"-",8:"-",9:"-",10:"-",20:"-",30:"-",40:"-",50:"-",60:"-",70:"-",80:"-",90:"-",100:"-"};e.defineLocale("kk",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"[ ] dddd [] LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}-(|)/,ordinal:function(e){return e+(t[e]||t[e%10]||t[e>=100?100:null])},week:{dow:1,doy:7}})})(n(0))},function(e,t,n){(function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};e.defineLocale("km",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(e){return""===e},meridiem:function(e,t,n){return e<12?"":""},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"dddd [] [] LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",preparse:function(e){return e.replace(/[]/g,function(e){return n[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]})},week:{dow:1,doy:4}})})(n(0))},function(e,t,n){(function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};e.defineLocale("kn",{months:"___________".split("_"),monthsShort:"___________".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(e){return e.replace(/[]/g,function(e){return n[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]})},meridiemParse:/|||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t?e<4?e:e+12:""===t?e:""===t?e>=10?e:e+12:""===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"":e<10?"":e<17?"":e<20?"":""},dayOfMonthOrdinalParse:/\d{1,2}()/,ordinal:function(e){return e+""},week:{dow:0,doy:6}})})(n(0))},function(e,t,n){(function(e){"use strict";e.defineLocale("ko",{months:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"YYYY.MM.DD.",LL:"YYYY MMMM D",LLL:"YYYY MMMM D A h:mm",LLLL:"YYYY MMMM D dddd A h:mm",l:"YYYY.MM.DD.",ll:"YYYY MMMM D",lll:"YYYY MMMM D A h:mm",llll:"YYYY MMMM D dddd A h:mm"},calendar:{sameDay:" LT",nextDay:" LT",nextWeek:"dddd LT",lastDay:" LT",lastWeek:" dddd LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d",m:"1",mm:"%d",h:" ",hh:"%d",d:"",dd:"%d",M:" ",MM:"%d",y:" ",yy:"%d"},dayOfMonthOrdinalParse:/\d{1,2}(||)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"";case"M":return e+"";case"w":case"W":return e+"";default:return e}},meridiemParse:/|/,isPM:function(e){return""===e},meridiem:function(e,t,n){return e<12?"":""}})})(n(0))},function(e,t,n){(function(e){"use strict";var t={0:"-",1:"-",2:"-",3:"-",4:"-",5:"-",6:"-",7:"-",8:"-",9:"-",10:"-",20:"-",30:"-",40:"-",50:"-",60:"-",70:"-",80:"-",90:"-",100:"-"};e.defineLocale("ky",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"[ ] dddd [] [] LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}-(|||)/,ordinal:function(e){return e+(t[e]||t[e%10]||t[e>=100?100:null])},week:{dow:1,doy:7}})})(n(0))},function(e,t,n){(function(e){"use strict";function t(e,t,n,r){var i={m:["eng Minutt","enger Minutt"],h:["eng Stonn","enger Stonn"],d:["een Dag","engem Dag"],M:["ee Mount","engem Mount"],y:["ee Joer","engem Joer"]};return t?i[n][0]:i[n][1]}function n(e){if(e=parseInt(e,10),isNaN(e))return!1;if(e<0)return!0;if(e<10)return 4<=e&&e<=7;if(e<100){var t=e%10;return n(0===t?e/10:t)}if(e<1e4){for(;e>=10;)e/=10;return n(e)}return n(e/=1e3)}e.defineLocale("lb",{months:"Januar_Februar_Merz_Abrll_Mee_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Febr._Mrz._Abr._Mee_Jun._Jul._Aug._Sept._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonndeg_Mindeg_Dnschdeg_Mttwoch_Donneschdeg_Freideg_Samschdeg".split("_"),weekdaysShort:"So._M._D._M._Do._Fr._Sa.".split("_"),weekdaysMin:"So_M_D_M_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm [Auer]",LTS:"H:mm:ss [Auer]",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm [Auer]",LLLL:"dddd, D. MMMM YYYY H:mm [Auer]"},calendar:{sameDay:"[Haut um] LT",sameElse:"L",nextDay:"[Muer um] LT",nextWeek:"dddd [um] LT",lastDay:"[Gschter um] LT",lastWeek:function(){switch(this.day()){case 2:case 4:return"[Leschten] dddd [um] LT";default:return"[Leschte] dddd [um] LT"}}},relativeTime:{future:function(e){return n(e.substr(0,e.indexOf(" ")))?"a "+e:"an "+e},past:function(e){return n(e.substr(0,e.indexOf(" ")))?"viru "+e:"virun "+e},s:"e puer Sekonnen",ss:"%d Sekonnen",m:t,mm:"%d Minutten",h:t,hh:"%d Stonnen",d:t,dd:"%d Deeg",M:t,MM:"%d Mint",y:t,yy:"%d Joer"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})})(n(0))},function(e,t,n){(function(e){"use strict";e.defineLocale("lo",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(e){return""===e},meridiem:function(e,t,n){return e<12?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[]dddd[] LT",lastDay:"[] LT",lastWeek:"[]dddd[] LT",sameElse:"L"},relativeTime:{future:" %s",past:"%s",s:"",ss:"%d ",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "},dayOfMonthOrdinalParse:/()\d{1,2}/,ordinal:function(e){return""+e}})})(n(0))},function(e,t,n){(function(e){"use strict";var t={ss:"sekund_sekundi_sekundes",m:"minut_minuts_minut",mm:"minuts_minui_minutes",h:"valanda_valandos_valand",hh:"valandos_valand_valandas",d:"diena_dienos_dien",dd:"dienos_dien_dienas",M:"mnuo_mnesio_mnes",MM:"mnesiai_mnesi_mnesius",y:"metai_met_metus",yy:"metai_met_metus"};function n(e,t,n,r){return t?i(n)[0]:r?i(n)[1]:i(n)[2]}function r(e){return e%10==0||e>10&&e<20}function i(e){return t[e].split("_")}function o(e,t,o,a){var s=e+" ";return 1===e?s+n(0,t,o[0],a):t?s+(r(e)?i(o)[1]:i(o)[0]):a?s+i(o)[1]:s+(r(e)?i(o)[1]:i(o)[2])}e.defineLocale("lt",{months:{format:"sausio_vasario_kovo_balandio_gegus_birelio_liepos_rugpjio_rugsjo_spalio_lapkriio_gruodio".split("_"),standalone:"sausis_vasaris_kovas_balandis_gegu_birelis_liepa_rugpjtis_rugsjis_spalis_lapkritis_gruodis".split("_"),isFormat:/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?|MMMM?(\[[^\[\]]*\]|\s)+D[oD]?/},monthsShort:"sau_vas_kov_bal_geg_bir_lie_rgp_rgs_spa_lap_grd".split("_"),weekdays:{format:"sekmadien_pirmadien_antradien_treiadien_ketvirtadien_penktadien_etadien".split("_"),standalone:"sekmadienis_pirmadienis_antradienis_treiadienis_ketvirtadienis_penktadienis_etadienis".split("_"),isFormat:/dddd HH:mm/},weekdaysShort:"Sek_Pir_Ant_Tre_Ket_Pen_e".split("_"),weekdaysMin:"S_P_A_T_K_Pn_".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY [m.] MMMM D [d.]",LLL:"YYYY [m.] MMMM D [d.], HH:mm [val.]",LLLL:"YYYY [m.] MMMM D [d.], dddd, HH:mm [val.]",l:"YYYY-MM-DD",ll:"YYYY [m.] MMMM D [d.]",lll:"YYYY [m.] MMMM D [d.], HH:mm [val.]",llll:"YYYY [m.] MMMM D [d.], ddd, HH:mm [val.]"},calendar:{sameDay:"[iandien] LT",nextDay:"[Rytoj] LT",nextWeek:"dddd LT",lastDay:"[Vakar] LT",lastWeek:"[Prajus] dddd LT",sameElse:"L"},relativeTime:{future:"po %s",past:"prie %s",s:function(e,t,n,r){return t?"kelios sekunds":r?"keli sekundi":"kelias sekundes"},ss:o,m:n,mm:o,h:n,hh:o,d:n,dd:o,M:n,MM:o,y:n,yy:o},dayOfMonthOrdinalParse:/\d{1,2}-oji/,ordinal:function(e){return e+"-oji"},week:{dow:1,doy:4}})})(n(0))},function(e,t,n){(function(e){"use strict";var t={ss:"sekundes_sekundm_sekunde_sekundes".split("_"),m:"mintes_mintm_minte_mintes".split("_"),mm:"mintes_mintm_minte_mintes".split("_"),h:"stundas_stundm_stunda_stundas".split("_"),hh:"stundas_stundm_stunda_stundas".split("_"),d:"dienas_dienm_diena_dienas".split("_"),dd:"dienas_dienm_diena_dienas".split("_"),M:"mnea_mneiem_mnesis_mnei".split("_"),MM:"mnea_mneiem_mnesis_mnei".split("_"),y:"gada_gadiem_gads_gadi".split("_"),yy:"gada_gadiem_gads_gadi".split("_")};function n(e,t,n){return n?t%10==1&&t%100!=11?e[2]:e[3]:t%10==1&&t%100!=11?e[0]:e[1]}function r(e,r,i){return e+" "+n(t[i],e,r)}function i(e,r,i){return n(t[i],e,r)}e.defineLocale("lv",{months:"janvris_februris_marts_aprlis_maijs_jnijs_jlijs_augusts_septembris_oktobris_novembris_decembris".split("_"),monthsShort:"jan_feb_mar_apr_mai_jn_jl_aug_sep_okt_nov_dec".split("_"),weekdays:"svtdiena_pirmdiena_otrdiena_trediena_ceturtdiena_piektdiena_sestdiena".split("_"),weekdaysShort:"Sv_P_O_T_C_Pk_S".split("_"),weekdaysMin:"Sv_P_O_T_C_Pk_S".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY.",LL:"YYYY. [gada] D. MMMM",LLL:"YYYY. [gada] D. MMMM, HH:mm",LLLL:"YYYY. [gada] D. MMMM, dddd, HH:mm"},calendar:{sameDay:"[odien pulksten] LT",nextDay:"[Rt pulksten] LT",nextWeek:"dddd [pulksten] LT",lastDay:"[Vakar pulksten] LT",lastWeek:"[Pagju] dddd [pulksten] LT",sameElse:"L"},relativeTime:{future:"pc %s",past:"pirms %s",s:function(e,t){return t?"daas sekundes":"dam sekundm"},ss:r,m:i,mm:r,h:i,hh:r,d:i,dd:r,M:i,MM:r,y:i,yy:r},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})})(n(0))},function(e,t,n){(function(e){"use strict";var t={words:{ss:["sekund","sekunda","sekundi"],m:["jedan minut","jednog minuta"],mm:["minut","minuta","minuta"],h:["jedan sat","jednog sata"],hh:["sat","sata","sati"],dd:["dan","dana","dana"],MM:["mjesec","mjeseca","mjeseci"],yy:["godina","godine","godina"]},correctGrammaticalCase:function(e,t){return 1===e?t[0]:e>=2&&e<=4?t[1]:t[2]},translate:function(e,n,r){var i=t.words[r];return 1===r.length?n?i[0]:i[1]:e+" "+t.correctGrammaticalCase(e,i)}};e.defineLocale("me",{months:"januar_februar_mart_april_maj_jun_jul_avgust_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj_jun_jul_avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_etvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._et._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_e_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sjutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[jue u] LT",lastWeek:function(){return["[prole] [nedjelje] [u] LT","[prolog] [ponedjeljka] [u] LT","[prolog] [utorka] [u] LT","[prole] [srijede] [u] LT","[prolog] [etvrtka] [u] LT","[prolog] [petka] [u] LT","[prole] [subote] [u] LT"][this.day()]},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"nekoliko sekundi",ss:t.translate,m:t.translate,mm:t.translate,h:t.translate,hh:t.translate,d:"dan",dd:t.translate,M:"mjesec",MM:t.translate,y:"godinu",yy:t.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})})(n(0))},function(e,t,n){(function(e){"use strict";e.defineLocale("mi",{months:"Kohi-tte_Hui-tanguru_Pout-te-rangi_Paenga-whwh_Haratua_Pipiri_Hngoingoi_Here-turi-kk_Mahuru_Whiringa--nuku_Whiringa--rangi_Hakihea".split("_"),monthsShort:"Kohi_Hui_Pou_Pae_Hara_Pipi_Hngoi_Here_Mahu_Whi-nu_Whi-ra_Haki".split("_"),monthsRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsStrictRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsShortRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsShortStrictRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,2}/i,weekdays:"Rtapu_Mane_Trei_Wenerei_Tite_Paraire_Htarei".split("_"),weekdaysShort:"Ta_Ma_T_We_Ti_Pa_H".split("_"),weekdaysMin:"Ta_Ma_T_We_Ti_Pa_H".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [i] HH:mm",LLLL:"dddd, D MMMM YYYY [i] HH:mm"},calendar:{sameDay:"[i teie mahana, i] LT",nextDay:"[apopo i] LT",nextWeek:"dddd [i] LT",lastDay:"[inanahi i] LT",lastWeek:"dddd [whakamutunga i] LT",sameElse:"L"},relativeTime:{future:"i roto i %s",past:"%s i mua",s:"te hkona ruarua",ss:"%d hkona",m:"he meneti",mm:"%d meneti",h:"te haora",hh:"%d haora",d:"he ra",dd:"%d ra",M:"he marama",MM:"%d marama",y:"he tau",yy:"%d tau"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})})(n(0))},function(e,t,n){(function(e){"use strict";e.defineLocale("mk",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"e_o_____a".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"[] dddd [] LT",lastDay:"[ ] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[] dddd [] LT";case 1:case 2:case 4:case 5:return"[] dddd [] LT"}},sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:" ",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}-(|||||)/,ordinal:function(e){var t=e%10,n=e%100;return 0===e?e+"-":0===n?e+"-":n>10&&n<20?e+"-":1===t?e+"-":2===t?e+"-":7===t||8===t?e+"-":e+"-"},week:{dow:1,doy:7}})})(n(0))},function(e,t,n){(function(e){"use strict";e.defineLocale("ml",{months:"___________".split("_"),monthsShort:"._._._.___._._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm -",LTS:"A h:mm:ss -",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm -",LLLL:"dddd, D MMMM YYYY, A h:mm -"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},meridiemParse:/|| ||/i,meridiemHour:function(e,t){return 12===e&&(e=0),""===t&&e>=4||" "===t||""===t?e+12:e},meridiem:function(e,t,n){return e<4?"":e<12?"":e<17?" ":e<20?"":""}})})(n(0))},function(e,t,n){(function(e){"use strict";function t(e,t,n,r){switch(n){case"s":return t?" ":" ";case"ss":return e+(t?" ":" ");case"m":case"mm":return e+(t?" ":" ");case"h":case"hh":return e+(t?" ":" ");case"d":case"dd":return e+(t?" ":" ");case"M":case"MM":return e+(t?" ":" ");case"y":case"yy":return e+(t?" ":" ");default:return e}}e.defineLocale("mn",{months:" _ _ _ _ _ _ _ _ _ _  _  ".split("_"),monthsShort:"1 _2 _3 _4 _5 _6 _7 _8 _9 _10 _11 _12 ".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY  MMMM D",LLL:"YYYY  MMMM D HH:mm",LLLL:"dddd, YYYY  MMMM D HH:mm"},meridiemParse:/|/i,isPM:function(e){return""===e},meridiem:function(e,t,n){return e<12?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[] dddd LT",lastDay:"[] LT",lastWeek:"[] dddd LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:t,ss:t,m:t,mm:t,h:t,hh:t,d:t,dd:t,M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2} /,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+" ";default:return e}}})})(n(0))},function(e,t,n){(function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};function r(e,t,n,r){var i="";if(t)switch(n){case"s":i=" ";break;case"ss":i="%d ";break;case"m":i=" ";break;case"mm":i="%d ";break;case"h":i=" ";break;case"hh":i="%d ";break;case"d":i=" ";break;case"dd":i="%d ";break;case"M":i=" ";break;case"MM":i="%d ";break;case"y":i=" ";break;case"yy":i="%d "}else switch(n){case"s":i=" ";break;case"ss":i="%d ";break;case"m":i=" ";break;case"mm":i="%d ";break;case"h":i=" ";break;case"hh":i="%d ";break;case"d":i=" ";break;case"dd":i="%d ";break;case"M":i=" ";break;case"MM":i="%d ";break;case"y":i=" ";break;case"yy":i="%d "}return i.replace(/%d/i,e)}e.defineLocale("mr",{months:"___________".split("_"),monthsShort:"._._._._._._._._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s",s:r,ss:r,m:r,mm:r,h:r,hh:r,d:r,dd:r,M:r,MM:r,y:r,yy:r},preparse:function(e){return e.replace(/[]/g,function(e){return n[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]})},meridiemParse:/|||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t?e<4?e:e+12:""===t?e:""===t?e>=10?e:e+12:""===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"":e<10?"":e<17?"":e<20?"":""},week:{dow:0,doy:6}})})(n(0))},function(e,t,n){(function(e){"use strict";e.defineLocale("ms",{months:"Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis".split("_"),weekdays:"Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu".split("_"),weekdaysShort:"Ahd_Isn_Sel_Rab_Kha_Jum_Sab".split("_"),weekdaysMin:"Ah_Is_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|tengahari|petang|malam/,meridiemHour:function(e,t){return 12===e&&(e=0),"pagi"===t?e:"tengahari"===t?e>=11?e:e+12:"petang"===t||"malam"===t?e+12:void 0},meridiem:function(e,t,n){return e<11?"pagi":e<15?"tengahari":e<19?"petang":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Esok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kelmarin pukul] LT",lastWeek:"dddd [lepas pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lepas",s:"beberapa saat",ss:"%d saat",m:"seminit",mm:"%d minit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}})})(n(0))},function(e,t,n){(function(e){"use strict";e.defineLocale("ms-my",{months:"Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis".split("_"),weekdays:"Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu".split("_"),weekdaysShort:"Ahd_Isn_Sel_Rab_Kha_Jum_Sab".split("_"),weekdaysMin:"Ah_Is_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|tengahari|petang|malam/,meridiemHour:function(e,t){return 12===e&&(e=0),"pagi"===t?e:"tengahari"===t?e>=11?e:e+12:"petang"===t||"malam"===t?e+12:void 0},meridiem:function(e,t,n){return e<11?"pagi":e<15?"tengahari":e<19?"petang":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Esok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kelmarin pukul] LT",lastWeek:"dddd [lepas pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lepas",s:"beberapa saat",ss:"%d saat",m:"seminit",mm:"%d minit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}})})(n(0))},function(e,t,n){(function(e){"use strict";e.defineLocale("mt",{months:"Jannar_Frar_Marzu_April_Mejju_unju_Lulju_Awwissu_Settembru_Ottubru_Novembru_Diembru".split("_"),monthsShort:"Jan_Fra_Mar_Apr_Mej_un_Lul_Aww_Set_Ott_Nov_Di".split("_"),weekdays:"Il-add_It-Tnejn_It-Tlieta_L-Erbga_Il-amis_Il-imga_Is-Sibt".split("_"),weekdaysShort:"ad_Tne_Tli_Erb_am_im_Sib".split("_"),weekdaysMin:"a_Tn_Tl_Er_a_i_Si".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Illum fil-]LT",nextDay:"[Gada fil-]LT",nextWeek:"dddd [fil-]LT",lastDay:"[Il-biera fil-]LT",lastWeek:"dddd [li gadda] [fil-]LT",sameElse:"L"},relativeTime:{future:"f %s",past:"%s ilu",s:"ftit sekondi",ss:"%d sekondi",m:"minuta",mm:"%d minuti",h:"siega",hh:"%d siegat",d:"urnata",dd:"%d ranet",M:"xahar",MM:"%d xhur",y:"sena",yy:"%d sni"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})})(n(0))},function(e,t,n){(function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};e.defineLocale("my",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[.] LT []",nextDay:"[] LT []",nextWeek:"dddd LT []",lastDay:"[.] LT []",lastWeek:"[] dddd LT []",sameElse:"L"},relativeTime:{future:" %s ",past:" %s ",s:".",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},preparse:function(e){return e.replace(/[]/g,function(e){return n[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]})},week:{dow:1,doy:4}})})(n(0))},function(e,t,n){(function(e){"use strict";e.defineLocale("nb",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan._feb._mars_april_mai_juni_juli_aug._sep._okt._nov._des.".split("_"),monthsParseExact:!0,weekdays:"sndag_mandag_tirsdag_onsdag_torsdag_fredag_lrdag".split("_"),weekdaysShort:"s._ma._ti._on._to._fr._l.".split("_"),weekdaysMin:"s_ma_ti_on_to_fr_l".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] HH:mm",LLLL:"dddd D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[i dag kl.] LT",nextDay:"[i morgen kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[i gr kl.] LT",lastWeek:"[forrige] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s siden",s:"noen sekunder",ss:"%d sekunder",m:"ett minutt",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dager",M:"en mned",MM:"%d mneder",y:"ett r",yy:"%d r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})})(n(0))},function(e,t,n){(function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};e.defineLocale("ne",{months:"___________".split("_"),monthsShort:"._.__.___._._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"._._._._._._.".split("_"),weekdaysMin:"._._._._._._.".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},preparse:function(e){return e.replace(/[]/g,function(e){return n[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]})},meridiemParse:/|||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t?e<4?e:e+12:""===t?e:""===t?e>=10?e:e+12:""===t?e+12:void 0},meridiem:function(e,t,n){return e<3?"":e<12?"":e<16?"":e<20?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[] dddd[,] LT",lastDay:"[] LT",lastWeek:"[] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},week:{dow:0,doy:6}})})(n(0))},function(e,t,n){(function(e){"use strict";var t="jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),n="jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),r=[/^jan/i,/^feb/i,/^maart|mrt.?$/i,/^apr/i,/^mei$/i,/^jun[i.]?$/i,/^jul[i.]?$/i,/^aug/i,/^sep/i,/^okt/i,/^nov/i,/^dec/i],i=/^(januari|februari|maart|april|mei|april|ju[nl]i|augustus|september|oktober|november|december|jan\.?|feb\.?|mrt\.?|apr\.?|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i;e.defineLocale("nl",{months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:function(e,r){return e?/-MMM-/.test(r)?n[e.month()]:t[e.month()]:t},monthsRegex:i,monthsShortRegex:i,monthsStrictRegex:/^(januari|februari|maart|mei|ju[nl]i|april|augustus|september|oktober|november|december)/i,monthsShortStrictRegex:/^(jan\.?|feb\.?|mrt\.?|apr\.?|mei|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i,monthsParse:r,longMonthsParse:r,shortMonthsParse:r,weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"zo_ma_di_wo_do_vr_za".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[vandaag om] LT",nextDay:"[morgen om] LT",nextWeek:"dddd [om] LT",lastDay:"[gisteren om] LT",lastWeek:"[afgelopen] dddd [om] LT",sameElse:"L"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",ss:"%d seconden",m:"n minuut",mm:"%d minuten",h:"n uur",hh:"%d uur",d:"n dag",dd:"%d dagen",M:"n maand",MM:"%d maanden",y:"n jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(e){return e+(1===e||8===e||e>=20?"ste":"de")},week:{dow:1,doy:4}})})(n(0))},function(e,t,n){(function(e){"use strict";var t="jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),n="jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),r=[/^jan/i,/^feb/i,/^maart|mrt.?$/i,/^apr/i,/^mei$/i,/^jun[i.]?$/i,/^jul[i.]?$/i,/^aug/i,/^sep/i,/^okt/i,/^nov/i,/^dec/i],i=/^(januari|februari|maart|april|mei|april|ju[nl]i|augustus|september|oktober|november|december|jan\.?|feb\.?|mrt\.?|apr\.?|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i;e.defineLocale("nl-be",{months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:function(e,r){return e?/-MMM-/.test(r)?n[e.month()]:t[e.month()]:t},monthsRegex:i,monthsShortRegex:i,monthsStrictRegex:/^(januari|februari|maart|mei|ju[nl]i|april|augustus|september|oktober|november|december)/i,monthsShortStrictRegex:/^(jan\.?|feb\.?|mrt\.?|apr\.?|mei|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i,monthsParse:r,longMonthsParse:r,shortMonthsParse:r,weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"zo_ma_di_wo_do_vr_za".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[vandaag om] LT",nextDay:"[morgen om] LT",nextWeek:"dddd [om] LT",lastDay:"[gisteren om] LT",lastWeek:"[afgelopen] dddd [om] LT",sameElse:"L"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",ss:"%d seconden",m:"n minuut",mm:"%d minuten",h:"n uur",hh:"%d uur",d:"n dag",dd:"%d dagen",M:"n maand",MM:"%d maanden",y:"n jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(e){return e+(1===e||8===e||e>=20?"ste":"de")},week:{dow:1,doy:4}})})(n(0))},function(e,t,n){(function(e){"use strict";e.defineLocale("nn",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan_feb_mar_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_"),weekdays:"sundag_mndag_tysdag_onsdag_torsdag_fredag_laurdag".split("_"),weekdaysShort:"sun_mn_tys_ons_tor_fre_lau".split("_"),weekdaysMin:"su_m_ty_on_to_fr_l".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] H:mm",LLLL:"dddd D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[I dag klokka] LT",nextDay:"[I morgon klokka] LT",nextWeek:"dddd [klokka] LT",lastDay:"[I gr klokka] LT",lastWeek:"[Fregande] dddd [klokka] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s sidan",s:"nokre sekund",ss:"%d sekund",m:"eit minutt",mm:"%d minutt",h:"ein time",hh:"%d timar",d:"ein dag",dd:"%d dagar",M:"ein mnad",MM:"%d mnader",y:"eit r",yy:"%d r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})})(n(0))},function(e,t,n){(function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};e.defineLocale("pa-in",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[] dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(e){return e.replace(/[]/g,function(e){return n[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]})},meridiemParse:/|||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t?e<4?e:e+12:""===t?e:""===t?e>=10?e:e+12:""===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"":e<10?"":e<17?"":e<20?"":""},week:{dow:0,doy:6}})})(n(0))},function(e,t,n){(function(e){"use strict";var t="stycze_luty_marzec_kwiecie_maj_czerwiec_lipiec_sierpie_wrzesie_padziernik_listopad_grudzie".split("_"),n="stycznia_lutego_marca_kwietnia_maja_czerwca_lipca_sierpnia_wrzenia_padziernika_listopada_grudnia".split("_");function r(e){return e%10<5&&e%10>1&&~~(e/10)%10!=1}function i(e,t,n){var i=e+" ";switch(n){case"ss":return i+(r(e)?"sekundy":"sekund");case"m":return t?"minuta":"minut";case"mm":return i+(r(e)?"minuty":"minut");case"h":return t?"godzina":"godzin";case"hh":return i+(r(e)?"godziny":"godzin");case"MM":return i+(r(e)?"miesice":"miesicy");case"yy":return i+(r(e)?"lata":"lat")}}e.defineLocale("pl",{months:function(e,r){return e?""===r?"("+n[e.month()]+"|"+t[e.month()]+")":/D MMMM/.test(r)?n[e.month()]:t[e.month()]:t},monthsShort:"sty_lut_mar_kwi_maj_cze_lip_sie_wrz_pa_lis_gru".split("_"),weekdays:"niedziela_poniedziaek_wtorek_roda_czwartek_pitek_sobota".split("_"),weekdaysShort:"ndz_pon_wt_r_czw_pt_sob".split("_"),weekdaysMin:"Nd_Pn_Wt_r_Cz_Pt_So".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Dzi o] LT",nextDay:"[Jutro o] LT",nextWeek:function(){switch(this.day()){case 0:return"[W niedziel o] LT";case 2:return"[We wtorek o] LT";case 3:return"[W rod o] LT";case 6:return"[W sobot o] LT";default:return"[W] dddd [o] LT"}},lastDay:"[Wczoraj o] LT",lastWeek:function(){switch(this.day()){case 0:return"[W zesz niedziel o] LT";case 3:return"[W zesz rod o] LT";case 6:return"[W zesz sobot o] LT";default:return"[W zeszy] dddd [o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"%s temu",s:"kilka sekund",ss:i,m:i,mm:i,h:i,hh:i,d:"1 dzie",dd:"%d dni",M:"miesic",MM:i,y:"rok",yy:i},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})})(n(0))},function(e,t,n){(function(e){"use strict";e.defineLocale("pt",{months:"janeiro_fevereiro_maro_abril_maio_junho_julho_agosto_setembro_outubro_novembro_dezembro".split("_"),monthsShort:"jan_fev_mar_abr_mai_jun_jul_ago_set_out_nov_dez".split("_"),weekdays:"Domingo_Segunda-feira_Tera-feira_Quarta-feira_Quinta-feira_Sexta-feira_Sbado".split("_"),weekdaysShort:"Dom_Seg_Ter_Qua_Qui_Sex_Sb".split("_"),weekdaysMin:"Do_2_3_4_5_6_S".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY HH:mm"},calendar:{sameDay:"[Hoje s] LT",nextDay:"[Amanh s] LT",nextWeek:"dddd [s] LT",lastDay:"[Ontem s] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[ltimo] dddd [s] LT":"[ltima] dddd [s] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"h %s",s:"segundos",ss:"%d segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um ms",MM:"%d meses",y:"um ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})})(n(0))},function(e,t,n){(function(e){"use strict";e.defineLocale("pt-br",{months:"janeiro_fevereiro_maro_abril_maio_junho_julho_agosto_setembro_outubro_novembro_dezembro".split("_"),monthsShort:"jan_fev_mar_abr_mai_jun_jul_ago_set_out_nov_dez".split("_"),weekdays:"Domingo_Segunda-feira_Tera-feira_Quarta-feira_Quinta-feira_Sexta-feira_Sbado".split("_"),weekdaysShort:"Dom_Seg_Ter_Qua_Qui_Sex_Sb".split("_"),weekdaysMin:"Do_2_3_4_5_6_S".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY [s] HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY [s] HH:mm"},calendar:{sameDay:"[Hoje s] LT",nextDay:"[Amanh s] LT",nextWeek:"dddd [s] LT",lastDay:"[Ontem s] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[ltimo] dddd [s] LT":"[ltima] dddd [s] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"h %s",s:"poucos segundos",ss:"%d segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um ms",MM:"%d meses",y:"um ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d"})})(n(0))},function(e,t,n){(function(e){"use strict";function t(e,t,n){var r=" ";return(e%100>=20||e>=100&&e%100==0)&&(r=" de "),e+r+{ss:"secunde",mm:"minute",hh:"ore",dd:"zile",MM:"luni",yy:"ani"}[n]}e.defineLocale("ro",{months:"ianuarie_februarie_martie_aprilie_mai_iunie_iulie_august_septembrie_octombrie_noiembrie_decembrie".split("_"),monthsShort:"ian._febr._mart._apr._mai_iun._iul._aug._sept._oct._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"duminic_luni_mari_miercuri_joi_vineri_smbt".split("_"),weekdaysShort:"Dum_Lun_Mar_Mie_Joi_Vin_Sm".split("_"),weekdaysMin:"Du_Lu_Ma_Mi_Jo_Vi_S".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[azi la] LT",nextDay:"[mine la] LT",nextWeek:"dddd [la] LT",lastDay:"[ieri la] LT",lastWeek:"[fosta] dddd [la] LT",sameElse:"L"},relativeTime:{future:"peste %s",past:"%s n urm",s:"cteva secunde",ss:t,m:"un minut",mm:t,h:"o or",hh:t,d:"o zi",dd:t,M:"o lun",MM:t,y:"un an",yy:t},week:{dow:1,doy:7}})})(n(0))},function(e,t,n){(function(e){"use strict";function t(e,t,n){var r,i;return"m"===n?t?"":"":e+" "+(r=+e,i={ss:t?"__":"__",mm:t?"__":"__",hh:"__",dd:"__",MM:"__",yy:"__"}[n].split("_"),r%10==1&&r%100!=11?i[0]:r%10>=2&&r%10<=4&&(r%100<10||r%100>=20)?i[1]:i[2])}var n=[/^/i,/^/i,/^/i,/^/i,/^[]/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i];e.defineLocale("ru",{months:{format:"___________".split("_"),standalone:"___________".split("_")},monthsShort:{format:"._._._.____._._._._.".split("_"),standalone:"._.__.____._._._._.".split("_")},weekdays:{standalone:"______".split("_"),format:"______".split("_"),isFormat:/\[ ?[] ?(?:||)? ?\] ?dddd/},weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),monthsParse:n,longMonthsParse:n,shortMonthsParse:n,monthsRegex:/^([]|\.?|[]|?\.?|?|\.?|[]|\.?|[]|[]|\.?|[]|\.?|?|\.?|[]|?\.?|[]|\.?|[]|?\.?|[]|\.?)/i,monthsShortRegex:/^([]|\.?|[]|?\.?|?|\.?|[]|\.?|[]|[]|\.?|[]|\.?|?|\.?|[]|?\.?|[]|\.?|[]|?\.?|[]|\.?)/i,monthsStrictRegex:/^([]|[]|?|[]|[]|[]|[]|?|[]|[]|[]|[])/i,monthsShortStrictRegex:/^(\.|?\.|[.]|\.|[]|[.]|[.]|\.|?\.|\.|?\.|\.)/i,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., H:mm",LLLL:"dddd, D MMMM YYYY ., H:mm"},calendar:{sameDay:"[, ] LT",nextDay:"[, ] LT",lastDay:"[, ] LT",nextWeek:function(e){if(e.week()===this.week())return 2===this.day()?"[] dddd, [] LT":"[] dddd, [] LT";switch(this.day()){case 0:return"[ ] dddd, [] LT";case 1:case 2:case 4:return"[ ] dddd, [] LT";case 3:case 5:case 6:return"[ ] dddd, [] LT"}},lastWeek:function(e){if(e.week()===this.week())return 2===this.day()?"[] dddd, [] LT":"[] dddd, [] LT";switch(this.day()){case 0:return"[ ] dddd, [] LT";case 1:case 2:case 4:return"[ ] dddd, [] LT";case 3:case 5:case 6:return"[ ] dddd, [] LT"}},sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",ss:t,m:t,mm:t,h:"",hh:t,d:"",dd:t,M:"",MM:t,y:"",yy:t},meridiemParse:/|||/i,isPM:function(e){return/^(|)$/.test(e)},meridiem:function(e,t,n){return e<4?"":e<12?"":e<17?"":""},dayOfMonthOrdinalParse:/\d{1,2}-(||)/,ordinal:function(e,t){switch(t){case"M":case"d":case"DDD":return e+"-";case"D":return e+"-";case"w":case"W":return e+"-";default:return e}},week:{dow:1,doy:4}})})(n(0))},function(e,t,n){(function(e){"use strict";var t=["","","","","","","","","","","",""],n=["","","","","","",""];e.defineLocale("sd",{months:t,monthsShort:t,weekdays:n,weekdaysShort:n,weekdaysMin:n,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(e){return""===e},meridiem:function(e,t,n){return e<12?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd [  ] LT",lastDay:"[] LT",lastWeek:"[ ] dddd [] LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(e){return e.replace(//g,",")},postformat:function(e){return e.replace(/,/g,"")},week:{dow:1,doy:4}})})(n(0))},function(e,t,n){(function(e){"use strict";e.defineLocale("se",{months:"oajagemnnu_guovvamnnu_njukamnnu_cuoomnnu_miessemnnu_geassemnnu_suoidnemnnu_borgemnnu_akamnnu_golggotmnnu_skbmamnnu_juovlamnnu".split("_"),monthsShort:"oj_guov_njuk_cuo_mies_geas_suoi_borg_ak_golg_skb_juov".split("_"),weekdays:"sotnabeaivi_vuossrga_maebrga_gaskavahkku_duorastat_bearjadat_lvvardat".split("_"),weekdaysShort:"sotn_vuos_ma_gask_duor_bear_lv".split("_"),weekdaysMin:"s_v_m_g_d_b_L".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"MMMM D. [b.] YYYY",LLL:"MMMM D. [b.] YYYY [ti.] HH:mm",LLLL:"dddd, MMMM D. [b.] YYYY [ti.] HH:mm"},calendar:{sameDay:"[otne ti] LT",nextDay:"[ihttin ti] LT",nextWeek:"dddd [ti] LT",lastDay:"[ikte ti] LT",lastWeek:"[ovddit] dddd [ti] LT",sameElse:"L"},relativeTime:{future:"%s geaes",past:"mait %s",s:"moadde sekunddat",ss:"%d sekunddat",m:"okta minuhta",mm:"%d minuhtat",h:"okta diimmu",hh:"%d diimmut",d:"okta beaivi",dd:"%d beaivvit",M:"okta mnnu",MM:"%d mnut",y:"okta jahki",yy:"%d jagit"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})})(n(0))},function(e,t,n){(function(e){"use strict";e.defineLocale("si",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"a h:mm",LTS:"a h:mm:ss",L:"YYYY/MM/DD",LL:"YYYY MMMM D",LLL:"YYYY MMMM D, a h:mm",LLLL:"YYYY MMMM D [] dddd, a h:mm:ss"},calendar:{sameDay:"[] LT[]",nextDay:"[] LT[]",nextWeek:"dddd LT[]",lastDay:"[] LT[]",lastWeek:"[] dddd LT[]",sameElse:"L"},relativeTime:{future:"%s",past:"%s ",s:" ",ss:" %d",m:"",mm:" %d",h:"",hh:" %d",d:"",dd:" %d",M:"",MM:" %d",y:"",yy:" %d"},dayOfMonthOrdinalParse:/\d{1,2} /,ordinal:function(e){return e+" "},meridiemParse:/ | |.|../,isPM:function(e){return".."===e||" "===e},meridiem:function(e,t,n){return e>11?n?"..":" ":n?"..":" "}})})(n(0))},function(e,t,n){(function(e){"use strict";var t="janur_februr_marec_aprl_mj_jn_jl_august_september_oktber_november_december".split("_"),n="jan_feb_mar_apr_mj_jn_jl_aug_sep_okt_nov_dec".split("_");function r(e){return e>1&&e<5}function i(e,t,n,i){var o=e+" ";switch(n){case"s":return t||i?"pr seknd":"pr sekundami";case"ss":return t||i?o+(r(e)?"sekundy":"seknd"):o+"sekundami";case"m":return t?"minta":i?"mintu":"mintou";case"mm":return t||i?o+(r(e)?"minty":"mint"):o+"mintami";case"h":return t?"hodina":i?"hodinu":"hodinou";case"hh":return t||i?o+(r(e)?"hodiny":"hodn"):o+"hodinami";case"d":return t||i?"de":"dom";case"dd":return t||i?o+(r(e)?"dni":"dn"):o+"dami";case"M":return t||i?"mesiac":"mesiacom";case"MM":return t||i?o+(r(e)?"mesiace":"mesiacov"):o+"mesiacmi";case"y":return t||i?"rok":"rokom";case"yy":return t||i?o+(r(e)?"roky":"rokov"):o+"rokmi"}}e.defineLocale("sk",{months:t,monthsShort:n,weekdays:"nedea_pondelok_utorok_streda_tvrtok_piatok_sobota".split("_"),weekdaysShort:"ne_po_ut_st_t_pi_so".split("_"),weekdaysMin:"ne_po_ut_st_t_pi_so".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd D. MMMM YYYY H:mm"},calendar:{sameDay:"[dnes o] LT",nextDay:"[zajtra o] LT",nextWeek:function(){switch(this.day()){case 0:return"[v nedeu o] LT";case 1:case 2:return"[v] dddd [o] LT";case 3:return"[v stredu o] LT";case 4:return"[vo tvrtok o] LT";case 5:return"[v piatok o] LT";case 6:return"[v sobotu o] LT"}},lastDay:"[vera o] LT",lastWeek:function(){switch(this.day()){case 0:return"[minul nedeu o] LT";case 1:case 2:return"[minul] dddd [o] LT";case 3:return"[minul stredu o] LT";case 4:case 5:return"[minul] dddd [o] LT";case 6:return"[minul sobotu o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"pred %s",s:i,ss:i,m:i,mm:i,h:i,hh:i,d:i,dd:i,M:i,MM:i,y:i,yy:i},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})})(n(0))},function(e,t,n){(function(e){"use strict";function t(e,t,n,r){var i=e+" ";switch(n){case"s":return t||r?"nekaj sekund":"nekaj sekundami";case"ss":return i+=1===e?t?"sekundo":"sekundi":2===e?t||r?"sekundi":"sekundah":e<5?t||r?"sekunde":"sekundah":"sekund";case"m":return t?"ena minuta":"eno minuto";case"mm":return i+=1===e?t?"minuta":"minuto":2===e?t||r?"minuti":"minutama":e<5?t||r?"minute":"minutami":t||r?"minut":"minutami";case"h":return t?"ena ura":"eno uro";case"hh":return i+=1===e?t?"ura":"uro":2===e?t||r?"uri":"urama":e<5?t||r?"ure":"urami":t||r?"ur":"urami";case"d":return t||r?"en dan":"enim dnem";case"dd":return i+=1===e?t||r?"dan":"dnem":2===e?t||r?"dni":"dnevoma":t||r?"dni":"dnevi";case"M":return t||r?"en mesec":"enim mesecem";case"MM":return i+=1===e?t||r?"mesec":"mesecem":2===e?t||r?"meseca":"mesecema":e<5?t||r?"mesece":"meseci":t||r?"mesecev":"meseci";case"y":return t||r?"eno leto":"enim letom";case"yy":return i+=1===e?t||r?"leto":"letom":2===e?t||r?"leti":"letoma":e<5?t||r?"leta":"leti":t||r?"let":"leti"}}e.defineLocale("sl",{months:"januar_februar_marec_april_maj_junij_julij_avgust_september_oktober_november_december".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedelja_ponedeljek_torek_sreda_etrtek_petek_sobota".split("_"),weekdaysShort:"ned._pon._tor._sre._et._pet._sob.".split("_"),weekdaysMin:"ne_po_to_sr_e_pe_so".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danes ob] LT",nextDay:"[jutri ob] LT",nextWeek:function(){switch(this.day()){case 0:return"[v] [nedeljo] [ob] LT";case 3:return"[v] [sredo] [ob] LT";case 6:return"[v] [soboto] [ob] LT";case 1:case 2:case 4:case 5:return"[v] dddd [ob] LT"}},lastDay:"[veraj ob] LT",lastWeek:function(){switch(this.day()){case 0:return"[prejnjo] [nedeljo] [ob] LT";case 3:return"[prejnjo] [sredo] [ob] LT";case 6:return"[prejnjo] [soboto] [ob] LT";case 1:case 2:case 4:case 5:return"[prejnji] dddd [ob] LT"}},sameElse:"L"},relativeTime:{future:"ez %s",past:"pred %s",s:t,ss:t,m:t,mm:t,h:t,hh:t,d:t,dd:t,M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})})(n(0))},function(e,t,n){(function(e){"use strict";e.defineLocale("sq",{months:"Janar_Shkurt_Mars_Prill_Maj_Qershor_Korrik_Gusht_Shtator_Tetor_Nntor_Dhjetor".split("_"),monthsShort:"Jan_Shk_Mar_Pri_Maj_Qer_Kor_Gus_Sht_Tet_Nn_Dhj".split("_"),weekdays:"E Diel_E Hn_E Mart_E Mrkur_E Enjte_E Premte_E Shtun".split("_"),weekdaysShort:"Die_Hn_Mar_Mr_Enj_Pre_Sht".split("_"),weekdaysMin:"D_H_Ma_M_E_P_Sh".split("_"),weekdaysParseExact:!0,meridiemParse:/PD|MD/,isPM:function(e){return"M"===e.charAt(0)},meridiem:function(e,t,n){return e<12?"PD":"MD"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Sot n] LT",nextDay:"[Nesr n] LT",nextWeek:"dddd [n] LT",lastDay:"[Dje n] LT",lastWeek:"dddd [e kaluar n] LT",sameElse:"L"},relativeTime:{future:"n %s",past:"%s m par",s:"disa sekonda",ss:"%d sekonda",m:"nj minut",mm:"%d minuta",h:"nj or",hh:"%d or",d:"nj dit",dd:"%d dit",M:"nj muaj",MM:"%d muaj",y:"nj vit",yy:"%d vite"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})})(n(0))},function(e,t,n){(function(e){"use strict";var t={words:{ss:["sekunda","sekunde","sekundi"],m:["jedan minut","jedne minute"],mm:["minut","minute","minuta"],h:["jedan sat","jednog sata"],hh:["sat","sata","sati"],dd:["dan","dana","dana"],MM:["mesec","meseca","meseci"],yy:["godina","godine","godina"]},correctGrammaticalCase:function(e,t){return 1===e?t[0]:e>=2&&e<=4?t[1]:t[2]},translate:function(e,n,r){var i=t.words[r];return 1===r.length?n?i[0]:i[1]:e+" "+t.correctGrammaticalCase(e,i)}};e.defineLocale("sr",{months:"januar_februar_mart_april_maj_jun_jul_avgust_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj_jun_jul_avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedelja_ponedeljak_utorak_sreda_etvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sre._et._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_e_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedelju] [u] LT";case 3:return"[u] [sredu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[jue u] LT",lastWeek:function(){return["[prole] [nedelje] [u] LT","[prolog] [ponedeljka] [u] LT","[prolog] [utorka] [u] LT","[prole] [srede] [u] LT","[prolog] [etvrtka] [u] LT","[prolog] [petka] [u] LT","[prole] [subote] [u] LT"][this.day()]},sameElse:"L"},relativeTime:{future:"za %s",past:"pre %s",s:"nekoliko sekundi",ss:t.translate,m:t.translate,mm:t.translate,h:t.translate,hh:t.translate,d:"dan",dd:t.translate,M:"mesec",MM:t.translate,y:"godinu",yy:t.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})})(n(0))},function(e,t,n){(function(e){"use strict";var t={words:{ss:["","",""],m:[" "," "],mm:["","",""],h:[" "," "],hh:["","",""],dd:["","",""],MM:["","",""],yy:["","",""]},correctGrammaticalCase:function(e,t){return 1===e?t[0]:e>=2&&e<=4?t[1]:t[2]},translate:function(e,n,r){var i=t.words[r];return 1===r.length?n?i[0]:i[1]:e+" "+t.correctGrammaticalCase(e,i)}};e.defineLocale("sr-cyrl",{months:"___________".split("_"),monthsShort:"._._._.____._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"._._._._._._.".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:function(){switch(this.day()){case 0:return"[] [] [] LT";case 3:return"[] [] [] LT";case 6:return"[] [] [] LT";case 1:case 2:case 4:case 5:return"[] dddd [] LT"}},lastDay:"[ ] LT",lastWeek:function(){return["[] [] [] LT","[] [] [] LT","[] [] [] LT","[] [] [] LT","[] [] [] LT","[] [] [] LT","[] [] [] LT"][this.day()]},sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:" ",ss:t.translate,m:t.translate,mm:t.translate,h:t.translate,hh:t.translate,d:"",dd:t.translate,M:"",MM:t.translate,y:"",yy:t.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})})(n(0))},function(e,t,n){(function(e){"use strict";e.defineLocale("ss",{months:"Bhimbidvwane_Indlovana_Indlov'lenkhulu_Mabasa_Inkhwekhweti_Inhlaba_Kholwane_Ingci_Inyoni_Imphala_Lweti_Ingongoni".split("_"),monthsShort:"Bhi_Ina_Inu_Mab_Ink_Inh_Kho_Igc_Iny_Imp_Lwe_Igo".split("_"),weekdays:"Lisontfo_Umsombuluko_Lesibili_Lesitsatfu_Lesine_Lesihlanu_Umgcibelo".split("_"),weekdaysShort:"Lis_Umb_Lsb_Les_Lsi_Lsh_Umg".split("_"),weekdaysMin:"Li_Us_Lb_Lt_Ls_Lh_Ug".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Namuhla nga] LT",nextDay:"[Kusasa nga] LT",nextWeek:"dddd [nga] LT",lastDay:"[Itolo nga] LT",lastWeek:"dddd [leliphelile] [nga] LT",sameElse:"L"},relativeTime:{future:"nga %s",past:"wenteka nga %s",s:"emizuzwana lomcane",ss:"%d mzuzwana",m:"umzuzu",mm:"%d emizuzu",h:"lihora",hh:"%d emahora",d:"lilanga",dd:"%d emalanga",M:"inyanga",MM:"%d tinyanga",y:"umnyaka",yy:"%d iminyaka"},meridiemParse:/ekuseni|emini|entsambama|ebusuku/,meridiem:function(e,t,n){return e<11?"ekuseni":e<15?"emini":e<19?"entsambama":"ebusuku"},meridiemHour:function(e,t){return 12===e&&(e=0),"ekuseni"===t?e:"emini"===t?e>=11?e:e+12:"entsambama"===t||"ebusuku"===t?0===e?0:e+12:void 0},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})})(n(0))},function(e,t,n){(function(e){"use strict";e.defineLocale("sv",{months:"januari_februari_mars_april_maj_juni_juli_augusti_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"sndag_mndag_tisdag_onsdag_torsdag_fredag_lrdag".split("_"),weekdaysShort:"sn_mn_tis_ons_tor_fre_lr".split("_"),weekdaysMin:"s_m_ti_on_to_fr_l".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [kl.] HH:mm",LLLL:"dddd D MMMM YYYY [kl.] HH:mm",lll:"D MMM YYYY HH:mm",llll:"ddd D MMM YYYY HH:mm"},calendar:{sameDay:"[Idag] LT",nextDay:"[Imorgon] LT",lastDay:"[Igr] LT",nextWeek:"[P] dddd LT",lastWeek:"[I] dddd[s] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"fr %s sedan",s:"ngra sekunder",ss:"%d sekunder",m:"en minut",mm:"%d minuter",h:"en timme",hh:"%d timmar",d:"en dag",dd:"%d dagar",M:"en mnad",MM:"%d mnader",y:"ett r",yy:"%d r"},dayOfMonthOrdinalParse:/\d{1,2}(e|a)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"e":1===t?"a":2===t?"a":"e")},week:{dow:1,doy:4}})})(n(0))},function(e,t,n){(function(e){"use strict";e.defineLocale("sw",{months:"Januari_Februari_Machi_Aprili_Mei_Juni_Julai_Agosti_Septemba_Oktoba_Novemba_Desemba".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ago_Sep_Okt_Nov_Des".split("_"),weekdays:"Jumapili_Jumatatu_Jumanne_Jumatano_Alhamisi_Ijumaa_Jumamosi".split("_"),weekdaysShort:"Jpl_Jtat_Jnne_Jtan_Alh_Ijm_Jmos".split("_"),weekdaysMin:"J2_J3_J4_J5_Al_Ij_J1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[leo saa] LT",nextDay:"[kesho saa] LT",nextWeek:"[wiki ijayo] dddd [saat] LT",lastDay:"[jana] LT",lastWeek:"[wiki iliyopita] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s baadaye",past:"tokea %s",s:"hivi punde",ss:"sekunde %d",m:"dakika moja",mm:"dakika %d",h:"saa limoja",hh:"masaa %d",d:"siku moja",dd:"masiku %d",M:"mwezi mmoja",MM:"miezi %d",y:"mwaka mmoja",yy:"miaka %d"},week:{dow:1,doy:7}})})(n(0))},function(e,t,n){(function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};e.defineLocale("ta",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, HH:mm",LLLL:"dddd, D MMMM YYYY, HH:mm"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[ ] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:"  ",ss:"%d ",m:" ",mm:"%d ",h:"  ",hh:"%d  ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(e){return e+""},preparse:function(e){return e.replace(/[]/g,function(e){return n[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]})},meridiemParse:/|||||/,meridiem:function(e,t,n){return e<2?" ":e<6?" ":e<10?" ":e<14?" ":e<18?" ":e<22?" ":" "},meridiemHour:function(e,t){return 12===e&&(e=0),""===t?e<2?e:e+12:""===t||""===t?e:""===t&&e>=10?e:e+12},week:{dow:0,doy:6}})})(n(0))},function(e,t,n){(function(e){"use strict";e.defineLocale("te",{months:"___________".split("_"),monthsShort:"._.__.____._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",meridiemParse:/|||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t?e<4?e:e+12:""===t?e:""===t?e>=10?e:e+12:""===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"":e<10?"":e<17?"":e<20?"":""},week:{dow:0,doy:6}})})(n(0))},function(e,t,n){(function(e){"use strict";e.defineLocale("tet",{months:"Janeiru_Fevereiru_Marsu_Abril_Maiu_Juu_Jullu_Agustu_Setembru_Outubru_Novembru_Dezembru".split("_"),monthsShort:"Jan_Fev_Mar_Abr_Mai_Jun_Jul_Ago_Set_Out_Nov_Dez".split("_"),weekdays:"Domingu_Segunda_Tersa_Kuarta_Kinta_Sesta_Sabadu".split("_"),weekdaysShort:"Dom_Seg_Ters_Kua_Kint_Sest_Sab".split("_"),weekdaysMin:"Do_Seg_Te_Ku_Ki_Ses_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Ohin iha] LT",nextDay:"[Aban iha] LT",nextWeek:"dddd [iha] LT",lastDay:"[Horiseik iha] LT",lastWeek:"dddd [semana kotuk] [iha] LT",sameElse:"L"},relativeTime:{future:"iha %s",past:"%s liuba",s:"minutu balun",ss:"minutu %d",m:"minutu ida",mm:"minutu %d",h:"oras ida",hh:"oras %d",d:"loron ida",dd:"loron %d",M:"fulan ida",MM:"fulan %d",y:"tinan ida",yy:"tinan %d"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:1,doy:4}})})(n(0))},function(e,t,n){(function(e){"use strict";var t={0:"-",1:"-",2:"-",3:"-",4:"-",5:"-",6:"-",7:"-",8:"-",9:"-",10:"-",12:"-",13:"-",20:"-",30:"-",40:"-",50:"-",60:"-",70:"-",80:"-",90:"-",100:"-"};e.defineLocale("tg",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",lastDay:"[ ] LT",nextWeek:"dddd[] [  ] LT",lastWeek:"dddd[] [  ] LT",sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},meridiemParse:/|||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t?e<4?e:e+12:""===t?e:""===t?e>=11?e:e+12:""===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"":e<11?"":e<16?"":e<19?"":""},dayOfMonthOrdinalParse:/\d{1,2}-(|)/,ordinal:function(e){return e+(t[e]||t[e%10]||t[e>=100?100:null])},week:{dow:1,doy:7}})})(n(0))},function(e,t,n){(function(e){"use strict";e.defineLocale("th",{months:"___________".split("_"),monthsShort:".._.._.._.._.._.._.._.._.._.._.._..".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"._._._._._._.".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY  H:mm",LLLL:"dddd D MMMM YYYY  H:mm"},meridiemParse:/|/,isPM:function(e){return""===e},meridiem:function(e,t,n){return e<12?"":""},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd[ ] LT",lastDay:"[ ] LT",lastWeek:"[]dddd[ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:"%s",s:"",ss:"%d ",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "}})})(n(0))},function(e,t,n){(function(e){"use strict";e.defineLocale("tl-ph",{months:"Enero_Pebrero_Marso_Abril_Mayo_Hunyo_Hulyo_Agosto_Setyembre_Oktubre_Nobyembre_Disyembre".split("_"),monthsShort:"Ene_Peb_Mar_Abr_May_Hun_Hul_Ago_Set_Okt_Nob_Dis".split("_"),weekdays:"Linggo_Lunes_Martes_Miyerkules_Huwebes_Biyernes_Sabado".split("_"),weekdaysShort:"Lin_Lun_Mar_Miy_Huw_Biy_Sab".split("_"),weekdaysMin:"Li_Lu_Ma_Mi_Hu_Bi_Sab".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"MM/D/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY HH:mm",LLLL:"dddd, MMMM DD, YYYY HH:mm"},calendar:{sameDay:"LT [ngayong araw]",nextDay:"[Bukas ng] LT",nextWeek:"LT [sa susunod na] dddd",lastDay:"LT [kahapon]",lastWeek:"LT [noong nakaraang] dddd",sameElse:"L"},relativeTime:{future:"sa loob ng %s",past:"%s ang nakalipas",s:"ilang segundo",ss:"%d segundo",m:"isang minuto",mm:"%d minuto",h:"isang oras",hh:"%d oras",d:"isang araw",dd:"%d araw",M:"isang buwan",MM:"%d buwan",y:"isang taon",yy:"%d taon"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(e){return e},week:{dow:1,doy:4}})})(n(0))},function(e,t,n){(function(e){"use strict";var t="pagh_wa_cha_wej_loS_vagh_jav_Soch_chorgh_Hut".split("_");function n(e,n,r,i){var o=function(e){var n=Math.floor(e%1e3/100),r=Math.floor(e%100/10),i=e%10,o="";n>0&&(o+=t[n]+"vatlh");r>0&&(o+=(""!==o?" ":"")+t[r]+"maH");i>0&&(o+=(""!==o?" ":"")+t[i]);return""===o?"pagh":o}(e);switch(r){case"ss":return o+" lup";case"mm":return o+" tup";case"hh":return o+" rep";case"dd":return o+" jaj";case"MM":return o+" jar";case"yy":return o+" DIS"}}e.defineLocale("tlh",{months:"tera jar wa_tera jar cha_tera jar wej_tera jar loS_tera jar vagh_tera jar jav_tera jar Soch_tera jar chorgh_tera jar Hut_tera jar wamaH_tera jar wamaH wa_tera jar wamaH cha".split("_"),monthsShort:"jar wa_jar cha_jar wej_jar loS_jar vagh_jar jav_jar Soch_jar chorgh_jar Hut_jar wamaH_jar wamaH wa_jar wamaH cha".split("_"),monthsParseExact:!0,weekdays:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),weekdaysShort:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),weekdaysMin:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[DaHjaj] LT",nextDay:"[waleS] LT",nextWeek:"LLL",lastDay:"[waHu] LT",lastWeek:"LLL",sameElse:"L"},relativeTime:{future:function(e){var t=e;return t=-1!==e.indexOf("jaj")?t.slice(0,-3)+"leS":-1!==e.indexOf("jar")?t.slice(0,-3)+"waQ":-1!==e.indexOf("DIS")?t.slice(0,-3)+"nem":t+" pIq"},past:function(e){var t=e;return t=-1!==e.indexOf("jaj")?t.slice(0,-3)+"Hu":-1!==e.indexOf("jar")?t.slice(0,-3)+"wen":-1!==e.indexOf("DIS")?t.slice(0,-3)+"ben":t+" ret"},s:"puS lup",ss:n,m:"wa tup",mm:n,h:"wa rep",hh:n,d:"wa jaj",dd:n,M:"wa jar",MM:n,y:"wa DIS",yy:n},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})})(n(0))},function(e,t,n){(function(e){"use strict";var t={1:"'inci",5:"'inci",8:"'inci",70:"'inci",80:"'inci",2:"'nci",7:"'nci",20:"'nci",50:"'nci",3:"'nc",4:"'nc",100:"'nc",6:"'nc",9:"'uncu",10:"'uncu",30:"'uncu",60:"'nc",90:"'nc"};e.defineLocale("tr",{months:"Ocak_ubat_Mart_Nisan_Mays_Haziran_Temmuz_Austos_Eyll_Ekim_Kasm_Aralk".split("_"),monthsShort:"Oca_ub_Mar_Nis_May_Haz_Tem_Au_Eyl_Eki_Kas_Ara".split("_"),weekdays:"Pazar_Pazartesi_Sal_aramba_Perembe_Cuma_Cumartesi".split("_"),weekdaysShort:"Paz_Pts_Sal_ar_Per_Cum_Cts".split("_"),weekdaysMin:"Pz_Pt_Sa_a_Pe_Cu_Ct".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bugn saat] LT",nextDay:"[yarn saat] LT",nextWeek:"[gelecek] dddd [saat] LT",lastDay:"[dn] LT",lastWeek:"[geen] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s nce",s:"birka saniye",ss:"%d saniye",m:"bir dakika",mm:"%d dakika",h:"bir saat",hh:"%d saat",d:"bir gn",dd:"%d gn",M:"bir ay",MM:"%d ay",y:"bir yl",yy:"%d yl"},ordinal:function(e,n){switch(n){case"d":case"D":case"Do":case"DD":return e;default:if(0===e)return e+"'nc";var r=e%10;return e+(t[r]||t[e%100-r]||t[e>=100?100:null])}},week:{dow:1,doy:7}})})(n(0))},function(e,t,n){(function(e){"use strict";function t(e,t,n,r){var i={s:["viensas secunds","'iensas secunds"],ss:[e+" secunds",e+" secunds"],m:["'n mut","'iens mut"],mm:[e+" muts",e+" muts"],h:["'n ora","'iensa ora"],hh:[e+" oras",e+" oras"],d:["'n ziua","'iensa ziua"],dd:[e+" ziuas",e+" ziuas"],M:["'n mes","'iens mes"],MM:[e+" mesen",e+" mesen"],y:["'n ar","'iens ar"],yy:[e+" ars",e+" ars"]};return r?i[n][0]:t?i[n][0]:i[n][1]}e.defineLocale("tzl",{months:"Januar_Fevraglh_Mar_Avru_Mai_Gn_Julia_Guscht_Setemvar_Listopts_Noemvar_Zecemvar".split("_"),monthsShort:"Jan_Fev_Mar_Avr_Mai_Gn_Jul_Gus_Set_Lis_Noe_Zec".split("_"),weekdays:"Sladi_Lnei_Maitzi_Mrcuri_Xhadi_Vineri_Sturi".split("_"),weekdaysShort:"Sl_Ln_Mai_Mr_Xh_Vi_St".split("_"),weekdaysMin:"S_L_Ma_M_Xh_Vi_S".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD.MM.YYYY",LL:"D. MMMM [dallas] YYYY",LLL:"D. MMMM [dallas] YYYY HH.mm",LLLL:"dddd, [li] D. MMMM [dallas] YYYY HH.mm"},meridiemParse:/d\'o|d\'a/i,isPM:function(e){return"d'o"===e.toLowerCase()},meridiem:function(e,t,n){return e>11?n?"d'o":"D'O":n?"d'a":"D'A"},calendar:{sameDay:"[oxhi ] LT",nextDay:"[dem ] LT",nextWeek:"dddd [] LT",lastDay:"[ieiri ] LT",lastWeek:"[sr el] dddd [lasteu ] LT",sameElse:"L"},relativeTime:{future:"osprei %s",past:"ja%s",s:t,ss:t,m:t,mm:t,h:t,hh:t,d:t,dd:t,M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})})(n(0))},function(e,t,n){(function(e){"use strict";e.defineLocale("tzm",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"dddd [] LT",sameElse:"L"},relativeTime:{future:"   %s",past:" %s",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d o",M:"o",MM:"%d ",y:"",yy:"%d "},week:{dow:6,doy:12}})})(n(0))},function(e,t,n){(function(e){"use strict";e.defineLocale("tzm-latn",{months:"innayr_brayr_mars_ibrir_mayyw_ywnyw_ywlywz_wt_wtanbir_ktwbr_nwwanbir_dwjnbir".split("_"),monthsShort:"innayr_brayr_mars_ibrir_mayyw_ywnyw_ywlywz_wt_wtanbir_ktwbr_nwwanbir_dwjnbir".split("_"),weekdays:"asamas_aynas_asinas_akras_akwas_asimwas_asiyas".split("_"),weekdaysShort:"asamas_aynas_asinas_akras_akwas_asimwas_asiyas".split("_"),weekdaysMin:"asamas_aynas_asinas_akras_akwas_asimwas_asiyas".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[asdkh g] LT",nextDay:"[aska g] LT",nextWeek:"dddd [g] LT",lastDay:"[assant g] LT",lastWeek:"dddd [g] LT",sameElse:"L"},relativeTime:{future:"dadkh s yan %s",past:"yan %s",s:"imik",ss:"%d imik",m:"minu",mm:"%d minu",h:"saa",hh:"%d tassain",d:"ass",dd:"%d ossan",M:"ayowr",MM:"%d iyyirn",y:"asgas",yy:"%d isgasn"},week:{dow:6,doy:12}})})(n(0))},function(e,t,n){(function(e){"use strict";e.defineLocale("ug-cn",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY-M-D-",LLL:"YYYY-M-D- HH:mm",LLLL:"dddd YYYY-M-D- HH:mm"},meridiemParse:/ || || |/,meridiemHour:function(e,t){return 12===e&&(e=0)," "===t||""===t||" "===t?e:" "===t||""===t?e+12:e>=11?e:e+12},meridiem:function(e,t,n){var r=100*e+t;return r<600?" ":r<900?"":r<1130?" ":r<1230?"":r<1800?" ":""},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"[] dddd [] LT",lastDay:"[] LT",lastWeek:"[] dddd [] LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}(-|-|-)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"-";case"w":case"W":return e+"-";default:return e}},preparse:function(e){return e.replace(//g,",")},postformat:function(e){return e.replace(/,/g,"")},week:{dow:1,doy:7}})})(n(0))},function(e,t,n){(function(e){"use strict";function t(e,t,n){var r,i;return"m"===n?t?"":"":"h"===n?t?"":"":e+" "+(r=+e,i={ss:t?"__":"__",mm:t?"__":"__",hh:t?"__":"__",dd:"__",MM:"__",yy:"__"}[n].split("_"),r%10==1&&r%100!=11?i[0]:r%10>=2&&r%10<=4&&(r%100<10||r%100>=20)?i[1]:i[2])}function n(e){return function(){return e+""+(11===this.hours()?"":"")+"] LT"}}e.defineLocale("uk",{months:{format:"___________".split("_"),standalone:"___________".split("_")},monthsShort:"___________".split("_"),weekdays:function(e,t){var n={nominative:"______".split("_"),accusative:"______".split("_"),genitive:"______".split("_")};return e?n[/(\[[]\]) ?dddd/.test(t)?"accusative":/\[?(?:|)? ?\] ?dddd/.test(t)?"genitive":"nominative"][e.day()]:n.nominative},weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., HH:mm",LLLL:"dddd, D MMMM YYYY ., HH:mm"},calendar:{sameDay:n("[ "),nextDay:n("[ "),lastDay:n("[ "),nextWeek:n("[] dddd ["),lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return n("[] dddd [").call(this);case 1:case 2:case 4:return n("[] dddd [").call(this)}},sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",ss:t,m:t,mm:t,h:"",hh:t,d:"",dd:t,M:"",MM:t,y:"",yy:t},meridiemParse:/|||/,isPM:function(e){return/^(|)$/.test(e)},meridiem:function(e,t,n){return e<4?"":e<12?"":e<17?"":""},dayOfMonthOrdinalParse:/\d{1,2}-(|)/,ordinal:function(e,t){switch(t){case"M":case"d":case"DDD":case"w":case"W":return e+"-";case"D":return e+"-";default:return e}},week:{dow:1,doy:7}})})(n(0))},function(e,t,n){(function(e){"use strict";var t=["","","","","","","","","","","",""],n=["","","","","","",""];e.defineLocale("ur",{months:t,monthsShort:t,weekdays:n,weekdaysShort:n,weekdaysMin:n,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(e){return""===e},meridiem:function(e,t,n){return e<12?"":""},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[  ] LT",lastWeek:"[] dddd [] LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(e){return e.replace(//g,",")},postformat:function(e){return e.replace(/,/g,"")},week:{dow:1,doy:4}})})(n(0))},function(e,t,n){(function(e){"use strict";e.defineLocale("uz",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"D MMMM YYYY, dddd HH:mm"},calendar:{sameDay:"[ ] LT []",nextDay:"[] LT []",nextWeek:"dddd [ ] LT []",lastDay:"[ ] LT []",lastWeek:"[] dddd [ ] LT []",sameElse:"L"},relativeTime:{future:" %s ",past:"  %s ",s:"",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},week:{dow:1,doy:7}})})(n(0))},function(e,t,n){(function(e){"use strict";e.defineLocale("uz-latn",{months:"Yanvar_Fevral_Mart_Aprel_May_Iyun_Iyul_Avgust_Sentabr_Oktabr_Noyabr_Dekabr".split("_"),monthsShort:"Yan_Fev_Mar_Apr_May_Iyun_Iyul_Avg_Sen_Okt_Noy_Dek".split("_"),weekdays:"Yakshanba_Dushanba_Seshanba_Chorshanba_Payshanba_Juma_Shanba".split("_"),weekdaysShort:"Yak_Dush_Sesh_Chor_Pay_Jum_Shan".split("_"),weekdaysMin:"Ya_Du_Se_Cho_Pa_Ju_Sha".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"D MMMM YYYY, dddd HH:mm"},calendar:{sameDay:"[Bugun soat] LT [da]",nextDay:"[Ertaga] LT [da]",nextWeek:"dddd [kuni soat] LT [da]",lastDay:"[Kecha soat] LT [da]",lastWeek:"[O'tgan] dddd [kuni soat] LT [da]",sameElse:"L"},relativeTime:{future:"Yaqin %s ichida",past:"Bir necha %s oldin",s:"soniya",ss:"%d soniya",m:"bir daqiqa",mm:"%d daqiqa",h:"bir soat",hh:"%d soat",d:"bir kun",dd:"%d kun",M:"bir oy",MM:"%d oy",y:"bir yil",yy:"%d yil"},week:{dow:1,doy:7}})})(n(0))},function(e,t,n){(function(e){"use strict";e.defineLocale("vi",{months:"thng 1_thng 2_thng 3_thng 4_thng 5_thng 6_thng 7_thng 8_thng 9_thng 10_thng 11_thng 12".split("_"),monthsShort:"Th01_Th02_Th03_Th04_Th05_Th06_Th07_Th08_Th09_Th10_Th11_Th12".split("_"),monthsParseExact:!0,weekdays:"ch nht_th hai_th ba_th t_th nm_th su_th by".split("_"),weekdaysShort:"CN_T2_T3_T4_T5_T6_T7".split("_"),weekdaysMin:"CN_T2_T3_T4_T5_T6_T7".split("_"),weekdaysParseExact:!0,meridiemParse:/sa|ch/i,isPM:function(e){return/^ch$/i.test(e)},meridiem:function(e,t,n){return e<12?n?"sa":"SA":n?"ch":"CH"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [nm] YYYY",LLL:"D MMMM [nm] YYYY HH:mm",LLLL:"dddd, D MMMM [nm] YYYY HH:mm",l:"DD/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY HH:mm",llll:"ddd, D MMM YYYY HH:mm"},calendar:{sameDay:"[Hm nay lc] LT",nextDay:"[Ngy mai lc] LT",nextWeek:"dddd [tun ti lc] LT",lastDay:"[Hm qua lc] LT",lastWeek:"dddd [tun ri lc] LT",sameElse:"L"},relativeTime:{future:"%s ti",past:"%s trc",s:"vi giy",ss:"%d giy",m:"mt pht",mm:"%d pht",h:"mt gi",hh:"%d gi",d:"mt ngy",dd:"%d ngy",M:"mt thng",MM:"%d thng",y:"mt nm",yy:"%d nm"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(e){return e},week:{dow:1,doy:4}})})(n(0))},function(e,t,n){(function(e){"use strict";e.defineLocale("x-pseudo",{months:"J~~r_F~br~r_~Mrc~h_p~rl_~M_~J~_Jl~_~gst~_Sp~tmb~r_~ctb~r_~vm~br_~Dc~mbr".split("_"),monthsShort:"J~_~Fb_~Mr_~pr_~M_~J_~Jl_~g_~Sp_~ct_~v_~Dc".split("_"),monthsParseExact:!0,weekdays:"S~d~_M~d~_T~sd~_Wd~sd~_T~hrs~d_~Frd~_S~tr~d".split("_"),weekdaysShort:"S~_~M_~T_~Wd_~Th_~Fr_~St".split("_"),weekdaysMin:"S~_M~_T_~W_T~h_Fr~_S".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[T~d~ t] LT",nextDay:"[T~m~rr~w t] LT",nextWeek:"dddd [t] LT",lastDay:"[~st~rd~ t] LT",lastWeek:"[L~st] dddd [t] LT",sameElse:"L"},relativeTime:{future:"~ %s",past:"%s ~g",s:" ~fw ~sc~ds",ss:"%d s~c~ds",m:" ~m~t",mm:"%d m~~ts",h:"~ h~r",hh:"%d h~rs",d:" ~d",dd:"%d d~s",M:" ~m~th",MM:"%d m~t~hs",y:" ~r",yy:"%d ~rs"},dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:1,doy:4}})})(n(0))},function(e,t,n){(function(e){"use strict";e.defineLocale("yo",{months:"Sr_Erele_rna_Igbe_Ebibi_Okudu_Agmo_Ogun_Owewe_wara_Belu_p".split("_"),monthsShort:"Sr_Erl_rn_Igb_Ebi_Oku_Ag_Ogu_Owe_wa_Bel_p".split("_"),weekdays:"Aiku_Aje_Isgun_jru_jb_ti_Abamta".split("_"),weekdaysShort:"Aik_Aje_Is_jr_jb_ti_Aba".split("_"),weekdaysMin:"Ai_Aj_Is_r_b_t_Ab".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Oni ni] LT",nextDay:"[la ni] LT",nextWeek:"dddd [s ton'b] [ni] LT",lastDay:"[Ana ni] LT",lastWeek:"dddd [s tol] [ni] LT",sameElse:"L"},relativeTime:{future:"ni %s",past:"%s kja",s:"isju aaya die",ss:"aaya %d",m:"isju kan",mm:"isju %d",h:"wakati kan",hh:"wakati %d",d:"j kan",dd:"j %d",M:"osu kan",MM:"osu %d",y:"dun kan",yy:"dun %d"},dayOfMonthOrdinalParse:/j\s\d{1,2}/,ordinal:"j %d",week:{dow:1,doy:4}})})(n(0))},function(e,t,n){(function(e){"use strict";e.defineLocale("zh-cn",{months:"___________".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYYMD",LLL:"YYYYMDAhmm",LLLL:"YYYYMDddddAhmm",l:"YYYY/M/D",ll:"YYYYMD",lll:"YYYYMD HH:mm",llll:"YYYYMDdddd HH:mm"},meridiemParse:/|||||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t||""===t||""===t?e:""===t||""===t?e+12:e>=11?e:e+12},meridiem:function(e,t,n){var r=100*e+t;return r<600?"":r<900?"":r<1130?"":r<1230?"":r<1800?"":""},calendar:{sameDay:"[]LT",nextDay:"[]LT",nextWeek:"[]ddddLT",lastDay:"[]LT",lastWeek:"[]ddddLT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(||)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"";case"M":return e+"";case"w":case"W":return e+"";default:return e}},relativeTime:{future:"%s",past:"%s",s:"",ss:"%d ",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "},week:{dow:1,doy:4}})})(n(0))},function(e,t,n){(function(e){"use strict";e.defineLocale("zh-hk",{months:"___________".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYYMD",LLL:"YYYYMD HH:mm",LLLL:"YYYYMDdddd HH:mm",l:"YYYY/M/D",ll:"YYYYMD",lll:"YYYYMD HH:mm",llll:"YYYYMDdddd HH:mm"},meridiemParse:/|||||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t||""===t||""===t?e:""===t?e>=11?e:e+12:""===t||""===t?e+12:void 0},meridiem:function(e,t,n){var r=100*e+t;return r<600?"":r<900?"":r<1130?"":r<1230?"":r<1800?"":""},calendar:{sameDay:"[]LT",nextDay:"[]LT",nextWeek:"[]ddddLT",lastDay:"[]LT",lastWeek:"[]ddddLT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(||)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"";case"M":return e+"";case"w":case"W":return e+"";default:return e}},relativeTime:{future:"%s",past:"%s",s:"",ss:"%d ",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "}})})(n(0))},function(e,t,n){(function(e){"use strict";e.defineLocale("zh-tw",{months:"___________".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYYMD",LLL:"YYYYMD HH:mm",LLLL:"YYYYMDdddd HH:mm",l:"YYYY/M/D",ll:"YYYYMD",lll:"YYYYMD HH:mm",llll:"YYYYMDdddd HH:mm"},meridiemParse:/|||||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t||""===t||""===t?e:""===t?e>=11?e:e+12:""===t||""===t?e+12:void 0},meridiem:function(e,t,n){var r=100*e+t;return r<600?"":r<900?"":r<1130?"":r<1230?"":r<1800?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[]dddd LT",lastDay:"[] LT",lastWeek:"[]dddd LT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(||)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"";case"M":return e+"";case"w":case"W":return e+"";default:return e}},relativeTime:{future:"%s",past:"%s",s:"",ss:"%d ",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "}})})(n(0))},function(e,t){e.exports=function(){var e=[];return e.toString=function(){for(var e=[],t=0;t<this.length;t++){var n=this[t];n[2]?e.push("@media "+n[2]+"{"+n[1]+"}"):e.push(n[1])}return e.join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var r={},i=0;i<this.length;i++){var o=this[i][0];"number"==typeof o&&(r[o]=!0)}for(i=0;i<t.length;i++){var a=t[i];"number"==typeof a[0]&&r[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),e.push(a))}},e}},function(e,t){var n={},r=function(e){var t;return function(){return void 0===t&&(t=e.apply(this,arguments)),t}},i=r(function(){return/msie [6-9]\b/.test(self.navigator.userAgent.toLowerCase())}),o=r(function(){return document.head||document.getElementsByTagName("head")[0]}),a=null,s=0,u=[];function l(e,t){for(var r=0;r<e.length;r++){var i=e[r],o=n[i.id];if(o){o.refs++;for(var a=0;a<o.parts.length;a++)o.parts[a](i.parts[a]);for(;a<i.parts.length;a++)o.parts.push(p(i.parts[a],t))}else{var s=[];for(a=0;a<i.parts.length;a++)s.push(p(i.parts[a],t));n[i.id]={id:i.id,refs:1,parts:s}}}}function c(e){for(var t=[],n={},r=0;r<e.length;r++){var i=e[r],o=i[0],a={css:i[1],media:i[2],sourceMap:i[3]};n[o]?n[o].parts.push(a):t.push(n[o]={id:o,parts:[a]})}return t}function d(e,t){var n=o(),r=u[u.length-1];if("top"===e.insertAt)r?r.nextSibling?n.insertBefore(t,r.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),u.push(t);else{if("bottom"!==e.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");n.appendChild(t)}}function f(e){e.parentNode.removeChild(e);var t=u.indexOf(e);t>=0&&u.splice(t,1)}function h(e){var t=document.createElement("style");return t.type="text/css",d(e,t),t}function p(e,t){var n,r,i;if(t.singleton){var o=s++;n=a||(a=h(t)),r=y.bind(null,n,o,!1),i=y.bind(null,n,o,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(e){var t=document.createElement("link");return t.rel="stylesheet",d(e,t),t}(t),r=function(e,t){var n=t.css,r=t.sourceMap;r&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var i=new Blob([n],{type:"text/css"}),o=e.href;e.href=URL.createObjectURL(i),o&&URL.revokeObjectURL(o)}.bind(null,n),i=function(){f(n),n.href&&URL.revokeObjectURL(n.href)}):(n=h(t),r=function(e,t){var n=t.css,r=t.media;r&&e.setAttribute("media",r);if(e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}.bind(null,n),i=function(){f(n)});return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else i()}}e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");void 0===(t=t||{}).singleton&&(t.singleton=i()),void 0===t.insertAt&&(t.insertAt="bottom");var r=c(e);return l(r,t),function(e){for(var i=[],o=0;o<r.length;o++){var a=r[o];(s=n[a.id]).refs--,i.push(s)}e&&l(c(e),t);for(o=0;o<i.length;o++){var s;if(0===(s=i[o]).refs){for(var u=0;u<s.parts.length;u++)s.parts[u]();delete n[s.id]}}}};var m,g=(m=[],function(e,t){return m[e]=t,m.filter(Boolean).join("\n")});function y(e,t,n,r){var i=n?"":r.css;if(e.styleSheet)e.styleSheet.cssText=g(t,i);else{var o=document.createTextNode(i),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(o,a[t]):e.appendChild(o)}}},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getConnectionInfo=function(){return s("connections")},t.cleanConnections=function(){u("connections",{})},t.cleanConnectionWithProjectId=a,t.getItem=s,t.setItem=u,t.removeItem=l,t.getProjectCache=function(e){var t={};return o.forEach(function(n){var r=s(e+"."+n);void 0!==r&&(t[n]=r)}),t},t.clearProjectCache=function(e){o.forEach(function(t){l(e+"."+t)}),a(e)},t.createReduxMiddleware=function(e){return function(t){return function(n){return function(r){var i=n(r),a=t.getState();return o.forEach(function(t){return u(e+"."+t,a[t])}),i}}}};var r=t.keyPrefix="graphxr.",i=window.localStorage,o=["layout","settings","dbInfo","schemas"];function a(e){var t=s("connections")||{};t[e]&&delete t[e],u("connections",t)}function s(e){try{var t=i.getItem(r+e);if(null===t)return;return JSON.parse(t)}catch(e){return}}function u(e,t){try{var n=JSON.stringify(t);return i.setItem(r+e,n),!0}catch(e){return!1}}function l(e){try{return i.removeItem(r+e),!0}catch(e){return!1}}},function(e,t,n){"use strict";var r=t;r.version=n(1836).version,r.utils=n(1837),r.rand=n(1133),r.curve=n(554),r.curves=n(1842),r.ec=n(1850),r.eddsa=n(1854)},function(e,t,n){(function(e){var r=void 0!==e&&e||"undefined"!=typeof self&&self||window,i=Function.prototype.apply;function o(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new o(i.call(setTimeout,r,arguments),clearTimeout)},t.setInterval=function(){return new o(i.call(setInterval,r,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(r,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},n(341),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(t,n(22))},,,function(e,t,n){"use strict";t.__esModule=!0;var r,i=n(621),o=(r=i)&&r.__esModule?r:{default:r};t.default=o.default||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}},,,,,,,,,,function(e,t){function n(e,t){if(!e)throw new Error(t||"Assertion failed")}e.exports=n,n.equal=function(e,t,n){if(e!=t)throw new Error(n||"Assertion failed: "+e+" != "+t)}},,function(e,t,n){"use strict";var r=n(252).v1,i=n(11),o=n(273),a={};function s(e,t,n){i.forEach(a,function(r,i){r.sessionCount<0&&console.error("Please check the progress logic, maybe has cluster problem"),(!r.driver||n||i===e||r.sessionCount<=0&&(new Date).getTime()-r.latestUseTime>6e4&&r.driver&&i!==t)&&(delete a[i],r.driver.close())})}function u(e,t,n,u,l){var c=(new Date).getTime(),d=function(e,t){console.log("Query use time:",((new Date).getTime()-c)/1e3,"s"),l(e,t)};if("string"!=typeof e||""==e.trim())return d(new Error("Can't support the command("+e+")"));console.info("Current Cache neo4j Clients :",i.size(a)),s(null,t);var f=a[t]||{getSession:function(){return null}},h=f.getSession();h||(f={driver:r.driver("bolt://"+t,r.auth.basic(n,u),{encrypted:!0,trust:"TRUST_ALL_CERTIFICATES",logging:{level:"error",logger:function(e,t){console.error("Neo4j driver "+e+": "+t)}}}),sessionCount:0,latestUseTime:(new Date).getTime(),getSession:function(){return this.sessionCount++,this.driver.session()},closeSession:function(e){this.sessionCount--,e&&e.close()}},h=f.getSession(),a[t]&&s(t),a[t]=f),f.latestUseTime=(new Date).getTime(),h.run(e).then(function(e){var t=o.convertData(e);t.summary={version:e.summary.server.version},d(null,t),f.closeSession(h)}).catch(function(n){console.error(e," >> ",n.message),d(n),s(t)})}e.exports={excuteCommand:function(e,t,n){var r=t.host||t.hostname+":"+t.boltPort;u(e=e.replace(new RegExp('"',"g"),"'").replace(/[\t\n]/gim," "),r,t.username,t.password,n)},checkConnect:function(e,t,n,r,i,o){var a=e+":"+t;return o||s(a),u("RETURN 'Neo4j'",a,n,r,i)},cleanCacheNeo4jDrivers:s}},,,function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var a=n(252).v1,s=n(345),u="GRAPH",l="TABLE",c=function(e){return e.includes("nodes")&&e.includes("relationships")},d=function e(t){return t.reduce(function(t,n){return Array.isArray(n)?t.concat(e(n)):t.concat(n)},[])},f=function(e,t,n){(Array.isArray(e)?e:[e]).forEach(function(e){var r=e.segments;(!Array.isArray(e.segments)||e.segments.length<1)&&(r=[i({},e,{end:null})]),r.forEach(function(e){e.start&&t.push(e.start),e.end&&t.push(e.end),e.relationship&&n.push(e.relationship)})})},h=function(e,t){return e.map(function(e){return m(e,t)})},p=function(e){return"number"==typeof e?function(e){if(Math.floor(e)===e)return e+".0"}(e):a.isInt(e)?parseInt(e.toString()):e instanceof a.types.Point?function(e){var t=e.z?", z:"+e.z:"";return"point({srid:"+e.srid+", x:"+e.x+", y:"+e.y+t+"})"}(e):function(e){return e instanceof a.types.Date||e instanceof a.types.DateTime||e instanceof a.types.Duration||e instanceof a.types.LocalDateTime||e instanceof a.types.LocalTime||e instanceof a.types.Time}(e)?""+e.toString():void 0},m=function(e){var t={intChecker:a.isInt,intConverter:function(e){return e.toNumber()},objectConverter:g},n=p(e);return n||(t.intChecker(e)?t.intConverter(e):Array.isArray(e)?h(e,t):-1!==["number","string","boolean"].indexOf(void 0===e?"undefined":r(e))?e:null===e?e:"object"===(void 0===e?"undefined":r(e))?v(e,t):void 0)},g=function(e,t){return e instanceof a.types.Node||e instanceof a.types.Relationship?e.properties:e instanceof a.types.Path?[].concat.apply([],y(e,t)):e},y=function(e,t){var n=e.segments;return(!Array.isArray(e.segments)||e.segments.length<1)&&(n=[i({},e,{end:null})]),n.map(function(e){return[v(e.start,t),v(e.relationship,t),v(e.end,t)].filter(function(e){return null!==e})})},v=function(e,t){var n=t.objectConverter(e,t),i=null;return Array.isArray(n)?i=n.map(function(e){return m(e,t)}):null!==n&&"object"===(void 0===n?"undefined":r(n))&&(i={},Object.keys(n).forEach(function(e){i[e]=m(n[e],t)})),i},b=function e(t,n){return n instanceof t.Node?n:n instanceof t.Relationship?n:n instanceof t.Path?n:Array.isArray(n)?n.map(function(n){return e(t,n)}):-1===["number","string","boolean"].indexOf(void 0===n?"undefined":r(n))&&(null!==n&&("object"===(void 0===n?"undefined":r(n))?Object.keys(n).map(function(r){return e(t,n[r])}):n))},_=function(e){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.types;if(!e)return!1;if(!e||!e.records)return!1;var n=e.records,i=void 0===n?void 0:n;if(!i||!i.length)return!1;for(var o=i[0].keys,s=function(e){var n=o.map(function(t){return i[e].get(t)}),r=b(t,n),a=d(r),s=a.filter(function(e){return e instanceof t.Node||e instanceof t.Path}),u=a.filter(function(e){return e instanceof t.Relationship});if(s.length||u.length)return{v:!0}},u=0;u<i.length;u++){var l=s(u);if("object"===(void 0===l?"undefined":r(l)))return l.v}return!1}(e)?u:"error"===e.status?"ERROR":l};function w(e,t,n){if(0===e.length)return{nodes:[],relationships:[]};var r=e[0].keys,i=[],a=[];c(r)?(i=[].concat(o(i),o(e[0].get(r[0]))),a=[].concat(o(a),o(e[0].get(r[1])))):e.forEach(function(e){var n=r.map(function(t){return e.get(t)});n=d(b(t,n)).filter(function(e){return!1!==e}),i=[].concat(o(i),o(n.filter(function(e){return e instanceof t.Node}))),a=[].concat(o(a),o(n.filter(function(e){return e instanceof t.Relationship}))),n.filter(function(e){return e instanceof t.Path}).forEach(function(e){return f(e,i,a,t)})});var s=i.map(function(e){return{id:e.identity.toString(),labels:e.labels,properties:m(e.properties)}}),l=a;return{data:{nodes:s,relationships:l=l.map(function(e){return{id:e.identity.toString(),startNodeId:e.start.toString(),endNodeId:e.end.toString(),type:e.type,properties:m(e.properties)}})},type:u}}e.exports={extractNodesAndRelationshipsFromRecords:w,convertData:function(e){var t={};switch(_(e)){case u:t=w(e.records,a.types);break;case l:t={type:l,data:s.extractRecordsToResultArray(e.records)}}return t}}},function(e,t,n){"use strict";var r=n(6),i=n(9),o=n(33),a=n(39),s=n(1),u=n.n(s),l=n(4),c=n.n(l),d=n(31),f=n.n(d),h=n(298),p=n(8),m=n.n(p),g=n(5),y={disabled:c.a.bool,dropup:Object(g.deprecated)(c.a.bool,'Please use the prop "direction" with the value "up".'),direction:c.a.oneOf(["up","down","left","right"]),group:c.a.bool,isOpen:c.a.bool,nav:c.a.bool,active:c.a.bool,addonType:c.a.oneOfType([c.a.bool,c.a.oneOf(["prepend","append"])]),size:c.a.string,tag:g.tagPropType,toggle:c.a.func,children:c.a.node,className:c.a.string,cssModule:c.a.object,inNavbar:c.a.bool,setActiveFromChild:c.a.bool},v={toggle:c.a.func.isRequired,isOpen:c.a.bool.isRequired,direction:c.a.oneOf(["up","down","left","right"]).isRequired,inNavbar:c.a.bool.isRequired},b=function(e){function t(t){var n;return(n=e.call(this,t)||this).addEvents=n.addEvents.bind(Object(a.a)(Object(a.a)(n))),n.handleDocumentClick=n.handleDocumentClick.bind(Object(a.a)(Object(a.a)(n))),n.handleKeyDown=n.handleKeyDown.bind(Object(a.a)(Object(a.a)(n))),n.removeEvents=n.removeEvents.bind(Object(a.a)(Object(a.a)(n))),n.toggle=n.toggle.bind(Object(a.a)(Object(a.a)(n))),n}Object(o.a)(t,e);var n=t.prototype;return n.getChildContext=function(){return{toggle:this.props.toggle,isOpen:this.props.isOpen,direction:"down"===this.props.direction&&this.props.dropup?"up":this.props.direction,inNavbar:this.props.inNavbar}},n.componentDidMount=function(){this.handleProps()},n.componentDidUpdate=function(e){this.props.isOpen!==e.isOpen&&this.handleProps()},n.componentWillUnmount=function(){this.removeEvents()},n.getContainer=function(){return this._$container?this._$container:(this._$container=f.a.findDOMNode(this),f.a.findDOMNode(this))},n.getMenuCtrl=function(){return this._$menuCtrl?this._$menuCtrl:(this._$menuCtrl=this.getContainer().querySelector("[aria-expanded]"),this._$menuCtrl)},n.getMenuItems=function(){return[].slice.call(this.getContainer().querySelectorAll('[role="menuitem"]'))},n.addEvents=function(){var e=this;["click","touchstart","keyup"].forEach(function(t){return document.addEventListener(t,e.handleDocumentClick,!0)})},n.removeEvents=function(){var e=this;["click","touchstart","keyup"].forEach(function(t){return document.removeEventListener(t,e.handleDocumentClick,!0)})},n.handleDocumentClick=function(e){if(!e||3!==e.which&&("keyup"!==e.type||e.which===g.keyCodes.tab)){var t=this.getContainer();(!t.contains(e.target)||t===e.target||"keyup"===e.type&&e.which!==g.keyCodes.tab)&&this.toggle(e)}},n.handleKeyDown=function(e){var t=this;if(!(/input|textarea/i.test(e.target.tagName)||g.keyCodes.tab===e.which&&"menuitem"!==e.target.getAttribute("role"))&&(e.preventDefault(),!this.props.disabled&&(this.getMenuCtrl()===e.target&&!this.props.isOpen&&[g.keyCodes.space,g.keyCodes.enter,g.keyCodes.up,g.keyCodes.down].indexOf(e.which)>-1&&(this.toggle(e),setTimeout(function(){return t.getMenuItems()[0].focus()})),this.props.isOpen&&"menuitem"===e.target.getAttribute("role"))))if([g.keyCodes.tab,g.keyCodes.esc].indexOf(e.which)>-1)this.toggle(e),this.getMenuCtrl().focus();else if([g.keyCodes.space,g.keyCodes.enter].indexOf(e.which)>-1)e.target.click(),this.getMenuCtrl().focus();else if([g.keyCodes.down,g.keyCodes.up].indexOf(e.which)>-1||[g.keyCodes.n,g.keyCodes.p].indexOf(e.which)>-1&&e.ctrlKey){var n=this.getMenuItems(),r=n.indexOf(e.target);g.keyCodes.up===e.which||g.keyCodes.p===e.which&&e.ctrlKey?r=0!==r?r-1:n.length-1:(g.keyCodes.down===e.which||g.keyCodes.n===e.which&&e.ctrlKey)&&(r=r===n.length-1?0:r+1),n[r].focus()}else if(g.keyCodes.end===e.which){var i=this.getMenuItems();i[i.length-1].focus()}else if(g.keyCodes.home===e.which){this.getMenuItems()[0].focus()}else if(e.which>=48&&e.which<=90)for(var o=this.getMenuItems(),a=String.fromCharCode(e.which).toLowerCase(),s=0;s<o.length;s+=1){if((o[s].textContent&&o[s].textContent[0].toLowerCase())===a){o[s].focus();break}}},n.handleProps=function(){this.props.isOpen?this.addEvents():this.removeEvents()},n.toggle=function(e){return this.props.disabled?e&&e.preventDefault():this.props.toggle(e)},n.render=function(){var e,t=Object(g.omit)(this.props,["toggle","disabled","inNavbar","direction"]),n=t.className,o=t.cssModule,a=t.dropup,s=t.isOpen,l=t.group,c=t.size,d=t.nav,f=t.setActiveFromChild,p=t.active,y=t.addonType,v=Object(i.a)(t,["className","cssModule","dropup","isOpen","group","size","nav","setActiveFromChild","active","addonType"]),b="down"===this.props.direction&&a?"up":this.props.direction;v.tag=v.tag||(d?"li":"div");var _=!1;f&&u.a.Children.map(this.props.children[1].props.children,function(e){e&&e.props.active&&(_=!0)});var w=Object(g.mapToCssModules)(m()(n,"down"!==b&&"drop"+b,!(!d||!p)&&"active",!(!f||!_)&&"active",((e={})["input-group-"+y]=y,e["btn-group"]=l,e["btn-group-"+c]=!!c,e.dropdown=!l&&!y,e.show=s,e["nav-item"]=d,e)),o);return u.a.createElement(h.b,Object(r.a)({},v,{className:w,onKeyDown:this.handleKeyDown}))},t}(u.a.Component);b.propTypes=y,b.defaultProps={isOpen:!1,direction:"down",nav:!1,active:!1,addonType:!1,inNavbar:!1,setActiveFromChild:!1},b.childContextTypes=v,t.a=b},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(1),o=(a(i),a(n(51)));function a(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),r(t,[{key:"componentDidMount",value:function(){this.updateData()}},{key:"updateColorSchema",value:function(e){var t=o.default.instance().graph;t&&(t.colorSchema=e||0)}},{key:"componentWillReceiveProps",value:function(e){e.reduxState.node.dataChanging!=this.props.reduxState.node.dataChanging&&this.updateData()}},{key:"updateData",value:function(){this.GraphSDK=o.default.instance(),this.GraphSDK&&this.GraphSDK.graph&&this.graphDataUpdate(this.GraphSDK.graph)}},{key:"graphDataUpdate",value:function(e){console.warn("Please overrite the function")}}]),t}();t.default=s},function(e,t,n){"use strict";t.isScheduler=function(e){return e&&"function"==typeof e.schedule}},,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,r){n.d(t,"css",function(){return _e}),n.d(t,"keyframes",function(){return st}),n.d(t,"createGlobalStyle",function(){return ot}),n.d(t,"isStyledComponent",function(){return A}),n.d(t,"ThemeConsumer",function(){return Ke}),n.d(t,"ThemeContext",function(){return qe}),n.d(t,"ThemeProvider",function(){return $e}),n.d(t,"withTheme",function(){return ut}),n.d(t,"ServerStyleSheet",function(){return Xe}),n.d(t,"StyleSheetManager",function(){return Ze}),n.d(t,"__DO_NOT_USE_OR_YOU_WILL_BE_HAUNTED_BY_SPOOKY_GHOSTS",function(){return lt});var i=n(1749),o=n.n(i),a=n(633),s=n.n(a),u=n(1),l=n.n(u),c=n(1750),d=n(631),f=(n.n(d),n(1751)),h=n(4),p=(n.n(h),n(31)),m=(n.n(p),n(1752)),g=function(e,t){for(var n=[e[0]],r=0,i=t.length;r<i;r+=1)n.push(t[r],e[r+1]);return n},y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},b=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},w=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},k=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n},E=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},x=function(e){return"object"===(void 0===e?"undefined":y(e))&&e.constructor===Object},S=Object.freeze([]),M=Object.freeze({});function T(e){return"function"==typeof e}function C(e){return e.displayName||e.name||"Component"}function A(e){return e&&"string"==typeof e.styledComponentId}var O=void 0!==e&&Object({NODE_ENV:"production"}).SC_ATTR||"data-styled",N="undefined"!=typeof window&&"HTMLElement"in window,L="boolean"==typeof SC_DISABLE_SPEEDY&&SC_DISABLE_SPEEDY||!1,j={};var P=function(e){function t(n){v(this,t);for(var r=arguments.length,i=Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];var a=E(this,e.call(this,"An error occurred. See https://github.com/styled-components/styled-components/blob/master/src/utils/errors.md#"+n+" for more information. "+(i?"Additional arguments: "+i.join(", "):"")));return E(a)}return w(t,e),t}(Error),D=/^[^\S\n]*?\/\* sc-component-id:\s*(\S+)\s+\*\//gm,I=function(e){var t=""+(e||""),n=[];return t.replace(D,function(e,t,r){return n.push({componentId:t,matchIndex:r}),e}),n.map(function(e,r){var i=e.componentId,o=e.matchIndex,a=n[r+1];return{componentId:i,cssFromDOM:a?t.slice(o,a.matchIndex):t.slice(o)}})},R=/^\s*\/\/.*$/gm,F=new o.a({global:!1,cascade:!0,keyframe:!1,prefix:!1,compress:!1,semicolon:!0}),Y=new o.a({global:!1,cascade:!0,keyframe:!1,prefix:!0,compress:!1,semicolon:!1}),B=[],H=function(e){if(-2===e){var t=B;return B=[],t}},z=s()(function(e){B.push(e)}),W=void 0,U=void 0,V=void 0,G=function(e,t,n){return t>0&&-1!==n.slice(0,t).indexOf(U)&&n.slice(t-U.length,t)!==U?"."+W:e};Y.use([function(e,t,n){2===e&&n.length&&n[0].lastIndexOf(U)>0&&(n[0]=n[0].replace(V,G))},z,H]),F.use([z,H]);function q(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"&",i=e.join("").replace(R,""),o=t&&n?n+" "+t+" { "+i+" }":i;return W=r,U=t,V=new RegExp("\\"+U+"\\b","g"),Y(n||!t?"":t,o)}var K=function(){return n.nc},$=function(e,t,n){n&&((e[t]||(e[t]=Object.create(null)))[n]=!0)},X=function(e,t){e[t]=Object.create(null)},J=function(e){return function(t,n){return void 0!==e[t]&&e[t][n]}},Q=function(e){var t="";for(var n in e)t+=Object.keys(e[n]).join(" ")+" ";return t.trim()},Z=function(e){if(e.sheet)return e.sheet;for(var t=document.styleSheets.length,n=0;n<t;n+=1){var r=document.styleSheets[n];if(r.ownerNode===e)return r}throw new P(10)},ee=function(e,t,n){if(!t)return!1;var r=e.cssRules.length;try{e.insertRule(t,n<=r?n:r)}catch(e){return!1}return!0},te=function(e){return"\n/* sc-component-id: "+e+" */\n"},ne=function(e,t){for(var n=0,r=0;r<=t;r+=1)n+=e[r];return n},re=function(e,t){return function(n){var r=K();return"<style "+[r&&'nonce="'+r+'"',O+'="'+Q(t)+'"','data-styled-version="4.1.3"',n].filter(Boolean).join(" ")+">"+e()+"</style>"}},ie=function(e,t){return function(){var n,r=((n={})[O]=Q(t),n["data-styled-version"]="4.1.3",n),i=K();return i&&(r.nonce=i),l.a.createElement("style",_({},r,{dangerouslySetInnerHTML:{__html:e()}}))}},oe=function(e){return function(){return Object.keys(e)}},ae=function(e){return document.createTextNode(te(e))},se=function e(t,n){var r=void 0===t?Object.create(null):t,i=void 0===n?Object.create(null):n,o=function(e){var t=i[e];return void 0!==t?t:i[e]=[""]},a=function(){var e="";for(var t in i){var n=i[t][0];n&&(e+=te(t)+n)}return e};return{clone:function(){var t=function(e){var t=Object.create(null);for(var n in e)t[n]=_({},e[n]);return t}(r),n=Object.create(null);for(var o in i)n[o]=[i[o][0]];return e(t,n)},css:a,getIds:oe(i),hasNameForId:J(r),insertMarker:o,insertRules:function(e,t,n){o(e)[0]+=t.join(" "),$(r,e,n)},removeRules:function(e){var t=i[e];void 0!==t&&(t[0]="",X(r,e))},sealed:!1,styleTag:null,toElement:ie(a,r),toHTML:re(a,r)}},ue=function(e,t,n,r,i){if(N&&!n){var o=function(e,t,n){var r=document.createElement("style");r.setAttribute(O,""),r.setAttribute("data-styled-version","4.1.3");var i=K();if(i&&r.setAttribute("nonce",i),r.appendChild(document.createTextNode("")),e&&!t)e.appendChild(r);else{if(!t||!e||!t.parentNode)throw new P(6);t.parentNode.insertBefore(r,n?t:t.nextSibling)}return r}(e,t,r);return L?function(e,t){var n=Object.create(null),r=Object.create(null),i=void 0!==t,o=!1,a=function(t){var i=r[t];return void 0!==i?i:(r[t]=ae(t),e.appendChild(r[t]),n[t]=Object.create(null),r[t])},s=function(){var e="";for(var t in r)e+=r[t].data;return e};return{clone:function(){throw new P(5)},css:s,getIds:oe(r),hasNameForId:J(n),insertMarker:a,insertRules:function(e,r,s){for(var u=a(e),l=[],c=r.length,d=0;d<c;d+=1){var f=r[d],h=i;if(h&&-1!==f.indexOf("@import"))l.push(f);else{h=!1;var p=d===c-1?"":" ";u.appendData(""+f+p)}}$(n,e,s),i&&l.length>0&&(o=!0,t().insertRules(e+"-import",l))},removeRules:function(a){var s=r[a];if(void 0!==s){var u=ae(a);e.replaceChild(u,s),r[a]=u,X(n,a),i&&o&&t().removeRules(a+"-import")}},sealed:!1,styleTag:e,toElement:ie(s,n),toHTML:re(s,n)}}(o,i):function(e,t){var n=Object.create(null),r=Object.create(null),i=[],o=void 0!==t,a=!1,s=function(e){var t=r[e];return void 0!==t?t:(r[e]=i.length,i.push(0),X(n,e),r[e])},u=function(){var t=Z(e).cssRules,n="";for(var o in r){n+=te(o);for(var a=r[o],s=ne(i,a),u=s-i[a];u<s;u+=1){var l=t[u];void 0!==l&&(n+=l.cssText)}}return n};return{clone:function(){throw new P(5)},css:u,getIds:oe(r),hasNameForId:J(n),insertMarker:s,insertRules:function(r,u,l){for(var c=s(r),d=Z(e),f=ne(i,c),h=0,p=[],m=u.length,g=0;g<m;g+=1){var y=u[g],v=o;v&&-1!==y.indexOf("@import")?p.push(y):ee(d,y,f+h)&&(v=!1,h+=1)}o&&p.length>0&&(a=!0,t().insertRules(r+"-import",p)),i[c]+=h,$(n,r,l)},removeRules:function(s){var u=r[s];if(void 0!==u){var l=i[u];!function(e,t,n){for(var r=t-n,i=t;i>r;i-=1)e.deleteRule(i)}(Z(e),ne(i,u)-1,l),i[u]=0,X(n,s),o&&a&&t().removeRules(s+"-import")}},sealed:!1,styleTag:e,toElement:ie(u,n),toHTML:re(u,n)}}(o,i)}return se()},le=/\s+/,ce=void 0;ce=N?L?40:1e3:-1;var de=0,fe=void 0,he=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N?document.head:null,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];v(this,e),this.getImportRuleTag=function(){var e=t.importRuleTag;if(void 0!==e)return e;var n=t.tags[0];return t.importRuleTag=ue(t.target,n?n.styleTag:null,t.forceServer,!0)},de+=1,this.id=de,this.forceServer=r,this.target=r?null:n,this.tagMap={},this.deferred={},this.rehydratedNames={},this.ignoreRehydratedNames={},this.tags=[],this.capacity=1,this.clones=[]}return e.prototype.rehydrate=function(){if(!N||this.forceServer)return this;var e=[],t=[],n=!1,r=document.querySelectorAll("style["+O+'][data-styled-version="4.1.3"]'),i=r.length;if(!i)return this;for(var o=0;o<i;o+=1){var a=r[o];n||(n=!!a.getAttribute("data-styled-streamed"));for(var s,u=(a.getAttribute(O)||"").trim().split(le),l=u.length,c=0;c<l;c+=1)s=u[c],this.rehydratedNames[s]=!0;t.push.apply(t,I(a.textContent)),e.push(a)}var d=t.length;if(!d)return this;var f=this.makeTag(null);!function(e,t,n){for(var r=0,i=n.length;r<i;r+=1){var o=n[r],a=o.componentId,s=o.cssFromDOM,u=F("",s);e.insertRules(a,u)}for(var l=0,c=t.length;l<c;l+=1){var d=t[l];d.parentNode&&d.parentNode.removeChild(d)}}(f,e,t),this.capacity=Math.max(1,ce-d),this.tags.push(f);for(var h=0;h<d;h+=1)this.tagMap[t[h].componentId]=f;return this},e.reset=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];fe=new e(void 0,t).rehydrate()},e.prototype.clone=function(){var t=new e(this.target,this.forceServer);return this.clones.push(t),t.tags=this.tags.map(function(e){for(var n=e.getIds(),r=e.clone(),i=0;i<n.length;i+=1)t.tagMap[n[i]]=r;return r}),t.rehydratedNames=_({},this.rehydratedNames),t.deferred=_({},this.deferred),t},e.prototype.sealAllTags=function(){this.capacity=1,this.tags.forEach(function(e){e.sealed=!0})},e.prototype.makeTag=function(e){var t=e?e.styleTag:null;return ue(this.target,t,this.forceServer,!1,this.getImportRuleTag)},e.prototype.getTagForId=function(e){var t=this.tagMap[e];if(void 0!==t&&!t.sealed)return t;var n=this.tags[this.tags.length-1];return this.capacity-=1,0===this.capacity&&(this.capacity=ce,n=this.makeTag(n),this.tags.push(n)),this.tagMap[e]=n},e.prototype.hasId=function(e){return void 0!==this.tagMap[e]},e.prototype.hasNameForId=function(e,t){if(void 0===this.ignoreRehydratedNames[e]&&this.rehydratedNames[t])return!0;var n=this.tagMap[e];return void 0!==n&&n.hasNameForId(e,t)},e.prototype.deferredInject=function(e,t){if(void 0===this.tagMap[e]){for(var n=this.clones,r=0;r<n.length;r+=1)n[r].deferredInject(e,t);this.getTagForId(e).insertMarker(e),this.deferred[e]=t}},e.prototype.inject=function(e,t,n){for(var r=this.clones,i=0;i<r.length;i+=1)r[i].inject(e,t,n);var o=this.getTagForId(e);if(void 0!==this.deferred[e]){var a=this.deferred[e].concat(t);o.insertRules(e,a,n),this.deferred[e]=void 0}else o.insertRules(e,t,n)},e.prototype.remove=function(e){var t=this.tagMap[e];if(void 0!==t){for(var n=this.clones,r=0;r<n.length;r+=1)n[r].remove(e);t.removeRules(e),this.ignoreRehydratedNames[e]=!0,this.deferred[e]=void 0}},e.prototype.toHTML=function(){return this.tags.map(function(e){return e.toHTML()}).join("")},e.prototype.toReactElements=function(){var e=this.id;return this.tags.map(function(t,n){var r="sc-"+e+"-"+n;return Object(u.cloneElement)(t.toElement(),{key:r})})},b(e,null,[{key:"master",get:function(){return fe||(fe=(new e).rehydrate())}},{key:"instance",get:function(){return e.master}}]),e}(),pe=function(){function e(t,n){var r=this;v(this,e),this.inject=function(e){e.hasNameForId(r.id,r.name)||e.inject(r.id,r.rules,r.name)},this.toString=function(){throw new P(12,String(r.name))},this.name=t,this.rules=n,this.id="sc-keyframes-"+t}return e.prototype.getName=function(){return this.name},e}(),me=/([A-Z])/g,ge=/^ms-/;var ye=function(e){return void 0===e||null===e||!1===e||""===e},ve=function e(t,n){var r=Object.keys(t).filter(function(e){return!ye(t[e])}).map(function(n){return x(t[n])?e(t[n],n):n.replace(me,"-$1").toLowerCase().replace(ge,"-ms-")+": "+(r=n,null==(i=t[n])||"boolean"==typeof i||""===i?"":"number"!=typeof i||0===i||r in c.a?String(i).trim():i+"px")+";";var r,i}).join(" ");return n?n+" {\n  "+r+"\n}":r};function be(e,t,n){if(Array.isArray(e)){for(var r,i=[],o=0,a=e.length;o<a;o+=1)null!==(r=be(e[o],t,n))&&(Array.isArray(r)?i.push.apply(i,r):i.push(r));return i}if(ye(e))return null;if(A(e))return"."+e.styledComponentId;if(T(e)){if(t){var s=!1;try{Object(d.isElement)(new e(t))&&(s=!0)}catch(e){}if(s)throw new P(13,C(e));return be(e(t),t,n)}return e}return e instanceof pe?n?(e.inject(n),e.getName()):e:x(e)?ve(e):e.toString()}function _e(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return T(e)||x(e)?be(g(S,[e].concat(n))):be(g(e,n))}function we(e){for(var t,n=0|e.length,r=0|n,i=0;n>=4;)t=1540483477*(65535&(t=255&e.charCodeAt(i)|(255&e.charCodeAt(++i))<<8|(255&e.charCodeAt(++i))<<16|(255&e.charCodeAt(++i))<<24))+((1540483477*(t>>>16)&65535)<<16),r=1540483477*(65535&r)+((1540483477*(r>>>16)&65535)<<16)^(t=1540483477*(65535&(t^=t>>>24))+((1540483477*(t>>>16)&65535)<<16)),n-=4,++i;switch(n){case 3:r^=(255&e.charCodeAt(i+2))<<16;case 2:r^=(255&e.charCodeAt(i+1))<<8;case 1:r=1540483477*(65535&(r^=255&e.charCodeAt(i)))+((1540483477*(r>>>16)&65535)<<16)}return((r=1540483477*(65535&(r^=r>>>13))+((1540483477*(r>>>16)&65535)<<16))^r>>>15)>>>0}var ke=52,Ee=function(e){return String.fromCharCode(e+(e>25?39:97))};function xe(e){var t="",n=void 0;for(n=e;n>ke;n=Math.floor(n/ke))t=Ee(n%ke)+t;return Ee(n%ke)+t}function Se(e,t){for(var n=0;n<e.length;n+=1){var r=e[n];if(Array.isArray(r)&&!Se(r,t))return!1;if(T(r)&&!A(r))return!1}return!t.some(function(e){return T(e)||function(e){for(var t in e)if(T(e[t]))return!0;return!1}(e)})}var Me,Te=!1,Ce=function(e){return xe(we(e))},Ae=function(){function e(t,n,r){v(this,e),this.rules=t,this.isStatic=!Te&&Se(t,n),this.componentId=r,he.master.hasId(r)||he.master.deferredInject(r,[])}return e.prototype.generateAndInjectStyles=function(e,t){var n=this.isStatic,r=this.componentId,i=this.lastClassName;if(N&&n&&"string"==typeof i&&t.hasNameForId(r,i))return i;var o=be(this.rules,e,t),a=Ce(this.componentId+o.join(""));return t.hasNameForId(r,a)||t.inject(this.componentId,q(o,"."+a,void 0,r),a),this.lastClassName=a,a},e.generateName=function(e){return Ce(e)},e}(),Oe=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:M,r=!!n&&e.theme===n.theme;return e.theme&&!r?e.theme:t||n.theme},Ne=/[[\].#*$><+~=|^:(),"'`-]+/g,Le=/(^-|-$)/g;function je(e){return e.replace(Ne,"-").replace(Le,"")}function Pe(e){return"string"==typeof e&&!0}var De={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDerivedStateFromProps:!0,propTypes:!0,type:!0},Ie={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},Re=((Me={})[d.ForwardRef]={$$typeof:!0,render:!0},Me),Fe=Object.defineProperty,Ye=Object.getOwnPropertyNames,Be=Object.getOwnPropertySymbols,He=void 0===Be?function(){return[]}:Be,ze=Object.getOwnPropertyDescriptor,We=Object.getPrototypeOf,Ue=Object.prototype,Ve=Array.prototype;function Ge(e,t,n){if("string"!=typeof t){var r=We(t);r&&r!==Ue&&Ge(e,r,n);for(var i=Ve.concat(Ye(t),He(t)),o=Re[e.$$typeof]||De,a=Re[t.$$typeof]||De,s=i.length,u=void 0,l=void 0;s--;)if(l=i[s],!(Ie[l]||n&&n[l]||a&&a[l]||o&&o[l])&&(u=ze(t,l)))try{Fe(e,l,u)}catch(e){}return e}return e}var qe=Object(u.createContext)(),Ke=qe.Consumer,$e=function(e){function t(n){v(this,t);var r=E(this,e.call(this,n));return r.getContext=Object(f.a)(r.getContext.bind(r)),r.renderInner=r.renderInner.bind(r),r}return w(t,e),t.prototype.render=function(){return this.props.children?l.a.createElement(qe.Consumer,null,this.renderInner):null},t.prototype.renderInner=function(e){var t=this.getContext(this.props.theme,e);return l.a.createElement(qe.Provider,{value:t},l.a.Children.only(this.props.children))},t.prototype.getTheme=function(e,t){if(T(e))return e(t);if(null===e||Array.isArray(e)||"object"!==(void 0===e?"undefined":y(e)))throw new P(8);return _({},t,e)},t.prototype.getContext=function(e,t){return this.getTheme(e,t)},t}(u.Component),Xe=function(){function e(){v(this,e),this.masterSheet=he.master,this.instance=this.masterSheet.clone(),this.sealed=!1}return e.prototype.seal=function(){if(!this.sealed){var e=this.masterSheet.clones.indexOf(this.instance);this.masterSheet.clones.splice(e,1),this.sealed=!0}},e.prototype.collectStyles=function(e){if(this.sealed)throw new P(2);return l.a.createElement(Ze,{sheet:this.instance},e)},e.prototype.getStyleTags=function(){return this.seal(),this.instance.toHTML()},e.prototype.getStyleElement=function(){return this.seal(),this.instance.toReactElements()},e.prototype.interleaveWithNodeStream=function(e){throw new P(3)},e}(),Je=Object(u.createContext)(),Qe=Je.Consumer,Ze=function(e){function t(n){v(this,t);var r=E(this,e.call(this,n));return r.getContext=Object(f.a)(r.getContext),r}return w(t,e),t.prototype.getContext=function(e,t){if(e)return e;if(t)return new he(t);throw new P(4)},t.prototype.render=function(){var e=this.props,t=e.children,n=e.sheet,r=e.target;return l.a.createElement(Je.Provider,{value:this.getContext(n,r)},t)},t}(u.Component),et=(new Set,{});var tt=function(e){function t(){v(this,t);var n=E(this,e.call(this));return n.attrs={},n.renderOuter=n.renderOuter.bind(n),n.renderInner=n.renderInner.bind(n),n}return w(t,e),t.prototype.render=function(){return l.a.createElement(Qe,null,this.renderOuter)},t.prototype.renderOuter=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:he.master;return this.styleSheet=e,this.props.forwardedComponent.componentStyle.isStatic?this.renderInner():l.a.createElement(Ke,null,this.renderInner)},t.prototype.renderInner=function(e){var t=this.props.forwardedComponent,n=t.componentStyle,r=t.defaultProps,i=(t.displayName,t.foldedComponentIds),o=t.styledComponentId,a=t.target,s=void 0;s=n.isStatic?this.generateAndInjectStyles(M,this.props):void 0!==e?this.generateAndInjectStyles(Oe(this.props,e,r),this.props):this.generateAndInjectStyles(this.props.theme||M,this.props);var l=this.props.as||this.attrs.as||a,c=Pe(l),d={},f=_({},this.attrs,this.props),h=void 0;for(h in f)"forwardedComponent"!==h&&"as"!==h&&("forwardedRef"===h?d.ref=f[h]:c&&!Object(m.a)(h)||(d[h]=f[h]));return this.props.style&&this.attrs.style&&(d.style=_({},this.attrs.style,this.props.style)),d.className=Array.prototype.concat(i,this.props.className,o,this.attrs.className,s).filter(Boolean).join(" "),Object(u.createElement)(l,d)},t.prototype.buildExecutionContext=function(e,t,n){var r=this,i=_({},t,{theme:e});return n.length?(this.attrs={},n.forEach(function(e){var t,n=e,o=!1,a=void 0,s=void 0;for(s in T(n)&&(n=n(i),o=!0),n)a=n[s],o||!T(a)||(t=a)&&t.prototype&&t.prototype.isReactComponent||A(a)||(a=a(i)),r.attrs[s]=a,i[s]=a}),i):i},t.prototype.generateAndInjectStyles=function(e,t){var n=t.forwardedComponent,r=n.attrs,i=n.componentStyle;n.warnTooManyClasses;if(i.isStatic&&!r.length)return i.generateAndInjectStyles(M,this.styleSheet);var o=i.generateAndInjectStyles(this.buildExecutionContext(e,t,r),this.styleSheet);return o},t}(u.Component);function nt(e,t,n){var r=A(e),i=!Pe(e),o=t.displayName,a=void 0===o?function(e){return Pe(e)?"styled."+e:"Styled("+C(e)+")"}(e):o,s=t.componentId,u=void 0===s?function(e,t,n){var r="string"!=typeof t?"sc":je(t),i=(et[r]||0)+1;et[r]=i;var o=r+"-"+e.generateName(r+i);return n?n+"-"+o:o}(Ae,t.displayName,t.parentComponentId):s,c=t.ParentComponent,d=void 0===c?tt:c,f=t.attrs,h=void 0===f?S:f,p=t.displayName&&t.componentId?je(t.displayName)+"-"+t.componentId:t.componentId||u,m=r&&e.attrs?Array.prototype.concat(e.attrs,h).filter(Boolean):h,g=new Ae(r?e.componentStyle.rules.concat(n):n,m,p),y=l.a.forwardRef(function(e,t){return l.a.createElement(d,_({},e,{forwardedComponent:y,forwardedRef:t}))});return y.attrs=m,y.componentStyle=g,y.displayName=a,y.foldedComponentIds=r?Array.prototype.concat(e.foldedComponentIds,e.styledComponentId):S,y.styledComponentId=p,y.target=r?e.target:e,y.withComponent=function(e){var r=t.componentId,i=k(t,["componentId"]),o=r&&r+"-"+(Pe(e)?e:je(C(e)));return nt(e,_({},i,{attrs:m,componentId:o,ParentComponent:d}),n)},y.toString=function(){return"."+y.styledComponentId},i&&Ge(y,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,styledComponentId:!0,target:!0,withComponent:!0}),y}var rt=function(e){return function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:M;if(!Object(d.isValidElementType)(n))throw new P(1,String(n));var i=function(){return t(n,r,_e.apply(void 0,arguments))};return i.withConfig=function(i){return e(t,n,_({},r,i))},i.attrs=function(i){return e(t,n,_({},r,{attrs:Array.prototype.concat(r.attrs,i).filter(Boolean)}))},i}(nt,e)};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach(function(e){rt[e]=rt(e)});var it=function(){function e(t,n){v(this,e),this.rules=t,this.componentId=n,this.isStatic=Se(t,S),he.master.hasId(n)||he.master.deferredInject(n,[])}return e.prototype.createStyles=function(e,t){var n=q(be(this.rules,e,t),"");t.inject(this.componentId,n)},e.prototype.removeStyles=function(e){var t=this.componentId;e.hasId(t)&&e.remove(t)},e.prototype.renderStyles=function(e,t){this.removeStyles(t),this.createStyles(e,t)},e}();function ot(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=_e.apply(void 0,[e].concat(n)),o="sc-global-"+we(JSON.stringify(i)),a=new it(i,o),s=function(e){function t(){v(this,t);var n=E(this,e.call(this)),r=n.constructor,i=r.globalStyle,o=r.styledComponentId;return N&&(window.scCGSHMRCache[o]=(window.scCGSHMRCache[o]||0)+1),n.state={globalStyle:i,styledComponentId:o},n}return w(t,e),t.prototype.componentWillUnmount=function(){window.scCGSHMRCache[this.state.styledComponentId]&&(window.scCGSHMRCache[this.state.styledComponentId]-=1),0===window.scCGSHMRCache[this.state.styledComponentId]&&this.state.globalStyle.removeStyles(this.styleSheet)},t.prototype.render=function(){var e=this;return l.a.createElement(Qe,null,function(t){e.styleSheet=t||he.master;var n=e.state.globalStyle;return n.isStatic?(n.renderStyles(j,e.styleSheet),null):l.a.createElement(Ke,null,function(t){var r=e.constructor.defaultProps,i=_({},e.props);return void 0!==t&&(i.theme=Oe(e.props,t,r)),n.renderStyles(i,e.styleSheet),null})})},t}(l.a.Component);return s.globalStyle=a,s.styledComponentId=o,s}N&&(window.scCGSHMRCache={});var at=function(e){return e.replace(/\s|\\n/g,"")};function st(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=_e.apply(void 0,[e].concat(n)),o=xe(we(at(JSON.stringify(i))));return new pe(o,q(i,o,"@keyframes"))}var ut=function(e){var t=l.a.forwardRef(function(t,n){return l.a.createElement(Ke,null,function(r){var i=e.defaultProps,o=Oe(t,r,i);return l.a.createElement(e,_({},t,{theme:o,ref:n}))})});return Ge(t,e),t.displayName="WithTheme("+C(e)+")",t},lt={StyleSheet:he};t.default=rt}.call(t,n(59),n(1085)(e))},function(e,t,n){"use strict";var r=n(268),i=n(38);function o(e,t){return 55296==(64512&e.charCodeAt(t))&&(!(t<0||t+1>=e.length)&&56320==(64512&e.charCodeAt(t+1)))}function a(e){return(e>>>24|e>>>8&65280|e<<8&16711680|(255&e)<<24)>>>0}function s(e){return 1===e.length?"0"+e:e}function u(e){return 7===e.length?"0"+e:6===e.length?"00"+e:5===e.length?"000"+e:4===e.length?"0000"+e:3===e.length?"00000"+e:2===e.length?"000000"+e:1===e.length?"0000000"+e:e}t.inherits=i,t.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var n=[];if("string"==typeof e)if(t){if("hex"===t)for((e=e.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(e="0"+e),i=0;i<e.length;i+=2)n.push(parseInt(e[i]+e[i+1],16))}else for(var r=0,i=0;i<e.length;i++){var a=e.charCodeAt(i);a<128?n[r++]=a:a<2048?(n[r++]=a>>6|192,n[r++]=63&a|128):o(e,i)?(a=65536+((1023&a)<<10)+(1023&e.charCodeAt(++i)),n[r++]=a>>18|240,n[r++]=a>>12&63|128,n[r++]=a>>6&63|128,n[r++]=63&a|128):(n[r++]=a>>12|224,n[r++]=a>>6&63|128,n[r++]=63&a|128)}else for(i=0;i<e.length;i++)n[i]=0|e[i];return n},t.toHex=function(e){for(var t="",n=0;n<e.length;n++)t+=s(e[n].toString(16));return t},t.htonl=a,t.toHex32=function(e,t){for(var n="",r=0;r<e.length;r++){var i=e[r];"little"===t&&(i=a(i)),n+=u(i.toString(16))}return n},t.zero2=s,t.zero8=u,t.join32=function(e,t,n,i){var o=n-t;r(o%4==0);for(var a=new Array(o/4),s=0,u=t;s<a.length;s++,u+=4){var l;l="big"===i?e[u]<<24|e[u+1]<<16|e[u+2]<<8|e[u+3]:e[u+3]<<24|e[u+2]<<16|e[u+1]<<8|e[u],a[s]=l>>>0}return a},t.split32=function(e,t){for(var n=new Array(4*e.length),r=0,i=0;r<e.length;r++,i+=4){var o=e[r];"big"===t?(n[i]=o>>>24,n[i+1]=o>>>16&255,n[i+2]=o>>>8&255,n[i+3]=255&o):(n[i+3]=o>>>24,n[i+2]=o>>>16&255,n[i+1]=o>>>8&255,n[i]=255&o)}return n},t.rotr32=function(e,t){return e>>>t|e<<32-t},t.rotl32=function(e,t){return e<<t|e>>>32-t},t.sum32=function(e,t){return e+t>>>0},t.sum32_3=function(e,t,n){return e+t+n>>>0},t.sum32_4=function(e,t,n,r){return e+t+n+r>>>0},t.sum32_5=function(e,t,n,r,i){return e+t+n+r+i>>>0},t.sum64=function(e,t,n,r){var i=e[t],o=r+e[t+1]>>>0,a=(o<r?1:0)+n+i;e[t]=a>>>0,e[t+1]=o},t.sum64_hi=function(e,t,n,r){return(t+r>>>0<t?1:0)+e+n>>>0},t.sum64_lo=function(e,t,n,r){return t+r>>>0},t.sum64_4_hi=function(e,t,n,r,i,o,a,s){var u=0,l=t;return u+=(l=l+r>>>0)<t?1:0,u+=(l=l+o>>>0)<o?1:0,e+n+i+a+(u+=(l=l+s>>>0)<s?1:0)>>>0},t.sum64_4_lo=function(e,t,n,r,i,o,a,s){return t+r+o+s>>>0},t.sum64_5_hi=function(e,t,n,r,i,o,a,s,u,l){var c=0,d=t;return c+=(d=d+r>>>0)<t?1:0,c+=(d=d+o>>>0)<o?1:0,c+=(d=d+s>>>0)<s?1:0,e+n+i+a+u+(c+=(d=d+l>>>0)<l?1:0)>>>0},t.sum64_5_lo=function(e,t,n,r,i,o,a,s,u,l){return t+r+o+s+l>>>0},t.rotr64_hi=function(e,t,n){return(t<<32-n|e>>>n)>>>0},t.rotr64_lo=function(e,t,n){return(e<<32-n|t>>>n)>>>0},t.shr64_hi=function(e,t,n){return e>>>n},t.shr64_lo=function(e,t,n){return(e<<32-n|t>>>n)>>>0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TOOL_TYPES=t.TOOL_ITEMS=t.TaskList=t.Tracking=void 0;var r=y(n(84)),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(23)),o=y(n(11)),a=(y(n(353)),n(462)),s=y(n(10)),u=y(n(47)),l=n(90),c=n(636),d=(y(n(746)),y(n(463))),f=n(90),h=y(n(464)),p=n(461),m=y(n(44)),g=y(n(300));function y(e){return e&&e.__esModule?e:{default:e}}window._AppActions=f.Actions,window.flightAnimateData=0;var v=!1,b={time:window.performance.now(),start:function(){this.time=window.performance.now()},get useTime(){return window.performance.now()-this.time}},_={isStop:!1,time:0,animation:null,timeArryTween:[]},w={Clean:{name:"Clean",icon:"clean",text:"Clear"},LeafTrimming:{name:"LeafTrimming",icon:"leaf-trimming",text:"Leaf Trimming"},Pin:{name:"Pin",icon:"pin",text:"Pin"},Unpin:{name:"Unpin",icon:"un-pin",text:"Release"},Inverse:{name:"Inverse",icon:"inverse",text:"Inverse"},Expand:{name:"Expand",icon:"expand",text:"Expand"},Delete:{name:"Delete",icon:"delete",text:"Delete"},FlyTo:{name:"FlyTo",icon:"fly-to",text:"Fly To"},Tag:{name:"Tag",icon:"tag",text:"Tag"},TraceNeighbor:{name:"TraceNeighbor",icon:"trace-neighbor",text:"Trace Neighbor"},Info:{name:"Info",icon:"info",text:"Info"},Annotate:{name:"Annotate",icon:"annotate",text:"Annotate"},WebLink:{name:"WebLink",icon:"link",text:"Link"},Video:{name:"Video",icon:"video",text:"Video"},Image:{name:"Image",icon:"image",text:"Image"}},k={None:{name:"None",type:"none",value:[]},Default:{name:"Default",type:"default",value:[w.LeafTrimming,w.FlyTo]},SelectNodes:{name:"SelectNodes",type:"selectNodes",value:[w.LeafTrimming,w.FlyTo,"split",w.Inverse,w.Expand,w.Delete,w.Tag,w.TraceNeighbor]},SingleNode:{name:"SingleNode",type:"singleNode",value:[w.LeafTrimming,w.FlyTo,"split",w.Inverse,w.Expand,w.Delete,w.Tag,w.TraceNeighbor,"split",w.Info,w.Annotate]}},E={};function x(e){return!isNaN(parseFloat(e))&&isFinite(e)}var S={startRecord:{func:function(e){c.Page360Record.startingRecord({type:e?c.RecordsTypes.TwoDVideoType:c.RecordsTypes.ThreeDVideoType})},duration:50},stopRecord:{func:function(){c.Page360Record.stopRecord()},until:function(){return _app.controller.drawing.layoutController.isFinish},duration:500},configNeo4jDB:{func:function(e){b.start(),e=e||"198.181.37.101:7475",u.default.configNeo4jDBHost(e).then(function(){u.default.initNeo4jBaseInfo(!0)})},until:function(){return _app.controller.drawing.layoutController.isFinish&&b.useTime>1e3}},wait:{func:function(){console.log("wait...")},duration:500},sendAQuery:{func:function(e){console.log("Task: sendAQuery",e),b.start(),_app.store.dispatch(f.Actions.excuteCommand(e))},duration:1e3},sendAHideQuery:{func:function(e){_app.controller.drawing.layoutController.enable=!1,console.log("Task: sendAQuery",e),b.start(),_app.store.dispatch(f.Actions.executeCommandAndHide(e))},duration:1e3},seachAndShowANode:{func:function(e){console.log("Task: seachAndShowANode",e),_app.store.dispatch(f.Actions.searchNode(e));var t=_app.store.getState().node.searchedNodes[0];void 0!==t&&(m.default.selectWithNodeIds([t.id],m.default.selectTypes.new),_app.store.dispatch(f.Actions.flyToNode(t.id)))},duration:4e3},selectANode:{func:function(e){void 0!==_app.controller.graph.nodeSet[e]&&m.default.selectWithNodeIds([e],m.default.selectTypes.new)},duration:1e3},showSelectedNodeDetail:{func:function(){var e=m.default.singleNode.node;e&&(_app.store.dispatch(f.Actions.flyToNode(e.id)),_app.store.dispatch(f.Actions.disableNodeInfo(!1)),_app.store.dispatch(f.Actions.showNodeInfo(e.id)))},duration:3e3},expandSelectedNodeNeighbor:{func:function(e){b.start(),_app.store.dispatch(f.Actions.expandNode(e,0))},duration:2e3},highlightSelectedNodeNeighbor:{func:function(e){_app.store.dispatch(f.Actions.showNeighborsSlider())},duration:1e3},timeFilter:{func:function(e){var t=e.split(","),n={labe:t[0],property:t[1],minTime:t[2],maxTime:t[3]};_app.store.dispatch(f.Actions.timeFilter(n))},duration:1e3},playSelectedNodeWebpage:{func:function(e){_app.controller.drawing.mouseGraphControl.handleMenuClick({menuName:"link",nodeId:e})},duration:5e3},playSelectedNodeImage:{func:function(e){_app.controller.drawing.mouseGraphControl.handleMenuClick({menuName:"picture",nodeId:e})},duration:5e3},playSelectedNodeVideo:{func:function(e){_app.controller.drawing.mouseGraphControl.handleMenuClick({menuName:"video",nodeId:e})},duration:5e3},leafTrimming:{func:function(){_app.store.dispatch(f.Actions.nodeOperator(l.Types.NODE_LEAF_TRIMMING))},duration:5e3},cleanGraph:{func:function(){_app.store.dispatch(f.Actions.cleanGraph())},duration:1e3},clearGraph:{func:function(){_app.store.dispatch(f.Actions.clearGraph())},until:function(){return 0==_app.controller.drawing.graph.nodes.length},duration:1e3},search:{func:function(e){_app.store.dispatch(f.Actions.searchNode(e))},duration:1e3},startRotateAroundSelectedNode:{func:function(){_drawing.graph2DControl.rotating=!0},duration:3e3},stopRotateAroundSelectedNode:{func:function(){_drawing.graph2DControl.rotating=!1},duration:2e3},selectANodeAndMove:{func:function(e){var t=_app.controller.graph.nodeSet[e];if(void 0!==t){t.position.clone();m.default.selectWithNodeIds([t.id],m.default.selectTypes.new),_app.store.dispatch(f.Actions.flyToNode(e))}},duration:4e3},deselectANode:{func:function(){m.default.selectWithNodeIds([],m.default.selectTypes.new)}},pinNode:{func:function(e){g.default.pinNodeIds(e)}},unPinAll:{func:function(){_app.controller.drawing.clearAllPin()}},freezeAll:{func:function(e){_app.store.dispatch(f.Actions.nodeOperator("FREEZ_ALL_NODE",{status:e}))}},flyToNode:{func:function(e){var t=e.split(","),n=t[0],r=t[1],i=t[2],o=parseFloat(t[3]),a=_app.controller.drawing.graph.nodes.filter(function(e){return e.data.detail.type==n&&e.data.detail.data[r]==i});a.length>0?_app.controller.drawing.vehicleControl.flyToNode(a[0],o):console.log("node:",e,"not found")},duration:3e3},flyto:{func:function(){_app.controller.drawing.graph2DControl.flyToPosition(m.default.center)},duration:3e3},flyHome:{func:function(){_app.controller.drawing.vehicleControl.home()},duration:3e3},lookAtNode:{func:function(e){var t=e.split(","),n=t[0],r=t[1],i=t[2],o=_app.controller.drawing.graph.nodes.filter(function(e){return e.data.detail.type==n&&e.data.detail.data[r]==i});o.length>0?_app.controller.drawing.vehicleControl.lookat_node(o[0]):console.log("node:",e,"not found")},duration:3e3},lookAtHome:{func:function(){_app.controller.drawing.vehicleControl.lookatHome()},duration:3e3},moveTo:{func:function(e){_app.controller.drawing.graph2DControl.moveScene(new i.Vector3(0,0,parseInt(e)))},duration:3e3},selectTopNodeAndMove:{func:function(){b.start();var e=_app.controller.graph.nodes,t=o.default.reduce(e,function(e,t){return e.length<5?(e.push({id:t.id,val:t.data.degree}),e=o.default.sortBy(e,function(e){return e.val})):t.data.degree>e[0].val&&(e.shift(),e.push({id:t.id,val:t.data.degree}),e=o.default.sortBy(e,function(e){return e.val})),e},[]);if(t&&t.length>0){var n=t.map(function(e,t){return function(n){var r=_app.controller.graph.nodeSet[e.id];r.position.clone();m.default.selectWithNodeIds([r.id],m.default.selectTypes.new),_app.store.dispatch(f.Actions.flyToNode(r.id)),t<5?s.default.untilCheck(function(){return b.useTime>4e3*(t+1)}).then(function(){return n()}):n()}});r.default.waterfall(n,function(e,t){console.log("top 5 fly tasks"),e&&console.error(e)})}},until:function(){return b.useTime>2e4},duration:1e3},moveLocationsToMap:{func:function(e){var t=0,n=[],r=function(e){return t>0&&t==e.filter(function(e){return e.isMapNode}).length?n:(e.forEach(function(e){e.defaultPosition={x:e.position.x,y:e.position.y,z:e.position.z},e.isMapNode=!0}),t=e.length,e.forEach(function(e){var t=Object.keys(e.data.detail.data),n=t.map(function(e){return e.toLowerCase()}),r=o.default.max([n.indexOf("lat"),n.indexOf("latitude")]),i=o.default.max([n.indexOf("lng"),n.indexOf("lon"),n.indexOf("longitude")]);if(r>-1&&i>-1){var a=e.data.detail.data[t[r]]=1*e.data.detail.data[t[r]],s=e.data.detail.data[t[i]]=e.data.lng=1*e.data.detail.data[t[i]];x(a)&&x(s)&&(e.data.lat=e.data.detail.data[t[r]],e.data.lng=e.data.detail.data[t[i]],e.data.hasLatLng=!0)}}),n=e.filter(function(e){return e.data.hasLatLng}))},s=r(_app.controller.drawing.graph.nodes);if(0!=s.length){var u=o.default.map(s,function(e){return e.data.lat}),l=o.default.map(s,function(e){return e.data.lng});_app.controller.drawing.worldMap.map.fitBounds([[o.default.min(l),o.default.min(u)],[o.default.max(l),o.default.max(u)]]);_app.controller.drawing.worldMap.on("render",function(){!function(){var e=r(_app.controller.drawing.graph.nodes);if(e&&0!==e.length){var t=e.map(function(e){return e.id}),n=e.map(function(e){return e.position}),o=e.map(function(e){return _app.controller.drawing.worldMap.project({lng:e.data.lng,lat:e.data.lat})});if(g.default.pinNodeIds(t),(0,a.autoPlay)(!0),window.isAnimation){var s=new a.Tween({timer:0}).to({timer:1},1e3).on("update",function(t){var r=t.timer;v=!0,e.forEach(function(e,t){e.position.x=(1-r)*n[t].x+r*o[t].x,e.position.y=(1-r)*n[t].y+r*o[t].y,e.position.z=(1-r)*n[t].z+r*o[t].z})}).on("complete",function(){_app.controller.drawing.layoutController.enable=!0,_app.controller.drawing.layoutController.setNodesPositions(t,n.map(function(e,t){return new i.Vector3(1*o[t].x,1*o[t].y,1*o[t].z)})),v=!1,window.isAnimation=!1,_drawing.startLayout()});v||(v=!0,_app.controller.drawing.layoutController.enable=!1,s.stop(),s.start())}else _app.controller.drawing.layoutController.setNodesPositions(t,e.map(function(e){return _app.controller.drawing.worldMap.project({lng:e.data.lng,lat:e.data.lat})}))}}()})}else _app.controller.drawing.worldMap.adjust({zoom:2,lng:0,lat:0})}},adjustMap:{func:function(e){var t=e.split(",");_app.controller.drawing.worldMap.adjust({lng:parseFloat(t[0]),lat:parseFloat(t[1]),zoom:parseFloat(t[2])})},until:function(){return _app.controller.drawing.worldMap.isLoaded}},showMap:{func:function(){_app.controller.drawing.layoutController.stop_layout(),_app.controller.drawing.layoutController.enable=!0,_app.controller.drawing.worldMap.show().then(function(){window.isAnimation=!0,S.moveLocationsToMap.func(null,!0)})},until:function(){return _app.controller.drawing.worldMap.isLoaded}},hideMap:{func:function(){_app.controller.drawing.worldMap.hide(),_app.controller.drawing.layoutController.enable=!1;var e=[],t=[],n=[],r=[];_app.controller.drawing.graph.nodes.forEach(function(i){i.isMapNode&&(e.push(i),t.push(i.id),n.push(i.defaultPosition),r.push({x:i.position.x,y:i.position.y,z:i.position.z}))}),(0,a.autoPlay)(!0);new a.Tween({timer:0}).to({timer:1},1e3).on("update",function(t){var i=t.timer;e.forEach(function(e,t){e.position.x=(1-i)*r[t].x+i*n[t].x,e.position.y=(1-i)*r[t].y+i*n[t].y,e.position.z=(1-i)*r[t].z+i*n[t].z})}).on("complete",function(){_app.controller.drawing.layoutController.enable=!0,_app.controller.drawing.layoutController.setNodesPositions(t,n),_app.controller.drawing.clearAllPin()}).start()},duration:100},enableMapContrl:{func:function(e){d.default.enable=!!e,_app.controller.drawing.controls.enabled=!d.default.enable,_app.controller.drawing.mouseStream.enable=!d.default.enable,_app.controller.drawing.dragSelection.enable=!d.default.enable}},enableAreaPickContrl:{func:function(e){_app.controller.drawing.dragSelection.enable=!!e,_app.controller.drawing.mouseStream.enable=_app.controller.drawing.controls.enabled,_app.controller.drawing.dragSelection.enable&&(d.default.enable=!1)}},highlightToSelection:{func:function(){_app.controller.graph.nodes.filter(function(e){return e.alpha>.5}).forEach(function(e){return e.selected=!0})}},deleteSelectedNodes:{func:function(){var e=_app.controller.graph.nodes.filter(function(e){return e.selected}).map(function(e){return e.id});m.default.selectWithNodeIds([],m.default.selectTypes.new),g.default.pinNodeIds(e,!0),_app.controller.graphController.historyLine.add(),_app.controller.graph.removeNodesByIds(e),_app.controller.graphController.historyLine.add(),_app.controller.drawing.forceStartLayout()}},keepOnlySelectedNodes:{func:function(){var e=_app.controller.graph.nodes.filter(function(e){return!e.selected}).map(function(e){return e.id});m.default.selectWithNodeIds([],m.default.selectTypes.new),g.default.pinNodeIds(e,!0),_app.controller.graph.removeNodesByIds(e)}},clearSelection:{func:function(){m.default.selectWithNodeIds([],m.default.selectTypes.new),_app.store.dispatch(f.Actions.graphDataUpdate(_app.controller.graph.visibleNodes.length))}},inverseSelection:{func:function(){var e=[],t=_app.controller.graph.visibleNodes.filter(function(e){return e.selected}),n=t&&t.length>0?o.default.uniq(t.map(function(e){return e.data.detail.type})):null;_app.controller.graph.visibleNodes.forEach(function(t){n&&!t.selected&&-1<n.indexOf(t.data.detail.type)&&e.push(t.id)}),m.default.selectWithNodeIds(e,m.default.selectTypes.new),_app.store.dispatch(f.Actions.graphDataUpdate(_app.controller.graph.visibleNodes.length))}},expandSelectedNodesAction:{func:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{relationships:[],limit:25};e.limit=parseInt(e.limit)||0,e.limit=e.limit>2e3?2e3:e.limit;var t=_app.controller.graph.nodes.filter(function(e){return e.selected}).map(function(e){return e.id});if(t&&0!=t.length){var n=_app.controller.graph.nodeSet[t[0]].position.clone();E._expand&&E._expand.selectIds&&!o.default.isEqual(E._expand.selectIds,t)&&!o.default.isEqual(E._expand.relationships,e.relationships)||(E._expand={selectIds:t,pageItems:100,count:0,isFinish:!1,relationships:e.relationships}),E._expand.pageItems=e.limit||100;var r={},i={};o.default.forEach(_app.controller.graph.edges,function(e){(t.includes(e.sourceId)||t.includes(e.targetId))&&(r[e.targetId]=e.targetId,r[e.sourceId]=e.sourceId,e.properties&&e.properties.id&&(i[e.properties.id]=e.properties.id))}),o.default.size(i)<E._expand.count&&(E._expand.count=0),s.default.showLoading("Expanding up to "+E._expand.pageItems+"  relationships"),u.default.getNodeNeighbors({uids:t,rids:Object.keys(i),relationships:e.relationships||[]},E._expand.pageItems,E._expand.count).then(function(e){var t=0;e&&e.data&&e.data.relationships&&(t=e.data.relationships.length),E._expand.count+=t;var r=h.default.format(e).filterNodes(function(e){return(0,p.filterInvisibleLabel)(e)}).filterNodes(function(e){return(0,p.filterInvisibleNodeProperty)(e)}).filterRelationships(function(e){return(0,p.filterInvisibleRelationship)(e)}).filterRelationships(function(e){return(0,p.filterInvisibleRelationshipProperty)(e)}).build();r.forEach(function(e){e.position=n.clone()}),t>=E._expand.pageItems?s.default.showHints("Expand "+E._expand.pageItems+" successful, please use <strong>Ctrl</strong> + <strong>E</strong> expand more.",s.default.showTipType.info,1800):s.default.showHints("All relationships be expanded.",s.default.showTipType.success,1800),_app.store.dispatch(f.Actions.showExpandPanel(!1)),_app.controller.handleTempGraphData(r,!0)}).catch(function(e){s.default.showHints(e.message,null,1800),console.error(e)})}}},expandSelectedNodes:{func:function(e){(e=e||_app.controller.graph.nodes.filter(function(e){return e.selected}).map(function(e){return e.id}))&&0!=e.length&&_app.store.dispatch(f.Actions.showExpandPanel(!0))}},showNodesByLabel:{func:function(e){var t=e.split(",");_app.store.dispatch(f.Actions.setNodesVisibleByLabel(t[0],parseInt(t[1])))}},showRelationshipByName:{func:function(e){var t=e.split(",");_app.store.dispatch(f.Actions.setRelationshipVisible(t[0],parseInt(t[1])))}},showAsFullScreen:{func:function(e){e=!!("true"==e||"false"!=e&&e),_app.store.dispatch(f.Actions.setFullScreen(e))}},exportGraphXR:{func:function(){_app.controller.exportGraphXR()}},clearAll:{func:function(){_app.store.dispatch(f.Actions.clearGraph()),_app.controller.drawing.layoutController.enable=!0}},flightAnimate:{func:function(e){(0,a.autoPlay)(!0),window.flightAnimateData=e,_app.store.dispatch(f.Actions.setNodePropertyByLabel("Flight","icon",9));var t=e.split(","),n=t[0]?t[0]:5e3;_app.store.dispatch(f.Actions.startFlightAnimation(n));var r=_app.controller.drawing.graph.visibleNodes.filter(function(e){if(e.data&&e.data.detail&&"Flight"==e.data.detail.type)return e}),o={};_app.controller.drawing.graph.visibleEdges.forEach(function(e){"DESTINATION"!=e.name&&"ORIGIN"!=e.name||(o[e.targetId]||(o[e.targetId]={}),"DESTINATION"==e.name&&(o[e.targetId].target=_app.controller.drawing.graph.visibleNodes.find(function(t){return t.id==e.sourceId}).position),"ORIGIN"==e.name&&(o[e.targetId].source=_app.controller.drawing.graph.visibleNodes.find(function(t){return t.id==e.sourceId}).position))});var s=[],u=0,l=0,c=[];r.forEach(function(e,t){var n=e.data&&e.data.detail&&e.data.detail.data;(0==u||u<new Date(n.arr_time).getTime())&&(u=new Date(n.arr_time).getTime()),(0==l||l>new Date(n.dep_time).getTime())&&(l=new Date(n.dep_time).getTime()),s.push({id:e.id,visible:!1,start:new Date(n.dep_time).getTime(),end:new Date(n.arr_time).getTime(),isRun:!1}),c.push(e.id)}),g.default.pinNodeIds(c,!1);var d=n/(u-l);_app.controller.drawing.layoutController.enable=!1;_.animation=new a.Tween({data:0}).to({data:1},1*n).on("update",function(e){var t=e.data;s.forEach(function(e,u){if(!e.isRun&&e.start<=t*n/d+l){e.isRun=!0,_app.controller.drawing.layoutController.set_node_position(e.id,new i.Vector3(o[e.id].source.x,o[e.id].source.y,o[e.id].source.z).clone());var c=s.find(function(t){return t.id==e.id});_.timeArryTween[u]=new a.Tween({timer:0}).to({timer:1},Math.abs(c.end-c.start)*d*1).on("update",function(t){var n=t.timer,i=r.find(function(t){return t.id==e.id});if(_.isStop)_app.controller.drawing.graph.visibleEdges.filter(function(t){return t.target.data.notes==e.id}).forEach(function(e){return e.alpha=0}),i.alpha=0;else{e.visible||(_app.controller.drawing.graph.visibleEdges.filter(function(t){return t.target.data.notes==e.id}).forEach(function(e){return e.alpha=.4}),e.visible=!0);var a=o[e.id].source.x+n*(o[e.id].target.x-o[e.id].source.x),s=o[e.id].source.y+n*(o[e.id].target.y-o[e.id].source.y),u=o[e.id].target.z-1*(n-n*n)*o[e.id].target.z;i.position.x=a,i.position.y=s,i.position.z=u,i.alpha=1,1==n&&(e.visible=!1,_app.controller.drawing.graph.visibleEdges.filter(function(t){return t.target.data.notes==e.id}).forEach(function(e){return e.alpha=0}))}}).start()}})}).start()}},setFalseRelationship:{func:function(){_app.store.dispatch(f.Actions.loadInnerRelationship(!1))}},playFlight:{func:function(){_.animation.play(),_.timeArryTween.forEach(function(e){return e.play()})}},pauseFlight:{func:function(){_.animation.pause(),_.timeArryTween.forEach(function(e){return e.pause()})}},restartFlight:{func:function(){_.isStop=!0,_.animation.stop(),_.timeArryTween.forEach(function(e){return e.stop()}),setTimeout(function(){S.flightAnimate.func(window.flightAnimateData),_.isStop=!1,_.animation.start()},1e3)}},checkImage:{func:function(e){return o.default.find(e,function(e,t){return/^(image|photo|avatar)/gi.test(t)||/^data\:image\/(jpg|jpeg|png|gif|bmp)\;base64/gi.test(e)||/^(http(s)?|ftp):\/\/.+\.(jpg|jpeg|png|gif|bmp)/i.test(e)})}},checkVideo:{func:function(e){return o.default.find(e,function(e,t){return/^(http(s)|ftp)?:\/\/.+\.mp4/i.test(e)||/^(http(s):\/\/)?(www\.)?youtu(be.com\/watch\?v\=|\.be\/).+/i.test(e)})}},checkWebLink:{func:function(e){return o.default.find(e,function(e,t){return/^(http(s)?:\/\/|www\.).+\..+/i.test(e)})}},getSelectNodeIdsForPin:{func:function(){var e=Object.keys(m.default.selectNodeIdsMap);return 0==o.default.size(e)&&(e=m.default.layoutNodeIds),e}},handleToolClick:{func:function(e,t){switch(e){case w.Clean.name:_app.store.dispatch(f.Actions.clearGraph());break;case w.LeafTrimming.name:_app.controller.drawing.toggleLeaf();break;case w.Unpin.name:var n=[];n=t&&t.nodeList&&t.nodeList.length>0?t.nodeList:S.getSelectNodeIdsForPin.func(),g.default.pinNodeIds(n,!0);break;case w.Pin.name:var r=[];r=t&&t.nodeList&&t.nodeList.length>0?t.nodeList:S.getSelectNodeIdsForPin.func(),g.default.pinNodeIds(r,!1);break;case w.Inverse.name:S.inverseSelection.func();break;case w.Expand.name:S.expandSelectedNodes.func();break;case w.Delete.name:S.deleteSelectedNodes.func();break;case w.FlyTo.name:S.flyto.func();break;case w.Tag.name:_app.store.dispatch(f.Actions.showPopWindow("createTagPanel","Create Tags",{icon:w.Tag}));break;case w.TraceNeighbor.name:S.highlightSelectedNodeNeighbor.func();break;case w.Info.name:_app.store.dispatch(f.Actions.disableNodeInfo(!1));var i=Object.keys(m.default.selectNodeIdsMap)[0];_app.store.dispatch(f.Actions.showNodeInfo(i));break;case w.Annotate.name:_app.store.dispatch(f.Actions.showPopWindow("annotation","Add Annotation",{icon:w.Annotate}));break;case w.Image.name:var o=m.default.singleNode.node,a=S.checkImage.func(o.data.detail.data);_app.controller.drawing.mediaGroup.showImageIn2D(a,{id:o.id,position:o.position});break;case w.WebLink.name:var u=m.default.singleNode.node,l=S.checkWebLink.func(u.data.detail.data),c=S.checkImage.func(u.data.detail.data),d=S.checkVideo.func(u.data.detail.data);if(/\.(pdf|txt|text)/gi.test(l)?l="/api/proxy/other?url="+l:l==c||!l&&/^data\:image/.test(c)?l=/^data\:image/.test(c)?c:"/api/proxy/image?url="+c:l&&l==d&&(l="/api/proxy/"+(/youtube\.com|youtu\.be/i.test(d)?"youtube":"mp4")+"?url="+d),/^\/api\/proxy/gi.test(l)||/^data\:image/.test(l))_app.store.dispatch(f.Actions.showPopWindow("webIframe","Web Link",{icon:w.WebLink,url:l}));else if(""!==l.trim()){var h={height:520,width:760,innerHeight:520,innerWidth:760,status:"no",toolbar:"no",menubar:"no",location:"no",resizable:"no",scrollbars:0,titlebar:"no"},p=window.screenLeft?window.screenLeft:window.screenX,y=window.screenTop?window.screenTop:window.screenY;h.top=y+window.innerHeight/2-h.height/2,h.left=p+window.innerWidth/2-h.width/2,window.webLinkWindow=window.open((/^(http|ftp)/gi.test(l)?"":"http://")+l,"Web Link",Object.keys(h).map(function(e){return e+"="+h[e]}).join(","),!0)}else s.default.showHints("Can't open the url("+l+")");break;case w.Video.name:var v=m.default.singleNode.node,b=S.checkVideo.func(v.data.detail.data);_app.controller.drawing.mediaGroup.showVideoIn2D(b,{id:v.id,position:v.position})}""!=_app.store.getState().node.rightPanelPosition&&_app.store.dispatch(f.Actions.showRightPanel(""))}}};t.Tracking=b,t.TaskList=S,t.TOOL_ITEMS=w,t.TOOL_TYPES=k,t.default=S},function(e,t,n){"use strict";t.isArray=Array.isArray||function(e){return e&&"number"==typeof e.length}},function(e,t,n){var r={"./af":127,"./af.js":127,"./ar":128,"./ar-dz":129,"./ar-dz.js":129,"./ar-kw":130,"./ar-kw.js":130,"./ar-ly":131,"./ar-ly.js":131,"./ar-ma":132,"./ar-ma.js":132,"./ar-sa":133,"./ar-sa.js":133,"./ar-tn":134,"./ar-tn.js":134,"./ar.js":128,"./az":135,"./az.js":135,"./be":136,"./be.js":136,"./bg":137,"./bg.js":137,"./bm":138,"./bm.js":138,"./bn":139,"./bn.js":139,"./bo":140,"./bo.js":140,"./br":141,"./br.js":141,"./bs":142,"./bs.js":142,"./ca":143,"./ca.js":143,"./cs":144,"./cs.js":144,"./cv":145,"./cv.js":145,"./cy":146,"./cy.js":146,"./da":147,"./da.js":147,"./de":148,"./de-at":149,"./de-at.js":149,"./de-ch":150,"./de-ch.js":150,"./de.js":148,"./dv":151,"./dv.js":151,"./el":152,"./el.js":152,"./en-au":153,"./en-au.js":153,"./en-ca":154,"./en-ca.js":154,"./en-gb":155,"./en-gb.js":155,"./en-ie":156,"./en-ie.js":156,"./en-il":157,"./en-il.js":157,"./en-nz":158,"./en-nz.js":158,"./eo":159,"./eo.js":159,"./es":160,"./es-do":161,"./es-do.js":161,"./es-us":162,"./es-us.js":162,"./es.js":160,"./et":163,"./et.js":163,"./eu":164,"./eu.js":164,"./fa":165,"./fa.js":165,"./fi":166,"./fi.js":166,"./fo":167,"./fo.js":167,"./fr":168,"./fr-ca":169,"./fr-ca.js":169,"./fr-ch":170,"./fr-ch.js":170,"./fr.js":168,"./fy":171,"./fy.js":171,"./gd":172,"./gd.js":172,"./gl":173,"./gl.js":173,"./gom-latn":174,"./gom-latn.js":174,"./gu":175,"./gu.js":175,"./he":176,"./he.js":176,"./hi":177,"./hi.js":177,"./hr":178,"./hr.js":178,"./hu":179,"./hu.js":179,"./hy-am":180,"./hy-am.js":180,"./id":181,"./id.js":181,"./is":182,"./is.js":182,"./it":183,"./it.js":183,"./ja":184,"./ja.js":184,"./jv":185,"./jv.js":185,"./ka":186,"./ka.js":186,"./kk":187,"./kk.js":187,"./km":188,"./km.js":188,"./kn":189,"./kn.js":189,"./ko":190,"./ko.js":190,"./ky":191,"./ky.js":191,"./lb":192,"./lb.js":192,"./lo":193,"./lo.js":193,"./lt":194,"./lt.js":194,"./lv":195,"./lv.js":195,"./me":196,"./me.js":196,"./mi":197,"./mi.js":197,"./mk":198,"./mk.js":198,"./ml":199,"./ml.js":199,"./mn":200,"./mn.js":200,"./mr":201,"./mr.js":201,"./ms":202,"./ms-my":203,"./ms-my.js":203,"./ms.js":202,"./mt":204,"./mt.js":204,"./my":205,"./my.js":205,"./nb":206,"./nb.js":206,"./ne":207,"./ne.js":207,"./nl":208,"./nl-be":209,"./nl-be.js":209,"./nl.js":208,"./nn":210,"./nn.js":210,"./pa-in":211,"./pa-in.js":211,"./pl":212,"./pl.js":212,"./pt":213,"./pt-br":214,"./pt-br.js":214,"./pt.js":213,"./ro":215,"./ro.js":215,"./ru":216,"./ru.js":216,"./sd":217,"./sd.js":217,"./se":218,"./se.js":218,"./si":219,"./si.js":219,"./sk":220,"./sk.js":220,"./sl":221,"./sl.js":221,"./sq":222,"./sq.js":222,"./sr":223,"./sr-cyrl":224,"./sr-cyrl.js":224,"./sr.js":223,"./ss":225,"./ss.js":225,"./sv":226,"./sv.js":226,"./sw":227,"./sw.js":227,"./ta":228,"./ta.js":228,"./te":229,"./te.js":229,"./tet":230,"./tet.js":230,"./tg":231,"./tg.js":231,"./th":232,"./th.js":232,"./tl-ph":233,"./tl-ph.js":233,"./tlh":234,"./tlh.js":234,"./tr":235,"./tr.js":235,"./tzl":236,"./tzl.js":236,"./tzm":237,"./tzm-latn":238,"./tzm-latn.js":238,"./tzm.js":237,"./ug-cn":239,"./ug-cn.js":239,"./uk":240,"./uk.js":240,"./ur":241,"./ur.js":241,"./uz":242,"./uz-latn":243,"./uz-latn.js":243,"./uz.js":242,"./vi":244,"./vi.js":244,"./x-pseudo":245,"./x-pseudo.js":245,"./yo":246,"./yo.js":246,"./zh-cn":247,"./zh-cn.js":247,"./zh-hk":248,"./zh-hk.js":248,"./zh-tw":249,"./zh-tw.js":249};function i(e){return n(o(e))}function o(e){var t=r[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}i.keys=function(){return Object.keys(r)},i.resolve=o,e.exports=i,i.id=289},,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(297);class i{static parsePixels(e){let t=0;return e&&(t=parseFloat(e.slice(0,-2))),t}static measureTextDimensions(e,t,n){t=t,n=n;r.select("#textMeasuringCanvas").data([this]).enter().append("canvas").attr("id","textMeasuringCanvas");var i=document.getElementById("textMeasuringCanvas").getContext("2d");return i.font="normal normal normal "+t+"/normal "+n,i.measureText(e).width}static hasProperties(e){return e.model.properties.list({exclude:[i.MODEL_ID_KEY]}).length>0}}i.MODEL_ID_KEY="MODEL_ID",t.default=i},function(e,t){e.exports=d3},function(e,t,n){"use strict";var r=n(671);n.d(t,"b",function(){return r.a});var i=n(672);n.d(t,"d",function(){return i.a});var o=n(673);n.d(t,"c",function(){return o.a});var a=n(675);n.d(t,"a",function(){return a.a})},function(e,t,n){"use strict";function r(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==e&&void 0!==e&&this.setState(e)}function i(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!==n&&void 0!==n?n:null}.bind(this))}function o(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}function a(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if("function"!=typeof e.getDerivedStateFromProps&&"function"!=typeof t.getSnapshotBeforeUpdate)return e;var n=null,a=null,s=null;if("function"==typeof t.componentWillMount?n="componentWillMount":"function"==typeof t.UNSAFE_componentWillMount&&(n="UNSAFE_componentWillMount"),"function"==typeof t.componentWillReceiveProps?a="componentWillReceiveProps":"function"==typeof t.UNSAFE_componentWillReceiveProps&&(a="UNSAFE_componentWillReceiveProps"),"function"==typeof t.componentWillUpdate?s="componentWillUpdate":"function"==typeof t.UNSAFE_componentWillUpdate&&(s="UNSAFE_componentWillUpdate"),null!==n||null!==a||null!==s){var u=e.displayName||e.name,l="function"==typeof e.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+u+" uses "+l+" but also contains the following legacy lifecycles:"+(null!==n?"\n  "+n:"")+(null!==a?"\n  "+a:"")+(null!==s?"\n  "+s:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"==typeof e.getDerivedStateFromProps&&(t.componentWillMount=r,t.componentWillReceiveProps=i),"function"==typeof t.getSnapshotBeforeUpdate){if("function"!=typeof t.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=o;var c=t.componentDidUpdate;t.componentDidUpdate=function(e,t,n){var r=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:n;c.call(this,e,t,r)}}return e}Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"polyfill",function(){return a}),r.__suppressDeprecationWarning=!0,i.__suppressDeprecationWarning=!0,o.__suppressDeprecationWarning=!0},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(11),a=(r=o)&&r.__esModule?r:{default:r};var s=null,u=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.layout=t,this.eventTypes={change:"change"},this.events={change:{}}}return i(e,null,[{key:"shareInstance",value:function(){return s||(s=new this),s}},{key:"bindLayout",value:function(e){return this.shareInstance().layout=e,this.shareInstance()}},{key:"pinNodeIds",value:function(e,t){return this.shareInstance().pinNodeIds(e,t),this.shareInstance()}},{key:"on",value:function(e,t,n){return this.shareInstance().on(e,t,n),this.shareInstance()}},{key:"checkPinStatus",value:function(e){return this.shareInstance().checkPinStatus(e)}}]),i(e,[{key:"on",value:function(e,t,n){this.events[e]&&t?(n=n||t.name,this.events[e][n]=t):this.events[e]&&!t&&this.events[e][n]?delete this.events[e][n]:console.warn("Only support the events :",Object.keys(this.events))}},{key:"_handleEvent",value:function(e,t){this.events[e]&&a.default.size(this.events[e])>0&&a.default.forEach(this.events[e],function(e){e(t)})}},{key:"pinNodeIds",value:function(e,t){if(!e||!Array.isArray(e)&&"string"!=typeof e)return console.warn("Miss parmater nodeIds");Array.isArray(e)||(e=[e]);var n=Object.keys(this.layout.pinNodes);this.layout.pinNodeIds(e,t),this.handlePin(e,t);var r=Object.keys(this.layout.pinNodes);a.default.isEqual(n,r)||this._handleEvent(this.eventTypes.change,{isUnPin:t,nodeIds:e})}},{key:"checkPinStatus",value:function(e){var t=this;return!(!e||!Array.isArray(e)&&"string"!=typeof e||0==a.default.size(e))&&!a.default.find(e,function(e){return t.layout.graph.nodeSet[e]&&!t.layout.pinNodes[e]})}},{key:"handlePin",value:function(e,t){var n=this;a.default.forEach(e,function(e){n.layout.graph.nodeSet[e]&&(n.layout.graph.nodeSet[e].pinned=!t)})}}]),e}();t.default=u},function(e,t,n){"use strict";var r=n(107);t.Subject=r.Subject,t.AnonymousSubject=r.AnonymousSubject;var i=n(7);t.Observable=i.Observable,n(1990),n(1993),n(1996),n(1999),n(2002),n(2005),n(2007),n(2010),n(2011),n(2013),n(2016),n(2018),n(2021),n(2024),n(2028),n(2029),n(2030),n(2033),n(2034),n(2036),n(2039),n(2042),n(2045),n(2048),n(2050),n(2052),n(2054),n(2060),n(2062),n(2064),n(2066),n(2068),n(2070),n(2072),n(2074),n(2076),n(2078),n(2080),n(2082),n(2084),n(2086),n(2088),n(2090),n(2092),n(2094),n(2096),n(2098),n(2101),n(2103),n(2105),n(2107),n(2109),n(2111),n(2113),n(2115),n(2117),n(2119),n(2121),n(2123),n(2125),n(2130),n(2132),n(2134),n(2136),n(2138),n(2140),n(2142),n(2144),n(2146),n(2148),n(2150),n(2152),n(2154),n(2156),n(2158),n(2160),n(2162),n(2164),n(2166),n(2168),n(2170),n(2172),n(2175),n(2177),n(2179),n(2181),n(2183),n(2185),n(2187),n(2189),n(2191),n(2193),n(2195),n(2197),n(2199),n(2201),n(2203),n(2205),n(2207),n(2209),n(2211),n(2213),n(2215),n(2217),n(2219),n(2221),n(2228),n(2230),n(2232),n(2234),n(2236),n(2238),n(2240),n(2242),n(2244),n(2246),n(2247),n(2249),n(2251),n(2253),n(2255),n(2256),n(2258),n(2260),n(2262),n(2264),n(2266),n(2268),n(2270);var o=n(103);t.Subscription=o.Subscription;var a=n(24);t.Subscriber=a.Subscriber;var s=n(564);t.AsyncSubject=s.AsyncSubject;var u=n(571);t.ReplaySubject=u.ReplaySubject;var l=n(1229);t.BehaviorSubject=l.BehaviorSubject;var c=n(1223);t.ConnectableObservable=c.ConnectableObservable;var d=n(467);t.Notification=d.Notification;var f=n(572);t.EmptyError=f.EmptyError;var h=n(473);t.ArgumentOutOfRangeError=h.ArgumentOutOfRangeError;var p=n(563);t.ObjectUnsubscribedError=p.ObjectUnsubscribedError;var m=n(1258);t.TimeoutError=m.TimeoutError;var g=n(1171);t.UnsubscriptionError=g.UnsubscriptionError;var y=n(1255);t.TimeInterval=y.TimeInterval;var v=n(765);t.Timestamp=v.Timestamp;var b=n(2272);t.TestScheduler=b.TestScheduler;var _=n(1271);t.VirtualTimeScheduler=_.VirtualTimeScheduler;var w=n(1183);t.AjaxResponse=w.AjaxResponse,t.AjaxError=w.AjaxError,t.AjaxTimeoutError=w.AjaxTimeoutError;var k=n(748);t.pipe=k.pipe;var E=n(1248),x=n(73),S=n(1184),M=n(2275),T=n(561),C=n(465),A=n(562),O=n(2279);t.operators=O;var N={asap:E.asap,queue:S.queue,animationFrame:M.animationFrame,async:x.async};t.Scheduler=N;var L={rxSubscriber:T.rxSubscriber,observable:A.observable,iterator:C.iterator};t.Symbol=L},,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=(({if:e,children:t})=>e?t:null)},function(e,t,n){var r=n(40).Buffer,i=n(431).Transform,o=n(551).StringDecoder;function a(e){i.call(this),this.hashMode="string"==typeof e,this.hashMode?this[e]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}n(38)(a,i),a.prototype.update=function(e,t,n){"string"==typeof e&&(e=r.from(e,t));var i=this._update(e);return this.hashMode?this:(n&&(i=this._toString(i,n)),i)},a.prototype.setAutoPadding=function(){},a.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},a.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},a.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},a.prototype._transform=function(e,t,n){var r;try{this.hashMode?this._update(e):this.push(this._update(e))}catch(e){r=e}finally{n(r)}},a.prototype._flush=function(e){var t;try{this.push(this.__final())}catch(e){t=e}e(t)},a.prototype._finalOrDigest=function(e){var t=this.__final()||r.alloc(0);return e&&(t=this._toString(t,e,!0)),t},a.prototype._toString=function(e,t,n){if(this._decoder||(this._decoder=new o(t),this._encoding=t),this._encoding!==t)throw new Error("can't switch encodings");var r=this._decoder.write(e);return n&&(r+=this._decoder.end()),r},e.exports=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1891),i=n(1898),o=n(656),a=n(1900);n.d(t,"Range",function(){return i.a}),n.d(t,"Handle",function(){return o.a}),n.d(t,"createSliderWithTooltip",function(){return a.a}),r.a.Range=i.a,r.a.Handle=o.a,r.a.createSliderWithTooltip=a.a,t.default=r.a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(661);n.d(t,"Container",function(){return r.a});var i=n(663);n.d(t,"Row",function(){return i.a});var o=n(664);n.d(t,"Col",function(){return o.a});var a=n(665);n.d(t,"Navbar",function(){return a.a});var s=n(666);n.d(t,"NavbarBrand",function(){return s.a});var u=n(667);n.d(t,"NavbarToggler",function(){return u.a});var l=n(668);n.d(t,"Nav",function(){return l.a});var c=n(669);n.d(t,"NavItem",function(){return c.a});var d=n(670);n.d(t,"NavDropdown",function(){return d.a});var f=n(676);n.d(t,"NavLink",function(){return f.a});var h=n(677);n.d(t,"Breadcrumb",function(){return h.a});var p=n(678);n.d(t,"BreadcrumbItem",function(){return p.a});var m=n(349);n.d(t,"Button",function(){return m.a});var g=n(441);n.d(t,"ButtonDropdown",function(){return g.a});var y=n(679);n.d(t,"ButtonGroup",function(){return y.a});var v=n(680);n.d(t,"ButtonToolbar",function(){return v.a});var b=n(274);n.d(t,"Dropdown",function(){return b.a});var _=n(681);n.d(t,"DropdownItem",function(){return _.a});var w=n(682);n.d(t,"DropdownMenu",function(){return w.a});var k=n(684);n.d(t,"DropdownToggle",function(){return k.a});var E=n(350);n.d(t,"Fade",function(){return E.a});var x=n(690);n.d(t,"Badge",function(){return x.a});var S=n(691);n.d(t,"Card",function(){return S.a});var M=n(692);n.d(t,"CardGroup",function(){return M.a});var T=n(693);n.d(t,"CardDeck",function(){return T.a});var C=n(694);n.d(t,"CardColumns",function(){return C.a});var A=n(445);n.d(t,"CardBody",function(){return A.a});var O=n(695);n.d(t,"CardBlock",function(){return O.a});var N=n(696);n.d(t,"CardLink",function(){return N.a});var L=n(697);n.d(t,"CardFooter",function(){return L.a});var j=n(698);n.d(t,"CardHeader",function(){return j.a});var P=n(699);n.d(t,"CardImg",function(){return P.a});var D=n(700);n.d(t,"CardImgOverlay",function(){return D.a});var I=n(446);n.d(t,"Carousel",function(){return I.a});var R=n(701);n.d(t,"UncontrolledCarousel",function(){return R.a});var F=n(447);n.d(t,"CarouselControl",function(){return F.a});var Y=n(352);n.d(t,"CarouselItem",function(){return Y.a});var B=n(448);n.d(t,"CarouselIndicators",function(){return B.a});var H=n(449);n.d(t,"CarouselCaption",function(){return H.a});var z=n(702);n.d(t,"CardSubtitle",function(){return z.a});var W=n(703);n.d(t,"CardText",function(){return W.a});var U=n(704);n.d(t,"CardTitle",function(){return U.a});var V=n(705);n.d(t,"CustomInput",function(){return V.a});var G=n(450);n.d(t,"PopperContent",function(){return G.a});var q=n(706);n.d(t,"PopperTargetHelper",function(){return q.a});var K=n(451);n.d(t,"Popover",function(){return K.a});var $=n(707);n.d(t,"UncontrolledPopover",function(){return $.a});var X=n(453);n.d(t,"PopoverHeader",function(){return X.a});var J=n(708);n.d(t,"PopoverTitle",function(){return J.a});var Q=n(454);n.d(t,"PopoverBody",function(){return Q.a});var Z=n(709);n.d(t,"PopoverContent",function(){return Z.a});var ee=n(710);n.d(t,"Progress",function(){return ee.a});var te=n(712);n.d(t,"Modal",function(){return te.a});var ne=n(714);n.d(t,"ModalHeader",function(){return ne.a});var re=n(715);n.d(t,"ModalBody",function(){return re.a});var ie=n(716);n.d(t,"ModalFooter",function(){return ie.a});var oe=n(455);n.d(t,"Tooltip",function(){return oe.a});var ae=n(717);n.d(t,"Table",function(){return ae.a});var se=n(718);n.d(t,"ListGroup",function(){return se.a});var ue=n(719);n.d(t,"Form",function(){return ue.a});var le=n(720);n.d(t,"FormFeedback",function(){return le.a});var ce=n(721);n.d(t,"FormGroup",function(){return ce.a});var de=n(722);n.d(t,"FormText",function(){return de.a});var fe=n(723);n.d(t,"Input",function(){return fe.a});var he=n(724);n.d(t,"InputGroup",function(){return he.a});var pe=n(456);n.d(t,"InputGroupAddon",function(){return pe.a});var me=n(725);n.d(t,"InputGroupButton",function(){return me.a});var ge=n(726);n.d(t,"InputGroupButtonDropdown",function(){return ge.a});var ye=n(457);n.d(t,"InputGroupText",function(){return ye.a});var ve=n(727);n.d(t,"Label",function(){return ve.a});var be=n(728);n.d(t,"Media",function(){return be.a});var _e=n(729);n.d(t,"Pagination",function(){return _e.a});var we=n(730);n.d(t,"PaginationItem",function(){return we.a});var ke=n(731);n.d(t,"PaginationLink",function(){return ke.a});var Ee=n(732);n.d(t,"TabContent",function(){return Ee.a});var xe=n(733);n.d(t,"TabPane",function(){return xe.a});var Se=n(734);n.d(t,"Jumbotron",function(){return Se.a});var Me=n(458);n.d(t,"Alert",function(){return Me.a});var Te=n(459);n.d(t,"Collapse",function(){return Te.a});var Ce=n(735);n.d(t,"ListGroupItem",function(){return Ce.a});var Ae=n(736);n.d(t,"ListGroupItemHeading",function(){return Ae.a});var Oe=n(737);n.d(t,"ListGroupItemText",function(){return Oe.a});var Ne=n(738);n.d(t,"UncontrolledAlert",function(){return Ne.a});var Le=n(739);n.d(t,"UncontrolledButtonDropdown",function(){return Le.a});var je=n(740);n.d(t,"UncontrolledCollapse",function(){return je.a});var Pe=n(460);n.d(t,"UncontrolledDropdown",function(){return Pe.a});var De=n(741);n.d(t,"UncontrolledNavDropdown",function(){return De.a});var Ie=n(742);n.d(t,"UncontrolledTooltip",function(){return Ie.a});var Re=n(743);n.d(t,"Spinner",function(){return Re.a});var Fe=n(5);n.d(t,"Util",function(){return Fe})},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},i=n(7),o=n(750),a=n(332),s=n(276),u=function(e){function t(t,n){e.call(this),this.array=t,this.scheduler=n,n||1!==t.length||(this._isScalar=!0,this.value=t[0])}return r(t,e),t.create=function(e,n){return new t(e,n)},t.of=function(){for(var e=[],n=0;n<arguments.length;n++)e[n-0]=arguments[n];var r=e[e.length-1];s.isScheduler(r)?e.pop():r=null;var i=e.length;return i>1?new t(e,r):1===i?new o.ScalarObservable(e[0],r):new a.EmptyObservable(r)},t.dispatch=function(e){var t=e.array,n=e.index,r=e.count,i=e.subscriber;n>=r?i.complete():(i.next(t[n]),i.closed||(e.index=n+1,this.schedule(e)))},t.prototype._subscribe=function(e){var n=this.array,r=n.length,i=this.scheduler;if(i)return i.schedule(t.dispatch,0,{array:n,index:0,count:r,subscriber:e});for(var o=0;o<r&&!e.closed;o++)e.next(n[o]);e.complete()},t}(i.Observable);t.ArrayObservable=u},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},i=function(e){function t(t){e.call(this),this.scheduler=t}return r(t,e),t.create=function(e){return new t(e)},t.dispatch=function(e){e.subscriber.complete()},t.prototype._subscribe=function(e){var n=this.scheduler;if(n)return n.schedule(t.dispatch,0,{subscriber:e});e.complete()},t}(n(7).Observable);t.EmptyObservable=i},,,,,,,,,function(e,t,n){(function(e,t){!function(e,n){"use strict";if(!e.setImmediate){var r,i,o,a,s,u=1,l={},c=!1,d=e.document,f=Object.getPrototypeOf&&Object.getPrototypeOf(e);f=f&&f.setTimeout?f:e,"[object process]"==={}.toString.call(e.process)?r=function(e){t.nextTick(function(){p(e)})}:!function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?e.MessageChannel?((o=new MessageChannel).port1.onmessage=function(e){p(e.data)},r=function(e){o.port2.postMessage(e)}):d&&"onreadystatechange"in d.createElement("script")?(i=d.documentElement,r=function(e){var t=d.createElement("script");t.onreadystatechange=function(){p(e),t.onreadystatechange=null,i.removeChild(t),t=null},i.appendChild(t)}):r=function(e){setTimeout(p,0,e)}:(a="setImmediate$"+Math.random()+"$",s=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(a)&&p(+t.data.slice(a.length))},e.addEventListener?e.addEventListener("message",s,!1):e.attachEvent("onmessage",s),r=function(t){e.postMessage(a+t,"*")}),f.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var i={callback:e,args:t};return l[u]=i,r(u),u++},f.clearImmediate=h}function h(e){delete l[e]}function p(e){if(c)setTimeout(p,0,e);else{var t=l[e];if(t){c=!0;try{!function(e){var t=e.callback,r=e.args;switch(r.length){case 0:t();break;case 1:t(r[0]);break;case 2:t(r[0],r[1]);break;case 3:t(r[0],r[1],r[2]);break;default:t.apply(n,r)}}(t)}finally{h(e),c=!1}}}}}("undefined"==typeof self?void 0===e?this:e:self)}).call(t,n(22),n(59))},,,,function(e,t,n){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=n(252).v1,a=n(273),s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return(((e=Array.isArray(e)?e:[])[0]?[e[0].keys]:void 0)||[]).concat(e.map(function(e){return e.keys.map(function(t,n){return e._fields[n]})}))},u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.types,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.isInt;return(arguments.length>2&&void 0!==arguments[2]?arguments[2]:[]).map(l.bind(null,e,t))},l=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.types,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.isInt,r=arguments[2];if(Array.isArray(r))return r.map(e.bind(null,t,n));if("object"===(void 0===r?"undefined":i(r))&&null!==r&&!c(t,r)&&!n(r)){for(var a={},s=Object.keys(r),u=0;u<s.length;u++)a[s[u]]=e(t,n,r[s[u]]);return a}return c(t,r)?d(t,r):r},c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.types,t=arguments[1];return t instanceof e.Node||t instanceof e.Relationship||t instanceof e.Path||e.PathSegment,t instanceof o.types.Date||t instanceof o.types.DateTime||t instanceof o.types.Duration||t instanceof o.types.LocalDateTime||t instanceof o.types.LocalTime||t instanceof o.types.Time||t instanceof o.types.Point};function d(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.types,t=arguments[1];return t instanceof e.Node||t instanceof e.Relationship?t.properties:t instanceof e.Path?[].concat.apply([],f(e,t)):t}var f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.types,t=arguments[1],n=t.segments;return(!Array.isArray(t.segments)||t.segments.length<1)&&(n=[r({},t,{end:null})]),n.map(function(t){return[d(e,t.start),d(e,t.relationship),d(e,t.end)].filter(function(e){return null!==e})})};e.exports={resultHasNodes:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:bolt.neo4j.types;if(!e)return!1;var n=e.result,r=void 0===n?{}:n;if(!r||!r.records)return!1;var o=r.records,s=void 0===o?void 0:o;if(!s||!s.length)return!1;for(var u=s[0].keys,l=function(e){var n=u.map(function(t){return s[e].get(t)}),r=a.recursivelyExtractGraphItems(t,n);if(a.flattenArray(r).filter(function(e){return e instanceof t.Node||e instanceof t.Path}).length)return{v:!0}},c=0;c<s.length;c++){var d=l(c);if("object"===(void 0===d?"undefined":i(d)))return d.v}return!1},resultHasPlan:function(e){return!!(e&&e.result&&e.result.summary&&(e.result.summary.plan||e.result.summary.profile))},resultIsError:function(e){return!!(e&&e.result&&e.result.code)},resultHasWarnings:function(e){return!!(e&&e.result&&e.result.summary&&e.result.summary.notifications&&e.result.summary.notifications.length)},extractRecordsToResultArray:s,transformResultRecordsToResultArray:function(e){return e&&e.length?[e].map(s).map(u.bind(null,o.types,o.isInt))[0]:void 0}}},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var i=n(1795);t.toLong=function(e){return new o(e)};var o=t.Long=function(e){if("string"!=typeof e&&"number"!=typeof e)throw new TypeError("The value must be a string or a number");this.value=e.toString()};t.getUuid=function(){var e=i.randomBytes(16);e[6]&=15,e[6]|=64,e[8]&=63,e[8]|=128;var t=e.toString("hex");return t.substr(0,8)+"-"+t.substr(8,4)+"-"+t.substr(12,4)+"-"+t.substr(16,4)+"-"+t.substr(20,12)},t.emptyArray=Object.freeze([]);var a=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,Map),r(t,[{key:"set",value:function(){return this}},{key:"delete",value:function(){return!1}},{key:"clear",value:function(){}}]),t}();t.ImmutableMap=a},function(e,t,n){"use strict";var r=n(550),i=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};e.exports=d;var o=n(432);o.inherits=n(38);var a=n(1113),s=n(644);o.inherits(d,a);for(var u=i(s.prototype),l=0;l<u.length;l++){var c=u[l];d.prototype[c]||(d.prototype[c]=s.prototype[c])}function d(e){if(!(this instanceof d))return new d(e);a.call(this,e),s.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",f)}function f(){this.allowHalfOpen||this._writableState.ended||r.nextTick(h,this)}function h(e){e.end()}Object.defineProperty(d.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(d.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),d.prototype._destroy=function(e,t){this.push(null),this.end(),r.nextTick(t,e)}},function(e,t,n){"use strict";var r=n(1912),i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=void 0;function a(e){var t=e.style.display;e.style.display="none",e.offsetHeight,e.style.display=t}function s(e,t,n){var r=n;if("object"!==(void 0===t?"undefined":i(t)))return void 0!==r?("number"==typeof r&&(r+="px"),void(e.style[t]=r)):o(e,t);for(var a in t)t.hasOwnProperty(a)&&s(e,a,t[a])}function u(e,t){var n=e["page"+(t?"Y":"X")+"Offset"],r="scroll"+(t?"Top":"Left");if("number"!=typeof n){var i=e.document;"number"!=typeof(n=i.documentElement[r])&&(n=i.body[r])}return n}function l(e){return u(e)}function c(e){return u(e,!0)}function d(e){var t=function(e){var t,n=void 0,r=void 0,i=e.ownerDocument,o=i.body,a=i&&i.documentElement;return n=(t=e.getBoundingClientRect()).left,r=t.top,{left:n-=a.clientLeft||o.clientLeft||0,top:r-=a.clientTop||o.clientTop||0}}(e),n=e.ownerDocument,r=n.defaultView||n.parentWindow;return t.left+=l(r),t.top+=c(r),t}function f(e){return null!==e&&void 0!==e&&e==e.window}function h(e){return f(e)?e.document:9===e.nodeType?e:e.ownerDocument}var p=new RegExp("^("+/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source+")(?!px)[a-z%]+$","i"),m=/^(top|right|bottom|left)$/,g="currentStyle",y="runtimeStyle",v="left",b="px";function _(e,t){return"left"===e?t.useCssRight?"right":e:t.useCssBottom?"bottom":e}function w(e){return"left"===e?"right":"right"===e?"left":"top"===e?"bottom":"bottom"===e?"top":void 0}function k(e,t,n){"static"===s(e,"position")&&(e.style.position="relative");var i=-999,o=-999,u=_("left",n),l=_("top",n),c=w(u),f=w(l);"left"!==u&&(i=999),"top"!==l&&(o=999);var h="",p=d(e);("left"in t||"top"in t)&&(h=Object(r.c)(e)||"",Object(r.e)(e,"none")),"left"in t&&(e.style[c]="",e.style[u]=i+"px"),"top"in t&&(e.style[f]="",e.style[l]=o+"px"),a(e);var m=d(e),g={};for(var y in t)if(t.hasOwnProperty(y)){var v=_(y,n),b="left"===y?i:o,k=p[y]-m[y];g[v]=v===y?b+k:b-k}s(e,g),a(e),("left"in t||"top"in t)&&Object(r.e)(e,h);var E={};for(var x in t)if(t.hasOwnProperty(x)){var S=_(x,n),M=t[x]-p[x];E[S]=x===S?g[S]+M:g[S]-M}s(e,E)}function E(e,t,n){if(n.ignoreShake){var i=d(e),o=i.left.toFixed(0),a=i.top.toFixed(0),s=t.left.toFixed(0),u=t.top.toFixed(0);if(o===s&&a===u)return}n.useCssRight||n.useCssBottom?k(e,t,n):n.useCssTransform&&Object(r.a)()in document.body.style?function(e,t){var n=d(e),i=Object(r.b)(e),o={x:i.x,y:i.y};"left"in t&&(o.x=i.x+t.left-n.left),"top"in t&&(o.y=i.y+t.top-n.top),Object(r.d)(e,o)}(e,t):k(e,t,n)}function x(e,t){for(var n=0;n<e.length;n++)t(e[n])}function S(e){return"border-box"===o(e,"boxSizing")}"undefined"!=typeof window&&(o=window.getComputedStyle?function(e,t,n){var r=n,i="",o=h(e);return(r=r||o.defaultView.getComputedStyle(e,null))&&(i=r.getPropertyValue(t)||r[t]),i}:function(e,t){var n=e[g]&&e[g][t];if(p.test(n)&&!m.test(t)){var r=e.style,i=r[v],o=e[y][v];e[y][v]=e[g][v],r[v]="fontSize"===t?"1em":n||0,n=r.pixelLeft+b,r[v]=i,e[y][v]=o}return""===n?"auto":n});var M=["margin","border","padding"],T=-1,C=2,A=1;function O(e,t,n){var r=0,i=void 0,a=void 0,s=void 0;for(a=0;a<t.length;a++)if(i=t[a])for(s=0;s<n.length;s++){var u=void 0;u="border"===i?""+i+n[s]+"Width":i+n[s],r+=parseFloat(o(e,u))||0}return r}var N={};function L(e,t,n){var r=n;if(f(e))return"width"===t?N.viewportWidth(e):N.viewportHeight(e);if(9===e.nodeType)return"width"===t?N.docWidth(e):N.docHeight(e);var i="width"===t?["Left","Right"]:["Top","Bottom"],a="width"===t?e.getBoundingClientRect().width:e.getBoundingClientRect().height,s=(o(e),S(e)),u=0;(null===a||void 0===a||a<=0)&&(a=void 0,(null===(u=o(e,t))||void 0===u||Number(u)<0)&&(u=e.style[t]||0),u=parseFloat(u)||0),void 0===r&&(r=s?A:T);var l=void 0!==a||s,c=a||u;return r===T?l?c-O(e,["border","padding"],i):u:l?r===A?c:c+(r===C?-O(e,["border"],i):O(e,["margin"],i)):u+O(e,M.slice(r),i)}x(["Width","Height"],function(e){N["doc"+e]=function(t){var n=t.document;return Math.max(n.documentElement["scroll"+e],n.body["scroll"+e],N["viewport"+e](n))},N["viewport"+e]=function(t){var n="client"+e,r=t.document,i=r.body,o=r.documentElement[n];return"CSS1Compat"===r.compatMode&&o||i&&i[n]||o}});var j={position:"absolute",visibility:"hidden",display:"block"};function P(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=void 0,i=t[0];return 0!==i.offsetWidth?r=L.apply(void 0,t):function(e,t,n){var r={},i=e.style,o=void 0;for(o in t)t.hasOwnProperty(o)&&(r[o]=i[o],i[o]=t[o]);for(o in n.call(e),t)t.hasOwnProperty(o)&&(i[o]=r[o])}(i,j,function(){r=L.apply(void 0,t)}),r}function D(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}x(["width","height"],function(e){var t=e.charAt(0).toUpperCase()+e.slice(1);N["outer"+t]=function(t,n){return t&&P(t,e,n?0:A)};var n="width"===e?["Left","Right"]:["Top","Bottom"];N[e]=function(t,r){var i=r;if(void 0===i)return t&&P(t,e,T);if(t){o(t);return S(t)&&(i+=O(t,["padding","border"],n)),s(t,e,i)}}});var I={getWindow:function(e){if(e&&e.document&&e.setTimeout)return e;var t=e.ownerDocument||e;return t.defaultView||t.parentWindow},getDocument:h,offset:function(e,t,n){if(void 0===t)return d(e);E(e,t,n||{})},isWindow:f,each:x,css:s,clone:function(e){var t=void 0,n={};for(t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);if(e.overflow)for(t in e)e.hasOwnProperty(t)&&(n.overflow[t]=e.overflow[t]);return n},mix:D,getWindowScrollLeft:function(e){return l(e)},getWindowScrollTop:function(e){return c(e)},merge:function(){for(var e={},t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;i++)I.mix(e,n[i]);return e},viewportWidth:0,viewportHeight:0};D(I,N),t.a=I},function(e,t,n){"use strict";var r=n(6),i=n(9),o=n(33),a=n(39),s=n(1),u=n.n(s),l=n(4),c=n.n(l),d=n(8),f=n.n(d),h=n(5),p={active:c.a.bool,"aria-label":c.a.string,block:c.a.bool,color:c.a.string,disabled:c.a.bool,outline:c.a.bool,tag:h.tagPropType,innerRef:c.a.oneOfType([c.a.object,c.a.func,c.a.string]),onClick:c.a.func,size:c.a.string,children:c.a.node,className:c.a.string,cssModule:c.a.object,close:c.a.bool},m=function(e){function t(t){var n;return(n=e.call(this,t)||this).onClick=n.onClick.bind(Object(a.a)(Object(a.a)(n))),n}Object(o.a)(t,e);var n=t.prototype;return n.onClick=function(e){this.props.disabled?e.preventDefault():this.props.onClick&&this.props.onClick(e)},n.render=function(){var e=this.props,t=e.active,n=e["aria-label"],o=e.block,a=e.className,s=e.close,l=e.cssModule,c=e.color,d=e.outline,p=e.size,m=e.tag,g=e.innerRef,y=Object(i.a)(e,["active","aria-label","block","className","close","cssModule","color","outline","size","tag","innerRef"]);s&&void 0===y.children&&(y.children=u.a.createElement("span",{"aria-hidden":!0},""));var v="btn"+(d?"-outline":"")+"-"+c,b=Object(h.mapToCssModules)(f()(a,{close:s},s||"btn",s||v,!!p&&"btn-"+p,!!o&&"btn-block",{active:t,disabled:this.props.disabled}),l);y.href&&"button"===m&&(m="a");var _=s?"Close":null;return u.a.createElement(m,Object(r.a)({type:"button"===m&&y.onClick?"button":void 0},y,{className:b,ref:g,onClick:this.onClick,"aria-label":n||_}))},t}(u.a.Component);m.propTypes=p,m.defaultProps={color:"secondary",tag:"button"},t.a=m},function(e,t,n){"use strict";var r=n(6),i=n(9),o=n(72),a=n(1),s=n.n(a),u=n(4),l=n.n(u),c=n(8),d=n.n(c),f=n(351),h=(n.n(f),n(5)),p=Object(o.a)({},f.Transition.propTypes,{children:l.a.oneOfType([l.a.arrayOf(l.a.node),l.a.node]),tag:h.tagPropType,baseClass:l.a.string,baseClassActive:l.a.string,className:l.a.string,cssModule:l.a.object,innerRef:l.a.oneOfType([l.a.object,l.a.string,l.a.func])}),m=Object(o.a)({},f.Transition.defaultProps,{tag:"div",baseClass:"fade",baseClassActive:"show",timeout:h.TransitionTimeouts.Fade,appear:!0,enter:!0,exit:!0,in:!0});function g(e){var t=e.tag,n=e.baseClass,o=e.baseClassActive,a=e.className,u=e.cssModule,l=e.children,c=e.innerRef,p=Object(i.a)(e,["tag","baseClass","baseClassActive","className","cssModule","children","innerRef"]),m=Object(h.pick)(p,h.TransitionPropTypeKeys),g=Object(h.omit)(p,h.TransitionPropTypeKeys);return s.a.createElement(f.Transition,m,function(e){var i="entered"===e,f=Object(h.mapToCssModules)(d()(a,n,i&&o),u);return s.a.createElement(t,Object(r.a)({className:f},g,{ref:c}),l)})}g.propTypes=p,g.defaultProps=m,t.a=g},function(e,t,n){"use strict";var r=s(n(685)),i=s(n(688)),o=s(n(444)),a=s(n(442));function s(e){return e&&e.__esModule?e:{default:e}}e.exports={Transition:a.default,TransitionGroup:o.default,ReplaceTransition:i.default,CSSTransition:r.default}},function(e,t,n){"use strict";var r=n(72),i=n(6),o=n(9),a=n(33),s=n(39),u=n(1),l=n.n(u),c=n(4),d=n.n(c),f=n(8),h=n.n(f),p=n(351),m=(n.n(p),n(5)),g=function(e){function t(t){var n;return(n=e.call(this,t)||this).state={startAnimation:!1},n.onEnter=n.onEnter.bind(Object(s.a)(Object(s.a)(n))),n.onEntering=n.onEntering.bind(Object(s.a)(Object(s.a)(n))),n.onExit=n.onExit.bind(Object(s.a)(Object(s.a)(n))),n.onExiting=n.onExiting.bind(Object(s.a)(Object(s.a)(n))),n.onExited=n.onExited.bind(Object(s.a)(Object(s.a)(n))),n}Object(a.a)(t,e);var n=t.prototype;return n.onEnter=function(e,t){this.setState({startAnimation:!1}),this.props.onEnter(e,t)},n.onEntering=function(e,t){var n=e.offsetHeight;return this.setState({startAnimation:!0}),this.props.onEntering(e,t),n},n.onExit=function(e){this.setState({startAnimation:!1}),this.props.onExit(e)},n.onExiting=function(e){this.setState({startAnimation:!0}),e.dispatchEvent(new CustomEvent("slide.bs.carousel")),this.props.onExiting(e)},n.onExited=function(e){e.dispatchEvent(new CustomEvent("slid.bs.carousel")),this.props.onExited(e)},n.render=function(){var e=this,t=this.props,n=t.in,r=t.children,a=t.cssModule,s=t.slide,u=t.tag,c=t.className,d=Object(o.a)(t,["in","children","cssModule","slide","tag","className"]);return l.a.createElement(p.Transition,Object(i.a)({},d,{enter:s,exit:s,in:n,onEnter:this.onEnter,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}),function(t){var n=e.context.direction,i=t===m.TransitionStatuses.ENTERED||t===m.TransitionStatuses.EXITING,o=(t===m.TransitionStatuses.ENTERING||t===m.TransitionStatuses.EXITING)&&e.state.startAnimation&&("right"===n?"carousel-item-left":"carousel-item-right"),s=t===m.TransitionStatuses.ENTERING&&("right"===n?"carousel-item-next":"carousel-item-prev"),d=Object(m.mapToCssModules)(h()(c,"carousel-item",i&&"active",o,s),a);return l.a.createElement(u,{className:d},r)})},t}(l.a.Component);g.propTypes=Object(r.a)({},p.Transition.propTypes,{tag:m.tagPropType,in:d.a.bool,cssModule:d.a.object,children:d.a.node,slide:d.a.bool,className:d.a.string}),g.defaultProps=Object(r.a)({},p.Transition.defaultProps,{tag:"div",timeout:m.TransitionTimeouts.Carousel,slide:!0}),g.contextTypes={direction:d.a.string},t.a=g},function(e,t,n){(function(n){var r,i,o,a=a||(i=[],{getAll:function(){return i},removeAll:function(){i=[]},add:function(e){i.push(e)},remove:function(e){var t=i.indexOf(e);-1!==t&&i.splice(t,1)},update:function(e,t){if(0===i.length)return!1;var n=0;for(e=void 0!==e?e:a.now();n<i.length;)i[n].update(e)||t?n++:i.splice(n,1);return!0}});"undefined"==typeof window&&void 0!==n?a.now=function(){var e=n.hrtime();return 1e3*e[0]+e[1]/1e6}:"undefined"!=typeof window&&void 0!==window.performance&&void 0!==window.performance.now?a.now=window.performance.now.bind(window.performance):void 0!==Date.now?a.now=Date.now:a.now=function(){return(new Date).getTime()},a.Tween=function(e){var t,n=e,r={},i={},o={},s=1e3,u=0,l=!1,c=!1,d=!1,f=0,h=null,p=a.Easing.Linear.None,m=a.Interpolation.Linear,g=[],y=null,v=!1,b=null,_=null,w=null;this.to=function(e,t){return i=e,void 0!==t&&(s=t),this},this.start=function(e){for(var t in a.add(this),c=!0,v=!1,h=void 0!==e?e:a.now(),h+=f,i){if(i[t]instanceof Array){if(0===i[t].length)continue;i[t]=[n[t]].concat(i[t])}void 0!==n[t]&&(r[t]=n[t],r[t]instanceof Array==!1&&(r[t]*=1),o[t]=r[t]||0)}return this},this.stop=function(){return c?(a.remove(this),c=!1,null!==w&&w.call(n,n),this.stopChainedTweens(),this):this},this.end=function(){return this.update(h+s),this},this.stopChainedTweens=function(){for(var e=0,t=g.length;e<t;e++)g[e].stop()},this.delay=function(e){return f=e,this},this.repeat=function(e){return u=e,this},this.repeatDelay=function(e){return t=e,this},this.yoyo=function(e){return l=e,this},this.easing=function(e){return p=e,this},this.interpolation=function(e){return m=e,this},this.chain=function(){return g=arguments,this},this.onStart=function(e){return y=e,this},this.onUpdate=function(e){return b=e,this},this.onComplete=function(e){return _=e,this},this.onStop=function(e){return w=e,this},this.update=function(e){var a,c,w;if(e<h)return!0;for(a in!1===v&&(null!==y&&y.call(n,n),v=!0),w=p(c=(c=(e-h)/s)>1?1:c),i)if(void 0!==r[a]){var k=r[a]||0,E=i[a];E instanceof Array?n[a]=m(E,w):("string"==typeof E&&(E="+"===E.charAt(0)||"-"===E.charAt(0)?k+parseFloat(E):parseFloat(E)),"number"==typeof E&&(n[a]=k+(E-k)*w))}if(null!==b&&b.call(n,w),1===c){if(u>0){for(a in isFinite(u)&&u--,o){if("string"==typeof i[a]&&(o[a]=o[a]+parseFloat(i[a])),l){var x=o[a];o[a]=i[a],i[a]=x}r[a]=o[a]}return l&&(d=!d),h=void 0!==t?e+t:e+f,!0}null!==_&&_.call(n,n);for(var S=0,M=g.length;S<M;S++)g[S].start(h+s);return!1}return!0}},a.Easing={Linear:{None:function(e){return e}},Quadratic:{In:function(e){return e*e},Out:function(e){return e*(2-e)},InOut:function(e){return(e*=2)<1?.5*e*e:-.5*(--e*(e-2)-1)}},Cubic:{In:function(e){return e*e*e},Out:function(e){return--e*e*e+1},InOut:function(e){return(e*=2)<1?.5*e*e*e:.5*((e-=2)*e*e+2)}},Quartic:{In:function(e){return e*e*e*e},Out:function(e){return 1- --e*e*e*e},InOut:function(e){return(e*=2)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)}},Quintic:{In:function(e){return e*e*e*e*e},Out:function(e){return--e*e*e*e*e+1},InOut:function(e){return(e*=2)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)}},Sinusoidal:{In:function(e){return 1-Math.cos(e*Math.PI/2)},Out:function(e){return Math.sin(e*Math.PI/2)},InOut:function(e){return.5*(1-Math.cos(Math.PI*e))}},Exponential:{In:function(e){return 0===e?0:Math.pow(1024,e-1)},Out:function(e){return 1===e?1:1-Math.pow(2,-10*e)},InOut:function(e){return 0===e?0:1===e?1:(e*=2)<1?.5*Math.pow(1024,e-1):.5*(2-Math.pow(2,-10*(e-1)))}},Circular:{In:function(e){return 1-Math.sqrt(1-e*e)},Out:function(e){return Math.sqrt(1- --e*e)},InOut:function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)}},Elastic:{In:function(e){return 0===e?0:1===e?1:-Math.pow(2,10*(e-1))*Math.sin(5*(e-1.1)*Math.PI)},Out:function(e){return 0===e?0:1===e?1:Math.pow(2,-10*e)*Math.sin(5*(e-.1)*Math.PI)+1},InOut:function(e){return 0===e?0:1===e?1:(e*=2)<1?-.5*Math.pow(2,10*(e-1))*Math.sin(5*(e-1.1)*Math.PI):.5*Math.pow(2,-10*(e-1))*Math.sin(5*(e-1.1)*Math.PI)+1}},Back:{In:function(e){var t=1.70158;return e*e*((t+1)*e-t)},Out:function(e){var t=1.70158;return--e*e*((t+1)*e+t)+1},InOut:function(e){var t=2.5949095;return(e*=2)<1?e*e*((t+1)*e-t)*.5:.5*((e-=2)*e*((t+1)*e+t)+2)}},Bounce:{In:function(e){return 1-a.Easing.Bounce.Out(1-e)},Out:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},InOut:function(e){return e<.5?.5*a.Easing.Bounce.In(2*e):.5*a.Easing.Bounce.Out(2*e-1)+.5}}},a.Interpolation={Linear:function(e,t){var n=e.length-1,r=n*t,i=Math.floor(r),o=a.Interpolation.Utils.Linear;return t<0?o(e[0],e[1],r):t>1?o(e[n],e[n-1],n-r):o(e[i],e[i+1>n?n:i+1],r-i)},Bezier:function(e,t){for(var n=0,r=e.length-1,i=Math.pow,o=a.Interpolation.Utils.Bernstein,s=0;s<=r;s++)n+=i(1-t,r-s)*i(t,s)*e[s]*o(r,s);return n},CatmullRom:function(e,t){var n=e.length-1,r=n*t,i=Math.floor(r),o=a.Interpolation.Utils.CatmullRom;return e[0]===e[n]?(t<0&&(i=Math.floor(r=n*(1+t))),o(e[(i-1+n)%n],e[i],e[(i+1)%n],e[(i+2)%n],r-i)):t<0?e[0]-(o(e[0],e[0],e[1],e[1],-r)-e[0]):t>1?e[n]-(o(e[n],e[n],e[n-1],e[n-1],r-n)-e[n]):o(e[i?i-1:0],e[i],e[n<i+1?n:i+1],e[n<i+2?n:i+2],r-i)},Utils:{Linear:function(e,t,n){return(t-e)*n+e},Bernstein:function(e,t){var n=a.Interpolation.Utils.Factorial;return n(e)/n(t)/n(e-t)},Factorial:(o=[1],function(e){var t=1;if(o[e])return o[e];for(var n=e;n>1;n--)t*=n;return o[e]=t,t}),CatmullRom:function(e,t,n,r,i){var o=.5*(n-e),a=.5*(r-t),s=i*i;return(2*t-2*n+o+a)*(i*s)+(-3*t+3*n-2*o-a)*s+o*i+t}}},void 0===(r=function(){return a}.apply(t,[]))||(e.exports=r)}).call(t,n(59))},function(e,t,n){"use strict";var r=n(1223);t.multicast=function(e,t){return function(n){var o;if(o="function"==typeof e?e:function(){return e},"function"==typeof t)return n.lift(new i(o,t));var a=Object.create(n,r.connectableObservableDescriptor);return a.source=n,a.subjectFactory=o,a}};var i=function(){function e(e,t){this.subjectFactory=e,this.selector=t}return e.prototype.call=function(e,t){var n=this.selector,r=this.subjectFactory(),i=n(r).subscribe(e);return i.add(t.subscribe(r)),i},e}();t.MulticastOperator=i},function(e,t,n){var r=n(476),i=n(2326),o=n(2327),a=n(2328);e.exports=function(e,t,n){if(null==e)return"";return n=n||" ",e=String(e).replace(o,"$1 $2").replace(a,"$1 $2").replace(i,function(e,t,r){return 0===t||t===r.length-e.length?"":n}),r(e,t)}},function(e,t){var n={tr:{regexp:/[\u0069]/g,map:{i:""}},az:{regexp:/[\u0069]/g,map:{i:""}},lt:{regexp:/[\u0069\u006A\u012F]\u0307|\u0069\u0307[\u0300\u0301\u0303]/g,map:{"i":"I","j":"J","":"","i":"","i":"","i":""}}};e.exports=function(e,t){var r=n[t];return e=null==e?"":String(e),r&&(e=e.replace(r.regexp,function(e){return r.map[e]})),e.toUpperCase()}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){var r=n(414);"string"==typeof r&&(r=[[e.i,r,""]]);n(251)(r,{});r.locals&&(e.exports=r.locals)},,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class r{constructor(e){if(this._styles={},e&&e instanceof r){let t=e.style();for(let e in t)t.hasOwnProperty(e)&&(this._styles[e]=t[e])}else{let t=e;for(let e in t)this._styles[e]=t[e]}}style(e,t){return e&&t?(this._styles[e]=t,this):e?this._styles[e]:this._styles}static copyStyle(e,t,n,r,i=!1){var o=t.getPropertyValue(n);o||(o=t.getPropertyValue(r)),i&&console.log(`  ${n}: ${o}`),e.style(n,o)}static copyStyles(e,t,n=!1){var i=window.getComputedStyle(t.node());n&&console.log("copyStyles from: ",t.node()),r.copyStyle(e,i,"width","width",n),r.copyStyle(e,i,"min-width","min-width",n),r.copyStyle(e,i,"font-family","font-family",n),r.copyStyle(e,i,"font-size","font-size",n),r.copyStyle(e,i,"margin","margin-top",n),r.copyStyle(e,i,"padding","padding-top",n),r.copyStyle(e,i,"color","color",n),r.copyStyle(e,i,"background-color","background-color",n),r.copyStyle(e,i,"border-width","border-top-width",n),r.copyStyle(e,i,"border-style","border-top-style",n),r.copyStyle(e,i,"border-color","border-top-color",n)}}t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(1),a=(r=o)&&r.__esModule?r:{default:r};var s=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={activeTabIndex:0},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),i(t,[{key:"handleActiveTab",value:function(e,t){this.setState({activeTabIndex:t})}},{key:"render",value:function(){var e=this,t=this.state.activeTabIndex;return a.default.createElement("div",{className:"layout-panel"},a.default.createElement("ul",{className:"nav nav-tabs",role:"tablist"},this.props.children.filter(function(e){return e}).map(function(n,r){return a.default.createElement("li",{key:r,className:(n.props.name?"tour-"+n.props.name:"tour-Name")+" presentation nav-item "+(r==t?"active":""),onClick:function(t){return e.handleActiveTab(t,r)}},a.default.createElement("a",{role:"tab",className:"nav-link "+(r==t?"active":"")+" ",href:"javascript:void(0);"},n.props.name?n.props.name:"Name"))})),a.default.createElement("div",{className:"tab-content"},this.props.children.filter(function(e){return e}).map(function(e,n){return a.default.createElement("div",{key:n,className:"tab-pane "+String(e.props.name).toLocaleLowerCase()+" "+(t==n?"active":"")+"  ",role:"tabpanel"},t!=n?null:e)})))}}]),t}();t.default=s},function(e,t,n){"use strict";(function(t,r){var i=65536,o=4294967295;var a=n(40).Buffer,s=t.crypto||t.msCrypto;s&&s.getRandomValues?e.exports=function(e,t){if(e>o)throw new RangeError("requested too many random bytes");var n=a.allocUnsafe(e);if(e>0)if(e>i)for(var u=0;u<e;u+=i)s.getRandomValues(n.slice(u,u+i));else s.getRandomValues(n);if("function"==typeof t)return r.nextTick(function(){t(null,n)});return n}:e.exports=function(){throw new Error("Secure random number generation is not supported by this browser.\nUse Chrome, Firefox or Internet Explorer 11")}}).call(t,n(22),n(59))},function(e,t,n){var r=n(40).Buffer;function i(e,t){this._block=r.alloc(e),this._finalSize=t,this._blockSize=e,this._len=0}i.prototype.update=function(e,t){"string"==typeof e&&(t=t||"utf8",e=r.from(e,t));for(var n=this._block,i=this._blockSize,o=e.length,a=this._len,s=0;s<o;){for(var u=a%i,l=Math.min(o-s,i-u),c=0;c<l;c++)n[u+c]=e[s+c];s+=l,(a+=l)%i==0&&this._update(n)}return this._len+=o,this},i.prototype.digest=function(e){var t=this._len%this._blockSize;this._block[t]=128,this._block.fill(0,t+1),t>=this._finalSize&&(this._update(this._block),this._block.fill(0));var n=8*this._len;if(n<=4294967295)this._block.writeUInt32BE(n,this._blockSize-4);else{var r=(4294967295&n)>>>0,i=(n-r)/4294967296;this._block.writeUInt32BE(i,this._blockSize-8),this._block.writeUInt32BE(r,this._blockSize-4)}this._update(this._block);var o=this._hash();return e?o.toString(e):o},i.prototype._update=function(){throw new Error("_update must be implemented by subclass")},e.exports=i},function(e,t,n){var r=n(1952);"string"==typeof r&&(r=[[e.i,r,""]]);n(251)(r,{});r.locals&&(e.exports=r.locals)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Neo4jAppEventTypes=t.Neo4jApp=t.Neo4jAppURL=t.Neo4jAppURLQuery=void 0;var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(11),a=(r=o)&&r.__esModule?r:{default:r};var s=null,u="neo4jDesktopGraphAppRootPath=&neo4jDesktopGraphAppId=GraphXR",l=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.bindNeo4jDesktopApi(),this.context=null,this.currentActiveDB=null,this.handlerContextChange=null}return i(e,null,[{key:"shareInstance",value:function(){return s||(s=new this),s}},{key:"bindHandleChange",value:function(e,t){if(this.isInNeo4jApp&&!neo4jDesktopApi.onContextUpdate&&t)return window.location.href=window.location.href+(/\?/.test(window.location.href)?"":"?")+u;this.shareInstance().handlerContextChange=e}},{key:"isInNeo4jApp",get:function(){return this.shareInstance().isInNeo4jApp}},{key:"isUsedNeo4jAppDB",get:function(){return this.shareInstance().isUsedNeo4jAppDB}}]),i(e,[{key:"getActiveDBFromNeo4jAppContext",value:function(e){var t=a.default.flatMap(e.projects,function(e){return e.graphs}).find(function(e){return"ACTIVE"===e.status});if(t){var n=t.connection.configuration.protocols.bolt;return{id:t.id,name:t.name,boltPort:n.port,hostname:n.host,username:n.username,password:n.password}}return null}},{key:"handleChange",value:function(e){this.context=e;var t=this.getActiveDBFromNeo4jAppContext(e),n="online";t&&this.currentActiveDB&&t.id!=this.currentActiveDB.id?(n="new",this.currentActiveDB=t):t&&!this.currentActiveDB?(n="online",this.currentActiveDB=t):t||(n="offline"),this.handlerContextChange&&this.handlerContextChange(n,this.currentActiveDB)}},{key:"getActiveDB",value:function(){var e=this;return new Promise(function(t,n){if(!e.isUsedNeo4jAppDB)return t(null);neo4jDesktopApi.getContext().then(function(n){t(e.getActiveDBFromNeo4jAppContext(n))}).catch(function(e){t(null)})})}},{key:"bindNeo4jDesktopApi",value:function(){var e=this;this.isUsedNeo4jAppDB&&(neo4jDesktopApi.onContextUpdate(function(t,n,r){console.log(t.type),"GRAPH_INACTIVE"!=t.type&&"GRAPH_ACTIVE"!=t.type||e.handleChange(n)}),neo4jDesktopApi.getContext().then(function(t){e.handleChange(t)}))}},{key:"isInNeo4jApp",get:function(){return window.neo4jDesktopApi}},{key:"isUsedNeo4jAppDB",get:function(){return window.neo4jDesktopApi&&window.neo4jDesktopApi.onContextUpdate}}]),e}();t.default=l,t.Neo4jAppURLQuery=u,t.Neo4jAppURL="/p/Neo4jDesktop/default?neo4jDesktopGraphAppRootPath=&neo4jDesktopGraphAppId=GraphXR",t.Neo4jApp=l,t.Neo4jAppEventTypes={new:"new",online:"online",offline:"offline"}},,,,,,,,,,,,function(e,t,n){(e.exports=n(250)()).push([e.i,"/* BASICS */\n\n.CodeMirror {\n  /* Set height, width, borders, and global font properties here */\n  font-family: monospace;\n  height: 300px;\n  color: black;\n  direction: ltr;\n}\n\n/* PADDING */\n\n.CodeMirror-lines {\n  padding: 4px 0; /* Vertical padding around content */\n}\n.CodeMirror pre {\n  padding: 0 4px; /* Horizontal padding of content */\n}\n\n.CodeMirror-scrollbar-filler, .CodeMirror-gutter-filler {\n  background-color: white; /* The little square between H and V scrollbars */\n}\n\n/* GUTTER */\n\n.CodeMirror-gutters {\n  border-right: 1px solid #ddd;\n  background-color: #f7f7f7;\n  white-space: nowrap;\n}\n.CodeMirror-linenumbers {}\n.CodeMirror-linenumber {\n  padding: 0 3px 0 5px;\n  min-width: 20px;\n  text-align: right;\n  color: #999;\n  white-space: nowrap;\n}\n\n.CodeMirror-guttermarker { color: black; }\n.CodeMirror-guttermarker-subtle { color: #999; }\n\n/* CURSOR */\n\n.CodeMirror-cursor {\n  border-left: 1px solid black;\n  border-right: none;\n  width: 0;\n}\n/* Shown when moving in bi-directional text */\n.CodeMirror div.CodeMirror-secondarycursor {\n  border-left: 1px solid silver;\n}\n.cm-fat-cursor .CodeMirror-cursor {\n  width: auto;\n  border: 0 !important;\n  background: #7e7;\n}\n.cm-fat-cursor div.CodeMirror-cursors {\n  z-index: 1;\n}\n.cm-fat-cursor-mark {\n  background-color: rgba(20, 255, 20, 0.5);\n  -webkit-animation: blink 1.06s steps(1) infinite;\n  -moz-animation: blink 1.06s steps(1) infinite;\n  animation: blink 1.06s steps(1) infinite;\n}\n.cm-animate-fat-cursor {\n  width: auto;\n  border: 0;\n  -webkit-animation: blink 1.06s steps(1) infinite;\n  -moz-animation: blink 1.06s steps(1) infinite;\n  animation: blink 1.06s steps(1) infinite;\n  background-color: #7e7;\n}\n@-moz-keyframes blink {\n  0% {}\n  50% { background-color: transparent; }\n  100% {}\n}\n@-webkit-keyframes blink {\n  0% {}\n  50% { background-color: transparent; }\n  100% {}\n}\n@keyframes blink {\n  0% {}\n  50% { background-color: transparent; }\n  100% {}\n}\n\n/* Can style cursor different in overwrite (non-insert) mode */\n.CodeMirror-overwrite .CodeMirror-cursor {}\n\n.cm-tab { display: inline-block; text-decoration: inherit; }\n\n.CodeMirror-rulers {\n  position: absolute;\n  left: 0; right: 0; top: -50px; bottom: -20px;\n  overflow: hidden;\n}\n.CodeMirror-ruler {\n  border-left: 1px solid #ccc;\n  top: 0; bottom: 0;\n  position: absolute;\n}\n\n/* DEFAULT THEME */\n\n.cm-s-default .cm-header {color: blue;}\n.cm-s-default .cm-quote {color: #090;}\n.cm-negative {color: #d44;}\n.cm-positive {color: #292;}\n.cm-header, .cm-strong {font-weight: bold;}\n.cm-em {font-style: italic;}\n.cm-link {text-decoration: underline;}\n.cm-strikethrough {text-decoration: line-through;}\n\n.cm-s-default .cm-keyword {color: #708;}\n.cm-s-default .cm-atom {color: #219;}\n.cm-s-default .cm-number {color: #164;}\n.cm-s-default .cm-def {color: #00f;}\n.cm-s-default .cm-variable,\n.cm-s-default .cm-punctuation,\n.cm-s-default .cm-property,\n.cm-s-default .cm-operator {}\n.cm-s-default .cm-variable-2 {color: #05a;}\n.cm-s-default .cm-variable-3, .cm-s-default .cm-type {color: #085;}\n.cm-s-default .cm-comment {color: #a50;}\n.cm-s-default .cm-string {color: #a11;}\n.cm-s-default .cm-string-2 {color: #f50;}\n.cm-s-default .cm-meta {color: #555;}\n.cm-s-default .cm-qualifier {color: #555;}\n.cm-s-default .cm-builtin {color: #30a;}\n.cm-s-default .cm-bracket {color: #997;}\n.cm-s-default .cm-tag {color: #170;}\n.cm-s-default .cm-attribute {color: #00c;}\n.cm-s-default .cm-hr {color: #999;}\n.cm-s-default .cm-link {color: #00c;}\n\n.cm-s-default .cm-error {color: #f00;}\n.cm-invalidchar {color: #f00;}\n\n.CodeMirror-composing { border-bottom: 2px solid; }\n\n/* Default styles for common addons */\n\ndiv.CodeMirror span.CodeMirror-matchingbracket {color: #0b0;}\ndiv.CodeMirror span.CodeMirror-nonmatchingbracket {color: #a22;}\n.CodeMirror-matchingtag { background: rgba(255, 150, 0, .3); }\n.CodeMirror-activeline-background {background: #e8f2ff;}\n\n/* STOP */\n\n/* The rest of this file contains styles related to the mechanics of\n   the editor. You probably shouldn't touch them. */\n\n.CodeMirror {\n  position: relative;\n  overflow: hidden;\n  background: white;\n}\n\n.CodeMirror-scroll {\n  overflow: scroll !important; /* Things will break if this is overridden */\n  /* 30px is the magic margin used to hide the element's real scrollbars */\n  /* See overflow: hidden in .CodeMirror */\n  margin-bottom: -30px; margin-right: -30px;\n  padding-bottom: 30px;\n  height: 100%;\n  outline: none; /* Prevent dragging from highlighting the element */\n  position: relative;\n}\n.CodeMirror-sizer {\n  position: relative;\n  border-right: 30px solid transparent;\n}\n\n/* The fake, visible scrollbars. Used to force redraw during scrolling\n   before actual scrolling happens, thus preventing shaking and\n   flickering artifacts. */\n.CodeMirror-vscrollbar, .CodeMirror-hscrollbar, .CodeMirror-scrollbar-filler, .CodeMirror-gutter-filler {\n  position: absolute;\n  z-index: 6;\n  display: none;\n}\n.CodeMirror-vscrollbar {\n  right: 0; top: 0;\n  overflow-x: hidden;\n  overflow-y: scroll;\n}\n.CodeMirror-hscrollbar {\n  bottom: 0; left: 0;\n  overflow-y: hidden;\n  overflow-x: scroll;\n}\n.CodeMirror-scrollbar-filler {\n  right: 0; bottom: 0;\n}\n.CodeMirror-gutter-filler {\n  left: 0; bottom: 0;\n}\n\n.CodeMirror-gutters {\n  position: absolute; left: 0; top: 0;\n  min-height: 100%;\n  z-index: 3;\n}\n.CodeMirror-gutter {\n  white-space: normal;\n  height: 100%;\n  display: inline-block;\n  vertical-align: top;\n  margin-bottom: -30px;\n}\n.CodeMirror-gutter-wrapper {\n  position: absolute;\n  z-index: 4;\n  background: none !important;\n  border: none !important;\n}\n.CodeMirror-gutter-background {\n  position: absolute;\n  top: 0; bottom: 0;\n  z-index: 4;\n}\n.CodeMirror-gutter-elt {\n  position: absolute;\n  cursor: default;\n  z-index: 4;\n}\n.CodeMirror-gutter-wrapper ::selection { background-color: transparent }\n.CodeMirror-gutter-wrapper ::-moz-selection { background-color: transparent }\n\n.CodeMirror-lines {\n  cursor: text;\n  min-height: 1px; /* prevents collapsing before first draw */\n}\n.CodeMirror pre {\n  /* Reset some styles that the rest of the page might have set */\n  -moz-border-radius: 0; -webkit-border-radius: 0; border-radius: 0;\n  border-width: 0;\n  background: transparent;\n  font-family: inherit;\n  font-size: inherit;\n  margin: 0;\n  white-space: pre;\n  word-wrap: normal;\n  line-height: inherit;\n  color: inherit;\n  z-index: 2;\n  position: relative;\n  overflow: visible;\n  -webkit-tap-highlight-color: transparent;\n  -webkit-font-variant-ligatures: contextual;\n  font-variant-ligatures: contextual;\n}\n.CodeMirror-wrap pre {\n  word-wrap: break-word;\n  white-space: pre-wrap;\n  word-break: normal;\n}\n\n.CodeMirror-linebackground {\n  position: absolute;\n  left: 0; right: 0; top: 0; bottom: 0;\n  z-index: 0;\n}\n\n.CodeMirror-linewidget {\n  position: relative;\n  z-index: 2;\n  padding: 0.1px; /* Force widget margins to stay inside of the container */\n}\n\n.CodeMirror-widget {}\n\n.CodeMirror-rtl pre { direction: rtl; }\n\n.CodeMirror-code {\n  outline: none;\n}\n\n/* Force content-box sizing for the elements where we expect it */\n.CodeMirror-scroll,\n.CodeMirror-sizer,\n.CodeMirror-gutter,\n.CodeMirror-gutters,\n.CodeMirror-linenumber {\n  -moz-box-sizing: content-box;\n  box-sizing: content-box;\n}\n\n.CodeMirror-measure {\n  position: absolute;\n  width: 100%;\n  height: 0;\n  overflow: hidden;\n  visibility: hidden;\n}\n\n.CodeMirror-cursor {\n  position: absolute;\n  pointer-events: none;\n}\n.CodeMirror-measure pre { position: static; }\n\ndiv.CodeMirror-cursors {\n  visibility: hidden;\n  position: relative;\n  z-index: 3;\n}\ndiv.CodeMirror-dragcursors {\n  visibility: visible;\n}\n\n.CodeMirror-focused div.CodeMirror-cursors {\n  visibility: visible;\n}\n\n.CodeMirror-selected { background: #d9d9d9; }\n.CodeMirror-focused .CodeMirror-selected { background: #d7d4f0; }\n.CodeMirror-crosshair { cursor: crosshair; }\n.CodeMirror-line::selection, .CodeMirror-line > span::selection, .CodeMirror-line > span > span::selection { background: #d7d4f0; }\n.CodeMirror-line::-moz-selection, .CodeMirror-line > span::-moz-selection, .CodeMirror-line > span > span::-moz-selection { background: #d7d4f0; }\n\n.cm-searching {\n  background-color: #ffa;\n  background-color: rgba(255, 255, 0, .4);\n}\n\n/* Used to force a border model for a node */\n.cm-force-border { padding-right: .1px; }\n\n@media print {\n  /* Hide the cursor when printing */\n  .CodeMirror div.CodeMirror-cursors {\n    visibility: hidden;\n  }\n}\n\n/* See issue #2901 */\n.cm-tab-wrap-hack:after { content: ''; }\n\n/* Help users use markselection to safely style text background */\nspan.CodeMirror-selectedtext { background: none; }\n",""])},,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1088);t.CSVToGraph=r.CSVToGraph;var i=n(1736);t.GraphTransform=i.GraphTransform;const o=n(1737);t.SchemaDiagram=o.default;const a=n(1767);t.schemas=a.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=a(n(44)),o=a(n(47));function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t,n){document.getElementsByClassName(e)[0]?document.getElementsByClassName(e)[0].style[t]=n:console.warn("Can't found the dom element with classname "+e)}function u(e){document.getElementsByClassName(e)[0]?document.getElementsByClassName(e)[0].click():console.warn("Can't found the dom element with classname "+e)}var l=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.infoPanel=function(){},this.intervalList=[],this.intervalMove=null,this.intervalRotate=null,this.intervalBackward=null,this.QUICK_START_NIH={id:"quick_start_NIH",steps:[{title:"Welcome to GraphXR",content:" When you enter GraphXR, your <strong>workspace</strong> will be empty. Let's perform a <strong>keyword search</strong>.",target:".tour-keyword-search-input",placement:"bottom",xOffset:250,yOffset:-15,arrowOffset:-1110},{title:"KeyWord Search",content:"Type a search term and hit enter. The results are <strong>grouped</strong> according to <strong>label</strong>. For example, let's input '"+o.default.neo4jBaseInfo.searchKey+"'.",target:".tour-keyword-search-input",placement:"bottom",onShow:function(){s("tour-keyword-search-input","border","3px solid #2E8B57"),document.getElementsByClassName("tour-input-data")[0].value=o.default.neo4jBaseInfo.searchKey,$(".tour-input-data").trigger("tour-input-data-change",[o.default.neo4jBaseInfo.searchKey])},onNext:function(){s("tour-keyword-search-input","border","none")}},{title:"KeyWord Search",content:"Expand any label for detailed results. Large numbers of results will be spread across multiple pages.",target:".tour-main-label",placement:"bottom",onShow:function(){},onNext:function(){},onPrev:function(){}},{title:"KeyWord Search",content:" Click a node description to pull in that result. To pull in all results for one label, click the <i class='fa fa-plus'></i> icon.",target:".tour-title-sign",placement:"right",xOffset:0,yOffset:-25,onShow:function(){u("tour-title-sign")},onNext:function(){}},{title:"KeyWord Search",content:" Keyword search defaults to <strong>Search from DB</strong> <i class='iconfont icon-database'></i> mode. This queries the entire data set.",target:".tour-switch-button",placement:"bottom",xOffset:-25,yOffset:-5,onShow:function(){},onNext:function(){u("tour-switch-button")}},{title:"KeyWord Search",content:" Click here to toggle <strong>Search from Graph</strong> <i class='iconfont icon-node'></i>  mode. This restricts the search to nodes currently loaded in the graph.",target:".tour-switch-button",placement:"bottom",xOffset:-25,yOffset:-5,onShow:function(){},onNext:function(){}},{title:"Navigation",content:"\n                        To navigate in GraphXR,\n                        <li>Hold down <strong>Left mouse drag to pan</strong> left, right, up, and down.</li>\n                        <li>Hold down <strong>Right mouse drag to orbit</strong>.</li>\n                        <li>Hold down <strong>Mousewheel scroll to zoom</strong> in or out.</li>\n                    ",target:".tour-tool-icons",placement:"left",xOffset:0,yOffset:-95,arrowOffset:110,onShow:function(){s("nav-tool","backgroundColor","rgb(46,139,87,0.4)"),_app.controller.drawing.nodeCloud.graph.nodes[0]&&_app.controller.drawing.nodeCloud.graph.nodes[0].id&&i.default.selectTypes.new?i.default.selectWithNodeIds([_app.controller.drawing.nodeCloud.graph.nodes[0].id],i.default.selectTypes.new):t.stop()}},{title:"Node Actions",content:'\n                        Hover the cursor over a node to preview information about it. Left click to select a node. Shift + Left mouse drag to select multiple nodes."   \n                        ',xOffset:-240,yOffset:-270,arrowOffset:-11e3,target:".tour-tool-icons",placement:"top",onShow:function(){s("nav-tool","backgroundColor",""),i.default.selectWithNodeIds([_app.controller.drawing.nodeCloud.graph.nodes[0].id],i.default.selectTypes.new)},onNext:function(){}},{title:"Node Actions",content:"\n                        Select all nodes with <strong>ctrl+a<strong>. Clear your selection by double clicking in empty space.\n                        ",xOffset:-240,yOffset:-270,arrowOffset:-11e3,target:".tour-tool-icons",placement:"top",onNext:function(){s("selected-nodes-tools-tour","backgroundColor","rgb(6, 214, 160)"),s("selected-nodes-tools-tour","color","#fff"),i.default.selectWithNodeIds([_app.controller.drawing.nodeCloud.graph.nodes[0].id],i.default.selectTypes.new)}},{title:"Node Actions",content:'\n                            Interact with nodes using the context menu.\n                            <li><i class="iconfont icon-clean"></i>&nbsp;&nbsp;&nbsp;Removes all nodes.</li>    \n                            <li><i class="iconfont icon-leaf-trimming"></i>&nbsp;&nbsp;&nbsp;Hide or reveal nodes with a single connection.</li>    \n                            <li><i class="iconfont icon-pin"></i>&nbsp;&nbsp;&nbsp;Pin or unpin the selected nodes.</li>    \n                            <li><i class="iconfont icon-inverse"></i>&nbsp;&nbsp;&nbsp;Invert the current selection.</li>    \n                            <li><i class="iconfont icon-expand"></i>&nbsp;&nbsp;&nbsp;Pull in nodes connected to the current selection.</li>    \n                            <li><i class="iconfont icon-delete"></i>&nbsp;&nbsp;&nbsp;Delete the selected nodes.</li>    \n                            <li><i class="iconfont icon-fly-to"></i>&nbsp;&nbsp;&nbsp;Fly to the selected node.</li>    \n                            <li><i class="iconfont icon-tag"></i>&nbsp;&nbsp;&nbsp;Tag the selected nodes.</li>    \n                            <li><i class="iconfont icon-trace-neighbor"></i>&nbsp;&nbsp;&nbsp;Trace one degree of connections from the current selection.</li>    \n                            <li><i class="iconfont icon-info"></i>&nbsp;&nbsp;&nbsp;Display the selected node\'s information.</li>    \n                            <li><i class="iconfont icon-annotate"></i>&nbsp;&nbsp;&nbsp;Annotate the selection with a remark node.</li>    \n                        ',xOffset:140,yOffset:0,target:".selected-nodes-tools-tour",placement:"top",onNext:function(){s("selected-nodes-tools-tour","backgroundColor",""),i.default.selectWithNodeIds([_app.controller.drawing.nodeCloud.graph.nodes[0].id],i.default.selectTypes.new)}},{title:"Node Actions",content:"\n                        Left mouse drag a node to move it. Once you drag a node it becomes pinned in place.\n                        ",target:".tour-icon-pin",placement:"top",yOffset:-5,xOffset:-125,arrowOffset:114,onShow:function(){}},{title:"Tagging",content:"\n                        You can add the current selection to an existing tag by clicking its name, or remove them by clicking <strong>Clear Tags</strong>.\n                        ",target:".tour-icon-clean",placement:"top",yOffset:-5,xOffset:-100,arrowOffset:90,onShow:function(){},onNext:function(){i.default.selectWithNodeIds([_app.controller.drawing.nodeCloud.graph.nodes[0].id],i.default.selectTypes.new)}},{title:"Tagging",content:"\n                        Click the Tag Tab in the Legend to display your tags. You can  click the dot next to a tag's name to change its color.\n                        ",target:".tour-icon-tag",placement:"top",yOffset:-5,xOffset:-125,arrowOffset:115,onShow:function(){},onNext:function(){i.default.selectWithNodeIds([_app.controller.drawing.nodeCloud.graph.nodes[0].id],i.default.selectTypes.new)}},{title:"Legend ",content:"\n                        This concludes the <strong>Bioinformatics and Computational Biosciences Portal </strong> tutorial. To learn more about <strong>GraphXR</strong>, visit www.graphxr.com.\n                        ",target:".parallelogram-tour-3",placement:"bottom",yOffset:150,xOffset:-350,arrowOffset:11100,onShow:function(){i.default.selectWithNodeIds([_app.controller.drawing.nodeCloud.graph.nodes[0].id],i.default.selectTypes.new)},onNext:function(){}}],showPrevButton:!0,onEnd:function(){s("press-left-tour","color","#bbb"),s("press-rotate-left-tour","color","#bbb"),s("press-backward-tour","color","#bbb"),s("CodeMirror-scroll","backgroundColor",""),s("tour-keyword-search-input","border","none"),s("nav-tool","backgroundColor",""),s("selected-nodes-tools-tour","backgroundColor",""),s("press-left-tour","color","#bbb"),s("press-rotate-left-tour","color","#bbb"),s("press-backward-tour","color","#bbb"),s("selected-nodes-tools-tour","color","#bbb")},onClose:function(){s("press-left-tour","color","#bbb"),s("press-rotate-left-tour","color","#bbb"),s("press-backward-tour","color","#bbb"),s("CodeMirror-scroll","backgroundColor",""),s("tour-keyword-search-input","border","none"),s("nav-tool","backgroundColor",""),s("selected-nodes-tools-tour","backgroundColor",""),s("press-left-tour","color","#bbb"),s("press-rotate-left-tour","color","#bbb"),s("press-backward-tour","color","#bbb"),s("selected-nodes-tools-tour","color","#bbb")}},this.QUICK_START={id:"quick_start",steps:[{title:"Welcome to GraphXR",content:"Welcome to the  <strong>Bioinformatics and Computational Biosciences Portal </strong>, powered by  <strong>GraphXR </strong>.",target:".tour-keyword-search-input",placement:"bottom",xOffset:250,yOffset:-15,arrowOffset:-1110},{title:"KeyWord Search",content:" When you start a project in GraphXR, your <strong>workspace</strong> will be empty. Let's pull in some data with <strong>keyword search</strong>.",target:".tour-keyword-search-input",placement:"bottom",xOffset:-5,yOffset:-15,onShow:function(){s("tour-keyword-search-input","border","3px solid #2E8B57")}},{title:"KeyWord Search",content:" <strong>Keyword search</strong> is the simplest way to find content in the database.",target:".tour-keyword-search-input",placement:"bottom",onShow:function(){s("tour-keyword-search-input","border","3px solid #2E8B57"),$(".tour-searching-database").trigger("tour-searching-database-change",["a"])},onNext:function(){s("tour-keyword-search-input","border","none")}},{title:"KeyWord Search",content:" Type a search term and hit enter. The results are <strong>grouped</strong> according to <strong>label</strong>. For example, let's input 's'.",target:".tour-keyword-search-input",placement:"bottom",onShow:function(){$(".tour-input-data").trigger("tour-input-data-change",["s"])},onNext:function(){}},{title:"KeyWord Search",content:" Expand any label for detailed results. Large numbers of results will be spread across multiple pages.",target:".tour-main-label",placement:"bottom",onShow:function(){},onNext:function(){}},{title:"KeyWord Search",content:" Click a node description to pull in that result. To pull in all results for one label, click the <i class='fa fa-plus'></i> icon.",target:".tour-title-sign",placement:"right",xOffset:0,yOffset:-25,onShow:function(){u("tour-title-sign")},onNext:function(){}},{title:"KeyWord Search",content:" Keyword search defaults to <strong>Search from DB</strong> <i class='iconfont icon-database'></i> mode. This queries the entire data set.",target:".tour-switch-button",placement:"bottom",xOffset:-25,yOffset:-5,onShow:function(){},onNext:function(){u("tour-switch-button")}},{title:"KeyWord Search",content:" Click here to toggle <strong>Search from Graph</strong> <i class='iconfont icon-node'></i>  mode. This restricts the search to nodes currently loaded in the graph.",target:".tour-switch-button",placement:"bottom",xOffset:-25,yOffset:-5,onShow:function(){},onNext:function(){}},{title:"Navigation",content:"\n                        To navigate in GraphXR,\n                        <li>Hold down <strong>Left mouse drag to pan</strong> left, right, up, and down.</li>\n                        <li>Hold down <strong>Mousewheel scroll to zoom</strong> in or out.</li>\n                        <li>Hold down <strong>Right mouse drag to orbit</strong>.</li>\n                    ",target:".tour-tool-icons",placement:"left",xOffset:0,yOffset:-95,arrowOffset:110,onShow:function(){s("nav-tool","backgroundColor","rgb(46,139,87,0.4)")}},{title:"Node Actions",content:'\n                        Hover the cursor over a node to preview information about it. Left click to select a node. Shift + Left mouse drag to select multiple nodes."   \n                        ',xOffset:240,yOffset:-270,arrowOffset:-11e3,target:".selected-nodes-tools-tour",placement:"top",onShow:function(){t.intervalList.forEach(function(e){clearInterval(e)})},onNext:function(){}},{title:"Node Actions",content:"\n                        Select all nodes with <strong>ctrl+a<strong>. Clear your selection by double clicking in empty space.\n                        ",xOffset:240,yOffset:-270,arrowOffset:-11e3,target:".selected-nodes-tools-tour",placement:"top",onNext:function(){s("selected-nodes-tools-tour","backgroundColor","rgb(6, 214, 160)"),s("selected-nodes-tools-tour","color","#fff")}},{title:"Node Actions",content:'\n                            Interact with nodes using the context menu.\n                            <li><i class="iconfont icon-clean"></i>Removes all nodes.</li>    \n                            <li><i class="iconfont icon-leaf-trimming"></i>Hide or reveal nodes with a single connection.</li>    \n                            <li><i class="iconfont icon-pin"></i>Pin or unpin the selected nodes.</li>    \n                            <li><i class="iconfont icon-inverse"></i>Invert the current selection.</li>    \n                            <li><i class="iconfont icon-expand"></i>Pull in nodes connected to the current selection.</li>    \n                            <li><i class="iconfont icon-delete"></i>Delete the selected nodes.</li>    \n                            <li><i class="iconfont icon-fly-to"></i>Fly to the selected node.</li>    \n                            <li><i class="iconfont icon-tag"></i>Tag the selected nodes.</li>    \n                            <li><i class="iconfont icon-trace-neighbor"></i>Trace one degree of connections from the current selection.</li>    \n                            <li><i class="iconfont icon-info"></i>Display the selected node\'s information.</li>    \n                            <li><i class="iconfont icon-annotate"></i>Annotate the selection with a remark node.</li>    \n                        ',xOffset:140,yOffset:0,target:".selected-nodes-tools-tour",placement:"top",onNext:function(){s("selected-nodes-tools-tour","backgroundColor","")}},{title:"Node Actions",content:"\n                        Left mouse drag a node to move it. Once you drag a node it becomes pinned in place.\n                        ",target:".tour-icon-pin",placement:"top",yOffset:-5,xOffset:-25,onShow:function(){}},{title:"Tagging",content:"\n                        You can add the current selection to an existing tag by clicking its name, or remove them by clicking <strong>Clear Tags<strong>.\n                        ",target:".tour-icon-clean",placement:"top",yOffset:-5,xOffset:-100,arrowOffset:-200,onShow:function(){},onNext:function(){}},{title:"Tagging",content:"\n                        Click the Tag Tab in the Legend to display your tags. You can  click the dot next to a tag's name to change its color.\n                        ",target:".tour-icon-tag",placement:"top",yOffset:-5,xOffset:-125,arrowOffset:115,onShow:function(){},onNext:function(){}},{title:"Legend ",content:"\n                        This concludes the <strong>Bioinformatics and Computational Biosciences Portal </strong> tutorial. To learn more about <strong>GraphXR</strong>, visit www.graphxr.com.\n                        ",target:".parallelogram-tour-3",placement:"bottom",yOffset:150,xOffset:-350,arrowOffset:11100,onShow:function(){},onNext:function(){}}],onEnd:function(){t.intervalList.forEach(function(e){clearInterval(e)}),s("press-left-tour","color","#bbb"),s("press-rotate-left-tour","color","#bbb"),s("press-backward-tour","color","#bbb"),s("CodeMirror-scroll","backgroundColor",""),s("tour-keyword-search-input","border","none"),s("nav-tool","backgroundColor",""),s("selected-nodes-tools-tour","backgroundColor",""),s("press-left-tour","color","#bbb"),s("press-rotate-left-tour","color","#bbb"),s("press-backward-tour","color","#bbb"),s("selected-nodes-tools-tour","color","#bbb")},onClose:function(){t.intervalList.forEach(function(e){clearInterval(e)}),s("press-left-tour","color","#bbb"),s("press-rotate-left-tour","color","#bbb"),s("press-backward-tour","color","#bbb"),s("CodeMirror-scroll","backgroundColor",""),s("tour-keyword-search-input","border","none"),s("nav-tool","backgroundColor",""),s("selected-nodes-tools-tour","backgroundColor",""),s("press-left-tour","color","#bbb"),s("press-rotate-left-tour","color","#bbb"),s("press-backward-tour","color","#bbb"),s("selected-nodes-tools-tour","color","#bbb")}},this.CREATE_A_PROJECT_DETAIL={id:"create-a-project-detail-tour",steps:[{title:"Connect a project",content:"The first thing you'll see after launching GraphXR is the <strong>Project page</strong>.",target:document.querySelector(".project-tour "),placement:"left",xOffset:320,onShow:function(){},onNext:function(){}},{title:"Connect a project",content:"In GraphXR, a project is a <strong>single environment</strong> for working with one or more data sources.",target:document.querySelector(".project-tour "),placement:"left",xOffset:320,onShow:function(){},onNext:function(){}},{title:"Connect a project",content:"From the project page you can <strong>create</strong> a new project...",target:".tour-action-item-create-operation",placement:"right",yOffset:-20,onShow:function(){},onNext:function(){}},{title:"Connect a project",content:"Open an existing project...",target:".blank-tour",placement:"bottom",yOffset:-20,onShow:function(){},onNext:function(){}},{title:"Connect a project",content:"Click the demo drop down to open the list of available data sets and click the one you're interested in.",target:document.querySelector(".demo-hosts-tour-operation"),placement:"right",yOffset:-20,onShow:function(){u("demo-hosts-tour-operation")},onNext:function(){document.getElementsByClassName("select-hosts-tour")[0]&&document.getElementsByClassName("select-hosts-tour")[0].children&&document.getElementsByClassName("select-hosts-tour")[0].children[0]&&document.getElementsByClassName("select-hosts-tour")[0].children[0].click()}},{delay:1e3,title:"Connect a project",content:"You've now created your first project! Next let's look at how to Connect a project from your own data.",target:document.querySelector(".tour-action-item-create-operation"),placement:"right",yOffset:-20,onShow:function(){},onNext:function(){}},{title:"Connect a project",content:"You can also explore a demo data set.",target:document.querySelector(".tour-action-item-create-operation"),placement:"right",yOffset:-20,onShow:function(){},onNext:function(){}},{title:"Connect a project",content:"If you have data in Neo4j, click create to <strong>connect</strong> to your database. Visit <a target='_blank' href='https://neo4j.com/'>neo4j.com</a> to learn more about Neo4j.",target:document.querySelector(".tour-action-item-create-operation"),placement:"top",yOffset:-10,xOffset:-20,onShow:function(){},onNext:function(){u("tour-action-item-create-icon-operation"),t.restart(t.CREATE_A_PROJECT_DETAIL_TWO)}},{title:"Connect a project",content:"If you have data in Neo4j, click create to <strong>connect</strong> to your database. Visit <a target='_blank' href='https://neo4j.com/'>neo4j.com</a> to learn more about Neo4j.",target:document.querySelector(".tour-action-item-create-icon"),placement:"top",yOffset:-10,xOffset:-20,onShow:function(){},onNext:function(){}}]},this.CREATE_A_PROJECT_DETAIL_TWO={id:"project-detail-tour-two",steps:[{title:"Connect a project",content:"You'll be prompted to enter a name, host, port, username, and password for your Neo4j DB",target:".project-new",placement:"left",yOffset:10,onShow:function(){},onNext:function(){}},{title:"Connect a project",content:"You can also choose whether to connect directly from your browser, or through the GraphXR server",target:".project-new",placement:"right",xOffset:-120,yOffset:530,onShow:function(){},onNext:function(){}},{title:"Connect a project",content:"We recommend direct connection for maximum security. This requires Https to be enabled in Neo4j.",target:".project-new",placement:"right",xOffset:-120,yOffset:530,onShow:function(){},onNext:function(){}},{title:"Connect a project",content:"If you wish to share your project, select GraphXR server connection.",target:".project-new",placement:"right",xOffset:-120,yOffset:530,onShow:function(){},onNext:function(){}},{title:"Connect a project",content:"Click confirm to create your project.",target:".project-new",placement:"right",xOffset:-90,yOffset:610,onShow:function(){},onNext:function(){u("project-add-confirm-tour"),setTimeout(function(){t.restart(t.CREATE_A_PROJECT_DETAIL_THREE)},1e3)}},{title:"Connect a project",content:"Click confirm to create your project.",target:".project-new",placement:"right",xOffset:-430,yOffset:640,onShow:function(){},onNext:function(){}}]},this.CREATE_A_PROJECT_DETAIL_THREE={id:"project-detail-tour-three",steps:[{title:"Connect a project",content:"Generate a link to share a project...",target:".share-btn-tour",placement:"bottom",yOffset:0,xOffset:-20,onShow:function(){},onNext:function(){}},{title:"Connect a project",content:"...or <strong>delete</strong> an old project.",target:".delete-action-tour",placement:"right",yOffset:-20,onShow:function(){},onNext:function(){}},{title:"Connect a project",content:"You can also begin working in a blank project. This is useful if you have data to import from another source.",target:".blank-tour",placement:"right",yOffset:-20,onShow:function(){},onNext:function(){}},{title:"Connect a project",content:"We'll return to compatible formats in a later tutorial on Importing and Exporting data.",target:".blank-tour",placement:"right",yOffset:-20,onShow:function(){},onNext:function(){}},{title:"Connect a project",content:"For now, let's Connect a project from the VC Investment 2004-2013 demo data and click Start.",target:".blank-tour",placement:"right",yOffset:-20,arrowOffset:11100,onShow:function(){},onNext:function(){}}]},this.CREATE_A_PROJECT_DETAIL_FOUR={id:"project-detail-tour-four",steps:[{title:"Connect a project",content:"For now, let's Connect a project from the VC Investment 2004-2013 demo data and click Start.",target:".blank-tour",placement:"right",yOffset:-20,xOffset:300,arrowOffset:11100,onShow:function(){},onNext:function(){}}]},this.CREATE_A_PROJECT={id:"create-a-project-tour",steps:[{title:"Connect a project",content:"<li>The first thing you'll see after logging into GraphXR is the <strong>Project page</strong>.</li><li>Here you can explore a <strong>demo data</strong> set, create a <strong>new project</strong>, or <strong>open</strong> an existing one.</li>",target:".tour-dropdown-toggle",placement:"right",multipage:!0,yOffset:-10,onShow:function(){},onNext:function(){window.location.href="/projects"}},{title:"Button",content:"To see demo data, click the demo drop down and select one from the menu.",target:document.querySelector(".query-group"),placement:"top",onShow:function(){setTimeout(function(){u("demo-hosts-tour")},1e3)},onNext:function(){}}]},this.PROJECT={id:"project-tour",steps:[{title:"Demo",content:"<li>To see demo data, click the demo drop down and select one from the menu.</li><li>To launch it, click <strong>start</strong>.</li>",target:document.querySelector("#select-demo-hosts"),placement:"top",onShow:function(){setTimeout(function(){u("demo-hosts-tour")},1e3)},onNext:function(){}},{title:"Create Neo4j",content:"<li>To start a project from a <strong>Neo4j</strong> database, click <strong>create</strong>&nbsp<i class='fa fa-plus-circle'></i>.</li><li>Enter the credentials for the Neo4j database into the <strong>Add Project Info</strong> dialogue. Visit <a target='_blank' href='https://neo4j.com/'>neo4j.com</a> to learn more.</li><li>After connecting to the database, return to the project page and click <strong>start</strong> to launch.</li>",target:".tour-action-item-create",placement:"bottom"}]},this.CYPHER_QUERIES_DETAIL={id:"cypher-queries-detail-tour",steps:[{title:"Cypher Queries",content:"Users familiar with <strong>Neo4j</strong> can use the <strong>Cypher</strong> window to enter queries and commands. Learn more at <a target='_blank' href='https://neo4j.com/'>neo4j.com</a>.",target:".CodeMirror-scroll",placement:"bottom",xOffset:10,yOffset:-40,onShow:function(){s("CodeMirror-scroll","backgroundColor","#2E8B57")},onNext:function(){s("CodeMirror-scroll","backgroundColor","")}},{title:"Cypher Queries",content:"Click <strong>play</strong> to execute the query. Store a query for re-use by clicking the <i class='fa fa-plus-circle'></i> icon.",target:".tour-plus",placement:"bottom",xOffset:-20,yOffset:-10,onNext:function(){}},{title:"Cypher Queries",content:"Retrieve queries with the <strong>drop down</strong> <i class='fa fa-chevron-circle-down'></i>. All projects are created with a default query to pull the first 100 nodes.",target:".tour-drop-down",placement:"bottom",xOffset:-20,yOffset:-10,onNext:function(){u("tour-drop-down")}},{title:"Cypher Queries",content:"The demo projects include additional <strong>pre-defined queries</strong> accessible via the drop down.",target:".tour-dropdown-items",placement:"right",xOffset:-20,yOffset:-10,onNext:function(){u("tour-drop-down")}},{title:"Cypher Queries",content:"Check <strong>Load Inner Relationship</strong> to display the relationships between nodes pulled by a query.",target:".tour-inner-relationship",placement:"bottom",xOffset:-20,yOffset:-10,onNext:function(){}}],onClose:function(){s("CodeMirror-scroll","backgroundColor","")}},this.DATA_NAVIGATED={id:"gui-navigated-tour",steps:[{title:"Gui navigated",content:"The icons moves the data as follows:<li><strong>Pan</strong> left, right, up, and down.</li><li><strong>Rotate</strong> left and right.</li><li><strong>Zoom</strong> in or out.</li><li><strong>Zoom</strong> in on a single node by selecting it and clicking the <strong>Fly To</strong> button in the context menu.</li><li>Zoom extents to show all nodes.</li>",target:".tour-tool-icons",placement:"left",onShow:function(){s("nav-tool","backgroundColor","rgb(46,139,87,0.4)")}},{title:"Keyboard + mouse",content:"Once the GraphXR interface becomes, the mouse and keyboard are the fastest way to get around:<li>Hold down <strong>1+Left mouse button drag to pan</strong> left, right, up, and down.</li> <li>Hold down <strong>2+Left mouse button drag to rotate</strong>.</li> <li>Hold down <strong>3+Left mouse button drag to zoom</strong> in or out.</li>",target:".tour-tool-icons",placement:"left"},{title:"Keyboard only",content:"Navigation is also possible with the keyboard alone<li>Use the <strong>arrow keys</strong> to pan left, right, up, and down.</li><li>Tap <strong>shift+O</strong> to enter and exit turntable mode. Hold down <strong>shift</strong> to speed up rotation.</li>",target:".tour-tool-icons",placement:"left"}],onEnd:function(){s("nav-tool","backgroundColor","")},onClose:function(){s("nav-tool","backgroundColor","")}},this.PULLING_DATA={id:"keyword-search-tour",steps:[{title:"KeyWord Search",content:"<strong>Keyword search</strong> is the simplest way to find content in the database.",target:".tour-keyword-search-input",placement:"bottom",onShow:function(){s("tour-keyword-search-input","border","3px solid #2E8B57"),$(".tour-searching-database").trigger("tour-searching-database-change",["a"])},onNext:function(){s("tour-keyword-search-input","border","none")}},{title:"KeyWord Search",content:"Type a search term and hit enter. The results are <strong>grouped</strong> according to <strong>label</strong>, for example, we input 's'.",target:".tour-keyword-search-input",placement:"bottom",onShow:function(){$(".tour-input-data").trigger("tour-input-data-change",["s"])},onNext:function(){}},{title:"KeyWord Search",content:"Expand any label for detailed results. Large numbers of results will be spread across multiple pages.",target:".tour-main-label",placement:"bottom",onShow:function(){},onNext:function(){}},{title:"KeyWord Search",content:"Click a node description to pull in that result. To pull in all results for one label, click the <i class='fa fa-plus'></i> icon.",target:".tour-title-sign",placement:"right",xOffset:0,yOffset:-25,onShow:function(){},onNext:function(){}},{title:"KeyWord Search",content:"Check <strong>Search from DB</strong> <i class='iconfont icon-database'></i> to query the entire data set.",target:".tour-switch-button",placement:"bottom",xOffset:-25,yOffset:-5,onShow:function(){},onNext:function(){u("tour-switch-button")}},{title:"KeyWord Search",content:"Check <strong>Search from Graph</strong> <i class='iconfont icon-node'></i> to restrict the search to nodes currently loaded in the graph.",target:".tour-switch-button",placement:"bottom",xOffset:-25,yOffset:-5,onShow:function(){},onNext:function(){}},{content:"This is the <strong>Cypher Queries</strong> button.",target:".tour-query",placement:"right",xOffset:-10,yOffset:-10,multipage:!0,onShow:function(){},onNext:function(){u("tour-query"),t.restart(t.CYPHER_QUERIES_DETAIL)}},{title:"Button",content:"This is the header of my page.",target:document.querySelector(".query-group"),placement:"right",multipage:!0,onNext:function(){}}],onClose:function(){s("tour-keyword-search-input","border","none")}},this.DRAG_DROP={id:"drag-drop-tour",steps:[{title:"Drag and Drop",content:"<li>Certain data types can be dragged and dropped directly into GraphXR.</li><li><strong>CSVs</strong> must be formatted and <strong>zipped</strong> according to the procedure covered in the tutorials on working with CSVs.</li><li>Case files exported from <strong>Hunchly</strong> and <strong>Maltego</strong> files in the .mtgx format can also be dragged and dropped into GraphXR.</li><li>Navigate data with mouse, keyboard, or a combination of the two.</li>",target:".tour-import-label",placement:"bottom",yOffset:20,onShow:function(){},onNext:function(){}}],onEnd:function(){}},this.DISPLAY_CONTROLS={id:"display-controls-tour",steps:[{title:"Edge width",content:"In the Project panel, go to the Settings tab to adjust the <strong>width of edges</strong>",target:".tour-kv-range",placement:"bottom",yOffset:-30,xOffset:30,onNext:function(){u("tour-Label"),t.restart(t.DISPLAY_CONTROLS_MIDDLE)}},{title:"Edge width",content:"In the Project panel, go to the Settings tab to adjust the <strong>width of edges</strong>",target:".tour-kv-range",placement:"bottom",yOffset:-30,xOffset:30}],onEnd:function(){}},this.DISPLAY_CONTROLS_MIDDLE={id:"display-controls-tour",steps:[{delay:1e3,title:"Label Color",content:"In the Project panel, go to the <strong>labels tab</strong> and select a label name to control how it's displayed.",target:".tour-kv-button",placement:"bottom",yOffset:0,xOffset:30,onShow:function(){setTimeout(function(){u("tour-label-title")},800)},onNext:function(){}},{title:"Label Color",content:"Click the <strong>color swatch</strong> to select a new color.",target:".tour-label-icon",placement:"bottom",yOffset:0,xOffset:0,onShow:function(){setTimeout(function(){u("tour-label-icon")},800)},onNext:function(){}},{title:"Label Caption",content:"Any text parameter of the label can be selected as a <strong>caption</strong> to appear next to every node",target:".tour-property-caption",placement:"bottom",xOffset:-20,yOffset:-5,onShow:function(){setTimeout(function(){u("tour-label-icon")},1e3)},onNext:function(){}},{title:"Label Exclude",content:"Checking a box in the <strong>SIZE</strong> column enables hides that property from the Inspector windo",target:".tour-property-size",placement:"bottom",xOffset:-20,yOffset:-5,onShow:function(){setTimeout(function(){u("tour-pull-node")},1e3)},onNext:function(){u("tour-pull-node")}},{title:"Label Icon",content:"While in label mode, <strong>assign an icon</strong> to a label by clicking its dot in the legend.",target:".tour-sprite",placement:"bottom",arrowOffset:"275",xOffset:-290,onShow:function(){},onNext:function(){}}],onEnd:function(){u("tour-legend-icon")}},this.PORTRAIT_IMAGE={id:"portrait-image-tour",steps:[{title:"Portrait Image",content:"To display <strong>portrait images</strong>, label data must contain a column named <strong>image_url</strong> containing urls of the desired images",target:".tour-kv-range",placement:"bottom",yOffset:-30,xOffset:30,onShow:function(){},onNext:function(){}}],onEnd:function(){}},this.REMOVING_NODES={id:"delete-tour",steps:[{title:"Delete",content:"<strong>Delete</strong> selected nodes with the delete or backspace keys or the delete icon in the context menu",target:".tour-icon-delete",placement:"top",yOffset:-5,xOffset:-20},{title:"Clean",content:"<strong>Delete</strong> Remove all nodes",target:".tour-icon-clean",placement:"top",arrowOffset:90,yOffset:-5,xOffset:-100},{title:"Leaf trim",content:"<strong>Delete</strong> selected nodes with the delete or backspace keys or the delete icon in the context menu",target:".tour-icon-leaf-trimming",placement:"top",arrowOffset:90,yOffset:-5,xOffset:-100,onShow:function(){setTimeout(function(){u("tour-fa-file"),u("tour-label-title")},1e3)},onNext:function(){}},{title:"Label visibility",content:"<strong>Delete</strong> selected nodes with the delete or backspace keys or the delete icon in the context menu",target:".tour-visible-trigger",placement:"bottom",yOffset:-5,xOffset:-15}],onEnd:function(){}},this.TREE_VIEW={id:"entrt_tree_view_tour",steps:[{title:"Tree View",content:"View a graph as a hierarchy relative to a single node inthe <strong>tree</strong> view.",target:".tour-fa-sitemap",placement:"right",yOffset:-20,onShow:function(){setTimeout(function(){u("tour-fa-sitemap"),u("tour-Tree")},1e3)},onNext:function(){}},{title:"Enter tree view",content:"Under the <strong>Layout</strong> panel, select the Tree tab and click <strong>apply</strong> to enter tree view",target:".tour-tree-kv-button-apply",placement:"bottom",onShow:function(){setTimeout(function(){u("tour-tree-kv-button-apply")},1e3)},onNext:function(){}},{title:"Enter tree view",content:"The <strong>selected node</strong> becomes the root of the hierarchy. Select another node and click apply again to re-orient the tree.",target:".tour-tree-kv-button-apply",placement:"bottom",onShow:function(){},onNext:function(){}},{title:"Exit tree view",content:"Adjust the density of the tree with the <strong>Axis slider</strong>, and click <strong>reset</strong> to exit tree view",target:".tour-tree-kv-button-reset",placement:"bottom",onShow:function(){setTimeout(function(){u("tour-tree-kv-button-rest")},1e3)},onNext:function(){}}],onEnd:function(){}},this.PARAMETRIC_VIEW={id:"parametric_view_tour",steps:[{title:"Enter parametric view",content:"View a graph as a 2 or 3-dimensional scatter plot in the <strong>parametric</strong> view",target:".tour-fa-sitemap",placement:"right",yOffset:-20,onShow:function(){},onNext:function(){}},{title:"Enter parametric view",content:"Under the <strong>Layout</strong> panel, select the Parametric tab",target:".tour-Parametric",placement:"bottom",onShow:function(){setTimeout(function(){u("tour-Parametric")},1e3)},onNext:function(){}},{title:"Enter parametric view",content:"The X, Y, and Z axis can be mapped to any numerical parameter of any label.",target:".tour-axis-name",placement:"bottom",onShow:function(){setTimeout(function(){u("tour-kv-button-parametric-apply")},1e3)},onNext:function(){$(".tour-axis-name").trigger("tour-axis-name-change",["a"])}},{title:"Assigning X, Y, Z",content:"Click the <strong>drop down</strong> to select a parameter. Any axis can be set to <strong>none</strong> to create a 2d or even 1d plot.",target:".tour-axis-name",placement:"bottom",onShow:function(){setTimeout(function(){u("tour-kv-button-parametric-apply")},1e3)},onNext:function(){}},{title:"Recall",content:"Upon clicking apply, the current parameters WILL BE recorded in the plot history for easy recall.",target:".tour-table-bordered",placement:"top",xOffset:50,onShow:function(){},onNext:function(){}},{title:"Exit parametric view",content:"Adjust the density of the plot with the Axis slider",target:".tour-axis-slider-panel",xOffset:100,yOffset:-30,placement:"bottom",onShow:function(){},onNext:function(){}},{title:"Exit parametric view",content:"Click reset to exit parametric view",target:".tour-kv-button-parametric-reset",placement:"bottom",onShow:function(){setTimeout(function(){u("tour-kv-button-parametric-reset")},1e3)},onNext:function(){}}],onEnd:function(){}},this.DATE_AND_TIME={id:"date_and_time_tour",steps:[{title:"Date and Time",content:"<li>The Timeline panel enables filtering and playback by <strong>date and time</strong></li><li>GraphXR requires date and time data to be formatted according to the <strong>W3C standard:</strong> yyyy-mm-ddThh:mm:ss.sTZD.</li><li>Visit <a target='_blank' href='https://www.w3.org/TR/NOTE-datetime'>https://www.w3.org/TR/NOTE-datetime</a> for a detailed explanation of this format.</li>",target:".tour-fa-clock-o",placement:"right",yOffset:-20,onShow:function(){},onNext:function(){}},{title:"Filtering",content:"In the Timeline panel, date and time parameters for <strong>all labels in the graph</strong> are available for filtering and playback",target:".tour-fa-clock-o",placement:"right",yOffset:-20,onShow:function(){setTimeout(function(){u("tour-fa-clock-o")},1e3)},onNext:function(){}},{title:"Filtering",content:"Drag the handles of a timeline to filter by <strong>start and/or end</strong> date and time",target:".tour-time-slider",placement:"bottom",yOffset:0,onShow:function(){},onNext:function(){}},{title:"Fixed Duration",content:"Check the <strong>fixed duration</strong> box to scrub through by an increment defined by the current timeline filter.",target:".tour-fix-duration",placement:"bottom",yOffset:0,onShow:function(){},onNext:function(){}}],onEnd:function(){}},this.GEOSPATIAL={id:"geospatial_tour",steps:[{title:"Geospatial",content:"Visualize nodes with Geospatial data on an <strong>interactive map</strong>",target:".tour-fa-globe",placement:"right",yOffset:-20,onShow:function(){},onNext:function(){}},{title:"Geospatial",content:"<li>GraphXR requires a <strong>lat</strong> column and a <strong>lng</strong> column in degree.decimal format</li><li>For example, lat=37.7749 and lng=-122.4194 for San Francisco</li><li><strong>Positive</strong> values denote North and East, <strong>negative</strong> values denote South and West</li>",target:".tour-fa-globe",placement:"right",yOffset:-20,onShow:function(){setTimeout(function(){u("tour-fa-globe")},1e3)},onNext:function(){}},{title:"Show Map",content:"Click <strong>show map</strong> in the Map panel to automatically drop nodes to their geospatial location",target:".tour-ShowMap",placement:"bottom",onShow:function(){setTimeout(function(){u("tour-ShowMap")},1e3)},onNext:function(){}},{title:"Control map",content:"<li><strong>Control map</strong> enables the map to be panned and zoomed down to street level.</li><li>Left mouse button drag to pan, mouse wheel to zoom.</li>",target:".tour-mapcontrol",placement:"bottom",onShow:function(){},onNext:function(){}},{title:"Hide map",content:"Click <strong>hide map</strong> to return nodes to force layout.",target:".tour-HideMap",placement:"bottom",onShow:function(){setTimeout(function(){u("tour-HideMap")},1e3)},onNext:function(){}}],onEnd:function(){}},this.FILTERING={id:"exit_tree_view_tour",steps:[{title:"Filtering",content:"<li>Data can be filtered by any <strong>numerical parameter</strong> of labels or relationships.</li><li>Within the <strong>Filter panel</strong>, go to the Node Filter or Edge Filter tab.</li>",target:".tour-fa-filter",placement:"right",yOffset:-20,onShow:function(){u("tour-Edge"),setTimeout(function(){u("tour-Edge")},1e3)},onNext:function(){}},{title:"Filtering",content:"Click the <strong>drop down<strong> to select a parameter and drag the handles of the slider to set minimum and maximum values",target:".tour-title-group",placement:"bottom",xOffset:50,onShow:function(){},onNext:function(){}}],onEnd:function(){}},this.RICH_DATA={id:"rich-data-tour",steps:[{title:"Rich Data",content:"GraphXR can display rich and unstructured data including <strong>video, images, pdfs, and webpages</strong>",target:".tour-icon-annotate",placement:"top",xOffset:-20,onShow:function(){setTimeout(function(){u("tour-icon-annotate")},1e3)},onNext:function(){}},{title:"Video",content:"Acceptable <strong>video</strong> formats include <strong>.mp4</strong> and <strong>youtube</strong>. Place video links in a column titled <strong>video_url</strong>",target:".tour-button-group",placement:"bottom",yOffset:-50,onShow:function(){},onNext:function(){}},{title:"Images",content:"Place <strong>image</strong> links in a column <strong>titled image_url</strong>",target:".tour-button-group",placement:"bottom",yOffset:-50,onShow:function(){},onNext:function(){}},{title:"Documents and webpages",content:"Place <strong>PDFs</strong> and <strong>webpages</strong> in a <strong>url</strong> column",target:".tour-button-group",placement:"bottom",yOffset:-50,onShow:function(){},onNext:function(){}},{title:"Display",content:"To display rich data, click the <strong>play</strong> icon in the <strong>context menu</strong>",target:".tour-button-group",placement:"bottom",yOffset:-50,onShow:function(){},onNext:function(){}}],onEnd:function(){}},this.TABLE_VIEW={id:"table-view0tour",steps:[{title:"Exit tree view",content:"<li>The <strong>Table panel</strong> displays the contents of the graph as <strong>rows and columns</strong>.</li><li>This can be handy for <strong>searching or skimming</strong> data.</li>",target:".tour-fa-table",yOffset:-20,placement:"right",onShow:function(){setTimeout(function(){u("tour-fa-table")},1e3)},onNext:function(){}},{title:"Exit tree view",content:"<li>The labels and relationships tabs are broken into separate pages for each label and relationship present in the graph.</li>",target:".tour-Label",placement:"bottom"}],onEnd:function(){}}}return r(e,[{key:"startAll",value:function(e){var t=this;this.stop(),this.infoPanel=e,setTimeout(function(){hopscotch.startTour(t.QUICK_START_NIH)},500)}},{key:"start",value:function(e){var t=this;switch(this.stop(),e){case"Quick Start":hopscotch.startTour(this.QUICK_START_NIH);break;case"ProjectPageCreate":case"project":hopscotch.startTour(this.CREATE_A_PROJECT_DETAIL);break;case"Connect a project":hopscotch.startTour(this.CREATE_A_PROJECT);break;case"Pulling data":hopscotch.startTour(this.PULLING_DATA);break;case"Data navigation":hopscotch.startTour(this.DATA_NAVIGATED);break;case"Display controls":document.getElementsByClassName("tour-fa-file")[0].click(),setTimeout(function(){document.getElementsByClassName("tour-Settings")[0].click(),hopscotch.startTour(t.DISPLAY_CONTROLS)},500);break;case"Removing nodes":setTimeout(function(){hopscotch.startTour(t.REMOVING_NODES)},2e3);break;case"Tree view":hopscotch.startTour(this.TREE_VIEW);break;case"Parametric View":document.getElementsByClassName("tour-fa-sitemap")[0].click(),hopscotch.startTour(this.PARAMETRIC_VIEW);break;case"Date and Time":hopscotch.startTour(this.DATE_AND_TIME);break;case"Geospatial":hopscotch.startTour(this.GEOSPATIAL);break;case"Filtering":hopscotch.startTour(this.FILTERING);break;case"Rich data":hopscotch.startTour(this.RICH_DATA);break;case"Table view":hopscotch.startTour(this.TABLE_VIEW);break;case"Working with CSVs":window.open("http://bit.ly/CSVs_in_GraphXR")}}},{key:"stop",value:function(){hopscotch.endTour()}},{key:"restart",value:function(e){hopscotch.endTour(),setTimeout(function(){hopscotch.startTour(e)},500)}}]),e}();t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(50),o=(r=i)&&r.__esModule?r:{default:r};var a={updateNodeIds:function(e,t){if(t){var n=(e=e||[]).length>0;t.visibleNodes.forEach(function(t){n&&e.indexOf(t.id)<0&&!t.defaultAlpha&&.2!==t.alpha?(t.defaultAlpha=t.alpha,t.alpha=.2,t.image&&(t.alpha=1e-4,t.imageAlpha=.2)):(!n||e.indexOf(t.id)>=0&&t.alpha<1)&&(t.alpha=t.defaultAlpha||1,t.defaultAlpha&&delete t.defaultAlpha,t.image&&(t.alpha=1e-4,t.imageAlpha=1))}),t.visibleEdges.forEach(function(t){var r=e.indexOf(t.targetId)>=0&&e.indexOf(t.sourceId)>=0;!n||r||t.defaultAlpha||.2===t.alpha?(!n||r&&t.alpha<o.default.config.edgeDefaultAlpha)&&(t.alpha=t.defaultAlpha||o.default.config.edgeDefaultAlpha,t.defaultAlpha&&delete t.defaultAlpha):(t.defaultAlpha=t.alpha,t.alpha=.2)})}},apply:function(e){}};t.default=a},function(e,t,n){"use strict";var r=n(38),i=n(642),o=n(645),a=n(646),s=n(328);function u(e){s.call(this,"digest"),this._hash=e}r(u,s),u.prototype._update=function(e){this._hash.update(e)},u.prototype._final=function(){return this._hash.digest()},e.exports=function(e){return"md5"===(e=e.toLowerCase())?new i:"rmd160"===e||"ripemd160"===e?new o:new u(a(e))}},function(e,t,n){e.exports=i;var r=n(549).EventEmitter;function i(){r.call(this)}n(38)(i,r),i.Readable=n(643),i.Writable=n(1801),i.Duplex=n(1802),i.Transform=n(1803),i.PassThrough=n(1804),i.Stream=i,i.prototype.pipe=function(e,t){var n=this;function i(t){e.writable&&!1===e.write(t)&&n.pause&&n.pause()}function o(){n.readable&&n.resume&&n.resume()}n.on("data",i),e.on("drain",o),e._isStdio||t&&!1===t.end||(n.on("end",s),n.on("close",u));var a=!1;function s(){a||(a=!0,e.end())}function u(){a||(a=!0,"function"==typeof e.destroy&&e.destroy())}function l(e){if(c(),0===r.listenerCount(this,"error"))throw e}function c(){n.removeListener("data",i),e.removeListener("drain",o),n.removeListener("end",s),n.removeListener("close",u),n.removeListener("error",l),e.removeListener("error",l),n.removeListener("end",c),n.removeListener("close",c),e.removeListener("close",c)}return n.on("error",l),e.on("error",l),n.on("end",c),n.on("close",c),e.on("close",c),e.emit("pipe",n),e}},function(e,t,n){(function(e){function n(e){return Object.prototype.toString.call(e)}t.isArray=function(e){return Array.isArray?Array.isArray(e):"[object Array]"===n(e)},t.isBoolean=function(e){return"boolean"==typeof e},t.isNull=function(e){return null===e},t.isNullOrUndefined=function(e){return null==e},t.isNumber=function(e){return"number"==typeof e},t.isString=function(e){return"string"==typeof e},t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=function(e){return void 0===e},t.isRegExp=function(e){return"[object RegExp]"===n(e)},t.isObject=function(e){return"object"==typeof e&&null!==e},t.isDate=function(e){return"[object Date]"===n(e)},t.isError=function(e){return"[object Error]"===n(e)||e instanceof Error},t.isFunction=function(e){return"function"==typeof e},t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=e.isBuffer}).call(t,n(71).Buffer)},function(e,t,n){(function(t){e.exports=function(e,n){for(var r=Math.min(e.length,n.length),i=new t(r),o=0;o<r;++o)i[o]=e[o]^n[o];return i}}).call(t,n(71).Buffer)},function(e,t,n){"use strict";var r=n(286),i=n(268);function o(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}t.BlockHash=o,o.prototype.update=function(e,t){if(e=r.toArray(e,t),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){var n=(e=this.pending).length%this._delta8;this.pending=e.slice(e.length-n,e.length),0===this.pending.length&&(this.pending=null),e=r.join32(e,0,e.length-n,this.endian);for(var i=0;i<e.length;i+=this._delta32)this._update(e,i,i+this._delta32)}return this},o.prototype.digest=function(e){return this.update(this._pad()),i(null===this.pending),this._digest(e)},o.prototype._pad=function(){var e=this.pendingTotal,t=this._delta8,n=t-(e+this.padLength)%t,r=new Array(n+this.padLength);r[0]=128;for(var i=1;i<n;i++)r[i]=0;if(e<<=3,"big"===this.endian){for(var o=8;o<this.padLength;o++)r[i++]=0;r[i++]=0,r[i++]=0,r[i++]=0,r[i++]=0,r[i++]=e>>>24&255,r[i++]=e>>>16&255,r[i++]=e>>>8&255,r[i++]=255&e}else for(r[i++]=255&e,r[i++]=e>>>8&255,r[i++]=e>>>16&255,r[i++]=e>>>24&255,r[i++]=0,r[i++]=0,r[i++]=0,r[i++]=0,o=8;o<this.padLength;o++)r[i++]=0;return r}},function(e,t,n){var r=t;r.bignum=n(91),r.define=n(1858).define,r.base=n(436),r.constants=n(1139),r.decoders=n(1864),r.encoders=n(1866)},function(e,t,n){var r=t;r.Reporter=n(1861).Reporter,r.DecoderBuffer=n(1138).DecoderBuffer,r.EncoderBuffer=n(1138).EncoderBuffer,r.Node=n(1862)},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n(346);var o=function(){function e(t){i(this,e),this.strategies=t?[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(t.strategies)):[]}return r(e,[{key:"addStrategy",value:function(e){this.strategies.push(e)}},{key:"applyStrategies",value:function(e){return this.strategies.reduce(function(t,n){return t.then(function(){return n.apply(e)})},Promise.resolve())}}]),e}(),a=function(){function e(){i(this,e)}return r(e,[{key:"apply",value:function(e){}}]),e}();e.exports={TraversalStrategies:o,TraversalStrategy:a}},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var i=null,o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.iconMap={}}return r(e,null,[{key:"init",value:function(){return this.instance()}},{key:"addIcon",value:function(e,t,n){return this.instance().addIcon(e,t,n)}},{key:"instance",value:function(){return null==i&&(i=new this),i}}]),r(e,[{key:"addIcon",value:function(e,t,n){this.iconMap[e]={id:t,path:n}}}]),e}();t.default=o},function(e,t){e.exports=function(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}},function(e,t,n){"use strict";var r=n(6),i=n(1),o=n.n(i),a=n(4),s=n.n(a),u=n(274),l={children:s.a.node},c=function(e){return o.a.createElement(u.a,Object(r.a)({group:!0},e))};c.propTypes=l,t.a=c},function(e,t,n){"use strict";t.__esModule=!0,t.default=t.EXITING=t.ENTERED=t.ENTERING=t.EXITED=t.UNMOUNTED=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(4)),i=s(n(1)),o=s(n(31)),a=n(299);n(443);function s(e){return e&&e.__esModule?e:{default:e}}var u="unmounted";t.UNMOUNTED=u;var l="exited";t.EXITED=l;var c="entering";t.ENTERING=c;var d="entered";t.ENTERED=d;t.EXITING="exiting";var f=function(e){var t,n;function r(t,n){var r;r=e.call(this,t,n)||this;var i,o=n.transitionGroup,a=o&&!o.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?a?(i=l,r.appearStatus=c):i=d:i=t.unmountOnExit||t.mountOnEnter?u:l,r.state={status:i},r.nextCallback=null,r}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.getChildContext=function(){return{transitionGroup:null}},r.getDerivedStateFromProps=function(e,t){return e.in&&t.status===u?{status:l}:null},a.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},a.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==c&&n!==d&&(t=c):n!==c&&n!==d||(t="exiting")}this.updateStatus(!1,t)},a.componentWillUnmount=function(){this.cancelNextCallback()},a.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!=typeof r&&(e=r.exit,t=r.enter,n=r.appear),{exit:e,enter:t,appear:n}},a.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t){this.cancelNextCallback();var n=o.default.findDOMNode(this);t===c?this.performEnter(n,e):this.performExit(n)}else this.props.unmountOnExit&&this.state.status===l&&this.setState({status:u})},a.performEnter=function(e,t){var n=this,r=this.props.enter,i=this.context.transitionGroup?this.context.transitionGroup.isMounting:t,o=this.getTimeouts();t||r?(this.props.onEnter(e,i),this.safeSetState({status:c},function(){n.props.onEntering(e,i),n.onTransitionEnd(e,o.enter,function(){n.safeSetState({status:d},function(){n.props.onEntered(e,i)})})})):this.safeSetState({status:d},function(){n.props.onEntered(e)})},a.performExit=function(e){var t=this,n=this.props.exit,r=this.getTimeouts();n?(this.props.onExit(e),this.safeSetState({status:"exiting"},function(){t.props.onExiting(e),t.onTransitionEnd(e,r.exit,function(){t.safeSetState({status:l},function(){t.props.onExited(e)})})})):this.safeSetState({status:l},function(){t.props.onExited(e)})},a.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},a.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},a.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},a.onTransitionEnd=function(e,t,n){this.setNextCallback(n),e?(this.props.addEndListener&&this.props.addEndListener(e,this.nextCallback),null!=t&&setTimeout(this.nextCallback,t)):setTimeout(this.nextCallback,0)},a.render=function(){var e=this.state.status;if(e===u)return null;var t=this.props,n=t.children,r=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(t,["children"]);if(delete r.in,delete r.mountOnEnter,delete r.unmountOnExit,delete r.appear,delete r.enter,delete r.exit,delete r.timeout,delete r.addEndListener,delete r.onEnter,delete r.onEntering,delete r.onEntered,delete r.onExit,delete r.onExiting,delete r.onExited,"function"==typeof n)return n(e,r);var o=i.default.Children.only(n);return i.default.cloneElement(o,r)},r}(i.default.Component);function h(){}f.contextTypes={transitionGroup:r.object},f.childContextTypes={transitionGroup:function(){}},f.propTypes={},f.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:h,onEntering:h,onEntered:h,onExit:h,onExiting:h,onExited:h},f.UNMOUNTED=0,f.EXITED=1,f.ENTERING=2,f.ENTERED=3,f.EXITING=4;var p=(0,a.polyfill)(f);t.default=p},function(e,t,n){"use strict";t.__esModule=!0,t.transitionTimeout=function(e){var t="transition"+e+"Timeout",n="transition"+e;return function(e){if(e[n]){if(null==e[t])return new Error(t+" wasn't supplied to CSSTransitionGroup: this can cause unreliable animations and won't be supported in a future version of React. See https://fb.me/react-animation-transition-group-timeout for more information.");if("number"!=typeof e[t])return new Error(t+" must be a number (in milliseconds)")}return null}},t.classNamesShape=t.timeoutsShape=void 0;var r,i=(r=n(4))&&r.__esModule?r:{default:r};var o=i.default.oneOfType([i.default.number,i.default.shape({enter:i.default.number,exit:i.default.number}).isRequired]);t.timeoutsShape=o;var a=i.default.oneOfType([i.default.string,i.default.shape({enter:i.default.string,exit:i.default.string,active:i.default.string}),i.default.shape({enter:i.default.string,enterDone:i.default.string,enterActive:i.default.string,exit:i.default.string,exitDone:i.default.string,exitActive:i.default.string})]);t.classNamesShape=a},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=s(n(4)),i=s(n(1)),o=n(299),a=n(689);function s(e){return e&&e.__esModule?e:{default:e}}function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var c=Object.values||function(e){return Object.keys(e).map(function(t){return e[t]})},d=function(e){var t,n;function r(t,n){var r,i=(r=e.call(this,t,n)||this).handleExited.bind(l(l(r)));return r.state={handleExited:i,firstRender:!0},r}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=r.prototype;return o.getChildContext=function(){return{transitionGroup:{isMounting:!this.appeared}}},o.componentDidMount=function(){this.appeared=!0},r.getDerivedStateFromProps=function(e,t){var n=t.children,r=t.handleExited;return{children:t.firstRender?(0,a.getInitialChildMapping)(e,r):(0,a.getNextChildMapping)(e,n,r),firstRender:!1}},o.handleExited=function(e,t){var n=(0,a.getChildMapping)(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.setState(function(t){var n=u({},t.children);return delete n[e.key],{children:n}}))},o.render=function(){var e=this.props,t=e.component,n=e.childFactory,r=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,["component","childFactory"]),o=c(this.state.children).map(n);return delete r.appear,delete r.enter,delete r.exit,null===t?o:i.default.createElement(t,r,o)},r}(i.default.Component);d.childContextTypes={transitionGroup:r.default.object.isRequired},d.propTypes={},d.defaultProps={component:"div",childFactory:function(e){return e}};var f=(0,o.polyfill)(d);t.default=f,e.exports=t.default},function(e,t,n){"use strict";var r=n(6),i=n(9),o=n(1),a=n.n(o),s=n(4),u=n.n(s),l=n(8),c=n.n(l),d=n(5),f={tag:d.tagPropType,className:u.a.string,cssModule:u.a.object,innerRef:u.a.oneOfType([u.a.object,u.a.string,u.a.func])},h=function(e){var t=e.className,n=e.cssModule,o=e.innerRef,s=e.tag,u=Object(i.a)(e,["className","cssModule","innerRef","tag"]),l=Object(d.mapToCssModules)(c()(t,"card-body"),n);return a.a.createElement(s,Object(r.a)({},u,{className:l,ref:o}))};h.propTypes=f,h.defaultProps={tag:"div"},t.a=h},function(e,t,n){"use strict";var r=n(33),i=n(39),o=n(1),a=n.n(o),s=n(4),u=n.n(s),l=n(8),c=n.n(l),d=n(352),f=n(5),h=function(e){function t(t){var n;return(n=e.call(this,t)||this).handleKeyPress=n.handleKeyPress.bind(Object(i.a)(Object(i.a)(n))),n.renderItems=n.renderItems.bind(Object(i.a)(Object(i.a)(n))),n.hoverStart=n.hoverStart.bind(Object(i.a)(Object(i.a)(n))),n.hoverEnd=n.hoverEnd.bind(Object(i.a)(Object(i.a)(n))),n.state={direction:"right",indicatorClicked:!1},n}Object(r.a)(t,e);var n=t.prototype;return n.getChildContext=function(){return{direction:this.state.direction}},n.componentDidMount=function(){"carousel"===this.props.ride&&this.setInterval(),document.addEventListener("keyup",this.handleKeyPress)},n.componentWillReceiveProps=function(e){this.setInterval(e),this.props.activeIndex+1===e.activeIndex?this.setState({direction:"right"}):this.props.activeIndex-1===e.activeIndex?this.setState({direction:"left"}):this.props.activeIndex>e.activeIndex?this.setState({direction:this.state.indicatorClicked?"left":"right"}):this.props.activeIndex!==e.activeIndex&&this.setState({direction:this.state.indicatorClicked?"right":"left"}),this.setState({indicatorClicked:!1})},n.componentWillUnmount=function(){this.clearInterval(),document.removeEventListener("keyup",this.handleKeyPress)},n.setInterval=function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){void 0===e&&(e=this.props),this.clearInterval(),e.interval&&(this.cycleInterval=setInterval(function(){e.next()},parseInt(e.interval,10)))}),n.clearInterval=function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){clearInterval(this.cycleInterval)}),n.hoverStart=function(){var e;("hover"===this.props.pause&&this.clearInterval(),this.props.mouseEnter)&&(e=this.props).mouseEnter.apply(e,arguments)},n.hoverEnd=function(){var e;("hover"===this.props.pause&&this.setInterval(),this.props.mouseLeave)&&(e=this.props).mouseLeave.apply(e,arguments)},n.handleKeyPress=function(e){this.props.keyboard&&(37===e.keyCode?this.props.previous():39===e.keyCode&&this.props.next())},n.renderItems=function(e,t){var n=this,r=this.props.slide;return a.a.createElement("div",{role:"listbox",className:t},e.map(function(e,t){var i=t===n.props.activeIndex;return a.a.cloneElement(e,{in:i,slide:r})}))},n.render=function(){var e=this,t=this.props,n=t.cssModule,r=t.slide,i=t.className,o=Object(f.mapToCssModules)(c()(i,"carousel",r&&"slide"),n),s=Object(f.mapToCssModules)(c()("carousel-inner"),n),u=this.props.children.filter(function(e){return null!==e&&void 0!==e&&"boolean"!=typeof e});if(u.every(function(e){return e.type===d.a}))return a.a.createElement("div",{className:o,onMouseEnter:this.hoverStart,onMouseLeave:this.hoverEnd},this.renderItems(u,s));if(u[0]instanceof Array){var l=u[0],h=u[1],p=u[2];return a.a.createElement("div",{className:o,onMouseEnter:this.hoverStart,onMouseLeave:this.hoverEnd},this.renderItems(l,s),h,p)}var m=u[0],g=a.a.cloneElement(m,{onClickHandler:function(t){"function"==typeof m.props.onClickHandler&&e.setState({indicatorClicked:!0},function(){return m.props.onClickHandler(t)})}}),y=u[1],v=u[2],b=u[3];return a.a.createElement("div",{className:o,onMouseEnter:this.hoverStart,onMouseLeave:this.hoverEnd},g,this.renderItems(y,s),v,b)},t}(a.a.Component);h.propTypes={activeIndex:u.a.number,next:u.a.func.isRequired,previous:u.a.func.isRequired,keyboard:u.a.bool,pause:u.a.oneOf(["hover",!1]),ride:u.a.oneOf(["carousel"]),interval:u.a.oneOfType([u.a.number,u.a.string,u.a.bool]),children:u.a.array,mouseEnter:u.a.func,mouseLeave:u.a.func,slide:u.a.bool,cssModule:u.a.object,className:u.a.string},h.defaultProps={interval:5e3,pause:"hover",keyboard:!0,slide:!0},h.childContextTypes={direction:u.a.string},t.a=h},function(e,t,n){"use strict";var r=n(1),i=n.n(r),o=n(4),a=n.n(o),s=n(8),u=n.n(s),l=n(5),c=function(e){var t=e.direction,n=e.onClickHandler,r=e.cssModule,o=e.directionText,a=e.className,s=Object(l.mapToCssModules)(u()(a,"carousel-control-"+t),r),c=Object(l.mapToCssModules)(u()("carousel-control-"+t+"-icon"),r),d=Object(l.mapToCssModules)(u()("sr-only"),r);return i.a.createElement("a",{className:s,role:"button",tabIndex:"0",onClick:function(e){e.preventDefault(),n()}},i.a.createElement("span",{className:c,"aria-hidden":"true"}),i.a.createElement("span",{className:d},o||t))};c.propTypes={direction:a.a.oneOf(["prev","next"]).isRequired,onClickHandler:a.a.func.isRequired,cssModule:a.a.object,directionText:a.a.string,className:a.a.string},t.a=c},function(e,t,n){"use strict";var r=n(1),i=n.n(r),o=n(4),a=n.n(o),s=n(8),u=n.n(s),l=n(5),c=function(e){var t=e.items,n=e.activeIndex,r=e.cssModule,o=e.onClickHandler,a=e.className,s=Object(l.mapToCssModules)(u()(a,"carousel-indicators"),r),c=t.map(function(e,t){var a=Object(l.mapToCssModules)(u()({active:n===t}),r);return i.a.createElement("li",{key:""+(e.key||Object.values(e).join("")),onClick:function(e){e.preventDefault(),o(t)},className:a})});return i.a.createElement("ol",{className:s},c)};c.propTypes={items:a.a.array.isRequired,activeIndex:a.a.number.isRequired,cssModule:a.a.object,onClickHandler:a.a.func.isRequired,className:a.a.string},t.a=c},function(e,t,n){"use strict";var r=n(1),i=n.n(r),o=n(4),a=n.n(o),s=n(8),u=n.n(s),l=n(5),c=function(e){var t=e.captionHeader,n=e.captionText,r=e.cssModule,o=e.className,a=Object(l.mapToCssModules)(u()(o,"carousel-caption","d-none","d-md-block"),r);return i.a.createElement("div",{className:a},i.a.createElement("h3",null,t),i.a.createElement("p",null,n))};c.propTypes={captionHeader:a.a.string,captionText:a.a.string.isRequired,cssModule:a.a.object,className:a.a.string},t.a=c},function(e,t,n){"use strict";var r=n(6),i=n(72),o=n(9),a=n(33),s=n(39),u=n(1),l=n.n(u),c=n(4),d=n.n(c),f=n(31),h=n.n(f),p=n(8),m=n.n(p),g=n(298),y=n(5),v={children:d.a.node.isRequired,className:d.a.string,placement:d.a.string,placementPrefix:d.a.string,arrowClassName:d.a.string,hideArrow:d.a.bool,tag:y.tagPropType,isOpen:d.a.bool.isRequired,cssModule:d.a.object,offset:d.a.oneOfType([d.a.string,d.a.number]),fallbackPlacement:d.a.oneOfType([d.a.string,d.a.array]),flip:d.a.bool,container:y.targetPropType,target:y.targetPropType.isRequired,modifiers:d.a.object,boundariesElement:d.a.oneOfType([d.a.string,y.DOMElement])},b={popperManager:d.a.object.isRequired},_=function(e){function t(t){var n;return(n=e.call(this,t)||this).handlePlacementChange=n.handlePlacementChange.bind(Object(s.a)(Object(s.a)(n))),n.setTargetNode=n.setTargetNode.bind(Object(s.a)(Object(s.a)(n))),n.getTargetNode=n.getTargetNode.bind(Object(s.a)(Object(s.a)(n))),n.getRef=n.getRef.bind(Object(s.a)(Object(s.a)(n))),n.state={},n}Object(a.a)(t,e);var n=t.prototype;return n.getChildContext=function(){return{popperManager:{setTargetNode:this.setTargetNode,getTargetNode:this.getTargetNode}}},n.componentDidUpdate=function(){this._element&&this._element.childNodes&&this._element.childNodes[0]&&this._element.childNodes[0].focus&&this._element.childNodes[0].focus()},n.setTargetNode=function(e){this.targetNode=e},n.getTargetNode=function(){return this.targetNode},n.getContainerNode=function(){return Object(y.getTarget)(this.props.container)},n.getRef=function(e){this._element=e},n.handlePlacementChange=function(e){return this.state.placement!==e.placement&&this.setState({placement:e.placement}),e},n.renderChildren=function(){var e=this.props,t=e.cssModule,n=e.children,a=(e.isOpen,e.flip),s=(e.target,e.offset),u=e.fallbackPlacement,c=e.placementPrefix,d=e.arrowClassName,f=e.hideArrow,h=e.className,p=e.tag,v=(e.container,e.modifiers),b=e.boundariesElement,_=Object(o.a)(e,["cssModule","children","isOpen","flip","target","offset","fallbackPlacement","placementPrefix","arrowClassName","hideArrow","className","tag","container","modifiers","boundariesElement"]),w=Object(y.mapToCssModules)(m()("arrow",d),t),k=(this.state.placement||_.placement).split("-")[0],E=Object(y.mapToCssModules)(m()(h,c?c+"-"+k:k),this.props.cssModule),x=Object(i.a)({offset:{offset:s},flip:{enabled:a,behavior:u},preventOverflow:{boundariesElement:b},update:{enabled:!0,order:950,fn:this.handlePlacementChange}},v);return l.a.createElement(g.c,Object(r.a)({modifiers:x},_,{component:p,className:E,"x-placement":this.state.placement||_.placement}),n,!f&&l.a.createElement(g.a,{className:w}))},n.render=function(){return this.setTargetNode(Object(y.getTarget)(this.props.target)),this.props.isOpen?"inline"===this.props.container?this.renderChildren():h.a.createPortal(l.a.createElement("div",{ref:this.getRef},this.renderChildren()),this.getContainerNode()):null},t}(l.a.Component);_.propTypes=v,_.defaultProps={boundariesElement:"scrollParent",placement:"auto",hideArrow:!1,isOpen:!1,offset:0,fallbackPlacement:"flip",flip:!0,container:"body",modifiers:{}},_.childContextTypes=b,t.a=_},function(e,t,n){"use strict";var r=n(6),i=n(1),o=n.n(i),a=n(8),s=n.n(a),u=n(452),l=function(e){var t=s()("popover","show",e.className),n=s()("popover-inner",e.innerClassName);return o.a.createElement(u.a,Object(r.a)({},e,{className:t,innerClassName:n}))};l.propTypes=u.b,l.defaultProps={placement:"right",placementPrefix:"bs-popover",trigger:"click"},t.a=l},function(e,t,n){"use strict";n.d(t,"b",function(){return f});var r=n(6),i=n(33),o=n(39),a=n(1),s=n.n(a),u=n(4),l=n.n(u),c=n(450),d=n(5),f={placement:l.a.oneOf(d.PopperPlacements),target:d.targetPropType.isRequired,container:d.targetPropType,isOpen:l.a.bool,disabled:l.a.bool,hideArrow:l.a.bool,boundariesElement:l.a.oneOfType([l.a.string,d.DOMElement]),className:l.a.string,innerClassName:l.a.string,arrowClassName:l.a.string,cssModule:l.a.object,toggle:l.a.func,autohide:l.a.bool,placementPrefix:l.a.string,delay:l.a.oneOfType([l.a.shape({show:l.a.number,hide:l.a.number}),l.a.number]),modifiers:l.a.object,offset:l.a.oneOfType([l.a.string,l.a.number]),innerRef:l.a.oneOfType([l.a.func,l.a.string,l.a.object]),trigger:l.a.string},h={show:0,hide:250},p={isOpen:!1,hideArrow:!1,autohide:!1,delay:h,toggle:function(){},trigger:"click"};function m(e,t){return t&&(e===t||t.contains(e))}var g=function(e){function t(t){var n;return(n=e.call(this,t)||this)._target=null,n.addTargetEvents=n.addTargetEvents.bind(Object(o.a)(Object(o.a)(n))),n.handleDocumentClick=n.handleDocumentClick.bind(Object(o.a)(Object(o.a)(n))),n.removeTargetEvents=n.removeTargetEvents.bind(Object(o.a)(Object(o.a)(n))),n.toggle=n.toggle.bind(Object(o.a)(Object(o.a)(n))),n.showWithDelay=n.showWithDelay.bind(Object(o.a)(Object(o.a)(n))),n.hideWithDelay=n.hideWithDelay.bind(Object(o.a)(Object(o.a)(n))),n.onMouseOverTooltipContent=n.onMouseOverTooltipContent.bind(Object(o.a)(Object(o.a)(n))),n.onMouseLeaveTooltipContent=n.onMouseLeaveTooltipContent.bind(Object(o.a)(Object(o.a)(n))),n.show=n.show.bind(Object(o.a)(Object(o.a)(n))),n.hide=n.hide.bind(Object(o.a)(Object(o.a)(n))),n.onEscKeyDown=n.onEscKeyDown.bind(Object(o.a)(Object(o.a)(n))),n.getRef=n.getRef.bind(Object(o.a)(Object(o.a)(n))),n}Object(i.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){this.updateTarget()},n.componentWillUnmount=function(){this.removeTargetEvents()},n.onMouseOverTooltipContent=function(){this.props.trigger.indexOf("hover")>-1&&!this.props.autohide&&this._hideTimeout&&this.clearHideTimeout()},n.onMouseLeaveTooltipContent=function(e){this.props.trigger.indexOf("hover")>-1&&!this.props.autohide&&(this._showTimeout&&this.clearShowTimeout(),e.persist(),this._hideTimeout=setTimeout(this.hide.bind(this,e),this.getDelay("hide")))},n.onEscKeyDown=function(e){"Escape"===e.key&&this.hide(e)},n.getRef=function(e){var t=this.props.innerRef;t&&("function"==typeof t?t(e):"object"==typeof t&&(t.current=e)),this._popover=e},n.getDelay=function(e){var t=this.props.delay;return"object"==typeof t?isNaN(t[e])?h[e]:t[e]:t},n.show=function(e){this.props.isOpen||(this.clearShowTimeout(),this.toggle(e))},n.showWithDelay=function(e){this._hideTimeout&&this.clearHideTimeout(),this._showTimeout=setTimeout(this.show.bind(this,e),this.getDelay("show"))},n.hide=function(e){this.props.isOpen&&(this.clearHideTimeout(),this.toggle(e))},n.hideWithDelay=function(e){this._showTimeout&&this.clearShowTimeout(),this._hideTimeout=setTimeout(this.hide.bind(this,e),this.getDelay("hide"))},n.clearShowTimeout=function(){clearTimeout(this._showTimeout),this._showTimeout=void 0},n.clearHideTimeout=function(){clearTimeout(this._hideTimeout),this._hideTimeout=void 0},n.handleDocumentClick=function(e){var t=this.props.trigger.split(" ");t.indexOf("legacy")>-1&&(this.props.isOpen||m(e.target,this._target))?(this._hideTimeout&&this.clearHideTimeout(),this.props.isOpen&&!m(e.target,this._popover)?this.hideWithDelay(e):this.showWithDelay(e)):t.indexOf("click")>-1&&m(e.target,this._target)&&(this._hideTimeout&&this.clearHideTimeout(),this.props.isOpen?this.hideWithDelay(e):this.showWithDelay(e))},n.addTargetEvents=function(){var e=this;if(this.props.trigger){var t=this.props.trigger.split(" ");-1===t.indexOf("manual")&&((t.indexOf("click")>-1||t.indexOf("legacy")>-1)&&["click","touchstart"].forEach(function(t){return document.addEventListener(t,e.handleDocumentClick,!0)}),this._target&&(t.indexOf("hover")>-1&&(this._target.addEventListener("mouseover",this.showWithDelay,!0),this._target.addEventListener("mouseout",this.hideWithDelay,!0)),t.indexOf("focus")>-1&&(this._target.addEventListener("focusin",this.show,!0),this._target.addEventListener("focusout",this.hide,!0)),this._target.addEventListener("keydown",this.onEscKeyDown,!0)))}},n.removeTargetEvents=function(){var e=this;this._target&&(this._target.removeEventListener("mouseover",this.showWithDelay,!0),this._target.removeEventListener("mouseout",this.hideWithDelay,!0),this._target.removeEventListener("keydown",this.onEscKeyDown,!0),this._target.removeEventListener("focusin",this.show,!0),this._target.removeEventListener("focusout",this.hide,!0)),["click","touchstart"].forEach(function(t){return document.removeEventListener(t,e.handleDocumentClick,!0)})},n.updateTarget=function(){var e=Object(d.getTarget)(this.props.target);e!==this._target&&(this.removeTargetEvents(),this._target=e,this.addTargetEvents())},n.toggle=function(e){return this.props.disabled?e&&e.preventDefault():this.props.toggle(e)},n.render=function(){if(!this.props.isOpen)return null;this.updateTarget();var e=this.props,t=e.className,n=e.cssModule,i=e.innerClassName,o=e.target,a=e.isOpen,u=e.hideArrow,l=e.boundariesElement,h=e.placement,p=e.placementPrefix,m=e.arrowClassName,g=e.container,y=e.modifiers,v=e.offset,b=Object(d.omit)(this.props,Object.keys(f)),_=Object(d.mapToCssModules)(t,n),w=Object(d.mapToCssModules)(i,n);return s.a.createElement(c.a,{className:_,target:o,isOpen:a,hideArrow:u,boundariesElement:l,placement:h,placementPrefix:p,arrowClassName:m,container:g,modifiers:y,offset:v,cssModule:n},s.a.createElement("div",Object(r.a)({},b,{ref:this.getRef,className:w,role:"tooltip","aria-hidden":a,onMouseOver:this.onMouseOverTooltipContent,onMouseLeave:this.onMouseLeaveTooltipContent,onKeyDown:this.onEscKeyDown})))},t}(s.a.Component);g.propTypes=f,g.defaultProps=p,t.a=g},function(e,t,n){"use strict";var r=n(6),i=n(9),o=n(1),a=n.n(o),s=n(4),u=n.n(s),l=n(8),c=n.n(l),d=n(5),f={tag:d.tagPropType,className:u.a.string,cssModule:u.a.object},h=function(e){var t=e.className,n=e.cssModule,o=e.tag,s=Object(i.a)(e,["className","cssModule","tag"]),u=Object(d.mapToCssModules)(c()(t,"popover-header"),n);return a.a.createElement(o,Object(r.a)({},s,{className:u}))};h.propTypes=f,h.defaultProps={tag:"h3"},t.a=h},function(e,t,n){"use strict";var r=n(6),i=n(9),o=n(1),a=n.n(o),s=n(4),u=n.n(s),l=n(8),c=n.n(l),d=n(5),f={tag:d.tagPropType,className:u.a.string,cssModule:u.a.object},h=function(e){var t=e.className,n=e.cssModule,o=e.tag,s=Object(i.a)(e,["className","cssModule","tag"]),u=Object(d.mapToCssModules)(c()(t,"popover-body"),n);return a.a.createElement(o,Object(r.a)({},s,{className:u}))};h.propTypes=f,h.defaultProps={tag:"div"},t.a=h},function(e,t,n){"use strict";var r=n(6),i=n(1),o=n.n(i),a=n(8),s=n.n(a),u=n(452),l=function(e){var t=s()("tooltip","show",e.className),n=s()("tooltip-inner",e.innerClassName);return o.a.createElement(u.a,Object(r.a)({},e,{className:t,innerClassName:n}))};l.propTypes=u.b,l.defaultProps={placement:"top",autohide:!0,placementPrefix:"bs-tooltip",trigger:"click hover focus"},t.a=l},function(e,t,n){"use strict";var r=n(6),i=n(9),o=n(1),a=n.n(o),s=n(4),u=n.n(s),l=n(8),c=n.n(l),d=n(5),f=n(457),h={tag:d.tagPropType,addonType:u.a.oneOf(["prepend","append"]).isRequired,children:u.a.node,className:u.a.string,cssModule:u.a.object},p=function(e){var t=e.className,n=e.cssModule,o=e.tag,s=e.addonType,u=e.children,l=Object(i.a)(e,["className","cssModule","tag","addonType","children"]),h=Object(d.mapToCssModules)(c()(t,"input-group-"+s),n);return"string"==typeof u?a.a.createElement(o,Object(r.a)({},l,{className:h}),a.a.createElement(f.a,{children:u})):a.a.createElement(o,Object(r.a)({},l,{className:h,children:u}))};p.propTypes=h,p.defaultProps={tag:"div"},t.a=p},function(e,t,n){"use strict";var r=n(6),i=n(9),o=n(1),a=n.n(o),s=n(4),u=n.n(s),l=n(8),c=n.n(l),d=n(5),f={tag:d.tagPropType,className:u.a.string,cssModule:u.a.object},h=function(e){var t=e.className,n=e.cssModule,o=e.tag,s=Object(i.a)(e,["className","cssModule","tag"]),u=Object(d.mapToCssModules)(c()(t,"input-group-text"),n);return a.a.createElement(o,Object(r.a)({},s,{className:u}))};h.propTypes=f,h.defaultProps={tag:"span"},t.a=h},function(e,t,n){"use strict";var r=n(6),i=n(9),o=n(72),a=n(1),s=n.n(a),u=n(4),l=n.n(u),c=n(8),d=n.n(c),f=n(5),h=n(350),p={children:l.a.node,className:l.a.string,closeClassName:l.a.string,closeAriaLabel:l.a.string,cssModule:l.a.object,color:l.a.string,fade:l.a.bool,isOpen:l.a.bool,toggle:l.a.func,tag:f.tagPropType,transition:l.a.shape(h.a.propTypes),innerRef:l.a.oneOfType([l.a.object,l.a.string,l.a.func])},m={color:"success",isOpen:!0,tag:"div",closeAriaLabel:"Close",fade:!0,transition:Object(o.a)({},h.a.defaultProps,{unmountOnExit:!0})};function g(e){var t=e.className,n=e.closeClassName,a=e.closeAriaLabel,u=e.cssModule,l=e.tag,c=e.color,p=e.isOpen,m=e.toggle,g=e.children,y=e.transition,v=e.fade,b=e.innerRef,_=Object(i.a)(e,["className","closeClassName","closeAriaLabel","cssModule","tag","color","isOpen","toggle","children","transition","fade","innerRef"]),w=Object(f.mapToCssModules)(d()(t,"alert","alert-"+c,{"alert-dismissible":m}),u),k=Object(f.mapToCssModules)(d()("close",n),u),E=Object(o.a)({},h.a.defaultProps,y,{baseClass:v?y.baseClass:"",timeout:v?y.timeout:0});return s.a.createElement(h.a,Object(r.a)({},_,E,{tag:l,className:w,in:p,role:"alert",innerRef:b}),m?s.a.createElement("button",{type:"button",className:k,"aria-label":a,onClick:m},s.a.createElement("span",{"aria-hidden":"true"},"")):null,g)}g.propTypes=p,g.defaultProps=m,t.a=g},function(e,t,n){"use strict";var r,i=n(6),o=n(9),a=n(33),s=n(39),u=n(72),l=n(1),c=n.n(l),d=n(4),f=n.n(d),h=n(8),p=n.n(h),m=n(351),g=(n.n(m),n(5)),y=Object(u.a)({},m.Transition.propTypes,{isOpen:f.a.bool,children:f.a.oneOfType([f.a.arrayOf(f.a.node),f.a.node]),tag:g.tagPropType,className:f.a.node,navbar:f.a.bool,cssModule:f.a.object,innerRef:f.a.oneOfType([f.a.func,f.a.string,f.a.object])}),v=Object(u.a)({},m.Transition.defaultProps,{isOpen:!1,appear:!1,enter:!0,exit:!0,tag:"div",timeout:g.TransitionTimeouts.Collapse}),b=((r={})[g.TransitionStatuses.ENTERING]="collapsing",r[g.TransitionStatuses.ENTERED]="collapse show",r[g.TransitionStatuses.EXITING]="collapsing",r[g.TransitionStatuses.EXITED]="collapse",r);function _(e){return e.scrollHeight}var w=function(e){function t(t){var n;return(n=e.call(this,t)||this).state={height:null},["onEntering","onEntered","onExit","onExiting","onExited"].forEach(function(e){n[e]=n[e].bind(Object(s.a)(Object(s.a)(n)))}),n}Object(a.a)(t,e);var n=t.prototype;return n.onEntering=function(e,t){this.setState({height:_(e)}),this.props.onEntering(e,t)},n.onEntered=function(e,t){this.setState({height:null}),this.props.onEntered(e,t)},n.onExit=function(e){this.setState({height:_(e)}),this.props.onExit(e)},n.onExiting=function(e){e.offsetHeight;this.setState({height:0}),this.props.onExiting(e)},n.onExited=function(e){this.setState({height:null}),this.props.onExited(e)},n.render=function(){var e=this,t=this.props,n=t.tag,r=t.isOpen,a=t.className,s=t.navbar,l=t.cssModule,d=t.children,f=(t.innerRef,Object(o.a)(t,["tag","isOpen","className","navbar","cssModule","children","innerRef"])),h=this.state.height,y=Object(g.pick)(f,g.TransitionPropTypeKeys),v=Object(g.omit)(f,g.TransitionPropTypeKeys);return c.a.createElement(m.Transition,Object(i.a)({},y,{in:r,onEntering:this.onEntering,onEntered:this.onEntered,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}),function(t){var r=function(e){return b[e]||"collapse"}(t),o=Object(g.mapToCssModules)(p()(a,r,s&&"navbar-collapse"),l),f=null===h?null:{height:h};return c.a.createElement(n,Object(i.a)({},v,{style:Object(u.a)({},v.style,f),className:o,ref:e.props.innerRef}),d)})},t}(l.Component);w.propTypes=y,w.defaultProps=v,t.a=w},function(e,t,n){"use strict";n.d(t,"a",function(){return p});var r=n(72),i=n(6),o=n(33),a=n(39),s=n(1),u=n.n(s),l=n(4),c=n.n(l),d=n(274),f=n(5),h=["defaultOpen"],p=function(e){function t(t){var n;return(n=e.call(this,t)||this).state={isOpen:t.defaultOpen||!1},n.toggle=n.toggle.bind(Object(a.a)(Object(a.a)(n))),n}Object(o.a)(t,e);var n=t.prototype;return n.toggle=function(){this.setState({isOpen:!this.state.isOpen})},n.render=function(){return u.a.createElement(d.a,Object(i.a)({isOpen:this.state.isOpen,toggle:this.toggle},Object(f.omit)(this.props,h)))},t}(s.Component);p.propTypes=Object(r.a)({defaultOpen:c.a.bool},d.a.propTypes)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.filterInvisibleProperty=t.filterInvisibleRelationshipProperty=t.filterInvisibleNodeProperty=t.filterInvisibleRelationship=t.filterInvisibleLabel=void 0;var r=o(n(106)),i=o(n(105));function o(e){return e&&e.__esModule?e:{default:e}}t.filterInvisibleLabel=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(0==t.length){var n=r.default.instance().configs;t=_.filter(n,function(e){return 0==e.visible}).map(function(e){return e.label})}return e.filter(function(e){return 0!=_.difference(e.labels,t).length})},t.filterInvisibleRelationship=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(0==t.length){var n=i.default.instance().configs;t=_.filter(n,function(e){return 0==e.visible}).map(function(e){return e.relationship})}return e.filter(function(e){return!t.includes(e.type)})},t.filterInvisibleNodeProperty=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1];return t||(t=r.default.instance().configs),e.map(function(e){var n=e.labels.join(":"),r=t[n];if(!r)return e;var i=_.map(r.properties,function(e,t){return{key:t,value:e}}).filter(function(e){return e.value}).map(function(e){return e.key});return e.properties&&i.forEach(function(t){e.properties[t]&&delete e.properties[t]}),e})},t.filterInvisibleRelationshipProperty=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1];return t||(t=i.default.instance().configs),e.map(function(e){var n=t[e.type];if(!n)return e;var r=_.map(n.properties,function(e,t){return{key:t,value:e}}).filter(function(e){return e.value}).map(function(e){return e.key});return e.properties&&r.forEach(function(t){e.properties[t]&&delete e.properties[t]}),e})},t.filterInvisibleProperty=function(e){var t=r.default.instance().configs,n=[];return n=_.map(t,function(e,t){return e.visible?_.map(e.properties,function(e,t){return{key:t,value:e}}).filter(function(e){return e.value}).map(function(e){return e.key}):_.map(e.properties,function(e,t){return{key:t,value:e}}).map(function(e){return e.key})}),n=_.flatMap(n),_.difference(e,n)}},function(e,t,n){(function(e,n){(function(t){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r,i,o;r=e,o=n[i=t],i in r?Object.defineProperty(r,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[i]=o})}return e}function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}"function"==typeof Symbol&&Symbol.asyncIterator&&Symbol.asyncIterator;var u="undefined"!=typeof window?window:void 0!==e?e:this,l=u.requestAnimationFrame||function(e){return u.setTimeout(e,16)},c=function(){if(void 0===n||void 0===n.hrtime||n.versions&&void 0!==n.versions.electron){if(void 0!==u.performance&&void 0!==u.performance.now)return u.performance.now.bind(u.performance);var e=u.performance&&u.performance.timing&&u.performance.timing.navigationStart?u.performance.timing.navigationStart:Date.now();return function(){return Date.now()-e}}return function(){var e=n.hrtime();return 1e3*e[0]+e[1]/1e6}}(),d=[],f=!1,h=!1,p=[],m=l,g=0,y=120,v=function(){for(var e=0;e<p.length;e++)p[e]()},b=function(e){var t=d.indexOf(e);-1<t&&d.splice(t,1),d.push(e),g=0,h&&!f?(m(k),f=!0):v()},_=function(e){for(var t=0;t<d.length;t++)if(e===d[t])return d[t];return null},w=function(e){var t=d.indexOf(e);-1!==t&&d.splice(t,1)},k=function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:c(),n=1<arguments.length?arguments[1]:void 0;if(y<=g)return g=0,f=!1;h&&f?m(e):v(),d.length||g++;for(var r=0,i=d.length;r<i;)d[r++].update(t,n),i>d.length&&r--,i=d.length;return!0},E={},x={Linear:{None:function(e){return e}},Quadratic:{In:function(e){return e*e},Out:function(e){return e*(2-e)},InOut:function(e){return(e*=2)<1?.5*e*e:-.5*(--e*(e-2)-1)}},Cubic:{In:function(e){return e*e*e},Out:function(e){return--e*e*e+1},InOut:function(e){return(e*=2)<1?.5*e*e*e:.5*((e-=2)*e*e+2)}},Quartic:{In:function(e){return e*e*e*e},Out:function(e){return 1- --e*e*e*e},InOut:function(e){return(e*=2)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)}},Quintic:{In:function(e){return e*e*e*e*e},Out:function(e){return--e*e*e*e*e+1},InOut:function(e){return(e*=2)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)}},Sinusoidal:{In:function(e){return 1-Math.cos(e*Math.PI/2)},Out:function(e){return Math.sin(e*Math.PI/2)},InOut:function(e){return.5*(1-Math.cos(Math.PI*e))}},Exponential:{In:function(e){return 0===e?0:Math.pow(1024,e-1)},Out:function(e){return 1===e?1:1-Math.pow(2,-10*e)},InOut:function(e){return 0===e?0:1===e?1:(e*=2)<1?.5*Math.pow(1024,e-1):.5*(2-Math.pow(2,-10*(e-1)))}},Circular:{In:function(e){return 1-Math.sqrt(1-e*e)},Out:function(e){return Math.sqrt(1- --e*e)},InOut:function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)}},Elastic:{In:function(e){return 0===e?0:1===e?1:-Math.pow(2,10*(e-1))*Math.sin(5*(e-1.1)*Math.PI)},Out:function(e){return 0===e?0:1===e?1:Math.pow(2,-10*e)*Math.sin(5*(e-.1)*Math.PI)+1},InOut:function(e){return 0===e?0:1===e?1:(e*=2)<1?-.5*Math.pow(2,10*(e-1))*Math.sin(5*(e-1.1)*Math.PI):.5*Math.pow(2,-10*(e-1))*Math.sin(5*(e-1.1)*Math.PI)+1}},Back:{In:function(e){return e*e*(2.70158*e-1.70158)},Out:function(e){return--e*e*(2.70158*e+1.70158)+1},InOut:function(e){var t=2.5949095;return(e*=2)<1?e*e*((t+1)*e-t)*.5:.5*((e-=2)*e*((t+1)*e+t)+2)}},Bounce:{In:function(e){return 1-x.Bounce.Out(1-e)},Out:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},InOut:function(e){return e<.5?.5*x.Bounce.In(2*e):.5*x.Bounce.Out(2*e-1)+.5}},Stepped:{steps:function(e){return function(t){return(t*e|0)/e}}}},S="_chainedTweens",M="Callback",T="STRING_PROP",C=/\s+|([A-Za-z?().,{}:""[\]#%]+)|([-+]=+)?([-+]+)?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]=?\d+)?/g;function A(e){if(e&&e.nodeType||void 0===e||"object"!==r(e))return e;if(Array.isArray(e))return[].concat(e);if("object"===r(e)){var t={};for(var n in e)t[n]=A(e[n]);return t}return e}var O=function(e){return isNaN(+e)||("+"===e[0]||"-"===e[0])&&"="===e[1]||""===e||" "===e},N=/^#([0-9a-f]{6}|[0-9a-f]{3})$/i,L=function(e,t){var n,r,i;3===t.length&&(t=(n=t[0])+n+(r=t[1])+r+(i=t[2])+i);var o=parseInt(t,16);return"rgb("+(n=o>>16&255)+","+(r=o>>8&255)+","+(i=255&o)+")"};function j(e){return"string"!=typeof e?e:e.replace(N,L).match(C).map(function(e){return O(e)?e:+e})}function P(e,t,n,i,o){var a=n[e],s=i[e];if("string"==typeof a||"string"==typeof s){for(var u=Array.isArray(a)&&a[0]===T?a:j(a),l=Array.isArray(s)&&s[0]===T?s:j(s),c=1;c<u.length;)u[c]===l[c]&&"string"==typeof u[c-1]?(u.splice(c-1,2,u[c-1]+u[c]),l.splice(c-1,2,l[c-1]+l[c])):c++;u[c=0]===T&&u.shift(),l[0]===T&&l.shift();for(var d={isString:!0,length:u.length},f={isString:!0,length:l.length};c<d.length;)d[c]=u[c],f[c]=l[c],c++;return n[e]=d,i[e]=f,!0}if("object"===r(a)&&"object"===r(s)){if(Array.isArray(a))return a.map(function(n,r){return P(r,t[e],a,s)});for(var h in s)P(h,t[e],a,s);return!0}return!1}var D=Math.pow(10,4),I="rgba(",R=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"rgb(";return"number"==typeof e[t]&&(e[t-1]===n||e[t-3]===n||e[t-5]===n)};function F(e,t,n,i,o,a,s){var u=s?n:n[e],l=s?i:i[e];if(void 0===l)return u;if(void 0===u||"string"==typeof u||u===l)return l;if("object"===r(u)&&"object"===r(l)){if(!u||!l)return t[e];if("object"===r(u)&&u&&u.isString){for(var c="",d=0,f=u.length;d<f;d++){var h="number"==typeof u[d]&&"string"==typeof l[d]&&"="===l[d][1],p="number"!=typeof u[d]?u[d]:((h?u[d]+parseFloat(l[d][0]+l[d].substr(2))*o:u[d]+(l[d]-u[d])*o)*D|0)/D;(R(u,d)||R(u,d,I))&&(p|=0),c+=p,h&&1===a&&(u[d]=u[d]+parseFloat(l[d][0]+l[d].substr(2)))}return s||(t[e]=c),c}if(Array.isArray(u)&&u[0]!==T)for(var m=0,g=u.length;m<g;m++)u[m]!==l[m]&&F(m,t[e],u,l,o,a);else if("object"===r(u)&&u&&!u.isString)for(var y in u)u[y]!==l[y]&&F(y,t[e],u,l,o,a)}else if("number"==typeof u){var v="string"==typeof l;t[e]=((v?u+parseFloat(l[0]+l.substr(2))*o:u+(l-u)*o)*D|0)/D,v&&1===a&&(n[e]=t[e])}else"function"==typeof l&&(t[e]=l(o));return t[e]}var Y,B=/([.[])/g,H=/\]/g,z=function(e,t){var n=e[t],i=t.replace(H,"").split(B),o=i.length-1,a=Array.isArray(e),s="object"===r(e)&&!a;return s?(e[t]=null,delete e[t]):a&&e.splice(t,1),i.reduce(function(e,t,r){a&&"."!==t&&"["!==t&&(t*=1);var u="["===i[r+1];if("."===t||"["===t)return"."===t?a=!(s=!0):"["===t&&(a=!(s=!1)),e;if(void 0===e[t]){if(a||s)return e[t]=r===o?n:a||u?[]:s?{}:null,s=a=!1,e[t]}else if(void 0!==e[t])return r===o&&(e[t]=n),e[t];return e},e)},W=function(e){if("object"===r(e)&&e)for(var t in e)if(-1!==t.indexOf(".")||-1!==t.indexOf("["))z(e,t);else if("object"===r(e[t])&&e[t]){var n=e[t];for(var i in n)if(-1!==i.indexOf(".")||-1!==i.indexOf("["))z(n,i);else if("object"===r(n[i])&&n[i]){var o=n[i];for(var a in o)-1===a.indexOf(".")&&-1===a.indexOf("[")||z(o,a)}}return e},U={Linear:function(e,t,n){var r=e.length-1,i=r*t,o=Math.floor(i),a=U.Utils.Linear;return t<0?a(e[0],e[1],i,n):1<t?a(e[r],e[r-1],r-i,n):a(e[o],e[r<o+1?r:o+1],i-o,n)},Bezier:function(e,t,n){for(var i=U.Utils.Reset(n),o=e.length-1,a=Math.pow,s=U.Utils.Bernstein,u=Array.isArray(i),l=0;l<=o;l++)if("number"==typeof i)i+=a(1-t,o-l)*a(t,l)*e[l]*s(o,l);else if(u)for(var c=0,d=i.length;c<d;c++)"number"==typeof i[c]?i[c]+=a(1-t,o-l)*a(t,l)*e[l][c]*s(o,l):i[c]=e[l][c];else if("object"===r(i))for(var f in i)"number"==typeof i[f]?i[f]+=a(1-t,o-l)*a(t,l)*e[l][f]*s(o,l):i[f]=e[l][f];else if("string"==typeof i){for(var h="",p=e[Math.round(o*t)],m=1,g=p.length;m<g;m++)h+=p[m];return h}return i},CatmullRom:function(e,t,n){var r=e.length-1,i=r*t,o=Math.floor(i),a=U.Utils.CatmullRom;return e[0]===e[r]?(t<0&&(o=Math.floor(i=r*(1+t))),a(e[(o-1+r)%r],e[o],e[(o+1)%r],e[(o+2)%r],i-o,n)):t<0?a(e[1],e[1],e[0],e[0],-t,n):1<t?a(e[r-1],e[r-1],e[r],e[r],(0|t)-t,n):a(e[o?o-1:0],e[o],e[r<o+1?r:o+1],e[r<o+2?r:o+2],i-o,n)},Utils:{Linear:function(e,t,n,i){if("string"==typeof e)return t;if("number"==typeof e)return"function"==typeof e?e(n):e+(t-e)*n;if("object"===r(e)){if(void 0!==e.length){if(e[0]===T){for(var o="",a=1,s=e.length;a<s;a++){var u="number"==typeof e[a]?e[a]+(t[a]-e[a])*n:t[a];(R(e,a)||R(e,a,I))&&(u|=0),o+=u}return o}for(var l=0,c=i.length;l<c;l++)i[l]=U.Utils.Linear(e[l],t[l],n,i[l])}else for(var d in i)i[d]=U.Utils.Linear(e[d],t[d],n,i[d]);return i}},Reset:function(e){if(Array.isArray(e)){for(var t=0,n=e.length;t<n;t++)e[t]=U.Utils.Reset(e[t]);return e}if("object"===r(e)){for(var i in e)e[i]=U.Utils.Reset(e[i]);return e}return"number"==typeof e?0:e},Bernstein:function(e,t){var n=U.Utils.Factorial;return n(e)/n(t)/n(e-t)},Factorial:(Y=[1],function(e){var t=1;if(Y[e])return Y[e];for(var n=e;1<n;n--)t*=n;return Y[e]=t}),CatmullRom:function(e,t,n,i,o,a){if("string"==typeof e)return t;if("number"==typeof e){var s=.5*(n-e),u=.5*(i-t),l=o*o;return(2*t-2*n+s+u)*(o*l)+(-3*t+3*n-2*s-u)*l+s*o+t}if("object"===r(e)){if(void 0!==e.length){if(e[0]===T){for(var c="",d=1,f=e.length;d<f;d++){var h="number"==typeof e[d]?U.Utils.CatmullRom(e[d],t[d],n[d],i[d],o):i[d];(R(e,d)||R(e,d,I))&&(h|=0),c+=h}return c}for(var p=0,m=a.length;p<m;p++)a[p]=U.Utils.CatmullRom(e[p],t[p],n[p],i[p],o,a[p])}else for(var g in a)a[g]=U.Utils.CatmullRom(e[g],t[g],n[g],i[g],o,a[g]);return a}}}},V={},G=function(e,t,n){if(!e||!e.nodeType)return t;var i=e.queueID||"q_"+Date.now();e.queueID||(e.queueID=i);var o=V[i];if(o){if(o.object===t&&e===o.tween.node&&n._startTime===o.tween._startTime)w(o.tween);else if("object"===r(t)&&t&&o.object){for(var s in t)s in o.object&&(n._startTime===o.tween._startTime?delete o.object[s]:o.propNormaliseRequired=!0);o.object=a({},o.object,t)}return o.object}return"object"===r(t)&&t?(V[i]={tween:n,object:t,propNormaliseRequired:!1},V[i].object):t},q=function(e,t){return t?e?e===window||e===document?[e]:"string"==typeof e?!!document.querySelectorAll&&document.querySelectorAll(e):Array.isArray(e)?e:e.nodeType?[e]:[]:null:e?e===window||e===document?e:"string"==typeof e?!!document.querySelector&&document.querySelector(e):Array.isArray(e)?e[0]:e.nodeType?e:null:null},K=0,$=x.Linear.None,X=function(){function e(t,n){return function(t,n){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),this.id=K++,!t||"object"!==r(t)||n||t.nodeType?t&&(t.nodeType||t.length||"string"==typeof t)&&(t=this.node=q(t),n=this.object=G(t,n,this)):(n=this.object=t,t=null),this._valuesEnd=null,this._valuesStart={},this._duration=1e3,this._easingFunction=$,this._easingReverse=$,this._interpolationFunction=U.Linear,this._startTime=0,this._initTime=0,this._delayTime=0,this._repeat=0,this._r=0,this._isPlaying=!1,this._yoyo=!1,this._reversed=!1,this._onStartCallbackFired=!1,this._pausedTime=null,this._isFinite=!0,this._maxListener=15,this._chainedTweensCount=0,this._prevTime=null,this}return o(e,null,[{key:"fromTo",value:function(t,n,r){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};i.quickRender=i.quickRender?i.quickRender:!r;var o=new e(t,n).to(r,i);return i.quickRender&&(o.render().update(o._startTime),o._rendered=!1,o._onStartCallbackFired=!1),o}},{key:"to",value:function(t,n,r){return e.fromTo(t,null,n,r)}},{key:"from",value:function(t,n,r){return e.fromTo(t,n,null,r)}}]),o(e,[{key:"setMaxListener",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:15;return this._maxListener=e,this}},{key:"on",value:function(e,t){for(var n=this._maxListener,r=e+M,i=0;i<n;i++){var o=r+i;if(!this[o]){this[o]=t;break}}return this}},{key:"once",value:function(e,t){return this}},{key:"off",value:function(e,t){for(var n=this._maxListener,r=e+M,i=0;i<n;i++){var o=r+i;this[o]===t&&(this[o]=null)}return this}},{key:"emit",value:function(e,t,n,r,i){var o=this._maxListener,a=e+M;if(!this[a+0])return this;for(var s=0;s<o;s++){var u=a+s;this[u]&&this[u](t,n,r,i)}return this}},{key:"isPlaying",value:function(){return this._isPlaying}},{key:"isStarted",value:function(){return this._onStartCallbackFired}},{key:"reverse",value:function(e){var t=this._reversed;return this._reversed=void 0!==e?e:!t,this}},{key:"reversed",value:function(){return this._reversed}},{key:"pause",value:function(){return this._isPlaying?(this._isPlaying=!1,w(this),this._pausedTime=c(),this.emit("pause",this.object)):this}},{key:"play",value:function(){return this._isPlaying?this:(this._isPlaying=!0,this._startTime+=c()-this._pausedTime,this._initTime=this._startTime,b(this),this._pausedTime=c(),this.emit("play",this.object))}},{key:"restart",value:function(e){return this._repeat=this._r,this.reassignValues(),b(this),this.emit("restart",this.object)}},{key:"seek",value:function(e,t){var n=this._duration,r=this._initTime,i=this._startTime,o=this._reversed,a=r+e;return this._isPlaying=!0,a<i&&r<=i&&(this._startTime-=n,this._reversed=!o),this.update(e,!1),this.emit("seek",e,this.object),t?this:this.pause()}},{key:"duration",value:function(e){return this._duration="function"==typeof e?e(this._duration):e,this}},{key:"to",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1e3;if(this._valuesEnd=e,"number"==typeof t||"function"==typeof t)this._duration="function"==typeof t?t(this._duration):t;else if("object"===r(t))for(var n in t)if("function"==typeof this[n]){var i=s(Array.isArray(t[n])?t[n]:[t[n]],4),o=i[0],a=void 0===o?null:o,u=i[1],l=void 0===u?null:u,c=i[2],d=void 0===c?null:c,f=i[3],h=void 0===f?null:f;this[n](a,l,d,h)}return this}},{key:"render",value:function(){if(this._rendered)return this;var t=this._valuesStart,n=this._valuesEnd,r=this.object,i=this.node,o=this.InitialValues;if(W(r),W(n),i&&i.queueID&&V[i.queueID]){var a=V[i.queueID];a.propNormaliseRequired&&a.tween!==this&&(a.normalisedProp=!0,a.propNormaliseRequired=!1)}for(var s in i&&o&&(r&&0!==Object.keys(r).length?n&&0!==Object.keys(n).length||(n=this._valuesEnd=o(i,r)):r=this.object=G(i,o(i,n),this)),n){var u=r&&r[s]&&A(r[s]),l=n[s];if(!(E[s]&&E[s].init&&(E[s].init.call(this,u,l,s,r),void 0===u&&t[s]&&(u=t[s]),E[s].skipProcess)||"number"==typeof u&&isNaN(u)||null===u||null===l||!1===u||!1===l||void 0===u||void 0===l||u===l)){if(Array.isArray(l)&&!Array.isArray(u)){l.unshift(u);for(var c=0,d=l.length;c<d;c++)if("string"==typeof l[c]){for(var f=j(l[c]),h={length:f.length,isString:!0},p=0,m=f.length;p<m;p++)h[p]=f[p];l[c]=h}}"number"==typeof(t[s]=u)&&"string"==typeof l&&"="===l[1]||P(s,r,t,n)}}return e.Renderer&&this.node&&e.Renderer.init&&(e.Renderer.init.call(this,r,t,n),this.__render=!0),this}},{key:"start",value:function(e){return this._startTime=void 0!==e?"string"==typeof e?c()+parseFloat(e):e:c(),this._startTime+=this._delayTime,this._initTime=this._prevTime=this._startTime,this._onStartCallbackFired=!1,this._rendered=!1,this._isPlaying=!0,b(this),this}},{key:"stop",value:function(){var e=this._isPlaying,t=this._isFinite,n=this.object,r=this._startTime,i=this._duration,o=this._r,a=this._yoyo,s=this._reversed;if(!e)return this;var u=t?(o+1)%2==1:!s;return this._reversed=!1,a&&u?this.update(r):this.update(r+i),w(this),this.emit("stop",n)}},{key:"delay",value:function(e){return this._delayTime="function"==typeof e?e(this._delayTime):e,this}},{key:"chainedTweens",value:function(){if(this._chainedTweensCount=arguments.length,!this._chainedTweensCount)return this;for(var e=0,t=this._chainedTweensCount;e<t;e++)this[S+e]=arguments[e];return this}},{key:"repeat",value:function(e){return this._repeat=this._duration?"function"==typeof e?e(this._repeat):e:0,this._r=this._repeat,this._isFinite=isFinite(e),this}},{key:"reverseDelay",value:function(e){return this._reverseDelayTime="function"==typeof e?e(this._reverseDelayTime):e,this}},{key:"yoyo",value:function(e,t){return this._yoyo="function"==typeof e?e(this._yoyo):null===e?this._yoyo:e,e||(this._reversed=!1),this._easingReverse=t||null,this}},{key:"easing",value:function(e){return this._easingFunction=e,this}},{key:"interpolation",value:function(e){return"function"==typeof e&&(this._interpolationFunction=e),this}},{key:"reassignValues",value:function(e){var t=this._valuesStart,n=this.object,r=this._delayTime;for(var i in this._isPlaying=!0,this._startTime=void 0!==e?e:c(),this._startTime+=r,this._reversed=!1,b(this),t){var o=t[i];n[i]=o}return this}},{key:"update",value:function(t,n,r){var i,o,a,s=this._onStartCallbackFired,u=this._easingFunction,l=this._interpolationFunction,d=this._easingReverse,f=this._repeat,h=this._delayTime,p=this._reverseDelayTime,m=this._yoyo,g=this._reversed,y=this._startTime,v=this._prevTime,b=this._duration,_=this._valuesStart,k=this._valuesEnd,x=this.object,M=this._isFinite,T=this._isPlaying,C=this.__render,A=this._chainedTweensCount,O=0;if(b){var N=(t=void 0!==t?t:c())-v;if(this._prevTime=t,250<N&&(t-=N-50/3),!T||t<y&&!r)return!0;i=1<(i=(t-y)/b)?1:i,i=g?1-i:i}else i=1,f=0;if(s||(this._rendered||(this.render(),this._rendered=!0),this.emit("start",x),this._onStartCallbackFired=!0),o=g&&d||u,!x)return!0;for(a in k){var L=_[a];if(null!=L||E[a]&&E[a].update){var j=k[a],P=o[a]?o[a](i):"function"==typeof o?o(i):$(i),D=l[a]?l[a]:"function"==typeof l?l:U.Linear;"number"==typeof j?x[a]=L+(j-L)*P:Array.isArray(j)&&!Array.isArray(L)?x[a]=D(j,P,x[a]):j&&j.update?j.update(P):"function"==typeof j?x[a]=j(P):"string"==typeof j&&"number"==typeof L?x[a]=L+parseFloat(j[0]+j.substr(2))*P:F(a,x,_,k,P,i),E[a]&&E[a].update&&E[a].update.call(this,x[a],L,j,P,i,a),O++}}if(!O)return w(this),!1;if(C&&e.Renderer&&e.Renderer.update&&e.Renderer.update.call(this,x,i),this.emit("update",x,i,t),1===i||g&&0===i){if(0<f&&0<b){if(M&&this._repeat--,m)this._reversed=!g;else for(a in k){var I=k[a];"string"==typeof I&&"number"==typeof _[a]&&(_[a]+=parseFloat(I[0]+I.substr(2)))}return this.emit(m&&!g?"reverse":"repeat",x),this._startTime=g&&p?t-p:t+h,!0}if(n||(this._isPlaying=!1,w(this),K--),this.emit("complete",x),this._repeat=this._r,A)for(var R=0;R<A;R++)this[S+R].start(t+b);return!1}return!0}}]),e}();t.Plugins=E,t.Selector=q,t.Interpolator=function(e,t){var n=Array.isArray(e),i="string"==typeof e?e:n?e.slice():a({},e);if(n)for(var o=0,s=e.length;o<s;o++)P(o,i,e,t);else if("object"===r(e))for(var u in e)P(u,i,e,t);else if("string"==typeof e){e=j(e),t=j(t);for(var l=1;l<e.length;)e[l]===t[l]&&"string"==typeof e[l-1]?(e.splice(l-1,2,e[l-1]+e[l]),t.splice(l-1,2,t[l-1]+t[l])):l++;for(var c={isString:!0,length:e.length};l<c.length;)c[l]=e[l],l++}return function(o){if(n)for(var a=0,s=e.length;a<s;a++)F(a,i,e,t,o);else if("object"===r(i))for(var u in e)F(u,i,e,t,o);else"string"==typeof i&&(i=F(0,0,e,t,o,o,!0));return i}},t.onTick=function(e){return d.push({update:e})},t.has=function(e){return null!==_(e)},t.get=_,t.getAll=function(){return d},t.removeAll=function(){d.length=0},t.remove=w,t.add=b,t.now=c,t.update=k,t.autoPlay=function(e){h=e},t.isRunning=function(){return f},t.onRequestTick=function(e){p.push(e)},t.FrameThrottle=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:120;y=e},t.Tween=X,t.Easing=x,t.Interpolation=U,Object.defineProperty(t,"__esModule",{value:!0})})(t)}).call(t,n(22),n(59))},function(t,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.MapBoxAccessToken=void 0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(r(23)),a=u(r(11)),s=u(r(10));function u(e){return e&&e.__esModule?e:{default:e}}var l="https://api.mapbox.com/mapbox-gl-js/v0.49.0/mapbox-gl.css",c="https://api.mapbox.com/mapbox-gl-js/v0.49.0/mapbox-gl.js",d="dark",f="pk.eyJ1IjoibGkzNDI0OTQ0OTEiLCJhIjoiY2poaDhrZDFuMXVlYjM2bDh0eXlvYzJoOCJ9.0okdjDMoJopxEhINIQfzyg",h=function(t){function n(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return t.config=Object.assign({width:2e3,height:1200,z:-10,scale:.01,debug:!1},e),t.mapDom=document.getElementById("map"),t.mapDom.style.width=t.config.width+"px",t.mapDom.style.height=t.config.height+"px",t.mapDom.style.display="none",t.mapDom.className=t.config.debug?"debug":"",t.type="worldmap",t.mesh=null,t.map=null,t.visible=!1,t.mode="Wall",t.events={render:[]},t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,o.Object3D),i(n,[{key:"switchMode",value:function(){"Wall"==this.mode?(this.mode="Floor",this.mesh.rotation.x=Math.PI/2):(this.mode="Wall",this.mesh.rotation.x=0)}},{key:"on",value:function(e,t){if(this.visible)if(this.events[e]&&t){var n=this.events[e].filter(function(e){return e.toString()==t.toString()});if(n&&n.length>0){var r=a.default.findIndex(this.events[e],function(e){return e.toString()==t.toString()});this.events[e][r]=t}else this.events[e].push(t)}else console.warn("Only support the events :",Object.keys(this.events))}},{key:"_handleEvent",value:function(e,t){this.events[e]&&this.events[e].length>0&&this.events[e].forEach(function(e){e(t)})}},{key:"show",value:function(){var e=this;return new Promise(function(t,n){s.default.showLoading(),e.mapDom.style.display="block",e.init().then(function(){return s.default.hideLoading(),e._handleEvent("render"),e.visible=!0,t("done")}).catch(function(e){return n("erro")})})}},{key:"hide",value:function(){this.mapDom.style.display="none",this.visible=!1}},{key:"init",value:function(){var e=this,t=this;return new Promise(function(n,r){if(e.mesh)return n("done");Promise.all([s.default.loadJS(c),s.default.loadCSS(l)]).then(function(e){if(mapboxgl.accessToken=f,t.map)return n("done");t.map=new mapboxgl.Map({container:"map",style:"mapbox://styles/mapbox/"+d+"-v9?optimize=true",center:[0,0],zoom:2,preserveDrawingBuffer:!0,animate:!1,globals:{XMLHttpRequest:new window.XMLHttpRequest}}),window._mapboxgl=t.map,t.map.on("load",function(e){console.log("mapbox loaded");var r=t.map.getCanvas(),i=new o.Texture(r);i.minFilter=o.LinearFilter;var a=new o.MeshBasicMaterial({overdraw:.5,map:i,color:16777215,side:o.DoubleSide,transparent:!1}),s=new o.PlaneGeometry(t.config.width,t.config.height,1),u=new o.Mesh(s,a);i.needsUpdate=!0,u.scale.set(t.config.scale,t.config.scale,t.config.scale),u.position.z=t.config.z,t.mesh=u,t.add(u),n("done")}),t.map.on("render",function(e){t.updateMap(),t._handleEvent("render")})})})}},{key:"adjust",value:function(e){var t=void 0==e.zoom?1:1*e.zoom,n=void 0==e.lng?0:1*e.lng,r=void 0==e.lat?0:1*e.lat;this.map&&(this.map.setCenter({lng:n,lat:r}),this.map.setZoom(t))}},{key:"updateMap",value:function(){this.mesh&&(this.mesh.material.needsUpdate=!0,this.mesh.material.map.needsUpdate=!0)}},{key:"project",value:function(e){var t=this.map.project(e),n=(t.x-this.config.width/2)*this.config.scale,r=-(t.y-this.config.height/2)*this.config.scale,i=this.config.z+.04;return"Floor"==this.mode&&(i=r+this.config.z,r=.04),new o.Vector3(n,r,i)}},{key:"convertEvent",value:function(e,t,n){if(this.config.debug){if(!this.debugbox){var r=new o.SphereGeometry(.1),i=new o.MeshBasicMaterial({color:"green"});this.debugbox=new o.Mesh(r,i),this.debugbox.scale.set(1,this.config.width/this.config.height,1),this.debugbox.name="map-debug-box",this.add(this.debugbox)}this.debugbox.position.copy(e.clone())}else this.debugbox&&(this.remove(this.debugbox),this.debugbox=null);var a={x:(e=this.mesh.worldToLocal(e.clone())).x+this.mesh.geometry.parameters.width/2,y:-(e.y-this.mesh.geometry.parameters.height/2)},s={bubbles:!0,cancelable:!0,x:a.x,y:a.y,clientX:a.x,clientY:a.y},u=null;switch(this._lastEvent||(this._lastEvent=s),t){case"mousedown":this.map.dragPan.enable(),this._lastEvent=s,u=new MouseEvent(t,s);break;case"mousemove":s.movementX=s.x-this._lastEvent.x,s.movementY=s.y-this._lastEvent.y,u=new MouseEvent(t,s);break;case"wheel":s.deltaMode=0,s.deltaX=n.deltaX||s.x-this._lastEvent.x||0,s.deltaY=n.deltaY||s.y-this._lastEvent.y||0,s.deltaZ=n.deltaZ||s.z-this._lastEvent.z||0,u=new WheelEvent(t,s);break;case"mouseup":this.map.dragPan.disable(),u=new MouseEvent(t,s)}this.config.debug&&(this.debugMouseDomBox||(this.debugMouseDomBox=document.createElement("div"),this.debugMouseDomBox.textContent="",this.debugMouseDomBox.style.position="absolute",this.debugMouseDomBox.style.pointerEvents="none",this.debugMouseDomBox.style.width="8px",this.debugMouseDomBox.style.height="8px",this.debugMouseDomBox.style.backgroundColor="red",this.debugMouseDomBox.style.borderRadius="4px",this.mapDom.appendChild(this.debugMouseDomBox)),this.debugMouseDomBox.style.top=s.y+"px",this.debugMouseDomBox.style.left=s.x+"px"),u.simulated=!0,u.fromSource="map",this._lastEvent=s,this.map.getCanvas().dispatchEvent(u)}},{key:"isLoaded",get:function(){return this.map&&this.map.loaded()}}],[{key:"getIntersect",value:function(e){if(!this.intersectObject.mesh)return this.intersectObject.init(),null;var t=e.clientX||e.changedTouches&&e.changedTouches[0]&&e.changedTouches[0].pageX||0,n=e.clientY||e.changedTouches&&e.changedTouches[0]&&e.changedTouches[0].pageY||0,r=new o.Vector3(t/window.innerWidth*2-1,-n/window.innerHeight*2+1,.5);r=(r=r.unproject(this.camera)).sub(this.camera.position.clone()).normalize(),this.ray.set(this.camera.position.clone(),r);var i=this.ray.intersectObject(this.intersectObject.mesh);return i.length<=0?null:i[0]}},{key:"configClick",value:function(e,t,n,r){var i=this;this.ray=new o.Raycaster,r&&(this.ray.far=r),this._enable=!1,this.controls=n,this.intersectObject=e,this.camera=t;var a=function(e){e.changedTouches&&e.changedTouches.length>1||(i._lastMoveEvent=null,i._mouseDown=!0,i.handleMouseEvent(e),window.document.addEventListener("mousemove",u))},s=function(e){window.document.removeEventListener("mousemove",u),i._mouseDown=!1,document.body.style.cursor="default",i._lastMoveEvent&&(i._lastMoveEvent=null,i.handleMouseEvent(e))},u=function(e){i._mouseDown&&(i.handleMouseEvent(e),i._lastMoveEvent=e)};window.document.addEventListener("mousedown",a,{capture:!0}),window.document.addEventListener("mouseup",s,{capture:!0}),window.addEventListener("wheel",function(e){i.handleMouseEvent(e)},!1),window.document.addEventListener("touchstart",a,!1),window.document.addEventListener("touchmove",u,{capture:!0,passive:!1}),window.document.addEventListener("touchend",s,!1),window.document.addEventListener("touchcancel",s,!1)}},{key:"handleMouseEvent",value:function(t){if(this.enable&&!t.simulated){switch(this.controls.enabled&&(this.controls.enabled=!1),t.type){case"mousedown":case"mousemove":document.body.style.cursor="move";break;case"wheel":document.body.style.cursor=e.deltaY>0?"zoom-in":"zoom-out"}var n=this.getIntersect(t);return this.convertEvent(n,t),n}}},{key:"convertEvent",value:function(e,t){if(e){var r=t.type,i={};t.deltaY&&(i.deltaY=t.deltaY,i.deltaZ=t.deltaZ||0,i.deltaX=t.deltaX||0);var o=e.point.clone(),a=e.object;o&&a||console.warn("miss parameter point & WorldMap"),a instanceof n?a.convertEvent(o,r,i):a.parent instanceof n?a.parent.convertEvent(o,r,i):console.warn(" the object is not WorldMap instance",a)}}},{key:"enable",get:function(){return!!this._enable},set:function(e){this._enable=!!e,e||(document.body.style.cursor="default")}}]),n}();n.default=h,n.MapBoxAccessToken=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(11),s=(r=a)&&r.__esModule?r:{default:r};var u=n(252).v1,l=null,c=/http(s)?:\/\/[a-z\.]+\//gi,d=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.nodes=[],this.relationships=[]}return o(e,null,[{key:"format",value:function(e,t){return this.shareInstance().format(e,t)}},{key:"formatFromNeo4jTable",value:function(e){return this.shareInstance().formatFromNeo4jTable(e)}},{key:"shareInstance",value:function(){return l||(l=new this),l}}]),o(e,[{key:"filterNodes",value:function(e){return this.nodes=e(this.nodes),this}},{key:"filterRelationships",value:function(e){return this.relationships=e(this.relationships),this}},{key:"format",value:function(e,t){var n={};if("allegrograph"===window.globalVariable.graphDatabaseType)n=this.formatFromAllegroGraph(e);else switch(t=t||String(e.type).toLocaleLowerCase()){case"graph":n=this.formatFromNeo4jGraph(e);break;case"node":n=this.formatFromNeo4jNodes(e);break;case"remote":n=this.formatFromRemoteGraph(e);break;default:n=this.formatFromNeo4jGraph(e)}return n}},{key:"formatFromAllegroGraph",value:function(e){var t=this;return e.forEach(function(e){var n={startNode:null,endNode:null,type:null};s.default.forEach(e,function(e,r){var i=null;c.test(e.value)&&(e.value=e.value.replace(c,"")),e.isRelation?n.type=e.value:i={id:e.id,properties:Object.assign({text:e.value},e),labels:[e.type]},i&&(t.nodes.push(i),n.startNode?n.endNode=i.id:n.startNode=i.id)}),(n.startNode||n.endNode||n.type)&&t.relationships.push(n)}),this}},{key:"formatFromNeo4jTable",value:function(e){var t=[];if("TABLE"==e.type){var n=e.data,r=n.shift();t=n.map(function(e){var t={};return e.forEach(function(e,n){t[r[n]]=e&&"object"==(void 0===e?"undefined":i(e))&&void 0!==e.low&&void 0!==e.high?u.integer.toString(e):e}),t})||[]}return t}},{key:"formatFromNeo4jGraph",value:function(e){if("GRAPH"==e.type){var t=e.data;this.nodes=t.nodes.map(function(e){var t=e.properties;return Object.keys(t).forEach(function(e){isNaN(Number(t[e]))||(t[e]=parseFloat(t[e]))}),e}),this.relationships=t.relationships}return this}},{key:"formatFromRemoteGraph",value:function(e){return this.nodes=e.nodes.map(function(e){var t={};return t.id=e.id,t.labels=e.data.detail.type.split(":"),t.position={x:e.position.x,y:e.position.y,z:e.position.z},t.properties=e.data.detail.data,t}),this.relationships=e.edges.map(function(e){var t={};return t.id=e.id,t.startNode=e.sourceId,t.endNode=e.targetId,t.type=e.name,t}),this}},{key:"formatFromNeo4jNodes",value:function(e){return this.nodes=e,this.relationships=[],this}},{key:"build",value:function(){var e=this,t=[];this.relationships.length>0&&(t=this.relationships.map(function(t){var n={},r=null,i=null,o=e.findNodeById(t.startNodeId),a=e.findNodeById(t.endNodeId);return o?(r={uid:o.id,data:o.properties,type:o.labels.join(":")},o.position&&(r.position=o.position)):r={uid:t.startNodeId},a?(i={uid:a.id,data:a.properties,type:a.labels.join(":")},a.position&&(i.position=a.position)):i={uid:t.endNodeId},n.id=t.id,n.properties=t.properties,n.object=r,n.subject=i,n.relationship=t.type||"",n}));var n=s.default.flatMap(this.relationships.map(function(e){return[e.startNodeId,e.endNodeId]})),r=this.nodes.filter(function(e){return!n.includes(e.id)}).map(function(e){var t={},n={};return n.uid=e.id,n.data=e.properties,n.type=e.labels.join(":"),t.object=n,t.subject=null,t.relationship="",t});return t=t.concat(r),this.relationships=[],this.nodes=[],t}},{key:"findNodeById",value:function(e){return this.nodes.find(function(t){return t.id==e})}}]),e}();t.default=d},function(e,t,n){"use strict";var r=n(116);function i(e){var t=e.Symbol;if("function"==typeof t)return t.iterator||(t.iterator=t("iterator polyfill")),t.iterator;var n=e.Set;if(n&&"function"==typeof(new n)["@@iterator"])return"@@iterator";var r=e.Map;if(r)for(var i=Object.getOwnPropertyNames(r.prototype),o=0;o<i.length;++o){var a=i[o];if("entries"!==a&&"size"!==a&&r.prototype[a]===r.prototype.entries)return a}return"@@iterator"}t.symbolIteratorPonyfill=i,t.iterator=i(r.root),t.$$iterator=t.iterator},function(e,t,n){"use strict";var r=n(276),i=n(751),o=n(1176),a=n(752);t.concat=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return 1===e.length||2===e.length&&r.isScheduler(e[1])?o.from(e[0]):a.concatAll()(i.of.apply(void 0,e))}},function(e,t,n){"use strict";var r=n(7),i=function(){function e(e,t,n){this.kind=e,this.value=t,this.error=n,this.hasValue="N"===e}return e.prototype.observe=function(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}},e.prototype.do=function(e,t,n){switch(this.kind){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return n&&n()}},e.prototype.accept=function(e,t,n){return e&&"function"==typeof e.next?this.observe(e):this.do(e,t,n)},e.prototype.toObservable=function(){switch(this.kind){case"N":return r.Observable.of(this.value);case"E":return r.Observable.throw(this.error);case"C":return r.Observable.empty()}throw new Error("unexpected notification kind value")},e.createNext=function(t){return void 0!==t?new e("N",t):e.undefinedValueNotification},e.createError=function(t){return new e("E",void 0,t)},e.createComplete=function(){return e.completeNotification},e.completeNotification=new e("C"),e.undefinedValueNotification=new e("N",void 0),e}();t.Notification=i},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},i=n(46),o=n(45);t.mergeMap=function(e,t,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),function(r){return"number"==typeof t&&(n=t,t=null),r.lift(new a(e,t,n))}};var a=function(){function e(e,t,n){void 0===n&&(n=Number.POSITIVE_INFINITY),this.project=e,this.resultSelector=t,this.concurrent=n}return e.prototype.call=function(e,t){return t.subscribe(new s(e,this.project,this.resultSelector,this.concurrent))},e}();t.MergeMapOperator=a;var s=function(e){function t(t,n,r,i){void 0===i&&(i=Number.POSITIVE_INFINITY),e.call(this,t),this.project=n,this.resultSelector=r,this.concurrent=i,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}return r(t,e),t.prototype._next=function(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)},t.prototype._tryNext=function(e){var t,n=this.index++;try{t=this.project(e,n)}catch(e){return void this.destination.error(e)}this.active++,this._innerSub(t,e,n)},t.prototype._innerSub=function(e,t,n){this.add(i.subscribeToResult(this,e,t,n))},t.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete()},t.prototype.notifyNext=function(e,t,n,r,i){this.resultSelector?this._notifyResultSelector(e,t,n,r):this.destination.next(t)},t.prototype._notifyResultSelector=function(e,t,n,r){var i;try{i=this.resultSelector(e,t,n,r)}catch(e){return void this.destination.error(e)}this.destination.next(i)},t.prototype.notifyComplete=function(e){var t=this.buffer;this.remove(e),this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},t}(o.OuterSubscriber);t.MergeMapSubscriber=s},function(e,t,n){"use strict";var r=n(288);t.isNumeric=function(e){return!r.isArray(e)&&e-parseFloat(e)+1>=0}},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},i=n(116),o=function(e){function t(t,n){e.call(this,t,n),this.scheduler=t,this.pending=!1,this.work=n}return r(t,e),t.prototype.schedule=function(e,t){if(void 0===t&&(t=0),this.closed)return this;this.state=e,this.pending=!0;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,t)),this.delay=t,this.id=this.id||this.requestAsyncId(r,this.id,t),this},t.prototype.requestAsyncId=function(e,t,n){return void 0===n&&(n=0),i.root.setInterval(e.flush.bind(e,this),n)},t.prototype.recycleAsyncId=function(e,t,n){if(void 0===n&&(n=0),null!==n&&this.delay===n&&!1===this.pending)return t;i.root.clearInterval(t)},t.prototype.execute=function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(e,t){var n=!1,r=void 0;try{this.work(e)}catch(e){n=!0,r=!!e&&e||new Error(e)}if(n)return this.unsubscribe(),r},t.prototype._unsubscribe=function(){var e=this.id,t=this.scheduler,n=t.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null},t}(n(2026).Action);t.AsyncAction=o},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},i=function(e){function t(){e.apply(this,arguments),this.actions=[],this.active=!1,this.scheduled=void 0}return r(t,e),t.prototype.flush=function(e){var t=this.actions;if(this.active)t.push(e);else{var n;this.active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}},t}(n(2027).Scheduler);t.AsyncScheduler=i},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},i=n(24);t.map=function(e,t){return function(n){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new o(e,t))}};var o=function(){function e(e,t){this.project=e,this.thisArg=t}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.project,this.thisArg))},e}();t.MapOperator=o;var a=function(e){function t(t,n,r){e.call(this,t),this.project=n,this.count=0,this.thisArg=r||this}return r(t,e),t.prototype._next=function(e){var t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(e){return void this.destination.error(e)}this.destination.next(t)},t}(i.Subscriber)},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},i=function(e){function t(){var t=e.call(this,"argument out of range");this.name=t.name="ArgumentOutOfRangeError",this.stack=t.stack,this.message=t.message}return r(t,e),t}(Error);t.ArgumentOutOfRangeError=i},function(e,t,n){"use strict";var r=n(761),i=n(762),o=n(756),a=n(748);t.reduce=function(e,t){return arguments.length>=2?function(n){return a.pipe(r.scan(e,t),i.takeLast(1),o.defaultIfEmpty(t))(n)}:function(t){return a.pipe(r.scan(function(t,n,r){return e(t,n,r+1)}),i.takeLast(1))(t)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.splitStringOnFirst=function(e,t){const n=e.split(t);return[].concat(n[0],n.slice(1).join(t))},t.getCommand=function(e,t){return e.split(t)[0]},t.getCommandParams=function(e,t){let n=e.split(t);return n.slice(1,n.length)},t.getFuncParams=function(e){if(e=String(e).trim(),/^[a-z$_]([a-z$_0-9]+)?\((.+)\)$/gi.test(e)){let t=e.replace(/.+\((.+)\)$/gi,"$1");t=(t=(t=t.replace(/^\'/g,'"').replace(/\'$/g,'"')).replace(/([\[\{\,\:])(\s+)?(\')/gi,'$1"').replace(/\'(\s+)?([\:\,\}\]])/gi,'"$2')).replace(/([\{\,])(\s+)?(\w+)(\s+)?\:/gi,'$1"$3":');let n=[];try{n=JSON.parse(`[${t}]`)}catch(t){console.error("Can not parse the (",e,")",t)}return n}return[]}},function(e,t){var n={tr:{regexp:/\u0130|\u0049|\u0049\u0307/g,map:{"":"i",I:"","I":"i"}},az:{regexp:/[\u0130]/g,map:{"":"i",I:"","I":"i"}},lt:{regexp:/[\u0049\u004A\u012E\u00CC\u00CD\u0128]/g,map:{I:"i",J:"j","":"","":"i","":"i","":"i"}}};e.exports=function(e,t){var r=n[t];return e=null==e?"":String(e),r&&(e=e.replace(r.regexp,function(e){return r.map[e]})),e.toLowerCase()}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){(function(e){"use strict";var t=function(e){return new RegExp("^(?:"+e.join("|")+")$","i")};e.defineMode("cypher",function(n){var r,i=function(e){var t=e.next();if('"'===t)return e.match(/.*?"/),"string";if("'"===t)return e.match(/.*?'/),"string";if(/[{}\(\),\.;\[\]]/.test(t))return r=t,"node";if("/"===t&&e.eat("/"))return e.skipToEnd(),"comment";if(d.test(t))return e.eatWhile(d),null;if(e.eatWhile(/[_\w\d]/),e.eat(":"))return e.eatWhile(/[\w\d_\-]/),"atom";var n=e.current();return u.test(n)?"builtin":l.test(n)?"def":c.test(n)?"keyword":"variable"},o=function(e,t,n){return e.context={prev:e.context,indent:e.indent,col:n,type:t}},a=function(e){return e.indent=e.context.indent,e.context=e.context.prev},s=n.indentUnit,u=t(["abs","acos","allShortestPaths","asin","atan","atan2","avg","ceil","coalesce","collect","cos","cot","count","degrees","e","endnode","exp","extract","filter","floor","haversin","head","id","keys","labels","last","left","length","log","log10","lower","ltrim","max","min","node","nodes","percentileCont","percentileDisc","pi","radians","rand","range","reduce","rel","relationship","relationships","replace","reverse","right","round","rtrim","shortestPath","sign","sin","size","split","sqrt","startnode","stdev","stdevp","str","substring","sum","tail","tan","timestamp","toFloat","toInt","toString","trim","type","upper"]),l=t(["all","and","any","contains","exists","has","in","none","not","or","single","xor"]),c=t(["as","asc","ascending","assert","by","case","commit","constraint","create","csv","cypher","delete","desc","descending","detach","distinct","drop","else","end","ends","explain","false","fieldterminator","foreach","from","headers","in","index","is","join","limit","load","match","merge","null","on","optional","order","periodic","profile","remove","return","scan","set","skip","start","starts","then","true","union","unique","unwind","using","when","where","with","call","yield"]),d=/[*+\-<>=&|~%^]/;return{startState:function(){return{tokenize:i,context:null,indent:0,col:0}},token:function(e,t){if(e.sol()&&(t.context&&null==t.context.align&&(t.context.align=!1),t.indent=e.indentation()),e.eatSpace())return null;var n=t.tokenize(e,t);if("comment"!==n&&t.context&&null==t.context.align&&"pattern"!==t.context.type&&(t.context.align=!0),"("===r)o(t,")",e.column());else if("["===r)o(t,"]",e.column());else if("{"===r)o(t,"}",e.column());else if(/[\]\}\)]/.test(r)){for(;t.context&&"pattern"===t.context.type;)a(t);t.context&&r===t.context.type&&a(t)}else"."===r&&t.context&&"pattern"===t.context.type?a(t):/atom|string|variable/.test(n)&&t.context&&(/[\}\]]/.test(t.context.type)?o(t,"pattern",e.column()):"pattern"!==t.context.type||t.context.align||(t.context.align=!0,t.context.col=e.column()));return n},indent:function(t,n){var r=n&&n.charAt(0),i=t.context;if(/[\]\}]/.test(r))for(;i&&"pattern"===i.type;)i=i.prev;var o=i&&r===i.type;return i?"keywords"===i.type?e.commands.newlineAndIndent:i.align?i.col+(o?0:1):i.indent+(o?0:s):0}}}),e.modeExtensions.cypher={autoFormatLineBreaks:function(e){for(var t=e.split("\n"),n=/\s+\b(return|where|order by|match|with|skip|limit|create|delete|set)\b\s/g,r=0;r<t.length;r++)t[r]=t[r].replace(n," \n$1 ").trim();return t.join("\n")}},e.defineMIME("application/x-cypher-query","cypher")})(n(69))},,,,,,,,,,,,,function(e,t){console.log("I'm `fs` modules")},function(e,t,n){(function(e){var t=/MSIE \d/.test(navigator.userAgent)&&(null==document.documentMode||document.documentMode<8),n=e.Pos,r={"(":")>",")":"(<","[":"]>","]":"[<","{":"}>","}":"{<"};function i(e,t,i){var a=e.getLineHandle(t.line),s=t.ch-1,u=i&&i.afterCursor;null==u&&(u=/(^| )cm-fat-cursor($| )/.test(e.getWrapperElement().className));var l=!u&&s>=0&&r[a.text.charAt(s)]||r[a.text.charAt(++s)];if(!l)return null;var c=">"==l.charAt(1)?1:-1;if(i&&i.strict&&c>0!=(s==t.ch))return null;var d=e.getTokenTypeAt(n(t.line,s+1)),f=o(e,n(t.line,s+(c>0?1:0)),c,d||null,i);return null==f?null:{from:n(t.line,s),to:f&&f.pos,match:f&&f.ch==l.charAt(0),forward:c>0}}function o(e,t,i,o,a){for(var s=a&&a.maxScanLineLength||1e4,u=a&&a.maxScanLines||1e3,l=[],c=a&&a.bracketRegex?a.bracketRegex:/[(){}[\]]/,d=i>0?Math.min(t.line+u,e.lastLine()+1):Math.max(e.firstLine()-1,t.line-u),f=t.line;f!=d;f+=i){var h=e.getLine(f);if(h){var p=i>0?0:h.length-1,m=i>0?h.length:-1;if(!(h.length>s))for(f==t.line&&(p=t.ch-(i<0?1:0));p!=m;p+=i){var g=h.charAt(p);if(c.test(g)&&(void 0===o||e.getTokenTypeAt(n(f,p+1))==o))if(">"==r[g].charAt(1)==i>0)l.push(g);else{if(!l.length)return{pos:n(f,p),ch:g};l.pop()}}}}return f-i!=(i>0?e.lastLine():e.firstLine())&&null}function a(e,r,o){for(var a=e.state.matchBrackets.maxHighlightLineLength||1e3,s=[],u=e.listSelections(),l=0;l<u.length;l++){var c=u[l].empty()&&i(e,u[l].head,o);if(c&&e.getLine(c.from.line).length<=a){var d=c.match?"CodeMirror-matchingbracket":"CodeMirror-nonmatchingbracket";s.push(e.markText(c.from,n(c.from.line,c.from.ch+1),{className:d})),c.to&&e.getLine(c.to.line).length<=a&&s.push(e.markText(c.to,n(c.to.line,c.to.ch+1),{className:d}))}}if(s.length){t&&e.state.focused&&e.focus();var f=function(){e.operation(function(){for(var e=0;e<s.length;e++)s[e].clear()})};if(!r)return f;setTimeout(f,800)}}function s(e){e.operation(function(){e.state.matchBrackets.currentlyHighlighted&&(e.state.matchBrackets.currentlyHighlighted(),e.state.matchBrackets.currentlyHighlighted=null),e.state.matchBrackets.currentlyHighlighted=a(e,!1,e.state.matchBrackets)})}e.defineOption("matchBrackets",!1,function(t,n,r){r&&r!=e.Init&&(t.off("cursorActivity",s),t.state.matchBrackets&&t.state.matchBrackets.currentlyHighlighted&&(t.state.matchBrackets.currentlyHighlighted(),t.state.matchBrackets.currentlyHighlighted=null)),n&&(t.state.matchBrackets="object"==typeof n?n:{},t.on("cursorActivity",s))}),e.defineExtension("matchBrackets",function(){a(this,!0)}),e.defineExtension("findMatchingBracket",function(e,t,n){return(n||"boolean"==typeof t)&&(n?(n.strict=t,t=n):t=t?{strict:!0}:null),i(this,e,t)}),e.defineExtension("scanForBracket",function(e,t,n,r){return o(this,e,t,n,r)})})(n(69))},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n(346);var o=Object.freeze({value:null,done:!0}),a=Symbol.asyncIterator||Symbol("@@asyncIterator"),s=function(){function e(t,n,r){i(this,e),this.graph=t,this.traversalStrategies=n,this.bytecode=r,this.traversers=null,this.sideEffects=null,this._traversalStrategiesPromise=null,this._traversersIteratorIndex=0}return r(e,[{key:a,value:function(){return this}},{key:"getBytecode",value:function(){return this.bytecode}},{key:"toList",value:function(){var e=this;return this._applyStrategies().then(function(){for(var t=[],n=void 0;(n=e._getNext())&&!n.done;)t.push(n.value);return t})}},{key:"iterate",value:function(){var e=this;return this.bytecode.addStep("none"),this._applyStrategies().then(function(){for(var t=void 0;(t=e._getNext())&&!t.done;);})}},{key:"next",value:function(){var e=this;return this._applyStrategies().then(function(){return e._getNext()})}},{key:"_getNext",value:function(){for(;this.traversers&&this._traversersIteratorIndex<this.traversers.length;){var e=this.traversers[this._traversersIteratorIndex];if(e.bulk>0)return e.bulk--,{value:e.object,done:!1};this._traversersIteratorIndex++}return o}},{key:"_applyStrategies",value:function(){return this._traversalStrategiesPromise?this._traversalStrategiesPromise:this._traversalStrategiesPromise=this.traversalStrategies.applyStrategies(this)}},{key:"toString",value:function(){return this.bytecode.toString()}}]),e}(),u=function(){function e(){i(this,e)}return r(e,null,[{key:"graphml",get:function(){return"graphml"}},{key:"graphson",get:function(){return"graphson"}},{key:"gryo",get:function(){return"gryo"}},{key:"reader",get:function(){return"~tinkerpop.io.reader"}},{key:"registry",get:function(){return"~tinkerpop.io.registry"}},{key:"writer",get:function(){return"~tinkerpop.io.writer"}}]),e}(),l=(function(){function e(){i(this,e)}r(e,null,[{key:"component",get:function(){return"gremlin.connectedComponentVertexProgram.component"}},{key:"edges",get:function(){return"~tinkerpop.connectedComponent.edges"}},{key:"propertyName",get:function(){return"~tinkerpop.connectedComponent.propertyName"}}])}(),function(){function e(){i(this,e)}r(e,null,[{key:"distance",get:function(){return"~tinkerpop.shortestPath.distance"}},{key:"edges",get:function(){return"~tinkerpop.shortestPath.edges"}},{key:"includeEdges",get:function(){return"~tinkerpop.shortestPath.includeEdges"}},{key:"maxDistance",get:function(){return"~tinkerpop.shortestPath.maxDistance"}},{key:"target",get:function(){return"~tinkerpop.shortestPath.target"}}])}(),function(){function e(){i(this,e)}r(e,null,[{key:"edges",get:function(){return"~tinkerpop.pageRank.edges"}},{key:"propertyName",get:function(){return"~tinkerpop.pageRank.propertyName"}},{key:"times",get:function(){return"~tinkerpop.pageRank.times"}}])}(),function(){function e(){i(this,e)}r(e,null,[{key:"edges",get:function(){return"~tinkerpop.peerPressure.edges"}},{key:"propertyName",get:function(){return"~tinkerpop.peerPressure.propertyName"}},{key:"times",get:function(){return"~tinkerpop.peerPressure.times"}}])}(),function(){function e(t,n,r){i(this,e),this.operator=t,this.value=n,this.other=r}return r(e,[{key:"toString",value:function(){return void 0===this.other?this.operator+"("+this.value+")":this.operator+"("+this.value+", "+this.other+")"}},{key:"and",value:function(t){return new e("and",this,t)}},{key:"or",value:function(t){return new e("or",this,t)}}],[{key:"between",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return c("between",t)}},{key:"eq",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return c("eq",t)}},{key:"gt",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return c("gt",t)}},{key:"gte",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return c("gte",t)}},{key:"inside",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return c("inside",t)}},{key:"lt",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return c("lt",t)}},{key:"lte",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return c("lte",t)}},{key:"neq",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return c("neq",t)}},{key:"not",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return c("not",t)}},{key:"outside",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return c("outside",t)}},{key:"test",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return c("test",t)}},{key:"within",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return c("within",t)}},{key:"without",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return c("without",t)}}]),e}());function c(e,t){return t.unshift(null,e),new(Function.prototype.bind.apply(l,t))}var d=function(){function e(t,n,r){i(this,e),this.operator=t,this.value=n,this.other=r}return r(e,[{key:"toString",value:function(){return void 0===this.other?this.operator+"("+this.value+")":this.operator+"("+this.value+", "+this.other+")"}},{key:"and",value:function(e){return new l("and",this,e)}},{key:"or",value:function(e){return new l("or",this,e)}}],[{key:"containing",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return f("containing",t)}},{key:"endingWith",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return f("endingWith",t)}},{key:"notContaining",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return f("notContaining",t)}},{key:"notEndingWith",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return f("notEndingWith",t)}},{key:"notStartingWith",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return f("notStartingWith",t)}},{key:"startingWith",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return f("startingWith",t)}}]),e}();function f(e,t){return t.unshift(null,e),new(Function.prototype.bind.apply(d,t))}function h(e,t){var n={};return t.split(" ").forEach(function(t){var r=t;r===r.toUpperCase()&&(r=r.toLowerCase()),n[r]=new p(e,t)}),n}var p=function(){function e(t,n){i(this,e),this.typeName=t,this.elementName=n}return r(e,[{key:"toString",value:function(){return this.elementName}}]),e}();e.exports={EnumValue:p,P:l,TextP:d,withOptions:{tokens:"~tinkerpop.valueMap.tokens",none:0,ids:1,labels:2,keys:4,values:8,all:15,indexer:"~tinkerpop.index.indexer",list:0,map:1},IO:u,Traversal:s,TraversalSideEffects:function e(){i(this,e)},Traverser:function e(t,n){i(this,e),this.object=t,this.bulk=n||1},barrier:h("Barrier","normSack"),cardinality:h("Cardinality","list set single"),column:h("Column","keys values"),direction:h("Direction","BOTH IN OUT"),graphSONVersion:h("GraphSONVersion","V1_0 V2_0 V3_0"),gryoVersion:h("GryoVersion","V1_0 V3_0"),operator:h("Operator","addAll and assign div max min minus mult or sum sumLong"),order:h("Order","asc decr desc incr shuffle"),pick:h("Pick","any none"),pop:h("Pop","all first last mixed"),scope:h("Scope","global local"),t:h("T","id key label value")}},function(e,t,n){"use strict";var r,i="object"==typeof Reflect?Reflect:null,o=i&&"function"==typeof i.apply?i.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};r=i&&"function"==typeof i.ownKeys?i.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var a=Number.isNaN||function(e){return e!=e};function s(){s.init.call(this)}e.exports=s,s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var u=10;function l(e){return void 0===e._maxListeners?s.defaultMaxListeners:e._maxListeners}function c(e,t,n,r){var i,o,a,s;if("function"!=typeof n)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof n);if(void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),o=e._events),a=o[t]),void 0===a)a=o[t]=n,++e._eventsCount;else if("function"==typeof a?a=o[t]=r?[n,a]:[a,n]:r?a.unshift(n):a.push(n),(i=l(e))>0&&a.length>i&&!a.warned){a.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=e,u.type=t,u.count=a.length,s=u,console&&console.warn&&console.warn(s)}return e}function d(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=function(){for(var e=[],t=0;t<arguments.length;t++)e.push(arguments[t]);this.fired||(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,o(this.listener,this.target,e))}.bind(r);return i.listener=n,r.wrapFn=i,i}function f(e,t,n){var r=e._events;if(void 0===r)return[];var i=r[t];return void 0===i?[]:"function"==typeof i?n?[i.listener||i]:[i]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(i):p(i,i.length)}function h(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function p(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return u},set:function(e){if("number"!=typeof e||e<0||a(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");u=e}}),s.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||a(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},s.prototype.getMaxListeners=function(){return l(this)},s.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var r="error"===e,i=this._events;if(void 0!==i)r=r&&void 0===i.error;else if(!r)return!1;if(r){var a;if(t.length>0&&(a=t[0]),a instanceof Error)throw a;var s=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw s.context=a,s}var u=i[e];if(void 0===u)return!1;if("function"==typeof u)o(u,this,t);else{var l=u.length,c=p(u,l);for(n=0;n<l;++n)o(c[n],this,t)}return!0},s.prototype.addListener=function(e,t){return c(this,e,t,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(e,t){return c(this,e,t,!0)},s.prototype.once=function(e,t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);return this.on(e,d(this,e,t)),this},s.prototype.prependOnceListener=function(e,t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);return this.prependListener(e,d(this,e,t)),this},s.prototype.removeListener=function(e,t){var n,r,i,o,a;if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);if(void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(i=-1,o=n.length-1;o>=0;o--)if(n[o]===t||n[o].listener===t){a=n[o].listener,i=o;break}if(i<0)return this;0===i?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,i),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,a||t)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var i,o=Object.keys(n);for(r=0;r<o.length;++r)"removeListener"!==(i=o[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},s.prototype.listeners=function(e){return f(this,e,!0)},s.prototype.rawListeners=function(e){return f(this,e,!1)},s.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):h.call(e,t)},s.prototype.listenerCount=h,s.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]}},function(e,t,n){"use strict";(function(t){!t.version||0===t.version.indexOf("v0.")||0===t.version.indexOf("v1.")&&0!==t.version.indexOf("v1.8.")?e.exports={nextTick:function(e,n,r,i){if("function"!=typeof e)throw new TypeError('"callback" argument must be a function');var o,a,s=arguments.length;switch(s){case 0:case 1:return t.nextTick(e);case 2:return t.nextTick(function(){e.call(null,n)});case 3:return t.nextTick(function(){e.call(null,n,r)});case 4:return t.nextTick(function(){e.call(null,n,r,i)});default:for(o=new Array(s-1),a=0;a<o.length;)o[a++]=arguments[a];return t.nextTick(function(){e.apply(null,o)})}}}:e.exports=t}).call(t,n(59))},function(e,t,n){"use strict";var r=n(40).Buffer,i=r.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(r.isEncoding===i||!i(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=u,this.end=l,t=4;break;case"utf8":this.fillLast=s,t=4;break;case"base64":this.text=c,this.end=d,t=3;break;default:return this.write=f,void(this.end=h)}this.lastNeed=0,this.lastTotal=0,this.lastChar=r.allocUnsafe(t)}function a(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function s(e){var t=this.lastTotal-this.lastNeed,n=function(e,t,n){if(128!=(192&t[0]))return e.lastNeed=0,"";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,""}}(this,e);return void 0!==n?n:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function u(e,t){if((e.length-t)%2==0){var n=e.toString("utf16le",t);if(n){var r=n.charCodeAt(n.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function l(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,n)}return t}function c(e,t){var n=(e.length-t)%3;return 0===n?e.toString("base64",t):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-n))}function d(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function f(e){return e.toString(this.encoding)}function h(e){return e&&e.length?this.write(e):""}t.StringDecoder=o,o.prototype.write=function(e){if(0===e.length)return"";var t,n;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<e.length?t?t+this.text(e,n):this.text(e,n):t||""},o.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"":t},o.prototype.text=function(e,t){var n=function(e,t,n){var r=t.length-1;if(r<n)return 0;var i=a(t[r]);if(i>=0)return i>0&&(e.lastNeed=i-1),i;if(--r<n||-2===i)return 0;if((i=a(t[r]))>=0)return i>0&&(e.lastNeed=i-2),i;if(--r<n||-2===i)return 0;if((i=a(t[r]))>=0)return i>0&&(2===i?i=0:e.lastNeed=i-3),i;return 0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=n;var r=e.length-(n-this.lastNeed);return e.copy(this.lastChar,0,r),e.toString("utf8",t,r)},o.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},function(e,t,n){var r=n(40).Buffer;function i(e){r.isBuffer(e)||(e=r.from(e));for(var t=e.length/4|0,n=new Array(t),i=0;i<t;i++)n[i]=e.readUInt32BE(4*i);return n}function o(e){for(;0<e.length;e++)e[0]=0}function a(e,t,n,r,i){for(var o,a,s,u,l=n[0],c=n[1],d=n[2],f=n[3],h=e[0]^t[0],p=e[1]^t[1],m=e[2]^t[2],g=e[3]^t[3],y=4,v=1;v<i;v++)o=l[h>>>24]^c[p>>>16&255]^d[m>>>8&255]^f[255&g]^t[y++],a=l[p>>>24]^c[m>>>16&255]^d[g>>>8&255]^f[255&h]^t[y++],s=l[m>>>24]^c[g>>>16&255]^d[h>>>8&255]^f[255&p]^t[y++],u=l[g>>>24]^c[h>>>16&255]^d[p>>>8&255]^f[255&m]^t[y++],h=o,p=a,m=s,g=u;return o=(r[h>>>24]<<24|r[p>>>16&255]<<16|r[m>>>8&255]<<8|r[255&g])^t[y++],a=(r[p>>>24]<<24|r[m>>>16&255]<<16|r[g>>>8&255]<<8|r[255&h])^t[y++],s=(r[m>>>24]<<24|r[g>>>16&255]<<16|r[h>>>8&255]<<8|r[255&p])^t[y++],u=(r[g>>>24]<<24|r[h>>>16&255]<<16|r[p>>>8&255]<<8|r[255&m])^t[y++],[o>>>=0,a>>>=0,s>>>=0,u>>>=0]}var s=[0,1,2,4,8,16,32,64,128,27,54],u=function(){for(var e=new Array(256),t=0;t<256;t++)e[t]=t<128?t<<1:t<<1^283;for(var n=[],r=[],i=[[],[],[],[]],o=[[],[],[],[]],a=0,s=0,u=0;u<256;++u){var l=s^s<<1^s<<2^s<<3^s<<4;l=l>>>8^255&l^99,n[a]=l,r[l]=a;var c=e[a],d=e[c],f=e[d],h=257*e[l]^16843008*l;i[0][a]=h<<24|h>>>8,i[1][a]=h<<16|h>>>16,i[2][a]=h<<8|h>>>24,i[3][a]=h,h=16843009*f^65537*d^257*c^16843008*a,o[0][l]=h<<24|h>>>8,o[1][l]=h<<16|h>>>16,o[2][l]=h<<8|h>>>24,o[3][l]=h,0===a?a=s=1:(a=c^e[e[e[f^c]]],s^=e[e[s]])}return{SBOX:n,INV_SBOX:r,SUB_MIX:i,INV_SUB_MIX:o}}();function l(e){this._key=i(e),this._reset()}l.blockSize=16,l.keySize=32,l.prototype.blockSize=l.blockSize,l.prototype.keySize=l.keySize,l.prototype._reset=function(){for(var e=this._key,t=e.length,n=t+6,r=4*(n+1),i=[],o=0;o<t;o++)i[o]=e[o];for(o=t;o<r;o++){var a=i[o-1];o%t==0?(a=a<<8|a>>>24,a=u.SBOX[a>>>24]<<24|u.SBOX[a>>>16&255]<<16|u.SBOX[a>>>8&255]<<8|u.SBOX[255&a],a^=s[o/t|0]<<24):t>6&&o%t==4&&(a=u.SBOX[a>>>24]<<24|u.SBOX[a>>>16&255]<<16|u.SBOX[a>>>8&255]<<8|u.SBOX[255&a]),i[o]=i[o-t]^a}for(var l=[],c=0;c<r;c++){var d=r-c,f=i[d-(c%4?0:4)];l[c]=c<4||d<=4?f:u.INV_SUB_MIX[0][u.SBOX[f>>>24]]^u.INV_SUB_MIX[1][u.SBOX[f>>>16&255]]^u.INV_SUB_MIX[2][u.SBOX[f>>>8&255]]^u.INV_SUB_MIX[3][u.SBOX[255&f]]}this._nRounds=n,this._keySchedule=i,this._invKeySchedule=l},l.prototype.encryptBlockRaw=function(e){return a(e=i(e),this._keySchedule,u.SUB_MIX,u.SBOX,this._nRounds)},l.prototype.encryptBlock=function(e){var t=this.encryptBlockRaw(e),n=r.allocUnsafe(16);return n.writeUInt32BE(t[0],0),n.writeUInt32BE(t[1],4),n.writeUInt32BE(t[2],8),n.writeUInt32BE(t[3],12),n},l.prototype.decryptBlock=function(e){var t=(e=i(e))[1];e[1]=e[3],e[3]=t;var n=a(e,this._invKeySchedule,u.INV_SUB_MIX,u.INV_SBOX,this._nRounds),o=r.allocUnsafe(16);return o.writeUInt32BE(n[0],0),o.writeUInt32BE(n[3],4),o.writeUInt32BE(n[2],8),o.writeUInt32BE(n[1],12),o},l.prototype.scrub=function(){o(this._keySchedule),o(this._invKeySchedule),o(this._key)},e.exports.AES=l},function(e,t,n){var r=n(40).Buffer,i=n(642);e.exports=function(e,t,n,o){if(r.isBuffer(e)||(e=r.from(e,"binary")),t&&(r.isBuffer(t)||(t=r.from(t,"binary")),8!==t.length))throw new RangeError("salt should be Buffer with 8 byte length");for(var a=n/8,s=r.alloc(a),u=r.alloc(o||0),l=r.alloc(0);a>0||o>0;){var c=new i;c.update(l),c.update(e),t&&c.update(t),l=c.digest();var d=0;if(a>0){var f=s.length-a;d=Math.min(a,l.length),l.copy(s,f,0,d),a-=d}if(d<l.length&&o>0){var h=u.length-o,p=Math.min(o,l.length-d);l.copy(u,h,d,d+p),o-=p}}return l.fill(0),{key:s,iv:u}}},function(e,t,n){"use strict";var r=t;r.base=n(1838),r.short=n(1839),r.mont=n(1840),r.edwards=n(1841)},function(e,t,n){var r=n(1857),i=n(1869),o=n(1870),a=n(648),s=n(1122),u=n(40).Buffer;function l(e){var t;"object"!=typeof e||u.isBuffer(e)||(t=e.passphrase,e=e.key),"string"==typeof e&&(e=u.from(e));var n,l,c=o(e,t),d=c.tag,f=c.data;switch(d){case"CERTIFICATE":l=r.certificate.decode(f,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(l||(l=r.PublicKey.decode(f,"der")),n=l.algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return r.RSAPublicKey.decode(l.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return l.subjectPrivateKey=l.subjectPublicKey,{type:"ec",data:l};case"1.2.840.10040.4.1":return l.algorithm.params.pub_key=r.DSAparam.decode(l.subjectPublicKey.data,"der"),{type:"dsa",data:l.algorithm.params};default:throw new Error("unknown key id "+n)}throw new Error("unknown key type "+d);case"ENCRYPTED PRIVATE KEY":f=function(e,t){var n=e.algorithm.decrypt.kde.kdeparams.salt,r=parseInt(e.algorithm.decrypt.kde.kdeparams.iters.toString(),10),o=i[e.algorithm.decrypt.cipher.algo.join(".")],l=e.algorithm.decrypt.cipher.iv,c=e.subjectPrivateKey,d=parseInt(o.split("-")[1],10)/8,f=s.pbkdf2Sync(t,n,r,d,"sha1"),h=a.createDecipheriv(o,f,l),p=[];return p.push(h.update(c)),p.push(h.final()),u.concat(p)}(f=r.EncryptedPrivateKey.decode(f,"der"),t);case"PRIVATE KEY":switch(n=(l=r.PrivateKey.decode(f,"der")).algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return r.RSAPrivateKey.decode(l.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:l.algorithm.curve,privateKey:r.ECPrivateKey.decode(l.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return l.algorithm.params.priv_key=r.DSAparam.decode(l.subjectPrivateKey,"der"),{type:"dsa",params:l.algorithm.params};default:throw new Error("unknown key id "+n)}throw new Error("unknown key type "+d);case"RSA PUBLIC KEY":return r.RSAPublicKey.decode(f,"der");case"RSA PRIVATE KEY":return r.RSAPrivateKey.decode(f,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:r.DSAPrivateKey.decode(f,"der")};case"EC PRIVATE KEY":return{curve:(f=r.ECPrivateKey.decode(f,"der")).parameters.value,privateKey:f.privateKey};default:throw new Error("unknown key type "+d)}}e.exports=l,l.signature=r.signature},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var o=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),t?(this.sourceInstructions=[].concat(i(t.sourceInstructions)),this.stepInstructions=[].concat(i(t.stepInstructions))):(this.sourceInstructions=[],this.stepInstructions=[])}return r(e,[{key:"addSource",value:function(t,n){if(void 0===t)throw new Error("Name is not defined");var r=new Array(n.length+1);r[0]=t;for(var i=0;i<n.length;++i)r[i+1]=n[i];return this.sourceInstructions.push(e._generateInstruction(t,n)),this}},{key:"addStep",value:function(t,n){if(void 0===t)throw new Error("Name is not defined");return this.stepInstructions.push(e._generateInstruction(t,n)),this}},{key:"toString",value:function(){return(this.sourceInstructions.length>0?JSON.stringify(this.sourceInstructions):"")+(this.stepInstructions.length>0?JSON.stringify(this.stepInstructions):"")}}],[{key:"_generateInstruction",value:function(e,t){var n=(t?t.length:0)+1,r=new Array(n);r[0]=e;for(var i=1;i<n;i++)r[i]=t[i-1];return r}}]),e}();e.exports=o},function(e,t,n){"use strict";t.a=function(e,t,n,r){var o=a.a.unstable_batchedUpdates?function(e){a.a.unstable_batchedUpdates(n,e)}:n;return i()(e,t,o,r)};var r=n(1892),i=n.n(r),o=n(31),a=n.n(o)},function(e,t,n){"use strict";var r=n(686);t.__esModule=!0,t.default=function(e,t){e.classList?e.classList.add(t):(0,i.default)(e,t)||("string"==typeof e.className?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))};var i=r(n(687));e.exports=t.default},function(e,t,n){"use strict";function r(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}e.exports=function(e,t){e.classList?e.classList.remove(t):"string"==typeof e.className?e.className=r(e.className,t):e.setAttribute("class",r(e.className&&e.className.baseVal||"",t))}},function(e,t,n){"use strict";t.isFunction=function(e){return"function"==typeof e}},function(e,t,n){"use strict";var r=n(116).root.Symbol;t.rxSubscriber="function"==typeof r&&"function"==typeof r.for?r.for("rxSubscriber"):"@@rxSubscriber",t.$$rxSubscriber=t.rxSubscriber},function(e,t,n){"use strict";var r=n(116);function i(e){var t,n=e.Symbol;return"function"==typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable",t}t.getSymbolObservable=i,t.observable=i(r.root),t.$$observable=t.observable},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},i=function(e){function t(){var t=e.call(this,"object unsubscribed");this.name=t.name="ObjectUnsubscribedError",this.stack=t.stack,this.message=t.message}return r(t,e),t}(Error);t.ObjectUnsubscribedError=i},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},i=n(107),o=n(103),a=function(e){function t(){e.apply(this,arguments),this.value=null,this.hasNext=!1,this.hasCompleted=!1}return r(t,e),t.prototype._subscribe=function(t){return this.hasError?(t.error(this.thrownError),o.Subscription.EMPTY):this.hasCompleted&&this.hasNext?(t.next(this.value),t.complete(),o.Subscription.EMPTY):e.prototype._subscribe.call(this,t)},t.prototype.next=function(e){this.hasCompleted||(this.value=e,this.hasNext=!0)},t.prototype.error=function(t){this.hasCompleted||e.prototype.error.call(this,t)},t.prototype.complete=function(){this.hasCompleted=!0,this.hasNext&&e.prototype.next.call(this,this.value),e.prototype.complete.call(this)},t}(i.Subject);t.AsyncSubject=a},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},i=n(331),o=n(288),a=n(45),s=n(46),u={};t.combineLatest=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];var n=null;return"function"==typeof e[e.length-1]&&(n=e.pop()),1===e.length&&o.isArray(e[0])&&(e=e[0].slice()),function(t){return t.lift.call(new i.ArrayObservable([t].concat(e)),new l(n))}};var l=function(){function e(e){this.project=e}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.project))},e}();t.CombineLatestOperator=l;var c=function(e){function t(t,n){e.call(this,t),this.project=n,this.active=0,this.values=[],this.observables=[]}return r(t,e),t.prototype._next=function(e){this.values.push(u),this.observables.push(e)},t.prototype._complete=function(){var e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(var n=0;n<t;n++){var r=e[n];this.add(s.subscribeToResult(this,r,r,n))}}},t.prototype.notifyComplete=function(e){0==(this.active-=1)&&this.destination.complete()},t.prototype.notifyNext=function(e,t,n,r,i){var o=this.values,a=o[n],s=this.toRespond?a===u?--this.toRespond:this.toRespond:0;o[n]=t,0===s&&(this.project?this._tryProject(o):this.destination.next(o.slice()))},t.prototype._tryProject=function(e){var t;try{t=this.project.apply(this,e)}catch(e){return void this.destination.error(e)}this.destination.next(t)},t}(a.OuterSubscriber);t.CombineLatestSubscriber=c},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},i=n(24),o=n(467);t.observeOn=function(e,t){return void 0===t&&(t=0),function(n){return n.lift(new a(e,t))}};var a=function(){function e(e,t){void 0===t&&(t=0),this.scheduler=e,this.delay=t}return e.prototype.call=function(e,t){return t.subscribe(new s(e,this.scheduler,this.delay))},e}();t.ObserveOnOperator=a;var s=function(e){function t(t,n,r){void 0===r&&(r=0),e.call(this,t),this.scheduler=n,this.delay=r}return r(t,e),t.dispatch=function(e){var t=e.notification,n=e.destination;t.observe(n),this.unsubscribe()},t.prototype.scheduleMessage=function(e){this.add(this.scheduler.schedule(t.dispatch,this.delay,new u(e,this.destination)))},t.prototype._next=function(e){this.scheduleMessage(o.Notification.createNext(e))},t.prototype._error=function(e){this.scheduleMessage(o.Notification.createError(e))},t.prototype._complete=function(){this.scheduleMessage(o.Notification.createComplete())},t}(i.Subscriber);t.ObserveOnSubscriber=s;var u=function(){return function(e,t){this.notification=e,this.destination=t}}();t.ObserveOnMessage=u},function(e,t,n){"use strict";var r=n(468),i=n(1179);t.mergeAll=function(e){return void 0===e&&(e=Number.POSITIVE_INFINITY),r.mergeMap(i.identity,null,e)}},function(e,t,n){"use strict";var r=n(7),i=n(331),o=n(276),a=n(567);t.merge=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];var n=Number.POSITIVE_INFINITY,s=null,u=e[e.length-1];return o.isScheduler(u)?(s=e.pop(),e.length>1&&"number"==typeof e[e.length-1]&&(n=e.pop())):"number"==typeof u&&(n=e.pop()),null===s&&1===e.length&&e[0]instanceof r.Observable?e[0]:a.mergeAll(n)(new i.ArrayObservable(e,s))}},function(e,t,n){"use strict";t.isDate=function(e){return e instanceof Date&&!isNaN(+e)}},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},i=n(331),o=n(288),a=n(24),s=n(45),u=n(46),l=n(465);function c(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];var n=e[e.length-1];return"function"==typeof n&&e.pop(),new i.ArrayObservable(e).lift(new d(n))}t.zip=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return function(t){return t.lift.call(c.apply(void 0,[t].concat(e)))}},t.zipStatic=c;var d=function(){function e(e){this.project=e}return e.prototype.call=function(e,t){return t.subscribe(new f(e,this.project))},e}();t.ZipOperator=d;var f=function(e){function t(t,n,r){void 0===r&&(r=Object.create(null)),e.call(this,t),this.iterators=[],this.active=0,this.project="function"==typeof n?n:null,this.values=r}return r(t,e),t.prototype._next=function(e){var t=this.iterators;o.isArray(e)?t.push(new p(e)):"function"==typeof e[l.iterator]?t.push(new h(e[l.iterator]())):t.push(new m(this.destination,this,e))},t.prototype._complete=function(){var e=this.iterators,t=e.length;if(0!==t){this.active=t;for(var n=0;n<t;n++){var r=e[n];r.stillUnsubscribed?this.add(r.subscribe(r,n)):this.active--}}else this.destination.complete()},t.prototype.notifyInactive=function(){this.active--,0===this.active&&this.destination.complete()},t.prototype.checkIterators=function(){for(var e=this.iterators,t=e.length,n=this.destination,r=0;r<t;r++){if("function"==typeof(a=e[r]).hasValue&&!a.hasValue())return}var i=!1,o=[];for(r=0;r<t;r++){var a,s=(a=e[r]).next();if(a.hasCompleted()&&(i=!0),s.done)return void n.complete();o.push(s.value)}this.project?this._tryProject(o):n.next(o),i&&n.complete()},t.prototype._tryProject=function(e){var t;try{t=this.project.apply(this,e)}catch(e){return void this.destination.error(e)}this.destination.next(t)},t}(a.Subscriber);t.ZipSubscriber=f;var h=function(){function e(e){this.iterator=e,this.nextResult=e.next()}return e.prototype.hasValue=function(){return!0},e.prototype.next=function(){var e=this.nextResult;return this.nextResult=this.iterator.next(),e},e.prototype.hasCompleted=function(){var e=this.nextResult;return e&&e.done},e}(),p=function(){function e(e){this.array=e,this.index=0,this.length=0,this.length=e.length}return e.prototype[l.iterator]=function(){return this},e.prototype.next=function(e){var t=this.index++,n=this.array;return t<this.length?{value:n[t],done:!1}:{value:null,done:!0}},e.prototype.hasValue=function(){return this.array.length>this.index},e.prototype.hasCompleted=function(){return this.array.length===this.index},e}(),m=function(e){function t(t,n,r){e.call(this,t),this.parent=n,this.observable=r,this.stillUnsubscribed=!0,this.buffer=[],this.isComplete=!1}return r(t,e),t.prototype[l.iterator]=function(){return this},t.prototype.next=function(){var e=this.buffer;return 0===e.length&&this.isComplete?{value:null,done:!0}:{value:e.shift(),done:!1}},t.prototype.hasValue=function(){return this.buffer.length>0},t.prototype.hasCompleted=function(){return 0===this.buffer.length&&this.isComplete},t.prototype.notifyComplete=function(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()},t.prototype.notifyNext=function(e,t,n,r,i){this.buffer.push(t),this.parent.checkIterators()},t.prototype.subscribe=function(e,t){return u.subscribeToResult(this,this.observable,this,t)},t}(s.OuterSubscriber)},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},i=n(107),o=n(1184),a=n(103),s=n(566),u=n(563),l=n(1173),c=function(e){function t(t,n,r){void 0===t&&(t=Number.POSITIVE_INFINITY),void 0===n&&(n=Number.POSITIVE_INFINITY),e.call(this),this.scheduler=r,this._events=[],this._bufferSize=t<1?1:t,this._windowTime=n<1?1:n}return r(t,e),t.prototype.next=function(t){var n=this._getNow();this._events.push(new d(n,t)),this._trimBufferThenGetEvents(),e.prototype.next.call(this,t)},t.prototype._subscribe=function(e){var t,n=this._trimBufferThenGetEvents(),r=this.scheduler;if(this.closed)throw new u.ObjectUnsubscribedError;this.hasError?t=a.Subscription.EMPTY:this.isStopped?t=a.Subscription.EMPTY:(this.observers.push(e),t=new l.SubjectSubscription(this,e)),r&&e.add(e=new s.ObserveOnSubscriber(e,r));for(var i=n.length,o=0;o<i&&!e.closed;o++)e.next(n[o].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),t},t.prototype._getNow=function(){return(this.scheduler||o.queue).now()},t.prototype._trimBufferThenGetEvents=function(){for(var e=this._getNow(),t=this._bufferSize,n=this._windowTime,r=this._events,i=r.length,o=0;o<i&&!(e-r[o].time<n);)o++;return i>t&&(o=Math.max(o,i-t)),o>0&&r.splice(0,o),r},t}(i.Subject);t.ReplaySubject=c;var d=function(){return function(e,t){this.time=e,this.value=t}}()},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},i=function(e){function t(){var t=e.call(this,"no elements in sequence");this.name=t.name="EmptyError",this.stack=t.stack,this.message=t.message}return r(t,e),t}(Error);t.EmptyError=i},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},i=n(45),o=n(46);t.defaultThrottleConfig={leading:!0,trailing:!1},t.throttle=function(e,n){return void 0===n&&(n=t.defaultThrottleConfig),function(t){return t.lift(new a(e,n.leading,n.trailing))}};var a=function(){function e(e,t,n){this.durationSelector=e,this.leading=t,this.trailing=n}return e.prototype.call=function(e,t){return t.subscribe(new s(e,this.durationSelector,this.leading,this.trailing))},e}(),s=function(e){function t(t,n,r,i){e.call(this,t),this.destination=t,this.durationSelector=n,this._leading=r,this._trailing=i,this._hasTrailingValue=!1}return r(t,e),t.prototype._next=function(e){if(this.throttled)this._trailing&&(this._hasTrailingValue=!0,this._trailingValue=e);else{var t=this.tryDurationSelector(e);t&&this.add(this.throttled=o.subscribeToResult(this,t)),this._leading&&(this.destination.next(e),this._trailing&&(this._hasTrailingValue=!0,this._trailingValue=e))}},t.prototype.tryDurationSelector=function(e){try{return this.durationSelector(e)}catch(e){return this.destination.error(e),null}},t.prototype._unsubscribe=function(){var e=this.throttled;this._trailingValue,this._hasTrailingValue,this._trailing;this._trailingValue=null,this._hasTrailingValue=!1,e&&(this.remove(e),this.throttled=null,e.unsubscribe())},t.prototype._sendTrailing=function(){var e=this,t=e.destination,n=e.throttled,r=e._trailing,i=e._trailingValue,o=e._hasTrailingValue;n&&r&&o&&(t.next(i),this._trailingValue=null,this._hasTrailingValue=!1)},t.prototype.notifyNext=function(e,t,n,r,i){this._sendTrailing(),this._unsubscribe()},t.prototype.notifyComplete=function(){this._sendTrailing(),this._unsubscribe()},t}(i.OuterSubscriber)},function(e,t,n){t.dot=t.dotCase=n(2325),t.swap=t.swapCase=n(2329),t.path=t.pathCase=n(2330),t.upper=t.upperCase=n(356),t.lower=t.lowerCase=n(476),t.camel=t.camelCase=n(1276),t.snake=t.snakeCase=n(1277),t.title=t.titleCase=n(2331),t.param=t.paramCase=n(2332),t.pascal=t.pascalCase=n(2333),t.constant=t.constantCase=n(2334),t.sentence=t.sentenceCase=n(355),t.isUpper=t.isUpperCase=n(2335),t.isLower=t.isLowerCase=n(2336),t.ucFirst=t.upperCaseFirst=n(1278),t.lcFirst=t.lowerCaseFirst=n(2337)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(23));var i={width:1024,height:768,init:function(){var e=this;return this.texture||(this.video=document.createElement("video"),this.video.loop=!0,this.video.muted=!0,this.width=1024,this.height=768,this.video.width=this.width,this.video.height=this.height,this.video.style.objectFit="inherit",this.video.crossOrigin="anonymous",this.video.setAttribute("webkit-playsinline","webkit-playsinline"),this.texture=new r.VideoTexture(this.video),this.texture.minFilter=r.LinearFilter,this.texture.magFilter=r.LinearFilter,this.texture.format=r.RGBFormat,this.texture.needsUpdate=!1,this.video.addEventListener("loadedmetadata",function(t){e.texture.needsUpdate=!0}),this.video.src="/static/video/loading.mp4",this.video.play()),this.texture}};i.init(),t.default=i.texture},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(296);t.GraphDiagram=r.default;const i=n(1738);t.Diagram=i.default;const o=n(1743);t.Markup=o.default;const a=n(1098);t.Model=a.default;const s=n(1744);t.ModelToCypher=s.default;const u=n(1745);t.ModelToD3=u.default;const l=n(1099);t.Node=l.default;const c=n(397);t.SimpleStyle=c.default;const d=n(1096);t.CurvedArrowOutline=d.default;const f=n(1102);t.Relationship=f.default;const h=n(1097);t.Scaling=h.default;const p=n(1091);t.Layout=p.default;const m=n(1746);t.LayoutModel=m.default;const g=n(1095);t.LayoutNode=g.default;const y=n(1092);t.LayoutRelationship=y.default;const v=n(1103);t.DataTypes=v.DataTypes},function(e,t,n){var r;r=function(){"use strict";return function(e){function t(t){if(t)try{e(t+"}")}catch(e){}}return function(n,r,i,o,a,s,u,l,c,d){switch(n){case 1:if(0===c&&64===r.charCodeAt(0))return e(r+";"),"";break;case 2:if(0===l)return r+"/*|*/";break;case 3:switch(l){case 102:case 112:return e(i[0]+r),"";default:return r+(0===d?"/*|*/":"")}case-2:r.split("/*|*/}").forEach(t)}}}},e.exports=r()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1),i=n(1754),o=n(1755);t.default=class extends r.Component{constructor(e){super(e);let t=Object.keys(e.contents[0]||{}).map((e,t)=>{let n={Header:e,accessor:e};return this.props.cells&&(n.Cell=this.props.cells[t]),n});this.state={columns:t,contents:this.props.contents}}componentWillReceiveProps(e){if(this.props!=e){let t=Object.keys(e.contents[0]||{}).map((t,n)=>{let r={Header:t,accessor:t};return this.props.cells&&(r.Cell=e.cells[n]),r});this.setState({columns:t,contents:e.contents})}}render(){let{contents:e,columns:t}=this.state;return r.createElement(o.StyledWrapper,{height:this.props.height?this.props.height:300},r.createElement(o.StyledTable,{className:"-highlight",showPagination:void 0==this.props.showPagination||this.props.showPagination,PaginationComponent:i.default,headerColor:this.props.headerColor,pageSize:this.props.pageSize?this.props.pageSize:10,data:e,columns:t}))}}},function(e,t,n){"use strict";var r=n(1),i=n.n(r),o=n(8),a=n.n(o),s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function u(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function l(e){return Array.isArray(e)}function c(e){return function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(l(t))for(var r=0;r<t.length;r+=1)e(t[r],n);else n.push(t);return n}(e).join(".").replace(/\[/g,".").replace(/\]/g,"").split(".")}t.a={get:function(e,t,n){if(!t)return e;var r=c(t),i=void 0;try{i=r.reduce(function(e,t){return e[t]},e)}catch(e){}return void 0!==i?i:n},set:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1],n=arguments[2],r=c(t),i=void 0,o=e;for(;(i=r.shift())&&r.length;)o[i]||(o[i]={}),o=o[i];return o[i]=n,e},takeRight:function(e,t){var n=t>e.length?0:e.length-t;return e.slice(n)},last:function(e){return e[e.length-1]},orderBy:function(e,t,n,r){return e.sort(function(e,i){for(var o=0;o<t.length;o+=1){var a=t[o],s=!1===n[o]||"desc"===n[o],u=a(e,i);if(u)return s?-u:u}return n[0]?e[r]-i[r]:i[r]-e[r]})},range:function(e){for(var t=[],n=0;n<e;n+=1)t.push(e);return t},remove:function(e,t){return e.filter(function(n,r){var i=t(n);return!!i&&(e.splice(r,1),!0)})},clone:function(e){try{return JSON.parse(JSON.stringify(e,function(e,t){return"function"==typeof t?t.toString():t}))}catch(t){return e}},getFirstDefined:function(){for(var e=0;e<arguments.length;e+=1)if(void 0!==(arguments.length<=e?void 0:arguments[e]))return arguments.length<=e?void 0:arguments[e]},sum:function(e){return e.reduce(function(e,t){return e+t},0)},makeTemplateComponent:function(e,t){if(!t)throw new Error("No displayName found for template component:",e);var n=function(t){var n=t.children,r=t.className,o=u(t,["children","className"]);return i.a.createElement("div",s({className:a()(e,r)},o),n)};return n.displayName=t,n},groupBy:function(e,t){return e.reduce(function(e,n,r){var i="function"==typeof t?t(n,r):n[t];return e[i]=l(e[i])?e[i]:[],e[i].push(n),e},{})},isArray:l,splitProps:function(e){var t=e.className,n=e.style,r=u(e,["className","style"]);return{className:t,style:n,rest:r||{}}},compactObject:function(e){var t={};e&&Object.keys(e).map(function(n){return Object.prototype.hasOwnProperty.call(e,n)&&void 0!==e[n]&&void 0!==e[n]&&(t[n]=e[n]),!0});return t},isSortingDesc:function(e){return!("desc"!==e.sort&&!0!==e.desc&&!1!==e.asc)},normalizeComponent:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e;return"function"==typeof e?i.a.createElement(e,t):n},asPx:function(e){return e=Number(e),Number.isNaN(e)?null:e+"px"}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Page360Record=t.RecordsTypes=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(23)),i=u(n(11)),o=u(n(1770)),a=u(n(1775)),s=u(n(10));function u(e){return e&&e.__esModule?e:{default:e}}var l={ThreeDVideoType:"360",TwoDVideoType:"2D",GifType:"gif",pngType:"png"},c={bufferDataType:"image",recordsChannel:"/records",socketIO:null,renderer:null,equiManaged:null,latestVideoName:s.default.storeGet("LastRecordVideoKey"),isRecording:!1,isReady:!1,isGenerating:!1,isGenerated:!1,stateListeners:[],type:l.ThreeDVideoType,startTime:window.performance.now(),getLatestVideoName:function(){return s.default.storeGet("LastRecordVideoKey")},getRecordFile:function(e){return this._tempFileName&&!e||(this._tempFileName=(new Date).format("yyyy-MM-dd-hhmmss")),this._tempFileName},bindRender:function(e,t,n){var i=this;e&&(e instanceof r.WebGLRenderer?(this.renderer=e,this.sendStateNotice("record Bind renderer success")):(this.sendStateNotice("record Bind renderer fail"),console.warn("Your must be bind WebGLRenderer object as canvas parameter"))),this.socketIO||"undefined"==typeof io&&!window.ElectronSocket||(this.socketIO=window.isElectron&&window.ElectronSocket?new ElectronSocket:io.connect(this.recordsChannel,{transports:["websocket"]}),this.socketIO.on("reply",function(e){if(0==e.status){if("start"==e.event)"image"!=e.type&&"video"!=e.type||(i.isReady=!0,i.sendStateNotice("start genarate images"));else if("stop"==e.event){var t=(i.type==l.ThreeDVideoType?"/play360vr":"")+"/video/"+e.content+"?t="+(new Date).getTime();i.openVideo(t,"mp4"),i.isGenerating=!1,i.isGenerated=!0,i.latestVideoName=t,s.default.storeSet("LastRecordVideoKey",i.latestVideoName),i.sendStateNotice(" genarate video success")}}else"data"==e.event||(i.isGenerating=!1,i.isGenerated=!1,i.latestVideoName=s.default.storeGet("LastRecordVideoKey"),i.sendStateNotice(" genarate video fail "),alert("event["+e.event+"] >>> "+e.message))}))},sendStateNotice:function(e){this.stateListeners&&this.stateListeners.length>0&&this.stateListeners.map(function(t){i.default.isFunction(t)&&t(e)})},update:function(e,t){if(this.isRecording)if(this.type==l.ThreeDVideoType&&this.equiManaged)this.equiManaged.update(t,e);else if(this.type==l.TwoDVideoType)this.sendCanvas(this.renderer.domElement);else if(this.type==l.GifType)console.log("Can't support the gif now");else if(this.type==l.pngType){var n=this.renderer.domElement.toDataURL();s.default.saveLink(n,document.title+"-"+(new Date).getTime()+".png"),this.isRecording=!1}},initWebWriter:function(){this.startTime=window.performance.now(),this.stopWebWriter(),this._webmWriter=new o.default({quality:1,fileWriter:null,fd:null,frameRate:60})},stopWebWriter:function(){var e=this;this._webmWriter&&(this._webmWriter.complete().then(function(t){e.socketIO.emit("data",{type:"video",data:t,fileName:e.getRecordFile(),index:e._dataCount++}),console.log("Send WebM to Server")}),this._webmWriter=null)},sendCanvas:function(e){this.socketIO&&this.isRecording&&this.isReady&&("video"==this.bufferDataType?((!this._webmWriter||window.performance.now()-this.startTime>2e3)&&this.initWebWriter(),this._webmWriter.addFrame(e)):this.socketIO.emit("data",{type:"image",data:e.toDataURL("image/png",{quality:1}),fileName:this.getRecordFile(),index:this._dataCount++}))},startingRecord:function(e){var t=this;return e=e||{type:l.ThreeDVideoType},/^\/records/gi.test(window.location.pathname)?this.renderer?this.isRecording?this.stopRecord():(this.type=e.type,e.type==l.ThreeDVideoType&&(this.equiManaged||(this.equiManaged=new a.default(this.renderer,!0,"4k-full",function(e){t.sendCanvas(e)}))),void(e.type!=l.pngType?("video"==this.bufferDataType&&this.initWebWriter(),this._dataCount=1,this.socketIO&&this.socketIO.emit("start",{type:c.bufferDataType,fileName:this.getRecordFile(!0),message:"wait start records"}),this.isRecording=!0,this.isGenerating=!1,this.isGenerated=!1,this.sendStateNotice("start record video")):this.isRecording=!0)):console.error("Please use 'Page360Record.bindRender(render)' function bind the renader."):(console.error("Recording function only support under the /records path"),window.location="/records")},stopRecord:function(e){if(this.isRecording=!1,this.isReady=!1,this.isGenerating=!0,this.sendStateNotice(" stop record video "),this.stopWebWriter(),this.socketIO){this.socketIO.emit("stop",{videoType:this.type,fileName:this.getRecordFile(),type:c.bufferDataType,message:"Please generate MP4",lastIndex:this._dataCount})}e&&e()},openVideo:function(e,t){var n=/\/video/gi.test(this.latestVideoName)?this.latestVideoName:"/play360vr/video/"+this.latestVideoName+"?t="+(new Date).getTime();e=e||n,t=t||"mp4";var r=document.createElementNS("http://www.w3.org/1999/xhtml","a");r.href=e,r.target="_blank";var i=document.createEvent("MouseEvents");i.initMouseEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null),r.dispatchEvent(i),URL.revokeObjectURL(e)}};window._page360Record=c,t.default=c,t.RecordsTypes=l,t.Page360Record=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(1),o=l(i),a=n(638),s=l(n(428)),u=l(n(44));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={dropDownDetail:[],page:0},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),r(t,[{key:"getDropDownName",value:function(e,t){if("project"!=this.props.position||"Connect a project"==e){if(!t)switch(e){case"Quick Start":this.props.actions.showTopbar(""),setTimeout(function(){(new s.default).start(e)},2e3),this.props.closeToolBar();break;case"Connect a project":"project"==this.props.position?((new s.default).start("ProjectPageCreate"),this.props.closeToolBar()):(new s.default).start(e);break;case"Date and Time":case"Filtering":case"Rich data":case"Removing nodes":case"Tree view":case"Parametric View":this.props.actions.showTopbar(""),this.props.actions.excuteCommand("MATCH (n)-[r]-(m) RETURN * LIMIT 25"),setTimeout(function(){u.default.selectWithNodeIds([_app.controller.drawing.nodeCloud.graph.nodes[0].id],u.default.selectTypes.new),(new s.default).start(e)},3e3),this.props.closeToolBar();break;case"Pulling data":case"Geospatial":case"Table view":case"Data navigation":case"Display controls":case"Working with CSVs":this.props.actions.showTopbar(""),setTimeout(function(){(new s.default).start(e)},500),this.props.closeToolBar()}}else Common.showHints("To view the <strong>"+e+"</strong> tour, please start a project by clicking the <strong>Start</strong>button. Next, launch the tour from the left tool panel",Common.showTipType.danger,1800)}},{key:"getPage",value:function(e){"pre"==e?this.state.page>0&&this.setState({page:this.state.page-1}):5*this.state.page+5<a.TutorialsChapter.length&&this.setState({page:this.state.page+1})}},{key:"render",value:function(){var e=this;return o.default.createElement("div",{id:"dropdown-panel",className:"dropdown-main"},o.default.createElement("div",{className:"close-tour"},o.default.createElement("i",{className:"fa fa-times","aria-hidden":"true",onClick:function(){return e.props.closeToolBar()}})),o.default.createElement("div",{className:"dropdown-title"},o.default.createElement("i",{onClick:function(){return e.getPage("pre")}},"<"),"Tutorials List",o.default.createElement("i",{onClick:function(){return e.getPage("next")}},">")),a.TutorialsChapter.slice(5*this.state.page,5*this.state.page+5).map(function(t,n){return o.default.createElement("div",{className:"dropdown dropright ",key:n},o.default.createElement("button",{className:"tour-dropdown-toggle item-name btn btn-secondary dropdown-toggle "+(t.disable?"disabled":""),type:"button",id:"dropdownMenuButton",onClick:function(){e.getDropDownName(t.name,t.disable)}},t.name))}))}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=[{name:"Quick Start",detail:[],intro:"The first thing you'll see after logging into GraphXR is the Project page. Here you can explore a demo data set, create a new project, or open an existing one"},{name:"Connect a project",detail:["Demo","Create Neo4J","Blank"],intro:"The first thing you'll see after logging into GraphXR is the Project page. Here you can explore a demo data set, create a new project, or open an existing one",disable:/^\/share\/[0-9a-z]{24,}\/.+/.test(window.location.pathname)},{name:"Pulling data",type:"main",detail:["Keyword Search","Cypher Queries","Drag and Drop"],intro:"Launching a project opens an empty graphspace. Let's pull some data in. Click the magnifying glass to open the Query panel."},{name:"Data navigation",detail:["Gui navigated","Keyboard + mouse","Keyboard only"],intro:"Navigate data with mouse, keyboard, or a combination of the two."},{name:"Selection",disable:!0},{name:"Display controls",detail:["Edge width","Label color","Label Caption","Label Exclude","Label Icon"],intro:"Adjusting how graph elements are displayed in GraphXR can speed up analysis."},{name:"Tagging",disable:!0,intro:"Tags enable nodes to be grouped for easy recognition and recall. Enter tag mode by clicking Tag in the legend."},{name:"Removing nodes",detail:["Delete","Label visibility","Clean","Leaf trim"],intro:"Nodes can be removed from graphspace in a few ways. Note that removing nodes will not affect the source data"},{name:"Manipulating nodes",disable:!0},{name:"Tree view",detail:["Enter tree view","Exit tree view"],intro:"View a graph as a hierarchy relative to a single node inthe tree view."},{name:"Parametric View",detail:["Enter parametric view","Assigning X, Y, Z","Recall","Exit parametric view"]},{name:"Date and Time",detail:["Time Format","Filtering","Fixed Duration"],intro:"The Timeline panel enables filtering and playback by date and time"},{name:"Geospatial",detail:["Geospatial Format","Show Map","Control map","Hide map"],intro:"Visualize nodes with Geospatial data on an interactive map"},{name:"Filtering"},{name:"Rich data",detail:["Video","Images","Documents and webpages","Display"],intro:"GraphXR can display rich and unstructured data including video, images, pdfs, and webpages"},{name:"Table view"},{name:"Working with CSVs"},{name:"Force Direct layout",disable:!0}].filter(function(e){return!e.disable});t.TutorialsChapter=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(270);t.default=class{constructor(e){this.config=e}saveGraphToNeo4j(e){let t=this.buildNodeCypherFromGraph(e);return new Promise((e,n)=>{r.excuteCommand(t,this.config,(t,r)=>{t?(console.log(t),n(t)):e()})})}getCypherKey(e){return String(e).trim().replace(/\W/g,"_")}getCypherVal(e){let t=String(e).trim().replace(/(\\+)?\'/g,"\\'");return/^\d+(\.)?(\d+)?$/g.test(t)?t:`'${t}'`}buildNodeCypherFromGraph(e){let t=e.nodes.map((e,t)=>{let n=this.getCypherKey(e.id),r=this.getCypherKey(e.label),i=e.properties;return`(\`${n}\`:${r} ${`{${Object.keys(i).map(e=>`${this.getCypherKey(e)}:${this.getCypherVal(i[e])}`).join(",")}}`})`}),n=e.edges.map((e,t)=>{let n=this.getCypherKey(e.sourceId),r=this.getCypherKey(e.targetId),i=this.getCypherKey(e.type),o=e.properties;return`(\`${n}\`)-[:\`${i}\` ${`{${Object.keys(o).map(e=>`${this.getCypherKey(e)}:${this.getCypherVal(o[e])}`).join(",")}}`}]->(\`${r}\`)`});return"create "+t.concat(n).join(",")}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1),i=n(1),o=n(69);n(388),n(1108),n(69),n(533),n(1109),n(1790),n(641),n(547),n(1791);t.default=class extends i.Component{constructor(e){super(e),this.state={value:this.props.value?this.props.value:""}}componentWillReceiveProps(e){let t=this;e.value&&e.value!=this.props.value&&this.setState({value:e.value},()=>{t.editor.getDoc().setValue(JSON.stringify(e.value))})}componentDidMount(){let e=this,t={theme:this.props.theme?this.props.theme:"mbo",smartIndent:!0,mode:this.props.mode,extraKeys:{F7:function(t){let n=e.editor.lineCount();e.editor.autoFormatRange({line:0,ch:0},{line:n})}}};this.editor=o.fromTextArea(this.codebox,t),this.editor.setSize(null,this.props.height),this.editor.on("change",e=>{this.setState({value:e.getValue()},()=>{this.props.onTextChange&&this.props.onTextChange(e.getValue())})})}codeBoxRef(e){this.codebox=e}render(){return r.createElement("textarea",{ref:this.codeBoxRef.bind(this)})}}},function(e,t,n){(function(e){"use strict";e.defineMode("javascript",function(t,n){var r,i,o=t.indentUnit,a=n.statementIndent,s=n.jsonld,u=n.json||s,l=n.typescript,c=n.wordCharacters||/[\w$\xa1-\uffff]/,d=function(){function e(e){return{type:e,style:"keyword"}}var t=e("keyword a"),n=e("keyword b"),r=e("keyword c"),i=e("keyword d"),o=e("operator"),a={type:"atom",style:"atom"};return{if:e("if"),while:t,with:t,else:n,do:n,try:n,finally:n,return:i,break:i,continue:i,new:e("new"),delete:r,void:r,throw:r,debugger:e("debugger"),var:e("var"),const:e("var"),let:e("var"),function:e("function"),catch:e("catch"),for:e("for"),switch:e("switch"),case:e("case"),default:e("default"),in:o,typeof:o,instanceof:o,true:a,false:a,null:a,undefined:a,NaN:a,Infinity:a,this:e("this"),class:e("class"),super:e("atom"),yield:r,export:e("export"),import:e("import"),extends:r,await:r}}(),f=/[+\-*&%=<>!?|~^@]/,h=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/;function p(e,t,n){return r=e,i=n,t}function m(e,t){var n,r=e.next();if('"'==r||"'"==r)return t.tokenize=(n=r,function(e,t){var r,i=!1;if(s&&"@"==e.peek()&&e.match(h))return t.tokenize=m,p("jsonld-keyword","meta");for(;null!=(r=e.next())&&(r!=n||i);)i=!i&&"\\"==r;return i||(t.tokenize=m),p("string","string")}),t.tokenize(e,t);if("."==r&&e.match(/^\d+(?:[eE][+\-]?\d+)?/))return p("number","number");if("."==r&&e.match(".."))return p("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(r))return p(r);if("="==r&&e.eat(">"))return p("=>","operator");if("0"==r&&e.match(/^(?:x[\da-f]+|o[0-7]+|b[01]+)n?/i))return p("number","number");if(/\d/.test(r))return e.match(/^\d*(?:n|(?:\.\d*)?(?:[eE][+\-]?\d+)?)?/),p("number","number");if("/"==r)return e.eat("*")?(t.tokenize=g,g(e,t)):e.eat("/")?(e.skipToEnd(),p("comment","comment")):qe(e,t,1)?(function(e){for(var t,n=!1,r=!1;null!=(t=e.next());){if(!n){if("/"==t&&!r)return;"["==t?r=!0:r&&"]"==t&&(r=!1)}n=!n&&"\\"==t}}(e),e.match(/^\b(([gimyus])(?![gimyus]*\2))+\b/),p("regexp","string-2")):(e.eat("="),p("operator","operator",e.current()));if("`"==r)return t.tokenize=y,y(e,t);if("#"==r)return e.skipToEnd(),p("error","error");if(f.test(r))return">"==r&&t.lexical&&">"==t.lexical.type||(e.eat("=")?"!"!=r&&"="!=r||e.eat("="):/[<>*+\-]/.test(r)&&(e.eat(r),">"==r&&e.eat(r))),p("operator","operator",e.current());if(c.test(r)){e.eatWhile(c);var i=e.current();if("."!=t.lastType){if(d.propertyIsEnumerable(i)){var o=d[i];return p(o.type,o.style,i)}if("async"==i&&e.match(/^(\s|\/\*.*?\*\/)*[\[\(\w]/,!1))return p("async","keyword",i)}return p("variable","variable",i)}}function g(e,t){for(var n,r=!1;n=e.next();){if("/"==n&&r){t.tokenize=m;break}r="*"==n}return p("comment","comment")}function y(e,t){for(var n,r=!1;null!=(n=e.next());){if(!r&&("`"==n||"$"==n&&e.eat("{"))){t.tokenize=m;break}r=!r&&"\\"==n}return p("quasi","string-2",e.current())}var v="([{}])";function b(e,t){t.fatArrowAt&&(t.fatArrowAt=null);var n=e.string.indexOf("=>",e.start);if(!(n<0)){if(l){var r=/:\s*(?:\w+(?:<[^>]*>|\[\])?|\{[^}]*\})\s*$/.exec(e.string.slice(e.start,n));r&&(n=r.index)}for(var i=0,o=!1,a=n-1;a>=0;--a){var s=e.string.charAt(a),u=v.indexOf(s);if(u>=0&&u<3){if(!i){++a;break}if(0==--i){"("==s&&(o=!0);break}}else if(u>=3&&u<6)++i;else if(c.test(s))o=!0;else{if(/["'\/]/.test(s))return;if(o&&!i){++a;break}}}o&&!i&&(t.fatArrowAt=a)}}var _={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,this:!0,"jsonld-keyword":!0};function w(e,t,n,r,i,o){this.indented=e,this.column=t,this.type=n,this.prev=i,this.info=o,null!=r&&(this.align=r)}function k(e,t){for(var n=e.localVars;n;n=n.next)if(n.name==t)return!0;for(var r=e.context;r;r=r.prev)for(n=r.vars;n;n=n.next)if(n.name==t)return!0}var E={state:null,column:null,marked:null,cc:null};function x(){for(var e=arguments.length-1;e>=0;e--)E.cc.push(arguments[e])}function S(){return x.apply(null,arguments),!0}function M(e,t){for(var n=t;n;n=n.next)if(n.name==e)return!0;return!1}function T(e){var t=E.state;if(E.marked="def",t.context)if("var"==t.lexical.info&&t.context&&t.context.block){var r=function e(t,n){if(n){if(n.block){var r=e(t,n.prev);return r?r==n.prev?n:new A(r,n.vars,!0):null}return M(t,n.vars)?n:new A(n.prev,new O(t,n.vars),!1)}return null}(e,t.context);if(null!=r)return void(t.context=r)}else if(!M(e,t.localVars))return void(t.localVars=new O(e,t.localVars));n.globalVars&&!M(e,t.globalVars)&&(t.globalVars=new O(e,t.globalVars))}function C(e){return"public"==e||"private"==e||"protected"==e||"abstract"==e||"readonly"==e}function A(e,t,n){this.prev=e,this.vars=t,this.block=n}function O(e,t){this.name=e,this.next=t}var N=new O("this",new O("arguments",null));function L(){E.state.context=new A(E.state.context,E.state.localVars,!1),E.state.localVars=N}function j(){E.state.context=new A(E.state.context,E.state.localVars,!0),E.state.localVars=null}function P(){E.state.localVars=E.state.context.vars,E.state.context=E.state.context.prev}function D(e,t){var n=function(){var n=E.state,r=n.indented;if("stat"==n.lexical.type)r=n.lexical.indented;else for(var i=n.lexical;i&&")"==i.type&&i.align;i=i.prev)r=i.indented;n.lexical=new w(r,E.stream.column(),e,null,n.lexical,t)};return n.lex=!0,n}function I(){var e=E.state;e.lexical.prev&&(")"==e.lexical.type&&(e.indented=e.lexical.indented),e.lexical=e.lexical.prev)}function R(e){return function t(n){return n==e?S():";"==e||"}"==n||")"==n||"]"==n?x():S(t)}}function F(e,t){return"var"==e?S(D("vardef",t),ve,R(";"),I):"keyword a"==e?S(D("form"),z,F,I):"keyword b"==e?S(D("form"),F,I):"keyword d"==e?E.stream.match(/^\s*$/,!1)?S():S(D("stat"),U,R(";"),I):"debugger"==e?S(R(";")):"{"==e?S(D("}"),j,ae,I,P):";"==e?S():"if"==e?("else"==E.state.lexical.info&&E.state.cc[E.state.cc.length-1]==I&&E.state.cc.pop()(),S(D("form"),z,F,I,xe)):"function"==e?S(Oe):"for"==e?S(D("form"),Se,F,I):"class"==e||l&&"interface"==t?(E.marked="keyword",S(D("form"),je,I)):"variable"==e?l&&"declare"==t?(E.marked="keyword",S(F)):l&&("module"==t||"enum"==t||"type"==t)&&E.stream.match(/^\s*\w/,!1)?(E.marked="keyword","enum"==t?S(Ve):"type"==t?S(ce,R("operator"),ce,R(";")):S(D("form"),be,R("{"),D("}"),ae,I,I)):l&&"namespace"==t?(E.marked="keyword",S(D("form"),B,ae,I)):l&&"abstract"==t?(E.marked="keyword",S(F)):S(D("stat"),Z):"switch"==e?S(D("form"),z,R("{"),D("}","switch"),j,ae,I,I,P):"case"==e?S(B,R(":")):"default"==e?S(R(":")):"catch"==e?S(D("form"),L,Y,F,I,P):"export"==e?S(D("stat"),Re,I):"import"==e?S(D("stat"),Ye,I):"async"==e?S(F):"@"==t?S(B,F):x(D("stat"),B,R(";"),I)}function Y(e){if("("==e)return S(Ne,R(")"))}function B(e,t){return W(e,t,!1)}function H(e,t){return W(e,t,!0)}function z(e){return"("!=e?x():S(D(")"),B,R(")"),I)}function W(e,t,n){if(E.state.fatArrowAt==E.stream.start){var r=n?X:$;if("("==e)return S(L,D(")"),ie(Ne,")"),I,R("=>"),r,P);if("variable"==e)return x(L,be,R("=>"),r,P)}var i=n?G:V;return _.hasOwnProperty(e)?S(i):"function"==e?S(Oe,i):"class"==e||l&&"interface"==t?(E.marked="keyword",S(D("form"),Le,I)):"keyword c"==e||"async"==e?S(n?H:B):"("==e?S(D(")"),U,R(")"),I,i):"operator"==e||"spread"==e?S(n?H:B):"["==e?S(D("]"),Ue,I,i):"{"==e?oe(te,"}",null,i):"quasi"==e?x(q,i):"new"==e?S(function(e){return function(t){return"."==t?S(e?Q:J):"variable"==t&&l?S(me,e?G:V):x(e?H:B)}}(n)):"import"==e?S(B):S()}function U(e){return e.match(/[;\}\)\],]/)?x():x(B)}function V(e,t){return","==e?S(B):G(e,t,!1)}function G(e,t,n){var r=0==n?V:G,i=0==n?B:H;return"=>"==e?S(L,n?X:$,P):"operator"==e?/\+\+|--/.test(t)||l&&"!"==t?S(r):l&&"<"==t&&E.stream.match(/^([^>]|<.*?>)*>\s*\(/,!1)?S(D(">"),ie(ce,">"),I,r):"?"==t?S(B,R(":"),i):S(i):"quasi"==e?x(q,r):";"!=e?"("==e?oe(H,")","call",r):"."==e?S(ee,r):"["==e?S(D("]"),U,R("]"),I,r):l&&"as"==t?(E.marked="keyword",S(ce,r)):"regexp"==e?(E.state.lastType=E.marked="operator",E.stream.backUp(E.stream.pos-E.stream.start-1),S(i)):void 0:void 0}function q(e,t){return"quasi"!=e?x():"${"!=t.slice(t.length-2)?S(q):S(B,K)}function K(e){if("}"==e)return E.marked="string-2",E.state.tokenize=y,S(q)}function $(e){return b(E.stream,E.state),x("{"==e?F:B)}function X(e){return b(E.stream,E.state),x("{"==e?F:H)}function J(e,t){if("target"==t)return E.marked="keyword",S(V)}function Q(e,t){if("target"==t)return E.marked="keyword",S(G)}function Z(e){return":"==e?S(I,F):x(V,R(";"),I)}function ee(e){if("variable"==e)return E.marked="property",S()}function te(e,t){if("async"==e)return E.marked="property",S(te);if("variable"==e||"keyword"==E.style){return E.marked="property","get"==t||"set"==t?S(ne):(l&&E.state.fatArrowAt==E.stream.start&&(n=E.stream.match(/^\s*:\s*/,!1))&&(E.state.fatArrowAt=E.stream.pos+n[0].length),S(re));var n}else{if("number"==e||"string"==e)return E.marked=s?"property":E.style+" property",S(re);if("jsonld-keyword"==e)return S(re);if(l&&C(t))return E.marked="keyword",S(te);if("["==e)return S(B,se,R("]"),re);if("spread"==e)return S(H,re);if("*"==t)return E.marked="keyword",S(te);if(":"==e)return x(re)}}function ne(e){return"variable"!=e?x(re):(E.marked="property",S(Oe))}function re(e){return":"==e?S(H):"("==e?x(Oe):void 0}function ie(e,t,n){function r(i,o){if(n?n.indexOf(i)>-1:","==i){var a=E.state.lexical;return"call"==a.info&&(a.pos=(a.pos||0)+1),S(function(n,r){return n==t||r==t?x():x(e)},r)}return i==t||o==t?S():S(R(t))}return function(n,i){return n==t||i==t?S():x(e,r)}}function oe(e,t,n){for(var r=3;r<arguments.length;r++)E.cc.push(arguments[r]);return S(D(t,n),ie(e,t),I)}function ae(e){return"}"==e?S():x(F,ae)}function se(e,t){if(l){if(":"==e)return S(ce);if("?"==t)return S(se)}}function ue(e){if(l&&":"==e)return E.stream.match(/^\s*\w+\s+is\b/,!1)?S(B,le,ce):S(ce)}function le(e,t){if("is"==t)return E.marked="keyword",S()}function ce(e,t){return"keyof"==t||"typeof"==t?(E.marked="keyword",S("keyof"==t?ce:H)):"variable"==e||"void"==t?(E.marked="type",S(pe)):"string"==e||"number"==e||"atom"==e?S(pe):"["==e?S(D("]"),ie(ce,"]",","),I,pe):"{"==e?S(D("}"),ie(fe,"}",",;"),I,pe):"("==e?S(ie(he,")"),de):"<"==e?S(ie(ce,">"),ce):void 0}function de(e){if("=>"==e)return S(ce)}function fe(e,t){return"variable"==e||"keyword"==E.style?(E.marked="property",S(fe)):"?"==t?S(fe):":"==e?S(ce):"["==e?S(B,se,R("]"),fe):void 0}function he(e,t){return"variable"==e&&E.stream.match(/^\s*[?:]/,!1)||"?"==t?S(he):":"==e?S(ce):x(ce)}function pe(e,t){return"<"==t?S(D(">"),ie(ce,">"),I,pe):"|"==t||"."==e||"&"==t?S(ce):"["==e?S(R("]"),pe):"extends"==t||"implements"==t?(E.marked="keyword",S(ce)):void 0}function me(e,t){if("<"==t)return S(D(">"),ie(ce,">"),I,pe)}function ge(){return x(ce,ye)}function ye(e,t){if("="==t)return S(ce)}function ve(e,t){return"enum"==t?(E.marked="keyword",S(Ve)):x(be,se,ke,Ee)}function be(e,t){return l&&C(t)?(E.marked="keyword",S(be)):"variable"==e?(T(t),S()):"spread"==e?S(be):"["==e?oe(we,"]"):"{"==e?oe(_e,"}"):void 0}function _e(e,t){return"variable"!=e||E.stream.match(/^\s*:/,!1)?("variable"==e&&(E.marked="property"),"spread"==e?S(be):"}"==e?x():"["==e?S(B,R("]"),R(":"),_e):S(R(":"),be,ke)):(T(t),S(ke))}function we(){return x(be,ke)}function ke(e,t){if("="==t)return S(H)}function Ee(e){if(","==e)return S(ve)}function xe(e,t){if("keyword b"==e&&"else"==t)return S(D("form","else"),F,I)}function Se(e,t){return"await"==t?S(Se):"("==e?S(D(")"),Me,R(")"),I):void 0}function Me(e){return"var"==e?S(ve,R(";"),Ce):";"==e?S(Ce):"variable"==e?S(Te):x(B,R(";"),Ce)}function Te(e,t){return"in"==t||"of"==t?(E.marked="keyword",S(B)):S(V,Ce)}function Ce(e,t){return";"==e?S(Ae):"in"==t||"of"==t?(E.marked="keyword",S(B)):x(B,R(";"),Ae)}function Ae(e){")"!=e&&S(B)}function Oe(e,t){return"*"==t?(E.marked="keyword",S(Oe)):"variable"==e?(T(t),S(Oe)):"("==e?S(L,D(")"),ie(Ne,")"),I,ue,F,P):l&&"<"==t?S(D(">"),ie(ge,">"),I,Oe):void 0}function Ne(e,t){return"@"==t&&S(B,Ne),"spread"==e?S(Ne):l&&C(t)?(E.marked="keyword",S(Ne)):x(be,se,ke)}function Le(e,t){return"variable"==e?je(e,t):Pe(e,t)}function je(e,t){if("variable"==e)return T(t),S(Pe)}function Pe(e,t){return"<"==t?S(D(">"),ie(ge,">"),I,Pe):"extends"==t||"implements"==t||l&&","==e?("implements"==t&&(E.marked="keyword"),S(l?ce:B,Pe)):"{"==e?S(D("}"),De,I):void 0}function De(e,t){return"async"==e||"variable"==e&&("static"==t||"get"==t||"set"==t||l&&C(t))&&E.stream.match(/^\s+[\w$\xa1-\uffff]/,!1)?(E.marked="keyword",S(De)):"variable"==e||"keyword"==E.style?(E.marked="property",S(l?Ie:Oe,De)):"["==e?S(B,se,R("]"),l?Ie:Oe,De):"*"==t?(E.marked="keyword",S(De)):";"==e?S(De):"}"==e?S():"@"==t?S(B,De):void 0}function Ie(e,t){return"?"==t?S(Ie):":"==e?S(ce,ke):"="==t?S(H):x(Oe)}function Re(e,t){return"*"==t?(E.marked="keyword",S(We,R(";"))):"default"==t?(E.marked="keyword",S(B,R(";"))):"{"==e?S(ie(Fe,"}"),We,R(";")):x(F)}function Fe(e,t){return"as"==t?(E.marked="keyword",S(R("variable"))):"variable"==e?x(H,Fe):void 0}function Ye(e){return"string"==e?S():"("==e?x(B):x(Be,He,We)}function Be(e,t){return"{"==e?oe(Be,"}"):("variable"==e&&T(t),"*"==t&&(E.marked="keyword"),S(ze))}function He(e){if(","==e)return S(Be,He)}function ze(e,t){if("as"==t)return E.marked="keyword",S(Be)}function We(e,t){if("from"==t)return E.marked="keyword",S(B)}function Ue(e){return"]"==e?S():x(ie(H,"]"))}function Ve(){return x(D("form"),be,R("{"),D("}"),ie(Ge,"}"),I,I)}function Ge(){return x(be,ke)}function qe(e,t,n){return t.tokenize==m&&/^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\[{}\(,;:]|=>)$/.test(t.lastType)||"quasi"==t.lastType&&/\{\s*$/.test(e.string.slice(0,e.pos-(n||0)))}return P.lex=!0,I.lex=!0,{startState:function(e){var t={tokenize:m,lastType:"sof",cc:[],lexical:new w((e||0)-o,0,"block",!1),localVars:n.localVars,context:n.localVars&&new A(null,null,!1),indented:e||0};return n.globalVars&&"object"==typeof n.globalVars&&(t.globalVars=n.globalVars),t},token:function(e,t){if(e.sol()&&(t.lexical.hasOwnProperty("align")||(t.lexical.align=!1),t.indented=e.indentation(),b(e,t)),t.tokenize!=g&&e.eatSpace())return null;var n=t.tokenize(e,t);return"comment"==r?n:(t.lastType="operator"!=r||"++"!=i&&"--"!=i?r:"incdec",function(e,t,n,r,i){var o=e.cc;for(E.state=e,E.stream=i,E.marked=null,E.cc=o,E.style=t,e.lexical.hasOwnProperty("align")||(e.lexical.align=!0);;)if((o.length?o.pop():u?B:F)(n,r)){for(;o.length&&o[o.length-1].lex;)o.pop()();return E.marked?E.marked:"variable"==n&&k(e,r)?"variable-2":t}}(t,n,r,i,e))},indent:function(t,r){if(t.tokenize==g)return e.Pass;if(t.tokenize!=m)return 0;var i,s=r&&r.charAt(0),u=t.lexical;if(!/^\s*else\b/.test(r))for(var l=t.cc.length-1;l>=0;--l){var c=t.cc[l];if(c==I)u=u.prev;else if(c!=xe)break}for(;("stat"==u.type||"form"==u.type)&&("}"==s||(i=t.cc[t.cc.length-1])&&(i==V||i==G)&&!/^[,\.=+\-*:?[\(]/.test(r));)u=u.prev;a&&")"==u.type&&"stat"==u.prev.type&&(u=u.prev);var d=u.type,h=s==d;return"vardef"==d?u.indented+("operator"==t.lastType||","==t.lastType?u.info.length+1:0):"form"==d&&"{"==s?u.indented:"form"==d?u.indented+o:"stat"==d?u.indented+(function(e,t){return"operator"==e.lastType||","==e.lastType||f.test(t.charAt(0))||/[,.]/.test(t.charAt(0))}(t,r)?a||o:0):"switch"!=u.info||h||0==n.doubleIndentSwitch?u.align?u.column+(h?0:1):u.indented+(h?0:o):u.indented+(/^(?:case|default)\b/.test(r)?o:2*o)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:u?null:"/*",blockCommentEnd:u?null:"*/",blockCommentContinue:u?null:" * ",lineComment:u?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:u?"json":"javascript",jsonldMode:s,jsonMode:u,expressionAllowed:qe,skipExpression:function(e){var t=e.cc[e.cc.length-1];t!=B&&t!=H||e.cc.pop()}}}),e.registerHelper("wordChars","javascript",/[\w$]/),e.defineMIME("text/javascript","javascript"),e.defineMIME("text/ecmascript","javascript"),e.defineMIME("application/javascript","javascript"),e.defineMIME("application/x-javascript","javascript"),e.defineMIME("application/ecmascript","javascript"),e.defineMIME("application/json",{name:"javascript",json:!0}),e.defineMIME("application/x-json",{name:"javascript",json:!0}),e.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),e.defineMIME("text/typescript",{name:"javascript",typescript:!0}),e.defineMIME("application/typescript",{name:"javascript",typescript:!0})})(n(69))},function(e,t,n){"use strict";var r=n(38),i=n(1112),o=n(40).Buffer,a=new Array(16);function s(){i.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function u(e,t){return e<<t|e>>>32-t}function l(e,t,n,r,i,o,a){return u(e+(t&n|~t&r)+i+o|0,a)+t|0}function c(e,t,n,r,i,o,a){return u(e+(t&r|n&~r)+i+o|0,a)+t|0}function d(e,t,n,r,i,o,a){return u(e+(t^n^r)+i+o|0,a)+t|0}function f(e,t,n,r,i,o,a){return u(e+(n^(t|~r))+i+o|0,a)+t|0}r(s,i),s.prototype._update=function(){for(var e=a,t=0;t<16;++t)e[t]=this._block.readInt32LE(4*t);var n=this._a,r=this._b,i=this._c,o=this._d;r=f(r=f(r=f(r=f(r=d(r=d(r=d(r=d(r=c(r=c(r=c(r=c(r=l(r=l(r=l(r=l(r,i=l(i,o=l(o,n=l(n,r,i,o,e[0],3614090360,7),r,i,e[1],3905402710,12),n,r,e[2],606105819,17),o,n,e[3],3250441966,22),i=l(i,o=l(o,n=l(n,r,i,o,e[4],4118548399,7),r,i,e[5],1200080426,12),n,r,e[6],2821735955,17),o,n,e[7],4249261313,22),i=l(i,o=l(o,n=l(n,r,i,o,e[8],1770035416,7),r,i,e[9],2336552879,12),n,r,e[10],4294925233,17),o,n,e[11],2304563134,22),i=l(i,o=l(o,n=l(n,r,i,o,e[12],1804603682,7),r,i,e[13],4254626195,12),n,r,e[14],2792965006,17),o,n,e[15],1236535329,22),i=c(i,o=c(o,n=c(n,r,i,o,e[1],4129170786,5),r,i,e[6],3225465664,9),n,r,e[11],643717713,14),o,n,e[0],3921069994,20),i=c(i,o=c(o,n=c(n,r,i,o,e[5],3593408605,5),r,i,e[10],38016083,9),n,r,e[15],3634488961,14),o,n,e[4],3889429448,20),i=c(i,o=c(o,n=c(n,r,i,o,e[9],568446438,5),r,i,e[14],3275163606,9),n,r,e[3],4107603335,14),o,n,e[8],1163531501,20),i=c(i,o=c(o,n=c(n,r,i,o,e[13],2850285829,5),r,i,e[2],4243563512,9),n,r,e[7],1735328473,14),o,n,e[12],2368359562,20),i=d(i,o=d(o,n=d(n,r,i,o,e[5],4294588738,4),r,i,e[8],2272392833,11),n,r,e[11],1839030562,16),o,n,e[14],4259657740,23),i=d(i,o=d(o,n=d(n,r,i,o,e[1],2763975236,4),r,i,e[4],1272893353,11),n,r,e[7],4139469664,16),o,n,e[10],3200236656,23),i=d(i,o=d(o,n=d(n,r,i,o,e[13],681279174,4),r,i,e[0],3936430074,11),n,r,e[3],3572445317,16),o,n,e[6],76029189,23),i=d(i,o=d(o,n=d(n,r,i,o,e[9],3654602809,4),r,i,e[12],3873151461,11),n,r,e[15],530742520,16),o,n,e[2],3299628645,23),i=f(i,o=f(o,n=f(n,r,i,o,e[0],4096336452,6),r,i,e[7],1126891415,10),n,r,e[14],2878612391,15),o,n,e[5],4237533241,21),i=f(i,o=f(o,n=f(n,r,i,o,e[12],1700485571,6),r,i,e[3],2399980690,10),n,r,e[10],4293915773,15),o,n,e[1],2240044497,21),i=f(i,o=f(o,n=f(n,r,i,o,e[8],1873313359,6),r,i,e[15],4264355552,10),n,r,e[6],2734768916,15),o,n,e[13],1309151649,21),i=f(i,o=f(o,n=f(n,r,i,o,e[4],4149444226,6),r,i,e[11],3174756917,10),n,r,e[2],718787259,15),o,n,e[9],3951481745,21),this._a=this._a+n|0,this._b=this._b+r|0,this._c=this._c+i|0,this._d=this._d+o|0},s.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var e=o.allocUnsafe(16);return e.writeInt32LE(this._a,0),e.writeInt32LE(this._b,4),e.writeInt32LE(this._c,8),e.writeInt32LE(this._d,12),e},e.exports=s},function(e,t,n){(t=e.exports=n(1113)).Stream=t,t.Readable=t,t.Writable=n(644),t.Duplex=n(347),t.Transform=n(1116),t.PassThrough=n(1800)},function(e,t,n){"use strict";(function(t,r,i){var o=n(550);function a(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,n){var r=e.entry;e.entry=null;for(;r;){var i=r.callback;t.pendingcb--,i(n),r=r.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}(t,e)}}e.exports=v;var s,u=!t.browser&&["v0.10","v0.9."].indexOf(t.version.slice(0,5))>-1?r:o.nextTick;v.WritableState=y;var l=n(432);l.inherits=n(38);var c={deprecate:n(1799)},d=n(1114),f=n(40).Buffer,h=i.Uint8Array||function(){};var p,m=n(1115);function g(){}function y(e,t){s=s||n(347),e=e||{};var r=t instanceof s;this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var i=e.highWaterMark,l=e.writableHighWaterMark,c=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:r&&(l||0===l)?l:c,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var d=!1===e.decodeStrings;this.decodeStrings=!d,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var n=e._writableState,r=n.sync,i=n.writecb;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(n),t)!function(e,t,n,r,i){--t.pendingcb,n?(o.nextTick(i,r),o.nextTick(x,e,t),e._writableState.errorEmitted=!0,e.emit("error",r)):(i(r),e._writableState.errorEmitted=!0,e.emit("error",r),x(e,t))}(e,n,r,t,i);else{var a=k(n);a||n.corked||n.bufferProcessing||!n.bufferedRequest||w(e,n),r?u(_,e,n,a,i):_(e,n,a,i)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new a(this)}function v(e){if(s=s||n(347),!(p.call(v,this)||this instanceof s))return new v(e);this._writableState=new y(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),d.call(this)}function b(e,t,n,r,i,o,a){t.writelen=r,t.writecb=a,t.writing=!0,t.sync=!0,n?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function _(e,t,n,r){n||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,r(),x(e,t)}function w(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var r=t.bufferedRequestCount,i=new Array(r),o=t.corkedRequestsFree;o.entry=n;for(var s=0,u=!0;n;)i[s]=n,n.isBuf||(u=!1),n=n.next,s+=1;i.allBuffers=u,b(e,t,!0,t.length,i,"",o.finish),t.pendingcb++,t.lastBufferedRequest=null,o.next?(t.corkedRequestsFree=o.next,o.next=null):t.corkedRequestsFree=new a(t),t.bufferedRequestCount=0}else{for(;n;){var l=n.chunk,c=n.encoding,d=n.callback;if(b(e,t,!1,t.objectMode?1:l.length,l,c,d),n=n.next,t.bufferedRequestCount--,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequest=n,t.bufferProcessing=!1}function k(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function E(e,t){e._final(function(n){t.pendingcb--,n&&e.emit("error",n),t.prefinished=!0,e.emit("prefinish"),x(e,t)})}function x(e,t){var n=k(t);return n&&(!function(e,t){t.prefinished||t.finalCalled||("function"==typeof e._final?(t.pendingcb++,t.finalCalled=!0,o.nextTick(E,e,t)):(t.prefinished=!0,e.emit("prefinish")))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),n}l.inherits(v,d),y.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(y.prototype,"buffer",{get:c.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(p=Function.prototype[Symbol.hasInstance],Object.defineProperty(v,Symbol.hasInstance,{value:function(e){return!!p.call(this,e)||this===v&&(e&&e._writableState instanceof y)}})):p=function(e){return e instanceof this},v.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},v.prototype.write=function(e,t,n){var r,i=this._writableState,a=!1,s=!i.objectMode&&(r=e,f.isBuffer(r)||r instanceof h);return s&&!f.isBuffer(e)&&(e=function(e){return f.from(e)}(e)),"function"==typeof t&&(n=t,t=null),s?t="buffer":t||(t=i.defaultEncoding),"function"!=typeof n&&(n=g),i.ended?function(e,t){var n=new Error("write after end");e.emit("error",n),o.nextTick(t,n)}(this,n):(s||function(e,t,n,r){var i=!0,a=!1;return null===n?a=new TypeError("May not write null values to stream"):"string"==typeof n||void 0===n||t.objectMode||(a=new TypeError("Invalid non-string/buffer chunk")),a&&(e.emit("error",a),o.nextTick(r,a),i=!1),i}(this,i,e,n))&&(i.pendingcb++,a=function(e,t,n,r,i,o){if(!n){var a=function(e,t,n){e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=f.from(t,n));return t}(t,r,i);r!==a&&(n=!0,i="buffer",r=a)}var s=t.objectMode?1:r.length;t.length+=s;var u=t.length<t.highWaterMark;u||(t.needDrain=!0);if(t.writing||t.corked){var l=t.lastBufferedRequest;t.lastBufferedRequest={chunk:r,encoding:i,isBuf:n,callback:o,next:null},l?l.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else b(e,t,!1,s,r,i,o);return u}(this,i,s,e,t,n)),a},v.prototype.cork=function(){this._writableState.corked++},v.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||w(this,e))},v.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(v.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),v.prototype._write=function(e,t,n){n(new Error("_write() is not implemented"))},v.prototype._writev=null,v.prototype.end=function(e,t,n){var r=this._writableState;"function"==typeof e?(n=e,e=null,t=null):"function"==typeof t&&(n=t,t=null),null!==e&&void 0!==e&&this.write(e,t),r.corked&&(r.corked=1,this.uncork()),r.ending||r.finished||function(e,t,n){t.ending=!0,x(e,t),n&&(t.finished?o.nextTick(n):e.once("finish",n));t.ended=!0,e.writable=!1}(this,r,n)},Object.defineProperty(v.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),v.prototype.destroy=m.destroy,v.prototype._undestroy=m.undestroy,v.prototype._destroy=function(e,t){this.end(),t(e)}}).call(t,n(59),n(255).setImmediate,n(22))},function(e,t,n){"use strict";var r=n(71).Buffer,i=n(38),o=n(1112),a=new Array(16),s=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],u=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],l=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],c=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],d=[0,1518500249,1859775393,2400959708,2840853838],f=[1352829926,1548603684,1836072691,2053994217,0];function h(){o.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function p(e,t){return e<<t|e>>>32-t}function m(e,t,n,r,i,o,a,s){return p(e+(t^n^r)+o+a|0,s)+i|0}function g(e,t,n,r,i,o,a,s){return p(e+(t&n|~t&r)+o+a|0,s)+i|0}function y(e,t,n,r,i,o,a,s){return p(e+((t|~n)^r)+o+a|0,s)+i|0}function v(e,t,n,r,i,o,a,s){return p(e+(t&r|n&~r)+o+a|0,s)+i|0}function b(e,t,n,r,i,o,a,s){return p(e+(t^(n|~r))+o+a|0,s)+i|0}i(h,o),h.prototype._update=function(){for(var e=a,t=0;t<16;++t)e[t]=this._block.readInt32LE(4*t);for(var n=0|this._a,r=0|this._b,i=0|this._c,o=0|this._d,h=0|this._e,_=0|this._a,w=0|this._b,k=0|this._c,E=0|this._d,x=0|this._e,S=0;S<80;S+=1){var M,T;S<16?(M=m(n,r,i,o,h,e[s[S]],d[0],l[S]),T=b(_,w,k,E,x,e[u[S]],f[0],c[S])):S<32?(M=g(n,r,i,o,h,e[s[S]],d[1],l[S]),T=v(_,w,k,E,x,e[u[S]],f[1],c[S])):S<48?(M=y(n,r,i,o,h,e[s[S]],d[2],l[S]),T=y(_,w,k,E,x,e[u[S]],f[2],c[S])):S<64?(M=v(n,r,i,o,h,e[s[S]],d[3],l[S]),T=g(_,w,k,E,x,e[u[S]],f[3],c[S])):(M=b(n,r,i,o,h,e[s[S]],d[4],l[S]),T=m(_,w,k,E,x,e[u[S]],f[4],c[S])),n=h,h=o,o=p(i,10),i=r,r=M,_=x,x=E,E=p(k,10),k=w,w=T}var C=this._b+i+E|0;this._b=this._c+o+x|0,this._c=this._d+h+_|0,this._d=this._e+n+w|0,this._e=this._a+r+k|0,this._a=C},h.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var e=r.alloc?r.alloc(20):new r(20);return e.writeInt32LE(this._a,0),e.writeInt32LE(this._b,4),e.writeInt32LE(this._c,8),e.writeInt32LE(this._d,12),e.writeInt32LE(this._e,16),e},e.exports=h},function(e,t,n){(t=e.exports=function(e){e=e.toLowerCase();var n=t[e];if(!n)throw new Error(e+" is not supported (we accept pull requests)");return new n}).sha=n(1805),t.sha1=n(1806),t.sha224=n(1807),t.sha256=n(1117),t.sha384=n(1808),t.sha512=n(1118)},function(e,t,n){"use strict";t.utils=n(1814),t.Cipher=n(1815),t.DES=n(1816),t.CBC=n(1817),t.EDE=n(1818)},function(e,t,n){var r=n(1819),i=n(1827),o=n(1128);t.createCipher=t.Cipher=r.createCipher,t.createCipheriv=t.Cipheriv=r.createCipheriv,t.createDecipher=t.Decipher=i.createDecipher,t.createDecipheriv=t.Decipheriv=i.createDecipheriv,t.listCiphers=t.getCiphers=function(){return Object.keys(o)}},function(e,t,n){var r={ECB:n(1820),CBC:n(1821),CFB:n(1822),CFB8:n(1823),CFB1:n(1824),OFB:n(1825),CTR:n(1126),GCM:n(1126)},i=n(1128);for(var o in i)i[o].module=r[i[o].mode];e.exports=i},function(e,t,n){(function(t){var r=n(91),i=n(399);function o(e,n){var i=function(e){var t=a(e);return{blinder:t.toRed(r.mont(e.modulus)).redPow(new r(e.publicExponent)).fromRed(),unblinder:t.invm(e.modulus)}}(n),o=n.modulus.byteLength(),s=(r.mont(n.modulus),new r(e).mul(i.blinder).umod(n.modulus)),u=s.toRed(r.mont(n.prime1)),l=s.toRed(r.mont(n.prime2)),c=n.coefficient,d=n.prime1,f=n.prime2,h=u.redPow(n.exponent1),p=l.redPow(n.exponent2);h=h.fromRed(),p=p.fromRed();var m=h.isub(p).imul(c).umod(d);return m.imul(f),p.iadd(m),new t(p.imul(i.unblinder).umod(n.modulus).toArray(!1,o))}function a(e){for(var t=e.modulus.byteLength(),n=new r(i(t));n.cmp(e.modulus)>=0||!n.umod(e.prime1)||!n.umod(e.prime2);)n=new r(i(t));return n}e.exports=o,o.getr=a}).call(t,n(71).Buffer)},function(e,t,n){var r=t;r.utils=n(286),r.common=n(434),r.sha=n(1843),r.ripemd=n(1847),r.hmac=n(1848),r.sha1=r.sha.sha1,r.sha256=r.sha.sha256,r.sha224=r.sha.sha224,r.sha384=r.sha.sha384,r.sha512=r.sha.sha512,r.ripemd160=r.ripemd.ripemd160},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=n(548).Traversal,a=n(653),s=(n(346),n(556)),u=n(437).TraversalStrategies,l=function(){function e(t,n,r){i(this,e),this.graph=t,this.traversalStrategies=n,this.bytecode=r||new s}return r(e,[{key:"withRemote",value:function(t){var n=new u(this.traversalStrategies);return n.addStrategy(new a.RemoteStrategy(t)),new e(this.graph,n,new s(this.bytecode))}},{key:"toString",value:function(){return"graphtraversalsource["+this.graph.toString()+"]"}},{key:"with_",value:function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=new s(this.bytecode).addSource("with",n);return new e(this.graph,new u(this.traversalStrategies),i)}},{key:"withBulk",value:function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=new s(this.bytecode).addSource("withBulk",n);return new e(this.graph,new u(this.traversalStrategies),i)}},{key:"withPath",value:function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=new s(this.bytecode).addSource("withPath",n);return new e(this.graph,new u(this.traversalStrategies),i)}},{key:"withSack",value:function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=new s(this.bytecode).addSource("withSack",n);return new e(this.graph,new u(this.traversalStrategies),i)}},{key:"withSideEffect",value:function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=new s(this.bytecode).addSource("withSideEffect",n);return new e(this.graph,new u(this.traversalStrategies),i)}},{key:"withStrategies",value:function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=new s(this.bytecode).addSource("withStrategies",n);return new e(this.graph,new u(this.traversalStrategies),i)}},{key:"withoutStrategies",value:function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=new s(this.bytecode).addSource("withoutStrategies",n);return new e(this.graph,new u(this.traversalStrategies),i)}},{key:"E",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=new s(this.bytecode).addStep("E",t);return new c(this.graph,new u(this.traversalStrategies),r)}},{key:"V",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=new s(this.bytecode).addStep("V",t);return new c(this.graph,new u(this.traversalStrategies),r)}},{key:"addE",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=new s(this.bytecode).addStep("addE",t);return new c(this.graph,new u(this.traversalStrategies),r)}},{key:"addV",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=new s(this.bytecode).addStep("addV",t);return new c(this.graph,new u(this.traversalStrategies),r)}},{key:"inject",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=new s(this.bytecode).addStep("inject",t);return new c(this.graph,new u(this.traversalStrategies),r)}},{key:"io",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=new s(this.bytecode).addStep("io",t);return new c(this.graph,new u(this.traversalStrategies),r)}}]),e}(),c=function(e){function t(e,n,r){return i(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,r))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o),r(t,[{key:"V",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.bytecode.addStep("V",t),this}},{key:"addE",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.bytecode.addStep("addE",t),this}},{key:"addV",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.bytecode.addStep("addV",t),this}},{key:"aggregate",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.bytecode.addStep("aggregate",t),this}},{key:"and",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.bytecode.addStep("and",t),this}},{key:"as",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.bytecode.addStep("as",t),this}},{key:"barrier",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.bytecode.addStep("barrier",t),this}},{key:"both",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.bytecode.addStep("both",t),this}},{key:"bothE",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.bytecode.addStep("bothE",t),this}},{key:"bothV",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.bytecode.addStep("bothV",t),this}},{key:"branch",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.bytecode.addStep("branch",t),this}},{key:"by",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.bytecode.addStep("by",t),this}},{key:"cap",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.bytecode.addStep("cap",t),this}},{key:"choose",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.bytecode.addStep("choose",t),this}},{key:"coalesce",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.bytecode.addStep("coalesce",t),this}},{key:"coin",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.bytecode.addStep("coin",t),this}},{key:"connectedComponent",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.bytecode.addStep("connectedComponent",t),this}},{key:"constant",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.bytecode.addStep("constant",t),this}},{key:"count",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.bytecode.addStep("count",t),this}},{key:"cyclicPath",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.bytecode.addStep("cyclicPath",t),this}},{key:"dedup",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.bytecode.addStep("dedup",t),this}},{key:"drop",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.bytecode.addStep("drop",t),this}},{key:"emit",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.bytecode.addStep("emit",t),this}},{key:"filter",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.bytecode.addStep("filter",t),this}},{key:"flatMap",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.bytecode.addStep("flatMap",t),this}},{key:"fold",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.bytecode.addStep("fold",t),this}},{key:"from_",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.bytecode.addStep("from",t),this}},{key:"group",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.bytecode.addStep("group",t),this}},{key:"groupCount",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.bytecode.addStep("groupCount",t),this}},{key:"has",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.bytecode.addStep("has",t),this}},{key:"hasId",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.bytecode.addStep("hasId",t),this}},{key:"hasKey",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.bytecode.addStep("hasKey",t),this}},{key:"hasLabel",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.bytecode.addStep("hasLabel",t),this}},{key:"hasNot",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.bytecode.addStep("hasNot",t),this}},{key:"hasValue",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.bytecode.addStep("hasValue",t),this}},{key:"id",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.bytecode.addStep("id",t),this}},{key:"identity",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.bytecode.addStep("identity",t),this}},{key:"in_",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.bytecode.addStep("in",t),this}},{key:"inE",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.bytecode.addStep("inE",t),this}},{key:"inV",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.bytecode.addStep("inV",t),this}},{key:"index",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.bytecode.addStep("index",t),this}},{key:"inject",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.bytecode.addStep("inject",t),this}},{key:"is",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.bytecode.addStep("is",t),this}},{key:"key",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.bytecode.addStep("key",t),this}},{key:"label",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.bytecode.addStep("label",t),this}},{key:"limit",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.bytecode.addStep("limit",t),this}},{key:"local",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.bytecode.addStep("local",t),this}},{key:"loops",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.bytecode.addStep("loops",t),this}},{key:"map",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.bytecode.addStep("map",t),this}},{key:"match",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.bytecode.addStep("match",t),this}},{key:"math",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.bytecode.addStep("math",t),this}},{key:"max",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.bytecode.addStep("max",t),this}},{key:"mean",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.bytecode.addStep("mean",t),this}},{key:"min",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.bytecode.addStep("min",t),this}},{key:"not",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.bytecode.addStep("not",t),this}},{key:"option",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.bytecode.addStep("option",t),this}},{key:"optional",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.bytecode.addStep("optional",t),this}},{key:"or",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.bytecode.addStep("or",t),this}},{key:"order",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.bytecode.addStep("order",t),this}},{key:"otherV",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.bytecode.addStep("otherV",t),this}},{key:"out",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.bytecode.addStep("out",t),this}},{key:"outE",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.bytecode.addStep("outE",t),this}},{key:"outV",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.bytecode.addStep("outV",t),this}},{key:"pageRank",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.bytecode.addStep("pageRank",t),this}},{key:"path",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.bytecode.addStep("path",t),this}},{key:"peerPressure",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.bytecode.addStep("peerPressure",t),this}},{key:"profile",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.bytecode.addStep("profile",t),this}},{key:"program",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.bytecode.addStep("program",t),this}},{key:"project",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.bytecode.addStep("project",t),this}},{key:"properties",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.bytecode.addStep("properties",t),this}},{key:"property",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.bytecode.addStep("property",t),this}},{key:"propertyMap",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.bytecode.addStep("propertyMap",t),this}},{key:"range",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.bytecode.addStep("range",t),this}},{key:"read",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.bytecode.addStep("read",t),this}},{key:"repeat",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.bytecode.addStep("repeat",t),this}},{key:"sack",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.bytecode.addStep("sack",t),this}},{key:"sample",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.bytecode.addStep("sample",t),this}},{key:"select",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.bytecode.addStep("select",t),this}},{key:"shortestPath",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.bytecode.addStep("shortestPath",t),this}},{key:"sideEffect",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.bytecode.addStep("sideEffect",t),this}},{key:"simplePath",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.bytecode.addStep("simplePath",t),this}},{key:"skip",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.bytecode.addStep("skip",t),this}},{key:"store",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.bytecode.addStep("store",t),this}},{key:"subgraph",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.bytecode.addStep("subgraph",t),this}},{key:"sum",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.bytecode.addStep("sum",t),this}},{key:"tail",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.bytecode.addStep("tail",t),this}},{key:"timeLimit",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.bytecode.addStep("timeLimit",t),this}},{key:"times",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.bytecode.addStep("times",t),this}},{key:"to",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.bytecode.addStep("to",t),this}},{key:"toE",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.bytecode.addStep("toE",t),this}},{key:"toV",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.bytecode.addStep("toV",t),this}},{key:"tree",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.bytecode.addStep("tree",t),this}},{key:"unfold",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.bytecode.addStep("unfold",t),this}},{key:"union",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.bytecode.addStep("union",t),this}},{key:"until",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.bytecode.addStep("until",t),this}},{key:"value",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.bytecode.addStep("value",t),this}},{key:"valueMap",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.bytecode.addStep("valueMap",t),this}},{key:"values",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.bytecode.addStep("values",t),this}},{key:"where",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.bytecode.addStep("where",t),this}},{key:"with_",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.bytecode.addStep("with",t),this}},{key:"write",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.bytecode.addStep("write",t),this}}]),t}();function d(e,t){var n=new c(null,null,new s);return n[e].apply(n,t)}var f={V:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return d("V",t)},addE:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return d("addE",t)},addV:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return d("addV",t)},aggregate:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return d("aggregate",t)},and:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return d("and",t)},as:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return d("as",t)},barrier:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return d("barrier",t)},both:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return d("both",t)},bothE:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return d("bothE",t)},bothV:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return d("bothV",t)},branch:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return d("branch",t)},cap:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return d("cap",t)},choose:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return d("choose",t)},coalesce:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return d("coalesce",t)},coin:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return d("coin",t)},constant:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return d("constant",t)},count:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return d("count",t)},cyclicPath:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return d("cyclicPath",t)},dedup:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return d("dedup",t)},drop:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return d("drop",t)},emit:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return d("emit",t)},filter:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return d("filter",t)},flatMap:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return d("flatMap",t)},fold:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return d("fold",t)},group:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return d("group",t)},groupCount:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return d("groupCount",t)},has:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return d("has",t)},hasId:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return d("hasId",t)},hasKey:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return d("hasKey",t)},hasLabel:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return d("hasLabel",t)},hasNot:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return d("hasNot",t)},hasValue:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return d("hasValue",t)},id:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return d("id",t)},identity:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return d("identity",t)},in_:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return d("in_",t)},inE:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return d("inE",t)},inV:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return d("inV",t)},index:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return d("index",t)},inject:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return d("inject",t)},is:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return d("is",t)},key:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return d("key",t)},label:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return d("label",t)},limit:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return d("limit",t)},local:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return d("local",t)},loops:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return d("loops",t)},map:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return d("map",t)},match:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return d("match",t)},math:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return d("math",t)},max:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return d("max",t)},mean:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return d("mean",t)},min:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return d("min",t)},not:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return d("not",t)},optional:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return d("optional",t)},or:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return d("or",t)},order:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return d("order",t)},otherV:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return d("otherV",t)},out:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return d("out",t)},outE:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return d("outE",t)},outV:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return d("outV",t)},path:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return d("path",t)},project:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return d("project",t)},properties:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return d("properties",t)},property:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return d("property",t)},propertyMap:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return d("propertyMap",t)},range:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return d("range",t)},repeat:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return d("repeat",t)},sack:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return d("sack",t)},sample:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return d("sample",t)},select:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return d("select",t)},sideEffect:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return d("sideEffect",t)},simplePath:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return d("simplePath",t)},skip:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return d("skip",t)},store:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return d("store",t)},subgraph:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return d("subgraph",t)},sum:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return d("sum",t)},tail:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return d("tail",t)},timeLimit:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return d("timeLimit",t)},times:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return d("times",t)},to:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return d("to",t)},toE:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return d("toE",t)},toV:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return d("toV",t)},tree:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return d("tree",t)},unfold:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return d("unfold",t)},union:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return d("union",t)},until:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return d("until",t)},value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return d("value",t)},valueMap:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return d("valueMap",t)},values:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return d("values",t)},where:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return d("where",t)}};e.exports={GraphTraversal:c,GraphTraversalSource:l,statics:f}},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var s=n(548),u=n(437).TraversalStrategy,l=function(){function e(t){a(this,e),this.url=t}return r(e,[{key:"open",value:function(){throw new Error("open() must be implemented")}},{key:"submit",value:function(e){throw new Error("submit() must be implemented")}},{key:"close",value:function(){throw new Error("close() must be implemented")}}]),e}(),c=function(e){function t(e,n){a(this,t);var r=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,null,null,null));return r.traversers=e,r.sideEffects=n,r}return o(t,s.Traversal),t}(),d=function(e){function t(e){a(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.connection=e,n}return o(t,u),r(t,[{key:"apply",value:function(e){return e.traversers?Promise.resolve():this.connection.submit(e.getBytecode()).then(function(t){e.sideEffects=t.sideEffects,e.traversers=t.traversers})}}]),t}();e.exports={RemoteConnection:l,RemoteStrategy:d,RemoteTraversal:c}},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var s=n(652),u=n(437).TraversalStrategies,l=function(){function e(){a(this,e)}return r(e,[{key:"traversal",value:function(){return new s.GraphTraversalSource(this,new u)}},{key:"toString",value:function(){return"graph[]"}}]),e}(),c=function(){function e(t,n){a(this,e),this.id=t,this.label=n}return r(e,[{key:"equals",value:function(t){return t instanceof e&&this.id===t.id}}]),e}(),d=function(e){function t(e,n,r){a(this,t);var o=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return o.properties=r,o}return o(t,c),r(t,[{key:"toString",value:function(){return"v["+this.id+"]"}}]),t}(),f=function(e){function t(e,n,r,o,s){a(this,t);var u=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r));if(u.outV=n,u.inV=o,u.properties={},s)for(var l=Object.keys(s),c=0;c<l.length;c++){var d=l[c];u.properties[d]=s[d].value}return u}return o(t,c),r(t,[{key:"toString",value:function(){return"e["+this.id+"]["+this.outV.id+"-"+this.label+"->"+this.inV.id+"]"}}]),t}(),h=function(e){function t(e,n,r,o){a(this,t);var s=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return s.value=r,s.key=s.label,s.properties=o,s}return o(t,c),r(t,[{key:"toString",value:function(){return"vp["+this.label+"->"+this.value.substr(0,20)+"]"}}]),t}(),p=function(){function e(t,n){a(this,e),this.key=t,this.value=n}return r(e,[{key:"toString",value:function(){return"p["+this.key+"->"+this.value.substr(0,20)+"]"}},{key:"equals",value:function(t){return t instanceof e&&this.key===t.key&&this.value===t.value}}]),e}(),m=function(){function e(t,n){a(this,e),this.labels=t,this.objects=n}return r(e,[{key:"toString",value:function(){return"path["+this.objects.join(", ")+"]"}},{key:"equals",value:function(t){return t instanceof e&&(t===this||g(this.objects,t.objects)&&g(this.labels,t.labels))}}]),e}();function g(e,t){if(e===t)return!0;if("function"==typeof e.equals)return e.equals(t);if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!g(e[n],t[n]))return!1;return!0}return!1}e.exports={Edge:f,Graph:l,Path:m,Property:p,Vertex:d,VertexProperty:h}},function(e,t,n){"use strict";var r=function(){};e.exports=r},function(e,t,n){"use strict";var r=n(258),i=n.n(r),o=n(295),a=n.n(o),s=n(438),u=n.n(s),l=n(14),c=n.n(l),d=n(20),f=n.n(d),h=n(41),p=n.n(h),m=n(42),g=n.n(m),y=n(1),v=n.n(y),b=n(4),_=n.n(b),w=n(8),k=n.n(w),E=n(557),x=function(e){function t(){var e,n,r,i;c()(this,t);for(var o=arguments.length,a=Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=r=p()(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r.state={clickFocused:!1},r.setHandleRef=function(e){r.handle=e},r.handleMouseUp=function(){document.activeElement===r.handle&&r.setClickFocus(!0)},r.handleBlur=function(){r.setClickFocus(!1)},r.handleKeyDown=function(){r.setClickFocus(!1)},i=n,p()(r,i)}return g()(t,e),f()(t,[{key:"componentDidMount",value:function(){this.onMouseUpListener=Object(E.a)(document,"mouseup",this.handleMouseUp)}},{key:"componentWillUnmount",value:function(){this.onMouseUpListener&&this.onMouseUpListener.remove()}},{key:"setClickFocus",value:function(e){this.setState({clickFocused:e})}},{key:"clickFocus",value:function(){this.setClickFocus(!0),this.focus()}},{key:"focus",value:function(){this.handle.focus()}},{key:"blur",value:function(){this.handle.blur()}},{key:"render",value:function(){var e=this.props,t=e.prefixCls,n=e.vertical,r=e.offset,o=e.style,s=e.disabled,l=e.min,c=e.max,d=e.value,f=e.tabIndex,h=u()(e,["prefixCls","vertical","offset","style","disabled","min","max","value","tabIndex"]),p=k()(this.props.className,a()({},t+"-handle-click-focused",this.state.clickFocused)),m=n?{bottom:r+"%"}:{left:r+"%"},g=i()({},o,m);return v.a.createElement("div",i()({ref:this.setHandleRef,tabIndex:s?null:f||0},h,{className:p,style:g,onBlur:this.handleBlur,onKeyDown:this.handleKeyDown,role:"slider","aria-valuemin":l,"aria-valuemax":c,"aria-valuenow":d,"aria-disabled":!!s}))}}]),t}(v.a.Component);t.a=x,x.propTypes={prefixCls:_.a.string,className:_.a.string,vertical:_.a.bool,offset:_.a.number,style:_.a.object,disabled:_.a.bool,min:_.a.number,max:_.a.number,value:_.a.number,tabIndex:_.a.number}},function(e,t,n){"use strict";t.g=function(e,t){return Object.keys(t).some(function(n){return e.target===Object(o.findDOMNode)(t[n])})},t.i=function(e,t){var n=t.min,r=t.max;return e<n||e>r},t.h=function(e){return e.touches.length>1||"touchend"===e.type.toLowerCase()&&e.touches.length>0},t.e=function(e,t){return e?t.clientY:t.pageX},t.f=function(e,t){return e?t.touches[0].clientY:t.touches[0].pageX},t.c=function(e,t){var n=t.getBoundingClientRect();return e?n.top+.5*n.height:n.left+.5*n.width},t.a=function(e,t){var n=t.max,r=t.min;if(e<=r)return r;if(e>=n)return n;return e},t.b=function(e,t){var n=t.step,r=function(e,t){var n=t.marks,r=t.step,o=t.min,a=Object.keys(n).map(parseFloat);if(null!==r){var s=Math.round((e-o)/r)*r+o;a.push(s)}var u=a.map(function(t){return Math.abs(e-t)});return a[u.indexOf(Math.min.apply(Math,i()(u)))]}(e,t);return null===n?r:parseFloat(r.toFixed(function(e){var t=e.toString(),n=0;t.indexOf(".")>=0&&(n=t.length-t.indexOf(".")-1);return n}(n)))},t.j=function(e){e.stopPropagation(),e.preventDefault()},t.d=function(e){switch(e.keyCode){case a.a.UP:case a.a.RIGHT:return function(e,t){return e+t.step};case a.a.DOWN:case a.a.LEFT:return function(e,t){return e-t.step};case a.a.END:return function(e,t){return t.max};case a.a.HOME:return function(e,t){return t.min};case a.a.PAGE_UP:return function(e,t){return e+2*t.step};case a.a.PAGE_DOWN:return function(e,t){return e-2*t.step};default:return}};var r=n(545),i=n.n(r),o=n(31),a=(n.n(o),n(1897))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HDLayout=t.PositionLabelNames=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=a(n(11)),o=(a(n(44)),a(n(1161)));function a(e){return e&&e.__esModule?e:{default:e}}var s=["positionX","positionY","positionZ","none"],u=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new THREE.Vector3(2,2,2);!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scene=t,this.graph=n,this.scale=r,this.axises={},this.axisesLabels={},this._isShow=!1,this.isForceLayoutForNoneXYZ=!1}return r(e,[{key:"_handleEvent",value:function(e,t,n){console.log(n),document.dispatchEvent(new Event("HDLayout",{type:e,content:t}))}},{key:"init",value:function(e){var t=this;this.graph.nodes.forEach(function(e){e.data.hdPosition=new THREE.Vector3}),i.default.forEach(e,function(e,n){t.setGraphDim(e,n)}),i.default.forEach(e,function(e,n){void 0==t.axises[n]?t.axises[n]=t.addAxis(e,n):t.updateLabel(e,n)}),this.adjustScale(this.scale)}},{key:"getNodeLableValue",value:function(e,t){var n=e.data.detail.data[t];if(/^(-)?\d+$/gi.test(n)&&13!=n.toString().length?n=parseInt(n):/^(-)?[\d\.]+$/gi.test(n)?n=parseFloat(n):("string"==typeof n||/^(-)?\d+$/gi.test(n)&&13==n.toString().length)&&(n=new Date(n).getTime()),!n&&s.includes(t)){var r=t.replace(/position/gi,"").toLocaleLowerCase();return(e.data.forcePosition?e.data.forcePosition[r]:e.position[r])||0}return n||null}},{key:"initWithLabelXYZ",value:function(e,t,n){var r=this;this.init({x:{color:16711680,label:e,val:function(t){return r.getNodeLableValue(t,e)}},y:{color:65280,label:t,val:function(e){return r.getNodeLableValue(e,t)}},z:{color:255,label:n,val:function(e){return r.getNodeLableValue(e,n)}}})}},{key:"setGraphDim",value:function(e,t){var n=this.scale[t],r=this.graph.visibleNodes,o=r.map(function(t){return e.val(t)}),a=i.default.min(o)||0,s=i.default.max(o)||0;r.forEach(function(r){r.data.hdPosition[t]=function(e,t,n,r,i){var o=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];if("number"!=typeof i)return n;if(t===e)return n;var a=(i-e)*(r-n)/(t-e)+n;return o&&(a=(a=a>r?r:a)<n?n:a),a}(a,s,-1*n,n,e.val(r),!0)})}},{key:"showHD",value:function(){0==this.isShow&&this.graph.visibleNodes.forEach(function(e){e.data.forcePosition,e.data.forcePosition=e.position.clone()}),this.isShow=!0,this.isForceLayoutForNoneXYZ||_app.controller.drawing.layoutController.stop_layout(),_app.controller.drawing.layoutController.enable=this.isForceLayoutForNoneXYZ,this.showAxises(),this.transitionLayoutTo("hdPosition"),_app.controller.drawing.layoutController.enable&&_app.controller.drawing.layoutController.start_layout()}},{key:"showTreeLayout",value:function(){this.isForceLayoutForNoneXYZ=!1,l(),this.isShow=!0}},{key:"showLabelLayout",value:function(e){this.isForceLayoutForNoneXYZ=!1,c(e),this.isShow=!0}},{key:"forceLayoutForNoneXYZ",value:function(){this.isForceLayoutForNoneXYZ=!this.isForceLayoutForNoneXYZ,this.isForceLayoutForNoneXYZ||this.restorePin(),this.showHD()}},{key:"showCentralityLayout",value:function(e){d(e),this.isShow=!0}},{key:"restorePin",value:function(){var e=[];this.graph.visibleNodes.forEach(function(t){void 0!==t.forcePinned&&e.push(t)}),_app.controller.drawing.layoutController.pinNodeIds(e.filter(function(e){return e.forcePinned}).map(function(e){return e.id})),_app.controller.drawing.layoutController.pinNodeIds(e.filter(function(e){return!e.forcePinned}).map(function(e){return e.id}),!0),e.forEach(function(e){delete e.forcePinned})}},{key:"hideHD",value:function(){var e=this;0!=this.isShow&&this.transitionLayoutTo("forcePosition").then(function(){e.isShow=!1,e.hideAxises(),e.restorePin(),_app.controller.drawing.layoutController.enable=!0})}},{key:"transitionLayoutTo",value:function(e){var t=this;return new Promise(function(n,r){var o=t.graph.visibleNodes,a=[],s=[];t.isForceLayoutForNoneXYZ&&(o.forEach(function(e){var n=i.default.map(t.axises,function(t){return null===t.userData.dim.val(e)}).filter(function(e){return e}).length>0;e.forcePinned=e.pinned,n?s.push(e):a.push(e)}),o=a,_app.controller.drawing.layoutController.pinNodeIds(s.map(function(e){return e.id}),!0),_app.controller.drawing.layoutController.pinNodeIds(o.map(function(e){return e.id}))),o.forEach(function(e){void 0==e.data.t_pos?e.data.t_pos=e.position.clone():e.data.t_pos.copy(e.position)}),t._layoutTween&&(t._layoutTween.onComplete=null,t._layoutTween.stop(),t._layoutTween=null);var u={t:0};t._layoutTween=new TWEEN.Tween(u).to({t:1},3e3).onUpdate(function(){o.forEach(function(t){if(t.data[e]){var n=t.data.t_pos.clone().multiplyScalar(1-u.t).add(t.data[e].clone().multiplyScalar(u.t));t.position.copy(n)}else console.log("Ignore the new node, please ues [H]+[D] re-init ")}),t.isForceLayoutForNoneXYZ&&_app.controller.drawing.layoutController.setNodesPositions(o.map(function(e){return e.id}),o.map(function(e){return e.position}))}).easing(TWEEN.Easing.Quadratic.InOut).onComplete(function(){o.forEach(function(e){e.data.t_pos&&(e.data.t_pos=null)}),n("done")}).start(window.performance.now())})}},{key:"shrinkNode",value:function(e){var t=this,n=this.graph.nodeSet[e];n&&n.neighbor.map(function(e){return t.graph.nodeSet[e]}).filter(function(e){return 1==e.neighbor.length||e.neighbor.length>0&&1==e.neighbor.map(function(e){return t.graph.nodeSet[e]}).filter(function(e){return 1==e.alpha}).length}).filter(function(e){return e}).forEach(function(e){e.alpha=0})}},{key:"growNode",value:function(e){var t=this,n=this.graph.nodeSet[e];n&&n.neighbor.map(function(e){return t.graph.nodeSet[e]}).filter(function(e){return e}).forEach(function(e){e.alpha=1})}},{key:"addAxis",value:function(e,t){var n=new THREE.Vector3(0,0,0);n[t]=1;var r=new THREE.Vector3(-1,-1,-1),i=new THREE.ArrowHelper(n,r,2,e.color);return i.userData.dim=e,this.updateLabel(e,t,i),this.scene.add(i),i}},{key:"updateLabel",value:function(e,t,n){(n=n||this.axises[t]).position.copy(new THREE.Vector3(0,0,0)),n.label&&(n.remove(n.label),n.label=null);var r=new o.default({text:e.label,width:220});"z"==t?(r.rotateX(-Math.PI/2),r.rotateY(Math.PI/2)):r.rotateZ(Math.PI/2);r.scale.set(.004,.004,.004),r.position.copy(n.cone.position.clone()),n.add(r),n.label=r}},{key:"adjustScale",value:function(e){var t=e.clone().multiplyScalar(-1),n=this;i.default.forEach(["x","y","z"],function(r){var i=n.axises[r];i&&(i.position.copy(t),i.scale.set(1,e[r],1))})}},{key:"setScale",value:function(e){this.scale.copy(e),this.adjustScale(e)}},{key:"showAxises",value:function(){var e=this;i.default.forEach(["x","y","z"],function(t){e.axises[t]&&(e.axises[t].visible=!0)})}},{key:"hideAxises",value:function(){var e=this;i.default.forEach(["x","y","z"],function(t){e.axises[t]&&(e.axises[t].visible=!1)})}},{key:"isShow",set:function(e){var t=this._isShow;this._isShow=e,this._isShow!=t&&this._handleEvent("change","HDLayoutChange",this._isShow)},get:function(){return this._isShow}}]),e}(),l=function(){var e=_drawing.graph,t=e.edges,n=_drawing.graph.visibleNodes.filter(function(e){return e.selected}),r=n&&n.length>0?n:[e.nodes[0]];!function(e){e.nodes.forEach(function(e){e.data.tree_level=1e3})}(e),function e(t,n,r,o){t.forEach(function(a){a.data.tree_level=n;var s=o.filter(function(e){return e.source==a||e.target==a}),u=i.default.difference(o,s);(0,i.default)(s).map(function(e){return[e.source,e.target]}).flatten().uniq().difference(t).value().forEach(function(t){t.data.tree_level>n+1&&e([t],n+1,r,u)})})}(r,0,e,t),function(e){var t=2+(0,i.default)(e.nodes).map(function(e){return e.data.tree_level}).filter(function(e){return e<1e3}).uniq().max();e.nodes.forEach(function(e){e.data.tree_level=e.data.tree_level>t?t:e.data.tree_level})}(e),_hd.init({x:{color:16711680,label:"level",val:function(e){return e.data.tree_level}},y:{color:65280,label:"y",val:function(e){return e.position.y}},z:{color:255,label:"z",val:function(e){return e.position.z}}}),_hd.showHD()},c=function(e){var t=void 0==e?i.default.uniq(_drawing.graph.nodes.map(function(e){return e.data.detail.type})):e,n={x:{color:16711680,label:"type",val:function(e){return t.indexOf(e.data.detail.type)}},y:{color:65280,label:"y",val:function(e){return e.position.y}},z:{color:255,label:"z",val:function(e){return e.position.z}}};_hd.init(n),_hd.showHD()},d=function(e){var t=void 0==e?{x:{color:16711680,label:"closeness",val:function(e){var t=e.data.detail.data.closeness;return void 0==t?0:t}},y:{color:65280,label:"betweenness",val:function(e){var t=e.data.detail.data.betweenness;return void 0==t?0:t}},z:{color:255,label:"pagerank",val:function(e){var t=e.data.detail.data.pagerank;return void 0==t?0:t}}}:e;_hd.init(t),_hd.setScale(new THREE.Vector3(1,1,1)),_hd.showHD()};t.default=u,t.PositionLabelNames=s,t.HDLayout=u},function(e,t){e.exports=function(){for(var e={},t=0;t<arguments.length;t++){var r=arguments[t];for(var i in r)n.call(r,i)&&(e[i]=r[i])}return e};var n=Object.prototype.hasOwnProperty},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Font=void 0;var r,i=n(1162),o=(r=i)&&r.__esModule?r:{default:r};var a={_font:null,_texure:null,init:function(){var e=this;return new Promise(function(t,n){if(e._texure&&e._font)return t("done");(0,o.default)("/static/fnt/DejaVu-sdf.fnt",function(n,r){if(n)throw n;(new THREE.TextureLoader).load("/static/fnt/DejaVu-sdf.png",function(n){return e._font=r,e._texure=n,t("done")})})})},getFont:function(){var e=this;if(this._texure&&this._font)return{font:this._font,texure:this._texure};this.init().then(function(){return{font:e._font,texure:e._texure}})}};t.default=a,t.Font=a},function(e,t,n){"use strict";var r=n(6),i=n(9),o=n(1),a=n.n(o),s=n(4),u=n.n(s),l=n(8),c=n.n(l),d=n(5),f={tag:d.tagPropType,fluid:u.a.bool,className:u.a.string,cssModule:u.a.object},h=function(e){var t=e.className,n=e.cssModule,o=e.fluid,s=e.tag,u=Object(i.a)(e,["className","cssModule","fluid","tag"]),l=Object(d.mapToCssModules)(c()(t,o?"container-fluid":"container"),n);return a.a.createElement(s,Object(r.a)({},u,{className:l}))};h.propTypes=f,h.defaultProps={tag:"div"},t.a=h},function(e,t,n){(function(t){var n="[object AsyncFunction]",r="[object Function]",i="[object GeneratorFunction]",o="[object Null]",a="[object Proxy]",s="[object Undefined]",u="object"==typeof t&&t&&t.Object===Object&&t,l="object"==typeof self&&self&&self.Object===Object&&self,c=u||l||Function("return this")(),d=Object.prototype,f=d.hasOwnProperty,h=d.toString,p=c.Symbol,m=p?p.toStringTag:void 0;function g(e){return null==e?void 0===e?s:o:m&&m in Object(e)?function(e){var t=f.call(e,m),n=e[m];try{e[m]=void 0;var r=!0}catch(e){}var i=h.call(e);r&&(t?e[m]=n:delete e[m]);return i}(e):function(e){return h.call(e)}(e)}e.exports=function(e){if(!function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}(e))return!1;var t=g(e);return t==r||t==i||t==n||t==a}}).call(t,n(22))},function(e,t,n){"use strict";var r=n(6),i=n(9),o=n(1),a=n.n(o),s=n(4),u=n.n(s),l=n(8),c=n.n(l),d=n(5),f={tag:d.tagPropType,noGutters:u.a.bool,className:u.a.string,cssModule:u.a.object,form:u.a.bool},h=function(e){var t=e.className,n=e.cssModule,o=e.noGutters,s=e.tag,u=e.form,l=Object(i.a)(e,["className","cssModule","noGutters","tag","form"]),f=Object(d.mapToCssModules)(c()(t,o?"no-gutters":null,u?"form-row":"row"),n);return a.a.createElement(s,Object(r.a)({},l,{className:f}))};h.propTypes=f,h.defaultProps={tag:"div"},t.a=h},function(e,t,n){"use strict";var r=n(6),i=n(9),o=n(440),a=n.n(o),s=n(1),u=n.n(s),l=n(4),c=n.n(l),d=n(8),f=n.n(d),h=n(5),p=c.a.oneOfType([c.a.number,c.a.string]),m=c.a.oneOfType([c.a.bool,c.a.number,c.a.string,c.a.shape({size:c.a.oneOfType([c.a.bool,c.a.number,c.a.string]),push:Object(h.deprecated)(p,'Please use the prop "order"'),pull:Object(h.deprecated)(p,'Please use the prop "order"'),order:p,offset:p})]),g={tag:h.tagPropType,xs:m,sm:m,md:m,lg:m,xl:m,className:c.a.string,cssModule:c.a.object,widths:c.a.array},y={tag:"div",widths:["xs","sm","md","lg","xl"]},v=function(e,t,n){return!0===n||""===n?e?"col":"col-"+t:"auto"===n?e?"col-auto":"col-"+t+"-auto":e?"col-"+n:"col-"+t+"-"+n},b=function(e){var t=e.className,n=e.cssModule,o=e.widths,s=e.tag,l=Object(i.a)(e,["className","cssModule","widths","tag"]),c=[];o.forEach(function(t,r){var i=e[t];if(delete l[t],i||""===i){var o=!r;if(a()(i)){var s,u=o?"-":"-"+t+"-",d=v(o,t,i.size);c.push(Object(h.mapToCssModules)(f()(((s={})[d]=i.size||""===i.size,s["order"+u+i.order]=i.order||0===i.order,s["offset"+u+i.offset]=i.offset||0===i.offset,s)),n))}else{var p=v(o,t,i);c.push(p)}}}),c.length||c.push("col");var d=Object(h.mapToCssModules)(f()(t,c),n);return u.a.createElement(s,Object(r.a)({},l,{className:d}))};b.propTypes=g,b.defaultProps=y,t.a=b},function(e,t,n){"use strict";var r=n(6),i=n(9),o=n(1),a=n.n(o),s=n(4),u=n.n(s),l=n(8),c=n.n(l),d=n(5),f={light:u.a.bool,dark:u.a.bool,inverse:Object(d.deprecated)(u.a.bool,'Please use the prop "dark"'),full:u.a.bool,fixed:u.a.string,sticky:u.a.string,color:u.a.string,role:u.a.string,tag:d.tagPropType,className:u.a.string,cssModule:u.a.object,toggleable:Object(d.deprecated)(u.a.oneOfType([u.a.bool,u.a.string]),'Please use the prop "expand"'),expand:u.a.oneOfType([u.a.bool,u.a.string])},h={xs:"sm",sm:"md",md:"lg",lg:"xl"},p=function(e){var t,n=e.toggleable,o=e.expand,s=e.className,u=e.cssModule,l=e.light,f=e.dark,p=e.inverse,m=e.fixed,g=e.sticky,y=e.color,v=e.tag,b=Object(i.a)(e,["toggleable","expand","className","cssModule","light","dark","inverse","fixed","sticky","color","tag"]),_=Object(d.mapToCssModules)(c()(s,"navbar",function(e){return!1!==e&&(!0===e||"xs"===e?"navbar-expand":"navbar-expand-"+e)}(o)||function(e){return void 0!==e&&"xl"!==e&&(!1===e?"navbar-expand":"navbar-expand-"+(!0===e?"sm":h[e]||e))}(n),((t={"navbar-light":l,"navbar-dark":p||f})["bg-"+y]=y,t["fixed-"+m]=m,t["sticky-"+g]=g,t)),u);return a.a.createElement(v,Object(r.a)({},b,{className:_}))};p.propTypes=f,p.defaultProps={tag:"nav",expand:!1},t.a=p},function(e,t,n){"use strict";var r=n(6),i=n(9),o=n(1),a=n.n(o),s=n(4),u=n.n(s),l=n(8),c=n.n(l),d=n(5),f={tag:d.tagPropType,className:u.a.string,cssModule:u.a.object},h=function(e){var t=e.className,n=e.cssModule,o=e.tag,s=Object(i.a)(e,["className","cssModule","tag"]),u=Object(d.mapToCssModules)(c()(t,"navbar-brand"),n);return a.a.createElement(o,Object(r.a)({},s,{className:u}))};h.propTypes=f,h.defaultProps={tag:"a"},t.a=h},function(e,t,n){"use strict";var r=n(6),i=n(9),o=n(1),a=n.n(o),s=n(4),u=n.n(s),l=n(8),c=n.n(l),d=n(5),f={tag:d.tagPropType,type:u.a.string,className:u.a.string,cssModule:u.a.object,children:u.a.node},h=function(e){var t=e.className,n=e.cssModule,o=e.children,s=e.tag,u=Object(i.a)(e,["className","cssModule","children","tag"]),l=Object(d.mapToCssModules)(c()(t,"navbar-toggler"),n);return a.a.createElement(s,Object(r.a)({},u,{className:l}),o||a.a.createElement("span",{className:Object(d.mapToCssModules)("navbar-toggler-icon",n)}))};h.propTypes=f,h.defaultProps={tag:"button",type:"button"},t.a=h},function(e,t,n){"use strict";var r=n(6),i=n(9),o=n(1),a=n.n(o),s=n(4),u=n.n(s),l=n(8),c=n.n(l),d=n(5),f={tabs:u.a.bool,pills:u.a.bool,vertical:u.a.oneOfType([u.a.bool,u.a.string]),horizontal:u.a.string,justified:u.a.bool,fill:u.a.bool,navbar:u.a.bool,card:u.a.bool,tag:d.tagPropType,className:u.a.string,cssModule:u.a.object},h=function(e){var t=e.className,n=e.cssModule,o=e.tabs,s=e.pills,u=e.vertical,l=e.horizontal,f=e.justified,h=e.fill,p=e.navbar,m=e.card,g=e.tag,y=Object(i.a)(e,["className","cssModule","tabs","pills","vertical","horizontal","justified","fill","navbar","card","tag"]),v=Object(d.mapToCssModules)(c()(t,p?"navbar-nav":"nav",!!l&&"justify-content-"+l,function(e){return!1!==e&&(!0===e||"xs"===e?"flex-column":"flex-"+e+"-column")}(u),{"nav-tabs":o,"card-header-tabs":m&&o,"nav-pills":s,"card-header-pills":m&&s,"nav-justified":f,"nav-fill":h}),n);return a.a.createElement(g,Object(r.a)({},y,{className:v}))};h.propTypes=f,h.defaultProps={tag:"ul",vertical:!1},t.a=h},function(e,t,n){"use strict";var r=n(6),i=n(9),o=n(1),a=n.n(o),s=n(4),u=n.n(s),l=n(8),c=n.n(l),d=n(5),f={tag:d.tagPropType,active:u.a.bool,className:u.a.string,cssModule:u.a.object},h=function(e){var t=e.className,n=e.cssModule,o=e.active,s=e.tag,u=Object(i.a)(e,["className","cssModule","active","tag"]),l=Object(d.mapToCssModules)(c()(t,"nav-item",!!o&&"active"),n);return a.a.createElement(s,Object(r.a)({},u,{className:l}))};h.propTypes=f,h.defaultProps={tag:"li"},t.a=h},function(e,t,n){"use strict";t.a=function(e){return Object(a.warnOnce)('The "NavDropdown" component has been deprecated.\nPlease use component "Dropdown" with nav prop.'),o.a.createElement(s.a,Object(r.a)({nav:!0},e))};var r=n(6),i=n(1),o=n.n(i),a=n(5),s=n(274)},function(e,t,n){"use strict";var r=n(1),i=(n.n(r),n(4)),o=n.n(i),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var u=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=s(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r._setTargetNode=function(e){r._targetNode=e},r._getTargetNode=function(){return r._targetNode},s(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),a(t,[{key:"getChildContext",value:function(){return{popperManager:{setTargetNode:this._setTargetNode,getTargetNode:this._getTargetNode}}}},{key:"render",value:function(){var e=this.props,t=e.tag,n=e.children,i=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["tag","children"]);return!1!==t?Object(r.createElement)(t,i,n):n}}]),t}();u.childContextTypes={popperManager:o.a.object.isRequired},u.propTypes={tag:o.a.oneOfType([o.a.string,o.a.bool]),children:o.a.oneOfType([o.a.node,o.a.func])},u.defaultProps={tag:"div"},t.a=u},function(e,t,n){"use strict";var r=n(1),i=(n.n(r),n(4)),o=n.n(i),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};var s=function(e,t){var n=e.component,i=void 0===n?"div":n,o=e.innerRef,s=e.children,u=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["component","innerRef","children"]),l=t.popperManager,c=function(e){l.setTargetNode(e),"function"==typeof o&&o(e)};if("function"==typeof s)return s({targetProps:{ref:c},restProps:u});var d=a({},u);return"string"==typeof i?d.ref=c:d.innerRef=c,Object(r.createElement)(i,d,s)};s.contextTypes={popperManager:o.a.object.isRequired},s.propTypes={component:o.a.oneOfType([o.a.node,o.a.func]),innerRef:o.a.func,children:o.a.oneOfType([o.a.node,o.a.func])},t.a=s},function(e,t,n){"use strict";var r=n(1),i=(n.n(r),n(4)),o=n.n(i),a=n(674),s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var c=a.a.placements,d=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=l(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.state={},r._setArrowNode=function(e){r._arrowNode=e},r._getTargetNode=function(){if(r.props.target)return r.props.target;if(!r.context.popperManager||!r.context.popperManager.getTargetNode())throw new Error("Target missing. Popper must be given a target from the Popper Manager, or as a prop.");return r.context.popperManager.getTargetNode()},r._getOffsets=function(e){return Object.keys(e.offsets).map(function(t){return e.offsets[t]})},r._isDataDirty=function(e){return!r.state.data||JSON.stringify(r._getOffsets(r.state.data))!==JSON.stringify(r._getOffsets(e))},r._updateStateModifier={enabled:!0,order:900,fn:function(e){return r._isDataDirty(e)&&r.setState({data:e}),e}},r._getPopperStyle=function(){var e=r.state.data;return r._popper&&e?s({position:e.offsets.popper.position},e.styles):{position:"absolute",pointerEvents:"none",opacity:0}},r._getPopperPlacement=function(){return r.state.data?r.state.data.placement:void 0},r._getPopperHide=function(){return r.state.data&&r.state.data.hide?"":void 0},r._getArrowStyle=function(){if(r.state.data&&r.state.data.offsets.arrow){var e=r.state.data.offsets.arrow;return{top:e.top,left:e.left}}return{}},r._handlePopperRef=function(e){r._popperNode=e,e?r._createPopper():r._destroyPopper(),r.props.innerRef&&r.props.innerRef(e)},r._scheduleUpdate=function(){r._popper&&r._popper.scheduleUpdate()},l(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),u(t,[{key:"getChildContext",value:function(){return{popper:{setArrowNode:this._setArrowNode,getArrowStyle:this._getArrowStyle}}}},{key:"componentDidUpdate",value:function(e){e.placement===this.props.placement&&e.eventsEnabled===this.props.eventsEnabled&&e.target===this.props.target||(this._destroyPopper(),this._createPopper()),e.children!==this.props.children&&this._scheduleUpdate()}},{key:"componentWillUnmount",value:function(){this._destroyPopper()}},{key:"_createPopper",value:function(){var e=this,t=this.props,n=t.placement,r=t.eventsEnabled,i=t.positionFixed,o=s({},this.props.modifiers,{applyStyle:{enabled:!1},updateState:this._updateStateModifier});this._arrowNode&&(o.arrow=s({},this.props.modifiers.arrow||{},{element:this._arrowNode})),this._popper=new a.a(this._getTargetNode(),this._popperNode,{placement:n,positionFixed:i,eventsEnabled:r,modifiers:o}),setTimeout(function(){return e._scheduleUpdate()})}},{key:"_destroyPopper",value:function(){this._popper&&this._popper.destroy()}},{key:"render",value:function(){var e=this.props,t=e.component,n=(e.innerRef,e.placement,e.eventsEnabled,e.positionFixed,e.modifiers,e.children),i=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["component","innerRef","placement","eventsEnabled","positionFixed","modifiers","children"]),o=this._getPopperStyle(),a=this._getPopperPlacement(),u=this._getPopperHide();if("function"==typeof n)return n({popperProps:{ref:this._handlePopperRef,style:o,"data-placement":a,"data-x-out-of-boundaries":u},restProps:i,scheduleUpdate:this._scheduleUpdate});var l=s({},i,{style:s({},i.style,o),"data-placement":a,"data-x-out-of-boundaries":u});return"string"==typeof t?l.ref=this._handlePopperRef:l.innerRef=this._handlePopperRef,Object(r.createElement)(t,l,n)}}]),t}();d.contextTypes={popperManager:o.a.object},d.childContextTypes={popper:o.a.object.isRequired},d.propTypes={component:o.a.oneOfType([o.a.node,o.a.func]),innerRef:o.a.func,placement:o.a.oneOf(c),eventsEnabled:o.a.bool,positionFixed:o.a.bool,modifiers:o.a.object,children:o.a.oneOfType([o.a.node,o.a.func]),target:o.a.oneOfType([o.a.instanceOf("undefined"!=typeof Element?Element:Object),o.a.shape({getBoundingClientRect:o.a.func.isRequired,clientWidth:o.a.number.isRequired,clientHeight:o.a.number.isRequired})])},d.defaultProps={component:"div",placement:"bottom",eventsEnabled:!0,positionFixed:!1,modifiers:{}},t.a=d},function(e,t,n){"use strict";(function(e){for(
/**!
 * @fileOverview Kickass library to create and place poppers near their reference elements.
 * @version 1.14.6
 * @license
 * Copyright (c) 2016 Federico Zivolo and contributors
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */
var n="undefined"!=typeof window&&"undefined"!=typeof document,r=["Edge","Trident","Firefox"],i=0,o=0;o<r.length;o+=1)if(n&&navigator.userAgent.indexOf(r[o])>=0){i=1;break}var a=n&&window.Promise?function(e){var t=!1;return function(){t||(t=!0,window.Promise.resolve().then(function(){t=!1,e()}))}}:function(e){var t=!1;return function(){t||(t=!0,setTimeout(function(){t=!1,e()},i))}};function s(e){return e&&"[object Function]"==={}.toString.call(e)}function u(e,t){if(1!==e.nodeType)return[];var n=e.ownerDocument.defaultView.getComputedStyle(e,null);return t?n[t]:n}function l(e){return"HTML"===e.nodeName?e:e.parentNode||e.host}function c(e){if(!e)return document.body;switch(e.nodeName){case"HTML":case"BODY":return e.ownerDocument.body;case"#document":return e.body}var t=u(e),n=t.overflow,r=t.overflowX,i=t.overflowY;return/(auto|scroll|overlay)/.test(n+i+r)?e:c(l(e))}var d=n&&!(!window.MSInputMethodContext||!document.documentMode),f=n&&/MSIE 10/.test(navigator.userAgent);function h(e){return 11===e?d:10===e?f:d||f}function p(e){if(!e)return document.documentElement;for(var t=h(10)?document.body:null,n=e.offsetParent||null;n===t&&e.nextElementSibling;)n=(e=e.nextElementSibling).offsetParent;var r=n&&n.nodeName;return r&&"BODY"!==r&&"HTML"!==r?-1!==["TH","TD","TABLE"].indexOf(n.nodeName)&&"static"===u(n,"position")?p(n):n:e?e.ownerDocument.documentElement:document.documentElement}function m(e){return null!==e.parentNode?m(e.parentNode):e}function g(e,t){if(!(e&&e.nodeType&&t&&t.nodeType))return document.documentElement;var n=e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING,r=n?e:t,i=n?t:e,o=document.createRange();o.setStart(r,0),o.setEnd(i,0);var a,s,u=o.commonAncestorContainer;if(e!==u&&t!==u||r.contains(i))return"BODY"===(s=(a=u).nodeName)||"HTML"!==s&&p(a.firstElementChild)!==a?p(u):u;var l=m(e);return l.host?g(l.host,t):g(e,m(t).host)}function y(e){var t="top"===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top")?"scrollTop":"scrollLeft",n=e.nodeName;if("BODY"===n||"HTML"===n){var r=e.ownerDocument.documentElement;return(e.ownerDocument.scrollingElement||r)[t]}return e[t]}function v(e,t){var n="x"===t?"Left":"Top",r="Left"===n?"Right":"Bottom";return parseFloat(e["border"+n+"Width"],10)+parseFloat(e["border"+r+"Width"],10)}function b(e,t,n,r){return Math.max(t["offset"+e],t["scroll"+e],n["client"+e],n["offset"+e],n["scroll"+e],h(10)?parseInt(n["offset"+e])+parseInt(r["margin"+("Height"===e?"Top":"Left")])+parseInt(r["margin"+("Height"===e?"Bottom":"Right")]):0)}function _(e){var t=e.body,n=e.documentElement,r=h(10)&&getComputedStyle(n);return{height:b("Height",t,n,r),width:b("Width",t,n,r)}}var w=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},k=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),E=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},x=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function S(e){return x({},e,{right:e.left+e.width,bottom:e.top+e.height})}function M(e){var t={};try{if(h(10)){t=e.getBoundingClientRect();var n=y(e,"top"),r=y(e,"left");t.top+=n,t.left+=r,t.bottom+=n,t.right+=r}else t=e.getBoundingClientRect()}catch(e){}var i={left:t.left,top:t.top,width:t.right-t.left,height:t.bottom-t.top},o="HTML"===e.nodeName?_(e.ownerDocument):{},a=o.width||e.clientWidth||i.right-i.left,s=o.height||e.clientHeight||i.bottom-i.top,l=e.offsetWidth-a,c=e.offsetHeight-s;if(l||c){var d=u(e);l-=v(d,"x"),c-=v(d,"y"),i.width-=l,i.height-=c}return S(i)}function T(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=h(10),i="HTML"===t.nodeName,o=M(e),a=M(t),s=c(e),l=u(t),d=parseFloat(l.borderTopWidth,10),f=parseFloat(l.borderLeftWidth,10);n&&i&&(a.top=Math.max(a.top,0),a.left=Math.max(a.left,0));var p=S({top:o.top-a.top-d,left:o.left-a.left-f,width:o.width,height:o.height});if(p.marginTop=0,p.marginLeft=0,!r&&i){var m=parseFloat(l.marginTop,10),g=parseFloat(l.marginLeft,10);p.top-=d-m,p.bottom-=d-m,p.left-=f-g,p.right-=f-g,p.marginTop=m,p.marginLeft=g}return(r&&!n?t.contains(s):t===s&&"BODY"!==s.nodeName)&&(p=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=y(t,"top"),i=y(t,"left"),o=n?-1:1;return e.top+=r*o,e.bottom+=r*o,e.left+=i*o,e.right+=i*o,e}(p,t)),p}function C(e){if(!e||!e.parentElement||h())return document.documentElement;for(var t=e.parentElement;t&&"none"===u(t,"transform");)t=t.parentElement;return t||document.documentElement}function A(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o={top:0,left:0},a=i?C(e):g(e,t);if("viewport"===r)o=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.ownerDocument.documentElement,r=T(e,n),i=Math.max(n.clientWidth,window.innerWidth||0),o=Math.max(n.clientHeight,window.innerHeight||0),a=t?0:y(n),s=t?0:y(n,"left");return S({top:a-r.top+r.marginTop,left:s-r.left+r.marginLeft,width:i,height:o})}(a,i);else{var s=void 0;"scrollParent"===r?"BODY"===(s=c(l(t))).nodeName&&(s=e.ownerDocument.documentElement):s="window"===r?e.ownerDocument.documentElement:r;var d=T(s,a,i);if("HTML"!==s.nodeName||function e(t){var n=t.nodeName;return"BODY"!==n&&"HTML"!==n&&("fixed"===u(t,"position")||e(l(t)))}(a))o=d;else{var f=_(e.ownerDocument),h=f.height,p=f.width;o.top+=d.top-d.marginTop,o.bottom=h+d.top,o.left+=d.left-d.marginLeft,o.right=p+d.left}}var m="number"==typeof(n=n||0);return o.left+=m?n:n.left||0,o.top+=m?n:n.top||0,o.right-=m?n:n.right||0,o.bottom-=m?n:n.bottom||0,o}function O(e,t,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(-1===e.indexOf("auto"))return e;var a=A(n,r,o,i),s={top:{width:a.width,height:t.top-a.top},right:{width:a.right-t.right,height:a.height},bottom:{width:a.width,height:a.bottom-t.bottom},left:{width:t.left-a.left,height:a.height}},u=Object.keys(s).map(function(e){return x({key:e},s[e],{area:(t=s[e],t.width*t.height)});var t}).sort(function(e,t){return t.area-e.area}),l=u.filter(function(e){var t=e.width,r=e.height;return t>=n.clientWidth&&r>=n.clientHeight}),c=l.length>0?l[0].key:u[0].key,d=e.split("-")[1];return c+(d?"-"+d:"")}function N(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return T(n,r?C(t):g(t,n),r)}function L(e){var t=e.ownerDocument.defaultView.getComputedStyle(e),n=parseFloat(t.marginTop||0)+parseFloat(t.marginBottom||0),r=parseFloat(t.marginLeft||0)+parseFloat(t.marginRight||0);return{width:e.offsetWidth+r,height:e.offsetHeight+n}}function j(e){var t={left:"right",right:"left",bottom:"top",top:"bottom"};return e.replace(/left|right|bottom|top/g,function(e){return t[e]})}function P(e,t,n){n=n.split("-")[0];var r=L(e),i={width:r.width,height:r.height},o=-1!==["right","left"].indexOf(n),a=o?"top":"left",s=o?"left":"top",u=o?"height":"width",l=o?"width":"height";return i[a]=t[a]+t[u]/2-r[u]/2,i[s]=n===s?t[s]-r[l]:t[j(s)],i}function D(e,t){return Array.prototype.find?e.find(t):e.filter(t)[0]}function I(e,t,n){return(void 0===n?e:e.slice(0,function(e,t,n){if(Array.prototype.findIndex)return e.findIndex(function(e){return e[t]===n});var r=D(e,function(e){return e[t]===n});return e.indexOf(r)}(e,"name",n))).forEach(function(e){e.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var n=e.function||e.fn;e.enabled&&s(n)&&(t.offsets.popper=S(t.offsets.popper),t.offsets.reference=S(t.offsets.reference),t=n(t,e))}),t}function R(e,t){return e.some(function(e){var n=e.name;return e.enabled&&n===t})}function F(e){for(var t=[!1,"ms","Webkit","Moz","O"],n=e.charAt(0).toUpperCase()+e.slice(1),r=0;r<t.length;r++){var i=t[r],o=i?""+i+n:e;if(void 0!==document.body.style[o])return o}return null}function Y(e){var t=e.ownerDocument;return t?t.defaultView:window}function B(e,t,n,r){n.updateBound=r,Y(e).addEventListener("resize",n.updateBound,{passive:!0});var i=c(e);return function e(t,n,r,i){var o="BODY"===t.nodeName,a=o?t.ownerDocument.defaultView:t;a.addEventListener(n,r,{passive:!0}),o||e(c(a.parentNode),n,r,i),i.push(a)}(i,"scroll",n.updateBound,n.scrollParents),n.scrollElement=i,n.eventsEnabled=!0,n}function H(){var e,t;this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=(e=this.reference,t=this.state,Y(e).removeEventListener("resize",t.updateBound),t.scrollParents.forEach(function(e){e.removeEventListener("scroll",t.updateBound)}),t.updateBound=null,t.scrollParents=[],t.scrollElement=null,t.eventsEnabled=!1,t))}function z(e){return""!==e&&!isNaN(parseFloat(e))&&isFinite(e)}function W(e,t){Object.keys(t).forEach(function(n){var r="";-1!==["width","height","top","right","bottom","left"].indexOf(n)&&z(t[n])&&(r="px"),e.style[n]=t[n]+r})}var U=n&&/Firefox/i.test(navigator.userAgent);function V(e,t,n){var r=D(e,function(e){return e.name===t}),i=!!r&&e.some(function(e){return e.name===n&&e.enabled&&e.order<r.order});if(!i){var o="`"+t+"`",a="`"+n+"`";console.warn(a+" modifier is required by "+o+" modifier in order to work, be sure to include it before "+o+"!")}return i}var G=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],q=G.slice(3);function K(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=q.indexOf(e),r=q.slice(n+1).concat(q.slice(0,n));return t?r.reverse():r}var $={FLIP:"flip",CLOCKWISE:"clockwise",COUNTERCLOCKWISE:"counterclockwise"};function X(e,t,n,r){var i=[0,0],o=-1!==["right","left"].indexOf(r),a=e.split(/(\+|\-)/).map(function(e){return e.trim()}),s=a.indexOf(D(a,function(e){return-1!==e.search(/,|\s/)}));a[s]&&-1===a[s].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var u=/\s*,\s*|\s+/,l=-1!==s?[a.slice(0,s).concat([a[s].split(u)[0]]),[a[s].split(u)[1]].concat(a.slice(s+1))]:[a];return(l=l.map(function(e,r){var i=(1===r?!o:o)?"height":"width",a=!1;return e.reduce(function(e,t){return""===e[e.length-1]&&-1!==["+","-"].indexOf(t)?(e[e.length-1]=t,a=!0,e):a?(e[e.length-1]+=t,a=!1,e):e.concat(t)},[]).map(function(e){return function(e,t,n,r){var i=e.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),o=+i[1],a=i[2];if(!o)return e;if(0===a.indexOf("%")){var s=void 0;switch(a){case"%p":s=n;break;case"%":case"%r":default:s=r}return S(s)[t]/100*o}if("vh"===a||"vw"===a)return("vh"===a?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*o;return o}(e,i,t,n)})})).forEach(function(e,t){e.forEach(function(n,r){z(n)&&(i[t]+=n*("-"===e[r-1]?-1:1))})}),i}var J={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:{shift:{order:100,enabled:!0,fn:function(e){var t=e.placement,n=t.split("-")[0],r=t.split("-")[1];if(r){var i=e.offsets,o=i.reference,a=i.popper,s=-1!==["bottom","top"].indexOf(n),u=s?"left":"top",l=s?"width":"height",c={start:E({},u,o[u]),end:E({},u,o[u]+o[l]-a[l])};e.offsets.popper=x({},a,c[r])}return e}},offset:{order:200,enabled:!0,fn:function(e,t){var n=t.offset,r=e.placement,i=e.offsets,o=i.popper,a=i.reference,s=r.split("-")[0],u=void 0;return u=z(+n)?[+n,0]:X(n,o,a,s),"left"===s?(o.top+=u[0],o.left-=u[1]):"right"===s?(o.top+=u[0],o.left+=u[1]):"top"===s?(o.left+=u[0],o.top-=u[1]):"bottom"===s&&(o.left+=u[0],o.top+=u[1]),e.popper=o,e},offset:0},preventOverflow:{order:300,enabled:!0,fn:function(e,t){var n=t.boundariesElement||p(e.instance.popper);e.instance.reference===n&&(n=p(n));var r=F("transform"),i=e.instance.popper.style,o=i.top,a=i.left,s=i[r];i.top="",i.left="",i[r]="";var u=A(e.instance.popper,e.instance.reference,t.padding,n,e.positionFixed);i.top=o,i.left=a,i[r]=s,t.boundaries=u;var l=t.priority,c=e.offsets.popper,d={primary:function(e){var n=c[e];return c[e]<u[e]&&!t.escapeWithReference&&(n=Math.max(c[e],u[e])),E({},e,n)},secondary:function(e){var n="right"===e?"left":"top",r=c[n];return c[e]>u[e]&&!t.escapeWithReference&&(r=Math.min(c[n],u[e]-("right"===e?c.width:c.height))),E({},n,r)}};return l.forEach(function(e){var t=-1!==["left","top"].indexOf(e)?"primary":"secondary";c=x({},c,d[t](e))}),e.offsets.popper=c,e},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function(e){var t=e.offsets,n=t.popper,r=t.reference,i=e.placement.split("-")[0],o=Math.floor,a=-1!==["top","bottom"].indexOf(i),s=a?"right":"bottom",u=a?"left":"top",l=a?"width":"height";return n[s]<o(r[u])&&(e.offsets.popper[u]=o(r[u])-n[l]),n[u]>o(r[s])&&(e.offsets.popper[u]=o(r[s])),e}},arrow:{order:500,enabled:!0,fn:function(e,t){var n;if(!V(e.instance.modifiers,"arrow","keepTogether"))return e;var r=t.element;if("string"==typeof r){if(!(r=e.instance.popper.querySelector(r)))return e}else if(!e.instance.popper.contains(r))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),e;var i=e.placement.split("-")[0],o=e.offsets,a=o.popper,s=o.reference,l=-1!==["left","right"].indexOf(i),c=l?"height":"width",d=l?"Top":"Left",f=d.toLowerCase(),h=l?"left":"top",p=l?"bottom":"right",m=L(r)[c];s[p]-m<a[f]&&(e.offsets.popper[f]-=a[f]-(s[p]-m)),s[f]+m>a[p]&&(e.offsets.popper[f]+=s[f]+m-a[p]),e.offsets.popper=S(e.offsets.popper);var g=s[f]+s[c]/2-m/2,y=u(e.instance.popper),v=parseFloat(y["margin"+d],10),b=parseFloat(y["border"+d+"Width"],10),_=g-e.offsets.popper[f]-v-b;return _=Math.max(Math.min(a[c]-m,_),0),e.arrowElement=r,e.offsets.arrow=(E(n={},f,Math.round(_)),E(n,h,""),n),e},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function(e,t){if(R(e.instance.modifiers,"inner"))return e;if(e.flipped&&e.placement===e.originalPlacement)return e;var n=A(e.instance.popper,e.instance.reference,t.padding,t.boundariesElement,e.positionFixed),r=e.placement.split("-")[0],i=j(r),o=e.placement.split("-")[1]||"",a=[];switch(t.behavior){case $.FLIP:a=[r,i];break;case $.CLOCKWISE:a=K(r);break;case $.COUNTERCLOCKWISE:a=K(r,!0);break;default:a=t.behavior}return a.forEach(function(s,u){if(r!==s||a.length===u+1)return e;r=e.placement.split("-")[0],i=j(r);var l=e.offsets.popper,c=e.offsets.reference,d=Math.floor,f="left"===r&&d(l.right)>d(c.left)||"right"===r&&d(l.left)<d(c.right)||"top"===r&&d(l.bottom)>d(c.top)||"bottom"===r&&d(l.top)<d(c.bottom),h=d(l.left)<d(n.left),p=d(l.right)>d(n.right),m=d(l.top)<d(n.top),g=d(l.bottom)>d(n.bottom),y="left"===r&&h||"right"===r&&p||"top"===r&&m||"bottom"===r&&g,v=-1!==["top","bottom"].indexOf(r),b=!!t.flipVariations&&(v&&"start"===o&&h||v&&"end"===o&&p||!v&&"start"===o&&m||!v&&"end"===o&&g);(f||y||b)&&(e.flipped=!0,(f||y)&&(r=a[u+1]),b&&(o=function(e){return"end"===e?"start":"start"===e?"end":e}(o)),e.placement=r+(o?"-"+o:""),e.offsets.popper=x({},e.offsets.popper,P(e.instance.popper,e.offsets.reference,e.placement)),e=I(e.instance.modifiers,e,"flip"))}),e},behavior:"flip",padding:5,boundariesElement:"viewport"},inner:{order:700,enabled:!1,fn:function(e){var t=e.placement,n=t.split("-")[0],r=e.offsets,i=r.popper,o=r.reference,a=-1!==["left","right"].indexOf(n),s=-1===["top","left"].indexOf(n);return i[a?"left":"top"]=o[n]-(s?i[a?"width":"height"]:0),e.placement=j(t),e.offsets.popper=S(i),e}},hide:{order:800,enabled:!0,fn:function(e){if(!V(e.instance.modifiers,"hide","preventOverflow"))return e;var t=e.offsets.reference,n=D(e.instance.modifiers,function(e){return"preventOverflow"===e.name}).boundaries;if(t.bottom<n.top||t.left>n.right||t.top>n.bottom||t.right<n.left){if(!0===e.hide)return e;e.hide=!0,e.attributes["x-out-of-boundaries"]=""}else{if(!1===e.hide)return e;e.hide=!1,e.attributes["x-out-of-boundaries"]=!1}return e}},computeStyle:{order:850,enabled:!0,fn:function(e,t){var n=t.x,r=t.y,i=e.offsets.popper,o=D(e.instance.modifiers,function(e){return"applyStyle"===e.name}).gpuAcceleration;void 0!==o&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var a=void 0!==o?o:t.gpuAcceleration,s=p(e.instance.popper),u=M(s),l={position:i.position},c=function(e,t){var n=e.offsets,r=n.popper,i=n.reference,o=-1!==["left","right"].indexOf(e.placement),a=-1!==e.placement.indexOf("-"),s=i.width%2==r.width%2,u=i.width%2==1&&r.width%2==1,l=function(e){return e},c=t?o||a||s?Math.round:Math.floor:l,d=t?Math.round:l;return{left:c(u&&!a&&t?r.left-1:r.left),top:d(r.top),bottom:d(r.bottom),right:c(r.right)}}(e,window.devicePixelRatio<2||!U),d="bottom"===n?"top":"bottom",f="right"===r?"left":"right",h=F("transform"),m=void 0,g=void 0;if(g="bottom"===d?"HTML"===s.nodeName?-s.clientHeight+c.bottom:-u.height+c.bottom:c.top,m="right"===f?"HTML"===s.nodeName?-s.clientWidth+c.right:-u.width+c.right:c.left,a&&h)l[h]="translate3d("+m+"px, "+g+"px, 0)",l[d]=0,l[f]=0,l.willChange="transform";else{var y="bottom"===d?-1:1,v="right"===f?-1:1;l[d]=g*y,l[f]=m*v,l.willChange=d+", "+f}var b={"x-placement":e.placement};return e.attributes=x({},b,e.attributes),e.styles=x({},l,e.styles),e.arrowStyles=x({},e.offsets.arrow,e.arrowStyles),e},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function(e){var t,n;return W(e.instance.popper,e.styles),t=e.instance.popper,n=e.attributes,Object.keys(n).forEach(function(e){!1!==n[e]?t.setAttribute(e,n[e]):t.removeAttribute(e)}),e.arrowElement&&Object.keys(e.arrowStyles).length&&W(e.arrowElement,e.arrowStyles),e},onLoad:function(e,t,n,r,i){var o=N(i,t,e,n.positionFixed),a=O(n.placement,o,t,e,n.modifiers.flip.boundariesElement,n.modifiers.flip.padding);return t.setAttribute("x-placement",a),W(t,{position:n.positionFixed?"fixed":"absolute"}),n},gpuAcceleration:void 0}}},Q=function(){function e(t,n){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};w(this,e),this.scheduleUpdate=function(){return requestAnimationFrame(r.update)},this.update=a(this.update.bind(this)),this.options=x({},e.Defaults,i),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=t&&t.jquery?t[0]:t,this.popper=n&&n.jquery?n[0]:n,this.options.modifiers={},Object.keys(x({},e.Defaults.modifiers,i.modifiers)).forEach(function(t){r.options.modifiers[t]=x({},e.Defaults.modifiers[t]||{},i.modifiers?i.modifiers[t]:{})}),this.modifiers=Object.keys(this.options.modifiers).map(function(e){return x({name:e},r.options.modifiers[e])}).sort(function(e,t){return e.order-t.order}),this.modifiers.forEach(function(e){e.enabled&&s(e.onLoad)&&e.onLoad(r.reference,r.popper,r.options,e,r.state)}),this.update();var o=this.options.eventsEnabled;o&&this.enableEventListeners(),this.state.eventsEnabled=o}return k(e,[{key:"update",value:function(){return function(){if(!this.state.isDestroyed){var e={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};e.offsets.reference=N(this.state,this.popper,this.reference,this.options.positionFixed),e.placement=O(this.options.placement,e.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),e.originalPlacement=e.placement,e.positionFixed=this.options.positionFixed,e.offsets.popper=P(this.popper,e.offsets.reference,e.placement),e.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",e=I(this.modifiers,e),this.state.isCreated?this.options.onUpdate(e):(this.state.isCreated=!0,this.options.onCreate(e))}}.call(this)}},{key:"destroy",value:function(){return function(){return this.state.isDestroyed=!0,R(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[F("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}.call(this)}},{key:"enableEventListeners",value:function(){return function(){this.state.eventsEnabled||(this.state=B(this.reference,this.options,this.state,this.scheduleUpdate))}.call(this)}},{key:"disableEventListeners",value:function(){return H.call(this)}}]),e}();Q.Utils=("undefined"!=typeof window?window:e).PopperUtils,Q.placements=G,Q.Defaults=J,t.a=Q}).call(t,n(22))},function(e,t,n){"use strict";var r=n(1),i=(n.n(r),n(4)),o=n.n(i),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};var s=function(e,t){var n=e.component,i=void 0===n?"span":n,o=e.innerRef,s=e.children,u=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["component","innerRef","children"]),l=t.popper,c=function(e){l.setArrowNode(e),"function"==typeof o&&o(e)},d=l.getArrowStyle();if("function"==typeof s)return s({arrowProps:{ref:c,style:d},restProps:u});var f=a({},u,{style:a({},d,u.style)});return"string"==typeof i?f.ref=c:f.innerRef=c,Object(r.createElement)(i,f,s)};s.contextTypes={popper:o.a.object.isRequired},s.propTypes={component:o.a.oneOfType([o.a.node,o.a.func]),innerRef:o.a.func,children:o.a.oneOfType([o.a.node,o.a.func])},t.a=s},function(e,t,n){"use strict";var r=n(6),i=n(9),o=n(33),a=n(39),s=n(1),u=n.n(s),l=n(4),c=n.n(l),d=n(8),f=n.n(d),h=n(5),p={tag:h.tagPropType,innerRef:c.a.oneOfType([c.a.object,c.a.func,c.a.string]),disabled:c.a.bool,active:c.a.bool,className:c.a.string,cssModule:c.a.object,onClick:c.a.func,href:c.a.any},m=function(e){function t(t){var n;return(n=e.call(this,t)||this).onClick=n.onClick.bind(Object(a.a)(Object(a.a)(n))),n}Object(o.a)(t,e);var n=t.prototype;return n.onClick=function(e){this.props.disabled?e.preventDefault():("#"===this.props.href&&e.preventDefault(),this.props.onClick&&this.props.onClick(e))},n.render=function(){var e=this.props,t=e.className,n=e.cssModule,o=e.active,a=e.tag,s=e.innerRef,l=Object(i.a)(e,["className","cssModule","active","tag","innerRef"]),c=Object(h.mapToCssModules)(f()(t,"nav-link",{disabled:l.disabled,active:o}),n);return u.a.createElement(a,Object(r.a)({},l,{ref:s,onClick:this.onClick,className:c}))},t}(u.a.Component);m.propTypes=p,m.defaultProps={tag:"a"},t.a=m},function(e,t,n){"use strict";var r=n(6),i=n(9),o=n(1),a=n.n(o),s=n(4),u=n.n(s),l=n(8),c=n.n(l),d=n(5),f={tag:d.tagPropType,listTag:d.tagPropType,className:u.a.string,listClassName:u.a.string,cssModule:u.a.object,children:u.a.node,"aria-label":u.a.string},h=function(e){var t=e.className,n=e.listClassName,o=e.cssModule,s=e.children,u=e.tag,l=e.listTag,f=e["aria-label"],h=Object(i.a)(e,["className","listClassName","cssModule","children","tag","listTag","aria-label"]),p=Object(d.mapToCssModules)(c()(t),o),m=Object(d.mapToCssModules)(c()("breadcrumb",n),o);return a.a.createElement(u,Object(r.a)({},h,{className:p,"aria-label":f}),a.a.createElement(l,{className:m},s))};h.propTypes=f,h.defaultProps={tag:"nav",listTag:"ol","aria-label":"breadcrumb"},t.a=h},function(e,t,n){"use strict";var r=n(6),i=n(9),o=n(1),a=n.n(o),s=n(4),u=n.n(s),l=n(8),c=n.n(l),d=n(5),f={tag:d.tagPropType,active:u.a.bool,className:u.a.string,cssModule:u.a.object},h=function(e){var t=e.className,n=e.cssModule,o=e.active,s=e.tag,u=Object(i.a)(e,["className","cssModule","active","tag"]),l=Object(d.mapToCssModules)(c()(t,!!o&&"active","breadcrumb-item"),n);return a.a.createElement(s,Object(r.a)({},u,{className:l,"aria-current":o?"page":void 0}))};h.propTypes=f,h.defaultProps={tag:"li"},t.a=h},function(e,t,n){"use strict";var r=n(6),i=n(9),o=n(1),a=n.n(o),s=n(4),u=n.n(s),l=n(8),c=n.n(l),d=n(5),f={tag:d.tagPropType,"aria-label":u.a.string,className:u.a.string,cssModule:u.a.object,role:u.a.string,size:u.a.string,vertical:u.a.bool},h=function(e){var t=e.className,n=e.cssModule,o=e.size,s=e.vertical,u=e.tag,l=Object(i.a)(e,["className","cssModule","size","vertical","tag"]),f=Object(d.mapToCssModules)(c()(t,!!o&&"btn-group-"+o,s?"btn-group-vertical":"btn-group"),n);return a.a.createElement(u,Object(r.a)({},l,{className:f}))};h.propTypes=f,h.defaultProps={tag:"div",role:"group"},t.a=h},function(e,t,n){"use strict";var r=n(6),i=n(9),o=n(1),a=n.n(o),s=n(4),u=n.n(s),l=n(8),c=n.n(l),d=n(5),f={tag:d.tagPropType,"aria-label":u.a.string,className:u.a.string,cssModule:u.a.object,role:u.a.string},h=function(e){var t=e.className,n=e.cssModule,o=e.tag,s=Object(i.a)(e,["className","cssModule","tag"]),u=Object(d.mapToCssModules)(c()(t,"btn-toolbar"),n);return a.a.createElement(o,Object(r.a)({},s,{className:u}))};h.propTypes=f,h.defaultProps={tag:"div",role:"toolbar"},t.a=h},function(e,t,n){"use strict";var r=n(6),i=n(9),o=n(33),a=n(39),s=n(1),u=n.n(s),l=n(4),c=n.n(l),d=n(8),f=n.n(d),h=n(5),p={children:c.a.node,active:c.a.bool,disabled:c.a.bool,divider:c.a.bool,tag:h.tagPropType,header:c.a.bool,onClick:c.a.func,className:c.a.string,cssModule:c.a.object,toggle:c.a.bool},m={toggle:c.a.func},g=function(e){function t(t){var n;return(n=e.call(this,t)||this).onClick=n.onClick.bind(Object(a.a)(Object(a.a)(n))),n.getTabIndex=n.getTabIndex.bind(Object(a.a)(Object(a.a)(n))),n}Object(o.a)(t,e);var n=t.prototype;return n.onClick=function(e){this.props.disabled||this.props.header||this.props.divider?e.preventDefault():(this.props.onClick&&this.props.onClick(e),this.props.toggle&&this.context.toggle(e))},n.getTabIndex=function(){return this.props.disabled||this.props.header||this.props.divider?"-1":"0"},n.render=function(){var e=this.getTabIndex(),t=e>-1?"menuitem":void 0,n=Object(h.omit)(this.props,["toggle"]),o=n.className,a=n.cssModule,s=n.divider,l=n.tag,c=n.header,d=n.active,p=Object(i.a)(n,["className","cssModule","divider","tag","header","active"]),m=Object(h.mapToCssModules)(f()(o,{disabled:p.disabled,"dropdown-item":!s&&!c,active:d,"dropdown-header":c,"dropdown-divider":s}),a);return"button"===l&&(c?l="h6":s?l="div":p.href&&(l="a")),u.a.createElement(l,Object(r.a)({type:"button"===l&&(p.onClick||this.props.toggle)?"button":void 0},p,{tabIndex:e,role:t,className:m,onClick:this.onClick}))},t}(u.a.Component);g.propTypes=p,g.defaultProps={tag:"button",toggle:!0},g.contextTypes=m,t.a=g},function(e,t,n){"use strict";var r=n(6),i=n(72),o=n(9),a=n(1),s=n.n(a),u=n(4),l=n.n(u),c=n(8),d=n.n(c),f=n(298),h=n(5),p={tag:h.tagPropType,children:l.a.node.isRequired,right:l.a.bool,flip:l.a.bool,modifiers:l.a.object,className:l.a.string,cssModule:l.a.object,persist:l.a.bool},m={isOpen:l.a.bool.isRequired,direction:l.a.oneOf(["up","down","left","right"]).isRequired,inNavbar:l.a.bool.isRequired},g={flip:{enabled:!1}},y={up:"top",left:"left",right:"right",down:"bottom"},v=function(e,t){var n=e.className,a=e.cssModule,u=e.right,l=e.tag,c=e.flip,p=e.modifiers,m=e.persist,v=Object(o.a)(e,["className","cssModule","right","tag","flip","modifiers","persist"]),b=Object(h.mapToCssModules)(d()(n,"dropdown-menu",{"dropdown-menu-right":u,show:t.isOpen}),a),_=l;if(m||t.isOpen&&!t.inNavbar){_=f.c;var w=y[t.direction]||"bottom",k=u?"end":"start";v.placement=w+"-"+k,v.component=l,v.modifiers=c?p:Object(i.a)({},p,g)}return s.a.createElement(_,Object(r.a)({tabIndex:"-1",role:"menu"},v,{"aria-hidden":!t.isOpen,className:b,"x-placement":v.placement}))};v.propTypes=p,v.defaultProps={tag:"div",flip:!0},v.contextTypes=m,t.a=v},function(e,t,n){"use strict";t.a=function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}},function(e,t,n){"use strict";var r=n(6),i=n(9),o=n(33),a=n(39),s=n(1),u=n.n(s),l=n(4),c=n.n(l),d=n(8),f=n.n(d),h=n(298),p=n(5),m=n(349),g={caret:c.a.bool,color:c.a.string,children:c.a.node,className:c.a.string,cssModule:c.a.object,disabled:c.a.bool,onClick:c.a.func,"aria-haspopup":c.a.bool,split:c.a.bool,tag:p.tagPropType,nav:c.a.bool},y={isOpen:c.a.bool.isRequired,toggle:c.a.func.isRequired,inNavbar:c.a.bool.isRequired},v=function(e){function t(t){var n;return(n=e.call(this,t)||this).onClick=n.onClick.bind(Object(a.a)(Object(a.a)(n))),n}Object(o.a)(t,e);var n=t.prototype;return n.onClick=function(e){this.props.disabled?e.preventDefault():(this.props.nav&&!this.props.tag&&e.preventDefault(),this.props.onClick&&this.props.onClick(e),this.context.toggle(e))},n.render=function(){var e,t=this.props,n=t.className,o=t.color,a=t.cssModule,s=t.caret,l=t.split,c=t.nav,d=t.tag,g=Object(i.a)(t,["className","color","cssModule","caret","split","nav","tag"]),y=g["aria-label"]||"Toggle Dropdown",v=Object(p.mapToCssModules)(f()(n,{"dropdown-toggle":s||l,"dropdown-toggle-split":l,"nav-link":c}),a),b=g.children||u.a.createElement("span",{className:"sr-only"},y);return c&&!d?(e="a",g.href="#"):d?e=d:(e=m.a,g.color=o,g.cssModule=a),this.context.inNavbar?u.a.createElement(e,Object(r.a)({},g,{className:v,onClick:this.onClick,"aria-expanded":this.context.isOpen,children:b})):u.a.createElement(h.d,Object(r.a)({},g,{className:v,component:e,onClick:this.onClick,"aria-expanded":this.context.isOpen,children:b}))},t}(u.a.Component);v.propTypes=g,v.defaultProps={"aria-haspopup":!0,color:"secondary"},v.contextTypes=y,t.a=v},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(4));var r=s(n(558)),i=s(n(559)),o=s(n(1)),a=s(n(442));n(443);function s(e){return e&&e.__esModule?e:{default:e}}function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var l=function(e,t){return e&&t&&t.split(" ").forEach(function(t){return(0,r.default)(e,t)})},c=function(e,t){return e&&t&&t.split(" ").forEach(function(t){return(0,i.default)(e,t)})},d=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).onEnter=function(e,n){var r=t.getClassNames(n?"appear":"enter").className;t.removeClasses(e,"exit"),l(e,r),t.props.onEnter&&t.props.onEnter(e)},t.onEntering=function(e,n){var r=t.getClassNames(n?"appear":"enter").activeClassName;t.reflowAndAddClass(e,r),t.props.onEntering&&t.props.onEntering(e)},t.onEntered=function(e,n){var r=t.getClassNames("enter").doneClassName;t.removeClasses(e,n?"appear":"enter"),l(e,r),t.props.onEntered&&t.props.onEntered(e)},t.onExit=function(e){var n=t.getClassNames("exit").className;t.removeClasses(e,"appear"),t.removeClasses(e,"enter"),l(e,n),t.props.onExit&&t.props.onExit(e)},t.onExiting=function(e){var n=t.getClassNames("exit").activeClassName;t.reflowAndAddClass(e,n),t.props.onExiting&&t.props.onExiting(e)},t.onExited=function(e){var n=t.getClassNames("exit").doneClassName;t.removeClasses(e,"exit"),l(e,n),t.props.onExited&&t.props.onExited(e)},t.getClassNames=function(e){var n=t.props.classNames,r="string"!=typeof n?n[e]:n+"-"+e;return{className:r,activeClassName:"string"!=typeof n?n[e+"Active"]:r+"-active",doneClassName:"string"!=typeof n?n[e+"Done"]:r+"-done"}},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=r.prototype;return i.removeClasses=function(e,t){var n=this.getClassNames(t),r=n.className,i=n.activeClassName,o=n.doneClassName;r&&c(e,r),i&&c(e,i),o&&c(e,o)},i.reflowAndAddClass=function(e,t){t&&(e&&e.scrollTop,l(e,t))},i.render=function(){var e=u({},this.props);return delete e.classNames,o.default.createElement(a.default,u({},e,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},r}(o.default.Component);d.propTypes={};var f=d;t.default=f,e.exports=t.default},function(e,t){e.exports=function(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;a(n(4));var r=a(n(1)),i=n(31),o=a(n(444));function a(e){return e&&e.__esModule?e:{default:e}}var s=function(e){var t,n;function a(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).handleEnter=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onEnter",0,n)},t.handleEntering=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onEntering",0,n)},t.handleEntered=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onEntered",0,n)},t.handleExit=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onExit",1,n)},t.handleExiting=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onExiting",1,n)},t.handleExited=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onExited",1,n)},t}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var s=a.prototype;return s.handleLifecycle=function(e,t,n){var o,a=this.props.children,s=r.default.Children.toArray(a)[t];s.props[e]&&(o=s.props)[e].apply(o,n),this.props[e]&&this.props[e]((0,i.findDOMNode)(this))},s.render=function(){var e=this.props,t=e.children,n=e.in,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,["children","in"]),a=r.default.Children.toArray(t),s=a[0],u=a[1];return delete i.onEnter,delete i.onEntering,delete i.onEntered,delete i.onExit,delete i.onExiting,delete i.onExited,r.default.createElement(o.default,i,n?r.default.cloneElement(s,{key:"first",onEnter:this.handleEnter,onEntering:this.handleEntering,onEntered:this.handleEntered}):r.default.cloneElement(u,{key:"second",onEnter:this.handleExit,onEntering:this.handleExiting,onEntered:this.handleExited}))},a}(r.default.Component);s.propTypes={};var u=s;t.default=u,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.getChildMapping=i,t.mergeChildMappings=o,t.getInitialChildMapping=function(e,t){return i(e.children,function(n){return(0,r.cloneElement)(n,{onExited:t.bind(null,n),in:!0,appear:a(n,"appear",e),enter:a(n,"enter",e),exit:a(n,"exit",e)})})},t.getNextChildMapping=function(e,t,n){var s=i(e.children),u=o(t,s);return Object.keys(u).forEach(function(i){var o=u[i];if((0,r.isValidElement)(o)){var l=i in t,c=i in s,d=t[i],f=(0,r.isValidElement)(d)&&!d.props.in;!c||l&&!f?c||!l||f?c&&l&&(0,r.isValidElement)(d)&&(u[i]=(0,r.cloneElement)(o,{onExited:n.bind(null,o),in:d.props.in,exit:a(o,"exit",e),enter:a(o,"enter",e)})):u[i]=(0,r.cloneElement)(o,{in:!1}):u[i]=(0,r.cloneElement)(o,{onExited:n.bind(null,o),in:!0,exit:a(o,"exit",e),enter:a(o,"enter",e)})}}),u};var r=n(1);function i(e,t){var n=Object.create(null);return e&&r.Children.map(e,function(e){return e}).forEach(function(e){n[e.key]=function(e){return t&&(0,r.isValidElement)(e)?t(e):e}(e)}),n}function o(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,i=Object.create(null),o=[];for(var a in e)a in t?o.length&&(i[a]=o,o=[]):o.push(a);var s={};for(var u in t){if(i[u])for(r=0;r<i[u].length;r++){var l=i[u][r];s[i[u][r]]=n(l)}s[u]=n(u)}for(r=0;r<o.length;r++)s[o[r]]=n(o[r]);return s}function a(e,t,n){return null!=n[t]?n[t]:e.props[t]}},function(e,t,n){"use strict";var r=n(6),i=n(9),o=n(1),a=n.n(o),s=n(4),u=n.n(s),l=n(8),c=n.n(l),d=n(5),f={color:u.a.string,pill:u.a.bool,tag:d.tagPropType,innerRef:u.a.oneOfType([u.a.object,u.a.func,u.a.string]),children:u.a.node,className:u.a.string,cssModule:u.a.object},h=function(e){var t=e.className,n=e.cssModule,o=e.color,s=e.innerRef,u=e.pill,l=e.tag,f=Object(i.a)(e,["className","cssModule","color","innerRef","pill","tag"]),h=Object(d.mapToCssModules)(c()(t,"badge","badge-"+o,!!u&&"badge-pill"),n);return f.href&&"span"===l&&(l="a"),a.a.createElement(l,Object(r.a)({},f,{className:h,ref:s}))};h.propTypes=f,h.defaultProps={color:"secondary",pill:!1,tag:"span"},t.a=h},function(e,t,n){"use strict";var r=n(6),i=n(9),o=n(1),a=n.n(o),s=n(4),u=n.n(s),l=n(8),c=n.n(l),d=n(5),f={tag:d.tagPropType,inverse:u.a.bool,color:u.a.string,block:Object(d.deprecated)(u.a.bool,'Please use the props "body"'),body:u.a.bool,outline:u.a.bool,className:u.a.string,cssModule:u.a.object,innerRef:u.a.oneOfType([u.a.object,u.a.string,u.a.func])},h=function(e){var t=e.className,n=e.cssModule,o=e.color,s=e.block,u=e.body,l=e.inverse,f=e.outline,h=e.tag,p=e.innerRef,m=Object(i.a)(e,["className","cssModule","color","block","body","inverse","outline","tag","innerRef"]),g=Object(d.mapToCssModules)(c()(t,"card",!!l&&"text-white",!(!s&&!u)&&"card-body",!!o&&(f?"border":"bg")+"-"+o),n);return a.a.createElement(h,Object(r.a)({},m,{className:g,ref:p}))};h.propTypes=f,h.defaultProps={tag:"div"},t.a=h},function(e,t,n){"use strict";var r=n(6),i=n(9),o=n(1),a=n.n(o),s=n(4),u=n.n(s),l=n(8),c=n.n(l),d=n(5),f={tag:d.tagPropType,className:u.a.string,cssModule:u.a.object},h=function(e){var t=e.className,n=e.cssModule,o=e.tag,s=Object(i.a)(e,["className","cssModule","tag"]),u=Object(d.mapToCssModules)(c()(t,"card-group"),n);return a.a.createElement(o,Object(r.a)({},s,{className:u}))};h.propTypes=f,h.defaultProps={tag:"div"},t.a=h},function(e,t,n){"use strict";var r=n(6),i=n(9),o=n(1),a=n.n(o),s=n(4),u=n.n(s),l=n(8),c=n.n(l),d=n(5),f={tag:d.tagPropType,className:u.a.string,cssModule:u.a.object},h=function(e){var t=e.className,n=e.cssModule,o=e.tag,s=Object(i.a)(e,["className","cssModule","tag"]),u=Object(d.mapToCssModules)(c()(t,"card-deck"),n);return a.a.createElement(o,Object(r.a)({},s,{className:u}))};h.propTypes=f,h.defaultProps={tag:"div"},t.a=h},function(e,t,n){"use strict";var r=n(6),i=n(9),o=n(1),a=n.n(o),s=n(4),u=n.n(s),l=n(8),c=n.n(l),d=n(5),f={tag:d.tagPropType,className:u.a.string,cssModule:u.a.object},h=function(e){var t=e.className,n=e.cssModule,o=e.tag,s=Object(i.a)(e,["className","cssModule","tag"]),u=Object(d.mapToCssModules)(c()(t,"card-columns"),n);return a.a.createElement(o,Object(r.a)({},s,{className:u}))};h.propTypes=f,h.defaultProps={tag:"div"},t.a=h},function(e,t,n){"use strict";t.a=function(e){return Object(a.warnOnce)('The "CardBlock" component has been deprecated.\nPlease use component "CardBody".'),i.a.createElement(o.a,e)};var r=n(1),i=n.n(r),o=n(445),a=n(5)},function(e,t,n){"use strict";var r=n(6),i=n(9),o=n(1),a=n.n(o),s=n(4),u=n.n(s),l=n(8),c=n.n(l),d=n(5),f={tag:d.tagPropType,innerRef:u.a.oneOfType([u.a.object,u.a.func,u.a.string]),className:u.a.string,cssModule:u.a.object},h=function(e){var t=e.className,n=e.cssModule,o=e.tag,s=e.innerRef,u=Object(i.a)(e,["className","cssModule","tag","innerRef"]),l=Object(d.mapToCssModules)(c()(t,"card-link"),n);return a.a.createElement(o,Object(r.a)({},u,{ref:s,className:l}))};h.propTypes=f,h.defaultProps={tag:"a"},t.a=h},function(e,t,n){"use strict";var r=n(6),i=n(9),o=n(1),a=n.n(o),s=n(4),u=n.n(s),l=n(8),c=n.n(l),d=n(5),f={tag:d.tagPropType,className:u.a.string,cssModule:u.a.object},h=function(e){var t=e.className,n=e.cssModule,o=e.tag,s=Object(i.a)(e,["className","cssModule","tag"]),u=Object(d.mapToCssModules)(c()(t,"card-footer"),n);return a.a.createElement(o,Object(r.a)({},s,{className:u}))};h.propTypes=f,h.defaultProps={tag:"div"},t.a=h},function(e,t,n){"use strict";var r=n(6),i=n(9),o=n(1),a=n.n(o),s=n(4),u=n.n(s),l=n(8),c=n.n(l),d=n(5),f={tag:d.tagPropType,className:u.a.string,cssModule:u.a.object},h=function(e){var t=e.className,n=e.cssModule,o=e.tag,s=Object(i.a)(e,["className","cssModule","tag"]),u=Object(d.mapToCssModules)(c()(t,"card-header"),n);return a.a.createElement(o,Object(r.a)({},s,{className:u}))};h.propTypes=f,h.defaultProps={tag:"div"},t.a=h},function(e,t,n){"use strict";var r=n(6),i=n(9),o=n(1),a=n.n(o),s=n(4),u=n.n(s),l=n(8),c=n.n(l),d=n(5),f={tag:d.tagPropType,top:u.a.bool,bottom:u.a.bool,className:u.a.string,cssModule:u.a.object},h=function(e){var t=e.className,n=e.cssModule,o=e.top,s=e.bottom,u=e.tag,l=Object(i.a)(e,["className","cssModule","top","bottom","tag"]),f="card-img";o&&(f="card-img-top"),s&&(f="card-img-bottom");var h=Object(d.mapToCssModules)(c()(t,f),n);return a.a.createElement(u,Object(r.a)({},l,{className:h}))};h.propTypes=f,h.defaultProps={tag:"img"},t.a=h},function(e,t,n){"use strict";var r=n(6),i=n(9),o=n(1),a=n.n(o),s=n(4),u=n.n(s),l=n(8),c=n.n(l),d=n(5),f={tag:d.tagPropType,className:u.a.string,cssModule:u.a.object},h=function(e){var t=e.className,n=e.cssModule,o=e.tag,s=Object(i.a)(e,["className","cssModule","tag"]),u=Object(d.mapToCssModules)(c()(t,"card-img-overlay"),n);return a.a.createElement(o,Object(r.a)({},s,{className:u}))};h.propTypes=f,h.defaultProps={tag:"div"},t.a=h},function(e,t,n){"use strict";var r=n(6),i=n(9),o=n(33),a=n(39),s=n(1),u=n.n(s),l=n(4),c=n.n(l),d=n(446),f=n(352),h=n(447),p=n(448),m=n(449),g={items:c.a.array.isRequired,indicators:c.a.bool,controls:c.a.bool,autoPlay:c.a.bool,defaultActiveIndex:c.a.number,activeIndex:c.a.number,next:c.a.func,previous:c.a.func,goToIndex:c.a.func},y=function(e){function t(t){var n;return(n=e.call(this,t)||this).animating=!1,n.state={activeIndex:t.defaultActiveIndex||0},n.next=n.next.bind(Object(a.a)(Object(a.a)(n))),n.previous=n.previous.bind(Object(a.a)(Object(a.a)(n))),n.goToIndex=n.goToIndex.bind(Object(a.a)(Object(a.a)(n))),n.onExiting=n.onExiting.bind(Object(a.a)(Object(a.a)(n))),n.onExited=n.onExited.bind(Object(a.a)(Object(a.a)(n))),n}Object(o.a)(t,e);var n=t.prototype;return n.onExiting=function(){this.animating=!0},n.onExited=function(){this.animating=!1},n.next=function(){if(!this.animating){var e=this.state.activeIndex===this.props.items.length-1?0:this.state.activeIndex+1;this.setState({activeIndex:e})}},n.previous=function(){if(!this.animating){var e=0===this.state.activeIndex?this.props.items.length-1:this.state.activeIndex-1;this.setState({activeIndex:e})}},n.goToIndex=function(e){this.animating||this.setState({activeIndex:e})},n.render=function(){var e=this,t=this.props,n=(t.defaultActiveIndex,t.autoPlay),o=t.indicators,a=t.controls,s=t.items,l=t.goToIndex,c=Object(i.a)(t,["defaultActiveIndex","autoPlay","indicators","controls","items","goToIndex"]),g=this.state.activeIndex,y=s.map(function(t){return u.a.createElement(f.a,{onExiting:e.onExiting,onExited:e.onExited,key:t.src},u.a.createElement("img",{className:"d-block w-100",src:t.src,alt:t.altText}),u.a.createElement(m.a,{captionText:t.caption,captionHeader:t.header||t.caption}))});return u.a.createElement(d.a,Object(r.a)({activeIndex:g,next:this.next,previous:this.previous,ride:n?"carousel":void 0},c),o&&u.a.createElement(p.a,{items:s,activeIndex:c.activeIndex||g,onClickHandler:l||this.goToIndex}),y,a&&u.a.createElement(h.a,{direction:"prev",directionText:"Previous",onClickHandler:c.previous||this.previous}),a&&u.a.createElement(h.a,{direction:"next",directionText:"Next",onClickHandler:c.next||this.next}))},t}(s.Component);y.propTypes=g,y.defaultProps={controls:!0,indicators:!0,autoPlay:!0},t.a=y},function(e,t,n){"use strict";var r=n(6),i=n(9),o=n(1),a=n.n(o),s=n(4),u=n.n(s),l=n(8),c=n.n(l),d=n(5),f={tag:d.tagPropType,className:u.a.string,cssModule:u.a.object},h=function(e){var t=e.className,n=e.cssModule,o=e.tag,s=Object(i.a)(e,["className","cssModule","tag"]),u=Object(d.mapToCssModules)(c()(t,"card-subtitle"),n);return a.a.createElement(o,Object(r.a)({},s,{className:u}))};h.propTypes=f,h.defaultProps={tag:"div"},t.a=h},function(e,t,n){"use strict";var r=n(6),i=n(9),o=n(1),a=n.n(o),s=n(4),u=n.n(s),l=n(8),c=n.n(l),d=n(5),f={tag:d.tagPropType,className:u.a.string,cssModule:u.a.object},h=function(e){var t=e.className,n=e.cssModule,o=e.tag,s=Object(i.a)(e,["className","cssModule","tag"]),u=Object(d.mapToCssModules)(c()(t,"card-text"),n);return a.a.createElement(o,Object(r.a)({},s,{className:u}))};h.propTypes=f,h.defaultProps={tag:"p"},t.a=h},function(e,t,n){"use strict";var r=n(6),i=n(9),o=n(1),a=n.n(o),s=n(4),u=n.n(s),l=n(8),c=n.n(l),d=n(5),f={tag:d.tagPropType,className:u.a.string,cssModule:u.a.object},h=function(e){var t=e.className,n=e.cssModule,o=e.tag,s=Object(i.a)(e,["className","cssModule","tag"]),u=Object(d.mapToCssModules)(c()(t,"card-title"),n);return a.a.createElement(o,Object(r.a)({},s,{className:u}))};h.propTypes=f,h.defaultProps={tag:"div"},t.a=h},function(e,t,n){"use strict";var r=n(6),i=n(9),o=n(1),a=n.n(o),s=n(4),u=n.n(s),l=n(8),c=n.n(l),d=n(5),f={className:u.a.string,id:u.a.oneOfType([u.a.string,u.a.number]).isRequired,type:u.a.string.isRequired,label:u.a.node,inline:u.a.bool,valid:u.a.bool,invalid:u.a.bool,bsSize:u.a.string,cssModule:u.a.object,children:u.a.oneOfType([u.a.node,u.a.array,u.a.func]),innerRef:u.a.oneOfType([u.a.object,u.a.string,u.a.func])};function h(e){var t=e.className,n=e.label,o=e.inline,s=e.valid,u=e.invalid,l=e.cssModule,f=e.children,h=e.bsSize,p=e.innerRef,m=Object(i.a)(e,["className","label","inline","valid","invalid","cssModule","children","bsSize","innerRef"]),g=m.type,y=Object(d.mapToCssModules)(c()(t,"custom-"+g,!!h&&"custom-"+g+"-"+h),l),v=Object(d.mapToCssModules)(c()(u&&"is-invalid",s&&"is-valid"),l);if("select"===g)return a.a.createElement("select",Object(r.a)({},m,{ref:p,className:c()(v,y)}),f);if("file"===g)return a.a.createElement("div",{className:y},a.a.createElement("input",Object(r.a)({},m,{ref:p,className:c()(v,Object(d.mapToCssModules)("custom-file-input",l))})),a.a.createElement("label",{className:Object(d.mapToCssModules)("custom-file-label",l),htmlFor:m.id},n||"Choose file"));if("checkbox"!==g&&"radio"!==g&&"switch"!==g)return a.a.createElement("input",Object(r.a)({},m,{ref:p,className:c()(v,y)}));var b=c()(y,Object(d.mapToCssModules)(c()("custom-control",{"custom-control-inline":o}),l));return a.a.createElement("div",{className:b},a.a.createElement("input",Object(r.a)({},m,{type:"switch"===g?"checkbox":g,ref:p,className:c()(v,Object(d.mapToCssModules)("custom-control-input",l))})),a.a.createElement("label",{className:Object(d.mapToCssModules)("custom-control-label",l),htmlFor:m.id},n),f)}h.propTypes=f,t.a=h},function(e,t,n){"use strict";var r=n(4),i=n.n(r),o=n(5),a=function(e,t){return t.popperManager.setTargetNode(Object(o.getTarget)(e.target)),null};a.contextTypes={popperManager:i.a.object.isRequired},a.propTypes={target:o.targetPropType.isRequired},t.a=a},function(e,t,n){"use strict";n.d(t,"a",function(){return p});var r=n(72),i=n(6),o=n(33),a=n(39),s=n(1),u=n.n(s),l=n(4),c=n.n(l),d=n(451),f=n(5),h=["defaultOpen"],p=function(e){function t(t){var n;return(n=e.call(this,t)||this).state={isOpen:t.defaultOpen||!1},n.toggle=n.toggle.bind(Object(a.a)(Object(a.a)(n))),n}Object(o.a)(t,e);var n=t.prototype;return n.toggle=function(){this.setState({isOpen:!this.state.isOpen})},n.render=function(){return u.a.createElement(d.a,Object(i.a)({isOpen:this.state.isOpen,toggle:this.toggle},Object(f.omit)(this.props,h)))},t}(s.Component);p.propTypes=Object(r.a)({defaultOpen:c.a.bool},d.a.propTypes)},function(e,t,n){"use strict";t.a=function(e){return Object(a.warnOnce)('The "PopoverTitle" component has been deprecated.\nPlease use component "PopoverHeader".'),i.a.createElement(o.a,e)};var r=n(1),i=n.n(r),o=n(453),a=n(5)},function(e,t,n){"use strict";t.a=function(e){return Object(a.warnOnce)('The "PopoverContent" component has been deprecated.\nPlease use component "PopoverBody".'),i.a.createElement(o.a,e)};var r=n(1),i=n.n(r),o=n(454),a=n(5)},function(e,t,n){"use strict";var r=n(6),i=n(9),o=n(1),a=n.n(o),s=n(4),u=n.n(s),l=n(8),c=n.n(l),d=n(711),f=n.n(d),h=n(5),p={children:u.a.node,bar:u.a.bool,multi:u.a.bool,tag:h.tagPropType,value:u.a.oneOfType([u.a.string,u.a.number]),max:u.a.oneOfType([u.a.string,u.a.number]),animated:u.a.bool,striped:u.a.bool,color:u.a.string,className:u.a.string,barClassName:u.a.string,cssModule:u.a.object},m=function(e){var t=e.children,n=e.className,o=e.barClassName,s=e.cssModule,u=e.value,l=e.max,d=e.animated,p=e.striped,m=e.color,g=e.bar,y=e.multi,v=e.tag,b=Object(i.a)(e,["children","className","barClassName","cssModule","value","max","animated","striped","color","bar","multi","tag"]),_=f()(u)/f()(l)*100,w=Object(h.mapToCssModules)(c()(n,"progress"),s),k=Object(h.mapToCssModules)(c()("progress-bar",g&&n||o,d?"progress-bar-animated":null,m?"bg-"+m:null,p||d?"progress-bar-striped":null),s),E=y?t:a.a.createElement("div",{className:k,style:{width:_+"%"},role:"progressbar","aria-valuenow":u,"aria-valuemin":"0","aria-valuemax":l,children:t});return g?E:a.a.createElement(v,Object(r.a)({},b,{className:w,children:E}))};m.propTypes=p,m.defaultProps={tag:"div",value:0,max:100},t.a=m},function(e,t){var n=NaN,r="[object Symbol]",i=/^\s+|\s+$/g,o=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,s=/^0o[0-7]+$/i,u=parseInt,l=Object.prototype.toString;function c(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}e.exports=function(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&l.call(e)==r}(e))return n;if(c(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=c(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(i,"");var d=a.test(e);return d||s.test(e)?u(e.slice(2),d?2:8):o.test(e)?n:+e}},function(e,t,n){"use strict";var r=n(72),i=n(6),o=n(33),a=n(39),s=n(1),u=n.n(s),l=n(4),c=n.n(l),d=n(8),f=n.n(d),h=n(713),p=n(350),m=n(5);function g(){}var y=c.a.shape(p.a.propTypes),v={isOpen:c.a.bool,autoFocus:c.a.bool,centered:c.a.bool,size:c.a.string,toggle:c.a.func,keyboard:c.a.bool,role:c.a.string,labelledBy:c.a.string,backdrop:c.a.oneOfType([c.a.bool,c.a.oneOf(["static"])]),onEnter:c.a.func,onExit:c.a.func,onOpened:c.a.func,onClosed:c.a.func,children:c.a.node,className:c.a.string,wrapClassName:c.a.string,modalClassName:c.a.string,backdropClassName:c.a.string,contentClassName:c.a.string,external:c.a.node,fade:c.a.bool,cssModule:c.a.object,zIndex:c.a.oneOfType([c.a.number,c.a.string]),backdropTransition:y,modalTransition:y,innerRef:c.a.oneOfType([c.a.object,c.a.string,c.a.func])},b=Object.keys(v),_={isOpen:!1,autoFocus:!0,centered:!1,role:"dialog",backdrop:!0,keyboard:!0,zIndex:1050,fade:!0,onOpened:g,onClosed:g,modalTransition:{timeout:m.TransitionTimeouts.Modal},backdropTransition:{mountOnEnter:!0,timeout:m.TransitionTimeouts.Fade}},w=function(e){function t(t){var n;return(n=e.call(this,t)||this)._element=null,n._originalBodyPadding=null,n.getFocusableChildren=n.getFocusableChildren.bind(Object(a.a)(Object(a.a)(n))),n.handleBackdropClick=n.handleBackdropClick.bind(Object(a.a)(Object(a.a)(n))),n.handleBackdropMouseDown=n.handleBackdropMouseDown.bind(Object(a.a)(Object(a.a)(n))),n.handleEscape=n.handleEscape.bind(Object(a.a)(Object(a.a)(n))),n.handleTab=n.handleTab.bind(Object(a.a)(Object(a.a)(n))),n.onOpened=n.onOpened.bind(Object(a.a)(Object(a.a)(n))),n.onClosed=n.onClosed.bind(Object(a.a)(Object(a.a)(n))),n.state={isOpen:t.isOpen},t.isOpen&&n.init(),n}Object(o.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){this.props.onEnter&&this.props.onEnter(),this.state.isOpen&&this.props.autoFocus&&this.setFocus(),this._isMounted=!0},n.componentWillReceiveProps=function(e){e.isOpen&&!this.props.isOpen&&this.setState({isOpen:e.isOpen})},n.componentWillUpdate=function(e,t){t.isOpen&&!this.state.isOpen&&this.init()},n.componentDidUpdate=function(e,t){this.props.autoFocus&&this.state.isOpen&&!t.isOpen&&this.setFocus(),this._element&&e.zIndex!==this.props.zIndex&&(this._element.style.zIndex=this.props.zIndex)},n.componentWillUnmount=function(){this.props.onExit&&this.props.onExit(),this.state.isOpen&&this.destroy(),this._isMounted=!1},n.onOpened=function(e,t){this.props.onOpened(),(this.props.modalTransition.onEntered||g)(e,t)},n.onClosed=function(e){this.props.onClosed(),(this.props.modalTransition.onExited||g)(e),this.destroy(),this._isMounted&&this.setState({isOpen:!1})},n.setFocus=function(){this._dialog&&this._dialog.parentNode&&"function"==typeof this._dialog.parentNode.focus&&this._dialog.parentNode.focus()},n.getFocusableChildren=function(){return this._element.querySelectorAll(m.focusableElements.join(", "))},n.getFocusedChild=function(){var e,t=this.getFocusableChildren();try{e=document.activeElement}catch(n){e=t[0]}return e},n.handleBackdropClick=function(e){if(e.target===this._mouseDownElement){if(e.stopPropagation(),!this.props.isOpen||!0!==this.props.backdrop)return;var t=this._dialog?this._dialog.parentNode:null;t&&e.target===t&&this.props.toggle&&this.props.toggle(e)}},n.handleTab=function(e){if(9===e.which){for(var t=this.getFocusableChildren(),n=t.length,r=this.getFocusedChild(),i=0,o=0;o<n;o+=1)if(t[o]===r){i=o;break}e.shiftKey&&0===i?(e.preventDefault(),t[n-1].focus()):e.shiftKey||i!==n-1||(e.preventDefault(),t[0].focus())}},n.handleBackdropMouseDown=function(e){this._mouseDownElement=e.target},n.handleEscape=function(e){this.props.isOpen&&this.props.keyboard&&27===e.keyCode&&this.props.toggle&&(e.preventDefault(),e.stopPropagation(),this.props.toggle(e))},n.init=function(){try{this._triggeringElement=document.activeElement}catch(e){this._triggeringElement=null}this._element=document.createElement("div"),this._element.setAttribute("tabindex","-1"),this._element.style.position="relative",this._element.style.zIndex=this.props.zIndex,this._originalBodyPadding=Object(m.getOriginalBodyPadding)(),Object(m.conditionallyUpdateScrollbar)(),document.body.appendChild(this._element),0===t.openCount&&(document.body.className=f()(document.body.className,Object(m.mapToCssModules)("modal-open",this.props.cssModule))),t.openCount+=1},n.destroy=function(){if(this._element&&(document.body.removeChild(this._element),this._element=null),this._triggeringElement&&(this._triggeringElement.focus&&this._triggeringElement.focus(),this._triggeringElement=null),t.openCount<=1){var e=Object(m.mapToCssModules)("modal-open",this.props.cssModule),n=new RegExp("(^| )"+e+"( |$)");document.body.className=document.body.className.replace(n," ").trim()}t.openCount-=1,Object(m.setScrollbarWidth)(this._originalBodyPadding)},n.renderModalDialog=function(){var e,t=this,n=Object(m.omit)(this.props,b);return u.a.createElement("div",Object(i.a)({},n,{className:Object(m.mapToCssModules)(f()("modal-dialog",this.props.className,(e={},e["modal-"+this.props.size]=this.props.size,e["modal-dialog-centered"]=this.props.centered,e)),this.props.cssModule),role:"document",ref:function(e){t._dialog=e}}),u.a.createElement("div",{className:Object(m.mapToCssModules)(f()("modal-content",this.props.contentClassName),this.props.cssModule)},this.props.children))},n.render=function(){if(this.state.isOpen){var e=this.props,t=e.wrapClassName,n=e.modalClassName,o=e.backdropClassName,a=e.cssModule,s=e.isOpen,l=e.backdrop,c=e.role,d=e.labelledBy,g=e.external,y=e.innerRef,v={onClick:this.handleBackdropClick,onMouseDown:this.handleBackdropMouseDown,onKeyUp:this.handleEscape,onKeyDown:this.handleTab,style:{display:"block"},"aria-labelledby":d,role:c,tabIndex:"-1"},b=this.props.fade,_=Object(r.a)({},p.a.defaultProps,this.props.modalTransition,{baseClass:b?this.props.modalTransition.baseClass:"",timeout:b?this.props.modalTransition.timeout:0}),w=Object(r.a)({},p.a.defaultProps,this.props.backdropTransition,{baseClass:b?this.props.backdropTransition.baseClass:"",timeout:b?this.props.backdropTransition.timeout:0}),k=l&&(b?u.a.createElement(p.a,Object(i.a)({},w,{in:s&&!!l,cssModule:a,className:Object(m.mapToCssModules)(f()("modal-backdrop",o),a)})):u.a.createElement("div",{className:Object(m.mapToCssModules)(f()("modal-backdrop","show",o),a)}));return u.a.createElement(h.a,{node:this._element},u.a.createElement("div",{className:Object(m.mapToCssModules)(t)},u.a.createElement(p.a,Object(i.a)({},v,_,{in:s,onEntered:this.onOpened,onExited:this.onClosed,cssModule:a,className:Object(m.mapToCssModules)(f()("modal",n),a),innerRef:y}),g,this.renderModalDialog()),k))}return null},t}(u.a.Component);w.propTypes=v,w.defaultProps=_,w.openCount=0,t.a=w},function(e,t,n){"use strict";var r=n(33),i=n(1),o=n.n(i),a=n(31),s=n.n(a),u=n(4),l=n.n(u),c=n(5),d={children:l.a.node.isRequired,node:l.a.any},f=function(e){function t(){return e.apply(this,arguments)||this}Object(r.a)(t,e);var n=t.prototype;return n.componentWillUnmount=function(){this.defaultNode&&document.body.removeChild(this.defaultNode),this.defaultNode=null},n.render=function(){return c.canUseDOM?(this.props.node||this.defaultNode||(this.defaultNode=document.createElement("div"),document.body.appendChild(this.defaultNode)),s.a.createPortal(this.props.children,this.props.node||this.defaultNode)):null},t}(o.a.Component);f.propTypes=d,t.a=f},function(e,t,n){"use strict";var r=n(6),i=n(9),o=n(1),a=n.n(o),s=n(4),u=n.n(s),l=n(8),c=n.n(l),d=n(5),f={tag:d.tagPropType,wrapTag:d.tagPropType,toggle:u.a.func,className:u.a.string,cssModule:u.a.object,children:u.a.node,closeAriaLabel:u.a.string,charCode:u.a.oneOfType([u.a.string,u.a.number]),close:u.a.object},h=function(e){var t,n=e.className,o=e.cssModule,s=e.children,u=e.toggle,l=e.tag,f=e.wrapTag,h=e.closeAriaLabel,p=e.charCode,m=e.close,g=Object(i.a)(e,["className","cssModule","children","toggle","tag","wrapTag","closeAriaLabel","charCode","close"]),y=Object(d.mapToCssModules)(c()(n,"modal-header"),o);if(!m&&u){var v="number"==typeof p?String.fromCharCode(p):p;t=a.a.createElement("button",{type:"button",onClick:u,className:Object(d.mapToCssModules)("close",o),"aria-label":h},a.a.createElement("span",{"aria-hidden":"true"},v))}return a.a.createElement(f,Object(r.a)({},g,{className:y}),a.a.createElement(l,{className:Object(d.mapToCssModules)("modal-title",o)},s),m||t)};h.propTypes=f,h.defaultProps={tag:"h5",wrapTag:"div",closeAriaLabel:"Close",charCode:215},t.a=h},function(e,t,n){"use strict";var r=n(6),i=n(9),o=n(1),a=n.n(o),s=n(4),u=n.n(s),l=n(8),c=n.n(l),d=n(5),f={tag:d.tagPropType,className:u.a.string,cssModule:u.a.object},h=function(e){var t=e.className,n=e.cssModule,o=e.tag,s=Object(i.a)(e,["className","cssModule","tag"]),u=Object(d.mapToCssModules)(c()(t,"modal-body"),n);return a.a.createElement(o,Object(r.a)({},s,{className:u}))};h.propTypes=f,h.defaultProps={tag:"div"},t.a=h},function(e,t,n){"use strict";var r=n(6),i=n(9),o=n(1),a=n.n(o),s=n(4),u=n.n(s),l=n(8),c=n.n(l),d=n(5),f={tag:d.tagPropType,className:u.a.string,cssModule:u.a.object},h=function(e){var t=e.className,n=e.cssModule,o=e.tag,s=Object(i.a)(e,["className","cssModule","tag"]),u=Object(d.mapToCssModules)(c()(t,"modal-footer"),n);return a.a.createElement(o,Object(r.a)({},s,{className:u}))};h.propTypes=f,h.defaultProps={tag:"div"},t.a=h},function(e,t,n){"use strict";var r=n(6),i=n(9),o=n(1),a=n.n(o),s=n(4),u=n.n(s),l=n(8),c=n.n(l),d=n(5),f={className:u.a.string,cssModule:u.a.object,size:u.a.string,bordered:u.a.bool,borderless:u.a.bool,striped:u.a.bool,inverse:Object(d.deprecated)(u.a.bool,'Please use the prop "dark"'),dark:u.a.bool,hover:u.a.bool,responsive:u.a.oneOfType([u.a.bool,u.a.string]),tag:d.tagPropType,responsiveTag:d.tagPropType,innerRef:u.a.oneOfType([u.a.func,u.a.string,u.a.object])},h=function(e){var t=e.className,n=e.cssModule,o=e.size,s=e.bordered,u=e.borderless,l=e.striped,f=e.inverse,h=e.dark,p=e.hover,m=e.responsive,g=e.tag,y=e.responsiveTag,v=e.innerRef,b=Object(i.a)(e,["className","cssModule","size","bordered","borderless","striped","inverse","dark","hover","responsive","tag","responsiveTag","innerRef"]),_=Object(d.mapToCssModules)(c()(t,"table",!!o&&"table-"+o,!!s&&"table-bordered",!!u&&"table-borderless",!!l&&"table-striped",!(!h&&!f)&&"table-dark",!!p&&"table-hover"),n),w=a.a.createElement(g,Object(r.a)({},b,{ref:v,className:_}));if(m){var k=!0===m?"table-responsive":"table-responsive-"+m;return a.a.createElement(y,{className:k},w)}return w};h.propTypes=f,h.defaultProps={tag:"table",responsiveTag:"div"},t.a=h},function(e,t,n){"use strict";var r=n(6),i=n(9),o=n(1),a=n.n(o),s=n(4),u=n.n(s),l=n(8),c=n.n(l),d=n(5),f={tag:d.tagPropType,flush:u.a.bool,className:u.a.string,cssModule:u.a.object},h=function(e){var t=e.className,n=e.cssModule,o=e.tag,s=e.flush,u=Object(i.a)(e,["className","cssModule","tag","flush"]),l=Object(d.mapToCssModules)(c()(t,"list-group",!!s&&"list-group-flush"),n);return a.a.createElement(o,Object(r.a)({},u,{className:l}))};h.propTypes=f,h.defaultProps={tag:"ul"},t.a=h},function(e,t,n){"use strict";var r=n(6),i=n(9),o=n(33),a=n(39),s=n(1),u=n.n(s),l=n(4),c=n.n(l),d=n(8),f=n.n(d),h=n(5),p={children:c.a.node,inline:c.a.bool,tag:h.tagPropType,innerRef:c.a.oneOfType([c.a.object,c.a.func,c.a.string]),className:c.a.string,cssModule:c.a.object},m=function(e){function t(t){var n;return(n=e.call(this,t)||this).getRef=n.getRef.bind(Object(a.a)(Object(a.a)(n))),n.submit=n.submit.bind(Object(a.a)(Object(a.a)(n))),n}Object(o.a)(t,e);var n=t.prototype;return n.getRef=function(e){this.props.innerRef&&this.props.innerRef(e),this.ref=e},n.submit=function(){this.ref&&this.ref.submit()},n.render=function(){var e=this.props,t=e.className,n=e.cssModule,o=e.inline,a=e.tag,s=e.innerRef,l=Object(i.a)(e,["className","cssModule","inline","tag","innerRef"]),c=Object(h.mapToCssModules)(f()(t,!!o&&"form-inline"),n);return u.a.createElement(a,Object(r.a)({},l,{ref:s,className:c}))},t}(s.Component);m.propTypes=p,m.defaultProps={tag:"form"},t.a=m},function(e,t,n){"use strict";var r=n(6),i=n(9),o=n(1),a=n.n(o),s=n(4),u=n.n(s),l=n(8),c=n.n(l),d=n(5),f={children:u.a.node,tag:d.tagPropType,className:u.a.string,cssModule:u.a.object,valid:u.a.bool,tooltip:u.a.bool},h={tag:"div",valid:void 0},p=function(e){var t=e.className,n=e.cssModule,o=e.valid,s=e.tooltip,u=e.tag,l=Object(i.a)(e,["className","cssModule","valid","tooltip","tag"]),f=s?"tooltip":"feedback",h=Object(d.mapToCssModules)(c()(t,o?"valid-"+f:"invalid-"+f),n);return a.a.createElement(u,Object(r.a)({},l,{className:h}))};p.propTypes=f,p.defaultProps=h,t.a=p},function(e,t,n){"use strict";var r=n(6),i=n(9),o=n(1),a=n.n(o),s=n(4),u=n.n(s),l=n(8),c=n.n(l),d=n(5),f={children:u.a.node,row:u.a.bool,check:u.a.bool,inline:u.a.bool,disabled:u.a.bool,tag:d.tagPropType,className:u.a.string,cssModule:u.a.object},h=function(e){var t=e.className,n=e.cssModule,o=e.row,s=e.disabled,u=e.check,l=e.inline,f=e.tag,h=Object(i.a)(e,["className","cssModule","row","disabled","check","inline","tag"]),p=Object(d.mapToCssModules)(c()(t,!!o&&"row",u?"form-check":"form-group",!(!u||!l)&&"form-check-inline",!(!u||!s)&&"disabled"),n);return a.a.createElement(f,Object(r.a)({},h,{className:p}))};h.propTypes=f,h.defaultProps={tag:"div"},t.a=h},function(e,t,n){"use strict";var r=n(6),i=n(9),o=n(1),a=n.n(o),s=n(4),u=n.n(s),l=n(8),c=n.n(l),d=n(5),f={children:u.a.node,inline:u.a.bool,tag:d.tagPropType,color:u.a.string,className:u.a.string,cssModule:u.a.object},h=function(e){var t=e.className,n=e.cssModule,o=e.inline,s=e.color,u=e.tag,l=Object(i.a)(e,["className","cssModule","inline","color","tag"]),f=Object(d.mapToCssModules)(c()(t,!o&&"form-text",!!s&&"text-"+s),n);return a.a.createElement(u,Object(r.a)({},l,{className:f}))};h.propTypes=f,h.defaultProps={tag:"small",color:"muted"},t.a=h},function(e,t,n){"use strict";var r=n(6),i=n(9),o=n(33),a=n(39),s=n(1),u=n.n(s),l=n(4),c=n.n(l),d=n(8),f=n.n(d),h=n(5),p={children:c.a.node,type:c.a.string,size:c.a.string,bsSize:c.a.string,state:Object(h.deprecated)(c.a.string,'Please use the props "valid" and "invalid" to indicate the state.'),valid:c.a.bool,invalid:c.a.bool,tag:h.tagPropType,innerRef:c.a.oneOfType([c.a.object,c.a.func,c.a.string]),static:Object(h.deprecated)(c.a.bool,'Please use the prop "plaintext"'),plaintext:c.a.bool,addon:c.a.bool,className:c.a.string,cssModule:c.a.object},m=function(e){function t(t){var n;return(n=e.call(this,t)||this).getRef=n.getRef.bind(Object(a.a)(Object(a.a)(n))),n.focus=n.focus.bind(Object(a.a)(Object(a.a)(n))),n}Object(o.a)(t,e);var n=t.prototype;return n.getRef=function(e){this.props.innerRef&&this.props.innerRef(e),this.ref=e},n.focus=function(){this.ref&&this.ref.focus()},n.render=function(){var e=this.props,t=e.className,n=e.cssModule,o=e.type,a=e.bsSize,s=e.state,l=e.valid,c=e.invalid,d=e.tag,p=e.addon,m=e.static,g=e.plaintext,y=e.innerRef,v=Object(i.a)(e,["className","cssModule","type","bsSize","state","valid","invalid","tag","addon","static","plaintext","innerRef"]),b=["radio","checkbox"].indexOf(o)>-1,_=new RegExp("\\D","g"),w=d||("select"===o||"textarea"===o?o:"input"),k="form-control";g||m?(k+="-plaintext",w=d||"input"):"file"===o?k+="-file":b&&(k=p?null:"form-check-input"),s&&void 0===l&&void 0===c&&("danger"===s?c=!0:"success"===s&&(l=!0)),v.size&&_.test(v.size)&&(Object(h.warnOnce)('Please use the prop "bsSize" instead of the "size" to bootstrap\'s input sizing.'),a=v.size,delete v.size);var E=Object(h.mapToCssModules)(f()(t,c&&"is-invalid",l&&"is-valid",!!a&&"form-control-"+a,k),n);return("input"===w||d&&"function"==typeof d)&&(v.type=o),!v.children||g||m||"select"===o||"string"!=typeof w||"select"===w||(Object(h.warnOnce)('Input with a type of "'+o+'" cannot have children. Please use "value"/"defaultValue" instead.'),delete v.children),u.a.createElement(w,Object(r.a)({},v,{ref:y,className:E}))},t}(u.a.Component);m.propTypes=p,m.defaultProps={type:"text"},t.a=m},function(e,t,n){"use strict";var r=n(6),i=n(9),o=n(1),a=n.n(o),s=n(4),u=n.n(s),l=n(8),c=n.n(l),d=n(5),f={tag:d.tagPropType,size:u.a.string,className:u.a.string,cssModule:u.a.object},h=function(e){var t=e.className,n=e.cssModule,o=e.tag,s=e.size,u=Object(i.a)(e,["className","cssModule","tag","size"]),l=Object(d.mapToCssModules)(c()(t,"input-group",s?"input-group-"+s:null),n);return a.a.createElement(o,Object(r.a)({},u,{className:l}))};h.propTypes=f,h.defaultProps={tag:"div"},t.a=h},function(e,t,n){"use strict";var r=n(6),i=n(72),o=n(9),a=n(1),s=n.n(a),u=n(4),l=n.n(u),c=n(349),d=n(456),f=n(5),h={tag:f.tagPropType,addonType:l.a.oneOf(["prepend","append"]).isRequired,children:l.a.node,groupClassName:l.a.string,groupAttributes:l.a.object,className:l.a.string,cssModule:l.a.object},p=function(e){Object(f.warnOnce)('The "InputGroupButton" component has been deprecated.\nPlease use component "InputGroupAddon".');var t=e.children,n=e.groupClassName,a=e.groupAttributes,u=Object(o.a)(e,["children","groupClassName","groupAttributes"]);if("string"==typeof t){var l=u.cssModule,h=u.tag,p=u.addonType,m=Object(o.a)(u,["cssModule","tag","addonType"]),g=Object(i.a)({},a,{cssModule:l,tag:h,addonType:p});return s.a.createElement(d.a,Object(r.a)({},g,{className:n}),s.a.createElement(c.a,Object(r.a)({},m,{children:t})))}return s.a.createElement(d.a,Object(r.a)({},e,{children:t}))};p.propTypes=h,t.a=p},function(e,t,n){"use strict";var r=n(1),i=n.n(r),o=n(4),a=n.n(o),s=n(274),u={addonType:a.a.oneOf(["prepend","append"]).isRequired,children:a.a.node},l=function(e){return i.a.createElement(s.a,e)};l.propTypes=u,t.a=l},function(e,t,n){"use strict";var r=n(6),i=n(9),o=n(1),a=n.n(o),s=n(4),u=n.n(s),l=n(8),c=n.n(l),d=n(440),f=n.n(d),h=n(5),p=u.a.oneOfType([u.a.number,u.a.string]),m=u.a.oneOfType([u.a.string,u.a.number,u.a.shape({size:p,push:Object(h.deprecated)(p,'Please use the prop "order"'),pull:Object(h.deprecated)(p,'Please use the prop "order"'),order:p,offset:p})]),g={children:u.a.node,hidden:u.a.bool,check:u.a.bool,size:u.a.string,for:u.a.string,tag:h.tagPropType,className:u.a.string,cssModule:u.a.object,xs:m,sm:m,md:m,lg:m,xl:m,widths:u.a.array},y={tag:"label",widths:["xs","sm","md","lg","xl"]},v=function(e,t,n){return!0===n||""===n?e?"col":"col-"+t:"auto"===n?e?"col-auto":"col-"+t+"-auto":e?"col-"+n:"col-"+t+"-"+n},b=function(e){var t=e.className,n=e.cssModule,o=e.hidden,s=e.widths,u=e.tag,l=e.check,d=e.size,p=e.for,m=Object(i.a)(e,["className","cssModule","hidden","widths","tag","check","size","for"]),g=[];s.forEach(function(t,r){var i=e[t];if(delete m[t],i||""===i){var o,a=!r;if(f()(i)){var s,u=a?"-":"-"+t+"-";o=v(a,t,i.size),g.push(Object(h.mapToCssModules)(c()(((s={})[o]=i.size||""===i.size,s["order"+u+i.order]=i.order||0===i.order,s["offset"+u+i.offset]=i.offset||0===i.offset,s))),n)}else o=v(a,t,i),g.push(o)}});var y=Object(h.mapToCssModules)(c()(t,!!o&&"sr-only",!!l&&"form-check-label",!!d&&"col-form-label-"+d,g,!!g.length&&"col-form-label"),n);return a.a.createElement(u,Object(r.a)({htmlFor:p},m,{className:y}))};b.propTypes=g,b.defaultProps=y,t.a=b},function(e,t,n){"use strict";var r=n(6),i=n(9),o=n(1),a=n.n(o),s=n(4),u=n.n(s),l=n(8),c=n.n(l),d=n(5),f={body:u.a.bool,bottom:u.a.bool,children:u.a.node,className:u.a.string,cssModule:u.a.object,heading:u.a.bool,left:u.a.bool,list:u.a.bool,middle:u.a.bool,object:u.a.bool,right:u.a.bool,tag:d.tagPropType,top:u.a.bool},h=function(e){var t,n=e.body,o=e.bottom,s=e.className,u=e.cssModule,l=e.heading,f=e.left,h=e.list,p=e.middle,m=e.object,g=e.right,y=e.tag,v=e.top,b=Object(i.a)(e,["body","bottom","className","cssModule","heading","left","list","middle","object","right","tag","top"]);t=l?"h4":b.href?"a":b.src||m?"img":h?"ul":"div";var _=y||t,w=Object(d.mapToCssModules)(c()(s,{"media-body":n,"media-heading":l,"media-left":f,"media-right":g,"media-top":v,"media-bottom":o,"media-middle":p,"media-object":m,"media-list":h,media:!(n||l||f||g||v||o||p||m||h)}),u);return a.a.createElement(_,Object(r.a)({},b,{className:w}))};h.propTypes=f,t.a=h},function(e,t,n){"use strict";var r=n(6),i=n(9),o=n(1),a=n.n(o),s=n(4),u=n.n(s),l=n(8),c=n.n(l),d=n(5),f={children:u.a.node,className:u.a.string,listClassName:u.a.string,cssModule:u.a.object,size:u.a.string,tag:d.tagPropType,listTag:d.tagPropType,"aria-label":u.a.string},h=function(e){var t,n=e.className,o=e.listClassName,s=e.cssModule,u=e.size,l=e.tag,f=e.listTag,h=e["aria-label"],p=Object(i.a)(e,["className","listClassName","cssModule","size","tag","listTag","aria-label"]),m=Object(d.mapToCssModules)(c()(n),s),g=Object(d.mapToCssModules)(c()(o,"pagination",((t={})["pagination-"+u]=!!u,t)),s);return a.a.createElement(l,{className:m,"aria-label":h},a.a.createElement(f,Object(r.a)({},p,{className:g})))};h.propTypes=f,h.defaultProps={tag:"nav",listTag:"ul","aria-label":"pagination"},t.a=h},function(e,t,n){"use strict";var r=n(6),i=n(9),o=n(1),a=n.n(o),s=n(4),u=n.n(s),l=n(8),c=n.n(l),d=n(5),f={active:u.a.bool,children:u.a.node,className:u.a.string,cssModule:u.a.object,disabled:u.a.bool,tag:d.tagPropType},h=function(e){var t=e.active,n=e.className,o=e.cssModule,s=e.disabled,u=e.tag,l=Object(i.a)(e,["active","className","cssModule","disabled","tag"]),f=Object(d.mapToCssModules)(c()(n,"page-item",{active:t,disabled:s}),o);return a.a.createElement(u,Object(r.a)({},l,{className:f}))};h.propTypes=f,h.defaultProps={tag:"li"},t.a=h},function(e,t,n){"use strict";var r=n(6),i=n(9),o=n(1),a=n.n(o),s=n(4),u=n.n(s),l=n(8),c=n.n(l),d=n(5),f={"aria-label":u.a.string,children:u.a.node,className:u.a.string,cssModule:u.a.object,next:u.a.bool,previous:u.a.bool,tag:d.tagPropType},h=function(e){var t,n=e.className,o=e.cssModule,s=e.next,u=e.previous,l=e.tag,f=Object(i.a)(e,["className","cssModule","next","previous","tag"]),h=Object(d.mapToCssModules)(c()(n,"page-link"),o);u?t="Previous":s&&(t="Next");var p,m=e["aria-label"]||t;u?p="":s&&(p="");var g=e.children;return g&&Array.isArray(g)&&0===g.length&&(g=null),f.href||"a"!==l||(l="button"),(u||s)&&(g=[a.a.createElement("span",{"aria-hidden":"true",key:"caret"},g||p),a.a.createElement("span",{className:"sr-only",key:"sr"},m)]),a.a.createElement(l,Object(r.a)({},f,{className:h,"aria-label":m}),g)};h.propTypes=f,h.defaultProps={tag:"a"},t.a=h},function(e,t,n){"use strict";var r=n(6),i=n(33),o=n(1),a=n.n(o),s=n(299),u=n(4),l=n.n(u),c=n(8),d=n.n(c),f=n(5),h={tag:f.tagPropType,activeTab:l.a.any,className:l.a.string,cssModule:l.a.object},p={activeTabId:l.a.any},m=function(e){function t(t){var n;return(n=e.call(this,t)||this).state={activeTab:n.props.activeTab},n}Object(i.a)(t,e),t.getDerivedStateFromProps=function(e,t){return t.activeTab!==e.activeTab?{activeTab:e.activeTab}:null};var n=t.prototype;return n.getChildContext=function(){return{activeTabId:this.state.activeTab}},n.render=function(){var e=this.props,t=e.className,n=e.cssModule,i=e.tag,o=Object(f.omit)(this.props,Object.keys(h)),s=Object(f.mapToCssModules)(d()("tab-content",t),n);return a.a.createElement(i,Object(r.a)({},o,{className:s}))},t}(o.Component);Object(s.polyfill)(m),t.a=m,m.propTypes=h,m.defaultProps={tag:"div"},m.childContextTypes=p},function(e,t,n){"use strict";t.a=p;var r=n(6),i=n(9),o=n(1),a=n.n(o),s=n(4),u=n.n(s),l=n(8),c=n.n(l),d=n(5),f={tag:d.tagPropType,className:u.a.string,cssModule:u.a.object,tabId:u.a.any},h={activeTabId:u.a.any};function p(e,t){var n=e.className,o=e.cssModule,s=e.tabId,u=e.tag,l=Object(i.a)(e,["className","cssModule","tabId","tag"]),f=Object(d.mapToCssModules)(c()("tab-pane",n,{active:s===t.activeTabId}),o);return a.a.createElement(u,Object(r.a)({},l,{className:f}))}p.propTypes=f,p.defaultProps={tag:"div"},p.contextTypes=h},function(e,t,n){"use strict";var r=n(6),i=n(9),o=n(1),a=n.n(o),s=n(4),u=n.n(s),l=n(8),c=n.n(l),d=n(5),f={tag:d.tagPropType,fluid:u.a.bool,className:u.a.string,cssModule:u.a.object},h=function(e){var t=e.className,n=e.cssModule,o=e.tag,s=e.fluid,u=Object(i.a)(e,["className","cssModule","tag","fluid"]),l=Object(d.mapToCssModules)(c()(t,"jumbotron",!!s&&"jumbotron-fluid"),n);return a.a.createElement(o,Object(r.a)({},u,{className:l}))};h.propTypes=f,h.defaultProps={tag:"div"},t.a=h},function(e,t,n){"use strict";var r=n(6),i=n(9),o=n(1),a=n.n(o),s=n(4),u=n.n(s),l=n(8),c=n.n(l),d=n(5),f={tag:d.tagPropType,active:u.a.bool,disabled:u.a.bool,color:u.a.string,action:u.a.bool,className:u.a.any,cssModule:u.a.object},h=function(e){e.preventDefault()},p=function(e){var t=e.className,n=e.cssModule,o=e.tag,s=e.active,u=e.disabled,l=e.action,f=e.color,p=Object(i.a)(e,["className","cssModule","tag","active","disabled","action","color"]),m=Object(d.mapToCssModules)(c()(t,!!s&&"active",!!u&&"disabled",!!l&&"list-group-item-action",!!f&&"list-group-item-"+f,"list-group-item"),n);return u&&(p.onClick=h),a.a.createElement(o,Object(r.a)({},p,{className:m}))};p.propTypes=f,p.defaultProps={tag:"li"},t.a=p},function(e,t,n){"use strict";var r=n(6),i=n(9),o=n(1),a=n.n(o),s=n(4),u=n.n(s),l=n(8),c=n.n(l),d=n(5),f={tag:d.tagPropType,className:u.a.any,cssModule:u.a.object},h=function(e){var t=e.className,n=e.cssModule,o=e.tag,s=Object(i.a)(e,["className","cssModule","tag"]),u=Object(d.mapToCssModules)(c()(t,"list-group-item-heading"),n);return a.a.createElement(o,Object(r.a)({},s,{className:u}))};h.propTypes=f,h.defaultProps={tag:"h5"},t.a=h},function(e,t,n){"use strict";var r=n(6),i=n(9),o=n(1),a=n.n(o),s=n(4),u=n.n(s),l=n(8),c=n.n(l),d=n(5),f={tag:d.tagPropType,className:u.a.any,cssModule:u.a.object},h=function(e){var t=e.className,n=e.cssModule,o=e.tag,s=Object(i.a)(e,["className","cssModule","tag"]),u=Object(d.mapToCssModules)(c()(t,"list-group-item-text"),n);return a.a.createElement(o,Object(r.a)({},s,{className:u}))};h.propTypes=f,h.defaultProps={tag:"p"},t.a=h},function(e,t,n){"use strict";var r=n(6),i=n(33),o=n(39),a=n(1),s=n.n(a),u=n(458),l=function(e){function t(t){var n;return(n=e.call(this,t)||this).state={isOpen:!0},n.toggle=n.toggle.bind(Object(o.a)(Object(o.a)(n))),n}Object(i.a)(t,e);var n=t.prototype;return n.toggle=function(){this.setState({isOpen:!this.state.isOpen})},n.render=function(){return s.a.createElement(u.a,Object(r.a)({isOpen:this.state.isOpen,toggle:this.toggle},this.props))},t}(a.Component);t.a=l},function(e,t,n){"use strict";n.d(t,"a",function(){return p});var r=n(72),i=n(6),o=n(33),a=n(39),s=n(1),u=n.n(s),l=n(4),c=n.n(l),d=n(441),f=n(5),h=["defaultOpen"],p=function(e){function t(t){var n;return(n=e.call(this,t)||this).state={isOpen:t.defaultOpen||!1},n.toggle=n.toggle.bind(Object(a.a)(Object(a.a)(n))),n}Object(o.a)(t,e);var n=t.prototype;return n.toggle=function(){this.setState({isOpen:!this.state.isOpen})},n.render=function(){return u.a.createElement(d.a,Object(i.a)({isOpen:this.state.isOpen,toggle:this.toggle},Object(f.omit)(this.props,h)))},t}(s.Component);p.propTypes=Object(r.a)({defaultOpen:c.a.bool},d.a.propTypes)},function(e,t,n){"use strict";var r=n(6),i=n(33),o=n(39),a=n(1),s=n.n(a),u=n(4),l=n.n(u),c=n(459),d=n(5),f=["toggleEvents","defaultOpen"],h={defaultOpen:l.a.bool,toggler:l.a.string.isRequired,toggleEvents:l.a.arrayOf(l.a.string)},p={toggleEvents:d.defaultToggleEvents},m=function(e){function t(t){var n;return(n=e.call(this,t)||this).togglers=null,n.removeEventListeners=null,n.toggle=n.toggle.bind(Object(o.a)(Object(o.a)(n))),n.state={isOpen:t.defaultOpen||!1},n}Object(i.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){this.togglers=Object(d.findDOMElements)(this.props.toggler),this.togglers.length&&(this.removeEventListeners=Object(d.addMultipleEventListeners)(this.togglers,this.toggle,this.props.toggleEvents))},n.componentWillUnmount=function(){this.togglers.length&&this.removeEventListeners&&this.removeEventListeners()},n.toggle=function(e){this.setState(function(e){return{isOpen:!e.isOpen}}),e.preventDefault()},n.render=function(){return s.a.createElement(c.a,Object(r.a)({isOpen:this.state.isOpen},Object(d.omit)(this.props,f)))},t}(a.Component);m.propTypes=h,m.defaultProps=p,t.a=m},function(e,t,n){"use strict";var r=n(6),i=n(1),o=n.n(i),a=n(5),s=n(460);t.a=function(e){return Object(a.warnOnce)('The "UncontrolledNavDropdown" component has been deprecated.\nPlease use component "UncontrolledDropdown" with nav prop.'),o.a.createElement(s.a,Object(r.a)({nav:!0},e))}},function(e,t,n){"use strict";n.d(t,"a",function(){return p});var r=n(72),i=n(6),o=n(33),a=n(39),s=n(1),u=n.n(s),l=n(4),c=n.n(l),d=n(455),f=n(5),h=["defaultOpen"],p=function(e){function t(t){var n;return(n=e.call(this,t)||this).state={isOpen:t.defaultOpen||!1},n.toggle=n.toggle.bind(Object(a.a)(Object(a.a)(n))),n}Object(o.a)(t,e);var n=t.prototype;return n.toggle=function(){this.setState({isOpen:!this.state.isOpen})},n.render=function(){return u.a.createElement(d.a,Object(i.a)({isOpen:this.state.isOpen,toggle:this.toggle},Object(f.omit)(this.props,h)))},t}(s.Component);p.propTypes=Object(r.a)({defaultOpen:c.a.bool},d.a.propTypes)},function(e,t,n){"use strict";var r=n(6),i=n(9),o=n(1),a=n.n(o),s=n(4),u=n.n(s),l=n(8),c=n.n(l),d=n(5),f={tag:d.tagPropType,type:u.a.string,size:u.a.string,color:u.a.string,className:u.a.string,cssModule:u.a.object,children:u.a.string},h=function(e){var t=e.className,n=e.cssModule,o=e.type,s=e.size,u=e.color,l=e.children,f=e.tag,h=Object(i.a)(e,["className","cssModule","type","size","color","children","tag"]),p=Object(d.mapToCssModules)(c()(t,!!s&&"spinner-"+o+"-"+s,"spinner-"+o,!!u&&"text-"+u),n);return a.a.createElement(f,Object(r.a)({role:"status"},h,{className:p}),l&&a.a.createElement("span",{className:Object(d.mapToCssModules)("sr-only",n)},l))};h.propTypes=f,h.defaultProps={tag:"div",type:"border",children:"Loading..."},t.a=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(1),a=(r=o)&&r.__esModule?r:{default:r};var s=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={colors:d3.scaleOrdinal(d3.schemeCategory10).range().concat(d3.scaleOrdinal(d3.schemeSet3).range()).concat(d3.scaleOrdinal(d3.schemeAccent).range()).slice(0,20)},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),i(t,[{key:"onClickColor",value:function(e,t){this.props.onClickColor(e,t),document.body.click()}},{key:"render",value:function(){var e=this;return a.default.createElement("div",{className:"label-color-picker"},this.state.colors.map(function(t,n){return a.default.createElement("div",{className:"circle",key:n,style:{backgroundColor:t},onClick:function(){return e.onClickColor(e.props.label,t)}})}))}}]),t}();t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o(n(106)),i=o(n(105));function o(e){return e&&e.__esModule?e:{default:e}}var a={_handleLabelPropsExclude:function(e,t){var n=r.default.instance().getLabelConfig(t);if(!n||!n.properties)return e;var i=Object.assign({},e),o=_.map(n.properties,function(e,t){return!0===e?t:null}).filter(function(e){return null!==e});return Object.keys(i).map(function(e){o.includes(e)&&delete i[e]}),i},_handleRelationshipsPropsExclude:function(e,t){var n=i.default.instance().getRelationshipConfig(t);if(!n||!n.properties)return e;var r=Object.assign({},e),o=_.map(n.properties,function(e,t){return!0===e?t:null}).filter(function(e){return null!==e});return Object.keys(r).map(function(e){o.includes(e)&&delete r[e]}),r},_handleLabelExclude:function(e){var t=r.default.instance().configs,n=_.filter(t,function(e){return 0==e.visible}).map(function(e){return e.label});return e.filter(function(e){return!n.includes(e.data.detail.type)})},_handleRelationshipExclude:function(e){var t=i.default.instance().configs,n=_.filter(t,function(e){return 0==e.visible}).map(function(e){return e.relationship});return e.filter(function(e){return!n.includes(e.name)})},handleGraphExclude:function(e){var t=this;e.nodes.forEach(function(e){e.data.detail.data=t._handleLabelPropsExclude(e.data.detail.data,e.data.detail.type)}),e.edges.forEach(function(e){e.properties=t._handleRelationshipsPropsExclude(e.properties,e.name)}),e.layoutNodes=this._handleLabelExclude(e.nodes),e.visibleNodes=e.layoutNodes;var n={};e.layoutNodes.forEach(function(e){n[e.id]=!0});var r=this._handleRelationshipExclude(e.edges);return r=r.filter(function(e){return n[e.sourceId]&&n[e.targetId]}),e.layoutEdges=r,e.visibleEdges=e.layoutEdges,e}};t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o(n(11)),i=o(n(429));function o(e){return e&&e.__esModule?e:{default:e}}var a={neighborLevel:0,clean:function(e){this.neighborLevel=0,this.nodeIds=[],this.selectedNodeIds=null},updateNodeIds:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(e=(e||[]).filter(function(e){return null!==e&&void 0!==e}),n>=0&&(this.neighborLevel=n),this.neighborLevel<0&&i)return this.clean(t);if(0===r.default.size(e)||this.neighborLevel>=3&&!i)return this.clean(t);void 0===n&&(r.default.isEqual(this.selectedNodeIds,e)?this.neighborLevel++:(this.selectedNodeIds=e,this.neighborLevel=0));var o=this.nodeIds;return this.nodeIds=this.getNeighbors(t,this.neighborLevel,e),this.nodeIds=this.nodeIds.map(function(e){return e+""}),r.default.isEqual(o,this.nodeIds)?this.clean(t):this.highlightWithNodeIds(this.nodeIds,t)},getNeighbors:function(e,t,n){return Array.isArray(n)||(n=[n]),0==t?n:(t--,n=r.default.uniq(r.default.flattenDeep(n.map(function(t){return e.getEdgesToNode(e.nodeSet[t]).map(function(e){return t==e.sourceId?e.targetId:e.sourceId})})).concat(n)),this.getNeighbors(e,t,n))},highlightWithNodeIds:function(e,t){i.default.updateNodeIds(e,t)},apply:function(e,t){}};t.default=a},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}return n.m=e,n.c=t,n.p="",n(0)}([function(e,t,n){e.exports=n(1)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(2),o=(r=i)&&r.__esModule?r:{default:r};t.default=o.default,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=u;var i=n(3),o=r(n(4)),a=r(n(14)),s=r(n(15));function u(e){var t=e.activeClassName,n=void 0===t?"":t,r=e.activeIndex,o=void 0===r?-1:r,u=e.activeStyle,l=e.autoEscape,c=e.caseSensitive,d=void 0!==c&&c,f=e.className,h=e.findChunks,p=e.highlightClassName,m=void 0===p?"":p,g=e.highlightStyle,y=void 0===g?{}:g,v=e.highlightTag,b=void 0===v?"mark":v,_=e.sanitize,w=e.searchWords,k=e.textToHighlight,E=e.unhighlightClassName,x=void 0===E?"":E,S=e.unhighlightStyle,M=(0,i.findAll)({autoEscape:l,caseSensitive:d,findChunks:h,sanitize:_,searchWords:w,textToHighlight:k}),T=b,C=-1,A="",O=void 0,N=(0,s.default)(function(e){var t={};for(var n in e)t[n.toLowerCase()]=e[n];return t});return a.default.createElement("span",{className:f},M.map(function(e,t){var r=k.substr(e.start,e.end-e.start);if(e.highlight){C++;var i=void 0;i="object"==typeof m?d?m[r]:(m=N(m))[r.toLowerCase()]:m;var s=C===+o;return A=i+" "+(s?n:""),O=!0===s&&null!=u?Object.assign({},y,u):y,a.default.createElement(T,{className:A,key:t,style:O},r)}return a.default.createElement("span",{className:x,key:t,style:S},r)}))}u.propTypes={activeClassName:o.default.string,activeIndex:o.default.number,activeStyle:o.default.object,autoEscape:o.default.bool,className:o.default.string,findChunks:o.default.func,highlightClassName:o.default.oneOfType([o.default.object,o.default.string]),highlightStyle:o.default.object,highlightTag:o.default.oneOfType([o.default.node,o.default.func,o.default.string]),sanitize:o.default.func,searchWords:o.default.arrayOf(o.default.string).isRequired,textToHighlight:o.default.string.isRequired,unhighlightClassName:o.default.string,unhighlightStyle:o.default.object},e.exports=t.default},function(e,t){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}return n.m=e,n.c=t,n.p="",n(0)}([function(e,t,n){e.exports=n(1)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2);Object.defineProperty(t,"combineChunks",{enumerable:!0,get:function(){return r.combineChunks}}),Object.defineProperty(t,"fillInChunks",{enumerable:!0,get:function(){return r.fillInChunks}}),Object.defineProperty(t,"findAll",{enumerable:!0,get:function(){return r.findAll}}),Object.defineProperty(t,"findChunks",{enumerable:!0,get:function(){return r.findChunks}})},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.findAll=function(e){var t=e.autoEscape,o=e.caseSensitive,a=void 0!==o&&o,s=e.findChunks,u=void 0===s?r:s,l=e.sanitize,c=e.searchWords,d=e.textToHighlight;return i({chunksToHighlight:n({chunks:u({autoEscape:t,caseSensitive:a,sanitize:l,searchWords:c,textToHighlight:d})}),totalLength:d?d.length:0})};var n=t.combineChunks=function(e){var t=e.chunks;return t=t.sort(function(e,t){return e.start-t.start}).reduce(function(e,t){if(0===e.length)return[t];var n=e.pop();if(t.start<=n.end){var r=Math.max(n.end,t.end);e.push({start:n.start,end:r})}else e.push(n,t);return e},[])},r=function(e){var t=e.autoEscape,n=e.caseSensitive,r=e.sanitize,i=void 0===r?o:r,a=e.searchWords,s=e.textToHighlight;return s=i(s),a.filter(function(e){return e}).reduce(function(e,r){r=i(r),t&&(r=r.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"));for(var o=new RegExp(r,n?"g":"gi"),a=void 0;a=o.exec(s);){var u=a.index,l=o.lastIndex;l>u&&e.push({start:u,end:l}),a.index==o.lastIndex&&o.lastIndex++}return e},[])};t.findChunks=r;var i=t.fillInChunks=function(e){var t=e.chunksToHighlight,n=e.totalLength,r=[],i=function(e,t,n){t-e>0&&r.push({start:e,end:t,highlight:n})};if(0===t.length)i(0,n,!1);else{var o=0;t.forEach(function(e){i(o,e.start,!1),i(e.start,e.end,!0),o=e.end}),i(o,n,!1)}return r};function o(e){return e}}])},function(e,t,n){(function(t){if("production"!==t.env.NODE_ENV){var r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;e.exports=n(6)(function(e){return"object"==typeof e&&null!==e&&e.$$typeof===r},!0)}else e.exports=n(13)()}).call(t,n(5))},function(e,t){var n,r,i=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(e){n=o}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var u,l=[],c=!1,d=-1;function f(){c&&u&&(c=!1,u.length?l=u.concat(l):d=-1,l.length&&h())}function h(){if(!c){var e=s(f);c=!0;for(var t=l.length;t;){for(u=l,l=[];++d<t;)u&&u[d].run();d=-1,t=l.length}u=null,c=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function m(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];l.push(new p(e,t)),1!==l.length||c||s(h)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=m,i.addListener=m,i.once=m,i.off=m,i.removeListener=m,i.removeAllListeners=m,i.emit=m,i.prependListener=m,i.prependOnceListener=m,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t,n){(function(t){"use strict";var r=n(7),i=n(8),o=n(9),a=n(10),s=n(11),u=n(12);e.exports=function(e,n){var l="function"==typeof Symbol&&Symbol.iterator,c="@@iterator";var d="<<anonymous>>",f={array:g("array"),bool:g("boolean"),func:g("function"),number:g("number"),object:g("object"),string:g("string"),symbol:g("symbol"),any:m(r.thatReturnsNull),arrayOf:function(e){return m(function(t,n,r,i,o){if("function"!=typeof e)return new p("Property `"+o+"` of component `"+r+"` has invalid PropType notation inside arrayOf.");var a=t[n];if(!Array.isArray(a)){var u=v(a);return new p("Invalid "+i+" `"+o+"` of type `"+u+"` supplied to `"+r+"`, expected an array.")}for(var l=0;l<a.length;l++){var c=e(a,l,r,i,o+"["+l+"]",s);if(c instanceof Error)return c}return null})},element:function(){return m(function(t,n,r,i,o){var a=t[n];if(!e(a)){var s=v(a);return new p("Invalid "+i+" `"+o+"` of type `"+s+"` supplied to `"+r+"`, expected a single ReactElement.")}return null})}(),instanceOf:function(e){return m(function(t,n,r,i,o){if(!(t[n]instanceof e)){var a=e.name||d,s=function(e){if(!e.constructor||!e.constructor.name)return d;return e.constructor.name}(t[n]);return new p("Invalid "+i+" `"+o+"` of type `"+s+"` supplied to `"+r+"`, expected instance of `"+a+"`.")}return null})},node:function(){return m(function(e,t,n,r,i){if(!y(e[t]))return new p("Invalid "+r+" `"+i+"` supplied to `"+n+"`, expected a ReactNode.");return null})}(),objectOf:function(e){return m(function(t,n,r,i,o){if("function"!=typeof e)return new p("Property `"+o+"` of component `"+r+"` has invalid PropType notation inside objectOf.");var a=t[n],u=v(a);if("object"!==u)return new p("Invalid "+i+" `"+o+"` of type `"+u+"` supplied to `"+r+"`, expected an object.");for(var l in a)if(a.hasOwnProperty(l)){var c=e(a,l,r,i,o+"."+l,s);if(c instanceof Error)return c}return null})},oneOf:function(e){if(!Array.isArray(e))return"production"!==t.env.NODE_ENV&&o(!1,"Invalid argument supplied to oneOf, expected an instance of array."),r.thatReturnsNull;return m(function(t,n,r,i,o){for(var a=t[n],s=0;s<e.length;s++)if(h(a,e[s]))return null;var u=JSON.stringify(e);return new p("Invalid "+i+" `"+o+"` of value `"+a+"` supplied to `"+r+"`, expected one of "+u+".")})},oneOfType:function(e){if(!Array.isArray(e))return"production"!==t.env.NODE_ENV&&o(!1,"Invalid argument supplied to oneOfType, expected an instance of array."),r.thatReturnsNull;for(var n=0;n<e.length;n++){var i=e[n];if("function"!=typeof i)return o(!1,"Invalid argument supplied to oneOfType. Expected an array of check functions, but received %s at index %s.",_(i),n),r.thatReturnsNull}return m(function(t,n,r,i,o){for(var a=0;a<e.length;a++){var u=e[a];if(null==u(t,n,r,i,o,s))return null}return new p("Invalid "+i+" `"+o+"` supplied to `"+r+"`.")})},shape:function(e){return m(function(t,n,r,i,o){var a=t[n],u=v(a);if("object"!==u)return new p("Invalid "+i+" `"+o+"` of type `"+u+"` supplied to `"+r+"`, expected `object`.");for(var l in e){var c=e[l];if(c){var d=c(a,l,r,i,o+"."+l,s);if(d)return d}}return null})},exact:function(e){return m(function(t,n,r,i,o){var u=t[n],l=v(u);if("object"!==l)return new p("Invalid "+i+" `"+o+"` of type `"+l+"` supplied to `"+r+"`, expected `object`.");var c=a({},t[n],e);for(var d in c){var f=e[d];if(!f)return new p("Invalid "+i+" `"+o+"` key `"+d+"` supplied to `"+r+"`.\nBad object: "+JSON.stringify(t[n],null,"  ")+"\nValid keys: "+JSON.stringify(Object.keys(e),null,"  "));var h=f(u,d,r,i,o+"."+d,s);if(h)return h}return null})}};function h(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function p(e){this.message=e,this.stack=""}function m(e){if("production"!==t.env.NODE_ENV)var r={},a=0;function u(u,l,c,f,h,m,g){if(f=f||d,m=m||c,g!==s)if(n)i(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");else if("production"!==t.env.NODE_ENV&&"undefined"!=typeof console){var y=f+":"+c;!r[y]&&a<3&&(o(!1,"You are manually calling a React.PropTypes validation function for the `%s` prop on `%s`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details.",m,f),r[y]=!0,a++)}return null==l[c]?u?null===l[c]?new p("The "+h+" `"+m+"` is marked as required in `"+f+"`, but its value is `null`."):new p("The "+h+" `"+m+"` is marked as required in `"+f+"`, but its value is `undefined`."):null:e(l,c,f,h,m)}var l=u.bind(null,!1);return l.isRequired=u.bind(null,!0),l}function g(e){return m(function(t,n,r,i,o,a){var s=t[n];return v(s)!==e?new p("Invalid "+i+" `"+o+"` of type `"+b(s)+"` supplied to `"+r+"`, expected `"+e+"`."):null})}function y(t){switch(typeof t){case"number":case"string":case"undefined":return!0;case"boolean":return!t;case"object":if(Array.isArray(t))return t.every(y);if(null===t||e(t))return!0;var n=function(e){var t=e&&(l&&e[l]||e[c]);if("function"==typeof t)return t}(t);if(!n)return!1;var r,i=n.call(t);if(n!==t.entries){for(;!(r=i.next()).done;)if(!y(r.value))return!1}else for(;!(r=i.next()).done;){var o=r.value;if(o&&!y(o[1]))return!1}return!0;default:return!1}}function v(e){var t=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":function(e,t){return"symbol"===e||"Symbol"===t["@@toStringTag"]||"function"==typeof Symbol&&t instanceof Symbol}(t,e)?"symbol":t}function b(e){if(void 0===e||null===e)return""+e;var t=v(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}function _(e){var t=b(e);switch(t){case"array":case"object":return"an "+t;case"boolean":case"date":case"regexp":return"a "+t;default:return t}}return p.prototype=Error.prototype,f.checkPropTypes=u,f.PropTypes=f,f}}).call(t,n(5))},function(e,t){"use strict";function n(e){return function(){return e}}var r=function(){};r.thatReturns=n,r.thatReturnsFalse=n(!1),r.thatReturnsTrue=n(!0),r.thatReturnsNull=n(null),r.thatReturnsThis=function(){return this},r.thatReturnsArgument=function(e){return e},e.exports=r},function(e,t,n){(function(t){"use strict";var n=function(e){};"production"!==t.env.NODE_ENV&&(n=function(e){if(void 0===e)throw new Error("invariant requires an error message argument")}),e.exports=function(e,t,r,i,o,a,s,u){if(n(t),!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[r,i,o,a,s,u],d=0;(l=new Error(t.replace(/%s/g,function(){return c[d++]}))).name="Invariant Violation"}throw l.framesToPop=1,l}}}).call(t,n(5))},function(e,t,n){(function(t){"use strict";var r=n(7);if("production"!==t.env.NODE_ENV){r=function(e,t){if(void 0===t)throw new Error("`warning(condition, format, ...args)` requires a warning message argument");if(0!==t.indexOf("Failed Composite propType: ")&&!e){for(var n=arguments.length,r=Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];(function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=0,o="Warning: "+e.replace(/%s/g,function(){return n[i++]});"undefined"!=typeof console&&console.error(o);try{throw new Error(o)}catch(e){}}).apply(void 0,[t].concat(r))}}}e.exports=r}).call(t,n(5))},function(e,t){
/*
	object-assign
	(c) Sindre Sorhus
	@license MIT
	*/
"use strict";var n=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(e){r[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var o,a,s=function(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),u=1;u<arguments.length;u++){for(var l in o=Object(arguments[u]))r.call(o,l)&&(s[l]=o[l]);if(n){a=n(o);for(var c=0;c<a.length;c++)i.call(o,a[c])&&(s[a[c]]=o[a[c]])}}return s}},function(e,t){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){(function(t){"use strict";if("production"!==t.env.NODE_ENV)var r=n(8),i=n(9),o=n(11),a={};e.exports=function(e,n,s,u,l){if("production"!==t.env.NODE_ENV)for(var c in e)if(e.hasOwnProperty(c)){var d;try{r("function"==typeof e[c],"%s: %s type `%s` is invalid; it must be a function, usually from the `prop-types` package, but received `%s`.",u||"React class",s,c,typeof e[c]),d=e[c](n,c,u,s,null,o)}catch(e){d=e}if(i(!d||d instanceof Error,"%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",u||"React class",s,c,typeof d),d instanceof Error&&!(d.message in a)){a[d.message]=!0;var f=l?l():"";i(!1,"Failed %s type: %s%s",s,d.message,null!=f?f:"")}}}}).call(t,n(5))},function(e,t,n){"use strict";var r=n(7),i=n(8),o=n(11);e.exports=function(){function e(e,t,n,r,a,s){s!==o&&i(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return n.checkPropTypes=r,n.PropTypes=n,n}},function(e,t){e.exports=n(1)},function(e,t){"use strict";var n=function(e,t){return e===t};e.exports=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n,r=void 0,i=[],o=void 0,a=!1,s=function(e,n){return t(e,i[n])};return function(){for(var t=arguments.length,n=Array(t),u=0;u<t;u++)n[u]=arguments[u];return a&&r===this&&n.length===i.length&&n.every(s)?o:(a=!0,r=this,i=n,o=e.apply(this,n))}}}])},function(e,t,n){"use strict";var r=n(749);function i(e){return e?1===e.length?e[0]:function(t){return e.reduce(function(e,t){return t(e)},t)}:r.noop}t.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return i(e)},t.pipeFromArray=i},function(e,t,n){"use strict";t.noop=function(){}},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},i=function(e){function t(t,n){e.call(this),this.value=t,this.scheduler=n,this._isScalar=!0,n&&(this._isScalar=!1)}return r(t,e),t.create=function(e,n){return new t(e,n)},t.dispatch=function(e){var t=e.done,n=e.value,r=e.subscriber;t?r.complete():(r.next(n),r.closed||(e.done=!0,this.schedule(e)))},t.prototype._subscribe=function(e){var n=this.value,r=this.scheduler;if(r)return r.schedule(t.dispatch,0,{done:!1,value:n,subscriber:e});e.next(n),e.closed||e.complete()},t}(n(7).Observable);t.ScalarObservable=i},function(e,t,n){"use strict";var r=n(331);t.of=r.ArrayObservable.of},function(e,t,n){"use strict";var r=n(567);t.concatAll=function(){return r.mergeAll(1)}},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},i=n(288),o=n(331),a=n(45),s=n(46);t.race=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];if(1===e.length){if(!i.isArray(e[0]))return e[0];e=e[0]}return new o.ArrayObservable(e).lift(new u)};var u=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new l(e))},e}();t.RaceOperator=u;var l=function(e){function t(t){e.call(this,t),this.hasFirst=!1,this.observables=[],this.subscriptions=[]}return r(t,e),t.prototype._next=function(e){this.observables.push(e)},t.prototype._complete=function(){var e=this.observables,t=e.length;if(0===t)this.destination.complete();else{for(var n=0;n<t&&!this.hasFirst;n++){var r=e[n],i=s.subscribeToResult(this,r,r,n);this.subscriptions&&this.subscriptions.push(i),this.add(i)}this.observables=null}},t.prototype.notifyNext=function(e,t,n,r,i){if(!this.hasFirst){this.hasFirst=!0;for(var o=0;o<this.subscriptions.length;o++)if(o!==n){var a=this.subscriptions[o];a.unsubscribe(),this.remove(a)}this.subscriptions=null}this.destination.next(t)},t}(a.OuterSubscriber);t.RaceSubscriber=l},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},i=n(1177),o=n(288),a=n(45),s=n(46);t.onErrorResumeNext=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return 1===e.length&&o.isArray(e[0])&&(e=e[0]),function(t){return t.lift(new u(e))}},t.onErrorResumeNextStatic=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];var n;return 1===e.length&&o.isArray(e[0])&&(e=e[0]),n=e.shift(),new i.FromObservable(n,null).lift(new u(e))};var u=function(){function e(e){this.nextSources=e}return e.prototype.call=function(e,t){return t.subscribe(new l(e,this.nextSources))},e}(),l=function(e){function t(t,n){e.call(this,t),this.destination=t,this.nextSources=n}return r(t,e),t.prototype.notifyError=function(e,t){this.subscribeToNextSource()},t.prototype.notifyComplete=function(e){this.subscribeToNextSource()},t.prototype._error=function(e){this.subscribeToNextSource()},t.prototype._complete=function(){this.subscribeToNextSource()},t.prototype.subscribeToNextSource=function(){var e=this.nextSources.shift();e?this.add(s.subscribeToResult(this,e)):this.destination.complete()},t}(a.OuterSubscriber)},function(e,t,n){"use strict";var r=n(468);t.concatMap=function(e,t){return r.mergeMap(e,t,1)}},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},i=n(24);t.defaultIfEmpty=function(e){return void 0===e&&(e=null),function(t){return t.lift(new o(e))}};var o=function(){function e(e){this.defaultValue=e}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.defaultValue))},e}(),a=function(e){function t(t,n){e.call(this,t),this.defaultValue=n,this.isEmpty=!0}return r(t,e),t.prototype._next=function(e){this.isEmpty=!1,this.destination.next(e)},t.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},t}(i.Subscriber)},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},i=n(24),o=n(113),a=n(108);t.distinctUntilChanged=function(e,t){return function(n){return n.lift(new s(e,t))}};var s=function(){function e(e,t){this.compare=e,this.keySelector=t}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.compare,this.keySelector))},e}(),u=function(e){function t(t,n,r){e.call(this,t),this.keySelector=r,this.hasKey=!1,"function"==typeof n&&(this.compare=n)}return r(t,e),t.prototype.compare=function(e,t){return e===t},t.prototype._next=function(e){var t=e;if(this.keySelector&&(t=o.tryCatch(this.keySelector)(e))===a.errorObject)return this.destination.error(a.errorObject.e);var n=!1;if(this.hasKey){if((n=o.tryCatch(this.compare)(this.key,t))===a.errorObject)return this.destination.error(a.errorObject.e)}else this.hasKey=!0;!1===Boolean(n)&&(this.key=t,this.destination.next(e))},t}(i.Subscriber)},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},i=n(24);t.filter=function(e,t){return function(n){return n.lift(new o(e,t))}};var o=function(){function e(e,t){this.predicate=e,this.thisArg=t}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.predicate,this.thisArg))},e}(),a=function(e){function t(t,n,r){e.call(this,t),this.predicate=n,this.thisArg=r,this.count=0}return r(t,e),t.prototype._next=function(e){var t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(e){return void this.destination.error(e)}t&&this.destination.next(e)},t}(i.Subscriber)},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},i=n(24);t.find=function(e,t){if("function"!=typeof e)throw new TypeError("predicate is not a function");return function(n){return n.lift(new o(e,n,!1,t))}};var o=function(){function e(e,t,n,r){this.predicate=e,this.source=t,this.yieldIndex=n,this.thisArg=r}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.predicate,this.source,this.yieldIndex,this.thisArg))},e}();t.FindValueOperator=o;var a=function(e){function t(t,n,r,i,o){e.call(this,t),this.predicate=n,this.source=r,this.yieldIndex=i,this.thisArg=o,this.index=0}return r(t,e),t.prototype.notifyComplete=function(e){var t=this.destination;t.next(e),t.complete()},t.prototype._next=function(e){var t=this.predicate,n=this.thisArg,r=this.index++;try{t.call(n||this,e,r,this.source)&&this.notifyComplete(this.yieldIndex?r:e)}catch(e){this.destination.error(e)}},t.prototype._complete=function(){this.notifyComplete(this.yieldIndex?-1:void 0)},t}(i.Subscriber);t.FindValueSubscriber=a},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},i=n(113),o=n(108),a=n(45),s=n(46);t.audit=function(e){return function(t){return t.lift(new u(e))}};var u=function(){function e(e){this.durationSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new l(e,this.durationSelector))},e}(),l=function(e){function t(t,n){e.call(this,t),this.durationSelector=n,this.hasValue=!1}return r(t,e),t.prototype._next=function(e){if(this.value=e,this.hasValue=!0,!this.throttled){var t=i.tryCatch(this.durationSelector)(e);if(t===o.errorObject)this.destination.error(o.errorObject.e);else{var n=s.subscribeToResult(this,t);n.closed?this.clearThrottle():this.add(this.throttled=n)}}},t.prototype.clearThrottle=function(){var e=this.value,t=this.hasValue,n=this.throttled;n&&(this.remove(n),this.throttled=null,n.unsubscribe()),t&&(this.value=null,this.hasValue=!1,this.destination.next(e))},t.prototype.notifyNext=function(e,t,n,r){this.clearThrottle()},t.prototype.notifyComplete=function(){this.clearThrottle()},t}(a.OuterSubscriber)},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},i=n(24);t.scan=function(e,t){var n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new o(e,t,n))}};var o=function(){function e(e,t,n){void 0===n&&(n=!1),this.accumulator=e,this.seed=t,this.hasSeed=n}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.accumulator,this.seed,this.hasSeed))},e}(),a=function(e){function t(t,n,r,i){e.call(this,t),this.accumulator=n,this._seed=r,this.hasSeed=i,this.index=0}return r(t,e),Object.defineProperty(t.prototype,"seed",{get:function(){return this._seed},set:function(e){this.hasSeed=!0,this._seed=e},enumerable:!0,configurable:!0}),t.prototype._next=function(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)},t.prototype._tryNext=function(e){var t,n=this.index++;try{t=this.accumulator(this.seed,e,n)}catch(e){this.destination.error(e)}this.seed=t,this.destination.next(t)},t}(i.Subscriber)},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},i=n(24),o=n(473),a=n(332);t.takeLast=function(e){return function(t){return 0===e?new a.EmptyObservable:t.lift(new s(e))}};var s=function(){function e(e){if(this.total=e,this.total<0)throw new o.ArgumentOutOfRangeError}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.total))},e}(),u=function(e){function t(t,n){e.call(this,t),this.total=n,this.ring=new Array,this.count=0}return r(t,e),t.prototype._next=function(e){var t=this.ring,n=this.total,r=this.count++;t.length<n?t.push(e):t[r%n]=e},t.prototype._complete=function(){var e=this.destination,t=this.count;if(t>0)for(var n=this.count>=this.total?this.total:this.count,r=this.ring,i=0;i<n;i++){var o=t++%n;e.next(r[o])}e.complete()},t}(i.Subscriber)},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},i=n(24);t.refCount=function(){return function(e){return e.lift(new o(e))}};var o=function(){function e(e){this.connectable=e}return e.prototype.call=function(e,t){var n=this.connectable;n._refCount++;var r=new a(e,n),i=t.subscribe(r);return r.closed||(r.connection=n.connect()),i},e}(),a=function(e){function t(t,n){e.call(this,t),this.connectable=n}return r(t,e),t.prototype._unsubscribe=function(){var e=this.connectable;if(e){this.connectable=null;var t=e._refCount;if(t<=0)this.connection=null;else if(e._refCount=t-1,t>1)this.connection=null;else{var n=this.connection,r=e._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}else this.connection=null},t}(i.Subscriber)},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},i=n(45),o=n(46);t.switchMap=function(e,t){return function(n){return n.lift(new a(e,t))}};var a=function(){function e(e,t){this.project=e,this.resultSelector=t}return e.prototype.call=function(e,t){return t.subscribe(new s(e,this.project,this.resultSelector))},e}(),s=function(e){function t(t,n,r){e.call(this,t),this.project=n,this.resultSelector=r,this.index=0}return r(t,e),t.prototype._next=function(e){var t,n=this.index++;try{t=this.project(e,n)}catch(e){return void this.destination.error(e)}this._innerSub(t,e,n)},t.prototype._innerSub=function(e,t,n){var r=this.innerSubscription;r&&r.unsubscribe(),this.add(this.innerSubscription=o.subscribeToResult(this,e,t,n))},t.prototype._complete=function(){var t=this.innerSubscription;t&&!t.closed||e.prototype._complete.call(this)},t.prototype._unsubscribe=function(){this.innerSubscription=null},t.prototype.notifyComplete=function(t){this.remove(t),this.innerSubscription=null,this.isStopped&&e.prototype._complete.call(this)},t.prototype.notifyNext=function(e,t,n,r,i){this.resultSelector?this._tryNotifyNext(e,t,n,r):this.destination.next(t)},t.prototype._tryNotifyNext=function(e,t,n,r){var i;try{i=this.resultSelector(e,t,n,r)}catch(e){return void this.destination.error(e)}this.destination.next(i)},t}(i.OuterSubscriber)},function(e,t,n){"use strict";var r=n(73),i=n(472);t.timestamp=function(e){return void 0===e&&(e=r.async),i.map(function(t){return new o(t,e.now())})};var o=function(){return function(e,t){this.value=e,this.timestamp=t}}();t.Timestamp=o},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(23));var r={releaseMesh:function(e){e&&(e.parent&&e.parent.remove(e),e.userData.unrelease||(e.children&&e.children.length>0&&(e.children.forEach(function(e){r.releaseMesh(e)}),e.children=[]),e.geometry&&(e.geometry.dispose(),e.material=void 0),e.material&&(e.material.map&&e.material.map.dispose&&(e.material.map.dispose(),e.material.map=void 0),e.material.dispose(),e.material=void 0),e.dispose&&e.dispose()),e=void 0)}};t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var i=function(){function e(t){var n=this;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),!t)throw new Error("Miss renderer");this.events={change:{}},this.isWebXR=!1,this.renderer=t,this.renderer.vr.enabled=!1,this.button=document.getElementById("vr-button"),this.button.textContent="VR NOT FOUND",this.button.style.display="none",this.button.style.cursor="pointer",this._initVRDisplays(),this.button.onclick=function(){console.log("Click the Enter VR button"),n.enterVR(n.isPresenting())}}return r(e,[{key:"getDisplay",value:function(){if(!this.renderer&&this.device)throw Error("Miss renderer or VR device");return this.device}},{key:"isPresenting",value:function(){if(!this.renderer&&this.device)throw Error("Miss renderer or VR device");return!!(this.renderer&&this.renderer.vr&&this.renderer.vr.isPresenting())}},{key:"enterVR",value:function(e){if(this.isWebXR)return this.enterXR(e);var t=this;return new Promise(function(n,r){if(t.getDisplay())try{var i=t.getDisplay();e&&!i.isPresenting?(t.renderer.vr.enabled=!0,t.renderer.gammaInput=!0,t.renderer.gammaOutput=!0,t.renderer.shadowMap.enabled=!0,i.requestPresent([{source:t.renderer.domElement}]).then(function(){t._handleEvent("change",{isPresenting:!0})})):!e&&i.isPresenting&&(t.renderer.vr.enabled=!1,t.renderer.gammaInput=!1,t.renderer.gammaOutput=!1,t.renderer.shadowMap.enabled=!1,i.exitPresent().then(function(){t._handleEvent("change",{isPresenting:!1})})),n("done")}catch(e){console.error(e),r(e),t._handleEvent("change",{isPresenting:!1})}else console.warn("Can't found the display"),r(new Error("Can't found the display"))})}},{key:"enterXR",value:function(e){var t=this;if(!t.getDisplay())throw Error("Can't found the display");t.renderer.vr.enabled=!!e,t.renderer.gammaInput=!!e,t.renderer.gammaOutput=!!e;var n=t.getDisplay();t.onSessionStarted||(t.onSessionEnded=function(e){t.currentSession.removeEventListener("end",t.onSessionEnded),t.renderer.vr.enabled=!1,t.renderer.vr.setSession(null),t.currentSession=null},t.onSessionStarted=function(e){var n={};void 0===n.frameOfReferenceType&&(n.frameOfReferenceType="stage"),e.addEventListener("end",t.onSessionEnded),t.renderer.vr.enabled=!0,t.renderer.vr.setSession(e,n),t.currentSession=e}),t.currentSession?t.currentSession.end().then(function(){t._handleEvent("change",{isPresenting:!1})}).catch(function(e){console.error(e),t._handleEvent("change",{isPresenting:!1})}):n.requestSession({immersive:!0,exclusive:!0}).then(function(e){t.onSessionStarted(e),setTimeout(function(){t._handleEvent("change",{isPresenting:!0})},3e3)}).catch(function(e){t._updateVRText(),t._handleEvent("change",{isPresenting:!1}),console.error(e)})}},{key:"on",value:function(e,t,n){this.events[e]&&t?(n=n||t.name,this.events[e][n]=t):this.events[e]&&!t&&this.events[e][n]?delete this.events[e][n]:console.warn("Only support the events :",Object.keys(this.events))}},{key:"_handleEvent",value:function(e,t){this._updateVRText(),console.log("Select Changed :",e),this.events[e]&&_.size(this.events[e])>0&&_.forEach(this.events[e],function(e){e()})}},{key:"getButton",value:function(){return this.button}},{key:"_updateVRText",value:function(){var e=this.getDisplay();console.log("In VR Mode("+this.isPresenting()+")"),e?this.button.innerHTML=this.isPresenting()?'<span> <i class="fa fa-eye-slash"></i></span> <span class="tooltiptext animated fadeInRight faster">Exist VR</span>':'<span> <i class="fa fa-eye"></i></span><span class="tooltiptext animated fadeInRight faster">Enter VR</span>':this.button.style.display="none"}},{key:"_updateDevice",value:function(e){e&&this.renderer.vr.setDevice(e),this.button.style.display=e?"block":"none",this.device=e,this._updateVRText()}},{key:"_initVRDisplays",value:function(){var e=this;e.isWebXR=!1,"getVRDisplays"in navigator&&(window.addEventListener("vrdisplayconnect",function(t){e._updateDevice(t.display),console.log("vrdisplayconnect")},!1),window.addEventListener("vrdisplaydisconnect",function(t){console.log("vrdisplaydisconnect"),e._updateDevice(null)},!1),window.addEventListener("vrdisplaypresentchange",function(t){console.log("vrdisplaypresentchange"),e._updateVRText()}),window.addEventListener("vrdisplaypointerrestricted",function(){return e._handlePointerRestricted(!0)},!1),window.addEventListener("vrdisplaypointerunrestricted",function(){return e._handlePointerRestricted(!1)},!1),window.addEventListener("vrdisplayactivate",function(t){e._updateDevice(t.display),e.enterVR(!0)},!1),navigator.getVRDisplays().then(function(t){t.length>0?e._updateDevice(t[0]):console.log("can't found the VR display")}))}},{key:"_handlePointerRestricted",value:function(e){var t=this.renderer.domElement;if(e&&t&&"function"==typeof t.requestPointerLock)t.requestPointerLock();else{var n=document.pointerLockElement;n&&n===t&&"function"==typeof document.exitPointerLock&&document.exitPointerLock()}}}]),e}(),o=function(e){var t=new i(e);this.getButton=t.getButton.bind(t),this.getDisplay=t.getDisplay.bind(t),this.isAvailable=function(){return"getVRDisplays"in navigator||"xr"in navigator},this.isPresenting=t.isPresenting.bind(t),this.enterVR=t.enterVR.bind(t),this.on=t.on.bind(t)};o.isAvailable="getVRDisplays"in navigator||"xr"in navigator,t.default=o,t.WebVR=o},function(e,t,n){var r=n(770).isArray;e.exports={copyOptions:function(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n},ensureFlagExists:function(e,t){e in t&&"boolean"==typeof t[e]||(t[e]=!1)},ensureSpacesExists:function(e){"spaces"in e&&("number"==typeof e.spaces||"string"==typeof e.spaces)||(e.spaces=0)},ensureAlwaysArrayExists:function(e){"alwaysArray"in e&&("boolean"==typeof e.alwaysArray||r(e.alwaysArray))||(e.alwaysArray=!1)},ensureKeyExists:function(e,t){e+"Key"in t&&"string"==typeof t[e+"Key"]||(t[e+"Key"]=t.compact?"_"+e:e)},checkFnExists:function(e,t){return e+"Fn"in t}}},function(e,t){e.exports={isArray:function(e){return Array.isArray?Array.isArray(e):"[object Array]"===Object.prototype.toString.call(e)}}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,s)}u((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const i=n(1089),o=n(11);class a{constructor(){this.csvImporter=new i.CSVImporter,this.graph={}}toGraph(e,t){return r(this,void 0,void 0,function*(){let n=yield this.csvImporter.importCSV(e),r=t.nodeMapping,i=t.edgeMapping;return this.graph.nodes=this.createNodes(n,r),this.graph.edges=this.createEdges(this.graph.nodes,n,i),this.graph})}csvToGraph(e,t){let n=t.nodeMapping,r=t.edgeMapping;return this.graph.nodes=this.createNodes(e,n),this.graph.edges=this.createEdges(this.graph.nodes,e,r),this.graph}createNodes(e,t){let n=[];return t.forEach(t=>{let r=this.createNodesByNodeMaping(e,t),i="properties."+t.key.replace(/\s+/g,"");r=o.uniqBy(r,i),n=n.concat(r)}),n}createNodesByNodeMaping(e,t){let n=e.header.map(e=>e.replace(/\s+/g,""));return e.data.map(e=>{let r=t.name,i=t.autoId,o=t.properties.map(e=>e.replace(/\s+/g,"")),a=t.key.replace(/\s+/g,""),s=e[n.indexOf(a)],u={};u.id=i?this.autoId():s,u.label=r;let l={};return e.forEach((e,t)=>{let r=n[t];o.includes(r)&&(l[r]=e)}),u.properties=l,u})}createEdges(e,t,n){let r=[];return n.forEach(n=>{let i=this.createEdgesByEdgeMaping(e,t,n);r=r.concat(i)}),r}createEdgesByEdgeMaping(e,t,n){let r=t.header.map(e=>e.replace(/\s+/g,"")),i=[];return t.data.filter(e=>e).forEach(e=>{let t=n.name,o=n.fromKey.replace(/\s+/g,""),a=n.toKey.replace(/\s+/g,""),s=e[r.indexOf(o)],u=e[r.indexOf(a)],l=this.findNodeByKey(o,s),c=this.findNodeByKey(a,u);if(!l||!c)return null;{if(this.edgeExist(i,l.id,c.id))return null;let e={};e.id=this.autoId(),e.properties={},e.type=t,e.source=l,e.target=c,e.sourceId=l.id,e.targetId=c.id,i.push(e)}}),i}findNodeByKey(e,t){return t?this.graph.nodes.find(n=>n.properties[e]==t):null}edgeExist(e,t,n){return!!e.find(e=>e.sourceId==t&&e.targetId==n)}autoId(){return Math.floor(1e6*Math.random())}}t.default=a,t.CSVToGraph=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1090);class i{constructor(){this.header=[],this.data=[]}importCSV(e){return new Promise((t,n)=>{let i={header:!1,complete:e=>this.parseCSV(e,t)};r.parse(e,i)})}parseCSV(e,t){this.header=e.data[0],this.data=e.data.slice(1,e.data.length),t({header:this.header,data:this.data})}}t.default=i,t.CSVImporter=i},function(e,t,n){var r,i,o;
/* @license
Papa Parse
v4.6.3
https://github.com/mholt/PapaParse
License: MIT
*/Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),i=[],void 0===(o="function"==typeof(r=function(){"use strict";var e,t,n="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==n?n:{},r=!n.document&&!!n.postMessage,i=r&&/(\?|&)papaworker(=|&|$)/.test(n.location.search),o=!1,a={},s=0,u={parse:function(t,r){var i=(r=r||{}).dynamicTyping||!1;if(E(i)&&(r.dynamicTypingFunction=i,i={}),r.dynamicTyping=i,r.transform=!!E(r.transform)&&r.transform,r.worker&&u.WORKERS_SUPPORTED){var l=function(){if(!u.WORKERS_SUPPORTED)return!1;if(!o&&null===u.SCRIPT_PATH)throw new Error("Script path cannot be determined automatically when Papa Parse is loaded asynchronously. You need to set Papa.SCRIPT_PATH manually.");var t=u.SCRIPT_PATH||e;t+=(-1!==t.indexOf("?")?"&":"?")+"papaworker";var r=new n.Worker(t);return r.onmessage=v,r.id=s++,a[r.id]=r}();return l.userStep=r.step,l.userChunk=r.chunk,l.userComplete=r.complete,l.userError=r.error,r.step=E(r.step),r.chunk=E(r.chunk),r.complete=E(r.complete),r.error=E(r.error),delete r.worker,void l.postMessage({input:t,config:r,workerId:l.id})}var c=null;return u.NODE_STREAM_INPUT,"string"==typeof t?c=r.download?new d(r):new h(r):!0===t.readable&&E(t.read)&&E(t.on)?c=new p(r):(n.File&&t instanceof File||t instanceof Object)&&(c=new f(r)),c.stream(t)},unparse:function(e,t){var n=!1,r=!0,i=",",o="\r\n",a='"',s=!1;"object"==typeof t&&("string"!=typeof t.delimiter||u.BAD_DELIMITERS.filter(function(e){return-1!==t.delimiter.indexOf(e)}).length||(i=t.delimiter),("boolean"==typeof t.quotes||Array.isArray(t.quotes))&&(n=t.quotes),"boolean"!=typeof t.skipEmptyLines&&"string"!=typeof t.skipEmptyLines||(s=t.skipEmptyLines),"string"==typeof t.newline&&(o=t.newline),"string"==typeof t.quoteChar&&(a=t.quoteChar),"boolean"==typeof t.header&&(r=t.header));var l=new RegExp(g(a),"g");if("string"==typeof e&&(e=JSON.parse(e)),Array.isArray(e)){if(!e.length||Array.isArray(e[0]))return d(null,e,s);if("object"==typeof e[0])return d(c(e[0]),e,s)}else if("object"==typeof e)return"string"==typeof e.data&&(e.data=JSON.parse(e.data)),Array.isArray(e.data)&&(e.fields||(e.fields=e.meta&&e.meta.fields),e.fields||(e.fields=Array.isArray(e.data[0])?e.fields:c(e.data[0])),Array.isArray(e.data[0])||"object"==typeof e.data[0]||(e.data=[e.data])),d(e.fields||[],e.data||[],s);throw"exception: Unable to serialize unrecognized input";function c(e){if("object"!=typeof e)return[];var t=[];for(var n in e)t.push(n);return t}function d(e,t,n){var a="";"string"==typeof e&&(e=JSON.parse(e)),"string"==typeof t&&(t=JSON.parse(t));var s=Array.isArray(e)&&0<e.length,u=!Array.isArray(t[0]);if(s&&r){for(var l=0;l<e.length;l++)0<l&&(a+=i),a+=f(e[l],l);0<t.length&&(a+=o)}for(var c=0;c<t.length;c++){var d=s?e.length:t[c].length,h=!1,p=s?0===Object.keys(t[c]).length:0===t[c].length;if(n&&!s&&(h="greedy"===n?""===t[c].join("").trim():1===t[c].length&&0===t[c][0].length),"greedy"===n&&s){for(var m=[],g=0;g<d;g++){var y=u?e[g]:g;m.push(t[c][y])}h=""===m.join("").trim()}if(!h){for(var v=0;v<d;v++){0<v&&!p&&(a+=i);var b=s&&u?e[v]:v;a+=f(t[c][b],v)}c<t.length-1&&(!n||0<d&&!p)&&(a+=o)}}return a}function f(e,t){return null==e?"":e.constructor===Date?JSON.stringify(e).slice(1,25):(e=e.toString().replace(l,a+a),"boolean"==typeof n&&n||Array.isArray(n)&&n[t]||function(e,t){for(var n=0;n<t.length;n++)if(-1<e.indexOf(t[n]))return!0;return!1}(e,u.BAD_DELIMITERS)||-1<e.indexOf(i)||" "===e.charAt(0)||" "===e.charAt(e.length-1)?a+e+a:e)}}};if(u.RECORD_SEP=String.fromCharCode(30),u.UNIT_SEP=String.fromCharCode(31),u.BYTE_ORDER_MARK="\ufeff",u.BAD_DELIMITERS=["\r","\n",'"',u.BYTE_ORDER_MARK],u.WORKERS_SUPPORTED=!r&&!!n.Worker,u.SCRIPT_PATH=null,u.NODE_STREAM_INPUT=1,u.LocalChunkSize=10485760,u.RemoteChunkSize=5242880,u.DefaultDelimiter=",",u.Parser=y,u.ParserHandle=m,u.NetworkStreamer=d,u.FileStreamer=f,u.StringStreamer=h,u.ReadableStreamStreamer=p,n.jQuery){var l=n.jQuery;l.fn.parse=function(e){var t=e.config||{},r=[];return this.each(function(e){if("INPUT"!==l(this).prop("tagName").toUpperCase()||"file"!==l(this).attr("type").toLowerCase()||!n.FileReader||!this.files||0===this.files.length)return!0;for(var i=0;i<this.files.length;i++)r.push({file:this.files[i],inputElem:this,instanceConfig:l.extend({},t)})}),i(),this;function i(){if(0!==r.length){var t,n,i,a,s=r[0];if(E(e.before)){var c=e.before(s.file,s.inputElem);if("object"==typeof c){if("abort"===c.action)return t="AbortError",n=s.file,i=s.inputElem,a=c.reason,void(E(e.error)&&e.error({name:t},n,i,a));if("skip"===c.action)return void o();"object"==typeof c.config&&(s.instanceConfig=l.extend(s.instanceConfig,c.config))}else if("skip"===c)return void o()}var d=s.instanceConfig.complete;s.instanceConfig.complete=function(e){E(d)&&d(e,s.file,s.inputElem),o()},u.parse(s.file,s.instanceConfig)}else E(e.complete)&&e.complete()}function o(){r.splice(0,1),i()}}}function c(e){this._handle=null,this._finished=!1,this._completed=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(e){var t=w(e);t.chunkSize=parseInt(t.chunkSize),e.step||e.chunk||(t.chunkSize=null),this._handle=new m(t),(this._handle.streamer=this)._config=t}.call(this,e),this.parseChunk=function(e,t){if(this.isFirstChunk&&E(this._config.beforeFirstChunk)){var r=this._config.beforeFirstChunk(e);void 0!==r&&(e=r)}this.isFirstChunk=!1;var o=this._partialLine+e;this._partialLine="";var a=this._handle.parse(o,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var s=a.meta.cursor;this._finished||(this._partialLine=o.substring(s-this._baseIndex),this._baseIndex=s),a&&a.data&&(this._rowCount+=a.data.length);var l=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(i)n.postMessage({results:a,workerId:u.WORKER_ID,finished:l});else if(E(this._config.chunk)&&!t){if(this._config.chunk(a,this._handle),this._handle.paused()||this._handle.aborted())return;a=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(a.data),this._completeResults.errors=this._completeResults.errors.concat(a.errors),this._completeResults.meta=a.meta),this._completed||!l||!E(this._config.complete)||a&&a.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),l||a&&a.meta.paused||this._nextChunk(),a}},this._sendError=function(e){E(this._config.error)?this._config.error(e):i&&this._config.error&&n.postMessage({workerId:u.WORKER_ID,error:e,finished:!1})}}function d(e){var t;(e=e||{}).chunkSize||(e.chunkSize=u.RemoteChunkSize),c.call(this,e),this._nextChunk=r?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(e){this._input=e,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(t=new XMLHttpRequest,this._config.withCredentials&&(t.withCredentials=this._config.withCredentials),r||(t.onload=k(this._chunkLoaded,this),t.onerror=k(this._chunkError,this)),t.open("GET",this._input,!r),this._config.downloadRequestHeaders){var e=this._config.downloadRequestHeaders;for(var n in e)t.setRequestHeader(n,e[n])}if(this._config.chunkSize){var i=this._start+this._config.chunkSize-1;t.setRequestHeader("Range","bytes="+this._start+"-"+i),t.setRequestHeader("If-None-Match","webkit-no-cache")}try{t.send()}catch(e){this._chunkError(e.message)}r&&0===t.status?this._chunkError():this._start+=this._config.chunkSize}},this._chunkLoaded=function(){var e;4===t.readyState&&(t.status<200||400<=t.status?this._chunkError():(this._finished=!this._config.chunkSize||this._start>(null===(e=t.getResponseHeader("Content-Range"))?-1:parseInt(e.substr(e.lastIndexOf("/")+1))),this.parseChunk(t.responseText)))},this._chunkError=function(e){var n=t.statusText||e;this._sendError(new Error(n))}}function f(e){var t,n;(e=e||{}).chunkSize||(e.chunkSize=u.LocalChunkSize),c.call(this,e);var r="undefined"!=typeof FileReader;this.stream=function(e){this._input=e,n=e.slice||e.webkitSlice||e.mozSlice,r?((t=new FileReader).onload=k(this._chunkLoaded,this),t.onerror=k(this._chunkError,this)):t=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var e=this._input;if(this._config.chunkSize){var i=Math.min(this._start+this._config.chunkSize,this._input.size);e=n.call(e,this._start,i)}var o=t.readAsText(e,this._config.encoding);r||this._chunkLoaded({target:{result:o}})},this._chunkLoaded=function(e){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(e.target.result)},this._chunkError=function(){this._sendError(t.error)}}function h(e){var t;c.call(this,e=e||{}),this.stream=function(e){return t=e,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var e=this._config.chunkSize,n=e?t.substr(0,e):t;return t=e?t.substr(e):"",this._finished=!t,this.parseChunk(n)}}}function p(e){c.call(this,e=e||{});var t=[],n=!0,r=!1;this.pause=function(){c.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){c.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(e){this._input=e,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){r&&1===t.length&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),t.length?this.parseChunk(t.shift()):n=!0},this._streamData=k(function(e){try{t.push("string"==typeof e?e:e.toString(this._config.encoding)),n&&(n=!1,this._checkIsFinished(),this.parseChunk(t.shift()))}catch(e){this._streamError(e)}},this),this._streamError=k(function(e){this._streamCleanUp(),this._sendError(e)},this),this._streamEnd=k(function(){this._streamCleanUp(),r=!0,this._streamData("")},this),this._streamCleanUp=k(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function m(e){var t,n,r,i=/^\s*-?(\d*\.?\d+|\d+\.?\d*)(e[-+]?\d+)?\s*$/i,o=/(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))/,a=this,s=0,l=0,c=!1,d=!1,f=[],h={data:[],errors:[],meta:{}};if(E(e.step)){var p=e.step;e.step=function(t){if(h=t,b())v();else{if(v(),0===h.data.length)return;s+=t.data.length,e.preview&&s>e.preview?n.abort():p(h,a)}}}function m(t){return"greedy"===e.skipEmptyLines?""===t.join("").trim():1===t.length&&0===t[0].length}function v(){if(h&&r&&(k("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+u.DefaultDelimiter+"'"),r=!1),e.skipEmptyLines)for(var t=0;t<h.data.length;t++)m(h.data[t])&&h.data.splice(t--,1);return b()&&function(){if(h){for(var t=0;b()&&t<h.data.length;t++)for(var n=0;n<h.data[t].length;n++){var r=h.data[t][n];e.trimHeaders&&(r=r.trim()),f.push(r)}h.data.splice(0,1)}}(),function(){if(!h||!e.header&&!e.dynamicTyping&&!e.transform)return h;for(var t=0;t<h.data.length;t++){var n,r=e.header?{}:[];for(n=0;n<h.data[t].length;n++){var i=n,o=h.data[t][n];e.header&&(i=n>=f.length?"__parsed_extra":f[n]),e.transform&&(o=e.transform(o,i)),o=_(i,o),"__parsed_extra"===i?(r[i]=r[i]||[],r[i].push(o)):r[i]=o}h.data[t]=r,e.header&&(n>f.length?k("FieldMismatch","TooManyFields","Too many fields: expected "+f.length+" fields but parsed "+n,l+t):n<f.length&&k("FieldMismatch","TooFewFields","Too few fields: expected "+f.length+" fields but parsed "+n,l+t))}return e.header&&h.meta&&(h.meta.fields=f),l+=h.data.length,h}()}function b(){return e.header&&0===f.length}function _(t,n){return r=t,e.dynamicTypingFunction&&void 0===e.dynamicTyping[r]&&(e.dynamicTyping[r]=e.dynamicTypingFunction(r)),!0===(e.dynamicTyping[r]||e.dynamicTyping)?"true"===n||"TRUE"===n||"false"!==n&&"FALSE"!==n&&(i.test(n)?parseFloat(n):o.test(n)?new Date(n):""===n?null:n):n;var r}function k(e,t,n,r){h.errors.push({type:e,code:t,message:n,row:r})}this.parse=function(i,o,a){var s=e.quoteChar||'"';if(e.newline||(e.newline=function(e,t){e=e.substr(0,1048576);var n=new RegExp(g(t)+"([^]*?)"+g(t),"gm"),r=(e=e.replace(n,"")).split("\r"),i=e.split("\n"),o=1<i.length&&i[0].length<r[0].length;if(1===r.length||o)return"\n";for(var a=0,s=0;s<r.length;s++)"\n"===r[s][0]&&a++;return a>=r.length/2?"\r\n":"\r"}(i,s)),r=!1,e.delimiter)E(e.delimiter)&&(e.delimiter=e.delimiter(i),h.meta.delimiter=e.delimiter);else{var l=function(t,n,r,i){for(var o,a,s,l=[",","\t","|",";",u.RECORD_SEP,u.UNIT_SEP],c=0;c<l.length;c++){var d=l[c],f=0,h=0,p=0;s=void 0;for(var g=new y({comments:i,delimiter:d,newline:n,preview:10}).parse(t),v=0;v<g.data.length;v++)if(r&&m(g.data[v]))p++;else{var b=g.data[v].length;h+=b,void 0!==s?1<b&&(f+=Math.abs(b-s),s=b):s=0}0<g.data.length&&(h/=g.data.length-p),(void 0===a||a<f)&&1.99<h&&(a=f,o=d)}return{successful:!!(e.delimiter=o),bestDelimiter:o}}(i,e.newline,e.skipEmptyLines,e.comments);l.successful?e.delimiter=l.bestDelimiter:(r=!0,e.delimiter=u.DefaultDelimiter),h.meta.delimiter=e.delimiter}var d=w(e);return e.preview&&e.header&&d.preview++,t=i,n=new y(d),h=n.parse(t,o,a),v(),c?{meta:{paused:!0}}:h||{meta:{paused:!1}}},this.paused=function(){return c},this.pause=function(){c=!0,n.abort(),t=t.substr(n.getCharIndex())},this.resume=function(){c=!1,a.streamer.parseChunk(t,!0)},this.aborted=function(){return d},this.abort=function(){d=!0,n.abort(),h.meta.aborted=!0,E(e.complete)&&e.complete(h),t=""}}function g(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function y(e){var t,n=(e=e||{}).delimiter,r=e.newline,i=e.comments,o=e.step,a=e.preview,s=e.fastMode,l=t=void 0===e.quoteChar?'"':e.quoteChar;if(void 0!==e.escapeChar&&(l=e.escapeChar),("string"!=typeof n||-1<u.BAD_DELIMITERS.indexOf(n))&&(n=","),i===n)throw"Comment character same as delimiter";!0===i?i="#":("string"!=typeof i||-1<u.BAD_DELIMITERS.indexOf(i))&&(i=!1),"\n"!==r&&"\r"!==r&&"\r\n"!==r&&(r="\n");var c=0,d=!1;this.parse=function(e,u,f){if("string"!=typeof e)throw"Input must be a string";var h=e.length,p=n.length,m=r.length,y=i.length,v=E(o),b=[],_=[],w=[],k=c=0;if(!e)return I();if(s||!1!==s&&-1===e.indexOf(t)){for(var x=e.split(r),S=0;S<x.length;S++){if(w=x[S],c+=w.length,S!==x.length-1)c+=r.length;else if(f)return I();if(!i||w.substr(0,y)!==i){if(v){if(b=[],L(w.split(n)),R(),d)return I()}else L(w.split(n));if(a&&a<=S)return b=b.slice(0,a),I(!0)}}return I()}for(var M,T=e.indexOf(n,c),C=e.indexOf(r,c),A=new RegExp(g(l)+g(t),"g");;)if(e[c]!==t)if(i&&0===w.length&&e.substr(c,y)===i){if(-1===C)return I();c=C+m,C=e.indexOf(r,c),T=e.indexOf(n,c)}else if(-1!==T&&(T<C||-1===C))w.push(e.substring(c,T)),c=T+p,T=e.indexOf(n,c);else{if(-1===C)break;if(w.push(e.substring(c,C)),D(C+m),v&&(R(),d))return I();if(a&&b.length>=a)return I(!0)}else for(M=c,c++;;){if(-1===(M=e.indexOf(t,M+1)))return f||_.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:b.length,index:c}),P();if(M===h-1)return P(e.substring(c,M).replace(A,t));if(t!==l||e[M+1]!==l){if(t===l||0===M||e[M-1]!==l){var O=j(-1===C?T:Math.min(T,C));if(e[M+1+O]===n){w.push(e.substring(c,M).replace(A,t)),c=M+1+O+p,T=e.indexOf(n,c),C=e.indexOf(r,c);break}var N=j(C);if(e.substr(M+1+N,m)===r){if(w.push(e.substring(c,M).replace(A,t)),D(M+1+N+m),T=e.indexOf(n,c),v&&(R(),d))return I();if(a&&b.length>=a)return I(!0);break}_.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:b.length,index:c}),M++}}else M++}return P();function L(e){b.push(e),k=c}function j(t){var n=0;if(-1!==t){var r=e.substring(M+1,t);r&&""===r.trim()&&(n=r.length)}return n}function P(t){return f||(void 0===t&&(t=e.substr(c)),w.push(t),c=h,L(w),v&&R()),I()}function D(t){c=t,L(w),w=[],C=e.indexOf(r,c)}function I(e){return{data:b,errors:_,meta:{delimiter:n,linebreak:r,aborted:d,truncated:!!e,cursor:k+(u||0)}}}function R(){o(I()),b=[],_=[]}},this.abort=function(){d=!0},this.getCharIndex=function(){return c}}function v(e){var t=e.data,n=a[t.workerId],r=!1;if(t.error)n.userError(t.error,t.file);else if(t.results&&t.results.data){var i={abort:function(){r=!0,b(t.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:_,resume:_};if(E(n.userStep)){for(var o=0;o<t.results.data.length&&(n.userStep({data:[t.results.data[o]],errors:t.results.errors,meta:t.results.meta},i),!r);o++);delete t.results}else E(n.userChunk)&&(n.userChunk(t.results,i,t.file),delete t.results)}t.finished&&!r&&b(t.workerId,t.results)}function b(e,t){var n=a[e];E(n.userComplete)&&n.userComplete(t),n.terminate(),delete a[e]}function _(){throw"Not implemented."}function w(e){if("object"!=typeof e||null===e)return e;var t=Array.isArray(e)?[]:{};for(var n in e)t[n]=w(e[n]);return t}function k(e,t){return function(){e.apply(t,arguments)}}function E(e){return"function"==typeof e}return i?n.onmessage=function(e){var t=e.data;if(void 0===u.WORKER_ID&&t&&(u.WORKER_ID=t.workerId),"string"==typeof t.input)n.postMessage({workerId:u.WORKER_ID,results:u.parse(t.input,t.config),finished:!0});else if(n.File&&t.input instanceof File||t.input instanceof Object){var r=u.parse(t.input,t.config);r&&n.postMessage({workerId:u.WORKER_ID,results:r,finished:!0})}}:u.WORKERS_SUPPORTED&&(t=document.getElementsByTagName("script"),e=t.length?t[t.length-1].src:"",document.body?document.addEventListener("DOMContentLoaded",function(){o=!0},!0):o=!0),(d.prototype=Object.create(c.prototype)).constructor=d,(f.prototype=Object.create(c.prototype)).constructor=f,(h.prototype=Object.create(h.prototype)).constructor=h,(p.prototype=Object.create(c.prototype)).constructor=p,u})?r.apply(t,i):r)||(e.exports=o)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(296),i=n(1092),o=n(1095),a=n(1742),s=n(1096);t.default=class{constructor(e){this.nodesById=new Map,this.layoutModel={graphModel:e,nodes:[],relationships:[],relationshipGroups:[]},e.nodeList().forEach(e=>{var t=new o.default(e);this.nodesById.set(e.id,t),this.layoutModel.nodes.push(t)}),e.groupedRelationshipList().forEach(e=>{for(var t=e[0].start,n=r.default.parsePixels(e[0].style("margin")),o=[],a=0;a<e.length;a++){var s=e[a],u=(s.start===t?1:-1)*n*(a-(e.length-1)/2),l=this.nodesById.get(s.start.id),c=this.nodesById.get(s.end.id),d=this.horizontalArrow(s,l,c,u),f=new i.default(s,l,c,d);o.push(f),this.layoutModel.relationships.push(f)}this.layoutModel.relationshipGroups.push(o)})}horizontalArrow(e,t,n,i){var o=t.model.distanceTo(n.model),u=r.default.parsePixels(e.style("width"));return 0===i?new a.default(t.radius.startRelationship(),o-n.radius.endRelationship(),u):new s.default(t.radius.startRelationship(),n.radius.endRelationship(),o,i,u,4*u,4*u)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1093),i=n(1739);t.default=class extends r.default{constructor(e,t,n,r){super(e),this.start=t,this.end=n,this.arrow=r,this.propertiesBubble=new i.default(e,r.apex),this.model=e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=class{constructor(e){this.model=e,this.propertiesBubble={}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class r{constructor(e){this.entity=e}}r.speechBubblePath=function(e,t,n,r){var i=e.width,o=e.height;return{diagonal:["M",0,0,"L",n+r,n,"L",n+i+r,n,"A",r,r,0,0,1,n+i+2*r,n+r,"L",n+i+2*r,n+o+r,"A",r,r,0,0,1,n+i+r,n+o+2*r,"L",n+r,n+o+2*r,"A",r,r,0,0,1,n,n+o+r,"L",n,n+r,"Z"],horizontal:["M",0,0,"L",n,-r,"L",n,-o/2,"A",r,r,0,0,1,n+r,-o/2-r,"L",n+i+r,-o/2-r,"A",r,r,0,0,1,n+i+2*r,-o/2,"L",n+i+2*r,o/2,"A",r,r,0,0,1,n+i+r,o/2+r,"L",n+r,o/2+r,"A",r,r,0,0,1,n,o/2,"L",n,r,"Z"],vertical:["M",0,0,"L",-r,n,"L",-i/2,n,"A",r,r,0,0,0,-i/2-r,n+r,"L",-i/2-r,n+o+r,"A",r,r,0,0,0,-i/2,n+o+2*r,"L",i/2,n+o+2*r,"A",r,r,0,0,0,i/2+r,n+o+r,"L",i/2+r,n+r,"A",r,r,0,0,0,i/2,n,"L",r,n,"Z"]}[t].join(" ")},t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(296),i=n(1093),o=n(1740),a=n(1741);t.default=class extends i.default{constructor(e){super(e),this.class=e.class,this.x=e.ex(),this.y=e.ey();let t=this.wrapAndMeasureCaption(e);this.radius=t.radius,this.captionLines=t.captionLines,this.captionLineHeight=t.captionLineHeight,this.propertiesBubble=new o.default(e,t.radius)}wrapAndMeasureCaption(e){var t=r.default.parsePixels(e.style("font-size")),n=0,i=[];if(e.displayCaption){var o=r.default.parsePixels(e.style("padding")),s=e.properties.style("font-size"),u=e.properties.style("font-family"),l=r.default.measureTextDimensions(e.displayCaption,s,u),c=Math.sqrt(l*t/Math.PI),d=2*c/t;function f(e){var n=t*(e-d)/2;return 2*Math.sqrt(c*c-n*n)}for(var h=e.displayCaption.split(" "),p=h.shift();h.length>0;)r.default.measureTextDimensions(p,s,u)>f(i.length)?(i.push(p),p=h.shift()):p+=" "+h.shift();i.push(p);for(var m=0;m<i.length;m++){var g=r.default.measureTextDimensions(i[m],s,u)/2,y=(i.length-1)/2,v=t*(m>y?m-y+.5:m-y-.5);n=o+Math.max(Math.sqrt(g*g+v*v),n)}}let b=e.style("min-width")?e.style("min-width"):"30px";var _=r.default.parsePixels(b)/2;_>n&&(n=_);var w=new a.default(e.model,n);return w.border=r.default.parsePixels(e.style("border-width")),w.margin=r.default.parsePixels(e.style("margin")),{radius:w,captionLines:i,captionLineHeight:t}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=class{constructor(e,t,n,r,i,o,a){this.startRadius=e,this.endRadius=t,this.endCentre=n,this.minOffset=r,this.arrowWidth=i,this.headWidth=o,this.headLength=a,this.radiusRatio=e/(t+a),this.homotheticCenter=-n*this.radiusRatio/(1-this.radiusRatio),t+a>e?(this.offsetAngle=r/e,this.startAttach={x:Math.cos(this.offsetAngle)*e,y:Math.sin(this.offsetAngle)*e},this.endAttach=this.intersectWithOtherCircle(this.startAttach,t+a,n,-1)):(this.offsetAngle=r/t,this.endAttach={x:n-Math.cos(this.offsetAngle)*(t+a),y:Math.sin(this.offsetAngle)*(t+a)},this.startAttach=this.intersectWithOtherCircle(this.endAttach,e,0,1)),this.g1=-this.startAttach.x/this.startAttach.y,this.c1=this.startAttach.y+this.square(this.startAttach.x)/this.startAttach.y,this.g2=-(this.endAttach.x-this.endCentre)/this.endAttach.y,this.c2=this.endAttach.y+(this.endAttach.x-this.endCentre)*this.endAttach.x/this.endAttach.y,this.cx=(this.c1-this.c2)/(this.g2-this.g1),this.cy=this.g1*this.cx+this.c1,this.arcRadius=Math.sqrt(this.square(this.cx-this.startAttach.x)+this.square(this.cy-this.startAttach.y)),this.shaftRadius=this.arrowWidth/2,this.headRadius=this.headWidth/2,this.outline=["M",this.startTangent(-this.shaftRadius),"L",this.startTangent(this.shaftRadius),"A",this.arcRadius-this.shaftRadius,this.arcRadius-this.shaftRadius,0,0,r>0?0:1,this.endTangent(-this.shaftRadius),"L",this.endTangent(-this.headRadius),"L",this.endNormal(a),"L",this.endTangent(this.headRadius),"L",this.endTangent(this.shaftRadius),"A",this.arcRadius+this.shaftRadius,this.arcRadius+this.shaftRadius,0,0,r<0?0:1,this.startTangent(-this.shaftRadius)].join(" "),this.apex={x:this.cx,y:this.cy>0?this.cy-this.arcRadius:this.cy+this.arcRadius}}square(e){return e*e}intersectWithOtherCircle(e,t,n,r){var i=e.y/(e.x-this.homotheticCenter),o=e.y-i*e.x,a=1+this.square(i),s=2*(i*o-n),u=this.square(o)+this.square(n)-this.square(t),l={x:(-s+r*Math.sqrt(this.square(s)-4*a*u))/(2*a)};return l.y=(l.x-this.homotheticCenter)*i,l}startTangent(e){var t=(e<0?-1:1)*Math.sqrt(this.square(e)/(1+this.square(this.g1))),n=this.g1*t;return[this.startAttach.x+t,this.startAttach.y+n].join(",")}endTangent(e){var t=(e<0?-1:1)*Math.sqrt(this.square(e)/(1+this.square(this.g2))),n=this.g2*t;return[this.endAttach.x+t,this.endAttach.y+n].join(",")}endNormal(e){var t=(e<0?-1:1)*Math.sqrt(this.square(e)/(1+this.square(1/this.g2))),n=t/this.g2;return[this.endAttach.x+t,this.endAttach.y-n].join(",")}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(296);class i{static nodeBox(e){var t=e.radius.outside();let n=e.model;return{x1:n.ex()-t,y1:n.ey()-t,x2:n.ex()+t,y2:n.ey()+t}}static boxNormalise(e){return{x1:e.width>0?e.x:e.x+e.width,y1:e.height>0?e.y:e.y+e.height,x2:e.width<0?e.x:e.x+e.width,y2:e.height<0?e.y:e.y+e.height}}static boxUnion(e){return e.length<1?{x1:0,y1:0,x2:0,y2:0}:e.reduce(function(e,t){return{x1:Math.min(e.x1,t.x1),y1:Math.min(e.y1,t.y1),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}})}static smallestContainingBox(e){function t(e){return e.propertiesBubble.boundingBox}var n=i.boxUnion(e.nodes.map(i.nodeBox).concat(e.nodes.filter(r.default.hasProperties).map(t).map(i.boxNormalise)).concat(e.relationships.filter(r.default.hasProperties).map(t).map(i.boxNormalise)));return{x:n.x1,y:n.y1,width:n.x2-n.x1,height:n.y2-n.y1}}static centeredOrScaledViewBox(e,t){var n=t.width/e.width,r=t.height/e.height,i=n<1&&r<1?1:n>r?n:r;return{x:(t.width-e.width*i)/2+t.x,y:(t.height-e.height*i)/2+t.y,width:e.width*i,height:e.height*i}}static effectiveBox(e,t){return e.width/t.width>e.height/t.height?{x:e.x,y:e.y-(e.width*t.height/t.width-e.height)/2,width:e.width,height:e.width*t.height/t.width}:{x:e.x-(e.height*t.width/t.height-e.width)/2,y:e.y,width:e.height*t.width/t.height,height:e.height}}static viewDimensions(e){var t=e.node();return{x:0,y:0,width:t.clientWidth,height:t.clientHeight}}static centerOrScaleDiagramToFitSvg(e,t){var n=i.centeredOrScaledViewBox(i.viewDimensions(t),i.smallestContainingBox(e));t.attr("viewBox",[n.x,n.y,n.width,n.height].join(" "))}static centerOrScaleDiagramToFitWindow(e,t){var n={x:0,y:0,width:window.innerWidth,height:window.innerHeight},r=i.centeredOrScaledViewBox(n,i.smallestContainingBox(e));t.attr("width",n.width).attr("height",n.height).attr("viewBox",[r.x,r.y,r.width,r.height].join(" "))}static centerOrScaleDiagramToFitSvgSmooth(e,t){var n=i.centeredOrScaledViewBox(i.viewDimensions(t),i.smallestContainingBox(e));t.transition().attr("viewBox",[n.x,n.y,n.width,n.height].join(" "))}static fitsInside(e,t){return e.x>=t.x&&e.y>=t.y&&e.x+e.width<=t.x+t.width&&e.y+e.height<=t.y+t.height}static growButDoNotShrink(e,t){var n=t.attr("viewBox");if(null===n);else{var r,o=n.split(" ").map(parseFloat),a={x:o[0],y:o[1],width:o[2],height:o[3]},s=i.smallestContainingBox(e);if(i.fitsInside(s,i.effectiveBox(a,i.viewDimensions(t))))r=a;else{var u=i.centeredOrScaledViewBox(i.viewDimensions(t),s);r={x:Math.min(a.x,u.x),y:Math.min(a.y,u.y),width:Math.max(a.x+a.width,u.x+u.width)-Math.min(a.x,u.x),height:Math.max(a.y+a.height,u.y+u.height)-Math.min(a.y,u.y)}}t.attr("viewBox",[r.x,r.y,r.width,r.height].join(" "))}}static sizeSvgToFitDiagram(e,t){var n=i.smallestContainingBox(e);t.attr("viewBox",[n.x,n.y,n.width,n.height].join(" ")).attr("width",n.width*e.graphModel.externalScale).attr("height",n.height*e.graphModel.externalScale)}}t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(397),i=n(297),o=n(1099),a=n(1102);t.default=class{constructor(e){this.nodes=new Map,this.relationships=new Map,this.highestNodeIndex=0,this.highestRelationshipIndex=0,this.parameters={radius:50,nodeStrokeWidth:8,nodeStartMargin:11,nodeEndMargin:11,speechBubbleMargin:20,speechBubblePadding:10,speechBubbleStrokeWidth:3,snapTolerance:20},this._internalScale=1,this._externalScale=1,e&&(this._id=e),this.stylePrototype={node:new r.default({"min-width":"30px","font-size":"14px","font-family":'"Helvetica Neue", Helvetica, Arial, sans-serif',padding:"5px","border-width":"1px","border-color":"rgba(0, 0, 0, 0.3)",margin:"5px","background-color":"#f7f7f9",border:"1px solid rgba(0, 0, 0, 0.3)"}),nodeProperties:new r.default({"font-size":"14px","font-family":'"Helvetica Neue", Helvetica, Arial, sans-serif',padding:"4px",margin:"12px","background-color":"white",border:"1px solid rgba(0, 0, 0, 0.5)","border-color":"rgba(0, 0, 0, 0.5)","border-width":"1px"}),relationship:new r.default({"font-size":"14px","font-family":'"Helvetica Neue", Helvetica, Arial, sans-serif',width:"2px","border-width":"3px",margin:"10px","background-color":"rgba(0, 0, 0, 0.3)",border:"none"}),relationshipProperties:new r.default({"font-size":"14px","font-family":'"Helvetica Neue", Helvetica, Arial, sans-serif',padding:"4px",margin:"12px","background-color":"white",border:"1px solid rgba(0, 0, 0, 0.5)","border-color":"rgba(0, 0, 0, 0.5)","border-width":"1px"})}}toString(){let e="Model:\n",t={highestNodeIndex:this.highestNodeIndex,highestRelationshipIndex:this.highestRelationshipIndex,nodeCount:this.nodes.size,relationshipCount:this.relationships.size,nodeStylePrototype:this.stylePrototype.node.style()};return e+=JSON.stringify(t)}summary(){return{highestNodeIndex:this.highestNodeIndex,highestRelationshipIndex:this.highestRelationshipIndex,nodeCount:this.nodes.size,relationshipCount:this.relationships.size,nodePropertiesStylePrototype:this.stylePrototype.nodeProperties.style(),relationshipPropertiesStylePrototype:this.stylePrototype.relationshipProperties.style()}}generateNodeIndex(){for(;this.nodes.get(`${this.highestNodeIndex}`);)this.highestNodeIndex++;return this.highestNodeIndex}createNode(e){var t=new o.default(this);return t.id=e||`${this.generateNodeIndex()}`,this.nodes.set(t.id,t),t}reassignNodeId(e,t){let n=null;return this.nodes.get(t)||(this.nodes.delete(e.id),e.id=t,this.nodes.set(e.id,e),n=e),n}deleteNode(e){this.relationships.forEach((t,n,r)=>{t.start!==e&&t.end!==e||this.relationships.delete(n)}),this.nodes.delete(e.id)}deleteRelationship(e){this.relationships.delete(e.id)}generateRelationshipIndex(){for(;this.relationships.get(`${this.highestRelationshipIndex}`);)this.highestRelationshipIndex++;return this.highestRelationshipIndex}createRelationship(e,t,n){var r=new a.default(this,e,t);return r.id=n||`${this.generateRelationshipIndex()}`,this.relationships.set(r.id,r),r}reassignRelationshipId(e,t){let n=null;return this.relationships.get(t)||(this.relationships.delete(e.id),e.id=t,this.relationships.set(e.id,e),n=e),n}nodeList(){return Array.from(this.nodes.values())}lookupNode(e){return this.nodes.get(`${e}`)}relationshipList(){return Array.from(this.relationships.values())}groupedRelationshipList(){var e={};return this.relationships.forEach((t,n,r)=>{var i=[t.start.id,t.end.id].sort(),o=e[i];o||(o=e[i]=[]),t.start.id<t.end.id?o.push(t):o.splice(0,0,t)}),i.values(e)}set id(e){this._id=e}get id(){return this._id}set internalScale(e){this._internalScale=e}get internalScale(){return this._internalScale}set externalScale(e){this._externalScale=e}get externalScale(){return this._externalScale}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1100),i=n(1101),o=n(397);t.default=class extends r.default{constructor(e){super(e),this.position={},this.radius=25,this._entityType="node",this._properties=new i.default(e.stylePrototype.nodeProperties),this._style=new o.default(e.stylePrototype.node)}set x(e){this.position.x=Number(e)}get x(){return this.position.x}set y(e){this.position.y=Number(e)}get y(){return this.position.y}ex(){return this.position.x*this.model.internalScale}ey(){return this.position.y*this.model.internalScale}distanceTo(e){var t=e.x-this.x,n=e.y-this.y;return Math.sqrt(t*t+n*n)*this.model.internalScale}snap(e,t,n){var r,i=e[t],o=Number.MAX_VALUE;for(var a in this.model.nodes)if(this.model.nodes.hasOwnProperty(a)){var s=this.model.nodes[a];if(s!=n){var u=0;"x"==t?u=Math.abs(s.x-i):"y"==t&&(u=Math.abs(s.y-i)),u<o&&(r=s,o=u)}}if(o<this.model.parameters.snapTolerance){if("x"==t)return r.x;if("y"==t)return r.y}else{if("x"==t)return e.x;if("y"==t)return e.y}}drag(e,t){this.prototypePosition||(this.prototypePosition={x:this.position.x,y:this.position.y}),this.prototypePosition.x+=e/this.model.internalScale,this.prototypePosition.y+=t/this.model.internalScale,this.position.x=this.snap(this.prototypePosition,"x",this),this.position.y=this.snap(this.prototypePosition,"y",this)}dragEnd(){this.prototypePosition=void 0}angleTo(e){var t=e.x-this.x,n=e.y-this.y;return 180*Math.atan2(n,t)/Math.PI}isLeftOf(e){return this.x<e.x}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(296);t.default=class{constructor(e){this.classes=[],this.model=e,this._label="",this._entityType=""}style(e,t){return this._style.style(e,t)}class(e){return 1==arguments.length?(this.classes=e.split(" ").filter(e=>e.length>0&&e!=this._entityType),this):[this._entityType].concat(this.classes)}set caption(e){this._label=e}get caption(){return this._label}set label(e){this._label=e}get label(){return this._label}get displayCaption(){return this.displayLabel}get displayLabel(){let e=this.properties.has("name");return e?`${this._label}: ${e}`:this._label}get properties(){return this.model.id&&this._properties.set(r.default.MODEL_ID_KEY,this.model.id),this._properties}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(296),i=n(397);t.default=class{constructor(e){this._propertiesMap=new Map,this._style=new i.default(e),this._primaryKey=null}style(e,t){return this._style.style(e,t)}get primaryKey(){return this._primaryKey}set primaryKey(e){this._primaryKey=e}list(e){let t;e&&(t=e.exclude);let n=[];return this._propertiesMap.forEach((e,r)=>{t&&-1!=t.indexOf(r)||n.push({key:r,value:e})}),n}listEditable(){return this.list({exclude:[r.default.MODEL_ID_KEY]})}toJSON(){let e={};return this.list().forEach(t=>{e[t.key]=t.value}),e}toString(){return JSON.stringify(this.list())}set(e,t){return this._propertiesMap.set(e,t),this}has(e){return this._propertiesMap.get(e)}clearAll(){this._propertiesMap=new Map}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1100),i=n(1101),o=n(397);t.default=class extends r.default{constructor(e,t,n){super(e),this._entityType="relationship",this.start=t,this.end=n,this._properties=new i.default(e.stylePrototype.relationshipProperties),this._style=new o.default(e.stylePrototype.relationship)}set relationshipType(e){this._relationshipType=e}get relationshipType(){return this._relationshipType}reverse(){var e=this.start;this.start=this.end,this.end=e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.DataTypes=class{}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Types={SAVE_SCHEMA:"com.kineviz.SAVE_SCHEMA",DELETE_SCHEMA:"com.kineviz.DELETE_SCHEMA"},t.Actions={saveSchema:(e,n,r)=>({type:t.Types.SAVE_SCHEMA,params:{schemaName:n,sourceType:e,mapping:r}})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={REFRSH_APP_STATE:"com.kineviz.REFRSH_APP_STATE",UPDATE_APP_STATE:"com.kineviz.UPDATE_APP_STATE",RESET_LAYOUT_DEGREE_FILTER:"com.kineviz.RESET_LAYOUT_DEGREE_FILTER",EXCUTE_COMMAND:"com.kineviz.EXCUTE_COMMAND",EXECUTE_COMMAND_AND_HIDE:"com.kineviz.EXECUTE_COMMAND_AND_HIDE",CLEAR_GRAPH:"com.kineviz.CLEAR_GRAPH",CLEAN_GRAPH:"com.kineviz.CLEAN_GRAPH",ERROR:"com.kineviz.ERROR",SET_CURRENT_NODE:"com.kineviz.SET_CURRENT_NODE",SET_CURRENT_MOVE_NODE:"com.kineviz.SET_CURRENT_MOVE_NODE",TIME_RANGE:"com.kineviz.TIME_RANGE",TIME_FILTER:"com.kineviz.TIME_FILTER",GRAPH_DATA_UPDATE:"com.kineviz.GRAPH_DATA_UPDATE",START_FLIGHT_ANIMATION:"com.kineviz.START_FLIGHT_ANIMATION",SHOW_TABLE_RESULT_INFO:"com.kineviz.SHOW_TABLE_RESULT_INFO"},i={refreshAppState:function(){return{type:r.REFRSH_APP_STATE}},updateAppState:function(e){return{type:r.UPDATE_APP_STATE,params:{app:e}}},startFlightAnimation:function(e){return{type:r.START_FLIGHT_ANIMATION,params:{flightDuringTime:e}}},cleanAllNodeState:function(){return{type:r.CLEAN_ALL_NODE_STATE}},setCurrentNodeId:function(e,t){return{type:r.SET_CURRENT_NODE,params:{nodeId:e,nodeNum:t}}},resetLayoutDegreeFilter:function(e){return{type:r.RESET_LAYOUT_DEGREE_FILTER,max:e}},excuteCommand:function(e,t){return{type:r.EXCUTE_COMMAND,params:{command:e,extra:t||{}}}},executeCommandAndHide:function(e){return{type:r.EXECUTE_COMMAND_AND_HIDE,params:{hideCommand:e}}},showTableResultInfo:function(e){return{type:r.SHOW_TABLE_RESULT_INFO,params:{tableResult:e}}},clearGraph:function(){return{type:r.CLEAR_GRAPH,params:{clearGraph:1}}},cleanGraph:function(){return{type:r.CLEAN_GRAPH,params:{cleanGraph:1}}},setTimeRange:function(e){return{type:r.TIME_RANGE,params:{timeRange:e}}},timeFilter:function(e){return{type:r.TIME_FILTER,params:{timeFilter:e}}},graphDataUpdate:function(e){return{type:r.GRAPH_DATA_UPDATE,params:{nodeNum:e}}},error:function(e){return{type:r.ERROR,params:{error:e}}}};t.default=i,t.Actions=i,t.Types=r},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(1),o=d(i),a=d(n(11)),s=d(n(69));n(388),n(1108),n(69),n(533),n(1109),n(547);var u=d(n(47)),l=d(n(1782)),c=d(n(1783));function d(e){return e&&e.__esModule?e:{default:e}}window._codeWindow=l.default,window._chartWindow=c.default;var f=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={dropdownVisible:!1,innerRelationship:e.reduxState.settings.loadInnerRelationship,sampleQuerys:[],customQuerys:[]},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),r(t,[{key:"componentDidMount",value:function(){this.initCommandTheme(),this.getsampleQuerys()}},{key:"componentWillUnmount",value:function(){this.editor&&this.editor.toTextArea()}},{key:"handleExcute",value:function(){var e=this.props.actions,t=this.editor.getValue();if(""==String(t).trim())return console.warn("Ignore empty query");e.excuteCommand(t)}},{key:"getsampleQuerys",value:function(){var e=this;u.default.getSampleQuery().then(function(t){var n=[],r=[];"allegrograph"!=window.globalVariable.graphDatabaseType&&(n=(t.sampleQuerys||[]).concat(["MATCH (n)-[r]-(m) RETURN * LIMIT 100"]),r=t.customQuerys||[]),e.setState({sampleQuerys:n,customQuerys:r})})}},{key:"handleSampleCode",value:function(e){this.selectQuery=e,this.editor.setValue(e),this.editor.focus(),this.editor.setCursor(this.editor.lineCount(),0),this.handleDropDwonVisible()}},{key:"handleDropDwonVisible",value:function(){var e=!this.state.dropdownVisible;this.setState({dropdownVisible:e})}},{key:"handleCollection",value:function(){var e=this.editor.getValue(),t=this.state.customQuerys;e&&!t.includes(e)&&(t.push(e),this.setState({customQuerys:t},function(){u.default.addQuery(e)}))}},{key:"onDeleteQuery",value:function(e){var t=this.state.customQuerys,n=t.indexOf(e);n>-1&&t.splice(n,1),this.setState({customQuerys:t},function(){u.default.deleteQuery(e)})}},{key:"initCommandTheme",value:function(){var e=this,t=this.refs.textArea,n={theme:"mbo",lineWrapping:!0};n="neo4j"==window.globalVariable.graphDatabaseType?Object.assign(n,{mode:"application/x-cypher-query"}):Object.assign(n,{mode:"application/sparql-query",matchBrackets:!0}),this.editor=s.default.fromTextArea(t,n),this.editor.setOption("extraKeys",{"Ctrl-Enter":function(t){console.log("Ctrl+Enter to run the query"),e.handleExcute()},"Cmd-Enter":function(t){console.log("Command+Enter to run the query"),e.handleExcute()}})}},{key:"onCheckBoxChange",value:function(e){this.props.actions.loadInnerRelationship(e),this.setState({innerRelationship:e})}},{key:"renderTableResult",value:function(){var e=this.props.reduxState.node.tableResult;return e&&0!=e.length?o.default.createElement("div",{className:"result-table"},o.default.createElement("div",{className:"  detail-table"},o.default.createElement("table",{className:"table table-hover kv-table"},o.default.createElement("tbody",null,o.default.createElement("tr",{key:"-1"},Object.keys(e[0]).map(function(e,t){return o.default.createElement("td",{key:t+"-"+e},e)})),e.map(function(e,t){return o.default.createElement("tr",{key:t},a.default.map(e,function(e,t){return o.default.createElement("td",{key:t+"-"+e},e)}))}))))):null}},{key:"render",value:function(){var e=this,t=this.props,n=(t.actions,t.reduxState,this.state.customQuerys);return o.default.createElement("div",{className:"query-group"},o.default.createElement("span",{className:"title"},"Cypher Query"),o.default.createElement("div",{className:"query-command-group kv-scrollbar"},o.default.createElement("div",{className:"tour-query-top top"},o.default.createElement("textarea",{list:"history",ref:"textArea"}),o.default.createElement("span",{onClick:function(){return e.handleDropDwonVisible()}},o.default.createElement("i",{className:"icon fa fa-chevron-circle-down tour-drop-down"})),o.default.createElement("span",{onClick:function(){return e.handleCollection()}},o.default.createElement("i",{className:"icon fa fa-plus-circle tour-plus"})),o.default.createElement("span",{onClick:function(){return e.handleExcute()}},o.default.createElement("i",{className:"icon fa fa-play-circle tour-play"}))),o.default.createElement("div",{className:"tour-inner-relationship"},o.default.createElement("span",null,"Load Inner Relationship "),o.default.createElement("input",{type:"checkbox",checked:this.state.innerRelationship,onChange:function(t){return e.onCheckBoxChange(t.target.checked)}})),o.default.createElement("div",{className:"dropdown tour-dropdown-items",style:{visibility:this.state.dropdownVisible?"visible":"hidden"}},o.default.createElement("ul",null,this.state.sampleQuerys.map(function(t,n){return o.default.createElement("li",{key:n+"-1"},o.default.createElement("div",null,o.default.createElement("span",{className:"tour-content-click content",onClick:function(){return e.handleSampleCode(t)}},t)))}).concat(n.map(function(t,n){return o.default.createElement("li",{key:n+"-2"},o.default.createElement("div",null,o.default.createElement("span",{className:"content",onClick:function(){return e.handleSampleCode(t)}},t),o.default.createElement("span",{className:"delete-button fa fa-times",onClick:function(){return e.onDeleteQuery(t)}})))})))),this.renderTableResult()))}}]),t}();t.default=f},function(e,t,n){var r=n(1781);"string"==typeof r&&(r=[[e.i,r,""]]);n(251)(r,{});r.locals&&(e.exports=r.locals)},function(e,t,n){(function(e){"use strict";e.defineMode("sparql",function(e){var t,n=e.indentUnit;function r(e){return new RegExp("^(?:"+e.join("|")+")$","i")}var i=r(["str","lang","langmatches","datatype","bound","sameterm","isiri","isuri","iri","uri","bnode","count","sum","min","max","avg","sample","group_concat","rand","abs","ceil","floor","round","concat","substr","strlen","replace","ucase","lcase","encode_for_uri","contains","strstarts","strends","strbefore","strafter","year","month","day","hours","minutes","seconds","timezone","tz","now","uuid","struuid","md5","sha1","sha256","sha384","sha512","coalesce","if","strlang","strdt","isnumeric","regex","exists","isblank","isliteral","a","bind"]),o=r(["base","prefix","select","distinct","reduced","construct","describe","ask","from","named","where","order","limit","offset","filter","optional","graph","by","asc","desc","as","having","undef","values","group","minus","in","not","service","silent","using","insert","delete","union","true","false","with","data","copy","to","move","add","create","drop","clear","load"]),a=/[*+\-<>=&|\^\/!\?]/;function s(e,n){var r,u=e.next();if(t=null,"$"==u||"?"==u)return"?"==u&&e.match(/\s/,!1)?"operator":(e.match(/^[\w\d]*/),"variable-2");if("<"!=u||e.match(/^[\s\u00a0=]/,!1)){if('"'==u||"'"==u)return n.tokenize=(r=u,function(e,t){for(var n,i=!1;null!=(n=e.next());){if(n==r&&!i){t.tokenize=s;break}i=!i&&"\\"==n}return"string"}),n.tokenize(e,n);if(/[{}\(\),\.;\[\]]/.test(u))return t=u,"bracket";if("#"==u)return e.skipToEnd(),"comment";if(a.test(u))return e.eatWhile(a),"operator";if(":"==u)return e.eatWhile(/[\w\d\._\-]/),"atom";if("@"==u)return e.eatWhile(/[a-z\d\-]/i),"meta";if(e.eatWhile(/[_\w\d]/),e.eat(":"))return e.eatWhile(/[\w\d_\-]/),"atom";var l=e.current();return i.test(l)?"builtin":o.test(l)?"keyword":"variable"}return e.match(/^[^\s\u00a0>]*>?/),"atom"}function u(e,t,n){e.context={prev:e.context,indent:e.indent,col:n,type:t}}function l(e){e.indent=e.context.indent,e.context=e.context.prev}return{startState:function(){return{tokenize:s,context:null,indent:0,col:0}},token:function(e,n){if(e.sol()&&(n.context&&null==n.context.align&&(n.context.align=!1),n.indent=e.indentation()),e.eatSpace())return null;var r=n.tokenize(e,n);if("comment"!=r&&n.context&&null==n.context.align&&"pattern"!=n.context.type&&(n.context.align=!0),"("==t)u(n,")",e.column());else if("["==t)u(n,"]",e.column());else if("{"==t)u(n,"}",e.column());else if(/[\]\}\)]/.test(t)){for(;n.context&&"pattern"==n.context.type;)l(n);n.context&&t==n.context.type&&(l(n),"}"==t&&n.context&&"pattern"==n.context.type&&l(n))}else"."==t&&n.context&&"pattern"==n.context.type?l(n):/atom|string|variable/.test(r)&&n.context&&(/[\}\]]/.test(n.context.type)?u(n,"pattern",e.column()):"pattern"!=n.context.type||n.context.align||(n.context.align=!0,n.context.col=e.column()));return r},indent:function(e,t){var r=t&&t.charAt(0),i=e.context;if(/[\]\}]/.test(r))for(;i&&"pattern"==i.type;)i=i.prev;var o=i&&r==i.type;return i?"pattern"==i.type?i.col:i.align?i.col+(o?0:1):i.indent+(o?0:n):0},lineComment:"#"}}),e.defineMIME("application/sparql-query","sparql")})(n(69))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1),i=n(1),o=n(1787),a=n(327);t.default=class extends i.Component{constructor(e){super(e),this.state={title:this.props.defaultValue?this.props.defaultValue:"",listOpen:!1,titleExist:!!this.props.defaultValue,list:this.props.list||[]}}componentWillReceiveProps(e){this.props!=e&&this.setState({list:e.list})}selectItem(e,t){this.setState({listOpen:!1,titleExist:!0,title:t},()=>{this.props.onSelectItem&&this.props.onSelectItem(e,t)})}toggleList(){this.setState(e=>({listOpen:!e.listOpen}))}onTitleChange(e){let t=this.isTitleExist(e),{list:n}=this.state;this.setState({title:e,listOpen:n.length>0&&!0,titleExist:t}),this.props.onTextChange&&this.props.onTextChange(e)}isTitleExist(e){let{list:t}=this.state;return!!t.find(t=>t==e)}onSaveTitle(e){if(!e)return;let{list:t}=this.state;this.setState({list:t,titleExist:!0,title:e,listOpen:!0},()=>{this.props.onAddItem&&this.props.onAddItem(e)})}onDeleteItem(e,t){let{list:n}=this.state;n.splice(e,1),this.setState({list:n}),this.props.onDeleteItem&&this.props.onDeleteItem(e,t)}render(){const{listOpen:e,title:t,list:n,titleExist:i}=this.state;return r.createElement(o.StyledWrapper,null,r.createElement(o.StyledHeader,null,r.createElement(o.StyledHeaderTitle,{onChange:e=>this.onTitleChange(e.target.value),value:this.state.title}),r.createElement(a.default,{if:!e},r.createElement(o.StyledAngleDown,{onClick:this.toggleList.bind(this),className:"fa fa-chevron-down"})),r.createElement(a.default,{if:e},r.createElement(o.StyledAngleDown,{onClick:this.toggleList.bind(this),className:"fa fa-chevron-up"}))),r.createElement(a.default,{if:e},r.createElement(o.StyledList,null,n.map((e,t)=>r.createElement(o.StyledListItem,{key:t},r.createElement(o.StyledSpan,{onClick:()=>this.selectItem(t,e)},e),r.createElement(a.default,{if:this.props.showDelete},r.createElement(o.StyledDeleteIcon,{className:"fa fa-times",onClick:()=>this.onDeleteItem(t,e)})))))))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Types={SAVE_DBINFO:"com.kineviz.SAVE_DBINFO",DELETE_SCHEMA:"com.kineviz.DELETE_SCHEMA"},t.Actions={saveDBInfo:e=>{let{host:n,port:r,user:i,password:o,database:a}=e;return{type:t.Types.SAVE_DBINFO,params:{host:n,port:r,user:i,password:o,database:a}}},deleteSchema:(e,n)=>({type:t.Types.DELETE_SCHEMA,params:{schemaName:n,sourceType:e}})}},function(e,t,n){"use strict";var r=n(40).Buffer,i=n(431).Transform;function o(e){i.call(this),this._block=r.allocUnsafe(e),this._blockSize=e,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}n(38)(o,i),o.prototype._transform=function(e,t,n){var r=null;try{this.update(e,t)}catch(e){r=e}n(r)},o.prototype._flush=function(e){var t=null;try{this.push(this.digest())}catch(e){t=e}e(t)},o.prototype.update=function(e,t){if(function(e,t){if(!r.isBuffer(e)&&"string"!=typeof e)throw new TypeError(t+" must be a string or a buffer")}(e,"Data"),this._finalized)throw new Error("Digest already called");r.isBuffer(e)||(e=r.from(e,t));for(var n=this._block,i=0;this._blockOffset+e.length-i>=this._blockSize;){for(var o=this._blockOffset;o<this._blockSize;)n[o++]=e[i++];this._update(),this._blockOffset=0}for(;i<e.length;)n[this._blockOffset++]=e[i++];for(var a=0,s=8*e.length;s>0;++a)this._length[a]+=s,(s=this._length[a]/4294967296|0)>0&&(this._length[a]-=4294967296*s);return this},o.prototype._update=function(){throw new Error("_update is not implemented")},o.prototype.digest=function(e){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var t=this._digest();void 0!==e&&(t=t.toString(e)),this._block.fill(0),this._blockOffset=0;for(var n=0;n<4;++n)this._length[n]=0;return t},o.prototype._digest=function(){throw new Error("_digest is not implemented")},e.exports=o},function(e,t,n){"use strict";(function(t,r){var i=n(550);e.exports=b;var o,a=n(1106);b.ReadableState=v;n(549).EventEmitter;var s=function(e,t){return e.listeners(t).length},u=n(1114),l=n(40).Buffer,c=t.Uint8Array||function(){};var d=n(432);d.inherits=n(38);var f=n(1796),h=void 0;h=f&&f.debuglog?f.debuglog("stream"):function(){};var p,m=n(1797),g=n(1115);d.inherits(b,u);var y=["error","close","destroy","pause","resume"];function v(e,t){o=o||n(347),e=e||{};var r=t instanceof o;this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var i=e.highWaterMark,a=e.readableHighWaterMark,s=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:r&&(a||0===a)?a:s,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new m,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(p||(p=n(551).StringDecoder),this.decoder=new p(e.encoding),this.encoding=e.encoding)}function b(e){if(o=o||n(347),!(this instanceof b))return new b(e);this._readableState=new v(e,this),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),u.call(this)}function _(e,t,n,r,i){var o,a=e._readableState;null===t?(a.reading=!1,function(e,t){if(t.ended)return;if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,x(e)}(e,a)):(i||(o=function(e,t){var n;r=t,l.isBuffer(r)||r instanceof c||"string"==typeof t||void 0===t||e.objectMode||(n=new TypeError("Invalid non-string/buffer chunk"));var r;return n}(a,t)),o?e.emit("error",o):a.objectMode||t&&t.length>0?("string"==typeof t||a.objectMode||Object.getPrototypeOf(t)===l.prototype||(t=function(e){return l.from(e)}(t)),r?a.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):w(e,a,t,!0):a.ended?e.emit("error",new Error("stream.push() after EOF")):(a.reading=!1,a.decoder&&!n?(t=a.decoder.write(t),a.objectMode||0!==t.length?w(e,a,t,!1):M(e,a)):w(e,a,t,!1))):r||(a.reading=!1));return function(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}(a)}function w(e,t,n,r){t.flowing&&0===t.length&&!t.sync?(e.emit("data",n),e.read(0)):(t.length+=t.objectMode?1:n.length,r?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&x(e)),M(e,t)}Object.defineProperty(b.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),b.prototype.destroy=g.destroy,b.prototype._undestroy=g.undestroy,b.prototype._destroy=function(e,t){this.push(null),t(e)},b.prototype.push=function(e,t){var n,r=this._readableState;return r.objectMode?n=!0:"string"==typeof e&&((t=t||r.defaultEncoding)!==r.encoding&&(e=l.from(e,t),t=""),n=!0),_(this,e,t,!1,n)},b.prototype.unshift=function(e){return _(this,e,null,!0,!1)},b.prototype.isPaused=function(){return!1===this._readableState.flowing},b.prototype.setEncoding=function(e){return p||(p=n(551).StringDecoder),this._readableState.decoder=new p(e),this._readableState.encoding=e,this};var k=8388608;function E(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=k?e=k:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function x(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(h("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?i.nextTick(S,e):S(e))}function S(e){h("emit readable"),e.emit("readable"),O(e)}function M(e,t){t.readingMore||(t.readingMore=!0,i.nextTick(T,e,t))}function T(e,t){for(var n=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(h("maybeReadMore read 0"),e.read(0),n!==t.length);)n=t.length;t.readingMore=!1}function C(e){h("readable nexttick read 0"),e.read(0)}function A(e,t){t.reading||(h("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),O(e),t.flowing&&!t.reading&&e.read(0)}function O(e){var t=e._readableState;for(h("flow",t.flowing);t.flowing&&null!==e.read(););}function N(e,t){return 0===t.length?null:(t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):n=function(e,t,n){var r;e<t.head.data.length?(r=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):r=e===t.head.data.length?t.shift():n?function(e,t){var n=t.head,r=1,i=n.data;e-=i.length;for(;n=n.next;){var o=n.data,a=e>o.length?o.length:e;if(a===o.length?i+=o:i+=o.slice(0,e),0===(e-=a)){a===o.length?(++r,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=o.slice(a));break}++r}return t.length-=r,i}(e,t):function(e,t){var n=l.allocUnsafe(e),r=t.head,i=1;r.data.copy(n),e-=r.data.length;for(;r=r.next;){var o=r.data,a=e>o.length?o.length:e;if(o.copy(n,n.length-e,0,a),0===(e-=a)){a===o.length?(++i,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=o.slice(a));break}++i}return t.length-=i,n}(e,t);return r}(e,t.buffer,t.decoder),n);var n}function L(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,i.nextTick(j,t,e))}function j(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function P(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}b.prototype.read=function(e){h("read",e),e=parseInt(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return h("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?L(this):x(this),null;if(0===(e=E(e,t))&&t.ended)return 0===t.length&&L(this),null;var r,i=t.needReadable;return h("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&h("length less than watermark",i=!0),t.ended||t.reading?h("reading or ended",i=!1):i&&(h("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=E(n,t))),null===(r=e>0?N(e,t):null)?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&L(this)),null!==r&&this.emit("data",r),r},b.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},b.prototype.pipe=function(e,t){var n=this,o=this._readableState;switch(o.pipesCount){case 0:o.pipes=e;break;case 1:o.pipes=[o.pipes,e];break;default:o.pipes.push(e)}o.pipesCount+=1,h("pipe count=%d opts=%j",o.pipesCount,t);var u=(!t||!1!==t.end)&&e!==r.stdout&&e!==r.stderr?c:b;function l(t,r){h("onunpipe"),t===n&&r&&!1===r.hasUnpiped&&(r.hasUnpiped=!0,h("cleanup"),e.removeListener("close",y),e.removeListener("finish",v),e.removeListener("drain",d),e.removeListener("error",g),e.removeListener("unpipe",l),n.removeListener("end",c),n.removeListener("end",b),n.removeListener("data",m),f=!0,!o.awaitDrain||e._writableState&&!e._writableState.needDrain||d())}function c(){h("onend"),e.end()}o.endEmitted?i.nextTick(u):n.once("end",u),e.on("unpipe",l);var d=function(e){return function(){var t=e._readableState;h("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&s(e,"data")&&(t.flowing=!0,O(e))}}(n);e.on("drain",d);var f=!1;var p=!1;function m(t){h("ondata"),p=!1,!1!==e.write(t)||p||((1===o.pipesCount&&o.pipes===e||o.pipesCount>1&&-1!==P(o.pipes,e))&&!f&&(h("false write response, pause",n._readableState.awaitDrain),n._readableState.awaitDrain++,p=!0),n.pause())}function g(t){h("onerror",t),b(),e.removeListener("error",g),0===s(e,"error")&&e.emit("error",t)}function y(){e.removeListener("finish",v),b()}function v(){h("onfinish"),e.removeListener("close",y),b()}function b(){h("unpipe"),n.unpipe(e)}return n.on("data",m),function(e,t,n){if("function"==typeof e.prependListener)return e.prependListener(t,n);e._events&&e._events[t]?a(e._events[t])?e._events[t].unshift(n):e._events[t]=[n,e._events[t]]:e.on(t,n)}(e,"error",g),e.once("close",y),e.once("finish",v),e.emit("pipe",n),o.flowing||(h("pipe resume"),n.resume()),e},b.prototype.unpipe=function(e){var t=this._readableState,n={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,n),this);if(!e){var r=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)r[o].emit("unpipe",this,n);return this}var a=P(t.pipes,e);return-1===a?this:(t.pipes.splice(a,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,n),this)},b.prototype.on=function(e,t){var n=u.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var r=this._readableState;r.endEmitted||r.readableListening||(r.readableListening=r.needReadable=!0,r.emittedReadable=!1,r.reading?r.length&&x(this):i.nextTick(C,this))}return n},b.prototype.addListener=b.prototype.on,b.prototype.resume=function(){var e=this._readableState;return e.flowing||(h("resume"),e.flowing=!0,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,i.nextTick(A,e,t))}(this,e)),this},b.prototype.pause=function(){return h("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(h("pause"),this._readableState.flowing=!1,this.emit("pause")),this},b.prototype.wrap=function(e){var t=this,n=this._readableState,r=!1;for(var i in e.on("end",function(){if(h("wrapped end"),n.decoder&&!n.ended){var e=n.decoder.end();e&&e.length&&t.push(e)}t.push(null)}),e.on("data",function(i){(h("wrapped data"),n.decoder&&(i=n.decoder.write(i)),!n.objectMode||null!==i&&void 0!==i)&&((n.objectMode||i&&i.length)&&(t.push(i)||(r=!0,e.pause())))}),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var o=0;o<y.length;o++)e.on(y[o],this.emit.bind(this,y[o]));return this._read=function(t){h("wrapped _read",t),r&&(r=!1,e.resume())},this},Object.defineProperty(b.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),b._fromList=N}).call(t,n(22),n(59))},function(e,t,n){e.exports=n(549).EventEmitter},function(e,t,n){"use strict";var r=n(550);function i(e,t){e.emit("error",t)}e.exports={destroy:function(e,t){var n=this,o=this._readableState&&this._readableState.destroyed,a=this._writableState&&this._writableState.destroyed;return o||a?(t?t(e):!e||this._writableState&&this._writableState.errorEmitted||r.nextTick(i,this,e),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(e){!t&&e?(r.nextTick(i,n,e),n._writableState&&(n._writableState.errorEmitted=!0)):t&&t(e)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},function(e,t,n){"use strict";e.exports=o;var r=n(347),i=n(432);function o(e){if(!(this instanceof o))return new o(e);r.call(this,e),this._transformState={afterTransform:function(e,t){var n=this._transformState;n.transforming=!1;var r=n.writecb;if(!r)return this.emit("error",new Error("write callback called multiple times"));n.writechunk=null,n.writecb=null,null!=t&&this.push(t),r(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",a)}function a(){var e=this;"function"==typeof this._flush?this._flush(function(t,n){s(e,t,n)}):s(this,null,null)}function s(e,t,n){if(t)return e.emit("error",t);if(null!=n&&e.push(n),e._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(e._transformState.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}i.inherits=n(38),i.inherits(o,r),o.prototype.push=function(e,t){return this._transformState.needTransform=!1,r.prototype.push.call(this,e,t)},o.prototype._transform=function(e,t,n){throw new Error("_transform() is not implemented")},o.prototype._write=function(e,t,n){var r=this._transformState;if(r.writecb=n,r.writechunk=e,r.writeencoding=t,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},o.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},o.prototype._destroy=function(e,t){var n=this;r.prototype._destroy.call(this,e,function(e){t(e),n.emit("close")})}},function(e,t,n){var r=n(38),i=n(400),o=n(40).Buffer,a=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],s=new Array(64);function u(){this.init(),this._w=s,i.call(this,64,56)}function l(e,t,n){return n^e&(t^n)}function c(e,t,n){return e&t|n&(e|t)}function d(e){return(e>>>2|e<<30)^(e>>>13|e<<19)^(e>>>22|e<<10)}function f(e){return(e>>>6|e<<26)^(e>>>11|e<<21)^(e>>>25|e<<7)}function h(e){return(e>>>7|e<<25)^(e>>>18|e<<14)^e>>>3}r(u,i),u.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},u.prototype._update=function(e){for(var t,n=this._w,r=0|this._a,i=0|this._b,o=0|this._c,s=0|this._d,u=0|this._e,p=0|this._f,m=0|this._g,g=0|this._h,y=0;y<16;++y)n[y]=e.readInt32BE(4*y);for(;y<64;++y)n[y]=0|(((t=n[y-2])>>>17|t<<15)^(t>>>19|t<<13)^t>>>10)+n[y-7]+h(n[y-15])+n[y-16];for(var v=0;v<64;++v){var b=g+f(u)+l(u,p,m)+a[v]+n[v]|0,_=d(r)+c(r,i,o)|0;g=m,m=p,p=u,u=s+b|0,s=o,o=i,i=r,r=b+_|0}this._a=r+this._a|0,this._b=i+this._b|0,this._c=o+this._c|0,this._d=s+this._d|0,this._e=u+this._e|0,this._f=p+this._f|0,this._g=m+this._g|0,this._h=g+this._h|0},u.prototype._hash=function(){var e=o.allocUnsafe(32);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e.writeInt32BE(this._h,28),e},e.exports=u},function(e,t,n){var r=n(38),i=n(400),o=n(40).Buffer,a=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],s=new Array(160);function u(){this.init(),this._w=s,i.call(this,128,112)}function l(e,t,n){return n^e&(t^n)}function c(e,t,n){return e&t|n&(e|t)}function d(e,t){return(e>>>28|t<<4)^(t>>>2|e<<30)^(t>>>7|e<<25)}function f(e,t){return(e>>>14|t<<18)^(e>>>18|t<<14)^(t>>>9|e<<23)}function h(e,t){return(e>>>1|t<<31)^(e>>>8|t<<24)^e>>>7}function p(e,t){return(e>>>1|t<<31)^(e>>>8|t<<24)^(e>>>7|t<<25)}function m(e,t){return(e>>>19|t<<13)^(t>>>29|e<<3)^e>>>6}function g(e,t){return(e>>>19|t<<13)^(t>>>29|e<<3)^(e>>>6|t<<26)}function y(e,t){return e>>>0<t>>>0?1:0}r(u,i),u.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},u.prototype._update=function(e){for(var t=this._w,n=0|this._ah,r=0|this._bh,i=0|this._ch,o=0|this._dh,s=0|this._eh,u=0|this._fh,v=0|this._gh,b=0|this._hh,_=0|this._al,w=0|this._bl,k=0|this._cl,E=0|this._dl,x=0|this._el,S=0|this._fl,M=0|this._gl,T=0|this._hl,C=0;C<32;C+=2)t[C]=e.readInt32BE(4*C),t[C+1]=e.readInt32BE(4*C+4);for(;C<160;C+=2){var A=t[C-30],O=t[C-30+1],N=h(A,O),L=p(O,A),j=m(A=t[C-4],O=t[C-4+1]),P=g(O,A),D=t[C-14],I=t[C-14+1],R=t[C-32],F=t[C-32+1],Y=L+I|0,B=N+D+y(Y,L)|0;B=(B=B+j+y(Y=Y+P|0,P)|0)+R+y(Y=Y+F|0,F)|0,t[C]=B,t[C+1]=Y}for(var H=0;H<160;H+=2){B=t[H],Y=t[H+1];var z=c(n,r,i),W=c(_,w,k),U=d(n,_),V=d(_,n),G=f(s,x),q=f(x,s),K=a[H],$=a[H+1],X=l(s,u,v),J=l(x,S,M),Q=T+q|0,Z=b+G+y(Q,T)|0;Z=(Z=(Z=Z+X+y(Q=Q+J|0,J)|0)+K+y(Q=Q+$|0,$)|0)+B+y(Q=Q+Y|0,Y)|0;var ee=V+W|0,te=U+z+y(ee,V)|0;b=v,T=M,v=u,M=S,u=s,S=x,s=o+Z+y(x=E+Q|0,E)|0,o=i,E=k,i=r,k=w,r=n,w=_,n=Z+te+y(_=Q+ee|0,Q)|0}this._al=this._al+_|0,this._bl=this._bl+w|0,this._cl=this._cl+k|0,this._dl=this._dl+E|0,this._el=this._el+x|0,this._fl=this._fl+S|0,this._gl=this._gl+M|0,this._hl=this._hl+T|0,this._ah=this._ah+n+y(this._al,_)|0,this._bh=this._bh+r+y(this._bl,w)|0,this._ch=this._ch+i+y(this._cl,k)|0,this._dh=this._dh+o+y(this._dl,E)|0,this._eh=this._eh+s+y(this._el,x)|0,this._fh=this._fh+u+y(this._fl,S)|0,this._gh=this._gh+v+y(this._gl,M)|0,this._hh=this._hh+b+y(this._hl,T)|0},u.prototype._hash=function(){var e=o.allocUnsafe(64);function t(t,n,r){e.writeInt32BE(t,r),e.writeInt32BE(n,r+4)}return t(this._ah,this._al,0),t(this._bh,this._bl,8),t(this._ch,this._cl,16),t(this._dh,this._dl,24),t(this._eh,this._el,32),t(this._fh,this._fl,40),t(this._gh,this._gl,48),t(this._hh,this._hl,56),e},e.exports=u},function(e,t,n){"use strict";var r=n(38),i=n(1809),o=n(328),a=n(40).Buffer,s=n(1120),u=n(645),l=n(646),c=a.alloc(128);function d(e,t){o.call(this,"digest"),"string"==typeof t&&(t=a.from(t));var n="sha512"===e||"sha384"===e?128:64;(this._alg=e,this._key=t,t.length>n)?t=("rmd160"===e?new u:l(e)).update(t).digest():t.length<n&&(t=a.concat([t,c],n));for(var r=this._ipad=a.allocUnsafe(n),i=this._opad=a.allocUnsafe(n),s=0;s<n;s++)r[s]=54^t[s],i[s]=92^t[s];this._hash="rmd160"===e?new u:l(e),this._hash.update(r)}r(d,o),d.prototype._update=function(e){this._hash.update(e)},d.prototype._final=function(){var e=this._hash.digest();return("rmd160"===this._alg?new u:l(this._alg)).update(this._opad).update(e).digest()},e.exports=function(e,t){return"rmd160"===(e=e.toLowerCase())||"ripemd160"===e?new d("rmd160",t):"md5"===e?new i(s,t):new d(e,t)}},function(e,t,n){var r=n(642);e.exports=function(e){return(new r).update(e).digest()}},function(e,t){e.exports={sha224WithRSAEncryption:{sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption:{sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption:{sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption:{sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256:{sign:"ecdsa",hash:"sha256",id:""},sha224:{sign:"ecdsa",hash:"sha224",id:""},sha384:{sign:"ecdsa",hash:"sha384",id:""},sha512:{sign:"ecdsa",hash:"sha512",id:""},"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA:{sign:"dsa",hash:"sha1",id:""},"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA:{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption:{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}}},function(e,t,n){t.pbkdf2=n(1811),t.pbkdf2Sync=n(1125)},function(e,t,n){(function(t){var n=Math.pow(2,30)-1;function r(e,n){if("string"!=typeof e&&!t.isBuffer(e))throw new TypeError(n+" must be a buffer or string")}e.exports=function(e,t,i,o){if(r(e,"Password"),r(t,"Salt"),"number"!=typeof i)throw new TypeError("Iterations not a number");if(i<0)throw new TypeError("Bad iterations");if("number"!=typeof o)throw new TypeError("Key length not a number");if(o<0||o>n||o!=o)throw new TypeError("Bad key length")}}).call(t,n(71).Buffer)},function(e,t,n){(function(t){var n;t.browser?n="utf-8":n=parseInt(t.version.split(".")[0].slice(1),10)>=6?"utf-8":"binary";e.exports=n}).call(t,n(59))},function(e,t,n){var r=n(1120),i=n(645),o=n(646),a=n(1123),s=n(1124),u=n(40).Buffer,l=u.alloc(128),c={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function d(e,t,n){var a=function(e){return"rmd160"===e||"ripemd160"===e?function(e){return(new i).update(e).digest()}:"md5"===e?r:function(t){return o(e).update(t).digest()}}(e),s="sha512"===e||"sha384"===e?128:64;t.length>s?t=a(t):t.length<s&&(t=u.concat([t,l],s));for(var d=u.allocUnsafe(s+c[e]),f=u.allocUnsafe(s+c[e]),h=0;h<s;h++)d[h]=54^t[h],f[h]=92^t[h];var p=u.allocUnsafe(s+n+4);d.copy(p,0,0,s),this.ipad1=p,this.ipad2=d,this.opad=f,this.alg=e,this.blocksize=s,this.hash=a,this.size=c[e]}d.prototype.run=function(e,t){return e.copy(t,this.blocksize),this.hash(t).copy(this.opad,this.blocksize),this.hash(this.opad)},e.exports=function(e,t,n,r,i){a(e,t,n,r),u.isBuffer(e)||(e=u.from(e,s)),u.isBuffer(t)||(t=u.from(t,s));var o=new d(i=i||"sha1",e,t.length),l=u.allocUnsafe(r),f=u.allocUnsafe(t.length+4);t.copy(f,0,0,t.length);for(var h=0,p=c[i],m=Math.ceil(r/p),g=1;g<=m;g++){f.writeUInt32BE(g,t.length);for(var y=o.run(f,o.ipad1),v=y,b=1;b<n;b++){v=o.run(v,o.ipad2);for(var _=0;_<p;_++)y[_]^=v[_]}y.copy(l,h),h+=p}return l}},function(e,t,n){var r=n(433),i=n(40).Buffer,o=n(1127);function a(e){var t=e._cipher.encryptBlockRaw(e._prev);return o(e._prev),t}t.encrypt=function(e,t){var n=Math.ceil(t.length/16),o=e._cache.length;e._cache=i.concat([e._cache,i.allocUnsafe(16*n)]);for(var s=0;s<n;s++){var u=a(e),l=o+16*s;e._cache.writeUInt32BE(u[0],l+0),e._cache.writeUInt32BE(u[1],l+4),e._cache.writeUInt32BE(u[2],l+8),e._cache.writeUInt32BE(u[3],l+12)}var c=e._cache.slice(0,t.length);return e._cache=e._cache.slice(t.length),r(t,c)}},function(e,t){e.exports=function(e){for(var t,n=e.length;n--;){if(255!==(t=e.readUInt8(n))){t++,e.writeUInt8(t,n);break}e.writeUInt8(0,n)}}},function(e,t){e.exports={"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aes128:{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},aes192:{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},aes256:{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}}},function(e,t,n){var r=n(552),i=n(40).Buffer,o=n(328),a=n(38),s=n(1826),u=n(433),l=n(1127);function c(e,t,n,a){o.call(this);var u=i.alloc(4,0);this._cipher=new r.AES(t);var c=this._cipher.encryptBlock(u);this._ghash=new s(c),n=function(e,t,n){if(12===t.length)return e._finID=i.concat([t,i.from([0,0,0,1])]),i.concat([t,i.from([0,0,0,2])]);var r=new s(n),o=t.length,a=o%16;r.update(t),a&&(a=16-a,r.update(i.alloc(a,0))),r.update(i.alloc(8,0));var u=8*o,c=i.alloc(8);c.writeUIntBE(u,0,8),r.update(c),e._finID=r.state;var d=i.from(e._finID);return l(d),d}(this,n,c),this._prev=i.from(n),this._cache=i.allocUnsafe(0),this._secCache=i.allocUnsafe(0),this._decrypt=a,this._alen=0,this._len=0,this._mode=e,this._authTag=null,this._called=!1}a(c,o),c.prototype._update=function(e){if(!this._called&&this._alen){var t=16-this._alen%16;t<16&&(t=i.alloc(t,0),this._ghash.update(t))}this._called=!0;var n=this._mode.encrypt(this,e);return this._decrypt?this._ghash.update(e):this._ghash.update(n),this._len+=e.length,n},c.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var e=u(this._ghash.final(8*this._alen,8*this._len),this._cipher.encryptBlock(this._finID));if(this._decrypt&&function(e,t){var n=0;e.length!==t.length&&n++;for(var r=Math.min(e.length,t.length),i=0;i<r;++i)n+=e[i]^t[i];return n}(e,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=e,this._cipher.scrub()},c.prototype.getAuthTag=function(){if(this._decrypt||!i.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},c.prototype.setAuthTag=function(e){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=e},c.prototype.setAAD=function(e){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(e),this._alen+=e.length},e.exports=c},function(e,t,n){var r=n(552),i=n(40).Buffer,o=n(328);function a(e,t,n,a){o.call(this),this._cipher=new r.AES(t),this._prev=i.from(n),this._cache=i.allocUnsafe(0),this._secCache=i.allocUnsafe(0),this._decrypt=a,this._mode=e}n(38)(a,o),a.prototype._update=function(e){return this._mode.encrypt(this,e,this._decrypt)},a.prototype._final=function(){this._cipher.scrub()},e.exports=a},function(e,t,n){var r=n(399);e.exports=v,v.simpleSieve=g,v.fermatTest=y;var i=n(91),o=new i(24),a=new(n(1132)),s=new i(1),u=new i(2),l=new i(5),c=(new i(16),new i(8),new i(10)),d=new i(3),f=(new i(7),new i(11)),h=new i(4),p=(new i(12),null);function m(){if(null!==p)return p;var e=[];e[0]=2;for(var t=1,n=3;n<1048576;n+=2){for(var r=Math.ceil(Math.sqrt(n)),i=0;i<t&&e[i]<=r&&n%e[i]!=0;i++);t!==i&&e[i]<=r||(e[t++]=n)}return p=e,e}function g(e){for(var t=m(),n=0;n<t.length;n++)if(0===e.modn(t[n]))return 0===e.cmpn(t[n]);return!0}function y(e){var t=i.mont(e);return 0===u.toRed(t).redPow(e.subn(1)).fromRed().cmpn(1)}function v(e,t){if(e<16)return new i(2===t||5===t?[140,123]:[140,39]);var n,p;for(t=new i(t);;){for(n=new i(r(Math.ceil(e/8)));n.bitLength()>e;)n.ishrn(1);if(n.isEven()&&n.iadd(s),n.testn(1)||n.iadd(u),t.cmp(u)){if(!t.cmp(l))for(;n.mod(c).cmp(d);)n.iadd(h)}else for(;n.mod(o).cmp(f);)n.iadd(h);if(g(p=n.shrn(1))&&g(n)&&y(p)&&y(n)&&a.test(p)&&a.test(n))return n}}},function(e,t,n){var r=n(91),i=n(1133);function o(e){this.rand=e||new i.Rand}e.exports=o,o.create=function(e){return new o(e)},o.prototype._randbelow=function(e){var t=e.bitLength(),n=Math.ceil(t/8);do{var i=new r(this.rand.generate(n))}while(i.cmp(e)>=0);return i},o.prototype._randrange=function(e,t){var n=t.sub(e);return e.add(this._randbelow(n))},o.prototype.test=function(e,t,n){var i=e.bitLength(),o=r.mont(e),a=new r(1).toRed(o);t||(t=Math.max(1,i/48|0));for(var s=e.subn(1),u=0;!s.testn(u);u++);for(var l=e.shrn(u),c=s.toRed(o);t>0;t--){var d=this._randrange(new r(2),s);n&&n(d);var f=d.toRed(o).redPow(l);if(0!==f.cmp(a)&&0!==f.cmp(c)){for(var h=1;h<u;h++){if(0===(f=f.redSqr()).cmp(a))return!1;if(0===f.cmp(c))break}if(h===u)return!1}}return!0},o.prototype.getDivisor=function(e,t){var n=e.bitLength(),i=r.mont(e),o=new r(1).toRed(i);t||(t=Math.max(1,n/48|0));for(var a=e.subn(1),s=0;!a.testn(s);s++);for(var u=e.shrn(s),l=a.toRed(i);t>0;t--){var c=this._randrange(new r(2),a),d=e.gcd(c);if(0!==d.cmpn(1))return d;var f=c.toRed(i).redPow(u);if(0!==f.cmp(o)&&0!==f.cmp(l)){for(var h=1;h<s;h++){if(0===(f=f.redSqr()).cmp(o))return f.fromRed().subn(1).gcd(e);if(0===f.cmp(l))break}if(h===s)return(f=f.redSqr()).fromRed().subn(1).gcd(e)}}return!1}},function(e,t,n){var r;function i(e){this.rand=e}if(e.exports=function(e){return r||(r=new i(null)),r.generate(e)},e.exports.Rand=i,i.prototype.generate=function(e){return this._rand(e)},i.prototype._rand=function(e){if(this.rand.getBytes)return this.rand.getBytes(e);for(var t=new Uint8Array(e),n=0;n<t.length;n++)t[n]=this.rand.getByte();return t},"object"==typeof self)self.crypto&&self.crypto.getRandomValues?i.prototype._rand=function(e){var t=new Uint8Array(e);return self.crypto.getRandomValues(t),t}:self.msCrypto&&self.msCrypto.getRandomValues?i.prototype._rand=function(e){var t=new Uint8Array(e);return self.msCrypto.getRandomValues(t),t}:"object"==typeof window&&(i.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var o=n(1831);if("function"!=typeof o.randomBytes)throw new Error("Not supported");i.prototype._rand=function(e){return o.randomBytes(e)}}catch(e){}},function(e,t,n){"use strict";var r=t;function i(e){return 1===e.length?"0"+e:e}function o(e){for(var t="",n=0;n<e.length;n++)t+=i(e[n].toString(16));return t}r.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var n=[];if("string"!=typeof e){for(var r=0;r<e.length;r++)n[r]=0|e[r];return n}if("hex"===t)for((e=e.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(e="0"+e),r=0;r<e.length;r+=2)n.push(parseInt(e[r]+e[r+1],16));else for(r=0;r<e.length;r++){var i=e.charCodeAt(r),o=i>>8,a=255&i;o?n.push(o,a):n.push(a)}return n},r.zero2=i,r.toHex=o,r.encode=function(e,t){return"hex"===t?o(e):e}},function(e,t,n){"use strict";var r=n(286).rotr32;function i(e,t,n){return e&t^~e&n}function o(e,t,n){return e&t^e&n^t&n}function a(e,t,n){return e^t^n}t.ft_1=function(e,t,n,r){return 0===e?i(t,n,r):1===e||3===e?a(t,n,r):2===e?o(t,n,r):void 0},t.ch32=i,t.maj32=o,t.p32=a,t.s0_256=function(e){return r(e,2)^r(e,13)^r(e,22)},t.s1_256=function(e){return r(e,6)^r(e,11)^r(e,25)},t.g0_256=function(e){return r(e,7)^r(e,18)^e>>>3},t.g1_256=function(e){return r(e,17)^r(e,19)^e>>>10}},function(e,t,n){"use strict";var r=n(286),i=n(434),o=n(1135),a=n(268),s=r.sum32,u=r.sum32_4,l=r.sum32_5,c=o.ch32,d=o.maj32,f=o.s0_256,h=o.s1_256,p=o.g0_256,m=o.g1_256,g=i.BlockHash,y=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function v(){if(!(this instanceof v))return new v;g.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=y,this.W=new Array(64)}r.inherits(v,g),e.exports=v,v.blockSize=512,v.outSize=256,v.hmacStrength=192,v.padLength=64,v.prototype._update=function(e,t){for(var n=this.W,r=0;r<16;r++)n[r]=e[t+r];for(;r<n.length;r++)n[r]=u(m(n[r-2]),n[r-7],p(n[r-15]),n[r-16]);var i=this.h[0],o=this.h[1],g=this.h[2],y=this.h[3],v=this.h[4],b=this.h[5],_=this.h[6],w=this.h[7];for(a(this.k.length===n.length),r=0;r<n.length;r++){var k=l(w,h(v),c(v,b,_),this.k[r],n[r]),E=s(f(i),d(i,o,g));w=_,_=b,b=v,v=s(y,k),y=g,g=o,o=i,i=s(k,E)}this.h[0]=s(this.h[0],i),this.h[1]=s(this.h[1],o),this.h[2]=s(this.h[2],g),this.h[3]=s(this.h[3],y),this.h[4]=s(this.h[4],v),this.h[5]=s(this.h[5],b),this.h[6]=s(this.h[6],_),this.h[7]=s(this.h[7],w)},v.prototype._digest=function(e){return"hex"===e?r.toHex32(this.h,"big"):r.split32(this.h,"big")}},function(e,t,n){"use strict";var r=n(286),i=n(434),o=n(268),a=r.rotr64_hi,s=r.rotr64_lo,u=r.shr64_hi,l=r.shr64_lo,c=r.sum64,d=r.sum64_hi,f=r.sum64_lo,h=r.sum64_4_hi,p=r.sum64_4_lo,m=r.sum64_5_hi,g=r.sum64_5_lo,y=i.BlockHash,v=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function b(){if(!(this instanceof b))return new b;y.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=v,this.W=new Array(160)}function _(e,t,n,r,i){var o=e&n^~e&i;return o<0&&(o+=4294967296),o}function w(e,t,n,r,i,o){var a=t&r^~t&o;return a<0&&(a+=4294967296),a}function k(e,t,n,r,i){var o=e&n^e&i^n&i;return o<0&&(o+=4294967296),o}function E(e,t,n,r,i,o){var a=t&r^t&o^r&o;return a<0&&(a+=4294967296),a}function x(e,t){var n=a(e,t,28)^a(t,e,2)^a(t,e,7);return n<0&&(n+=4294967296),n}function S(e,t){var n=s(e,t,28)^s(t,e,2)^s(t,e,7);return n<0&&(n+=4294967296),n}function M(e,t){var n=a(e,t,14)^a(e,t,18)^a(t,e,9);return n<0&&(n+=4294967296),n}function T(e,t){var n=s(e,t,14)^s(e,t,18)^s(t,e,9);return n<0&&(n+=4294967296),n}function C(e,t){var n=a(e,t,1)^a(e,t,8)^u(e,t,7);return n<0&&(n+=4294967296),n}function A(e,t){var n=s(e,t,1)^s(e,t,8)^l(e,t,7);return n<0&&(n+=4294967296),n}function O(e,t){var n=a(e,t,19)^a(t,e,29)^u(e,t,6);return n<0&&(n+=4294967296),n}function N(e,t){var n=s(e,t,19)^s(t,e,29)^l(e,t,6);return n<0&&(n+=4294967296),n}r.inherits(b,y),e.exports=b,b.blockSize=1024,b.outSize=512,b.hmacStrength=192,b.padLength=128,b.prototype._prepareBlock=function(e,t){for(var n=this.W,r=0;r<32;r++)n[r]=e[t+r];for(;r<n.length;r+=2){var i=O(n[r-4],n[r-3]),o=N(n[r-4],n[r-3]),a=n[r-14],s=n[r-13],u=C(n[r-30],n[r-29]),l=A(n[r-30],n[r-29]),c=n[r-32],d=n[r-31];n[r]=h(i,o,a,s,u,l,c,d),n[r+1]=p(i,o,a,s,u,l,c,d)}},b.prototype._update=function(e,t){this._prepareBlock(e,t);var n=this.W,r=this.h[0],i=this.h[1],a=this.h[2],s=this.h[3],u=this.h[4],l=this.h[5],h=this.h[6],p=this.h[7],y=this.h[8],v=this.h[9],b=this.h[10],C=this.h[11],A=this.h[12],O=this.h[13],N=this.h[14],L=this.h[15];o(this.k.length===n.length);for(var j=0;j<n.length;j+=2){var P=N,D=L,I=M(y,v),R=T(y,v),F=_(y,v,b,C,A),Y=w(y,v,b,C,A,O),B=this.k[j],H=this.k[j+1],z=n[j],W=n[j+1],U=m(P,D,I,R,F,Y,B,H,z,W),V=g(P,D,I,R,F,Y,B,H,z,W);P=x(r,i),D=S(r,i),I=k(r,i,a,s,u),R=E(r,i,a,s,u,l);var G=d(P,D,I,R),q=f(P,D,I,R);N=A,L=O,A=b,O=C,b=y,C=v,y=d(h,p,U,V),v=f(p,p,U,V),h=u,p=l,u=a,l=s,a=r,s=i,r=d(U,V,G,q),i=f(U,V,G,q)}c(this.h,0,r,i),c(this.h,2,a,s),c(this.h,4,u,l),c(this.h,6,h,p),c(this.h,8,y,v),c(this.h,10,b,C),c(this.h,12,A,O),c(this.h,14,N,L)},b.prototype._digest=function(e){return"hex"===e?r.toHex32(this.h,"big"):r.split32(this.h,"big")}},function(e,t,n){var r=n(38),i=n(436).Reporter,o=n(71).Buffer;function a(e,t){i.call(this,t),o.isBuffer(e)?(this.base=e,this.offset=0,this.length=e.length):this.error("Input not Buffer")}function s(e,t){if(Array.isArray(e))this.length=0,this.value=e.map(function(e){return e instanceof s||(e=new s(e,t)),this.length+=e.length,e},this);else if("number"==typeof e){if(!(0<=e&&e<=255))return t.error("non-byte EncoderBuffer value");this.value=e,this.length=1}else if("string"==typeof e)this.value=e,this.length=o.byteLength(e);else{if(!o.isBuffer(e))return t.error("Unsupported type: "+typeof e);this.value=e,this.length=e.length}}r(a,i),t.DecoderBuffer=a,a.prototype.save=function(){return{offset:this.offset,reporter:i.prototype.save.call(this)}},a.prototype.restore=function(e){var t=new a(this.base);return t.offset=e.offset,t.length=this.offset,this.offset=e.offset,i.prototype.restore.call(this,e.reporter),t},a.prototype.isEmpty=function(){return this.offset===this.length},a.prototype.readUInt8=function(e){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(e||"DecoderBuffer overrun")},a.prototype.skip=function(e,t){if(!(this.offset+e<=this.length))return this.error(t||"DecoderBuffer overrun");var n=new a(this.base);return n._reporterState=this._reporterState,n.offset=this.offset,n.length=this.offset+e,this.offset+=e,n},a.prototype.raw=function(e){return this.base.slice(e?e.offset:this.offset,this.length)},t.EncoderBuffer=s,s.prototype.join=function(e,t){return e||(e=new o(this.length)),t||(t=0),0===this.length?e:(Array.isArray(this.value)?this.value.forEach(function(n){n.join(e,t),t+=n.length}):("number"==typeof this.value?e[t]=this.value:"string"==typeof this.value?e.write(this.value,t):o.isBuffer(this.value)&&this.value.copy(e,t),t+=this.length),e)}},function(e,t,n){var r=t;r._reverse=function(e){var t={};return Object.keys(e).forEach(function(n){(0|n)==n&&(n|=0);var r=e[n];t[r]=n}),t},r.der=n(1863)},function(e,t,n){var r=n(38),i=n(435),o=i.base,a=i.bignum,s=i.constants.der;function u(e){this.enc="der",this.name=e.name,this.entity=e,this.tree=new l,this.tree._init(e.body)}function l(e){o.Node.call(this,"der",e)}function c(e,t){var n=e.readUInt8(t);if(e.isError(n))return n;var r=s.tagClass[n>>6],i=0==(32&n);if(31==(31&n)){var o=n;for(n=0;128==(128&o);){if(o=e.readUInt8(t),e.isError(o))return o;n<<=7,n|=127&o}}else n&=31;return{cls:r,primitive:i,tag:n,tagStr:s.tag[n]}}function d(e,t,n){var r=e.readUInt8(n);if(e.isError(r))return r;if(!t&&128===r)return null;if(0==(128&r))return r;var i=127&r;if(i>4)return e.error("length octect is too long");r=0;for(var o=0;o<i;o++){r<<=8;var a=e.readUInt8(n);if(e.isError(a))return a;r|=a}return r}e.exports=u,u.prototype.decode=function(e,t){return e instanceof o.DecoderBuffer||(e=new o.DecoderBuffer(e,t)),this.tree._decode(e,t)},r(l,o.Node),l.prototype._peekTag=function(e,t,n){if(e.isEmpty())return!1;var r=e.save(),i=c(e,'Failed to peek tag: "'+t+'"');return e.isError(i)?i:(e.restore(r),i.tag===t||i.tagStr===t||i.tagStr+"of"===t||n)},l.prototype._decodeTag=function(e,t,n){var r=c(e,'Failed to decode tag of "'+t+'"');if(e.isError(r))return r;var i=d(e,r.primitive,'Failed to get length of "'+t+'"');if(e.isError(i))return i;if(!n&&r.tag!==t&&r.tagStr!==t&&r.tagStr+"of"!==t)return e.error('Failed to match tag: "'+t+'"');if(r.primitive||null!==i)return e.skip(i,'Failed to match body of: "'+t+'"');var o=e.save(),a=this._skipUntilEnd(e,'Failed to skip indefinite length body: "'+this.tag+'"');return e.isError(a)?a:(i=e.offset-o.offset,e.restore(o),e.skip(i,'Failed to match body of: "'+t+'"'))},l.prototype._skipUntilEnd=function(e,t){for(;;){var n=c(e,t);if(e.isError(n))return n;var r,i=d(e,n.primitive,t);if(e.isError(i))return i;if(r=n.primitive||null!==i?e.skip(i):this._skipUntilEnd(e,t),e.isError(r))return r;if("end"===n.tagStr)break}},l.prototype._decodeList=function(e,t,n,r){for(var i=[];!e.isEmpty();){var o=this._peekTag(e,"end");if(e.isError(o))return o;var a=n.decode(e,"der",r);if(e.isError(a)&&o)break;i.push(a)}return i},l.prototype._decodeStr=function(e,t){if("bitstr"===t){var n=e.readUInt8();return e.isError(n)?n:{unused:n,data:e.raw()}}if("bmpstr"===t){var r=e.raw();if(r.length%2==1)return e.error("Decoding of string type: bmpstr length mismatch");for(var i="",o=0;o<r.length/2;o++)i+=String.fromCharCode(r.readUInt16BE(2*o));return i}if("numstr"===t){var a=e.raw().toString("ascii");return this._isNumstr(a)?a:e.error("Decoding of string type: numstr unsupported characters")}if("octstr"===t)return e.raw();if("objDesc"===t)return e.raw();if("printstr"===t){var s=e.raw().toString("ascii");return this._isPrintstr(s)?s:e.error("Decoding of string type: printstr unsupported characters")}return/str$/.test(t)?e.raw().toString():e.error("Decoding of string type: "+t+" unsupported")},l.prototype._decodeObjid=function(e,t,n){for(var r,i=[],o=0;!e.isEmpty();){var a=e.readUInt8();o<<=7,o|=127&a,0==(128&a)&&(i.push(o),o=0)}128&a&&i.push(o);var s=i[0]/40|0,u=i[0]%40;if(r=n?i:[s,u].concat(i.slice(1)),t){var l=t[r.join(" ")];void 0===l&&(l=t[r.join(".")]),void 0!==l&&(r=l)}return r},l.prototype._decodeTime=function(e,t){var n=e.raw().toString();if("gentime"===t)var r=0|n.slice(0,4),i=0|n.slice(4,6),o=0|n.slice(6,8),a=0|n.slice(8,10),s=0|n.slice(10,12),u=0|n.slice(12,14);else{if("utctime"!==t)return e.error("Decoding "+t+" time is not supported yet");r=0|n.slice(0,2),i=0|n.slice(2,4),o=0|n.slice(4,6),a=0|n.slice(6,8),s=0|n.slice(8,10),u=0|n.slice(10,12);r=r<70?2e3+r:1900+r}return Date.UTC(r,i-1,o,a,s,u,0)},l.prototype._decodeNull=function(e){return null},l.prototype._decodeBool=function(e){var t=e.readUInt8();return e.isError(t)?t:0!==t},l.prototype._decodeInt=function(e,t){var n=e.raw(),r=new a(n);return t&&(r=t[r.toString(10)]||r),r},l.prototype._use=function(e,t){return"function"==typeof e&&(e=e(t)),e._getDecoder("der").tree}},function(e,t,n){var r=n(38),i=n(71).Buffer,o=n(435),a=o.base,s=o.constants.der;function u(e){this.enc="der",this.name=e.name,this.entity=e,this.tree=new l,this.tree._init(e.body)}function l(e){a.Node.call(this,"der",e)}function c(e){return e<10?"0"+e:e}e.exports=u,u.prototype.encode=function(e,t){return this.tree._encode(e,t).join()},r(l,a.Node),l.prototype._encodeComposite=function(e,t,n,r){var o,a=function(e,t,n,r){var i;"seqof"===e?e="seq":"setof"===e&&(e="set");if(s.tagByName.hasOwnProperty(e))i=s.tagByName[e];else{if("number"!=typeof e||(0|e)!==e)return r.error("Unknown tag: "+e);i=e}if(i>=31)return r.error("Multi-octet tag encoding unsupported");t||(i|=32);return i|=s.tagClassByName[n||"universal"]<<6}(e,t,n,this.reporter);if(r.length<128)return(o=new i(2))[0]=a,o[1]=r.length,this._createEncoderBuffer([o,r]);for(var u=1,l=r.length;l>=256;l>>=8)u++;(o=new i(2+u))[0]=a,o[1]=128|u;l=1+u;for(var c=r.length;c>0;l--,c>>=8)o[l]=255&c;return this._createEncoderBuffer([o,r])},l.prototype._encodeStr=function(e,t){if("bitstr"===t)return this._createEncoderBuffer([0|e.unused,e.data]);if("bmpstr"===t){for(var n=new i(2*e.length),r=0;r<e.length;r++)n.writeUInt16BE(e.charCodeAt(r),2*r);return this._createEncoderBuffer(n)}return"numstr"===t?this._isNumstr(e)?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: numstr supports only digits and space"):"printstr"===t?this._isPrintstr(e)?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(t)?this._createEncoderBuffer(e):"objDesc"===t?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: "+t+" unsupported")},l.prototype._encodeObjid=function(e,t,n){if("string"==typeof e){if(!t)return this.reporter.error("string objid given, but no values map found");if(!t.hasOwnProperty(e))return this.reporter.error("objid not found in values map");e=t[e].split(/[\s\.]+/g);for(var r=0;r<e.length;r++)e[r]|=0}else if(Array.isArray(e)){e=e.slice();for(r=0;r<e.length;r++)e[r]|=0}if(!Array.isArray(e))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(e));if(!n){if(e[1]>=40)return this.reporter.error("Second objid identifier OOB");e.splice(0,2,40*e[0]+e[1])}var o=0;for(r=0;r<e.length;r++){var a=e[r];for(o++;a>=128;a>>=7)o++}var s=new i(o),u=s.length-1;for(r=e.length-1;r>=0;r--){a=e[r];for(s[u--]=127&a;(a>>=7)>0;)s[u--]=128|127&a}return this._createEncoderBuffer(s)},l.prototype._encodeTime=function(e,t){var n,r=new Date(e);return"gentime"===t?n=[c(r.getFullYear()),c(r.getUTCMonth()+1),c(r.getUTCDate()),c(r.getUTCHours()),c(r.getUTCMinutes()),c(r.getUTCSeconds()),"Z"].join(""):"utctime"===t?n=[c(r.getFullYear()%100),c(r.getUTCMonth()+1),c(r.getUTCDate()),c(r.getUTCHours()),c(r.getUTCMinutes()),c(r.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+t+" time is not supported yet"),this._encodeStr(n,"octstr")},l.prototype._encodeNull=function(){return this._createEncoderBuffer("")},l.prototype._encodeInt=function(e,t){if("string"==typeof e){if(!t)return this.reporter.error("String int or enum given, but no values map");if(!t.hasOwnProperty(e))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(e));e=t[e]}if("number"!=typeof e&&!i.isBuffer(e)){var n=e.toArray();!e.sign&&128&n[0]&&n.unshift(0),e=new i(n)}if(i.isBuffer(e)){var r=e.length;0===e.length&&r++;var o=new i(r);return e.copy(o),0===e.length&&(o[0]=0),this._createEncoderBuffer(o)}if(e<128)return this._createEncoderBuffer(e);if(e<256)return this._createEncoderBuffer([0,e]);r=1;for(var a=e;a>=256;a>>=8)r++;for(a=(o=new Array(r)).length-1;a>=0;a--)o[a]=255&e,e>>=8;return 128&o[0]&&o.unshift(0),this._createEncoderBuffer(new i(o))},l.prototype._encodeBool=function(e){return this._createEncoderBuffer(e?255:0)},l.prototype._use=function(e,t){return"function"==typeof e&&(e=e(t)),e._getEncoder("der").tree},l.prototype._skipDefault=function(e,t,n){var r,i=this._baseState;if(null===i.default)return!1;var o=e.join();if(void 0===i.defaultBuffer&&(i.defaultBuffer=this._encodeValue(i.default,t,n).join()),o.length!==i.defaultBuffer.length)return!1;for(r=0;r<o.length;r++)if(o[r]!==i.defaultBuffer[r])return!1;return!0}},function(e,t){e.exports={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}},function(e,t,n){var r=n(430),i=n(40).Buffer;function o(e){var t=i.allocUnsafe(4);return t.writeUInt32BE(e,0),t}e.exports=function(e,t){for(var n,a=i.alloc(0),s=0;a.length<t;)n=o(s++),a=i.concat([a,r("sha1").update(e).update(n).digest()]);return a.slice(0,t)}},function(e,t){e.exports=function(e,t){for(var n=e.length,r=-1;++r<n;)e[r]^=t[r];return e}},function(e,t,n){var r=n(91),i=n(40).Buffer;e.exports=function(e,t){return i.from(e.toRed(r.mont(t.modulus)).redPow(new r(t.publicExponent)).fromRed().toArray())}},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=n(1877),s=function(){function e(t){var n=this;o(this,e),this._options=t||{},this._serializers=c.map(function(e){var t=new e;return t.writer=n,t});var r=this._options.serializers||{};Object.keys(r).forEach(function(e){var t=r[e];t.serialize&&(t.writer=n,n._serializers.unshift(t))})}return i(e,[{key:"adaptObject",value:function(e){var t=this,n=void 0;if(Array.isArray(e))return e.map(function(e){return t.adaptObject(e)});for(var r=0;r<this._serializers.length;r++){var i=this._serializers[r];if(i.canBeUsedFor&&i.canBeUsedFor(e)){n=i;break}}return n?n.serialize(e):e}},{key:"write",value:function(e){return JSON.stringify(this.adaptObject(e))}}]),e}(),u=function(){function e(t){var n=this;if(o(this,e),this._options=t||{},this._deserializers={},Object.keys(l).forEach(function(e){var t=new(0,l[e]);t.reader=n,n._deserializers[e]=t}),this._options.serializers){var r=this._options.serializers||{};Object.keys(r).forEach(function(e){var t=r[e];t.deserialize&&(t.reader=n,n._deserializers[e]=t)})}}return i(e,[{key:"read",value:function(e){var t=this;if(void 0!==e){if(null===e)return null;if(Array.isArray(e))return e.map(function(e){return t.read(e)});var n=e[a.typeKey];if(n){var i=this._deserializers[n];return i?i.deserialize(e):e[a.valueKey]}return e&&"object"===(void 0===e?"undefined":r(e))&&e.constructor===Object?this._deserializeObject(e):e}}},{key:"_deserializeObject",value:function(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++)n[t[r]]=this.read(e[t[r]]);return n}}]),e}(),l={"g:Traverser":a.TraverserSerializer,"g:Int32":a.NumberSerializer,"g:Int64":a.NumberSerializer,"g:Float":a.NumberSerializer,"g:Double":a.NumberSerializer,"g:Date":a.DateSerializer,"g:Vertex":a.VertexSerializer,"g:Edge":a.EdgeSerializer,"g:VertexProperty":a.VertexPropertySerializer,"g:Property":a.PropertySerializer,"g:Path":a.Path3Serializer,"g:T":a.TSerializer,"g:TextP":a.TextPSerializer,"g:List":a.ListSerializer,"g:Set":a.SetSerializer,"g:Map":a.MapSerializer,"g:BulkSet":a.BulkSetSerializer},c=[a.NumberSerializer,a.DateSerializer,a.BytecodeSerializer,a.TraverserSerializer,a.PSerializer,a.TextPSerializer,a.LambdaSerializer,a.EnumSerializer,a.VertexSerializer,a.EdgeSerializer,a.LongSerializer,a.ListSerializer,a.MapSerializer];e.exports={GraphSONWriter:s,GraphSONReader:u}},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var i=n(1880),o=n(556),a=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._options=n,this._connection=new i(t,n)}return r(e,[{key:"open",value:function(){return this._connection.open()}},{key:"submit",value:function(e,t){if("string"==typeof e){var n={gremlin:e,bindings:t,language:"gremlin-groovy",accept:this._connection.mimeType,aliases:{g:this._options.traversalSource||"g"}};return this._connection.submit(null,"eval",n,null,"")}if(e instanceof o)return this._connection.submit(e)}},{key:"close",value:function(){return this._connection.close()}}]),e}();e.exports=a},function(e,t,n){(function(e){var r=Object.getOwnPropertyDescriptors||function(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++)n[t[r]]=Object.getOwnPropertyDescriptor(e,t[r]);return n},i=/%[sdj%]/g;t.format=function(e){if(!y(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(s(arguments[n]));return t.join(" ")}n=1;for(var r=arguments,o=r.length,a=String(e).replace(i,function(e){if("%%"===e)return"%";if(n>=o)return e;switch(e){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(e){return"[Circular]"}default:return e}}),u=r[n];n<o;u=r[++n])m(u)||!_(u)?a+=" "+u:a+=" "+s(u);return a},t.deprecate=function(n,r){if(void 0!==e&&!0===e.noDeprecation)return n;if(void 0===e)return function(){return t.deprecate(n,r).apply(this,arguments)};var i=!1;return function(){if(!i){if(e.throwDeprecation)throw new Error(r);e.traceDeprecation?console.trace(r):console.error(r),i=!0}return n.apply(this,arguments)}};var o,a={};function s(e,n){var r={seen:[],stylize:l};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),p(n)?r.showHidden=n:n&&t._extend(r,n),v(r.showHidden)&&(r.showHidden=!1),v(r.depth)&&(r.depth=2),v(r.colors)&&(r.colors=!1),v(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=u),c(r,e,r.depth)}function u(e,t){var n=s.styles[t];return n?"["+s.colors[n][0]+"m"+e+"["+s.colors[n][1]+"m":e}function l(e,t){return e}function c(e,n,r){if(e.customInspect&&n&&E(n.inspect)&&n.inspect!==t.inspect&&(!n.constructor||n.constructor.prototype!==n)){var i=n.inspect(r,e);return y(i)||(i=c(e,i,r)),i}var o=function(e,t){if(v(t))return e.stylize("undefined","undefined");if(y(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}if(g(t))return e.stylize(""+t,"number");if(p(t))return e.stylize(""+t,"boolean");if(m(t))return e.stylize("null","null")}(e,n);if(o)return o;var a=Object.keys(n),s=function(e){var t={};return e.forEach(function(e,n){t[e]=!0}),t}(a);if(e.showHidden&&(a=Object.getOwnPropertyNames(n)),k(n)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return d(n);if(0===a.length){if(E(n)){var u=n.name?": "+n.name:"";return e.stylize("[Function"+u+"]","special")}if(b(n))return e.stylize(RegExp.prototype.toString.call(n),"regexp");if(w(n))return e.stylize(Date.prototype.toString.call(n),"date");if(k(n))return d(n)}var l,_="",x=!1,S=["{","}"];(h(n)&&(x=!0,S=["[","]"]),E(n))&&(_=" [Function"+(n.name?": "+n.name:"")+"]");return b(n)&&(_=" "+RegExp.prototype.toString.call(n)),w(n)&&(_=" "+Date.prototype.toUTCString.call(n)),k(n)&&(_=" "+d(n)),0!==a.length||x&&0!=n.length?r<0?b(n)?e.stylize(RegExp.prototype.toString.call(n),"regexp"):e.stylize("[Object]","special"):(e.seen.push(n),l=x?function(e,t,n,r,i){for(var o=[],a=0,s=t.length;a<s;++a)T(t,String(a))?o.push(f(e,t,n,r,String(a),!0)):o.push("");return i.forEach(function(i){i.match(/^\d+$/)||o.push(f(e,t,n,r,i,!0))}),o}(e,n,r,s,a):a.map(function(t){return f(e,n,r,s,t,x)}),e.seen.pop(),function(e,t,n){if(e.reduce(function(e,t){return 0,t.indexOf("\n")>=0&&0,e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60)return n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1];return n[0]+t+" "+e.join(", ")+" "+n[1]}(l,_,S)):S[0]+_+S[1]}function d(e){return"["+Error.prototype.toString.call(e)+"]"}function f(e,t,n,r,i,o){var a,s,u;if((u=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]}).get?s=u.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):u.set&&(s=e.stylize("[Setter]","special")),T(r,i)||(a="["+i+"]"),s||(e.seen.indexOf(u.value)<0?(s=m(n)?c(e,u.value,null):c(e,u.value,n-1)).indexOf("\n")>-1&&(s=o?s.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+s.split("\n").map(function(e){return"   "+e}).join("\n")):s=e.stylize("[Circular]","special")),v(a)){if(o&&i.match(/^\d+$/))return s;(a=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=e.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=e.stylize(a,"string"))}return a+": "+s}function h(e){return Array.isArray(e)}function p(e){return"boolean"==typeof e}function m(e){return null===e}function g(e){return"number"==typeof e}function y(e){return"string"==typeof e}function v(e){return void 0===e}function b(e){return _(e)&&"[object RegExp]"===x(e)}function _(e){return"object"==typeof e&&null!==e}function w(e){return _(e)&&"[object Date]"===x(e)}function k(e){return _(e)&&("[object Error]"===x(e)||e instanceof Error)}function E(e){return"function"==typeof e}function x(e){return Object.prototype.toString.call(e)}function S(e){return e<10?"0"+e.toString(10):e.toString(10)}t.debuglog=function(n){if(v(o)&&(o=Object({NODE_ENV:"production"}).NODE_DEBUG||""),n=n.toUpperCase(),!a[n])if(new RegExp("\\b"+n+"\\b","i").test(o)){var r=e.pid;a[n]=function(){var e=t.format.apply(t,arguments);console.error("%s %d: %s",n,r,e)}}else a[n]=function(){};return a[n]},t.inspect=s,s.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},s.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=h,t.isBoolean=p,t.isNull=m,t.isNullOrUndefined=function(e){return null==e},t.isNumber=g,t.isString=y,t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=v,t.isRegExp=b,t.isObject=_,t.isDate=w,t.isError=k,t.isFunction=E,t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=n(1881);var M=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function T(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.log=function(){var e,n;console.log("%s - %s",(e=new Date,n=[S(e.getHours()),S(e.getMinutes()),S(e.getSeconds())].join(":"),[e.getDate(),M[e.getMonth()],n].join(" ")),t.format.apply(t,arguments))},t.inherits=n(38),t._extend=function(e,t){if(!t||!_(t))return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e};var C="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function A(e,t){if(!e){var n=new Error("Promise was rejected with a falsy value");n.reason=e,e=n}return t(e)}t.promisify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');if(C&&e[C]){var t;if("function"!=typeof(t=e[C]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(t,C,{value:t,enumerable:!1,writable:!1,configurable:!0}),t}function t(){for(var t,n,r=new Promise(function(e,r){t=e,n=r}),i=[],o=0;o<arguments.length;o++)i.push(arguments[o]);i.push(function(e,r){e?n(e):t(r)});try{e.apply(this,i)}catch(e){n(e)}return r}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),C&&Object.defineProperty(t,C,{value:t,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(t,r(e))},t.promisify.custom=C,t.callbackify=function(t){if("function"!=typeof t)throw new TypeError('The "original" argument must be of type Function');function n(){for(var n=[],r=0;r<arguments.length;r++)n.push(arguments[r]);var i=n.pop();if("function"!=typeof i)throw new TypeError("The last argument must be of type Function");var o=this,a=function(){return i.apply(o,arguments)};t.apply(this,n).then(function(t){e.nextTick(a,null,t)},function(t){e.nextTick(A,t,a)})}return Object.setPrototypeOf(n,Object.getPrototypeOf(t)),Object.defineProperties(n,r(t)),n}}).call(t,n(59))},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var i=n(1148).inspect.custom||"inspect",o=(n(346),Object.freeze(new Map)),a=function(){function e(t,n){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),!Array.isArray(t))throw new TypeError("items must be an Array instance");this._items=t,this.attributes=n||o,this.length=t.length}return r(e,[{key:Symbol.iterator,value:function(){return this._items[Symbol.iterator]()}},{key:i,value:function(){return this._items}},{key:"toArray",value:function(){return this._items}},{key:"first",value:function(){var e=this._items[0];return void 0!==e?e:null}}]),e}();e.exports=a},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var i=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._options=t}return r(e,[{key:"evaluateChallenge",value:function(e){throw new Error("evaluateChallenge should be implemented")}}]),e}();e.exports=i},function(e,t,n){"use strict";var r=n(258),i=n.n(r),o=n(1),a=n.n(o);t.a=function(e){var t=e.className,n=e.included,r=e.vertical,o=e.offset,s=e.length,u=e.style,l=r?{bottom:o+"%",height:s+"%"}:{left:o+"%",width:s+"%"},c=i()({},u,l);return n?a.a.createElement("div",{className:t,style:c}):null}},function(e,t,n){"use strict";t.a=function(e){var t,n;return n=t=function(e){function t(e){c()(this,t);var n=p()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onMouseDown=function(e){if(0===e.button){var t=n.props.vertical,r=O.e(t,e);if(O.g(e,n.handlesRefs)){var i=O.c(t,e.target);n.dragOffset=r-i,r=i}else n.dragOffset=0;n.removeDocumentEvents(),n.onStart(r),n.addDocumentMouseEvents()}},n.onTouchStart=function(e){if(!O.h(e)){var t=n.props.vertical,r=O.f(t,e);if(O.g(e,n.handlesRefs)){var i=O.c(t,e.target);n.dragOffset=r-i,r=i}else n.dragOffset=0;n.onStart(r),n.addDocumentTouchEvents(),O.j(e)}},n.onFocus=function(e){var t=n.props,r=t.onFocus,i=t.vertical;if(O.g(e,n.handlesRefs)){var o=O.c(i,e.target);n.dragOffset=0,n.onStart(o),O.j(e),r&&r(e)}},n.onBlur=function(e){var t=n.props.onBlur;n.onEnd(e),t&&t(e)},n.onMouseUp=function(){n.handlesRefs[n.prevMovedHandleIndex]&&n.handlesRefs[n.prevMovedHandleIndex].clickFocus()},n.onMouseMove=function(e){if(n.sliderRef){var t=O.e(n.props.vertical,e);n.onMove(e,t-n.dragOffset)}else n.onEnd()},n.onTouchMove=function(e){if(!O.h(e)&&n.sliderRef){var t=O.f(n.props.vertical,e);n.onMove(e,t-n.dragOffset)}else n.onEnd()},n.onKeyDown=function(e){n.sliderRef&&O.g(e,n.handlesRefs)&&n.onKeyboard(e)},n.onClickMarkLabel=function(e,t){e.stopPropagation(),n.onChange({value:t})},n.saveSlider=function(e){n.sliderRef=e},n.handlesRefs={},n}return v()(t,e),f()(t,[{key:"componentDidMount",value:function(){this.document=this.sliderRef&&this.sliderRef.ownerDocument}},{key:"componentWillUnmount",value:function(){g()(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"componentWillUnmount",this)&&g()(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"componentWillUnmount",this).call(this),this.removeDocumentEvents()}},{key:"getSliderStart",value:function(){var e=this.sliderRef,t=e.getBoundingClientRect();return this.props.vertical?t.top:t.left}},{key:"getSliderLength",value:function(){var e=this.sliderRef;if(!e)return 0;var t=e.getBoundingClientRect();return this.props.vertical?t.height:t.width}},{key:"addDocumentTouchEvents",value:function(){this.onTouchMoveListener=Object(E.a)(this.document,"touchmove",this.onTouchMove),this.onTouchUpListener=Object(E.a)(this.document,"touchend",this.onEnd)}},{key:"addDocumentMouseEvents",value:function(){this.onMouseMoveListener=Object(E.a)(this.document,"mousemove",this.onMouseMove),this.onMouseUpListener=Object(E.a)(this.document,"mouseup",this.onEnd)}},{key:"removeDocumentEvents",value:function(){this.onTouchMoveListener&&this.onTouchMoveListener.remove(),this.onTouchUpListener&&this.onTouchUpListener.remove(),this.onMouseMoveListener&&this.onMouseMoveListener.remove(),this.onMouseUpListener&&this.onMouseUpListener.remove()}},{key:"focus",value:function(){this.props.disabled||this.handlesRefs[0].focus()}},{key:"blur",value:function(){var e=this;this.props.disabled||Object.keys(this.handlesRefs).forEach(function(t){e.handlesRefs[t]&&e.handlesRefs[t].blur&&e.handlesRefs[t].blur()})}},{key:"calcValue",value:function(e){var t=this.props,n=t.vertical,r=t.min,i=t.max,o=Math.abs(Math.max(e,0)/this.getSliderLength()),a=n?(1-o)*(i-r)+r:o*(i-r)+r;return a}},{key:"calcValueByPos",value:function(e){var t=e-this.getSliderStart(),n=this.trimAlignValue(this.calcValue(t));return n}},{key:"calcOffset",value:function(e){var t=this.props,n=t.min,r=t.max,i=(e-n)/(r-n);return 100*i}},{key:"saveHandle",value:function(e,t){this.handlesRefs[e]=t}},{key:"render",value:function(){var e,n=this.props,r=n.prefixCls,i=n.className,o=n.marks,s=n.dots,l=n.step,c=n.included,d=n.disabled,f=n.vertical,h=n.min,p=n.max,m=n.children,y=n.maximumTrackStyle,v=n.style,b=n.railStyle,w=n.dotStyle,k=n.activeDotStyle,E=g()(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"render",this).call(this),x=E.tracks,M=E.handles,A=S()(r,(e={},u()(e,r+"-with-marks",Object.keys(o).length),u()(e,r+"-disabled",d),u()(e,r+"-vertical",f),u()(e,i,i),e));return _.a.createElement("div",{ref:this.saveSlider,className:A,onTouchStart:d?N:this.onTouchStart,onMouseDown:d?N:this.onMouseDown,onMouseUp:d?N:this.onMouseUp,onKeyDown:d?N:this.onKeyDown,onFocus:d?N:this.onFocus,onBlur:d?N:this.onBlur,style:v},_.a.createElement("div",{className:r+"-rail",style:a()({},y,b)}),x,_.a.createElement(T.a,{prefixCls:r,vertical:f,marks:o,dots:s,step:l,included:c,lowerBound:this.getLowerBound(),upperBound:this.getUpperBound(),max:p,min:h,dotStyle:w,activeDotStyle:k}),M,_.a.createElement(C.a,{className:r+"-mark",onClickLabel:d?N:this.onClickMarkLabel,vertical:f,marks:o,included:c,lowerBound:this.getLowerBound(),upperBound:this.getUpperBound(),max:p,min:h}),m)}}]),t}(e),t.displayName="ComponentEnhancer("+e.displayName+")",t.propTypes=a()({},e.propTypes,{min:k.a.number,max:k.a.number,step:k.a.number,marks:k.a.object,included:k.a.bool,className:k.a.string,prefixCls:k.a.string,disabled:k.a.bool,children:k.a.any,onBeforeChange:k.a.func,onChange:k.a.func,onAfterChange:k.a.func,handle:k.a.func,dots:k.a.bool,vertical:k.a.bool,style:k.a.object,minimumTrackStyle:k.a.object,maximumTrackStyle:k.a.object,handleStyle:k.a.oneOfType([k.a.object,k.a.arrayOf(k.a.object)]),trackStyle:k.a.oneOfType([k.a.object,k.a.arrayOf(k.a.object)]),railStyle:k.a.object,dotStyle:k.a.object,activeDotStyle:k.a.object,autoFocus:k.a.bool,onFocus:k.a.func,onBlur:k.a.func}),t.defaultProps=a()({},e.defaultProps,{prefixCls:"rc-slider",className:"",min:0,max:100,step:1,marks:{},handle:function(e){var t=e.index,n=i()(e,["index"]);return delete n.dragging,_.a.createElement(A.a,a()({},n,{key:t}))},onBeforeChange:N,onChange:N,onAfterChange:N,included:!0,disabled:!1,dots:!1,vertical:!1,trackStyle:[{}],handleStyle:[{}],railStyle:{},dotStyle:{},activeDotStyle:{}}),n};var r=n(438),i=n.n(r),o=n(258),a=n.n(o),s=n(295),u=n.n(s),l=n(14),c=n.n(l),d=n(20),f=n.n(d),h=n(41),p=n.n(h),m=n(424),g=n.n(m),y=n(42),v=n.n(y),b=n(1),_=n.n(b),w=n(4),k=n.n(w),E=n(557),x=n(8),S=n.n(x),M=n(655),T=(n.n(M),n(1895)),C=n(1896),A=n(656),O=n(657);function N(){}},function(e,t,n){"use strict";t.a=function(e,t,n){var r=e[t]||{};return i()({},r,n)},t.b=function(e,t,n,r){var i=n.points;for(var a in e)if(e.hasOwnProperty(a)&&o(e[a].points,i,r))return t+"-placement-"+a;return""},t.c=function(e,t){this[e]=t};var r=n(258),i=n.n(r);function o(e,t,n){return n?e[0]===t[0]:e[0]===t[0]&&e[1]===t[1]}},function(e,t,n){"use strict";var r=n(348),i=n(1155),o=n(1914),a=n(1157),s=n(1915);function u(e,t,n){return e.left<n.left||e.left+t.width>n.right}function l(e,t,n){return e.top<n.top||e.top+t.height>n.bottom}function c(e,t,n){var i=[];return r.a.each(e,function(e){i.push(e.replace(t,function(e){return n[e]}))}),i}function d(e,t){return e[t]=-e[t],e}function f(e,t){return(/%$/.test(e)?parseInt(e.substring(0,e.length-1),10)/100*t:parseInt(e,10))||0}function h(e,t){e[0]=f(e[0],t.width),e[1]=f(e[1],t.height)}t.a=function(e,t,n,f){var p=n.points,m=n.offset||[0,0],g=n.targetOffset||[0,0],y=n.overflow,v=n.source||e;m=[].concat(m),g=[].concat(g),y=y||{};var b={},_=0,w=Object(i.a)(v),k=Object(a.a)(v);h(m,k),h(g,t);var E=Object(s.a)(k,t,p,m,g),x=r.a.merge(k,E);if(w&&(y.adjustX||y.adjustY)&&f){if(y.adjustX&&u(E,k,w)){var S=c(p,/[lr]/gi,{l:"r",r:"l"}),M=d(m,0),T=d(g,0);(function(e,t,n){return e.left>n.right||e.left+t.width<n.left})(Object(s.a)(k,t,S,M,T),k,w)||(_=1,p=S,m=M,g=T)}if(y.adjustY&&l(E,k,w)){var C=c(p,/[tb]/gi,{t:"b",b:"t"}),A=d(m,1),O=d(g,1);(function(e,t,n){return e.top>n.bottom||e.top+t.height<n.top})(Object(s.a)(k,t,C,A,O),k,w)||(_=1,p=C,m=A,g=O)}_&&(E=Object(s.a)(k,t,p,m,g),r.a.mix(x,E));var N=u(E,k,w),L=l(E,k,w);(N||L)&&(p=n.points,m=n.offset||[0,0],g=n.targetOffset||[0,0]),b.adjustX=y.adjustX&&N,b.adjustY=y.adjustY&&L,(b.adjustX||b.adjustY)&&(x=Object(o.a)(E,k,w,b))}return x.width!==k.width&&r.a.css(v,"width",r.a.width(v)+x.width-k.width),x.height!==k.height&&r.a.css(v,"height",r.a.height(v)+x.height-k.height),r.a.offset(v,{left:x.left,top:x.top},{useCssRight:n.useCssRight,useCssBottom:n.useCssBottom,useCssTransform:n.useCssTransform,ignoreShake:n.ignoreShake}),{points:p,offset:m,targetOffset:g,overflow:b}}},function(e,t,n){"use strict";var r=n(348),i=n(1156),o=n(1913);t.a=function(e){for(var t={left:0,right:1/0,top:0,bottom:1/0},n=Object(i.a)(e),a=r.a.getDocument(e),s=a.defaultView||a.parentWindow,u=a.body,l=a.documentElement;n;){if(-1!==navigator.userAgent.indexOf("MSIE")&&0===n.clientWidth||n===u||n===l||"visible"===r.a.css(n,"overflow")){if(n===u||n===l)break}else{var c=r.a.offset(n);c.left+=n.clientLeft,c.top+=n.clientTop,t.top=Math.max(t.top,c.top),t.right=Math.min(t.right,c.left+n.clientWidth),t.bottom=Math.min(t.bottom,c.top+n.clientHeight),t.left=Math.max(t.left,c.left)}n=Object(i.a)(n)}var d=null;r.a.isWindow(e)||9===e.nodeType||(d=e.style.position,"absolute"===r.a.css(e,"position")&&(e.style.position="fixed"));var f=r.a.getWindowScrollLeft(s),h=r.a.getWindowScrollTop(s),p=r.a.viewportWidth(s),m=r.a.viewportHeight(s),g=l.scrollWidth,y=l.scrollHeight;if(e.style&&(e.style.position=d),Object(o.a)(e))t.left=Math.max(t.left,f),t.top=Math.max(t.top,h),t.right=Math.min(t.right,f+p),t.bottom=Math.min(t.bottom,h+m);else{var v=Math.max(g,f+p);t.right=Math.min(t.right,v);var b=Math.max(y,h+m);t.bottom=Math.min(t.bottom,b)}return t.top>=0&&t.left>=0&&t.bottom>t.top&&t.right>t.left?t:null}},function(e,t,n){"use strict";var r=n(348);t.a=function(e){if(r.a.isWindow(e)||9===e.nodeType)return null;var t=r.a.getDocument(e).body,n=void 0,i=r.a.css(e,"position");if("fixed"!==i&&"absolute"!==i)return"html"===e.nodeName.toLowerCase()?null:e.parentNode;for(n=e.parentNode;n&&n!==t;n=n.parentNode)if("static"!==(i=r.a.css(n,"position")))return n;return null}},function(e,t,n){"use strict";var r=n(348);t.a=function(e){var t=void 0,n=void 0,i=void 0;if(r.a.isWindow(e)||9===e.nodeType){var o=r.a.getWindow(e);t={left:r.a.getWindowScrollLeft(o),top:r.a.getWindowScrollTop(o)},n=r.a.viewportWidth(o),i=r.a.viewportHeight(o)}else t=r.a.offset(e),n=r.a.outerWidth(e),i=r.a.outerHeight(e);return t.width=n,t.height=i,t}},function(e,t){e.exports=function(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0;n<e.length;++n)if(e[n]===t)return n;return-1}},function(e,t,n){"use strict";t.a={isAppearSupported:function(e){return e.transitionName&&e.transitionAppear||e.animation.appear},isEnterSupported:function(e){return e.transitionName&&e.transitionEnter||e.animation.enter},isLeaveSupported:function(e){return e.transitionName&&e.transitionLeave||e.animation.leave},allowAppearCallback:function(e){return e.transitionAppear||e.animation.appear},allowEnterCallback:function(e){return e.transitionEnter||e.animation.enter},allowLeaveCallback:function(e){return e.transitionLeave||e.animation.leave}}},function(e,t,n){"use strict";var r=n(438),i=n.n(r),o=n(14),a=n.n(o),s=n(41),u=n.n(s),l=n(42),c=n.n(l),d=n(1),f=n.n(d),h=n(4),p=n.n(h),m=function(e){function t(){return a()(this,t),u()(this,e.apply(this,arguments))}return c()(t,e),t.prototype.shouldComponentUpdate=function(e){return e.hiddenClassName||e.visible},t.prototype.render=function(){var e=this.props,t=e.hiddenClassName,n=e.visible,r=i()(e,["hiddenClassName","visible"]);return t||f.a.Children.count(r.children)>1?(!n&&t&&(r.className+=" "+t),f.a.createElement("div",r)):f.a.Children.only(r.children)},t}(d.Component);m.propTypes={children:p.a.any,className:p.a.string,visible:p.a.bool,hiddenClassName:p.a.string},t.a=m},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Label=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(23)),o=(u(n(1162)),u(n(1163))),a=n(660),s=u(n(1166));function u(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),r=Object.assign({width:500,text:""},e);return r.text&&""!=r.text||console.error("You must config the text"),n.createText(r.text,r.width),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Object3D),r(t,[{key:"createText",value:function(e,t){if(e){var n=e.split(/[\s,\n]+/);n.length>2&&(n=n.slice(0,2)).push("..."),e=n.join(" ");var r=a.Font.getFont(),i=r.font,o=r.texure;this.createMesh(e,t,i,o)}}},{key:"createMesh",value:function(e,t,n,r){var a=(0,o.default)({text:e,font:n,flipY:!0,align:"center",width:t}),u=new i.RawShaderMaterial((0,s.default)({map:r,side:i.DoubleSide,transparent:!0,opacity:1,color:16777215})),l=a.layout,c=new i.Mesh(a,u);c.rotation.x=-Math.PI,c.position.x=-l._width/2,c.position.y=l.height/2;new i.Object3D;this.add(c),this.userData.text=e}}]),t}();window.Label=l,t.default=l,t.Label=l},function(e,t,n){(function(t){var r=n(1929),i=function(){},o=n(1936),a=n(1937),s=n(1940),u=n(1941),l=n(659),c=self.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest;e.exports=function(e,n){n="function"==typeof n?n:i,"string"==typeof e?e={uri:e}:e||(e={}),e.binary&&(e=function(e){if(c)return l(e,{responseType:"arraybuffer"});if(void 0===self.XMLHttpRequest)throw new Error("your browser does not support XHR loading");var t=new self.XMLHttpRequest;return t.overrideMimeType("text/plain; charset=x-user-defined"),l({xhr:t},e)}(e)),r(e,function(r,l,c){if(r)return n(r);if(!/^2/.test(l.statusCode))return n(new Error("http status code: "+l.statusCode));if(!c)return n(new Error("no body result"));var d,f,h=!1;if(d=c,"[object ArrayBuffer]"===Object.prototype.toString.call(d)){var p=new Uint8Array(c);c=new t(p,"binary")}u(c)&&(h=!0,"string"==typeof c&&(c=new t(c,"binary"))),h||(t.isBuffer(c)&&(c=c.toString(e.encoding)),c=c.trim());try{var m=l.headers["content-type"];f=h?s(c):/json/.test(m)||"{"===c.charAt(0)?JSON.parse(c):/xml/.test(m)||"<"===c.charAt(0)?a(c):o(c)}catch(e){n(new Error("error parsing font "+e.message)),n=i}n(null,f)})}}).call(t,n(71).Buffer)},function(e,t,n){var r=n(1943),i=n(38),o=n(1946),a=n(1948),s=n(403),u=n(1950),l=n(1951),c=THREE.BufferGeometry;function d(e){c.call(this),"string"==typeof e&&(e={text:e}),this._opt=s({},e),e&&this.update(e)}e.exports=function(e){return new d(e)},i(d,c),d.prototype.update=function(e){if("string"==typeof e&&(e={text:e}),!(e=s({},this._opt,e)).font)throw new TypeError("must specify a { font } in options");this.layout=r(e);var t=!1!==e.flipY,n=e.font,i=n.common.scaleW,l=n.common.scaleH,c=this.layout.glyphs.filter(function(e){var t=e.data;return t.width*t.height>0});this.visibleGlyphs=c;var d=u.positions(c),f=u.uvs(c,i,l,t),h=o({clockwise:!0,type:"uint16",count:c.length});if(a.index(this,h,1,"uint16"),a.attr(this,"position",d,2),a.attr(this,"uv",f,2),!e.multipage&&"page"in this.attributes)this.removeAttribute("page");else if(e.multipage){var p=u.pages(c);a.attr(this,"page",p,1)}},d.prototype.computeBoundingSphere=function(){null===this.boundingSphere&&(this.boundingSphere=new THREE.Sphere);var e=this.attributes.position.array,t=this.attributes.position.itemSize;if(!e||!t||e.length<2)return this.boundingSphere.radius=0,void this.boundingSphere.center.set(0,0,0);l.computeSphere(e,this.boundingSphere),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.')},d.prototype.computeBoundingBox=function(){null===this.boundingBox&&(this.boundingBox=new THREE.Box3);var e=this.boundingBox,t=this.attributes.position.array,n=this.attributes.position.itemSize;!t||!n||t.length<2?e.makeEmpty():l.computeBox(t,e)}},function(e,t){e.exports=function(e){switch(e){case"int8":return Int8Array;case"int16":return Int16Array;case"int32":return Int32Array;case"uint8":return Uint8Array;case"uint16":return Uint16Array;case"uint32":return Uint32Array;case"float32":return Float32Array;case"float64":return Float64Array;case"array":return Array;case"uint8_clamped":return Uint8ClampedArray}}},function(e,t){function n(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
e.exports=function(e){return null!=e&&(n(e)||function(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&n(e.slice(0,0))}(e)||!!e._isBuffer)}},function(e,t,n){"use strict";var r=n(403);e.exports=function(e){var t="number"==typeof(e=e||{}).opacity?e.opacity:1,n="number"==typeof e.alphaTest?e.alphaTest:1e-4,i=e.precision||"highp",o=e.color,a=e.map;return delete e.map,delete e.color,delete e.precision,delete e.opacity,r({uniforms:{opacity:{type:"f",value:t},map:{type:"t",value:a||new THREE.Texture},color:{type:"c",value:new THREE.Color(o)}},vertexShader:["attribute vec2 uv;","attribute vec4 position;","uniform mat4 projectionMatrix;","uniform mat4 modelViewMatrix;","varying vec2 vUv;","void main() {","vUv = uv;","gl_Position = projectionMatrix * modelViewMatrix * position;","}"].join("\n"),fragmentShader:["#ifdef GL_OES_standard_derivatives","#extension GL_OES_standard_derivatives : enable","#endif","precision "+i+" float;","uniform float opacity;","uniform vec3 color;","uniform sampler2D map;","varying vec2 vUv;","float aastep(float value) {","  #ifdef GL_OES_standard_derivatives","    float afwidth = length(vec2(dFdx(value), dFdy(value))) * 0.70710678118654757;","  #else","    float afwidth = (1.0 / 32.0) * (1.4142135623730951 / (2.0 * gl_FragCoord.w));","  #endif","  return smoothstep(0.5 - afwidth, 0.5 + afwidth, value);","}","void main() {","  vec4 texColor = texture2D(map, vUv);","  float alpha = aastep(texColor.a);","  gl_FragColor = vec4(color, opacity * alpha);",0===n?"":"  if (gl_FragColor.a < "+n+") discard;","}"].join("\n")},e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(1),o=c(i),a=c(n(1961)),s=c(n(51)),u=c(n(1962)),l=c(n(50));function c(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={alpha:window.edgeAlpha?window.edgeAlpha:l.default.config.edgeDefaultAlpha,autoShowImage:e.reduxState.settings.autoShowImage,nodeSizeScale:window.currentNodesSize?1*(window.currentNodesSize/1.585*1).toFixed(1):1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),r(t,[{key:"setEdgeAlpha",value:function(e){this.setState({alpha:e}),window.edgeAlpha=e,this.changeEdgesAlpha()}},{key:"setNodeSizeScale",value:function(e){this.setState({nodeSizeScale:e}),window.nodeSizeScale=e,this.changeNodeSizeScale()}},{key:"changeEdgesAlpha",value:function(){s.default.instance().graph.visibleEdges.forEach(function(e){e.alpha=window.edgeAlpha})}},{key:"changeNodeSizeScale",value:function(){window.previousNodeSizeScale=void 0==window.previousNodeSizeScale?1:window.previousNodeSizeScale,s.default.instance().graph.visibleNodes.forEach(function(e){e.size*=window.nodeSizeScale/window.previousNodeSizeScale}),window.previousNodeSizeScale=window.nodeSizeScale,window.currentNodesSize=1.585*window.previousNodeSizeScale}},{key:"autoShowImage",value:function(e){var t=this.props.actions;this.setState({autoShowImage:e}),t.autoShowImage(e)}},{key:"render",value:function(){var e=this,t=this.props,n=t.actions,r=t.reduxState;return o.default.createElement("div",{className:"setting-panel"},o.default.createElement("div",{className:"auto-show-image"},o.default.createElement("label",null,"Auto Show Image"),o.default.createElement("input",{type:"checkbox",checked:this.state.autoShowImage,onChange:function(t){return e.autoShowImage(t.target.checked)}})),o.default.createElement("div",{className:"auto-show-image"},o.default.createElement("label",null,"Disable Node Info"),o.default.createElement("input",{type:"checkbox",checked:!!r.settings.disableNodeInfo,onChange:function(e){n.disableNodeInfo(e.target.checked)}})),o.default.createElement("div",null,o.default.createElement("label",null,"Hide Arrow"),o.default.createElement("input",{type:"checkbox",checked:!!r.settings.hideArrow,onChange:function(e){n.hideArrow(e.target.checked)}})),o.default.createElement("div",{className:"edge-setting"},o.default.createElement("label",null,"Edge Width: ",this.state.alpha," "),o.default.createElement(a.default,{onChange:function(t){return e.setEdgeAlpha(t)},min:0,max:1,value:this.state.alpha,step:.01})),o.default.createElement("div",{className:"edge-setting"},o.default.createElement("label",null,"Node Size: ",this.state.nodeSizeScale," "),o.default.createElement(a.default,{onChange:function(t){return e.setNodeSizeScale(t)},min:.1,max:5,value:this.state.nodeSizeScale,step:.1})),o.default.createElement(u.default,{actions:n,reduxState:r}))}}]),t}();t.default=d},function(e,t,n){"use strict";function r(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function i(e,t,n,i,o,a){return r((s=r(r(t,e),r(i,a)))<<(u=o)|s>>>32-u,n);var s,u}function o(e,t,n,r,o,a,s){return i(t&n|~t&r,e,t,o,a,s)}function a(e,t,n,r,o,a,s){return i(t&r|n&~r,e,t,o,a,s)}function s(e,t,n,r,o,a,s){return i(t^n^r,e,t,o,a,s)}function u(e,t,n,r,o,a,s){return i(n^(t|~r),e,t,o,a,s)}function l(e,t){e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;var n=void 0,i=void 0,l=void 0,c=void 0,d=void 0,f=1732584193,h=-271733879,p=-1732584194,m=271733878;for(n=0;n<e.length;n+=16)i=f,l=h,c=p,d=m,h=u(h=u(h=u(h=u(h=s(h=s(h=s(h=s(h=a(h=a(h=a(h=a(h=o(h=o(h=o(h=o(h,p=o(p,m=o(m,f=o(f,h,p,m,e[n],7,-680876936),h,p,e[n+1],12,-389564586),f,h,e[n+2],17,606105819),m,f,e[n+3],22,-1044525330),p=o(p,m=o(m,f=o(f,h,p,m,e[n+4],7,-176418897),h,p,e[n+5],12,1200080426),f,h,e[n+6],17,-1473231341),m,f,e[n+7],22,-45705983),p=o(p,m=o(m,f=o(f,h,p,m,e[n+8],7,1770035416),h,p,e[n+9],12,-1958414417),f,h,e[n+10],17,-42063),m,f,e[n+11],22,-1990404162),p=o(p,m=o(m,f=o(f,h,p,m,e[n+12],7,1804603682),h,p,e[n+13],12,-40341101),f,h,e[n+14],17,-1502002290),m,f,e[n+15],22,1236535329),p=a(p,m=a(m,f=a(f,h,p,m,e[n+1],5,-165796510),h,p,e[n+6],9,-1069501632),f,h,e[n+11],14,643717713),m,f,e[n],20,-373897302),p=a(p,m=a(m,f=a(f,h,p,m,e[n+5],5,-701558691),h,p,e[n+10],9,38016083),f,h,e[n+15],14,-660478335),m,f,e[n+4],20,-405537848),p=a(p,m=a(m,f=a(f,h,p,m,e[n+9],5,568446438),h,p,e[n+14],9,-1019803690),f,h,e[n+3],14,-187363961),m,f,e[n+8],20,1163531501),p=a(p,m=a(m,f=a(f,h,p,m,e[n+13],5,-1444681467),h,p,e[n+2],9,-51403784),f,h,e[n+7],14,1735328473),m,f,e[n+12],20,-1926607734),p=s(p,m=s(m,f=s(f,h,p,m,e[n+5],4,-378558),h,p,e[n+8],11,-2022574463),f,h,e[n+11],16,1839030562),m,f,e[n+14],23,-35309556),p=s(p,m=s(m,f=s(f,h,p,m,e[n+1],4,-1530992060),h,p,e[n+4],11,1272893353),f,h,e[n+7],16,-155497632),m,f,e[n+10],23,-1094730640),p=s(p,m=s(m,f=s(f,h,p,m,e[n+13],4,681279174),h,p,e[n],11,-358537222),f,h,e[n+3],16,-722521979),m,f,e[n+6],23,76029189),p=s(p,m=s(m,f=s(f,h,p,m,e[n+9],4,-640364487),h,p,e[n+12],11,-421815835),f,h,e[n+15],16,530742520),m,f,e[n+2],23,-995338651),p=u(p,m=u(m,f=u(f,h,p,m,e[n],6,-198630844),h,p,e[n+7],10,1126891415),f,h,e[n+14],15,-1416354905),m,f,e[n+5],21,-57434055),p=u(p,m=u(m,f=u(f,h,p,m,e[n+12],6,1700485571),h,p,e[n+3],10,-1894986606),f,h,e[n+10],15,-1051523),m,f,e[n+1],21,-2054922799),p=u(p,m=u(m,f=u(f,h,p,m,e[n+8],6,1873313359),h,p,e[n+15],10,-30611744),f,h,e[n+6],15,-1560198380),m,f,e[n+13],21,1309151649),p=u(p,m=u(m,f=u(f,h,p,m,e[n+4],6,-145523070),h,p,e[n+11],10,-1120210379),f,h,e[n+2],15,718787259),m,f,e[n+9],21,-343485551),f=r(f,i),h=r(h,l),p=r(p,c),m=r(m,d);return[f,h,p,m]}function c(e){var t=void 0,n="",r=32*e.length;for(t=0;t<r;t+=8)n+=String.fromCharCode(e[t>>5]>>>t%32&255);return n}function d(e){var t=void 0,n=[];for(n[(e.length>>2)-1]=void 0,t=0;t<n.length;t+=1)n[t]=0;var r=8*e.length;for(t=0;t<r;t+=8)n[t>>5]|=(255&e.charCodeAt(t/8))<<t%32;return n}function f(e){var t="",n=void 0,r=void 0;for(r=0;r<e.length;r+=1)n=e.charCodeAt(r),t+="0123456789abcdef".charAt(n>>>4&15)+"0123456789abcdef".charAt(15&n);return t}function h(e){return unescape(encodeURIComponent(e))}function p(e){return function(e){return c(l(d(e),8*e.length))}(h(e))}function m(e,t){return function(e,t){var n,r=void 0,i=d(e),o=[],a=[];for(o[15]=a[15]=void 0,i.length>16&&(i=l(i,8*e.length)),r=0;r<16;r+=1)o[r]=909522486^i[r],a[r]=1549556828^i[r];return n=l(o.concat(d(t)),512+8*t.length),c(l(a.concat(n),640))}(h(e),h(t))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){if(!t)return n?p(e):f(p(e));if(!n)return f(m(t,e));return m(t,e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(1),o=s(i),a=s(n(329));function s(e){return e&&e.__esModule?e:{default:e}}n(401);var u=(0,a.default.createSliderWithTooltip)(a.default.Range),l=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),r=n.props,i=r.name,o=r.min,a=r.max,s=r.currentMin,u=r.currentMax,l=r.step;return n.state={name:i||"",min:o||0,max:a||0,fix:!1,currentMin:s||0,currentMax:u||0,step:l||0},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),r(t,[{key:"componentWillReceiveProps",value:function(e){if(e!=this.props){var t=e.name,n=e.min,r=e.max,i=e.currentMin,o=e.currentMax,a=e.step;this.setState({name:t||"",min:n||0,max:r||0,fix:!1,currentMin:i||0,currentMax:o||0,step:a||0})}this.props=e}},{key:"onAfterChange",value:function(e){this.props.onAfterChange&&this.props.onAfterChange(e)}},{key:"onSliderChange",value:function(e){var t=Math.max(e[0],e[1]),n=Math.min(e[0],e[1]);this.setState({currentMin:n,currentMax:t}),this.props.onChange&&this.props.onChange(n,t)}},{key:"render",value:function(){var e=this,t=this.state,n=t.name,r=t.min,i=t.max,a=t.currentMin,s=t.currentMax,l=t.step;return o.default.createElement("div",{className:"tour-kv-range kv-range "+n},o.default.createElement(u,{min:r,max:i,defaultValue:[r,i],step:l,value:[a,s],onChange:function(t){return e.onSliderChange(t)},onAfterChange:function(t){return e.onAfterChange(t)},allowCross:!0,tipFormatter:function(e){return e}}),o.default.createElement("div",{className:"min-max"},o.default.createElement("span",{className:"min"},r),o.default.createElement("span",{className:"max"},i)))}}]),t}();t.default=l},function(e,t,n){"use strict";t.isObject=function(e){return null!=e&&"object"==typeof e}},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},i=function(e){function t(t){e.call(this),this.errors=t;var n=Error.call(this,t?t.length+" errors occurred during unsubscription:\n  "+t.map(function(e,t){return t+1+") "+e.toString()}).join("\n  "):"");this.name=n.name="UnsubscriptionError",this.stack=n.stack,this.message=n.message}return r(t,e),t}(Error);t.UnsubscriptionError=i},function(e,t,n){"use strict";t.empty={closed:!0,next:function(e){},error:function(e){throw e},complete:function(){}}},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},i=function(e){function t(t,n){e.call(this),this.subject=t,this.subscriber=n,this.closed=!1}return r(t,e),t.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var e=this.subject,t=e.observers;if(this.subject=null,t&&0!==t.length&&!e.isStopped&&!e.closed){var n=t.indexOf(this.subscriber);-1!==n&&t.splice(n,1)}}},t}(n(103).Subscription);t.SubjectSubscription=i},function(e,t,n){"use strict";t.isArrayLike=function(e){return e&&"number"==typeof e.length}},function(e,t,n){"use strict";t.isPromise=function(e){return e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}},function(e,t,n){"use strict";var r=n(1177);t.from=r.FromObservable.create},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},i=n(288),o=n(1174),a=n(1175),s=n(1178),u=n(2e3),l=n(331),c=n(2001),d=n(465),f=n(7),h=n(566),p=n(562),m=function(e){function t(t,n){e.call(this,null),this.ish=t,this.scheduler=n}return r(t,e),t.create=function(e,n){if(null!=e){if("function"==typeof e[p.observable])return e instanceof f.Observable&&!n?e:new t(e,n);if(i.isArray(e))return new l.ArrayObservable(e,n);if(a.isPromise(e))return new s.PromiseObservable(e,n);if("function"==typeof e[d.iterator]||"string"==typeof e)return new u.IteratorObservable(e,n);if(o.isArrayLike(e))return new c.ArrayLikeObservable(e,n)}throw new TypeError((null!==e&&typeof e||e)+" is not observable")},t.prototype._subscribe=function(e){var t=this.ish,n=this.scheduler;return null==n?t[p.observable]().subscribe(e):t[p.observable]().subscribe(new h.ObserveOnSubscriber(e,n,0))},t}(f.Observable);t.FromObservable=m},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},i=n(116),o=function(e){function t(t,n){e.call(this),this.promise=t,this.scheduler=n}return r(t,e),t.create=function(e,n){return new t(e,n)},t.prototype._subscribe=function(e){var t=this,n=this.promise,r=this.scheduler;if(null==r)this._isScalar?e.closed||(e.next(this.value),e.complete()):n.then(function(n){t.value=n,t._isScalar=!0,e.closed||(e.next(n),e.complete())},function(t){e.closed||e.error(t)}).then(null,function(e){i.root.setTimeout(function(){throw e})});else if(this._isScalar){if(!e.closed)return r.schedule(a,0,{value:this.value,subscriber:e})}else n.then(function(n){t.value=n,t._isScalar=!0,e.closed||e.add(r.schedule(a,0,{value:n,subscriber:e}))},function(t){e.closed||e.add(r.schedule(s,0,{err:t,subscriber:e}))}).then(null,function(e){i.root.setTimeout(function(){throw e})})},t}(n(7).Observable);function a(e){var t=e.value,n=e.subscriber;n.closed||(n.next(t),n.complete())}function s(e){var t=e.err,n=e.subscriber;n.closed||n.error(t)}t.PromiseObservable=o},function(e,t,n){"use strict";t.identity=function(e){return e}},function(e,t,n){"use strict";var r=n(2012);t.fromEvent=r.FromEventObservable.create},function(e,t,n){"use strict";var r=n(2025);t.interval=r.IntervalObservable.create},function(e,t,n){"use strict";var r=n(2049);t.timer=r.TimerObservable.create},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},i=n(116),o=n(113),a=n(108),s=n(7),u=n(24),l=n(472);function c(e,t){return void 0===t&&(t=null),new y({method:"GET",url:e,headers:t})}function d(e,t,n){return new y({method:"POST",url:e,body:t,headers:n})}function f(e,t){return new y({method:"DELETE",url:e,headers:t})}function h(e,t,n){return new y({method:"PUT",url:e,body:t,headers:n})}function p(e,t,n){return new y({method:"PATCH",url:e,body:t,headers:n})}t.ajaxGet=c,t.ajaxPost=d,t.ajaxDelete=f,t.ajaxPut=h,t.ajaxPatch=p;var m=l.map(function(e,t){return e.response});function g(e,t){return m(new y({method:"GET",url:e,responseType:"json",headers:t}))}t.ajaxGetJSON=g;var y=function(e){function t(t){e.call(this);var n={async:!0,createXHR:function(){return this.crossDomain?function(){if(i.root.XMLHttpRequest)return new i.root.XMLHttpRequest;if(i.root.XDomainRequest)return new i.root.XDomainRequest;throw new Error("CORS is not supported by your browser")}.call(this):function(){if(i.root.XMLHttpRequest)return new i.root.XMLHttpRequest;var e=void 0;try{for(var t=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],n=0;n<3;n++)try{if(e=t[n],new i.root.ActiveXObject(e))break}catch(e){}return new i.root.ActiveXObject(e)}catch(e){throw new Error("XMLHttpRequest is not supported by your browser")}}()},crossDomain:!1,withCredentials:!1,headers:{},method:"GET",responseType:"json",timeout:0};if("string"==typeof t)n.url=t;else for(var r in t)t.hasOwnProperty(r)&&(n[r]=t[r]);this.request=n}var n;return r(t,e),t.prototype._subscribe=function(e){return new v(e,this.request)},t.create=((n=function(e){return new t(e)}).get=c,n.post=d,n.delete=f,n.put=h,n.patch=p,n.getJSON=g,n),t}(s.Observable);t.AjaxObservable=y;var v=function(e){function t(t,n){e.call(this,t),this.request=n,this.done=!1;var r=n.headers=n.headers||{};n.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest"),"Content-Type"in r||i.root.FormData&&n.body instanceof i.root.FormData||void 0===n.body||(r["Content-Type"]="application/x-www-form-urlencoded; charset=UTF-8"),n.body=this.serializeBody(n.body,n.headers["Content-Type"]),this.send()}return r(t,e),t.prototype.next=function(e){this.done=!0;var t=this.xhr,n=this.request,r=this.destination,i=new b(e,t,n);r.next(i)},t.prototype.send=function(){var e=this.request,t=this.request,n=t.user,r=t.method,i=t.url,s=t.async,u=t.password,l=t.headers,c=t.body,d=e.createXHR,f=o.tryCatch(d).call(e);if(f===a.errorObject)this.error(a.errorObject.e);else{this.xhr=f,this.setupEvents(f,e);if((n?o.tryCatch(f.open).call(f,r,i,s,n,u):o.tryCatch(f.open).call(f,r,i,s))===a.errorObject)return this.error(a.errorObject.e),null;if(s&&(f.timeout=e.timeout,f.responseType=e.responseType),"withCredentials"in f&&(f.withCredentials=!!e.withCredentials),this.setHeaders(f,l),(c?o.tryCatch(f.send).call(f,c):o.tryCatch(f.send).call(f))===a.errorObject)return this.error(a.errorObject.e),null}return f},t.prototype.serializeBody=function(e,t){if(!e||"string"==typeof e)return e;if(i.root.FormData&&e instanceof i.root.FormData)return e;if(t){var n=t.indexOf(";");-1!==n&&(t=t.substring(0,n))}switch(t){case"application/x-www-form-urlencoded":return Object.keys(e).map(function(t){return encodeURIComponent(t)+"="+encodeURIComponent(e[t])}).join("&");case"application/json":return JSON.stringify(e);default:return e}},t.prototype.setHeaders=function(e,t){for(var n in t)t.hasOwnProperty(n)&&e.setRequestHeader(n,t[n])},t.prototype.setupEvents=function(e,t){var n=t.progressSubscriber;function r(e){var t=r,n=t.subscriber,i=t.progressSubscriber,o=t.request;i&&i.error(e),n.error(new k(this,o))}if(e.ontimeout=r,r.request=t,r.subscriber=this,r.progressSubscriber=n,e.upload&&"withCredentials"in e){var o,a;if(n)o=function(e){o.progressSubscriber.next(e)},i.root.XDomainRequest?e.onprogress=o:e.upload.onprogress=o,o.progressSubscriber=n;a=function(e){var t=a,n=t.progressSubscriber,r=t.subscriber,i=t.request;n&&n.error(e),r.error(new _("ajax error",this,i))},e.onerror=a,a.request=t,a.subscriber=this,a.progressSubscriber=n}function s(e){var t=s,n=t.subscriber,r=t.progressSubscriber,i=t.request;if(4===this.readyState){var o=1223===this.status?204:this.status,a="text"===this.responseType?this.response||this.responseText:this.response;0===o&&(o=a?200:0),200<=o&&o<300?(r&&r.complete(),n.next(e),n.complete()):(r&&r.error(e),n.error(new _("ajax error "+o,this,i)))}}e.onreadystatechange=s,s.subscriber=this,s.progressSubscriber=n,s.request=t},t.prototype.unsubscribe=function(){var t=this.done,n=this.xhr;!t&&n&&4!==n.readyState&&"function"==typeof n.abort&&n.abort(),e.prototype.unsubscribe.call(this)},t}(u.Subscriber);t.AjaxSubscriber=v;var b=function(){return function(e,t,n){this.originalEvent=e,this.xhr=t,this.request=n,this.status=t.status,this.responseType=t.responseType||n.responseType,this.response=w(this.responseType,t)}}();t.AjaxResponse=b;var _=function(e){function t(t,n,r){e.call(this,t),this.message=t,this.xhr=n,this.request=r,this.status=n.status,this.responseType=n.responseType||r.responseType,this.response=w(this.responseType,n)}return r(t,e),t}(Error);function w(e,t){switch(e){case"json":return"response"in t?t.responseType?t.response:JSON.parse(t.response||t.responseText||"null"):JSON.parse(t.responseText||"null");case"xml":return t.responseXML;case"text":default:return"response"in t?t.response:t.responseText}}t.AjaxError=_;var k=function(e){function t(t,n){e.call(this,"ajax timeout",t,n)}return r(t,e),t}(_);t.AjaxTimeoutError=k},function(e,t,n){"use strict";var r=n(2057),i=n(2058);t.queue=new i.QueueScheduler(r.QueueAction)},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},i=n(45),o=n(46);t.buffer=function(e){return function(t){return t.lift(new a(e))}};var a=function(){function e(e){this.closingNotifier=e}return e.prototype.call=function(e,t){return t.subscribe(new s(e,this.closingNotifier))},e}(),s=function(e){function t(t,n){e.call(this,t),this.buffer=[],this.add(o.subscribeToResult(this,n))}return r(t,e),t.prototype._next=function(e){this.buffer.push(e)},t.prototype.notifyNext=function(e,t,n,r,i){var o=this.buffer;this.buffer=[],this.destination.next(o)},t}(i.OuterSubscriber)},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},i=n(24);t.bufferCount=function(e,t){return void 0===t&&(t=null),function(n){return n.lift(new o(e,t))}};var o=function(){function e(e,t){this.bufferSize=e,this.startBufferEvery=t,this.subscriberClass=t&&e!==t?s:a}return e.prototype.call=function(e,t){return t.subscribe(new this.subscriberClass(e,this.bufferSize,this.startBufferEvery))},e}(),a=function(e){function t(t,n){e.call(this,t),this.bufferSize=n,this.buffer=[]}return r(t,e),t.prototype._next=function(e){var t=this.buffer;t.push(e),t.length==this.bufferSize&&(this.destination.next(t),this.buffer=[])},t.prototype._complete=function(){var t=this.buffer;t.length>0&&this.destination.next(t),e.prototype._complete.call(this)},t}(i.Subscriber),s=function(e){function t(t,n,r){e.call(this,t),this.bufferSize=n,this.startBufferEvery=r,this.buffers=[],this.count=0}return r(t,e),t.prototype._next=function(e){var t=this.bufferSize,n=this.startBufferEvery,r=this.buffers,i=this.count;this.count++,i%n==0&&r.push([]);for(var o=r.length;o--;){var a=r[o];a.push(e),a.length===t&&(r.splice(o,1),this.destination.next(a))}},t.prototype._complete=function(){for(var t=this.buffers,n=this.destination;t.length>0;){var r=t.shift();r.length>0&&n.next(r)}e.prototype._complete.call(this)},t}(i.Subscriber)},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},i=n(73),o=n(24),a=n(276);t.bufferTime=function(e){var t=arguments.length,n=i.async;a.isScheduler(arguments[arguments.length-1])&&(n=arguments[arguments.length-1],t--);var r=null;t>=2&&(r=arguments[1]);var o=Number.POSITIVE_INFINITY;return t>=3&&(o=arguments[2]),function(t){return t.lift(new s(e,r,o,n))}};var s=function(){function e(e,t,n,r){this.bufferTimeSpan=e,this.bufferCreationInterval=t,this.maxBufferSize=n,this.scheduler=r}return e.prototype.call=function(e,t){return t.subscribe(new l(e,this.bufferTimeSpan,this.bufferCreationInterval,this.maxBufferSize,this.scheduler))},e}(),u=function(){return function(){this.buffer=[]}}(),l=function(e){function t(t,n,r,i,o){e.call(this,t),this.bufferTimeSpan=n,this.bufferCreationInterval=r,this.maxBufferSize=i,this.scheduler=o,this.contexts=[];var a=this.openContext();if(this.timespanOnly=null==r||r<0,this.timespanOnly){var s={subscriber:this,context:a,bufferTimeSpan:n};this.add(a.closeAction=o.schedule(c,n,s))}else{var u={subscriber:this,context:a},l={bufferTimeSpan:n,bufferCreationInterval:r,subscriber:this,scheduler:o};this.add(a.closeAction=o.schedule(f,n,u)),this.add(o.schedule(d,r,l))}}return r(t,e),t.prototype._next=function(e){for(var t,n=this.contexts,r=n.length,i=0;i<r;i++){var o=n[i],a=o.buffer;a.push(e),a.length==this.maxBufferSize&&(t=o)}t&&this.onBufferFull(t)},t.prototype._error=function(t){this.contexts.length=0,e.prototype._error.call(this,t)},t.prototype._complete=function(){for(var t=this.contexts,n=this.destination;t.length>0;){var r=t.shift();n.next(r.buffer)}e.prototype._complete.call(this)},t.prototype._unsubscribe=function(){this.contexts=null},t.prototype.onBufferFull=function(e){this.closeContext(e);var t=e.closeAction;if(t.unsubscribe(),this.remove(t),!this.closed&&this.timespanOnly){e=this.openContext();var n=this.bufferTimeSpan,r={subscriber:this,context:e,bufferTimeSpan:n};this.add(e.closeAction=this.scheduler.schedule(c,n,r))}},t.prototype.openContext=function(){var e=new u;return this.contexts.push(e),e},t.prototype.closeContext=function(e){this.destination.next(e.buffer);var t=this.contexts;(t?t.indexOf(e):-1)>=0&&t.splice(t.indexOf(e),1)},t}(o.Subscriber);function c(e){var t=e.subscriber,n=e.context;n&&t.closeContext(n),t.closed||(e.context=t.openContext(),e.context.closeAction=this.schedule(e,e.bufferTimeSpan))}function d(e){var t=e.bufferCreationInterval,n=e.bufferTimeSpan,r=e.subscriber,i=e.scheduler,o=r.openContext();r.closed||(r.add(o.closeAction=i.schedule(f,n,{subscriber:r,context:o})),this.schedule(e,t))}function f(e){var t=e.subscriber,n=e.context;t.closeContext(n)}},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},i=n(103),o=n(46),a=n(45);t.bufferToggle=function(e,t){return function(n){return n.lift(new s(e,t))}};var s=function(){function e(e,t){this.openings=e,this.closingSelector=t}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.openings,this.closingSelector))},e}(),u=function(e){function t(t,n,r){e.call(this,t),this.openings=n,this.closingSelector=r,this.contexts=[],this.add(o.subscribeToResult(this,n))}return r(t,e),t.prototype._next=function(e){for(var t=this.contexts,n=t.length,r=0;r<n;r++)t[r].buffer.push(e)},t.prototype._error=function(t){for(var n=this.contexts;n.length>0;){var r=n.shift();r.subscription.unsubscribe(),r.buffer=null,r.subscription=null}this.contexts=null,e.prototype._error.call(this,t)},t.prototype._complete=function(){for(var t=this.contexts;t.length>0;){var n=t.shift();this.destination.next(n.buffer),n.subscription.unsubscribe(),n.buffer=null,n.subscription=null}this.contexts=null,e.prototype._complete.call(this)},t.prototype.notifyNext=function(e,t,n,r,i){e?this.closeBuffer(e):this.openBuffer(t)},t.prototype.notifyComplete=function(e){this.closeBuffer(e.context)},t.prototype.openBuffer=function(e){try{var t=this.closingSelector.call(this,e);t&&this.trySubscribe(t)}catch(e){this._error(e)}},t.prototype.closeBuffer=function(e){var t=this.contexts;if(t&&e){var n=e.buffer,r=e.subscription;this.destination.next(n),t.splice(t.indexOf(e),1),this.remove(r),r.unsubscribe()}},t.prototype.trySubscribe=function(e){var t=this.contexts,n=new i.Subscription,r={buffer:[],subscription:n};t.push(r);var a=o.subscribeToResult(this,e,r);!a||a.closed?this.closeBuffer(r):(a.context=r,this.add(a),n.add(a))},t}(a.OuterSubscriber)},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},i=n(103),o=n(113),a=n(108),s=n(45),u=n(46);t.bufferWhen=function(e){return function(t){return t.lift(new l(e))}};var l=function(){function e(e){this.closingSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.closingSelector))},e}(),c=function(e){function t(t,n){e.call(this,t),this.closingSelector=n,this.subscribing=!1,this.openBuffer()}return r(t,e),t.prototype._next=function(e){this.buffer.push(e)},t.prototype._complete=function(){var t=this.buffer;t&&this.destination.next(t),e.prototype._complete.call(this)},t.prototype._unsubscribe=function(){this.buffer=null,this.subscribing=!1},t.prototype.notifyNext=function(e,t,n,r,i){this.openBuffer()},t.prototype.notifyComplete=function(){this.subscribing?this.complete():this.openBuffer()},t.prototype.openBuffer=function(){var e=this.closingSubscription;e&&(this.remove(e),e.unsubscribe());var t=this.buffer;this.buffer&&this.destination.next(t),this.buffer=[];var n=o.tryCatch(this.closingSelector)();n===a.errorObject?this.error(a.errorObject.e):(e=new i.Subscription,this.closingSubscription=e,this.add(e),this.subscribing=!0,e.add(u.subscribeToResult(this,n)),this.subscribing=!1)},t}(s.OuterSubscriber)},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},i=n(45),o=n(46);t.catchError=function(e){return function(t){var n=new a(e),r=t.lift(n);return n.caught=r}};var a=function(){function e(e){this.selector=e}return e.prototype.call=function(e,t){return t.subscribe(new s(e,this.selector,this.caught))},e}(),s=function(e){function t(t,n,r){e.call(this,t),this.selector=n,this.caught=r}return r(t,e),t.prototype.error=function(t){if(!this.isStopped){var n=void 0;try{n=this.selector(t,this.caught)}catch(t){return void e.prototype.error.call(this,t)}this._unsubscribeAndRecycle(),this.add(o.subscribeToResult(this,n))}},t}(i.OuterSubscriber)},function(e,t,n){"use strict";var r=n(565);t.combineAll=function(e){return function(t){return t.lift(new r.CombineLatestOperator(e))}}},function(e,t,n){"use strict";var r=n(466),i=n(466);t.concatStatic=i.concat,t.concat=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return function(t){return t.lift.call(r.concat.apply(void 0,[t].concat(e)))}}},function(e,t,n){"use strict";var r=n(755);t.concatMapTo=function(e,t){return r.concatMap(function(){return e},t)}},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},i=n(24);t.count=function(e){return function(t){return t.lift(new o(e,t))}};var o=function(){function e(e,t){this.predicate=e,this.source=t}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.predicate,this.source))},e}(),a=function(e){function t(t,n,r){e.call(this,t),this.predicate=n,this.source=r,this.count=0,this.index=0}return r(t,e),t.prototype._next=function(e){this.predicate?this._tryPredicate(e):this.count++},t.prototype._tryPredicate=function(e){var t;try{t=this.predicate(e,this.index++,this.source)}catch(e){return void this.destination.error(e)}t&&this.count++},t.prototype._complete=function(){this.destination.next(this.count),this.destination.complete()},t}(i.Subscriber)},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},i=n(24);t.dematerialize=function(){return function(e){return e.lift(new o)}};var o=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new a(e))},e}(),a=function(e){function t(t){e.call(this,t)}return r(t,e),t.prototype._next=function(e){e.observe(this.destination)},t}(i.Subscriber)},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},i=n(45),o=n(46);t.debounce=function(e){return function(t){return t.lift(new a(e))}};var a=function(){function e(e){this.durationSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new s(e,this.durationSelector))},e}(),s=function(e){function t(t,n){e.call(this,t),this.durationSelector=n,this.hasValue=!1,this.durationSubscription=null}return r(t,e),t.prototype._next=function(e){try{var t=this.durationSelector.call(this,e);t&&this._tryNext(e,t)}catch(e){this.destination.error(e)}},t.prototype._complete=function(){this.emitValue(),this.destination.complete()},t.prototype._tryNext=function(e,t){var n=this.durationSubscription;this.value=e,this.hasValue=!0,n&&(n.unsubscribe(),this.remove(n)),(n=o.subscribeToResult(this,t)).closed||this.add(this.durationSubscription=n)},t.prototype.notifyNext=function(e,t,n,r,i){this.emitValue()},t.prototype.notifyComplete=function(){this.emitValue()},t.prototype.emitValue=function(){if(this.hasValue){var t=this.value,n=this.durationSubscription;n&&(this.durationSubscription=null,n.unsubscribe(),this.remove(n)),this.value=null,this.hasValue=!1,e.prototype._next.call(this,t)}},t}(i.OuterSubscriber)},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},i=n(24),o=n(73);t.debounceTime=function(e,t){return void 0===t&&(t=o.async),function(n){return n.lift(new a(e,t))}};var a=function(){function e(e,t){this.dueTime=e,this.scheduler=t}return e.prototype.call=function(e,t){return t.subscribe(new s(e,this.dueTime,this.scheduler))},e}(),s=function(e){function t(t,n,r){e.call(this,t),this.dueTime=n,this.scheduler=r,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}return r(t,e),t.prototype._next=function(e){this.clearDebounce(),this.lastValue=e,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(u,this.dueTime,this))},t.prototype._complete=function(){this.debouncedNext(),this.destination.complete()},t.prototype.debouncedNext=function(){this.clearDebounce(),this.hasValue&&(this.destination.next(this.lastValue),this.lastValue=null,this.hasValue=!1)},t.prototype.clearDebounce=function(){var e=this.debouncedSubscription;null!==e&&(this.remove(e),e.unsubscribe(),this.debouncedSubscription=null)},t}(i.Subscriber);function u(e){e.debouncedNext()}},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},i=n(73),o=n(569),a=n(24),s=n(467);t.delay=function(e,t){void 0===t&&(t=i.async);var n=o.isDate(e)?+e-t.now():Math.abs(e);return function(e){return e.lift(new u(n,t))}};var u=function(){function e(e,t){this.delay=e,this.scheduler=t}return e.prototype.call=function(e,t){return t.subscribe(new l(e,this.delay,this.scheduler))},e}(),l=function(e){function t(t,n,r){e.call(this,t),this.delay=n,this.scheduler=r,this.queue=[],this.active=!1,this.errored=!1}return r(t,e),t.dispatch=function(e){for(var t=e.source,n=t.queue,r=e.scheduler,i=e.destination;n.length>0&&n[0].time-r.now()<=0;)n.shift().notification.observe(i);if(n.length>0){var o=Math.max(0,n[0].time-r.now());this.schedule(e,o)}else this.unsubscribe(),t.active=!1},t.prototype._schedule=function(e){this.active=!0,this.add(e.schedule(t.dispatch,this.delay,{source:this,destination:this.destination,scheduler:e}))},t.prototype.scheduleNotification=function(e){if(!0!==this.errored){var t=this.scheduler,n=new c(t.now()+this.delay,e);this.queue.push(n),!1===this.active&&this._schedule(t)}},t.prototype._next=function(e){this.scheduleNotification(s.Notification.createNext(e))},t.prototype._error=function(e){this.errored=!0,this.queue=[],this.destination.error(e)},t.prototype._complete=function(){this.scheduleNotification(s.Notification.createComplete())},t}(a.Subscriber),c=function(){return function(e,t){this.time=e,this.notification=t}}()},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},i=n(24),o=n(7),a=n(45),s=n(46);t.delayWhen=function(e,t){return t?function(n){return new c(n,t).lift(new u(e))}:function(t){return t.lift(new u(e))}};var u=function(){function e(e){this.delayDurationSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new l(e,this.delayDurationSelector))},e}(),l=function(e){function t(t,n){e.call(this,t),this.delayDurationSelector=n,this.completed=!1,this.delayNotifierSubscriptions=[],this.values=[]}return r(t,e),t.prototype.notifyNext=function(e,t,n,r,i){this.destination.next(e),this.removeSubscription(i),this.tryComplete()},t.prototype.notifyError=function(e,t){this._error(e)},t.prototype.notifyComplete=function(e){var t=this.removeSubscription(e);t&&this.destination.next(t),this.tryComplete()},t.prototype._next=function(e){try{var t=this.delayDurationSelector(e);t&&this.tryDelay(t,e)}catch(e){this.destination.error(e)}},t.prototype._complete=function(){this.completed=!0,this.tryComplete()},t.prototype.removeSubscription=function(e){e.unsubscribe();var t=this.delayNotifierSubscriptions.indexOf(e),n=null;return-1!==t&&(n=this.values[t],this.delayNotifierSubscriptions.splice(t,1),this.values.splice(t,1)),n},t.prototype.tryDelay=function(e,t){var n=s.subscribeToResult(this,e,t);n&&!n.closed&&(this.add(n),this.delayNotifierSubscriptions.push(n)),this.values.push(t)},t.prototype.tryComplete=function(){this.completed&&0===this.delayNotifierSubscriptions.length&&this.destination.complete()},t}(a.OuterSubscriber),c=function(e){function t(t,n){e.call(this),this.source=t,this.subscriptionDelay=n}return r(t,e),t.prototype._subscribe=function(e){this.subscriptionDelay.subscribe(new d(e,this.source))},t}(o.Observable),d=function(e){function t(t,n){e.call(this),this.parent=t,this.source=n,this.sourceSubscribed=!1}return r(t,e),t.prototype._next=function(e){this.subscribeToSource()},t.prototype._error=function(e){this.unsubscribe(),this.parent.error(e)},t.prototype._complete=function(){this.subscribeToSource()},t.prototype.subscribeToSource=function(){this.sourceSubscribed||(this.sourceSubscribed=!0,this.unsubscribe(),this.source.subscribe(this.parent))},t}(i.Subscriber)},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},i=n(45),o=n(46),a=n(2100);t.distinct=function(e,t){return function(n){return n.lift(new s(e,t))}};var s=function(){function e(e,t){this.keySelector=e,this.flushes=t}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.keySelector,this.flushes))},e}(),u=function(e){function t(t,n,r){e.call(this,t),this.keySelector=n,this.values=new a.Set,r&&this.add(o.subscribeToResult(this,r))}return r(t,e),t.prototype.notifyNext=function(e,t,n,r,i){this.values.clear()},t.prototype.notifyError=function(e,t){this._error(e)},t.prototype._next=function(e){this.keySelector?this._useKeySelector(e):this._finalizeNext(e,e)},t.prototype._useKeySelector=function(e){var t,n=this.destination;try{t=this.keySelector(e)}catch(e){return void n.error(e)}this._finalizeNext(t,e)},t.prototype._finalizeNext=function(e,t){var n=this.values;n.has(e)||(n.add(e),this.destination.next(t))},t}(i.OuterSubscriber);t.DistinctSubscriber=u},function(e,t,n){"use strict";var r=n(757);t.distinctUntilKeyChanged=function(e,t){return r.distinctUntilChanged(function(n,r){return t?t(n[e],r[e]):n[e]===r[e]})}},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},i=n(24);t.tap=function(e,t,n){return function(r){return r.lift(new o(e,t,n))}};var o=function(){function e(e,t,n){this.nextOrObserver=e,this.error=t,this.complete=n}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.nextOrObserver,this.error,this.complete))},e}(),a=function(e){function t(t,n,r,o){e.call(this,t);var a=new i.Subscriber(n,r,o);a.syncErrorThrowable=!0,this.add(a),this.safeSubscriber=a}return r(t,e),t.prototype._next=function(e){var t=this.safeSubscriber;t.next(e),t.syncErrorThrown?this.destination.error(t.syncErrorValue):this.destination.next(e)},t.prototype._error=function(e){var t=this.safeSubscriber;t.error(e),t.syncErrorThrown?this.destination.error(t.syncErrorValue):this.destination.error(e)},t.prototype._complete=function(){var e=this.safeSubscriber;e.complete(),e.syncErrorThrown?this.destination.error(e.syncErrorValue):this.destination.complete()},t}(i.Subscriber)},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},i=n(45),o=n(46);t.exhaust=function(){return function(e){return e.lift(new a)}};var a=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new s(e))},e}(),s=function(e){function t(t){e.call(this,t),this.hasCompleted=!1,this.hasSubscription=!1}return r(t,e),t.prototype._next=function(e){this.hasSubscription||(this.hasSubscription=!0,this.add(o.subscribeToResult(this,e)))},t.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete()},t.prototype.notifyComplete=function(e){this.remove(e),this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},t}(i.OuterSubscriber)},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},i=n(45),o=n(46);t.exhaustMap=function(e,t){return function(n){return n.lift(new a(e,t))}};var a=function(){function e(e,t){this.project=e,this.resultSelector=t}return e.prototype.call=function(e,t){return t.subscribe(new s(e,this.project,this.resultSelector))},e}(),s=function(e){function t(t,n,r){e.call(this,t),this.project=n,this.resultSelector=r,this.hasSubscription=!1,this.hasCompleted=!1,this.index=0}return r(t,e),t.prototype._next=function(e){this.hasSubscription||this.tryNext(e)},t.prototype.tryNext=function(e){var t=this.index++,n=this.destination;try{var r=this.project(e,t);this.hasSubscription=!0,this.add(o.subscribeToResult(this,r,e,t))}catch(e){n.error(e)}},t.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete()},t.prototype.notifyNext=function(e,t,n,r,i){var o=this.resultSelector,a=this.destination;o?this.trySelectResult(e,t,n,r):a.next(t)},t.prototype.trySelectResult=function(e,t,n,r){var i=this.resultSelector,o=this.destination;try{var a=i(e,t,n,r);o.next(a)}catch(e){o.error(e)}},t.prototype.notifyError=function(e){this.destination.error(e)},t.prototype.notifyComplete=function(e){this.remove(e),this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},t}(i.OuterSubscriber)},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},i=n(113),o=n(108),a=n(45),s=n(46);t.expand=function(e,t,n){return void 0===t&&(t=Number.POSITIVE_INFINITY),void 0===n&&(n=void 0),t=(t||0)<1?Number.POSITIVE_INFINITY:t,function(r){return r.lift(new u(e,t,n))}};var u=function(){function e(e,t,n){this.project=e,this.concurrent=t,this.scheduler=n}return e.prototype.call=function(e,t){return t.subscribe(new l(e,this.project,this.concurrent,this.scheduler))},e}();t.ExpandOperator=u;var l=function(e){function t(t,n,r,i){e.call(this,t),this.project=n,this.concurrent=r,this.scheduler=i,this.index=0,this.active=0,this.hasCompleted=!1,r<Number.POSITIVE_INFINITY&&(this.buffer=[])}return r(t,e),t.dispatch=function(e){var t=e.subscriber,n=e.result,r=e.value,i=e.index;t.subscribeToProjection(n,r,i)},t.prototype._next=function(e){var n=this.destination;if(n.closed)this._complete();else{var r=this.index++;if(this.active<this.concurrent){n.next(e);var a=i.tryCatch(this.project)(e,r);if(a===o.errorObject)n.error(o.errorObject.e);else if(this.scheduler){var s={subscriber:this,result:a,value:e,index:r};this.add(this.scheduler.schedule(t.dispatch,0,s))}else this.subscribeToProjection(a,e,r)}else this.buffer.push(e)}},t.prototype.subscribeToProjection=function(e,t,n){this.active++,this.add(s.subscribeToResult(this,e,t,n))},t.prototype._complete=function(){this.hasCompleted=!0,this.hasCompleted&&0===this.active&&this.destination.complete()},t.prototype.notifyNext=function(e,t,n,r,i){this._next(t)},t.prototype.notifyComplete=function(e){var t=this.buffer;this.remove(e),this.active--,t&&t.length>0&&this._next(t.shift()),this.hasCompleted&&0===this.active&&this.destination.complete()},t}(a.OuterSubscriber);t.ExpandSubscriber=l},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},i=n(24),o=n(473);t.elementAt=function(e,t){return function(n){return n.lift(new a(e,t))}};var a=function(){function e(e,t){if(this.index=e,this.defaultValue=t,e<0)throw new o.ArgumentOutOfRangeError}return e.prototype.call=function(e,t){return t.subscribe(new s(e,this.index,this.defaultValue))},e}(),s=function(e){function t(t,n,r){e.call(this,t),this.index=n,this.defaultValue=r}return r(t,e),t.prototype._next=function(e){0==this.index--&&(this.destination.next(e),this.destination.complete())},t.prototype._complete=function(){var e=this.destination;this.index>=0&&(void 0!==this.defaultValue?e.next(this.defaultValue):e.error(new o.ArgumentOutOfRangeError)),e.complete()},t}(i.Subscriber)},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},i=n(24),o=n(103);t.finalize=function(e){return function(t){return t.lift(new a(e))}};var a=function(){function e(e){this.callback=e}return e.prototype.call=function(e,t){return t.subscribe(new s(e,this.callback))},e}(),s=function(e){function t(t,n){e.call(this,t),this.add(new o.Subscription(n))}return r(t,e),t}(i.Subscriber)},function(e,t,n){"use strict";var r=n(759);t.findIndex=function(e,t){return function(n){return n.lift(new r.FindValueOperator(e,n,!0,t))}}},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},i=n(24),o=n(572);t.first=function(e,t,n){return function(r){return r.lift(new a(e,t,n,r))}};var a=function(){function e(e,t,n,r){this.predicate=e,this.resultSelector=t,this.defaultValue=n,this.source=r}return e.prototype.call=function(e,t){return t.subscribe(new s(e,this.predicate,this.resultSelector,this.defaultValue,this.source))},e}(),s=function(e){function t(t,n,r,i,o){e.call(this,t),this.predicate=n,this.resultSelector=r,this.defaultValue=i,this.source=o,this.index=0,this.hasCompleted=!1,this._emitted=!1}return r(t,e),t.prototype._next=function(e){var t=this.index++;this.predicate?this._tryPredicate(e,t):this._emit(e,t)},t.prototype._tryPredicate=function(e,t){var n;try{n=this.predicate(e,t,this.source)}catch(e){return void this.destination.error(e)}n&&this._emit(e,t)},t.prototype._emit=function(e,t){this.resultSelector?this._tryResultSelector(e,t):this._emitFinal(e)},t.prototype._tryResultSelector=function(e,t){var n;try{n=this.resultSelector(e,t)}catch(e){return void this.destination.error(e)}this._emitFinal(n)},t.prototype._emitFinal=function(e){var t=this.destination;this._emitted||(this._emitted=!0,t.next(e),t.complete(),this.hasCompleted=!0)},t.prototype._complete=function(){var e=this.destination;this.hasCompleted||void 0===this.defaultValue?this.hasCompleted||e.error(new o.EmptyError):(e.next(this.defaultValue),e.complete())},t}(i.Subscriber)},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},i=n(24),o=n(103),a=n(7),s=n(107),u=n(2127),l=n(2129);t.groupBy=function(e,t,n,r){return function(i){return i.lift(new c(e,t,n,r))}};var c=function(){function e(e,t,n,r){this.keySelector=e,this.elementSelector=t,this.durationSelector=n,this.subjectSelector=r}return e.prototype.call=function(e,t){return t.subscribe(new d(e,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))},e}(),d=function(e){function t(t,n,r,i,o){e.call(this,t),this.keySelector=n,this.elementSelector=r,this.durationSelector=i,this.subjectSelector=o,this.groups=null,this.attemptedToUnsubscribe=!1,this.count=0}return r(t,e),t.prototype._next=function(e){var t;try{t=this.keySelector(e)}catch(e){return void this.error(e)}this._group(e,t)},t.prototype._group=function(e,t){var n=this.groups;n||(n=this.groups="string"==typeof t?new l.FastMap:new u.Map);var r,i=n.get(t);if(this.elementSelector)try{r=this.elementSelector(e)}catch(e){this.error(e)}else r=e;if(!i){i=this.subjectSelector?this.subjectSelector():new s.Subject,n.set(t,i);var o=new h(t,i,this);if(this.destination.next(o),this.durationSelector){var a=void 0;try{a=this.durationSelector(new h(t,i))}catch(e){return void this.error(e)}this.add(a.subscribe(new f(t,i,this)))}}i.closed||i.next(r)},t.prototype._error=function(e){var t=this.groups;t&&(t.forEach(function(t,n){t.error(e)}),t.clear()),this.destination.error(e)},t.prototype._complete=function(){var e=this.groups;e&&(e.forEach(function(e,t){e.complete()}),e.clear()),this.destination.complete()},t.prototype.removeGroup=function(e){this.groups.delete(e)},t.prototype.unsubscribe=function(){this.closed||(this.attemptedToUnsubscribe=!0,0===this.count&&e.prototype.unsubscribe.call(this))},t}(i.Subscriber),f=function(e){function t(t,n,r){e.call(this,n),this.key=t,this.group=n,this.parent=r}return r(t,e),t.prototype._next=function(e){this.complete()},t.prototype._unsubscribe=function(){var e=this.parent,t=this.key;this.key=this.parent=null,e&&e.removeGroup(t)},t}(i.Subscriber),h=function(e){function t(t,n,r){e.call(this),this.key=t,this.groupSubject=n,this.refCountSubscription=r}return r(t,e),t.prototype._subscribe=function(e){var t=new o.Subscription,n=this.refCountSubscription,r=this.groupSubject;return n&&!n.closed&&t.add(new p(n)),t.add(r.subscribe(e)),t},t}(a.Observable);t.GroupedObservable=h;var p=function(e){function t(t){e.call(this),this.parent=t,t.count++}return r(t,e),t.prototype.unsubscribe=function(){var t=this.parent;t.closed||this.closed||(e.prototype.unsubscribe.call(this),t.count-=1,0===t.count&&t.attemptedToUnsubscribe&&t.unsubscribe())},t}(o.Subscription)},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},i=n(24),o=n(749);t.ignoreElements=function(){return function(e){return e.lift(new a)}};var a=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new s(e))},e}(),s=function(e){function t(){e.apply(this,arguments)}return r(t,e),t.prototype._next=function(e){o.noop()},t}(i.Subscriber)},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},i=n(24);t.isEmpty=function(){return function(e){return e.lift(new o)}};var o=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new a(e))},e}(),a=function(e){function t(t){e.call(this,t)}return r(t,e),t.prototype.notifyComplete=function(e){var t=this.destination;t.next(e),t.complete()},t.prototype._next=function(e){this.notifyComplete(!1)},t.prototype._complete=function(){this.notifyComplete(!0)},t}(i.Subscriber)},function(e,t,n){"use strict";var r=n(73),i=n(760),o=n(1182);t.auditTime=function(e,t){return void 0===t&&(t=r.async),i.audit(function(){return o.timer(e,t)})}},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},i=n(24),o=n(572);t.last=function(e,t,n){return function(r){return r.lift(new a(e,t,n,r))}};var a=function(){function e(e,t,n,r){this.predicate=e,this.resultSelector=t,this.defaultValue=n,this.source=r}return e.prototype.call=function(e,t){return t.subscribe(new s(e,this.predicate,this.resultSelector,this.defaultValue,this.source))},e}(),s=function(e){function t(t,n,r,i,o){e.call(this,t),this.predicate=n,this.resultSelector=r,this.defaultValue=i,this.source=o,this.hasValue=!1,this.index=0,void 0!==i&&(this.lastValue=i,this.hasValue=!0)}return r(t,e),t.prototype._next=function(e){var t=this.index++;if(this.predicate)this._tryPredicate(e,t);else{if(this.resultSelector)return void this._tryResultSelector(e,t);this.lastValue=e,this.hasValue=!0}},t.prototype._tryPredicate=function(e,t){var n;try{n=this.predicate(e,t,this.source)}catch(e){return void this.destination.error(e)}if(n){if(this.resultSelector)return void this._tryResultSelector(e,t);this.lastValue=e,this.hasValue=!0}},t.prototype._tryResultSelector=function(e,t){var n;try{n=this.resultSelector(e,t)}catch(e){return void this.destination.error(e)}this.lastValue=n,this.hasValue=!0},t.prototype._complete=function(){var e=this.destination;this.hasValue?(e.next(this.lastValue),e.complete()):e.error(new o.EmptyError)},t}(i.Subscriber)},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},i=n(24);t.every=function(e,t){return function(n){return n.lift(new o(e,t,n))}};var o=function(){function e(e,t,n){this.predicate=e,this.thisArg=t,this.source=n}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.predicate,this.thisArg,this.source))},e}(),a=function(e){function t(t,n,r,i){e.call(this,t),this.predicate=n,this.thisArg=r,this.source=i,this.index=0,this.thisArg=r||this}return r(t,e),t.prototype.notifyComplete=function(e){this.destination.next(e),this.destination.complete()},t.prototype._next=function(e){var t=!1;try{t=this.predicate.call(this.thisArg,e,this.index++,this.source)}catch(e){return void this.destination.error(e)}t||this.notifyComplete(!1)},t.prototype._complete=function(){this.notifyComplete(!0)},t}(i.Subscriber)},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},i=n(24);t.mapTo=function(e){return function(t){return t.lift(new o(e))}};var o=function(){function e(e){this.value=e}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.value))},e}(),a=function(e){function t(t,n){e.call(this,t),this.value=n}return r(t,e),t.prototype._next=function(e){this.destination.next(this.value)},t}(i.Subscriber)},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},i=n(24),o=n(467);t.materialize=function(){return function(e){return e.lift(new a)}};var a=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new s(e))},e}(),s=function(e){function t(t){e.call(this,t)}return r(t,e),t.prototype._next=function(e){this.destination.next(o.Notification.createNext(e))},t.prototype._error=function(e){var t=this.destination;t.next(o.Notification.createError(e)),t.complete()},t.prototype._complete=function(){var e=this.destination;e.next(o.Notification.createComplete()),e.complete()},t}(i.Subscriber)},function(e,t,n){"use strict";var r=n(474);t.max=function(e){var t="function"==typeof e?function(t,n){return e(t,n)>0?t:n}:function(e,t){return e>t?e:t};return r.reduce(t)}},function(e,t,n){"use strict";var r=n(568),i=n(568);t.mergeStatic=i.merge,t.merge=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return function(t){return t.lift.call(r.merge.apply(void 0,[t].concat(e)))}}},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},i=n(45),o=n(46);t.mergeMapTo=function(e,t,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),"number"==typeof t&&(n=t,t=null),function(r){return r.lift(new a(e,t,n))}};var a=function(){function e(e,t,n){void 0===n&&(n=Number.POSITIVE_INFINITY),this.ish=e,this.resultSelector=t,this.concurrent=n}return e.prototype.call=function(e,t){return t.subscribe(new s(e,this.ish,this.resultSelector,this.concurrent))},e}();t.MergeMapToOperator=a;var s=function(e){function t(t,n,r,i){void 0===i&&(i=Number.POSITIVE_INFINITY),e.call(this,t),this.ish=n,this.resultSelector=r,this.concurrent=i,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}return r(t,e),t.prototype._next=function(e){if(this.active<this.concurrent){var t=this.resultSelector,n=this.index++,r=this.ish,i=this.destination;this.active++,this._innerSub(r,i,t,e,n)}else this.buffer.push(e)},t.prototype._innerSub=function(e,t,n,r,i){this.add(o.subscribeToResult(this,e,r,i))},t.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete()},t.prototype.notifyNext=function(e,t,n,r,i){var o=this.resultSelector,a=this.destination;o?this.trySelectResult(e,t,n,r):a.next(t)},t.prototype.trySelectResult=function(e,t,n,r){var i,o=this.resultSelector,a=this.destination;try{i=o(e,t,n,r)}catch(e){return void a.error(e)}a.next(i)},t.prototype.notifyError=function(e){this.destination.error(e)},t.prototype.notifyComplete=function(e){var t=this.buffer;this.remove(e),this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},t}(i.OuterSubscriber);t.MergeMapToSubscriber=s},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},i=n(113),o=n(108),a=n(46),s=n(45);t.mergeScan=function(e,t,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),function(r){return r.lift(new u(e,t,n))}};var u=function(){function e(e,t,n){this.accumulator=e,this.seed=t,this.concurrent=n}return e.prototype.call=function(e,t){return t.subscribe(new l(e,this.accumulator,this.seed,this.concurrent))},e}();t.MergeScanOperator=u;var l=function(e){function t(t,n,r,i){e.call(this,t),this.accumulator=n,this.acc=r,this.concurrent=i,this.hasValue=!1,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}return r(t,e),t.prototype._next=function(e){if(this.active<this.concurrent){var t=this.index++,n=i.tryCatch(this.accumulator)(this.acc,e),r=this.destination;n===o.errorObject?r.error(o.errorObject.e):(this.active++,this._innerSub(n,e,t))}else this.buffer.push(e)},t.prototype._innerSub=function(e,t,n){this.add(a.subscribeToResult(this,e,t,n))},t.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&(!1===this.hasValue&&this.destination.next(this.acc),this.destination.complete())},t.prototype.notifyNext=function(e,t,n,r,i){var o=this.destination;this.acc=t,this.hasValue=!0,o.next(t)},t.prototype.notifyComplete=function(e){var t=this.buffer;this.remove(e),this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&(!1===this.hasValue&&this.destination.next(this.acc),this.destination.complete())},t}(s.OuterSubscriber);t.MergeScanSubscriber=l},function(e,t,n){"use strict";var r=n(474);t.min=function(e){var t="function"==typeof e?function(t,n){return e(t,n)<0?t:n}:function(e,t){return e<t?e:t};return r.reduce(t)}},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},i=n(107),o=n(7),a=n(24),s=n(103),u=n(763),l=function(e){function t(t,n){e.call(this),this.source=t,this.subjectFactory=n,this._refCount=0,this._isComplete=!1}return r(t,e),t.prototype._subscribe=function(e){return this.getSubject().subscribe(e)},t.prototype.getSubject=function(){var e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject},t.prototype.connect=function(){var e=this._connection;return e||(this._isComplete=!1,(e=this._connection=new s.Subscription).add(this.source.subscribe(new d(this.getSubject(),this))),e.closed?(this._connection=null,e=s.Subscription.EMPTY):this._connection=e),e},t.prototype.refCount=function(){return u.refCount()(this)},t}(o.Observable);t.ConnectableObservable=l;var c=l.prototype;t.connectableObservableDescriptor={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:c._subscribe},_isComplete:{value:c._isComplete,writable:!0},getSubject:{value:c.getSubject},connect:{value:c.connect},refCount:{value:c.refCount}};var d=function(e){function t(t,n){e.call(this,t),this.connectable=n}return r(t,e),t.prototype._error=function(t){this._unsubscribe(),e.prototype._error.call(this,t)},t.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),e.prototype._complete.call(this)},t.prototype._unsubscribe=function(){var e=this.connectable;if(e){this.connectable=null;var t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}},t}(i.SubjectSubscriber),f=(function(){function e(e){this.connectable=e}e.prototype.call=function(e,t){var n=this.connectable;n._refCount++;var r=new f(e,n),i=t.subscribe(r);return r.closed||(r.connection=n.connect()),i}}(),function(e){function t(t,n){e.call(this,t),this.connectable=n}return r(t,e),t.prototype._unsubscribe=function(){var e=this.connectable;if(e){this.connectable=null;var t=e._refCount;if(t<=0)this.connection=null;else if(e._refCount=t-1,t>1)this.connection=null;else{var n=this.connection,r=e._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}else this.connection=null},t}(a.Subscriber))},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},i=n(24);t.pairwise=function(){return function(e){return e.lift(new o)}};var o=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new a(e))},e}(),a=function(e){function t(t){e.call(this,t),this.hasPrev=!1}return r(t,e),t.prototype._next=function(e){this.hasPrev?this.destination.next([this.prev,e]):this.hasPrev=!0,this.prev=e},t}(i.Subscriber)},function(e,t,n){"use strict";var r=n(2174),i=n(758);t.partition=function(e,t){return function(n){return[i.filter(e,t)(n),i.filter(r.not(e,t))(n)]}}},function(e,t,n){"use strict";var r=n(472);t.pluck=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];var n=e.length;if(0===n)throw new Error("list of properties cannot be empty.");return function(t){return r.map(function(e,t){return function(n){for(var r=n,i=0;i<t;i++){var o=r[e[i]];if(void 0===o)return;r=o}return r}}(e,n))(t)}}},function(e,t,n){"use strict";var r=n(107),i=n(354);t.publish=function(e){return e?i.multicast(function(){return new r.Subject},e):i.multicast(new r.Subject)}},function(e,t,n){"use strict";var r=n(1229),i=n(354);t.publishBehavior=function(e){return function(t){return i.multicast(new r.BehaviorSubject(e))(t)}}},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},i=n(107),o=n(563),a=function(e){function t(t){e.call(this),this._value=t}return r(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),t.prototype._subscribe=function(t){var n=e.prototype._subscribe.call(this,t);return n&&!n.closed&&t.next(this._value),n},t.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new o.ObjectUnsubscribedError;return this._value},t.prototype.next=function(t){e.prototype.next.call(this,this._value=t)},t}(i.Subject);t.BehaviorSubject=a},function(e,t,n){"use strict";var r=n(571),i=n(354);t.publishReplay=function(e,t,n,o){n&&"function"!=typeof n&&(o=n);var a="function"==typeof n?n:void 0,s=new r.ReplaySubject(e,t,o);return function(e){return i.multicast(function(){return s},a)(e)}}},function(e,t,n){"use strict";var r=n(564),i=n(354);t.publishLast=function(){return function(e){return i.multicast(new r.AsyncSubject)(e)}}},function(e,t,n){"use strict";var r=n(288),i=n(753);t.race=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return function(t){return 1===e.length&&r.isArray(e[0])&&(e=e[0]),t.lift.call(i.race.apply(void 0,[t].concat(e)))}}},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},i=n(24),o=n(332);t.repeat=function(e){return void 0===e&&(e=-1),function(t){return 0===e?new o.EmptyObservable:e<0?t.lift(new a(-1,t)):t.lift(new a(e-1,t))}};var a=function(){function e(e,t){this.count=e,this.source=t}return e.prototype.call=function(e,t){return t.subscribe(new s(e,this.count,this.source))},e}(),s=function(e){function t(t,n,r){e.call(this,t),this.count=n,this.source=r}return r(t,e),t.prototype.complete=function(){if(!this.isStopped){var t=this.source,n=this.count;if(0===n)return e.prototype.complete.call(this);n>-1&&(this.count=n-1),t.subscribe(this._unsubscribeAndRecycle())}},t}(i.Subscriber)},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},i=n(107),o=n(113),a=n(108),s=n(45),u=n(46);t.repeatWhen=function(e){return function(t){return t.lift(new l(e))}};var l=function(){function e(e){this.notifier=e}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.notifier,t))},e}(),c=function(e){function t(t,n,r){e.call(this,t),this.notifier=n,this.source=r,this.sourceIsBeingSubscribedTo=!0}return r(t,e),t.prototype.notifyNext=function(e,t,n,r,i){this.sourceIsBeingSubscribedTo=!0,this.source.subscribe(this)},t.prototype.notifyComplete=function(t){if(!1===this.sourceIsBeingSubscribedTo)return e.prototype.complete.call(this)},t.prototype.complete=function(){if(this.sourceIsBeingSubscribedTo=!1,!this.isStopped){if(this.retries||this.subscribeToRetries(),!this.retriesSubscription||this.retriesSubscription.closed)return e.prototype.complete.call(this);this._unsubscribeAndRecycle(),this.notifications.next()}},t.prototype._unsubscribe=function(){var e=this.notifications,t=this.retriesSubscription;e&&(e.unsubscribe(),this.notifications=null),t&&(t.unsubscribe(),this.retriesSubscription=null),this.retries=null},t.prototype._unsubscribeAndRecycle=function(){var t=this.notifications,n=this.retries,r=this.retriesSubscription;return this.notifications=null,this.retries=null,this.retriesSubscription=null,e.prototype._unsubscribeAndRecycle.call(this),this.notifications=t,this.retries=n,this.retriesSubscription=r,this},t.prototype.subscribeToRetries=function(){this.notifications=new i.Subject;var t=o.tryCatch(this.notifier)(this.notifications);if(t===a.errorObject)return e.prototype.complete.call(this);this.retries=t,this.retriesSubscription=u.subscribeToResult(this,t)},t}(s.OuterSubscriber)},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},i=n(24);t.retry=function(e){return void 0===e&&(e=-1),function(t){return t.lift(new o(e,t))}};var o=function(){function e(e,t){this.count=e,this.source=t}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.count,this.source))},e}(),a=function(e){function t(t,n,r){e.call(this,t),this.count=n,this.source=r}return r(t,e),t.prototype.error=function(t){if(!this.isStopped){var n=this.source,r=this.count;if(0===r)return e.prototype.error.call(this,t);r>-1&&(this.count=r-1),n.subscribe(this._unsubscribeAndRecycle())}},t}(i.Subscriber)},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},i=n(107),o=n(113),a=n(108),s=n(45),u=n(46);t.retryWhen=function(e){return function(t){return t.lift(new l(e,t))}};var l=function(){function e(e,t){this.notifier=e,this.source=t}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.notifier,this.source))},e}(),c=function(e){function t(t,n,r){e.call(this,t),this.notifier=n,this.source=r}return r(t,e),t.prototype.error=function(t){if(!this.isStopped){var n=this.errors,r=this.retries,s=this.retriesSubscription;if(r)this.errors=null,this.retriesSubscription=null;else{if(n=new i.Subject,(r=o.tryCatch(this.notifier)(n))===a.errorObject)return e.prototype.error.call(this,a.errorObject.e);s=u.subscribeToResult(this,r)}this._unsubscribeAndRecycle(),this.errors=n,this.retries=r,this.retriesSubscription=s,n.next(t)}},t.prototype._unsubscribe=function(){var e=this.errors,t=this.retriesSubscription;e&&(e.unsubscribe(),this.errors=null),t&&(t.unsubscribe(),this.retriesSubscription=null),this.retries=null},t.prototype.notifyNext=function(e,t,n,r,i){var o=this.errors,a=this.retries,s=this.retriesSubscription;this.errors=null,this.retries=null,this.retriesSubscription=null,this._unsubscribeAndRecycle(),this.errors=o,this.retries=a,this.retriesSubscription=s,this.source.subscribe(this)},t}(s.OuterSubscriber)},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},i=n(45),o=n(46);t.sample=function(e){return function(t){return t.lift(new a(e))}};var a=function(){function e(e){this.notifier=e}return e.prototype.call=function(e,t){var n=new s(e),r=t.subscribe(n);return r.add(o.subscribeToResult(n,this.notifier)),r},e}(),s=function(e){function t(){e.apply(this,arguments),this.hasValue=!1}return r(t,e),t.prototype._next=function(e){this.value=e,this.hasValue=!0},t.prototype.notifyNext=function(e,t,n,r,i){this.emitValue()},t.prototype.notifyComplete=function(){this.emitValue()},t.prototype.emitValue=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.value))},t}(i.OuterSubscriber)},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},i=n(24),o=n(73);t.sampleTime=function(e,t){return void 0===t&&(t=o.async),function(n){return n.lift(new a(e,t))}};var a=function(){function e(e,t){this.period=e,this.scheduler=t}return e.prototype.call=function(e,t){return t.subscribe(new s(e,this.period,this.scheduler))},e}(),s=function(e){function t(t,n,r){e.call(this,t),this.period=n,this.scheduler=r,this.hasValue=!1,this.add(r.schedule(u,n,{subscriber:this,period:n}))}return r(t,e),t.prototype._next=function(e){this.lastValue=e,this.hasValue=!0},t.prototype.notifyNext=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.lastValue))},t}(i.Subscriber);function u(e){var t=e.subscriber,n=e.period;t.notifyNext(),this.schedule(e,n)}},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},i=n(24),o=n(113),a=n(108);t.sequenceEqual=function(e,t){return function(n){return n.lift(new s(e,t))}};var s=function(){function e(e,t){this.compareTo=e,this.comparor=t}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.compareTo,this.comparor))},e}();t.SequenceEqualOperator=s;var u=function(e){function t(t,n,r){e.call(this,t),this.compareTo=n,this.comparor=r,this._a=[],this._b=[],this._oneComplete=!1,this.add(n.subscribe(new l(t,this)))}return r(t,e),t.prototype._next=function(e){this._oneComplete&&0===this._b.length?this.emit(!1):(this._a.push(e),this.checkValues())},t.prototype._complete=function(){this._oneComplete?this.emit(0===this._a.length&&0===this._b.length):this._oneComplete=!0},t.prototype.checkValues=function(){for(var e=this._a,t=this._b,n=this.comparor;e.length>0&&t.length>0;){var r=e.shift(),i=t.shift(),s=!1;n?(s=o.tryCatch(n)(r,i))===a.errorObject&&this.destination.error(a.errorObject.e):s=r===i,s||this.emit(!1)}},t.prototype.emit=function(e){var t=this.destination;t.next(e),t.complete()},t.prototype.nextB=function(e){this._oneComplete&&0===this._a.length?this.emit(!1):(this._b.push(e),this.checkValues())},t}(i.Subscriber);t.SequenceEqualSubscriber=u;var l=function(e){function t(t,n){e.call(this,t),this.parent=n}return r(t,e),t.prototype._next=function(e){this.parent.nextB(e)},t.prototype._error=function(e){this.parent.error(e)},t.prototype._complete=function(){this.parent._complete()},t}(i.Subscriber)},function(e,t,n){"use strict";var r=n(354),i=n(763),o=n(107);function a(){return new o.Subject}t.share=function(){return function(e){return i.refCount()(r.multicast(a)(e))}}},function(e,t,n){"use strict";var r=n(571);t.shareReplay=function(e,t,n){return function(i){return i.lift(function(e,t,n){var i,o,a=0,s=!1,u=!1;return function(l){a++,i&&!s||(s=!1,i=new r.ReplaySubject(e,t,n),o=l.subscribe({next:function(e){i.next(e)},error:function(e){s=!0,i.error(e)},complete:function(){u=!0,i.complete()}}));var c=i.subscribe(this);return function(){a--,c.unsubscribe(),o&&0===a&&u&&o.unsubscribe()}}}(e,t,n))}}},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},i=n(24),o=n(572);t.single=function(e){return function(t){return t.lift(new a(e,t))}};var a=function(){function e(e,t){this.predicate=e,this.source=t}return e.prototype.call=function(e,t){return t.subscribe(new s(e,this.predicate,this.source))},e}(),s=function(e){function t(t,n,r){e.call(this,t),this.predicate=n,this.source=r,this.seenValue=!1,this.index=0}return r(t,e),t.prototype.applySingleValue=function(e){this.seenValue?this.destination.error("Sequence contains more than one element"):(this.seenValue=!0,this.singleValue=e)},t.prototype._next=function(e){var t=this.index++;this.predicate?this.tryNext(e,t):this.applySingleValue(e)},t.prototype.tryNext=function(e,t){try{this.predicate(e,t,this.source)&&this.applySingleValue(e)}catch(e){this.destination.error(e)}},t.prototype._complete=function(){var e=this.destination;this.index>0?(e.next(this.seenValue?this.singleValue:void 0),e.complete()):e.error(new o.EmptyError)},t}(i.Subscriber)},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},i=n(24);t.skip=function(e){return function(t){return t.lift(new o(e))}};var o=function(){function e(e){this.total=e}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.total))},e}(),a=function(e){function t(t,n){e.call(this,t),this.total=n,this.count=0}return r(t,e),t.prototype._next=function(e){++this.count>this.total&&this.destination.next(e)},t}(i.Subscriber)},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},i=n(24),o=n(473);t.skipLast=function(e){return function(t){return t.lift(new a(e))}};var a=function(){function e(e){if(this._skipCount=e,this._skipCount<0)throw new o.ArgumentOutOfRangeError}return e.prototype.call=function(e,t){return 0===this._skipCount?t.subscribe(new i.Subscriber(e)):t.subscribe(new s(e,this._skipCount))},e}(),s=function(e){function t(t,n){e.call(this,t),this._skipCount=n,this._count=0,this._ring=new Array(n)}return r(t,e),t.prototype._next=function(e){var t=this._skipCount,n=this._count++;if(n<t)this._ring[n]=e;else{var r=n%t,i=this._ring,o=i[r];i[r]=e,this.destination.next(o)}},t}(i.Subscriber)},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},i=n(45),o=n(46);t.skipUntil=function(e){return function(t){return t.lift(new a(e))}};var a=function(){function e(e){this.notifier=e}return e.prototype.call=function(e,t){return t.subscribe(new s(e,this.notifier))},e}(),s=function(e){function t(t,n){e.call(this,t),this.hasValue=!1,this.isInnerStopped=!1,this.add(o.subscribeToResult(this,n))}return r(t,e),t.prototype._next=function(t){this.hasValue&&e.prototype._next.call(this,t)},t.prototype._complete=function(){this.isInnerStopped?e.prototype._complete.call(this):this.unsubscribe()},t.prototype.notifyNext=function(e,t,n,r,i){this.hasValue=!0},t.prototype.notifyComplete=function(){this.isInnerStopped=!0,this.isStopped&&e.prototype._complete.call(this)},t}(i.OuterSubscriber)},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},i=n(24);t.skipWhile=function(e){return function(t){return t.lift(new o(e))}};var o=function(){function e(e){this.predicate=e}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.predicate))},e}(),a=function(e){function t(t,n){e.call(this,t),this.predicate=n,this.skipping=!0,this.index=0}return r(t,e),t.prototype._next=function(e){var t=this.destination;this.skipping&&this.tryCallPredicate(e),this.skipping||t.next(e)},t.prototype.tryCallPredicate=function(e){try{var t=this.predicate(e,this.index++);this.skipping=Boolean(t)}catch(e){this.destination.error(e)}},t}(i.Subscriber)},function(e,t,n){"use strict";var r=n(331),i=n(750),o=n(332),a=n(466),s=n(276);t.startWith=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return function(t){var n=e[e.length-1];s.isScheduler(n)?e.pop():n=null;var u=e.length;return 1===u?a.concat(new i.ScalarObservable(e[0],n),t):u>1?a.concat(new r.ArrayObservable(e,n),t):a.concat(new o.EmptyObservable(n),t)}}},function(e,t,n){"use strict";var r=n(2225),i=n(2227);t.asap=new i.AsapScheduler(r.AsapAction)},function(e,t,n){"use strict";var r=n(764),i=n(1179);t.switchAll=function(){return r.switchMap(i.identity)}},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},i=n(45),o=n(46);t.switchMapTo=function(e,t){return function(n){return n.lift(new a(e,t))}};var a=function(){function e(e,t){this.observable=e,this.resultSelector=t}return e.prototype.call=function(e,t){return t.subscribe(new s(e,this.observable,this.resultSelector))},e}(),s=function(e){function t(t,n,r){e.call(this,t),this.inner=n,this.resultSelector=r,this.index=0}return r(t,e),t.prototype._next=function(e){var t=this.innerSubscription;t&&t.unsubscribe(),this.add(this.innerSubscription=o.subscribeToResult(this,this.inner,e,this.index++))},t.prototype._complete=function(){var t=this.innerSubscription;t&&!t.closed||e.prototype._complete.call(this)},t.prototype._unsubscribe=function(){this.innerSubscription=null},t.prototype.notifyComplete=function(t){this.remove(t),this.innerSubscription=null,this.isStopped&&e.prototype._complete.call(this)},t.prototype.notifyNext=function(e,t,n,r,i){var o=this.resultSelector,a=this.destination;o?this.tryResultSelector(e,t,n,r):a.next(t)},t.prototype.tryResultSelector=function(e,t,n,r){var i,o=this.resultSelector,a=this.destination;try{i=o(e,t,n,r)}catch(e){return void a.error(e)}a.next(i)},t}(i.OuterSubscriber)},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},i=n(24),o=n(473),a=n(332);t.take=function(e){return function(t){return 0===e?new a.EmptyObservable:t.lift(new s(e))}};var s=function(){function e(e){if(this.total=e,this.total<0)throw new o.ArgumentOutOfRangeError}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.total))},e}(),u=function(e){function t(t,n){e.call(this,t),this.total=n,this.count=0}return r(t,e),t.prototype._next=function(e){var t=this.total,n=++this.count;n<=t&&(this.destination.next(e),n===t&&(this.destination.complete(),this.unsubscribe()))},t}(i.Subscriber)},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},i=n(45),o=n(46);t.takeUntil=function(e){return function(t){return t.lift(new a(e))}};var a=function(){function e(e){this.notifier=e}return e.prototype.call=function(e,t){return t.subscribe(new s(e,this.notifier))},e}(),s=function(e){function t(t,n){e.call(this,t),this.notifier=n,this.add(o.subscribeToResult(this,n))}return r(t,e),t.prototype.notifyNext=function(e,t,n,r,i){this.complete()},t.prototype.notifyComplete=function(){},t}(i.OuterSubscriber)},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},i=n(24);t.takeWhile=function(e){return function(t){return t.lift(new o(e))}};var o=function(){function e(e){this.predicate=e}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.predicate))},e}(),a=function(e){function t(t,n){e.call(this,t),this.predicate=n,this.index=0}return r(t,e),t.prototype._next=function(e){var t,n=this.destination;try{t=this.predicate(e,this.index++)}catch(e){return void n.error(e)}this.nextOrComplete(e,t)},t.prototype.nextOrComplete=function(e,t){var n=this.destination;Boolean(t)?n.next(e):n.complete()},t}(i.Subscriber)},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},i=n(24),o=n(73),a=n(573);t.throttleTime=function(e,t,n){return void 0===t&&(t=o.async),void 0===n&&(n=a.defaultThrottleConfig),function(r){return r.lift(new s(e,t,n.leading,n.trailing))}};var s=function(){function e(e,t,n,r){this.duration=e,this.scheduler=t,this.leading=n,this.trailing=r}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.duration,this.scheduler,this.leading,this.trailing))},e}(),u=function(e){function t(t,n,r,i,o){e.call(this,t),this.duration=n,this.scheduler=r,this.leading=i,this.trailing=o,this._hasTrailingValue=!1,this._trailingValue=null}return r(t,e),t.prototype._next=function(e){this.throttled?this.trailing&&(this._trailingValue=e,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(l,this.duration,{subscriber:this})),this.leading&&this.destination.next(e))},t.prototype.clearThrottle=function(){var e=this.throttled;e&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),e.unsubscribe(),this.remove(e),this.throttled=null)},t}(i.Subscriber);function l(e){e.subscriber.clearThrottle()}},function(e,t,n){"use strict";var r=n(73),i=n(1256);t.TimeInterval=i.TimeInterval,t.timeInterval=function(e){return void 0===e&&(e=r.async),i.timeInterval(e)(this)}},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},i=n(24),o=n(73);t.timeInterval=function(e){return void 0===e&&(e=o.async),function(t){return t.lift(new s(e))}};var a=function(){return function(e,t){this.value=e,this.interval=t}}();t.TimeInterval=a;var s=function(){function e(e){this.scheduler=e}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.scheduler))},e}(),u=function(e){function t(t,n){e.call(this,t),this.scheduler=n,this.lastTime=0,this.lastTime=n.now()}return r(t,e),t.prototype._next=function(e){var t=this.scheduler.now(),n=t-this.lastTime;this.lastTime=t,this.destination.next(new a(e,n))},t}(i.Subscriber)},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},i=n(73),o=n(569),a=n(24),s=n(1258);t.timeout=function(e,t){void 0===t&&(t=i.async);var n=o.isDate(e),r=n?+e-t.now():Math.abs(e);return function(e){return e.lift(new u(r,n,t,new s.TimeoutError))}};var u=function(){function e(e,t,n,r){this.waitFor=e,this.absoluteTimeout=t,this.scheduler=n,this.errorInstance=r}return e.prototype.call=function(e,t){return t.subscribe(new l(e,this.absoluteTimeout,this.waitFor,this.scheduler,this.errorInstance))},e}(),l=function(e){function t(t,n,r,i,o){e.call(this,t),this.absoluteTimeout=n,this.waitFor=r,this.scheduler=i,this.errorInstance=o,this.action=null,this.scheduleTimeout()}return r(t,e),t.dispatchTimeout=function(e){e.error(e.errorInstance)},t.prototype.scheduleTimeout=function(){var e=this.action;e?this.action=e.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(t.dispatchTimeout,this.waitFor,this))},t.prototype._next=function(t){this.absoluteTimeout||this.scheduleTimeout(),e.prototype._next.call(this,t)},t.prototype._unsubscribe=function(){this.action=null,this.scheduler=null,this.errorInstance=null},t}(a.Subscriber)},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},i=function(e){function t(){var t=e.call(this,"Timeout has occurred");this.name=t.name="TimeoutError",this.stack=t.stack,this.message=t.message}return r(t,e),t}(Error);t.TimeoutError=i},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},i=n(73),o=n(569),a=n(45),s=n(46);t.timeoutWith=function(e,t,n){return void 0===n&&(n=i.async),function(r){var i=o.isDate(e),a=i?+e-n.now():Math.abs(e);return r.lift(new u(a,i,t,n))}};var u=function(){function e(e,t,n,r){this.waitFor=e,this.absoluteTimeout=t,this.withObservable=n,this.scheduler=r}return e.prototype.call=function(e,t){return t.subscribe(new l(e,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))},e}(),l=function(e){function t(t,n,r,i,o){e.call(this,t),this.absoluteTimeout=n,this.waitFor=r,this.withObservable=i,this.scheduler=o,this.action=null,this.scheduleTimeout()}return r(t,e),t.dispatchTimeout=function(e){var t=e.withObservable;e._unsubscribeAndRecycle(),e.add(s.subscribeToResult(e,t))},t.prototype.scheduleTimeout=function(){var e=this.action;e?this.action=e.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(t.dispatchTimeout,this.waitFor,this))},t.prototype._next=function(t){this.absoluteTimeout||this.scheduleTimeout(),e.prototype._next.call(this,t)},t.prototype._unsubscribe=function(){this.action=null,this.scheduler=null,this.withObservable=null},t}(a.OuterSubscriber)},function(e,t,n){"use strict";var r=n(474);function i(e,t,n){return 0===n?[t]:(e.push(t),e)}t.toArray=function(){return r.reduce(i,[])}},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},i=n(107),o=n(45),a=n(46);t.window=function(e){return function(t){return t.lift(new s(e))}};var s=function(){function e(e){this.windowBoundaries=e}return e.prototype.call=function(e,t){var n=new u(e),r=t.subscribe(n);return r.closed||n.add(a.subscribeToResult(n,this.windowBoundaries)),r},e}(),u=function(e){function t(t){e.call(this,t),this.window=new i.Subject,t.next(this.window)}return r(t,e),t.prototype.notifyNext=function(e,t,n,r,i){this.openWindow()},t.prototype.notifyError=function(e,t){this._error(e)},t.prototype.notifyComplete=function(e){this._complete()},t.prototype._next=function(e){this.window.next(e)},t.prototype._error=function(e){this.window.error(e),this.destination.error(e)},t.prototype._complete=function(){this.window.complete(),this.destination.complete()},t.prototype._unsubscribe=function(){this.window=null},t.prototype.openWindow=function(){var e=this.window;e&&e.complete();var t=this.destination,n=this.window=new i.Subject;t.next(n)},t}(o.OuterSubscriber)},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},i=n(24),o=n(107);t.windowCount=function(e,t){return void 0===t&&(t=0),function(n){return n.lift(new a(e,t))}};var a=function(){function e(e,t){this.windowSize=e,this.startWindowEvery=t}return e.prototype.call=function(e,t){return t.subscribe(new s(e,this.windowSize,this.startWindowEvery))},e}(),s=function(e){function t(t,n,r){e.call(this,t),this.destination=t,this.windowSize=n,this.startWindowEvery=r,this.windows=[new o.Subject],this.count=0,t.next(this.windows[0])}return r(t,e),t.prototype._next=function(e){for(var t=this.startWindowEvery>0?this.startWindowEvery:this.windowSize,n=this.destination,r=this.windowSize,i=this.windows,a=i.length,s=0;s<a&&!this.closed;s++)i[s].next(e);var u=this.count-r+1;if(u>=0&&u%t==0&&!this.closed&&i.shift().complete(),++this.count%t==0&&!this.closed){var l=new o.Subject;i.push(l),n.next(l)}},t.prototype._error=function(e){var t=this.windows;if(t)for(;t.length>0&&!this.closed;)t.shift().error(e);this.destination.error(e)},t.prototype._complete=function(){var e=this.windows;if(e)for(;e.length>0&&!this.closed;)e.shift().complete();this.destination.complete()},t.prototype._unsubscribe=function(){this.count=0,this.windows=null},t}(i.Subscriber)},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},i=n(107),o=n(73),a=n(24),s=n(469),u=n(276);t.windowTime=function(e){var t=o.async,n=null,r=Number.POSITIVE_INFINITY;return u.isScheduler(arguments[3])&&(t=arguments[3]),u.isScheduler(arguments[2])?t=arguments[2]:s.isNumeric(arguments[2])&&(r=arguments[2]),u.isScheduler(arguments[1])?t=arguments[1]:s.isNumeric(arguments[1])&&(n=arguments[1]),function(i){return i.lift(new l(e,n,r,t))}};var l=function(){function e(e,t,n,r){this.windowTimeSpan=e,this.windowCreationInterval=t,this.maxWindowSize=n,this.scheduler=r}return e.prototype.call=function(e,t){return t.subscribe(new d(e,this.windowTimeSpan,this.windowCreationInterval,this.maxWindowSize,this.scheduler))},e}(),c=function(e){function t(){e.apply(this,arguments),this._numberOfNextedValues=0}return r(t,e),t.prototype.next=function(t){this._numberOfNextedValues++,e.prototype.next.call(this,t)},Object.defineProperty(t.prototype,"numberOfNextedValues",{get:function(){return this._numberOfNextedValues},enumerable:!0,configurable:!0}),t}(i.Subject),d=function(e){function t(t,n,r,i,o){e.call(this,t),this.destination=t,this.windowTimeSpan=n,this.windowCreationInterval=r,this.maxWindowSize=i,this.scheduler=o,this.windows=[];var a=this.openWindow();if(null!==r&&r>=0){var s={subscriber:this,window:a,context:null},u={windowTimeSpan:n,windowCreationInterval:r,subscriber:this,scheduler:o};this.add(o.schedule(p,n,s)),this.add(o.schedule(h,r,u))}else{var l={subscriber:this,window:a,windowTimeSpan:n};this.add(o.schedule(f,n,l))}}return r(t,e),t.prototype._next=function(e){for(var t=this.windows,n=t.length,r=0;r<n;r++){var i=t[r];i.closed||(i.next(e),i.numberOfNextedValues>=this.maxWindowSize&&this.closeWindow(i))}},t.prototype._error=function(e){for(var t=this.windows;t.length>0;)t.shift().error(e);this.destination.error(e)},t.prototype._complete=function(){for(var e=this.windows;e.length>0;){var t=e.shift();t.closed||t.complete()}this.destination.complete()},t.prototype.openWindow=function(){var e=new c;return this.windows.push(e),this.destination.next(e),e},t.prototype.closeWindow=function(e){e.complete();var t=this.windows;t.splice(t.indexOf(e),1)},t}(a.Subscriber);function f(e){var t=e.subscriber,n=e.windowTimeSpan,r=e.window;r&&t.closeWindow(r),e.window=t.openWindow(),this.schedule(e,n)}function h(e){var t=e.windowTimeSpan,n=e.subscriber,r=e.scheduler,i=e.windowCreationInterval,o={action:this,subscription:null},a={subscriber:n,window:n.openWindow(),context:o};o.subscription=r.schedule(p,t,a),this.add(o.subscription),this.schedule(e,i)}function p(e){var t=e.subscriber,n=e.window,r=e.context;r&&r.action&&r.subscription&&r.action.remove(r.subscription),t.closeWindow(n)}},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},i=n(107),o=n(103),a=n(113),s=n(108),u=n(45),l=n(46);t.windowToggle=function(e,t){return function(n){return n.lift(new c(e,t))}};var c=function(){function e(e,t){this.openings=e,this.closingSelector=t}return e.prototype.call=function(e,t){return t.subscribe(new d(e,this.openings,this.closingSelector))},e}(),d=function(e){function t(t,n,r){e.call(this,t),this.openings=n,this.closingSelector=r,this.contexts=[],this.add(this.openSubscription=l.subscribeToResult(this,n,n))}return r(t,e),t.prototype._next=function(e){var t=this.contexts;if(t)for(var n=t.length,r=0;r<n;r++)t[r].window.next(e)},t.prototype._error=function(t){var n=this.contexts;if(this.contexts=null,n)for(var r=n.length,i=-1;++i<r;){var o=n[i];o.window.error(t),o.subscription.unsubscribe()}e.prototype._error.call(this,t)},t.prototype._complete=function(){var t=this.contexts;if(this.contexts=null,t)for(var n=t.length,r=-1;++r<n;){var i=t[r];i.window.complete(),i.subscription.unsubscribe()}e.prototype._complete.call(this)},t.prototype._unsubscribe=function(){var e=this.contexts;if(this.contexts=null,e)for(var t=e.length,n=-1;++n<t;){var r=e[n];r.window.unsubscribe(),r.subscription.unsubscribe()}},t.prototype.notifyNext=function(e,t,n,r,u){if(e===this.openings){var c=this.closingSelector,d=a.tryCatch(c)(t);if(d===s.errorObject)return this.error(s.errorObject.e);var f=new i.Subject,h=new o.Subscription,p={window:f,subscription:h};this.contexts.push(p);var m=l.subscribeToResult(this,d,p);m.closed?this.closeWindow(this.contexts.length-1):(m.context=p,h.add(m)),this.destination.next(f)}else this.closeWindow(this.contexts.indexOf(e))},t.prototype.notifyError=function(e){this.error(e)},t.prototype.notifyComplete=function(e){e!==this.openSubscription&&this.closeWindow(this.contexts.indexOf(e.context))},t.prototype.closeWindow=function(e){if(-1!==e){var t=this.contexts,n=t[e],r=n.window,i=n.subscription;t.splice(e,1),r.complete(),i.unsubscribe()}},t}(u.OuterSubscriber)},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},i=n(107),o=n(113),a=n(108),s=n(45),u=n(46);t.windowWhen=function(e){return function(t){return t.lift(new l(e))}};var l=function(){function e(e){this.closingSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.closingSelector))},e}(),c=function(e){function t(t,n){e.call(this,t),this.destination=t,this.closingSelector=n,this.openWindow()}return r(t,e),t.prototype.notifyNext=function(e,t,n,r,i){this.openWindow(i)},t.prototype.notifyError=function(e,t){this._error(e)},t.prototype.notifyComplete=function(e){this.openWindow(e)},t.prototype._next=function(e){this.window.next(e)},t.prototype._error=function(e){this.window.error(e),this.destination.error(e),this.unsubscribeClosingNotification()},t.prototype._complete=function(){this.window.complete(),this.destination.complete(),this.unsubscribeClosingNotification()},t.prototype.unsubscribeClosingNotification=function(){this.closingNotification&&this.closingNotification.unsubscribe()},t.prototype.openWindow=function(e){void 0===e&&(e=null),e&&(this.remove(e),e.unsubscribe());var t=this.window;t&&t.complete();var n=this.window=new i.Subject;this.destination.next(n);var r=o.tryCatch(this.closingSelector)();if(r===a.errorObject){var s=a.errorObject.e;this.destination.error(s),this.window.error(s)}else this.add(this.closingNotification=u.subscribeToResult(this,r))},t}(s.OuterSubscriber)},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},i=n(45),o=n(46);t.withLatestFrom=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return function(t){var n;"function"==typeof e[e.length-1]&&(n=e.pop());var r=e;return t.lift(new a(r,n))}};var a=function(){function e(e,t){this.observables=e,this.project=t}return e.prototype.call=function(e,t){return t.subscribe(new s(e,this.observables,this.project))},e}(),s=function(e){function t(t,n,r){e.call(this,t),this.observables=n,this.project=r,this.toRespond=[];var i=n.length;this.values=new Array(i);for(var a=0;a<i;a++)this.toRespond.push(a);for(a=0;a<i;a++){var s=n[a];this.add(o.subscribeToResult(this,s,s,a))}}return r(t,e),t.prototype.notifyNext=function(e,t,n,r,i){this.values[n]=t;var o=this.toRespond;if(o.length>0){var a=o.indexOf(n);-1!==a&&o.splice(a,1)}},t.prototype.notifyComplete=function(){},t.prototype._next=function(e){if(0===this.toRespond.length){var t=[e].concat(this.values);this.project?this._tryProject(t):this.destination.next(t)}},t.prototype._tryProject=function(e){var t;try{t=this.project.apply(this,e)}catch(e){return void this.destination.error(e)}this.destination.next(t)},t}(i.OuterSubscriber)},function(e,t,n){"use strict";var r=n(570);t.zipAll=function(e){return function(t){return t.lift(new r.ZipOperator(e))}}},function(e,t,n){"use strict";var r=n(1269),i=function(){function e(){this.subscriptions=[]}return e.prototype.logSubscribedFrame=function(){return this.subscriptions.push(new r.SubscriptionLog(this.scheduler.now())),this.subscriptions.length-1},e.prototype.logUnsubscribedFrame=function(e){var t=this.subscriptions,n=t[e];t[e]=new r.SubscriptionLog(n.subscribedFrame,this.scheduler.now())},e}();t.SubscriptionLoggable=i},function(e,t,n){"use strict";var r=function(){return function(e,t){void 0===t&&(t=Number.POSITIVE_INFINITY),this.subscribedFrame=e,this.unsubscribedFrame=t}}();t.SubscriptionLog=r},function(e,t,n){"use strict";t.applyMixins=function(e,t){for(var n=0,r=t.length;n<r;n++)for(var i=t[n],o=Object.getOwnPropertyNames(i.prototype),a=0,s=o.length;a<s;a++){var u=o[a];e.prototype[u]=i.prototype[u]}}},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},i=n(470),o=function(e){function t(t,n){var r=this;void 0===t&&(t=a),void 0===n&&(n=Number.POSITIVE_INFINITY),e.call(this,t,function(){return r.frame}),this.maxFrames=n,this.frame=0,this.index=-1}return r(t,e),t.prototype.flush=function(){for(var e,t,n=this.actions,r=this.maxFrames;(t=n.shift())&&(this.frame=t.delay)<=r&&!(e=t.execute(t.state,t.delay)););if(e){for(;t=n.shift();)t.unsubscribe();throw e}},t.frameTimeFactor=10,t}(n(471).AsyncScheduler);t.VirtualTimeScheduler=o;var a=function(e){function t(t,n,r){void 0===r&&(r=t.index+=1),e.call(this,t,n),this.scheduler=t,this.work=n,this.index=r,this.active=!0,this.index=t.index=r}return r(t,e),t.prototype.schedule=function(n,r){if(void 0===r&&(r=0),!this.id)return e.prototype.schedule.call(this,n,r);this.active=!1;var i=new t(this.scheduler,this.work);return this.add(i),i.schedule(n,r)},t.prototype.requestAsyncId=function(e,n,r){void 0===r&&(r=0),this.delay=e.frame+r;var i=e.actions;return i.push(this),i.sort(t.sortActions),!0},t.prototype.recycleAsyncId=function(e,t,n){void 0===n&&(n=0)},t.prototype._execute=function(t,n){if(!0===this.active)return e.prototype._execute.call(this,t,n)},t.sortActions=function(e,t){return e.delay===t.delay?e.index===t.index?0:e.index>t.index?1:-1:e.delay>t.delay?1:-1},t}(i.AsyncAction);t.VirtualAction=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TOOL_ITEMS=t.TOOL_TYPES=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=f(n(1)),o=f(n(11)),a=f(n(44)),s=f(n(300)),u=n(287),l=f(u),c=f(n(439)),d=f(n(275));function f(e){return e&&e.__esModule?e:{default:e}}var h=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={showPin:!0,currentType:u.TOOL_TYPES.None.name,pinChanged:!1,selectedNum:0},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,d.default),r(t,[{key:"componentWillReceiveProps",value:function(e){var t=this.props.reduxState.node.currentSelectNodeNum;e.reduxState.node.currentSelectNodeNum!=this.props.reduxState.node.currentSelectNodeNum&&(t=e.reduxState.node.currentSelectNodeNum),this.props.reduxState.node.nodeNum>0&&this.state.currentType===u.TOOL_TYPES.None.name&&(this.state.currentType=u.TOOL_TYPES.Default.name),this.setState({selectedNum:t||0})}},{key:"componentDidMount",value:function(){(function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0})(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"componentDidMount",this).call(this),a.default.on("change",this.updateToolsType.bind(this),"SelectedNodesTools"),s.default.on("change",this.updatePinChange.bind(this),"SelectedNodesTools")}},{key:"updatePinChange",value:function(){this.setState({pinChanged:!this.pinChanged})}},{key:"updateToolsType",value:function(){var e=u.TOOL_TYPES.None.name,t=a.default.singleNode;0==t.total?e=u.TOOL_TYPES.None.name:0==t.selectCount?e=u.TOOL_TYPES.Default.name:1==t.selectCount?e=u.TOOL_TYPES.SingleNode.name:t.selectCount>1&&(e=u.TOOL_TYPES.SelectNodes.name),this.setState({currentType:e})}},{key:"getSelectNodeIdsForPin",value:function(){var e=Object.keys(a.default.selectNodeIdsMap);return 0==o.default.size(e)&&(e=a.default.layoutNodeIds),e}},{key:"handleToolClick",value:function(e,t){l.default.handleToolClick.func(e,t)}},{key:"setPinStyle",value:function(e){this.props.actions.setNodePropertyByLabel("kmzImport_Point","icon",9,"-128px -256px"),c.default.addIcon("kmzImport_Point","icon",0),this.setState({miniPointColor:e})}},{key:"render",value:function(){var e=this,t=this.state,n=t.currentType,r=t.selectedNum,c=[],d=null;"None"!=n&&(s.default.checkPinStatus(this.getSelectNodeIdsForPin())?c.push(u.TOOL_ITEMS.Unpin):c.push(u.TOOL_ITEMS.Pin),c=c.concat(u.TOOL_TYPES[n].value)),"SingleNode"==n&&(d=a.default.singleNode.node);var f=0;return _app&&_app.controller&&_app.controller.graph&&(f=o.default.sumBy(_app.controller.graph.visibleNodes,function(e){return e.pinned?1:0})),i.default.createElement("div",{id:"selected-nodes-tools",className:"selected-nodes-tools-tour"},i.default.createElement("div",{className:"nodes-tools"},c.map(function(t,n){return i.default.createElement("div",{key:"item-"+n,className:"item"},i.default.createElement("i",{className:"title-text animated fadeInUp faster"},i.default.createElement("i",{className:"title-detail"},"split"==t?null:t.text)),i.default.createElement("div",{className:"node-num node-"+t.icon},"inverse"==t.icon?r:f),i.default.createElement("i",{className:"tour-icon-"+t.icon+" iconfont icon-"+t.icon,onClick:function(n){return e.handleToolClick(t.name)}}))}),i.default.createElement("div",{className:"item "+(d&&l.default.checkWebLink.func(d.data.detail.data)?"":"d-none")},i.default.createElement("i",{className:"title-text animated fadeInUp faster"},i.default.createElement("i",{className:"title-detail"},"Link")),i.default.createElement("i",{className:"tour-icon-link iconfont icon-link",onClick:function(t){return e.handleToolClick(u.TOOL_ITEMS.WebLink.name,{url:l.default.checkWebLink.func(d.data.detail.data),videoURL:l.default.checkVideo.func(d.data.detail.data),imageURL:l.default.checkImage.func(d.data.detail.data)})}})),i.default.createElement("div",{className:"item "+(d&&l.default.checkVideo.func(d.data.detail.data)?"":"d-none")},i.default.createElement("i",{className:"title-text animated fadeInUp faster"},i.default.createElement("i",{className:"title-detail"},"Video")),i.default.createElement("i",{className:"tour-icon-video iconfont icon-video",onClick:function(t){return e.handleToolClick(u.TOOL_ITEMS.Video.name,{videoURL:l.default.checkVideo.func(d.data.detail.data)})}})),i.default.createElement("div",{className:"item "+(d&&l.default.checkImage.func(d.data.detail.data)?"":"d-none")},i.default.createElement("i",{className:"title-text animated fadeInUp faster"},i.default.createElement("i",{className:"title-detail"},"Image")),i.default.createElement("i",{className:"tour-icon-image iconfont icon-image",onClick:function(t){return e.handleToolClick(u.TOOL_ITEMS.Image.name,{imageURL:l.default.checkImage.func(d.data.detail.data)})}}))))}}]),t}();t.default=h,t.TOOL_TYPES=u.TOOL_TYPES,t.TOOL_ITEMS=u.TOOL_ITEMS},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.keyMap=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=c(n(766)),o=n(90),a=c(o),s=c(n(287)),u=c(n(300)),l=c(n(44));function c(e){return e&&e.__esModule?e:{default:e}}var d={win:{selectAll:{shortKey:"ctrl+a",name:"Select all nodes",detail:"<kbd>ctrl</kbd> + <kbd>A</kbd>"},resetPosition:{shortKey:"alt+shift+r",name:"Reset",detail:"<kbd>Alt</kbd> + <kbd>Shift</kbd> + <kbd>R</kbd>"},pan:{shortKey:!1,name:"Pan",detail:"<kbd>1</kbd> + <kbd>Left mouse button</kbd> drag or <kbd>Left mouse button</kbd> drag"},cameraDefaultPosition:{shortKey:"ctrl+1",name:"Reset position",detail:"<kbd>Ctrl</kbd> + <kbd>1</kbd>"},nodeInfo:{shortKey:"ctrl+i",name:"Show node info",detail:"<kbd>Ctrl</kbd> + <kbd>I</kbd>"},zoom:{shortKey:!1,name:"Zoom",detail:"<kbd>2</kbd> + <kbd>Left mouse button</kbd> drag"},cameraFarPosition:{shortKey:"ctrl+2",name:"Go far",detail:"<kbd>Ctrl</kbd> + <kbd>2</kbd>"},deleteSelected:{shortKey:["del","backspace"],name:"Delete selected nodes",detail:"<kbd>del</kbd> or <kbd>backspace</kbd>"},rotate:{shortKey:!1,name:"Rotate",detail:"<kbd>3</kbd> + <kbd>Left mouse button</kbd> drag"},cameraMiddlePosition:{shortKey:"ctrl+3",name:"Go middle position",detail:"<kbd>Ctrl</kbd> + <kbd>3</kbd>"},flyToNode:{shortKey:"ctrl+0",name:"Fly to node",detail:"<kbd>Ctrl</kbd> + <kbd>0</kbd>"},subtractSelect:{shortKey:!1,name:"Subtract from selection",detail:"<kbd>Alt</kbd> + <kbd>Left mouse button</kbd> drag"},hideMenu:{shortKey:"esc",name:"Hide menu",detail:"<kbd>Esc</kbd>"},autoRotate:{shortKey:"shift+o",name:"All node rotate by selected",detail:"<kbd>Shift</kbd> + <kbd>O</kbd>"},expand:{shortKey:"ctrl+x",name:"Expand",detail:"<kbd>Ctrl</kbd> + <kbd>X</kbd> or <kbd>Double Click</kbd> node"},inverseSelected:{shortKey:"i",name:"Inverse select",detail:"<kbd>I</kbd>"},selectNodes:{shortKey:!1,name:"Select",detail:"<kbd>Left mouse button</kbd>"},tagSelected:{shortKey:"ctrl+t",name:"Select tag",detail:"<kbd>Ctrl</kbd> + <kbd>T</kbd>",disable:!0},untagSelected:{shortKey:"alt+t",name:"",detail:"",disable:!0},cleanGraph:{shortKey:"alt+shift+c",name:"Clean graph",detail:"<kbd>Alt</kbd> + <kbd>Shift</kbd> + <kbd>C</kbd>"},leafTrimming:{shortKey:"shift+l",name:"Leaf trimming",detail:"<kbd>Shift</kbd> + <kbd>L</kbd>"},selectMultipleNodes:{shortKey:!1,name:"Select multiple",detail:"<kbd>Ctrl</kbd> + <kbd>Left mouse button</kbd> drag"},deselectAll:{shortKey:"alt+a",name:"Deselect all nodes",detail:"<kbd>Alt</kbd> + <kbd>A</kbd> or <kbd>Double click</kbd> empty space"},fullScreen:{shortKey:"shift+f",name:"FullScreen",detail:"<kbd>Shift</kbd> + <kbd>F</kbd>"},pinUnpinAll:{shortKey:"p",name:"Toggle physics",detail:"<kbd>P</kbd>"},dragSelected:{shortKey:!1,name:"Selected nodes",detail:"<kbd>Shfit</kbd> + <kbd>Left mouse button</kbd> drag"},undo:{shortKey:"ctrl+z",name:"Undo",detail:"<kbd>Ctrl</kbd> + <kbd>Z</kbd>"},redo:{shortKey:"ctrl+y",name:"Redo",detail:"<kbd>Ctrl</kbd> + <kbd>Y</kbd>"},moveSelect:{shortKey:!1,name:"Move selected nodes",detail:"<kbd>5</kbd> + <kbd>Left mouse button</kbd> drag"}},mac:{selectAll:{shortKey:"ctrl+a",name:"Select all nodes",detail:"<kbd>Ctrl</kbd> + <kbd>A</kbd>"},resetPosition:{shortKey:"alt+shift+r",name:"Reset",detail:"<kbd>Alt</kbd> + <kbd>Shift</kbd> + <kbd>R</kbd>"},pan:{shortKey:!1,name:"Pan",detail:"<kbd>1</kbd> + <kbd>Left mouse button</kbd> drag or <kbd>Left mouse button</kbd> drag"},cameraDefaultPosition:{shortKey:"ctrl+1",name:"Reset position",detail:"<kbd>Ctrl</kbd> + <kbd>1</kbd>"},nodeInfo:{shortKey:"ctrl+i",name:"Show node info",detail:"<kbd>Ctrl</kbd> + <kbd>I</kbd>"},zoom:{shortKey:!1,name:"Zoom",detail:"<kbd>2</kbd> + <kbd>Left mouse button</kbd> drag"},cameraFarPosition:{shortKey:"ctrl+2",name:"Go far",detail:"<kbd>Ctrl</kbd> + <kbd>2</kbd>"},deleteSelected:{shortKey:["del","backspace"],name:"Delete selected nodes",detail:"<kbd>del</kbd> or <kbd>backspace</kbd>"},rotate:{shortKey:!1,name:"Rotate",detail:"<kbd>3</kbd> + <kbd>Left mouse button</kbd> drag"},cameraMiddlePosition:{shortKey:"ctrl+3",name:"Go middle position",detail:"<kbd>Ctrl</kbd> + <kbd>3</kbd>"},flyToNode:{shortKey:"ctrl+0",name:"Fly to node",detail:"<kbd>Ctrl</kbd> + <kbd>0</kbd>"},subtractSelect:{shortKey:!1,name:"Subtract from selection",detail:"<kbd>Alt</kbd> + <kbd>Left mouse button</kbd> drag"},hideMenu:{shortKey:"esc",name:"Hide menu",detail:"<kbd>Esc</kbd>"},autoRotate:{shortKey:"ctrl+o",name:"All node rotate by selected",detail:"<kbd>Ctrl</kbd> + <kbd>O</kbd>"},expand:{shortKey:"ctrl+x",name:"Expand",detail:"<kbd>Ctrl</kbd> + <kbd>X</kbd> or <kbd>Double Click</kbd> node"},inverseSelected:{shortKey:"i",name:"Inverse select",detail:"<kbd>I</kbd>"},selectNodes:{shortKey:!1,name:"Select",detail:"<kbd>Left mouse button</kbd>"},cleanGraph:{shortKey:"ctrl+shift+c",name:"Clean graph",detail:"<kbd>Ctrl</kbd> + <kbd>Shift</kbd> + <kbd>C</kbd>"},leafTrimming:{shortKey:"ctrl+l",name:"Leaf trimming",detail:"<kbd>Ctrl</kbd> + <kbd>L</kbd>"},selectMultipleNodes:{shortKey:!1,name:"Select multiple",detail:"<kbd>Ctrl</kbd> + <kbd>Left mouse button</kbd> drag"},deselectAll:{shortKey:"alt+a",name:"Deselect all nodes",detail:"<kbd>Alt</kbd> + <kbd>A</kbd> or <kbd>Double click</kbd> empty space"},fullScreen:{shortKey:"ctrl+f",name:"FullScreen",detail:"<kbd>Ctrl</kbd> + <kbd>F</kbd>"},pinUnpinAll:{shortKey:"p",name:"Toggle physics",detail:"<kbd>P</kbd>"},dragSelected:{shortKey:!1,name:"Selected nodes",detail:"<kbd>Shfit</kbd> + <kbd>Left mouse button</kbd> drag"},tagSelected:{shortKey:"ctrl+t",name:"Select tag",detail:"<kbd>Ctrl</kbd> + <kbd>T</kbd>",disable:!0},untagSelected:{shortKey:"alt+t",name:"",detail:"",disable:!0},undo:{shortKey:"ctrl+z",name:"Undo",detail:"<kbd>Ctrl</kbd> + <kbd>Z</kbd>"},redo:{shortKey:"ctrl+y",name:"Redo",detail:"<kbd>Ctrl</kbd> + <kbd>Y</kbd>"},moveSelect:{shortKey:!1,name:"Move selected nodes",detail:"<kbd>5</kbd> + <kbd>Left mouse button</kbd> drag"}}},f=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.store=t;var r=0==window.navigator.platform.indexOf("Mac")?"mac":"win";Object.keys(d[r]).map(function(e){var t=d[r][e].shortKey;t&&i.default.bind(t,function(t){n[e].call(n)})})}return r(e,[{key:"selectAll",value:function(){window.getSelection?window.getSelection().removeAllRanges():document.selection&&document.selection.empty(),this.store.dispatch(a.default.nodeOperator(o.Types.NODE_SELECT_ALL,{selectAll:!0}))}},{key:"deselectAll",value:function(){this.store.dispatch(a.default.nodeOperator(o.Types.NODE_SELECT_ALL,{selectAll:!1}))}},{key:"hideMenu",value:function(){this.store.dispatch(o.Actions.showTopbar("")),this.store.dispatch(o.Actions.showPopWindow()),this.store.dispatch(o.Actions.showNodeInfo(null)),_app.controller.drawing.graph2DControl.rotating=!1}},{key:"nodeInfo",value:function(){var e=Object.keys(l.default.selectNodeIdsMap);1===e.length&&(_app.store.dispatch(o.Actions.disableNodeInfo(!1)),_app.store.dispatch(o.Actions.showNodeInfo(e[0])))}},{key:"flyToNode",value:function(){this.store.dispatch(o.Actions.flyToNode())}},{key:"cameraDefaultPosition",value:function(){_app.controller.drawing.vehicleControl.home()}},{key:"cameraMiddlePosition",value:function(){_app.controller.drawing.vehicleControl.middle()}},{key:"cameraFarPosition",value:function(){_app.controller.drawing.vehicleControl.far()}},{key:"pinUnpinAll",value:function(){var e;u.default.checkPinStatus((e=Object.keys(l.default.selectNodeIdsMap),0==_.size(e)&&(e=l.default.layoutNodeIds),e))?s.default.handleToolClick.func("Unpin",null):s.default.handleToolClick.func("Pin",null)}},{key:"autoRotate",value:function(){_app.controller.drawing.graph2DControl.rotating=!_app.controller.drawing.graph2DControl.rotating}},{key:"undo",value:function(){this.store.dispatch(o.Actions.nodeOperator(o.Types.NODE_UNDO))}},{key:"redo",value:function(){this.store.dispatch(o.Actions.nodeOperator(o.Types.NODE_REDO))}},{key:"expand",value:function(){s.default.expandSelectedNodes.func()}},{key:"deleteSelected",value:function(){s.default.deleteSelectedNodes.func()}},{key:"inverseSelected",value:function(){s.default.inverseSelection.func()}},{key:"tagSelected",value:function(){}},{key:"untagSelected",value:function(){}},{key:"cleanGraph",value:function(){this.store.dispatch(o.Actions.clearGraph())}},{key:"leafTrimming",value:function(){_app.controller.drawing.toggleLeaf()}},{key:"fullScreen",value:function(){window.isFullScreen=void 0==window.isFullScreen||!window.isFullScreen,this.store.dispatch(o.Actions.setFullScreen(window.isFullScreen))}},{key:"resetPosition",value:function(){_app.controller.drawing.graph2DControl.reset()}}]),e}();t.default=f,t.keyMap=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r;(r=jQuery).fn.drags||(r.fn.drags=function(e){e=r.extend({handle:"",cursor:"move"},e),this.addClass("custom-drags");var t=this,n=this;""!==e.handle&&(n=this.find(e.handle));var i=0,o=0,a=0,s=0,u=function(e){t.offset({top:e.pageY+a-i,left:e.pageX+s-o})};return r(document).on("mouseup",function(){r(document).off("mousemove",u);var e=t.attr("old-index")||t.css("z-index");t.css("z-index",e)}),n.css("cursor",e.cursor).on("mousedown",function(e){var n=r(this),l=t.css("z-index");i=n.outerHeight(),o=n.outerWidth(),a=n.offset().top+i-e.pageY,s=n.offset().left+o-e.pageX,t.attr("old-index",l),t.css("z-index",2e3),r(document).on("mousemove",u),e.preventDefault()}),t}),t.DragsClassName="custom-drags"},function(e,t,n){"use strict";e.exports=function(e){return null!==e&&"object"==typeof e}},function(e,t,n){var r=n(356),i=n(355);e.exports=function(e,t,n){var o=i(e,t);return n||(o=o.replace(/(\d) (?=\d)/g,"$1_")),o.replace(/ (.)/g,function(e,n){return r(n,t)})}},function(e,t,n){var r=n(355);e.exports=function(e,t){return r(e,t,"_")}},function(e,t,n){var r=n(356);e.exports=function(e,t){return null==e?"":(e=String(e),r(e.charAt(0),t)+e.substr(1))}},function(e,t){THREE.STLLoader=function(e){this.manager=void 0!==e?e:THREE.DefaultLoadingManager},THREE.STLLoader.prototype={constructor:THREE.STLLoader,load:function(e,t,n,r){var i=this,o=new THREE.FileLoader(i.manager);o.setResponseType("arraybuffer"),o.load(e,function(e){try{t(i.parse(e))}catch(e){r&&r(e)}},n,r)},parse:function(e){function t(e,t,n){for(var r=0,i=e.length;r<i;r++)if(e[r]!==t.getUint8(n+r,!1))return!1;return!0}var n,r=function(e){if("string"==typeof e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=255&e.charCodeAt(n);return t.buffer||t}return e}(e);return function(e){var n;if(84+50*(n=new DataView(e)).getUint32(80,!0)===n.byteLength)return!0;for(var r=[115,111,108,105,100],i=0;i<5;i++)if(t(r,n,i))return!1;return!0}(r)?function(e){for(var t,n,r,i,o,a,s,u,l=new DataView(e),c=l.getUint32(80,!0),d=!1,f=0;f<70;f++)1129270351==l.getUint32(f,!1)&&82==l.getUint8(f+4)&&61==l.getUint8(f+5)&&(d=!0,i=[],o=l.getUint8(f+6)/255,a=l.getUint8(f+7)/255,s=l.getUint8(f+8)/255,u=l.getUint8(f+9)/255);for(var h=new THREE.BufferGeometry,p=[],m=[],g=0;g<c;g++){var y=84+50*g,v=l.getFloat32(y,!0),b=l.getFloat32(y+4,!0),_=l.getFloat32(y+8,!0);if(d){var w=l.getUint16(y+48,!0);0==(32768&w)?(t=(31&w)/31,n=(w>>5&31)/31,r=(w>>10&31)/31):(t=o,n=a,r=s)}for(var k=1;k<=3;k++){var E=y+12*k;p.push(l.getFloat32(E,!0)),p.push(l.getFloat32(E+4,!0)),p.push(l.getFloat32(E+8,!0)),m.push(v,b,_),d&&i.push(t,n,r)}}return h.addAttribute("position",new THREE.BufferAttribute(new Float32Array(p),3)),h.addAttribute("normal",new THREE.BufferAttribute(new Float32Array(m),3)),d&&(h.addAttribute("color",new THREE.BufferAttribute(new Float32Array(i),3)),h.hasColors=!0,h.alpha=u),h}(r):function(e){for(var t,n=new THREE.BufferGeometry,r=/facet([\s\S]*?)endfacet/g,i=0,o=/[\s]+([+-]?(?:\d*)(?:\.\d*)?(?:[eE][+-]?\d+)?)/.source,a=new RegExp("vertex"+o+o+o,"g"),s=new RegExp("normal"+o+o+o,"g"),u=[],l=[],c=new THREE.Vector3;null!==(t=r.exec(e));){for(var d=0,f=0,h=t[0];null!==(t=s.exec(h));)c.x=parseFloat(t[1]),c.y=parseFloat(t[2]),c.z=parseFloat(t[3]),f++;for(;null!==(t=a.exec(h));)u.push(parseFloat(t[1]),parseFloat(t[2]),parseFloat(t[3])),l.push(c.x,c.y,c.z),d++;1!==f&&console.error("THREE.STLLoader: Something isn't right with the normal of face number "+i),3!==d&&console.error("THREE.STLLoader: Something isn't right with the vertices of face number "+i),i++}return n.addAttribute("position",new THREE.Float32BufferAttribute(u,3)),n.addAttribute("normal",new THREE.Float32BufferAttribute(l,3)),n}("string"!=typeof(n=e)?THREE.LoaderUtils.decodeText(new Uint8Array(n)):n)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ClearTextSelection=t.UpdateMoveCursor=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(23)),o=f(n(301)),a=f(n(11)),s=n(44),u=f(s),l=f(n(300)),c=f(n(287)),d=n(90);function f(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var p=function(e){(e||s.KeyboardState.pressed("ctrl")||s.KeyboardState.pressed("alt"))&&(window.getSelection?window.getSelection().removeAllRanges():document.selection&&document.selection.empty())},m=function(e,t,n,r,i){p(),$(document.body).attr("data-old-cursor")||$(document.body).attr("data-old-cursor",$(document.body).css("cursor"));var o=$(document.body).css("cursor");e?$(document.body).css("cursor","move"):r||i&&"zoom-out"==o?$(document.body).css("cursor","zoom-out"):n||i?$(document.body).css("cursor","zoom-in"):t?$(document.body).css("cursor","url(/static/images/cursors/cursors-rotation.png) , auto"):s.KeyboardState.pressed("shift")?$(document.body).css("cursor","url(/static/images/cursors/cursors-selection.png) , auto"):s.KeyboardState.pressed("ctrl")?$(document.body).css("cursor","url(/static/images/cursors/cursors-add.png) , auto"):s.KeyboardState.pressed("alt")?$(document.body).css("cursor","url(/static/images/cursors/cursors-remove.png) , auto"):$(document.body).css("cursor",$(document.body).attr("data-old-cursor"))},g=function(){function e(t){h(this,e),this.validateBuild(t)?(this.graph=t.graph,this.camera=t.camera,this.renderer=t.renderer,this.scene=t.scene,this.cloudScene=t.cloudScene,this.cameraControl=t.cameraControl,this.mouseStream=t.mouseStream,this.keyboardStream=t.keyboardStream,this.nodeCloud=t.nodeCloud,this.neighborsCount=t.neighborsCount||25,this.layoutController=t.layoutController,this.graphController=t.graphController,this.edgeCloud=t.edgeCloud,this.modelCloud=t.modelCloud,this.relationshipCloud=t.relationshipCloud,this.dragSelection=t.dragSelection,this.newRelationshipNodes=[],this.init(),this.initGUPPicker(),this.handleStream(),this.handleMouseOverStream(),this.handleDBClickStram()):console.error("build MouseGraphControl error")}return r(e,[{key:"init",value:function(){this.raycaster=new i.Raycaster,this.raycaster.params.Points.threshold=.05}},{key:"initGUPPicker",value:function(){}},{key:"handleDBClickStram",value:function(){var e=this;this.mouseStream.dbClick.subscribe(function(t){var n=new i.Vector2(t.x,t.y);e.raycaster.setFromCamera(n,e.camera);var r=e.raycaster.intersectObject(e.nodeCloud.points),o=r.length>0?r[0]:null,a=o&&e.graph.visibleNodes[o.index]?e.graph.visibleNodes[o.index]:{};a.id?c.default.expandSelectedNodesAction.func([a.id]):c.default.clearSelection.func();var s=e.raycaster.intersectObjects(_app.controller.drawing.cloudScene.getObjectByName("cloud-video").children);s.length>0&&s[0].object&&s[0].object.name&&u.default.selectWithNodeIds([s[0].object.name.slice(0,-6)])})}},{key:"handleStream",value:function(){var e=this;this.mouseHandleDownStream=this.mouseStream.down.filter(function(e){return!e.right}).map(function(t){if(e.lastX=t.x,e.lastY=t.y,!e.nodeCloud||!e.nodeCloud.points||s.KeyboardState.pressed("1")||s.KeyboardState.pressed("2")||s.KeyboardState.pressed("3"))return o.default.Observable.empty();var n=null,r=null,a=new i.Vector3;if(s.KeyboardState.pressed("5")){if(r=new i.Plane,n=e.graph.visibleNodes.find(function(e){return e.selected})){var u=n,l=e.nodeCloud.parent.localToWorld(u.position.clone());a=u.position.clone(),r.setFromNormalAndCoplanarPoint(e.camera.getWorldDirection(e.camera.position.clone()),l),e.dragSelection.enable=!1}}else{r=new i.Plane;var c=new i.Vector2(t.x,t.y);e.raycaster.setFromCamera(c,e.camera);var d=e.raycaster.intersectObject(e.nodeCloud.points);if((n=d.length>0?d[0]:null)&&e.graph.visibleNodes[n.index]){var f=e.graph.visibleNodes[n.index],h=e.nodeCloud.parent.localToWorld(f.position.clone());a=f.position.clone(),r.setFromNormalAndCoplanarPoint(e.camera.getWorldDirection(e.camera.position.clone()),h),e.dragSelection.enable=!1}var p=e.raycaster.intersectObjects(_app.controller.drawing.cloudScene.getObjectByName("cloud-video").children);p.length>0&&_app.controller.drawing.mediaGroup.handleVideoIn2D(p[0].object.name)}var m=e.intersectPlane(t,r);return{selected:n,plane:r,position:t,initOffset:e.nodeCloud.parent.worldToLocal(m).clone().sub(a)}}),this.mouseHandleStream=this.mouseHandleDownStream.flatMap(function(t){return e.mouseStream.move.map(function(e){return t.position=e,t}).takeUntil(e.mouseStream.up)}),this.mouseHandleStream.filter(function(e){return!!e.selected}).subscribe(function(t){var n=e.intersectPlane(t.position,t.plane),r=e.nodeCloud.parent.worldToLocal(n);s.KeyboardState.pressed("5")?e.handleDragNDrop(t.selected.index,r,t.initOffset):e.handleDragNDrop(t.selected.index,r)}),this.mouseHandleDownStream.filter(function(t){return t.selected&&t.selected.index>=0&&e.graph.visibleNodes[t.selected.index]}).flatMap(function(t){return e.mouseStream.up.map(function(n){return t.position&&n&&t.position.x===n.x&&t.position.y===n.y?e.graph.visibleNodes[t.selected.index]:null}).take(1)}).filter(function(e){return null!==e}).subscribe(function(e){u.default.selectWithNodeIds([e.id])}),this.mouseStream.up.subscribe(function(t){if(window.isRightClick){var n=new i.Vector2(t.x,t.y);e.raycaster.setFromCamera(n,e.camera);var r=e.raycaster.intersectObject(e.nodeCloud.points),o=r.length>0?r[0]:null,a=o&&e.graph.visibleNodes[o.index]?e.graph.visibleNodes[o.index]:{};_app.store.dispatch(d.Actions.showRightPanel({x:t.x,y:t.y,nodes:a})),window.isRightClick=!1}m(!1),""!=_app.store.getState().node.moveBorder&&_app.store.dispatch(d.Actions.showMoveBorder("")),window.moveActionTween&&(window.moveActionTween.stop(),window.moveActionTween=null),window.rotateActionTween&&(window.rotateActionTween.stop(),window.rotateActionTween=null),window.zoomActionTween&&(window.zoomActionTween.stop(),window.zoomActionTween=null)}),this.keyboardStream.down.filter(function(e){return["Control","Shift","Alt","1","2","3","5"].includes(e)}).subscribe(function(e){m("1"==e||"5"==e,"3"==e,!1,!1,"2"==e)}),this.keyboardStream.up.filter(function(e){return["Control","Shift","Alt","1","2","3","5"].includes(e)}).subscribe(function(e){m(!1),""!=_app.store.getState().node.moveBorder&&_app.store.dispatch(d.Actions.showMoveBorder("")),window.moveActionTween&&(window.moveActionTween.stop(),window.moveActionTween=null),window.rotateActionTween&&(window.rotateActionTween.stop(),window.rotateActionTween=null),window.zoomActionTween&&(window.zoomActionTween.stop(),window.zoomActionTween=null)})}},{key:"intersectPlane",value:function(e,t){this.raycaster.setFromCamera(e,this.camera),this.raycaster.source="mouse";var n=new i.Vector3;return this.raycaster.ray.intersectPlane(t,n),n}},{key:"handleMouseOverStream",value:function(){}},{key:"handleDragNDrop",value:function(e,t,n){var r=this;if(s.KeyboardState.pressed("5")){this.cameraControl.enabled=!1,this.dragSelection.enable=!1;var i=this.graph.visibleNodes.find(function(t){return t.index==e});if(!i)return;m(!0);var o=t.clone().sub(n).sub(i.position.clone()),c=s.KeyboardState.pressed("5")?a.default.map(u.default.selectNodeIdsMap,function(e,t){return t}):[i.id];l.default.pinNodeIds(c),this.layoutController.setNodesPositions(c,c.map(function(e){if(!r.graph.nodeSet[e])return null;var t=r.graph.nodeSet[e].position.clone().add(o);return r.graph.nodeSet[e].position.copy(t),t}))}else{this.cameraControl.enabled=!1,this.dragSelection.enable=!1;var d=this.graph.visibleNodes.find(function(t){return t.index==e});if(!d)return;m(!0);var f=t.clone().sub(this.graph.nodeSet[d.id].position.clone()),h=s.KeyboardState.pressed("shift")?a.default.map(u.default.selectNodeIdsMap,function(e,t){return t}):[d.id];l.default.pinNodeIds(h),this.layoutController.setNodesPositions(h,h.map(function(e){if(!r.graph.nodeSet[e])return null;var t=r.graph.nodeSet[e].position.clone().add(f);return r.graph.nodeSet[e].position.copy(t),t}))}}},{key:"validateBuild",value:function(t){return String(t.constructor)===String(e.Builder)}}],[{key:"Builder",get:function(){return function(){function t(e){h(this,t),this.graph=e}return r(t,[{key:"withGraph",value:function(e){return this.graph=e,this}},{key:"withCamera",value:function(e){return this.camera=e,this}},{key:"withScene",value:function(e){return this.scene=e,this}},{key:"withCloudScene",value:function(e){return this.cloudScene=e,this}},{key:"withRenderer",value:function(e){return this.renderer=e,this}},{key:"withCameraControl",value:function(e){return this.cameraControl=e,this}},{key:"withNodeCloud",value:function(e){return this.nodeCloud=e,this}},{key:"withEdgeCloud",value:function(e){return this.edgeCloud=e,this}},{key:"withModelCloud",value:function(e){return this.modelCloud=e,this}},{key:"withMouseStream",value:function(e){return this.mouseStream=e,this}},{key:"withKeyboardStream",value:function(e){return this.keyboardStream=e,this}},{key:"withLayoutControler",value:function(e){return this.layoutController=e,this}},{key:"withNeighborsCount",value:function(e){return this.neighborsCount=e,this}},{key:"withGraphController",value:function(e){return this.graphController=e,this}},{key:"withRelationshipCloud",value:function(e){return this.relationshipCloud=e,this}},{key:"withDragSelection",value:function(e){return this.dragSelection=e,this}},{key:"build",value:function(){return new e(this)}}]),t}()}}]),e}();t.default=g,t.UpdateMoveCursor=m,t.ClearTextSelection=p},function(e,t,n){var r=n(2387),i=n(1165),o="undefined"!=typeof Float64Array;function a(e,t){return e[0]-t[0]}function s(){var e,t=this.stride,n=new Array(t.length);for(e=0;e<n.length;++e)n[e]=[Math.abs(t[e]),e];n.sort(a);var r=new Array(n.length);for(e=0;e<r.length;++e)r[e]=n[e][1];return r}function u(e,t){var n=["View",t,"d",e].join("");t<0&&(n="View_Nil"+e);var i="generic"===e;if(-1===t){var o="function "+n+"(a){this.data=a;};var proto="+n+".prototype;proto.dtype='"+e+"';proto.index=function(){return -1};proto.size=0;proto.dimension=-1;proto.shape=proto.stride=proto.order=[];proto.lo=proto.hi=proto.transpose=proto.step=function(){return new "+n+"(this.data);};proto.get=proto.set=function(){};proto.pick=function(){return null};return function construct_"+n+"(a){return new "+n+"(a);}";return new Function(o)()}if(0===t){o="function "+n+"(a,d) {this.data = a;this.offset = d};var proto="+n+".prototype;proto.dtype='"+e+"';proto.index=function(){return this.offset};proto.dimension=0;proto.size=1;proto.shape=proto.stride=proto.order=[];proto.lo=proto.hi=proto.transpose=proto.step=function "+n+"_copy() {return new "+n+"(this.data,this.offset)};proto.pick=function "+n+"_pick(){return TrivialArray(this.data);};proto.valueOf=proto.get=function "+n+"_get(){return "+(i?"this.data.get(this.offset)":"this.data[this.offset]")+"};proto.set=function "+n+"_set(v){return "+(i?"this.data.set(this.offset,v)":"this.data[this.offset]=v")+"};return function construct_"+n+"(a,b,c,d){return new "+n+"(a,d)}";return new Function("TrivialArray",o)(l[e][0])}o=["'use strict'"];var a=r(t),u=a.map(function(e){return"i"+e}),c="this.offset+"+a.map(function(e){return"this.stride["+e+"]*i"+e}).join("+"),d=a.map(function(e){return"b"+e}).join(","),f=a.map(function(e){return"c"+e}).join(",");o.push("function "+n+"(a,"+d+","+f+",d){this.data=a","this.shape=["+d+"]","this.stride=["+f+"]","this.offset=d|0}","var proto="+n+".prototype","proto.dtype='"+e+"'","proto.dimension="+t),o.push("Object.defineProperty(proto,'size',{get:function "+n+"_size(){return "+a.map(function(e){return"this.shape["+e+"]"}).join("*"),"}})"),1===t?o.push("proto.order=[0]"):(o.push("Object.defineProperty(proto,'order',{get:"),t<4?(o.push("function "+n+"_order(){"),2===t?o.push("return (Math.abs(this.stride[0])>Math.abs(this.stride[1]))?[1,0]:[0,1]}})"):3===t&&o.push("var s0=Math.abs(this.stride[0]),s1=Math.abs(this.stride[1]),s2=Math.abs(this.stride[2]);if(s0>s1){if(s1>s2){return [2,1,0];}else if(s0>s2){return [1,2,0];}else{return [1,0,2];}}else if(s0>s2){return [2,0,1];}else if(s2>s1){return [0,1,2];}else{return [0,2,1];}}})")):o.push("ORDER})")),o.push("proto.set=function "+n+"_set("+u.join(",")+",v){"),i?o.push("return this.data.set("+c+",v)}"):o.push("return this.data["+c+"]=v}"),o.push("proto.get=function "+n+"_get("+u.join(",")+"){"),i?o.push("return this.data.get("+c+")}"):o.push("return this.data["+c+"]}"),o.push("proto.index=function "+n+"_index(",u.join(),"){return "+c+"}"),o.push("proto.hi=function "+n+"_hi("+u.join(",")+"){return new "+n+"(this.data,"+a.map(function(e){return["(typeof i",e,"!=='number'||i",e,"<0)?this.shape[",e,"]:i",e,"|0"].join("")}).join(",")+","+a.map(function(e){return"this.stride["+e+"]"}).join(",")+",this.offset)}");var h=a.map(function(e){return"a"+e+"=this.shape["+e+"]"}),p=a.map(function(e){return"c"+e+"=this.stride["+e+"]"});o.push("proto.lo=function "+n+"_lo("+u.join(",")+"){var b=this.offset,d=0,"+h.join(",")+","+p.join(","));for(var m=0;m<t;++m)o.push("if(typeof i"+m+"==='number'&&i"+m+">=0){d=i"+m+"|0;b+=c"+m+"*d;a"+m+"-=d}");o.push("return new "+n+"(this.data,"+a.map(function(e){return"a"+e}).join(",")+","+a.map(function(e){return"c"+e}).join(",")+",b)}"),o.push("proto.step=function "+n+"_step("+u.join(",")+"){var "+a.map(function(e){return"a"+e+"=this.shape["+e+"]"}).join(",")+","+a.map(function(e){return"b"+e+"=this.stride["+e+"]"}).join(",")+",c=this.offset,d=0,ceil=Math.ceil");for(m=0;m<t;++m)o.push("if(typeof i"+m+"==='number'){d=i"+m+"|0;if(d<0){c+=b"+m+"*(a"+m+"-1);a"+m+"=ceil(-a"+m+"/d)}else{a"+m+"=ceil(a"+m+"/d)}b"+m+"*=d}");o.push("return new "+n+"(this.data,"+a.map(function(e){return"a"+e}).join(",")+","+a.map(function(e){return"b"+e}).join(",")+",c)}");var g=new Array(t),y=new Array(t);for(m=0;m<t;++m)g[m]="a[i"+m+"]",y[m]="b[i"+m+"]";o.push("proto.transpose=function "+n+"_transpose("+u+"){"+u.map(function(e,t){return e+"=("+e+"===undefined?"+t+":"+e+"|0)"}).join(";"),"var a=this.shape,b=this.stride;return new "+n+"(this.data,"+g.join(",")+","+y.join(",")+",this.offset)}"),o.push("proto.pick=function "+n+"_pick("+u+"){var a=[],b=[],c=this.offset");for(m=0;m<t;++m)o.push("if(typeof i"+m+"==='number'&&i"+m+">=0){c=(c+this.stride["+m+"]*i"+m+")|0}else{a.push(this.shape["+m+"]);b.push(this.stride["+m+"])}");return o.push("var ctor=CTOR_LIST[a.length+1];return ctor(this.data,a,b,c)}"),o.push("return function construct_"+n+"(data,shape,stride,offset){return new "+n+"(data,"+a.map(function(e){return"shape["+e+"]"}).join(",")+","+a.map(function(e){return"stride["+e+"]"}).join(",")+",offset)}"),new Function("CTOR_LIST","ORDER",o.join("\n"))(l[e],s)}var l={float32:[],float64:[],int8:[],int16:[],int32:[],uint8:[],uint16:[],uint32:[],array:[],uint8_clamped:[],buffer:[],generic:[]};e.exports=function(e,t,n,r){if(void 0===e)return(0,l.array[0])([]);"number"==typeof e&&(e=[e]),void 0===t&&(t=[e.length]);var a=t.length;if(void 0===n){n=new Array(a);for(var s=a-1,c=1;s>=0;--s)n[s]=c,c*=t[s]}if(void 0===r)for(r=0,s=0;s<a;++s)n[s]<0&&(r-=(t[s]-1)*n[s]);for(var d=function(e){if(i(e))return"buffer";if(o)switch(Object.prototype.toString.call(e)){case"[object Float64Array]":return"float64";case"[object Float32Array]":return"float32";case"[object Int8Array]":return"int8";case"[object Int16Array]":return"int16";case"[object Int32Array]":return"int32";case"[object Uint8Array]":return"uint8";case"[object Uint16Array]":return"uint16";case"[object Uint32Array]":return"uint32";case"[object Uint8ClampedArray]":return"uint8_clamped"}return Array.isArray(e)?"array":"generic"}(e),f=l[d];f.length<=a+1;)f.push(u(d,f.length-1));return(0,f[a+1])(e,t,n,r)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={updateDegreeFilter:function(e){this.filterData=e},apply:function(e){var t=this;this.filterData&&this.filterData.active&&e.visibleNodes.forEach(function(e){(e.degree<t.filterData.from||e.degree>t.filterData.to)&&(e.alpha=.2)})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(50),o=(r=i)&&r.__esModule?r:{default:r};var a={setCondition:function(e,t){this.condition=t;var n=e.nodes.filter(function(e){var n=e.data.detail;if(!n||n.type!=t.label||!n.data||!n.data[t.property])return!0;var r=n.data[t.property];try{(r=new Date(n.data[t.property]).getTime())||(r=parseInt(n.data[t.property]))}catch(e){return!0}return r>=t.minTime&&r<=t.maxTime}),r=e.edges.filter(function(e){return n.includes(e.source)&&n.includes(e.target)});e.visibleEdges.forEach(function(e){r.includes(e)?e.alpha=o.default.config.edgeDefaultAlpha:e.alpha=0}),e.visibleNodes.forEach(function(e){n.includes(e)?e.image?e.imageAlpha=1:e.alpha=1:e.image?e.imageAlpha=0:e.alpha=0}),e.renderNeedsUpdate=!0},apply:function(e){}};t.default=a},function(e,t,n){var r,i,o=n(2438),a=n(769),s=n(770).isArray;function u(e){var t=Number(e);if(!isNaN(t))return t;var n=e.toLowerCase();return"true"===n||"false"!==n&&e}function l(e,t){var n;if(r.compact){if(!i[r[e+"Key"]]&&(s(r.alwaysArray)?-1!==r.alwaysArray.indexOf(r[e+"Key"]):r.alwaysArray)&&(i[r[e+"Key"]]=[]),i[r[e+"Key"]]&&!s(i[r[e+"Key"]])&&(i[r[e+"Key"]]=[i[r[e+"Key"]]]),e+"Fn"in r&&"string"==typeof t&&(t=r[e+"Fn"](t,i)),"instruction"===e&&("instructionFn"in r||"instructionNameFn"in r))for(n in t)if(t.hasOwnProperty(n))if("instructionFn"in r)t[n]=r.instructionFn(t[n],n,i);else{var o=t[n];delete t[n],t[r.instructionNameFn(n,o,i)]=o}s(i[r[e+"Key"]])?i[r[e+"Key"]].push(t):i[r[e+"Key"]]=t}else{i[r.elementsKey]||(i[r.elementsKey]=[]);var a={};if(a[r.typeKey]=e,"instruction"===e){for(n in t)if(t.hasOwnProperty(n))break;a[r.nameKey]="instructionNameFn"in r?r.instructionNameFn(n,t,i):n,r.instructionHasAttributes?(a[r.attributesKey]=t[n][r.attributesKey],"instructionFn"in r&&(a[r.attributesKey]=r.instructionFn(a[r.attributesKey],n,i))):("instructionFn"in r&&(t[n]=r.instructionFn(t[n],n,i)),a[r.instructionKey]=t[n])}else e+"Fn"in r&&(t=r[e+"Fn"](t,i)),a[r[e+"Key"]]=t;r.addParent&&(a[r.parentKey]=i),i[r.elementsKey].push(a)}}function c(e){var t;if("attributesFn"in r&&e&&(e=r.attributesFn(e,i)),(r.trim||"attributeValueFn"in r||"attributeNameFn"in r||r.nativeTypeAttributes)&&e)for(t in e)if(e.hasOwnProperty(t)&&(r.trim&&(e[t]=e[t].trim()),r.nativeTypeAttributes&&(e[t]=u(e[t])),"attributeValueFn"in r&&(e[t]=r.attributeValueFn(e[t],t,i)),"attributeNameFn"in r)){var n=e[t];delete e[t],e[r.attributeNameFn(t,e[t],i)]=n}return e}function d(e){var t={};if(e.body&&("xml"===e.name.toLowerCase()||r.instructionHasAttributes)){for(var n,o=/([\w:-]+)\s*=\s*(?:"([^"]*)"|'([^']*)'|(\w+))\s*/g;null!==(n=o.exec(e.body));)t[n[1]]=n[2]||n[3]||n[4];t=c(t)}if("xml"===e.name.toLowerCase()){if(r.ignoreDeclaration)return;i[r.declarationKey]={},Object.keys(t).length&&(i[r.declarationKey][r.attributesKey]=t),r.addParent&&(i[r.declarationKey][r.parentKey]=i)}else{if(r.ignoreInstruction)return;r.trim&&(e.body=e.body.trim());var a={};r.instructionHasAttributes&&Object.keys(t).length?(a[e.name]={},a[e.name][r.attributesKey]=t):a[e.name]=e.body,l("instruction",a)}}function f(e,t){var n;if("object"==typeof e&&(t=e.attributes,e=e.name),t=c(t),"elementNameFn"in r&&(e=r.elementNameFn(e,i)),r.compact){var o;if(n={},!r.ignoreAttributes&&t&&Object.keys(t).length)for(o in n[r.attributesKey]={},t)t.hasOwnProperty(o)&&(n[r.attributesKey][o]=t[o]);e in i||(s(r.alwaysArray)?-1===r.alwaysArray.indexOf(e):!r.alwaysArray)||(i[e]=[]),i[e]&&!s(i[e])&&(i[e]=[i[e]]),s(i[e])?i[e].push(n):i[e]=n}else i[r.elementsKey]||(i[r.elementsKey]=[]),(n={})[r.typeKey]="element",n[r.nameKey]=e,!r.ignoreAttributes&&t&&Object.keys(t).length&&(n[r.attributesKey]=t),r.alwaysChildren&&(n[r.elementsKey]=[]),i[r.elementsKey].push(n);n[r.parentKey]=i,i=n}function h(e){r.ignoreText||(e.trim()||r.captureSpacesBetweenElements)&&(r.trim&&(e=e.trim()),r.nativeType&&(e=u(e)),r.sanitize&&(e=e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")),l("text",e))}function p(e){r.ignoreComment||(r.trim&&(e=e.trim()),l("comment",e))}function m(e){var t=i[r.parentKey];r.addParent||delete i[r.parentKey],i=t}function g(e){r.ignoreCdata||(r.trim&&(e=e.trim()),l("cdata",e))}function y(e){r.ignoreDoctype||(e=e.replace(/^ /,""),r.trim&&(e=e.trim()),l("doctype",e))}function v(e){e.note=e}e.exports=function(e,t){var n=o.parser(!0,{}),s={};if(i=s,r=function(e){return r=a.copyOptions(e),a.ensureFlagExists("ignoreDeclaration",r),a.ensureFlagExists("ignoreInstruction",r),a.ensureFlagExists("ignoreAttributes",r),a.ensureFlagExists("ignoreText",r),a.ensureFlagExists("ignoreComment",r),a.ensureFlagExists("ignoreCdata",r),a.ensureFlagExists("ignoreDoctype",r),a.ensureFlagExists("compact",r),a.ensureFlagExists("alwaysChildren",r),a.ensureFlagExists("addParent",r),a.ensureFlagExists("trim",r),a.ensureFlagExists("nativeType",r),a.ensureFlagExists("nativeTypeAttributes",r),a.ensureFlagExists("sanitize",r),a.ensureFlagExists("instructionHasAttributes",r),a.ensureFlagExists("captureSpacesBetweenElements",r),a.ensureAlwaysArrayExists(r),a.ensureKeyExists("declaration",r),a.ensureKeyExists("instruction",r),a.ensureKeyExists("attributes",r),a.ensureKeyExists("text",r),a.ensureKeyExists("comment",r),a.ensureKeyExists("cdata",r),a.ensureKeyExists("doctype",r),a.ensureKeyExists("type",r),a.ensureKeyExists("name",r),a.ensureKeyExists("elements",r),a.ensureKeyExists("parent",r),a.checkFnExists("doctype",r),a.checkFnExists("instruction",r),a.checkFnExists("cdata",r),a.checkFnExists("comment",r),a.checkFnExists("text",r),a.checkFnExists("instructionName",r),a.checkFnExists("elementName",r),a.checkFnExists("attributeName",r),a.checkFnExists("attributeValue",r),a.checkFnExists("attributes",r),r}(t),n.opt={strictEntities:!0},n.onopentag=f,n.ontext=h,n.oncomment=p,n.onclosetag=m,n.onerror=v,n.oncdata=g,n.ondoctype=y,n.onprocessinginstruction=d,n.write(e).close(),s[r.elementsKey]){var u=s[r.elementsKey];delete s[r.elementsKey],s[r.elementsKey]=u,delete s.text}return s}},function(e,t,n){var r,i,o=n(769),a=n(770).isArray;function s(e,t,n){return(!n&&e.spaces?"\n":"")+Array(t+1).join(e.spaces)}function u(e,t,n){if(t.ignoreAttributes)return"";"attributesFn"in t&&(e=t.attributesFn(e,i,r));var o,a,u,l,c=[];for(o in e)e.hasOwnProperty(o)&&null!==e[o]&&void 0!==e[o]&&(l=t.noQuotesForNativeAttributes&&"string"!=typeof e[o]?"":'"',a=(a=""+e[o]).replace(/"/g,"&quot;"),u="attributeNameFn"in t?t.attributeNameFn(o,a,i,r):o,c.push(t.spaces&&t.indentAttributes?s(t,n+1,!1):" "),c.push(u+"="+l+("attributeValueFn"in t?t.attributeValueFn(a,o,i,r):a)+l));return e&&Object.keys(e).length&&t.spaces&&t.indentAttributes&&c.push(s(t,n,!1)),c.join("")}function l(e,t,n){return r=e,i="xml",t.ignoreDeclaration?"":"<?xml"+u(e[t.attributesKey],t,n)+"?>"}function c(e,t,n){if(t.ignoreInstruction)return"";var o;for(o in e)if(e.hasOwnProperty(o))break;var a="instructionNameFn"in t?t.instructionNameFn(o,e[o],i,r):o;if("object"==typeof e[o])return r=e,i=a,"<?"+a+u(e[o][t.attributesKey],t,n)+"?>";var s=e[o]?e[o]:"";return"instructionFn"in t&&(s=t.instructionFn(s,o,i,r)),"<?"+a+(s?" "+s:"")+"?>"}function d(e,t){return t.ignoreComment?"":"\x3c!--"+("commentFn"in t?t.commentFn(e,i,r):e)+"--\x3e"}function f(e,t){return t.ignoreCdata?"":"<![CDATA["+("cdataFn"in t?t.cdataFn(e,i,r):e)+"]]>"}function h(e,t){return t.ignoreDoctype?"":"<!DOCTYPE "+("doctypeFn"in t?t.doctypeFn(e,i,r):e)+">"}function p(e,t){return t.ignoreText?"":(e=(e=(e=""+e).replace(/&amp;/g,"&")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),"textFn"in t?t.textFn(e,i,r):e)}function m(e,t,n,o){return e.reduce(function(e,a){var l=s(t,n,o&&!e);switch(a.type){case"element":return e+l+function(e,t,n){r=e,i=e.name;var o=[],a="elementNameFn"in t?t.elementNameFn(e.name,e):e.name;o.push("<"+a),e[t.attributesKey]&&o.push(u(e[t.attributesKey],t,n));var s=e[t.elementsKey]&&e[t.elementsKey].length||e[t.attributesKey]&&"preserve"===e[t.attributesKey]["xml:space"];return s||(s="fullTagEmptyElementFn"in t?t.fullTagEmptyElementFn(e.name,e):t.fullTagEmptyElement),s?(o.push(">"),e[t.elementsKey]&&e[t.elementsKey].length&&(o.push(m(e[t.elementsKey],t,n+1)),r=e,i=e.name),o.push(t.spaces&&function(e,t){var n;if(e.elements&&e.elements.length)for(n=0;n<e.elements.length;++n)switch(e.elements[n][t.typeKey]){case"text":if(t.indentText)return!0;break;case"cdata":if(t.indentCdata)return!0;break;case"instruction":if(t.indentInstruction)return!0;break;case"doctype":case"comment":case"element":default:return!0}return!1}(e,t)?"\n"+Array(n+1).join(t.spaces):""),o.push("</"+a+">")):o.push("/>"),o.join("")}(a,t,n);case"comment":return e+l+d(a[t.commentKey],t);case"doctype":return e+l+h(a[t.doctypeKey],t);case"cdata":return e+(t.indentCdata?l:"")+f(a[t.cdataKey],t);case"text":return e+(t.indentText?l:"")+p(a[t.textKey],t);case"instruction":var g={};return g[a[t.nameKey]]=a[t.attributesKey]?a:a[t.instructionKey],e+(t.indentInstruction?l:"")+c(g,t,n)}},"")}function g(e,t,n){var r;for(r in e)if(e.hasOwnProperty(r))switch(r){case t.parentKey:case t.attributesKey:break;case t.textKey:if(t.indentText||n)return!0;break;case t.cdataKey:if(t.indentCdata||n)return!0;break;case t.instructionKey:if(t.indentInstruction||n)return!0;break;case t.doctypeKey:case t.commentKey:default:return!0}return!1}function y(e,t,n,o,a){r=e,i=t;var l="elementNameFn"in n?n.elementNameFn(t,e):t;if(void 0===e||null===e)return"fullTagEmptyElementFn"in n&&n.fullTagEmptyElementFn(t,e)||n.fullTagEmptyElement?"<"+l+"></"+l+">":"<"+l+"/>";var c=[];if(t){if(c.push("<"+l),"object"!=typeof e)return c.push(">"+p(e,n)+"</"+l+">"),c.join("");e[n.attributesKey]&&c.push(u(e[n.attributesKey],n,o));var d=g(e,n,!0)||e[n.attributesKey]&&"preserve"===e[n.attributesKey]["xml:space"];if(d||(d="fullTagEmptyElementFn"in n?n.fullTagEmptyElementFn(t,e):n.fullTagEmptyElement),!d)return c.push("/>"),c.join("");c.push(">")}return c.push(v(e,n,o+1,!1)),r=e,i=t,t&&c.push((a?s(n,o,!1):"")+"</"+l+">"),c.join("")}function v(e,t,n,r){var i,o,u,m=[];for(o in e)if(e.hasOwnProperty(o))for(u=a(e[o])?e[o]:[e[o]],i=0;i<u.length;++i){switch(o){case t.declarationKey:m.push(l(u[i],t,n));break;case t.instructionKey:m.push((t.indentInstruction?s(t,n,r):"")+c(u[i],t,n));break;case t.attributesKey:case t.parentKey:break;case t.textKey:m.push((t.indentText?s(t,n,r):"")+p(u[i],t));break;case t.cdataKey:m.push((t.indentCdata?s(t,n,r):"")+f(u[i],t));break;case t.doctypeKey:m.push(s(t,n,r)+h(u[i],t));break;case t.commentKey:m.push(s(t,n,r)+d(u[i],t));break;default:m.push(s(t,n,r)+y(u[i],o,t,n,g(u[i],t)))}r=r&&!m.length}return m.join("")}e.exports=function(e,t){t=function(e){var t=o.copyOptions(e);return o.ensureFlagExists("ignoreDeclaration",t),o.ensureFlagExists("ignoreInstruction",t),o.ensureFlagExists("ignoreAttributes",t),o.ensureFlagExists("ignoreText",t),o.ensureFlagExists("ignoreComment",t),o.ensureFlagExists("ignoreCdata",t),o.ensureFlagExists("ignoreDoctype",t),o.ensureFlagExists("compact",t),o.ensureFlagExists("indentText",t),o.ensureFlagExists("indentCdata",t),o.ensureFlagExists("indentAttributes",t),o.ensureFlagExists("indentInstruction",t),o.ensureFlagExists("fullTagEmptyElement",t),o.ensureFlagExists("noQuotesForNativeAttributes",t),o.ensureSpacesExists(t),"number"==typeof t.spaces&&(t.spaces=Array(t.spaces+1).join(" ")),o.ensureKeyExists("declaration",t),o.ensureKeyExists("instruction",t),o.ensureKeyExists("attributes",t),o.ensureKeyExists("text",t),o.ensureKeyExists("comment",t),o.ensureKeyExists("cdata",t),o.ensureKeyExists("doctype",t),o.ensureKeyExists("type",t),o.ensureKeyExists("name",t),o.ensureKeyExists("elements",t),o.checkFnExists("doctype",t),o.checkFnExists("instruction",t),o.checkFnExists("cdata",t),o.checkFnExists("comment",t),o.checkFnExists("text",t),o.checkFnExists("instructionName",t),o.checkFnExists("elementName",t),o.checkFnExists("attributeName",t),o.checkFnExists("attributeValue",t),o.checkFnExists("attributes",t),o.checkFnExists("fullTagEmptyElement",t),t}(t);var n=[];return r=e,i="_root_",t.compact?n.push(v(e,t,0,!0)):(e[t.declarationKey]&&n.push(l(e[t.declarationKey],t,0)),e[t.elementsKey]&&e[t.elementsKey].length&&n.push(m(e[t.elementsKey],t,0,!n.length))),n.join("")}},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){var i=/\s*/g,o=/^\s*|\s*$/g,a=/\s+/;function s(e){if(!e||!e.length)return 0;for(var t=0,n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n)|0;return t}function u(e,t){return e.getElementsByTagName(t)}function l(e,t){return e.getAttribute(t)}function c(e,t){return parseFloat(l(e,t))}function d(e,t){var n=u(e,t);return n.length?n[0]:null}function f(e){for(var t=[],n=0;n<e.length;n++)t[n]=parseFloat(e[n]);return t}function h(e){var t;return e&&(t=e).normalize&&t.normalize(),e&&e.textContent||""}function p(e,t){var n={},r=void 0,i=void 0;for(i=0;i<t.length;i++)(r=d(e,t[i]))&&(n[t[i]]=h(r));return n}function m(e,t){for(var n in t)e[n]=t[n]}function g(e){return f(e.replace(i,"").split(","))}function y(e){for(var t=e.replace(o,"").split(a),n=[],r=0;r<t.length;r++)n.push(g(t[r]));return n}function v(e){var t=[c(e,"lon"),c(e,"lat")],n=d(e,"ele"),r=d(e,"gpxtpx:hr")||d(e,"hr"),i=d(e,"time"),o=void 0;return n&&(o=parseFloat(h(n)),isNaN(o)||t.push(o)),{coordinates:t,time:i?h(i):null,heartRate:r?parseFloat(h(r)):null}}var b=void 0;if("undefined"!=typeof XMLSerializer)b=new XMLSerializer;else{var _="object"===(void 0===e?"undefined":r(e))&&!e.browser,w="object"===("undefined"==typeof Titanium?"undefined":r(Titanium));if("object"!==r(t)||!_&&!w)throw new Error("Unable to initialize serializer");b=new(n(2442).XMLSerializer)}function k(e){return void 0!==e.xml?e.xml:b.serializeToString(e)}return{kml:function(e){for(var t={type:"FeatureCollection",features:[]},n={},r={},i={},o=["Polygon","LineString","Point","Track","gx:Track"],a=u(e,"Placemark"),c=u(e,"Style"),p=u(e,"StyleMap"),m=0;m<c.length;m++){var v=s(k(c[m])).toString(16);n["#"+l(c[m],"id")]=v,r[v]=c[m]}for(var b=0;b<p.length;b++){n["#"+l(p[b],"id")]=s(k(p[b])).toString(16);for(var _=u(p[b],"Pair"),w={},E=0;E<_.length;E++)w[h(d(_[E],"key"))]=h(d(_[E],"styleUrl"));i["#"+l(p[b],"id")]=w}for(var x=0;x<a.length;x++)t.features=t.features.concat(T(a[x]));function S(e){var t=void 0,n=void 0;return"#"===(e=e||"").substr(0,1)&&(e=e.substr(1)),6!==e.length&&3!==e.length||(t=e),8===e.length&&(n=parseInt(e.substr(0,2),16)/255,t="#"+e.substr(6,2)+e.substr(4,2)+e.substr(2,2)),[t,isNaN(n)?void 0:n]}function M(e){var t=u(e,"coord"),n=[],r=[];0===t.length&&(t=u(e,"gx:coord"));for(var i=0;i<t.length;i++)n.push(f(h(t[i]).split(" ")));for(var o=u(e,"when"),a=0;a<o.length;a++)r.push(h(o[a]));return{coords:n,times:r}}function T(e){var t=function e(t){var n=void 0,r=void 0,i=void 0,a=void 0,s=void 0,l=[],c=[];if(d(t,"MultiGeometry"))return e(d(t,"MultiGeometry"));if(d(t,"MultiTrack"))return e(d(t,"MultiTrack"));if(d(t,"gx:MultiTrack"))return e(d(t,"gx:MultiTrack"));for(i=0;i<o.length;i++)if(r=u(t,o[i]))for(a=0;a<r.length;a++)if(n=r[a],"Point"===o[i])l.push({type:"Point",coordinates:g(h(d(n,"coordinates")))});else if("LineString"===o[i])l.push({type:"LineString",coordinates:y(h(d(n,"coordinates")))});else if("Polygon"===o[i]){var f=u(n,"LinearRing"),p=[];for(s=0;s<f.length;s++)p.push(y(h(d(f[s],"coordinates"))));l.push({type:"Polygon",coordinates:p})}else if("Track"===o[i]||"gx:Track"===o[i]){var m=M(n);l.push({type:"LineString",coordinates:m.coords}),m.times.length&&c.push(m.times)}return{geoms:l,coordTimes:c}}(e),a=void 0,s={},c=h(d(e,"name")),f=h(d(e,"address")),p=h(d(e,"styleUrl")),m=h(d(e,"description")),v=d(e,"TimeSpan"),b=d(e,"TimeStamp"),_=d(e,"ExtendedData"),w=d(e,"LineStyle"),k=d(e,"PolyStyle"),E=d(e,"visibility");if(!t.geoms.length)return[];if(c&&(s.name=c),f&&(s.address=f),p){"#"!==p[0]&&(p="#"+p),s.styleUrl=p,n[p]&&(s.styleHash=n[p]),i[p]&&(s.styleMapHash=i[p],s.styleHash=n[i[p].normal]);var x=r[s.styleHash];if(x){w||(w=d(x,"LineStyle")),k||(k=d(x,"PolyStyle"));var T=d(x,"IconStyle");if(T){var C=d(T,"Icon");if(C){var A=h(d(C,"href"));A&&(s.icon=A)}}}}if(m&&(s.description=m),v){var O=h(d(v,"begin")),N=h(d(v,"end"));s.timespan={begin:O,end:N}}if(b&&(s.timestamp=h(d(b,"when"))),w){var L=S(h(d(w,"color"))),j=L[0],P=L[1],D=parseFloat(h(d(w,"width")));j&&(s.stroke=j),isNaN(P)||(s["stroke-opacity"]=P),isNaN(D)||(s["stroke-width"]=D)}if(k){var I=S(h(d(k,"color"))),R=I[0],F=I[1],Y=h(d(k,"fill")),B=h(d(k,"outline"));R&&(s.fill=R),isNaN(F)||(s["fill-opacity"]=F),Y&&(s["fill-opacity"]="1"===Y?s["fill-opacity"]||1:0),B&&(s["stroke-opacity"]="1"===B?s["stroke-opacity"]||1:0)}if(_){var H=u(_,"Data"),z=u(_,"SimpleData");for(a=0;a<H.length;a++)s[H[a].getAttribute("name")]=h(d(H[a],"value"));for(a=0;a<z.length;a++)s[z[a].getAttribute("name")]=h(z[a])}E&&(s.visibility=h(E)),t.coordTimes.length&&(s.coordTimes=1===t.coordTimes.length?t.coordTimes[0]:t.coordTimes);var W={type:"Feature",geometry:1===t.geoms.length?t.geoms[0]:{type:"GeometryCollection",geometries:t.geoms},properties:s};return l(e,"id")&&(W.id=l(e,"id")),[W]}return t},gpx:function(e){var t=void 0,n=u(e,"trk"),r=u(e,"rte"),i=u(e,"wpt"),o={type:"FeatureCollection",features:[]},a=void 0;for(t=0;t<n.length;t++)(a=f(n[t]))&&o.features.push(a);for(t=0;t<r.length;t++)(a=g(r[t]))&&o.features.push(a);for(t=0;t<i.length;t++)o.features.push(y(i[t]));function s(e,t){for(var n=0;n<t;n++)e.push(null);return e}function c(e,t){var n=u(e,t),r=[],i=[],o=[],a=n.length;if(a<2)return{};for(var l=0;l<a;l++){var c=v(n[l]);r.push(c.coordinates),c.time&&i.push(c.time),(c.heartRate||o.length)&&(o.length||s(o,l),o.push(c.heartRate||null))}return{line:r,times:i,heartRates:o}}function f(e){for(var t=u(e,"trkseg"),n=[],r=[],i=[],o=void 0,a=0;a<t.length;a++)if((o=c(t[a],"trkpt"))&&(o.line&&n.push(o.line),o.times&&o.times.length&&r.push(o.times),i.length||o.heartRates&&o.heartRates.length)){if(!i.length)for(var l=0;l<a;l++)i.push(s([],n[l].length));o.heartRates&&o.heartRates.length?i.push(o.heartRates):i.push(s([],o.line.length||0))}if(0!==n.length){var f=_(e);return m(f,b(d(e,"extensions"))),r.length&&(f.coordTimes=1===n.length?r[0]:r),i.length&&(f.heartRates=1===n.length?i[0]:i),{type:"Feature",properties:f,geometry:{type:1===n.length?"LineString":"MultiLineString",coordinates:1===n.length?n[0]:n}}}}function g(e){var t=c(e,"rtept");if(t.line){var n=_(e);return m(n,b(d(e,"extensions"))),{type:"Feature",properties:n,geometry:{type:"LineString",coordinates:t.line}}}}function y(e){var t=_(e);return m(t,p(e,["sym"])),{type:"Feature",properties:t,geometry:{type:"Point",coordinates:v(e).coordinates}}}function b(e){var t={};if(e){var n=d(e,"line");if(n){var r=h(d(n,"color")),i=parseFloat(h(d(n,"opacity"))),o=parseFloat(h(d(n,"width")));r&&(t.stroke=r),isNaN(i)||(t["stroke-opacity"]=i),isNaN(o)||(t["stroke-width"]=96*o/25.4)}}return t}function _(e){var t=p(e,["name","cmt","desc","type","time","keywords"]),n=u(e,"link");n.length&&(t.links=[]);for(var r,i=0;i<n.length;i++)m(r={href:l(n[i],"href")},p(n[i],["text","type"])),t.links.push(r);return t}return o}}}();t.default=i}).call(t,n(59))},function(e,t){function n(e,t){for(var n in e)t[n]=e[n]}function r(e,t){var r=e.prototype;if(Object.create){var i=Object.create(t.prototype);r.__proto__=i}if(!(r instanceof t)){function o(){}o.prototype=t.prototype,n(r,o=new o),e.prototype=r=o}r.constructor!=e&&("function"!=typeof e&&console.error("unknow Class:"+e),r.constructor=e)}var i="http://www.w3.org/1999/xhtml",o={},a=o.ELEMENT_NODE=1,s=o.ATTRIBUTE_NODE=2,u=o.TEXT_NODE=3,l=o.CDATA_SECTION_NODE=4,c=o.ENTITY_REFERENCE_NODE=5,d=o.ENTITY_NODE=6,f=o.PROCESSING_INSTRUCTION_NODE=7,h=o.COMMENT_NODE=8,p=o.DOCUMENT_NODE=9,m=o.DOCUMENT_TYPE_NODE=10,g=o.DOCUMENT_FRAGMENT_NODE=11,y=o.NOTATION_NODE=12,v={},b={},_=(v.INDEX_SIZE_ERR=(b[1]="Index size error",1),v.DOMSTRING_SIZE_ERR=(b[2]="DOMString size error",2),v.HIERARCHY_REQUEST_ERR=(b[3]="Hierarchy request error",3)),w=(v.WRONG_DOCUMENT_ERR=(b[4]="Wrong document",4),v.INVALID_CHARACTER_ERR=(b[5]="Invalid character",5),v.NO_DATA_ALLOWED_ERR=(b[6]="No data allowed",6),v.NO_MODIFICATION_ALLOWED_ERR=(b[7]="No modification allowed",7),v.NOT_FOUND_ERR=(b[8]="Not found",8)),k=(v.NOT_SUPPORTED_ERR=(b[9]="Not supported",9),v.INUSE_ATTRIBUTE_ERR=(b[10]="Attribute in use",10));v.INVALID_STATE_ERR=(b[11]="Invalid state",11),v.SYNTAX_ERR=(b[12]="Syntax error",12),v.INVALID_MODIFICATION_ERR=(b[13]="Invalid modification",13),v.NAMESPACE_ERR=(b[14]="Invalid namespace",14),v.INVALID_ACCESS_ERR=(b[15]="Invalid access",15);function E(e,t){if(t instanceof Error)var n=t;else n=this,Error.call(this,b[e]),this.message=b[e],Error.captureStackTrace&&Error.captureStackTrace(this,E);return n.code=e,t&&(this.message=this.message+": "+t),n}function x(){}function S(e,t){this._node=e,this._refresh=t,M(this)}function M(e){var t=e._node._inc||e._node.ownerDocument._inc;if(e._inc!=t){var r=e._refresh(e._node);ne(e,"length",r.length),n(r,e),e._inc=t}}function T(){}function C(e,t){for(var n=e.length;n--;)if(e[n]===t)return n}function A(e,t,n,r){if(r?t[C(t,r)]=n:t[t.length++]=n,e){n.ownerElement=e;var i=e.ownerDocument;i&&(r&&I(i,e,r),function(e,t,n){e&&e._inc++,"http://www.w3.org/2000/xmlns/"==n.namespaceURI&&(t._nsMap[n.prefix?n.localName:""]=n.value)}(i,e,n))}}function O(e,t,n){var r=C(t,n);if(!(r>=0))throw E(w,new Error(e.tagName+"@"+n));for(var i=t.length-1;r<i;)t[r]=t[++r];if(t.length=i,e){var o=e.ownerDocument;o&&(I(o,e,n),n.ownerElement=null)}}function N(e){if(this._features={},e)for(var t in e)this._features=e[t]}function L(){}function j(e){return("<"==e?"&lt;":">"==e&&"&gt;")||"&"==e&&"&amp;"||'"'==e&&"&quot;"||"&#"+e.charCodeAt()+";"}function P(e,t){if(t(e))return!0;if(e=e.firstChild)do{if(P(e,t))return!0}while(e=e.nextSibling)}function D(){}function I(e,t,n,r){e&&e._inc++,"http://www.w3.org/2000/xmlns/"==n.namespaceURI&&delete t._nsMap[n.prefix?n.localName:""]}function R(e,t,n){if(e&&e._inc){e._inc++;var r=t.childNodes;if(n)r[r.length++]=n;else{for(var i=t.firstChild,o=0;i;)r[o++]=i,i=i.nextSibling;r.length=o}}}function F(e,t){var n=t.previousSibling,r=t.nextSibling;return n?n.nextSibling=r:e.firstChild=r,r?r.previousSibling=n:e.lastChild=n,R(e.ownerDocument,e),t}function Y(e,t,n){var r=t.parentNode;if(r&&r.removeChild(t),t.nodeType===g){var i=t.firstChild;if(null==i)return t;var o=t.lastChild}else i=o=t;var a=n?n.previousSibling:e.lastChild;i.previousSibling=a,o.nextSibling=n,a?a.nextSibling=i:e.firstChild=i,null==n?e.lastChild=o:n.previousSibling=o;do{i.parentNode=e}while(i!==o&&(i=i.nextSibling));return R(e.ownerDocument||e,e),t.nodeType==g&&(t.firstChild=t.lastChild=null),t}function B(){this._nsMap={}}function H(){}function z(){}function W(){}function U(){}function V(){}function G(){}function q(){}function K(){}function $(){}function X(){}function J(){}function Q(){}function Z(e,t){var n=[],r=9==this.nodeType?this.documentElement:this,i=r.prefix,o=r.namespaceURI;if(o&&null==i&&null==(i=r.lookupPrefix(o)))var a=[{namespace:o,prefix:null}];return te(this,n,e,t,a),n.join("")}function ee(e,t,n){var r=e.prefix||"",i=e.namespaceURI;if(!r&&!i)return!1;if("xml"===r&&"http://www.w3.org/XML/1998/namespace"===i||"http://www.w3.org/2000/xmlns/"==i)return!1;for(var o=n.length;o--;){var a=n[o];if(a.prefix==r)return a.namespace!=i}return!0}function te(e,t,n,r,o){if(r){if(!(e=r(e)))return;if("string"==typeof e)return void t.push(e)}switch(e.nodeType){case a:o||(o=[]);o.length;var d=e.attributes,y=d.length,v=e.firstChild,b=e.tagName;n=i===e.namespaceURI||n,t.push("<",b);for(var _=0;_<y;_++){"xmlns"==(w=d.item(_)).prefix?o.push({prefix:w.localName,namespace:w.value}):"xmlns"==w.nodeName&&o.push({prefix:"",namespace:w.value})}for(_=0;_<y;_++){var w;if(ee(w=d.item(_),0,o)){var k=w.prefix||"",E=w.namespaceURI,x=k?" xmlns:"+k:" xmlns";t.push(x,'="',E,'"'),o.push({prefix:k,namespace:E})}te(w,t,n,r,o)}if(ee(e,0,o)){k=e.prefix||"",E=e.namespaceURI,x=k?" xmlns:"+k:" xmlns";t.push(x,'="',E,'"'),o.push({prefix:k,namespace:E})}if(v||n&&!/^(?:meta|link|img|br|hr|input)$/i.test(b)){if(t.push(">"),n&&/^script$/i.test(b))for(;v;)v.data?t.push(v.data):te(v,t,n,r,o),v=v.nextSibling;else for(;v;)te(v,t,n,r,o),v=v.nextSibling;t.push("</",b,">")}else t.push("/>");return;case p:case g:for(v=e.firstChild;v;)te(v,t,n,r,o),v=v.nextSibling;return;case s:return t.push(" ",e.name,'="',e.value.replace(/[<&"]/g,j),'"');case u:return t.push(e.data.replace(/[<&]/g,j));case l:return t.push("<![CDATA[",e.data,"]]>");case h:return t.push("\x3c!--",e.data,"--\x3e");case m:var S=e.publicId,M=e.systemId;if(t.push("<!DOCTYPE ",e.name),S)t.push(' PUBLIC "',S),M&&"."!=M&&t.push('" "',M),t.push('">');else if(M&&"."!=M)t.push(' SYSTEM "',M,'">');else{var T=e.internalSubset;T&&t.push(" [",T,"]"),t.push(">")}return;case f:return t.push("<?",e.target," ",e.data,"?>");case c:return t.push("&",e.nodeName,";");default:t.push("??",e.nodeName)}}function ne(e,t,n){e[t]=n}E.prototype=Error.prototype,n(v,E),x.prototype={length:0,item:function(e){return this[e]||null},toString:function(e,t){for(var n=[],r=0;r<this.length;r++)te(this[r],n,e,t);return n.join("")}},S.prototype.item=function(e){return M(this),this[e]},r(S,x),T.prototype={length:0,item:x.prototype.item,getNamedItem:function(e){for(var t=this.length;t--;){var n=this[t];if(n.nodeName==e)return n}},setNamedItem:function(e){var t=e.ownerElement;if(t&&t!=this._ownerElement)throw new E(k);var n=this.getNamedItem(e.nodeName);return A(this._ownerElement,this,e,n),n},setNamedItemNS:function(e){var t,n=e.ownerElement;if(n&&n!=this._ownerElement)throw new E(k);return t=this.getNamedItemNS(e.namespaceURI,e.localName),A(this._ownerElement,this,e,t),t},removeNamedItem:function(e){var t=this.getNamedItem(e);return O(this._ownerElement,this,t),t},removeNamedItemNS:function(e,t){var n=this.getNamedItemNS(e,t);return O(this._ownerElement,this,n),n},getNamedItemNS:function(e,t){for(var n=this.length;n--;){var r=this[n];if(r.localName==t&&r.namespaceURI==e)return r}return null}},N.prototype={hasFeature:function(e,t){var n=this._features[e.toLowerCase()];return!(!n||t&&!(t in n))},createDocument:function(e,t,n){var r=new D;if(r.implementation=this,r.childNodes=new x,r.doctype=n,n&&r.appendChild(n),t){var i=r.createElementNS(e,t);r.appendChild(i)}return r},createDocumentType:function(e,t,n){var r=new G;return r.name=e,r.nodeName=e,r.publicId=t,r.systemId=n,r}},L.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(e,t){return Y(this,e,t)},replaceChild:function(e,t){this.insertBefore(e,t),t&&this.removeChild(t)},removeChild:function(e){return F(this,e)},appendChild:function(e){return this.insertBefore(e,null)},hasChildNodes:function(){return null!=this.firstChild},cloneNode:function(e){return function e(t,n,r){var i=new n.constructor;for(var o in n){var u=n[o];"object"!=typeof u&&u!=i[o]&&(i[o]=u)}n.childNodes&&(i.childNodes=new x);i.ownerDocument=t;switch(i.nodeType){case a:var l=n.attributes,c=i.attributes=new T,d=l.length;c._ownerElement=i;for(var f=0;f<d;f++)i.setAttributeNode(e(t,l.item(f),!0));break;case s:r=!0}if(r)for(var h=n.firstChild;h;)i.appendChild(e(t,h,r)),h=h.nextSibling;return i}(this.ownerDocument||this,this,e)},normalize:function(){for(var e=this.firstChild;e;){var t=e.nextSibling;t&&t.nodeType==u&&e.nodeType==u?(this.removeChild(t),e.appendData(t.data)):(e.normalize(),e=t)}},isSupported:function(e,t){return this.ownerDocument.implementation.hasFeature(e,t)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(e){for(var t=this;t;){var n=t._nsMap;if(n)for(var r in n)if(n[r]==e)return r;t=t.nodeType==s?t.ownerDocument:t.parentNode}return null},lookupNamespaceURI:function(e){for(var t=this;t;){var n=t._nsMap;if(n&&e in n)return n[e];t=t.nodeType==s?t.ownerDocument:t.parentNode}return null},isDefaultNamespace:function(e){return null==this.lookupPrefix(e)}},n(o,L),n(o,L.prototype),D.prototype={nodeName:"#document",nodeType:p,doctype:null,documentElement:null,_inc:1,insertBefore:function(e,t){if(e.nodeType==g){for(var n=e.firstChild;n;){var r=n.nextSibling;this.insertBefore(n,t),n=r}return e}return null==this.documentElement&&e.nodeType==a&&(this.documentElement=e),Y(this,e,t),e.ownerDocument=this,e},removeChild:function(e){return this.documentElement==e&&(this.documentElement=null),F(this,e)},importNode:function(e,t){return function e(t,n,r){var i;switch(n.nodeType){case a:(i=n.cloneNode(!1)).ownerDocument=t;case g:break;case s:r=!0}i||(i=n.cloneNode(!1));i.ownerDocument=t;i.parentNode=null;if(r)for(var o=n.firstChild;o;)i.appendChild(e(t,o,r)),o=o.nextSibling;return i}(this,e,t)},getElementById:function(e){var t=null;return P(this.documentElement,function(n){if(n.nodeType==a&&n.getAttribute("id")==e)return t=n,!0}),t},createElement:function(e){var t=new B;return t.ownerDocument=this,t.nodeName=e,t.tagName=e,t.childNodes=new x,(t.attributes=new T)._ownerElement=t,t},createDocumentFragment:function(){var e=new X;return e.ownerDocument=this,e.childNodes=new x,e},createTextNode:function(e){var t=new W;return t.ownerDocument=this,t.appendData(e),t},createComment:function(e){var t=new U;return t.ownerDocument=this,t.appendData(e),t},createCDATASection:function(e){var t=new V;return t.ownerDocument=this,t.appendData(e),t},createProcessingInstruction:function(e,t){var n=new J;return n.ownerDocument=this,n.tagName=n.target=e,n.nodeValue=n.data=t,n},createAttribute:function(e){var t=new H;return t.ownerDocument=this,t.name=e,t.nodeName=e,t.localName=e,t.specified=!0,t},createEntityReference:function(e){var t=new $;return t.ownerDocument=this,t.nodeName=e,t},createElementNS:function(e,t){var n=new B,r=t.split(":"),i=n.attributes=new T;return n.childNodes=new x,n.ownerDocument=this,n.nodeName=t,n.tagName=t,n.namespaceURI=e,2==r.length?(n.prefix=r[0],n.localName=r[1]):n.localName=t,i._ownerElement=n,n},createAttributeNS:function(e,t){var n=new H,r=t.split(":");return n.ownerDocument=this,n.nodeName=t,n.name=t,n.namespaceURI=e,n.specified=!0,2==r.length?(n.prefix=r[0],n.localName=r[1]):n.localName=t,n}},r(D,L),B.prototype={nodeType:a,hasAttribute:function(e){return null!=this.getAttributeNode(e)},getAttribute:function(e){var t=this.getAttributeNode(e);return t&&t.value||""},getAttributeNode:function(e){return this.attributes.getNamedItem(e)},setAttribute:function(e,t){var n=this.ownerDocument.createAttribute(e);n.value=n.nodeValue=""+t,this.setAttributeNode(n)},removeAttribute:function(e){var t=this.getAttributeNode(e);t&&this.removeAttributeNode(t)},appendChild:function(e){return e.nodeType===g?this.insertBefore(e,null):function(e,t){var n=t.parentNode;if(n){var r=e.lastChild;n.removeChild(t),r=e.lastChild}return r=e.lastChild,t.parentNode=e,t.previousSibling=r,t.nextSibling=null,r?r.nextSibling=t:e.firstChild=t,e.lastChild=t,R(e.ownerDocument,e,t),t}(this,e)},setAttributeNode:function(e){return this.attributes.setNamedItem(e)},setAttributeNodeNS:function(e){return this.attributes.setNamedItemNS(e)},removeAttributeNode:function(e){return this.attributes.removeNamedItem(e.nodeName)},removeAttributeNS:function(e,t){var n=this.getAttributeNodeNS(e,t);n&&this.removeAttributeNode(n)},hasAttributeNS:function(e,t){return null!=this.getAttributeNodeNS(e,t)},getAttributeNS:function(e,t){var n=this.getAttributeNodeNS(e,t);return n&&n.value||""},setAttributeNS:function(e,t,n){var r=this.ownerDocument.createAttributeNS(e,t);r.value=r.nodeValue=""+n,this.setAttributeNode(r)},getAttributeNodeNS:function(e,t){return this.attributes.getNamedItemNS(e,t)},getElementsByTagName:function(e){return new S(this,function(t){var n=[];return P(t,function(r){r===t||r.nodeType!=a||"*"!==e&&r.tagName!=e||n.push(r)}),n})},getElementsByTagNameNS:function(e,t){return new S(this,function(n){var r=[];return P(n,function(i){i===n||i.nodeType!==a||"*"!==e&&i.namespaceURI!==e||"*"!==t&&i.localName!=t||r.push(i)}),r})}},D.prototype.getElementsByTagName=B.prototype.getElementsByTagName,D.prototype.getElementsByTagNameNS=B.prototype.getElementsByTagNameNS,r(B,L),H.prototype.nodeType=s,r(H,L),z.prototype={data:"",substringData:function(e,t){return this.data.substring(e,e+t)},appendData:function(e){e=this.data+e,this.nodeValue=this.data=e,this.length=e.length},insertData:function(e,t){this.replaceData(e,0,t)},appendChild:function(e){throw new Error(b[_])},deleteData:function(e,t){this.replaceData(e,t,"")},replaceData:function(e,t,n){n=this.data.substring(0,e)+n+this.data.substring(e+t),this.nodeValue=this.data=n,this.length=n.length}},r(z,L),W.prototype={nodeName:"#text",nodeType:u,splitText:function(e){var t=this.data,n=t.substring(e);t=t.substring(0,e),this.data=this.nodeValue=t,this.length=t.length;var r=this.ownerDocument.createTextNode(n);return this.parentNode&&this.parentNode.insertBefore(r,this.nextSibling),r}},r(W,z),U.prototype={nodeName:"#comment",nodeType:h},r(U,z),V.prototype={nodeName:"#cdata-section",nodeType:l},r(V,z),G.prototype.nodeType=m,r(G,L),q.prototype.nodeType=y,r(q,L),K.prototype.nodeType=d,r(K,L),$.prototype.nodeType=c,r($,L),X.prototype.nodeName="#document-fragment",X.prototype.nodeType=g,r(X,L),J.prototype.nodeType=f,r(J,L),Q.prototype.serializeToString=function(e,t,n){return Z.call(e,t,n)},L.prototype.toString=Z;try{if(Object.defineProperty){Object.defineProperty(S.prototype,"length",{get:function(){return M(this),this.$$length}}),Object.defineProperty(L.prototype,"textContent",{get:function(){return function e(t){switch(t.nodeType){case a:case g:var n=[];for(t=t.firstChild;t;)7!==t.nodeType&&8!==t.nodeType&&n.push(e(t)),t=t.nextSibling;return n.join("");default:return t.nodeValue}}(this)},set:function(e){switch(this.nodeType){case a:case g:for(;this.firstChild;)this.removeChild(this.firstChild);(e||String(e))&&this.appendChild(this.ownerDocument.createTextNode(e));break;default:this.data=e,this.value=e,this.nodeValue=e}}}),ne=function(e,t,n){e["$$"+t]=n}}}catch(e){}t.DOMImplementation=N,t.XMLSerializer=Q},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={nodeListToArray:function(e){for(var t=[],n=0,r=e.length;n<r;++n)"#text"!==e[n].nodeName&&t.push(e[n]);return t},nodeListEach:function(e,t){for(var n=0,r=e.length;n<r;++n)"#text"!==e[n].nodeName&&t(e[n])},nodeListToHash:function(e,t){for(var n={},r=0;r<e.length;r++)if("#text"!==e[r].nodeName){var i=t(e[r]);n[i.key]=i.value}return n},namedNodeMapToObject:function(e){for(var t={},n=0;n<e.length;n++)t[e[n].name]=e[n].value;return t},getFirstElementByTagNS:function(e,t,n){var r=e.getElementsByTagName(t+":"+n)[0];return r||(r=e.getElementsByTagNameNS(t,n)[0]),r||(r=e.getElementsByTagName(n)[0]),r},getAttributeNS:function(e,t,n){var r=e.getAttribute(t+":"+n);return void 0===r&&(r=e.getAttributeNS(t,n)),void 0===r&&(r=e.getAttribute(n)),r},enforceType:function(e,t){switch(e){case"boolean":t="true"===t;break;case"integer":case"long":case"float":case"double":t=+t}return t},getRGB:function(e){return e[3]?"rgba("+e.join(",")+")":"rgb("+e.slice(0,-1).join(",")+")"}};function i(e){var t={};t.els={root:e.getElementsByTagName("gexf")[0],graph:e.getElementsByTagName("graph")[0],meta:e.getElementsByTagName("meta")[0],model:e.getElementsByTagName("attribute"),nodes:e.getElementsByTagName("node"),edges:e.getElementsByTagName("edge")},t.hasViz=!!r.getAttributeNS(t.els.root,"xmlns","viz"),t.version=t.els.root.getAttribute("version")||"1.0",t.mode=t.els.graph.getAttribute("mode")||"static";var n,i,o,a,s,u,l=t.els.graph.getAttribute("defaultedgetype");return t.defaultEdgetype=l||"undirected",t.model=(n=[],r.nodeListEach(t.els.model,function(e){var t={id:e.getAttribute("id")||e.getAttribute("for"),type:e.getAttribute("type")||"string",title:e.getAttribute("title")||""},i=r.nodeListToArray(e.childNodes);i.length>0&&(t.defaultValue=i[0].textContent),n.push(t)}),n),{version:t.version,mode:t.mode,defaultEdgeType:t.defaultEdgetype,meta:(u={},t.els.meta?(u.lastmodifieddate=t.els.meta.getAttribute("lastmodifieddate"),r.nodeListEach(t.els.meta.childNodes,function(e){u[e.tagName.toLowerCase()]=e.textContent}),u):u),model:t.model,nodes:(a=t.model,s=[],r.nodeListEach(t.els.nodes,function(e){var n={id:e.getAttribute("id"),label:e.getAttribute("label")||""};a.length>0&&(n.attributes=function(e,t){var n={},i=t.getElementsByTagName("attvalue"),o=r.nodeListToHash(i,function(e){var t=r.namedNodeMapToObject(e.attributes),n=t.id||t.for;return{key:n,value:t.value}});return e.map(function(e){var t=e.title.toLowerCase();n[t]=!(e.id in o)&&"defaultValue"in e?r.enforceType(e.type,e.defaultValue):r.enforceType(e.type,o[e.id])}),n}(a,e)),t.hasViz&&(n.viz=function(e){var t={},n=r.getFirstElementByTagNS(e,"viz","color");if(n){var i=["r","g","b","a"].map(function(e){return n.getAttribute(e)});t.color=r.getRGB(i)}var o=r.getFirstElementByTagNS(e,"viz","position");o&&(t.position={},["x","y","z"].map(function(e){t.position[e]=+o.getAttribute(e)}));var a=r.getFirstElementByTagNS(e,"viz","size");a&&(t.size=+a.getAttribute("value"));var s=r.getFirstElementByTagNS(e,"viz","shape");return s&&(t.shape=s.getAttribute("value")),t}(e)),s.push(function(e){return{id:e.id,label:e.label,attributes:e.attributes||{},viz:e.viz||{}}}(n))}),s),edges:(i=t.defaultEdgetype,o=[],r.nodeListEach(t.els.edges,function(e){var n=r.namedNodeMapToObject(e.attributes);"type"in n||(n.type=i),t.hasViz&&(n.viz=function(e){var t={},n=r.getFirstElementByTagNS(e,"viz","color");if(n){var i=["r","g","b","a"].map(function(e){return n.getAttribute(e)});t.color=r.getRGB(i)}var o=r.getFirstElementByTagNS(e,"viz","shape");o&&(t.shape=o.getAttribute("value"));var a=r.getFirstElementByTagNS(e,"viz","thickness");return a&&(t.thickness=+a.getAttribute("value")),t}(e)),o.push(function(e){return{id:e.id,type:e.type||"undirected",label:e.label||"",source:e.source,target:e.target,weight:+e.weight||1,viz:e.viz||{}}}(n))}),o)}}function o(e,t){var n=function(){if(window.XMLHttpRequest)return new XMLHttpRequest;var e=void 0,t=void 0;if(window.ActiveXObject)for(t in e=["Msxml2.XMLHTTP.6.0","Msxml2.XMLHTTP.3.0","Msxml2.XMLHTTP","Microsoft.XMLHTTP"])try{return new ActiveXObject(e[t])}catch(e){}return null}();if(!n)throw"XMLHttpRequest not supported, cannot load the file.";var r="function"==typeof t,i=void 0;return n.overrideMimeType?(n.overrideMimeType("text/xml"),i=function(e){return e.responseXML}):i=function(e){return(new DOMParser).parseFromString(e.responseText,"application/xml")},n.open("GET",e,r),r&&(n.onreadystatechange=function(){4===n.readyState&&t(i(n))}),n.send(),r?n:i(n)}var a={parse:function(e){return i(e)},fetch:function(e,t){return"function"==typeof t?o(e,function(e){t(i(e))}):i(o(e))},version:"0.1"};t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.jsonToGraph=function(e,t){var n=t.nodes.map(function(e){var t=new r.Node(e.id),n=e.type?e.type:e.label;return t.data.detail={type:n,data:e.properties},t.color.setStyle(i.default.getColorByType(t.data.detail.type)),t}),a=t.edges.map(function(e){return{source:s(n,e.sourceId),target:s(n,e.targetId),properties:e.properties,type:e.type}}).map(function(e){var t=new r.Edge(e.source,e.target);return t.name=e.type,t.properties=e.properties,t.color.setStyle(o.default.getColorByName(t.name)),t});return e.addNodes(n),e.addEdges(a),e},t.getNode=s;var r=n(112),i=a(n(94)),o=a(n(102));function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){return _.filter(e,function(e){return e.id==t})[0]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=o(n(84));o(n(1168));function o(e){return e&&e.__esModule?e:{default:e}}var a={_callback:null,_latestCommand:"",_handleMessageCommand:function(e){if(a._callback){var t=e.data&&"object"===r(e.data)?e.data:{},n=String(t.type).toLocaleLowerCase();"api"===n&&"string"==typeof t.command?a._handleAPICommand(t.command):"codes"===n&&Array.isArray(t.codes)&&a._handleAPICodes(t.codes)}},_handleAPICommand:function(e){if(e.startsWith(":"))switch(e){case":clearGraph":_app.controller.clearGraph()}else a._latestCommand=String(e).trim(),a._callback(a._latestCommand)},_handleAPICodes:function(e){var t=e.map(function(e){return function(t){a._hanldeInjectCodeToMain(e.index,e.code,t)}});i.default.waterfall(t,function(e){e&&console.error(e)})},_hanldeInjectCodeToMain:function(e,t,n){var r="postmessage-inject-code-task-"+e,i=document.getElementById(r);i&&(i.parentNode.removeChild(i),i=null),(i=document.createElement("script")).type="text/javascript",i.id=r,i.textContent="\n                  try{\n                      "+(0===e?"_app.controller.clearGraph();//force clean the graph when injection first code":"")+"\n                      "+t+'\n                      if(window.parent){\n                        window.parent.postMessage({type:"codes", response:{ status:0,  message:"Run Success!",  index: '+e+' }},"*");\n                      }\n                  }catch(error) {\n                       console.error(error);\n                       if( window.parent){\n                        window.parent.postMessage({type:"codes", response:{ status:1,  message: error.message ,  index: '+e+' }},"*");\n                      }\n                  }\n                ',i.onload=function(){n()},document.body.append(i)},onMessage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e){};a._callback=e,a._callback?window.addEventListener("message",a._handleMessageCommand):window.removeEventListener("message",a._handleMessageCommand)},handleAPICommandResponse:function(e,t,n){a._latestCommand===t&&window.parent&&window.parent.postMessage({type:"api-response",command:t,response:{neo4jRes:n,type:e?"error":"success",message:e||"success"}},"*")}};t.default=a},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=k(n(1)),o=k(n(31)),a=n(396),s=k(n(84)),u=(k(n(1734)),k(n(1735))),l=k(n(47)),c=k(n(101)),d=n(326),f=n(90),h=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(253)),p=n(50),m=k(n(2311)),g=k(n(2449)),y=n(402),v=n(660),b=k(n(2458)),_=k(n(10)),w=k(n(1290));function k(e){return e&&e.__esModule?e:{default:e}}window.isDebug=p.Config.isDebug;var E=h.createReduxMiddleware(c.default.getProjectId()),x=(0,d.compose)((0,d.applyMiddleware)(E),function(e){return e}),S=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.store=(0,d.createStore)(g.default,h.getProjectCache(c.default.getProjectId()),x),this.controller=null,this.initReactDom(t).initController().didLoaded().configNeo4jDesktopApp().loadViewData().initAPIPostMessageSupport()}return r(e,[{key:"configNeo4jDesktopApp",value:function(){return y.Neo4jApp.bindHandleChange(function(e,t){switch(e){case y.Neo4jAppEventTypes.online:_.default.showHints("The Neo4j Desktop DB is active"),c.default.setCurrentCacheProject(t,!0),setTimeout(function(){window.location.reload()},1800);break;case y.Neo4jAppEventTypes.new:_.default.showHints("The Neo4j Desktop DB is changed"),setTimeout(function(){window.location.reload()},1800);break;case y.Neo4jAppEventTypes.offline:_.default.showHints("The Neo4j Desktop DB is inactive")}}),this}},{key:"didLoaded",value:function(){if(!/\:3000/gi.test(window.location.href)){var e=this;$(window).bind("beforeunload",function(t){if(e.controller.graph.nodes.length>0)return"You have unsaved changes!"})}return this}},{key:"initReactDom",value:function(e){return o.default.render(i.default.createElement(a.Provider,{store:this.store},i.default.createElement(u.default,{config:e})),document.getElementById("react-dom")),this}},{key:"initController",value:function(){return this.controller=new m.default(this.store),this}},{key:"loadViewData",value:function(){var e=this;return s.default.waterfall([function(e){var t=window.location.pathname.replace(/^\/[0-9a-z]+\/[0-9a-z]{24,}\/.+\/([0-9a-z]{24})$/gi,"$1");24==t.length?e(null,t):e(new Error("Can't found the viewId"))},function(e,t){_.default.sendRequst("/api/perspectives/getInfo",{id:e},function(e,n){t(e||(n.content?null:new Error(n.message)),n.content)})},function(e,t){fetch(e.fileName).then(function(e){return 200===e.status||0===e.status?Promise.resolve(e.blob()):Promise.reject(new Error(e.statusText))}).then(JSZip.loadAsync).then(function(e){t(null,e)},function(e){t(e)})}],function(t,n){n&&e.controller._openGraphXR(n,"view.zip")}),this}},{key:"initAPIPostMessageSupport",value:function(){var e=this;return w.default.onMessage(function(t){e.store.dispatch(f.Actions.excuteCommand(t))}),this}}]),e}();window._app=null,$(window).on("load",function(){console.log("window load"),document.addEventListener("contextmenu",function(e){e.ctrlKey||e.altKey||e.shiftKey?(e.preventDefault(),e.target.click()):/CodeMirror/gi.test(e.target.className)||["input","span"].includes(String(e.target.tagName).toLocaleLowerCase())||e.preventDefault()},!1),_.default.showLoading(),s.default.waterfall([function(e){h.cleanConnectionWithProjectId(c.default.getProjectId()),e()},function(e){y.Neo4jApp.shareInstance().getActiveDB().then(function(t){t&&c.default.setCurrentCacheProject(t,!0),e()})},function(e){v.Font.init().then(function(){e()},function(t){console.error("Font Init :",t),e()})},function(e){l.default.initNeo4jBaseInfo().then(function(t){e(t.err)},function(t){console.error("BaseInfo :",t),e(t)})}],function(e){_.default.hideLoading(),e&&!/mismatched input \'CALL\'/gi.test(e.message)&&_.default.showHints(e.message);var t=window.globalVariable.moduleConfig;window._app=new S(t),window._task=new b.default}),$("body").on("drag dragstart dragend dragover dragenter dragleave drop",function(e){e.preventDefault(),e.stopPropagation()}).on("dragover dragenter",function(){$("body").addClass("is-dragover")}).on("dragleave dragend drop",function(){$("body").removeClass("is-dragover")}).on("drop",function(e){var t=e.originalEvent.dataTransfer.files,n=null;t.length>0&&(n=t[0],_app.controller.importGraphXR(n))})})},,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=void 0;console.log("process.env.NODE_ENV = production"),0;var i=(0,r.createStore)(e,t,n);0;return i};var r=n(326)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(1),o=F(i),a=F(n(4)),s=n(326),u=n(396),l=n(427),c=F(n(1768)),d=F(n(90)),f=F(n(1769)),h=F(n(1778)),p=F(n(2283)),m=F(n(2284)),g=F(n(2288)),y=F(n(2289)),v=F(n(2292)),b=F(n(2293)),_=F(n(2294)),w=F(n(2295)),k=F(n(1272)),E=F(n(34)),x=F(n(61)),S=F(n(2296)),M=F(n(2297)),T=F(n(2299)),C=F(n(2300)),A=F(n(2301)),O=F(n(2302)),N=F(n(2303)),L=F(n(2306)),j=F(n(428)),P=n(50),D=F(n(44)),I=F(n(327)),R=F(n(2307));function F(e){return e&&e.__esModule?e:{default:e}}var Y=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={isShowTourTips:!("show"==localStorage.getItem("showQuickTour")),tourAnimation:!("show"==localStorage.getItem("showQuickTour")),isShowFeedBack:!1,isShowAbout:!1,isShowHotkey:!1,showGraphBuilder:{isShow:!1,dataType:"csv",schemaName:"",data:null},isShowStopPanel:!1,isShowFinishPanel:!1,isChangeTour:1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),r(t,[{key:"componentDidMount",value:function(){var e=this;$(document).on("fullscreenchange",function(){var t=e.props,n=t.actions,r=t.app,i=$(document).fullScreen();r.play.isFullscreen!=i&&n.setFullScreen(i)})}},{key:"componentWillReceiveProps",value:function(e){this.props.app.node.showExpandPanel!=e.app.node.showExpandPanel&&this.setState({showExpandPanel:e.app.node.showExpandPanel}),this.props.app.play.isFullscreen!=e.app.play.isFullscreen&&this.handleFullScreen(e.app.play.isFullscreen),this.props.app.ui.showGraphBuilder.isShow!=e.app.ui.showGraphBuilder.isShow&&this.setState({showGraphBuilder:{isShow:e.app.ui.showGraphBuilder.isShow,dataType:e.app.ui.showGraphBuilder.dataType,schemaName:e.app.ui.showGraphBuilder.schemaName,data:e.app.ui.showGraphBuilder.data}}),this.props=e}},{key:"handleFullScreen",value:function(e){$("body > div[id!='renderContainer']").each(function(){$(this).attr("data-css-display")||$(this).attr("data-css-display",$(this).css("display")),$(this).css("display",e?"none":$(this).attr("data-css-display"))}),$(document).fullScreen(e)}},{key:"showFeedBack",value:function(){this.setState({isShowFeedBack:!this.state.isShowFeedBack})}},{key:"handleAbout",value:function(){this.setState({isShowAbout:!this.state.isShowAbout})}},{key:"handleFeedback",value:function(){this.setState({isShowFeedBack:!this.state.isShowFeedBack,isShowAbout:!this.state.isShowAbout})}},{key:"showHotkey",value:function(){this.setState({isShowHotkey:!this.state.isShowHotkey})}},{key:"showAllTour",value:function(){var e=this;this.props.actions.showTopbar(""),(new j.default).startAll(function(t){return e.infoPanel(t)}),this.setState({isShowTourTips:!1,tourAnimation:!1})}},{key:"handleTourTips",value:function(e){"hide"==e&&this.setState({isShowTourTips:!1,tourAnimation:!1}),"never"==e&&this.setState({isShowTourTips:!1,tourAnimation:!1},function(){localStorage.setItem("showQuickTour","show")})}},{key:"hoverTourTips",value:function(e){"in"==e&&this.state.isShowTourTips&&this.setState({tourAnimation:!1}),"out"==e&&this.state.isShowTourTips&&this.setState({tourAnimation:!0})}},{key:"clean",value:function(){this.props.actions.nodeOperator("NODE_SELECT_ALL",{selectAll:!0});var e=_app.controller.graph.nodes.filter(function(e){return e.selected}).map(function(e){return e.id});D.default.selectWithNodeIds([],D.default.selectTypes.new),_app.controller.graph.removeNodesByIds(e),_app.store.dispatch(d.default.graphDataUpdate(_app.controller.graph.visibleNodes.length))}},{key:"hideTourInfoPanel",value:function(){this.setState({isShowStopPanel:!1,isShowFinishPanel:!1})}},{key:"infoPanel",value:function(e){this.setState({isShowStopPanel:"stop"==e,isShowFinishPanel:"finish"==e})}},{key:"onCloseGraphBuilder",value:function(){this.props.actions.showGraphBuilder(!1,"","",null)}},{key:"onGenerateGraph",value:function(e){var t=this.props.actions;t.loadGraph(e),t.showGraphBuilder(!1,"","",null)}},{key:"hideTourTips",value:function(){this.setState({isShowTourTips:!1})}},{key:"handleTourInLeftPanel",value:function(){this.setState({isShowAbout:!this.state.isShowAbout,isChangeTour:this.state.isChangeTour+1})}},{key:"render",value:function(){var e=this,t=this.props,n=t.app,r=t.actions,i=t.config,a=this.state,s=a.showExpandPanel,u=a.isShowTourTips,d=a.tourAnimation,j=a.isShowStopPanel,D=a.isShowFinishPanel,F=a.isChangeTour;return o.default.createElement(c.default,{onMouseDown:function(e){e.fromReact=!0},onDoubleClick:function(e){e.fromReact=!0},onWheel:function(e){e.fromReact=!0},onMouseMove:function(e){e.fromReact=!0}},o.default.createElement("div",{id:"main-panle",className:P.Config.isCollaborate?"collaborate":""},o.default.createElement(M.default,{actions:r,app:n.node}),o.default.createElement(p.default,{actions:r,flightDuringTime:n.node.flightDuringTime}),o.default.createElement(O.default,{reduxState:n.node}),o.default.createElement(f.default,null),n.settings.disableNodeInfo||!n.node.showNodeId?null:o.default.createElement(N.default,{actions:r,reduxState:n,onClose:function(){r.disableNodeInfo(!0)}}),s?o.default.createElement(A.default,{actions:r,reduxState:n}):null,this.state.isShowFeedBack?o.default.createElement(E.default,{handleClose:function(){return e.showFeedBack()}}):null,this.state.isShowAbout?o.default.createElement(x.default,{handleAbout:function(){return e.handleAbout()},handleTourInLeftPanel:function(){return e.handleTourInLeftPanel()},handleFeedback:function(){return e.handleFeedback()},isChangeTour:F}):null,o.default.createElement(h.default,{config:i,actions:r,reduxState:n,showFeedBack:function(){return e.showFeedBack()},showAbout:function(){return e.handleAbout()},showHotkey:function(){return e.showHotkey()},hideTourTips:function(){return e.hideTourTips()},isChangeTour:F,tourAnimation:d,handleTourTips:function(t){return e.handleTourTips(t)},hoverTourTips:function(t){return e.hoverTourTips(t)}}),u?o.default.createElement(T.default,{showAllTour:function(){return e.showAllTour()},tourAnimation:d,handleTourTips:function(t){return e.handleTourTips(t)},hoverTourTips:function(t){return e.hoverTourTips(t)}}):null,j||D?o.default.createElement(C.default,{isShowStopPanel:j,isShowFinishPanel:D,hideTourInfoPanel:function(){return e.hideTourInfoPanel()},clean:function(){return e.clean()}}):null,o.default.createElement("div",{className:"current-legend"},i.legend.visible?o.default.createElement(g.default,{actions:r,reduxState:n,config:i.legend.subModule},i.legend.subModule.label.visible?o.default.createElement(y.default,{name:"Label",actions:r,reduxState:n}):null,i.legend.subModule.relationship.visible?o.default.createElement(v.default,{name:"Relationship",actions:r,reduxState:n}):null,i.legend.subModule.tag.visible?o.default.createElement(b.default,{name:"Tag",actions:r,reduxState:n}):null,i.legend.subModule.property.visible?o.default.createElement(_.default,{name:"Property",actions:r,reduxState:n}):null):null),i.toolbar.visible?o.default.createElement(k.default,{actions:r,reduxState:n,config:i.toolbar.subModule}):null,n.ui.neighborsSliderShow?o.default.createElement(L.default,{actions:r,isShow:n.ui.neighborsSliderShow}):null,this.state.isShowHotkey?o.default.createElement(S.default,{showHotkey:function(){return e.showHotkey()}}):null,o.default.createElement(w.default,{actions:r,reduxState:n}),o.default.createElement(m.default,{actions:r,reduxState:n}),o.default.createElement(I.default,{if:this.state.showGraphBuilder.isShow},o.default.createElement(R.default,{title:"Schema Editor",onClose:this.onCloseGraphBuilder.bind(this),width:"100%",height:"600px"},o.default.createElement(l.SchemaDiagram,{dataType:this.state.showGraphBuilder.dataType,schemaName:this.state.showGraphBuilder.schemaName,data:this.state.showGraphBuilder.data,onSaveSchema:this.onCloseGraphBuilder.bind(this),onGenerateGraph:this.onGenerateGraph.bind(this),onClose:this.onCloseGraphBuilder.bind(this)})))))}}]),t}();Y.propTypes={app:a.default.object.isRequired,actions:a.default.object.isRequired},Y.contextTypes={store:a.default.object},t.default=(0,u.connect)(function(e){return{app:e}},function(e){return{actions:(0,s.bindActionCreators)(d.default,e)}})(Y)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(11);class i{constructor(){this.graph={nodes:[],edges:[]}}toGraph(e,t){let n=e.header;return e.data.forEach((e,r)=>{let{rowNodes:i,rowEdges:o}=this.createGraphByRow(n,e,t);this.graph.nodes=this.graph.nodes.concat(i),this.graph.edges=this.graph.edges.concat(o)}),this.graph.nodes=r.uniqBy(this.graph.nodes,"id"),this.graph.edges=r.uniqBy(this.graph.edges,"id"),this.graph}createGraphByRow(e,t,n){let r=[],i=[];e=e.map(e=>e.replace(/\s+/g,""));let o=n.nodeMapping,a=n.edgeMapping;return r=o.map(n=>{let r=n.name,i=n.properties,o=n.key.replace(/\s+/g,"").split(","),a="";a=1==o.length?t[e.indexOf(o[0])]:o.reduce((n,r,i)=>n+t[e.indexOf(r)],"");let s={};s.id=a||this.autoId(),s.label=r;let u={},l=Object.keys(i).map(e=>e.replace(/\s+/g,""));return t.forEach((t,n)=>{let r=e[n];if(l.includes(r)){let e=i[r];e?u[e]=t:u[r]=t}}),s.properties=u,s}),i=a.map((n,i)=>{let o=n.name,a=n.from,s=n.to,u=this.findNodeByLabel(r,a,null),l=this.findNodeByLabel(r,s,u),c={};c.id=this.autoId();let d={},f=n.properties,h=Object.keys(f).map(e=>e.replace(/\s+/g,""));return t.forEach((t,n)=>{let r=e[n];if(h.includes(r)){let e=f[r];e?d[e]=t:d[r]=t}}),c.properties=d,c.type=o,c.source=u,c.target=l,c.sourceId=u.id,c.targetId=l.id,c}),{rowNodes:r,rowEdges:i}}findNodeByLabel(e,t,n){return e.filter(e=>e!=n).find(e=>e.label==t)}edgeExist(e,t,n){return!!e.find(e=>e.sourceId==t&&e.targetId==n)}autoId(){return(Date.now().toString(36)+Math.random().toString(36).substr(2,5)).toUpperCase()}}t.default=i,t.GraphTransform=i},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,s)}u((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const i=n(1),o=n(326),a=n(396),s=n(632),u=n(297),l=n(1747),c=n(1764),d=n(327);n(1765);const f=n(1104),h=n(1088),p=n(1089);t.default=a.connect(function(e){return{schema:e}},function(e){return{actions:o.bindActionCreators(f.Actions,e)}})(class extends i.Component{constructor(e){super(e),this.state={properties:[],dataType:this.props.dataType?this.props.dataType:"csv",data:this.props.data?this.props.data:null,propertyView:{show:!1},relationship:{startNode:null,endNode:null}}}init(){if(this.diagram=new s.Diagram,this.diagram.overlay(this.onOverlay.bind(this)),this.diagram.toggleRenderPropertyBubblesFlag(),this.graphModel=new s.Model,this.state.data&&("mysql"==this.state.dataType||"csv"==this.state.dataType)){let e=Object.keys(this.state.data[0]);this.setState({properties:e})}}componentDidMount(){this.width=this.element.clientWidth,this.height=this.element.clientHeight,this.init(),this.svg=this.initSVG(),this.draw()}createDefaultLabel(e){this.onCreateNode("Default")}onOverlay(e,t){let n=t.selectAll("path.relationship.overlay").data(e.relationships);n.exit().remove();let r=n.enter().append("path").attr("class","relationship overlay");n.merge(r).attr("fill","rgba(255, 255, 255, 0)").attr("stroke","rgba(255, 255, 255, 0)").attr("stroke-width","10px").on("dblclick",this.editRelationship.bind(this)).attr("transform",function(e){var t=e.start.model.angleTo(e.end.model);return"translate("+e.start.model.ex()+","+e.start.model.ey()+") rotate("+t+")"}).attr("d",function(e){return e.arrow.outline})}editRelationship(e){let t=e.model;this.showPropertyView(t)}draw(){this.graphModel&&this.diagram&&this.diagram.render&&this.svg.data([this.graphModel]).call(this.diagram.render),this.handleOnClickNode()}initSVG(){return u.select("#svgContainer").append("svg:svg").attr("class","graphdiagram").attr("id","svgElement").attr("width","100%").attr("height","100%").on("dblclick.zoom",null).append("g")}handleOnClickNode(){let e=u.drag().on("drag",e=>{let t=u.event.x,n=u.event.y;e.x=t,e.y=n;let r=e.model;r.position.x=t,r.position.y=n;let i=t,o=n,a=this.state.propertyView.entity;a instanceof s.Relationship&&(i=(a.start.x+a.end.x)/2,o=(a.start.y+a.end.y)/2),this.setState({propertyView:{entity:r,show:this.state.propertyView.show,x:i+50,y:o}}),this.draw()});this.svg.selectAll("circle").attr("cursor","pointer").on("dblclick",e=>{this.showPropertyView(e.model),console.log("dbclick")}).on("click",e=>{this.buildRelationship(e.model)}).call(e),this.svg.selectAll("text").attr("pointer-events","none")}showPropertyView(e){let t=!0;(this.state.propertyView.entity?this.state.propertyView.entity.id:null)==e.id&&(t=!this.state.propertyView.show);let n=0,r=0;e instanceof s.Node?(n=e.x,r=e.y):(n=(e.start.x+e.end.x)/2,r=(e.start.y+e.end.y)/2),this.setState({propertyView:{entity:e,show:t,x:n+50,y:r}})}buildRelationship(e){this.state.relationship.startNode==e?(e.style("border-color","rgba(0, 0, 0, 0.3)"),this.state.relationship.startNode=null):this.state.relationship.endNode==e?(e.style("border-color","rgba(0, 0, 0, 0.3)"),this.state.relationship.endNode=null):null==this.state.relationship.startNode&&this.state.relationship.startNode!=e?(this.state.relationship.startNode=e,e.style("border-color","rgba(255, 255, 0, 1.0)")):null==this.state.relationship.endNode&&e!=this.state.relationship.startNode&&this.state.relationship.endNode!=e&&(this.state.relationship.endNode=e,e.style("border-color","rgba(255, 255, 0, 1.0)")),this.state.relationship.startNode&&this.state.relationship.endNode&&(this.graphModel.createRelationship(this.state.relationship.startNode,this.state.relationship.endNode,Math.floor(1e6*Math.random()).toString()).relationshipType=this.state.relationship.startNode.label+this.state.relationship.endNode.label,this.state.relationship.startNode.style("border-color","rgba(0, 0, 0, 0.3)"),this.state.relationship.endNode.style("border-color","rgba(0, 0, 0, 0.3)"),this.state.relationship.startNode=null,this.state.relationship.endNode=null),this.draw()}onCreateNode(e){let t="Label"+(this.graphModel.nodes.size+1),n=this.graphModel.createNode(t);n.x=this.weightedRandom(this.width,10),n.y=this.weightedRandom(this.height,10),n.label=e||t,this.draw()}weightedRandom(e,t){let n=0;for(let r=0;r<t;r++)n+=Math.random()*(e/t);return n}onClosePropertyView(){this.setState({propertyView:{show:!1}}),this.draw()}onDeleteEntity(e){e instanceof s.Node?(this.state.relationship.startNode==e?this.state.relationship.startNode=null:this.state.relationship.endNode==e&&(this.state.relationship.endNode=null),this.graphModel.deleteNode(e)):this.graphModel.deleteRelationship(e),this.onClosePropertyView(),this.draw()}onImportFile(e){let t=e.currentTarget.files;(new p.CSVImporter).importCSV(t[0]).then(e=>{this.setState({properties:e.header,data:t[0]}),this.createDefaultLabel(e.header)})}onSaveSchema(){let{actions:e}=this.props,t=this.buildMapping();e.saveSchema(this.props.dataType,this.props.schemaName,t),this.props.onSaveSchema&&this.props.onSaveSchema(this.props.schemaName,t)}onGenerateGraph(){return r(this,void 0,void 0,function*(){let e=this.buildMapping(),t=new h.CSVToGraph,n=null,r=null;"mysql"==this.state.dataType?(n=this.genenateCSVData(this.state.dataType,this.state.data),r=yield t.csvToGraph(n,e)):"csv"==this.state.dataType&&(r=yield t.toGraph(this.state.data,e)),this.props.onGenerateGraph&&this.props.onGenerateGraph(r)})}genenateCSVData(e,t){let n={header:[],data:[]};return"mysql"==e&&(n.header=Object.keys(t[0]),n.data=t.map(e=>Object.values(e))),n}onClose(){this.props.onClose()}buildMapping(){let e=Array.from(this.graphModel.nodes.values()),t=Array.from(this.graphModel.relationships.values()),n=e.map(e=>{let t={autoId:!0};return t.key=e.properties.primaryKey,t.name=e.label,t.properties=e.properties.toJSON(),t}),r=t.map(e=>{let t={};return t.name=e.relationshipType,t.properties=e.properties.toJSON(),t.from=e.start.label,t.fromKey=e.start.properties.primaryKey,t.to=e.end.label,t.toKey=e.end.properties.primaryKey,t}),i={};return i.nodeMapping=n,i.edgeMapping=r,i}graphDomRef(e){this.element=e}render(){let{data:e}=this.props;return i.createElement(c.StyledWrapper,{ref:this.graphDomRef.bind(this),id:"graph-builder"},i.createElement(c.StyledWrapper,null,i.createElement(c.StyledToolWrapper,null,i.createElement(c.StyledSpan,null,i.createElement(c.StyledIcon,{onClick:()=>this.onCreateNode(),className:"fa fa-plus-circle"})),i.createElement(c.StyledSpan,null,i.createElement(c.StyledIcon,{onClick:()=>this.onSaveSchema(),className:"fa fa-floppy-o"}))),i.createElement(d.default,{if:this.state.propertyView.show},i.createElement(l.default,{x:this.state.propertyView.x,y:this.state.propertyView.y,allProperties:this.state.properties,entity:this.state.propertyView.entity,onChange:this.draw.bind(this),onDeleteEntity:this.onDeleteEntity.bind(this),onClose:this.onClosePropertyView.bind(this)})),i.createElement(c.StyledSVGContainer,{id:"svgContainer"})))}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(297),i=n(296),o=n(1091),a=n(1097);var s;t.default=class{constructor(){this._renderPropertyBubblesFlag=!0,this._overlay=function(e,t){},this._scaling=a.default.sizeSvgToFitDiagram,s=this}overlay(e){return this._overlay=e,this}scaling(e){return this._scaling=e,this}toggleRenderPropertyBubblesFlag(){this._renderPropertyBubblesFlag=!this._renderPropertyBubblesFlag}renderNodes(e,t){var n=t.selectAll("circle.node").data(e);n.exit().remove(),n.enter().append("svg:circle").attr("class",function(e){return e.model.class().join(" ")+" node-id-"+e.model.id+` node-base node-type-${e.model.caption}`}).merge(n).attr("r",function(e){return e.radius.mid()}).attr("fill",function(e){return e.model.style("background-color")}).attr("stroke",function(e){return e.model.style("border-color")}).attr("stroke-width",function(e){return e.model.style("border-width")}).attr("cx",function(e){return e.model.ex()}).attr("cy",function(e){return e.model.ey()});var r=e.filter(function(e){return e.model.displayCaption}),i=t.selectAll("g.caption").data(r);i.exit().remove();var o=i.enter().append("g").attr("class","caption"),a=i.merge(o).selectAll("text.caption").data(function(e){return e.captionLines.map(function(t){return{node:e,caption:t}})});a.exit().remove();var s=a.enter().append("svg:text").attr("class",function(e){return"caption "+e.node.model.class().join(" ")+" node-id-"+e.node.model.id+` node-type-${e.node.model.caption}`});a.merge(s).attr("text-anchor","middle").attr("alignment-baseline","central").attr("x",function(e){return e.node.model.ex()}).attr("y",function(e,t){return e.node.model.ey()+(t-(e.node.captionLines.length-1)/2)*e.node.captionLineHeight}).attr("fill",function(e){return e.node.model.style("color")}).attr("font-size",function(e){return e.node.model.style("font-size")}).attr("font-family",function(e){return e.node.model.style("font-family")}).text(function(e){return e.caption})}renderRelationships(e,t){function n(e){return e.end.model.isLeftOf(e.start.model)?-1:1}function r(e){return e.model.class().join(" ")}var i=t.selectAll("g.related-pair").data(e);i.exit().remove();var o=i.enter().append("svg:g").attr("class","related-pair"),a=i.merge(o).selectAll("g.relationship").data(function(e){return e});a.exit().remove();var s=a.enter().append("svg:g").attr("class",r),u=a.merge(s);u.attr("transform",function(e){var t=e.start.model.angleTo(e.end.model);return"translate("+e.start.model.ex()+","+e.start.model.ey()+") rotate("+t+")"});var l=u.selectAll("path.relationship").data(function(e){return[e]}),c=l.enter().append("svg:path").attr("class",r);l.merge(c).attr("d",function(e){return e.arrow.outline}).attr("fill",function(e){return e.model.style("background-color")}).attr("stroke",function(e){return e.model.style("border-color")}).attr("stroke-width",function(e){return e.model.style("border-width")});var d=u.selectAll("text.type").data(function(e){return[e].filter(function(e){return e.model.relationshipType})});d.exit().remove();var f=d.enter().append("svg:text").attr("class","type").attr("text-anchor","middle").attr("baseline-shift","30%").attr("alignment-baseline","alphabetic");d.merge(f).attr("transform",function(e){return e.end.model.isLeftOf(e.start.model)?"rotate(180)":null}).attr("x",function(e){return n(e)*e.arrow.apex.x}).attr("y",function(e){return n(e)*e.arrow.apex.y}).attr("font-size",function(e){return e.model.style("font-size")}).attr("font-family",function(e){return e.model.style("font-family")}).text(function(e){return e.model.relationshipType})}renderPropertyBubbles(e,t,n){var r=e.filter(i.default.hasProperties).map(function(e){return e.propertiesBubble}),o=n.selectAll("g.speech-bubble."+t+"-speech-bubble").data(r);o.exit().remove();var a=o.enter().append("svg:g").attr("class","speech-bubble "+t+"-speech-bubble"),u=o.merge(a);u.attr("transform",function(e){return e.groupTransform}),s._renderPropertyBubblesFlag?u.attr("display","block"):u.attr("display","none");var l=u.selectAll("path.speech-bubble-outline").data(function(e){return[e]});l.exit().remove();var c=l.enter().append("svg:path").attr("class","speech-bubble-outline");l.merge(c).attr("transform",function(e){return e.outlineTransform}).attr("d",function(e){return e.outlinePath}).attr("fill",function(e){return e.entity.properties.style("background-color")}).attr("stroke",function(e){return e.entity.properties.style("border-color")}).attr("stroke-width",function(e){return e.entity.properties.style("border-width")});var d=u.selectAll("text.speech-bubble-content.property-key").data(function(e){return e.properties});d.exit().remove();var f=d.enter().append("svg:text").attr("class","speech-bubble-content property-key");d.merge(f).attr("x",function(e){return e.textOrigin.x}).attr("y",function(e,t){return(t+.5)*i.default.parsePixels(e.entity.properties.style("font-size"))+e.textOrigin.y}).attr("alignment-baseline","central").attr("text-anchor","end").attr("font-size",function(e){return e.entity.properties.style("font-size")}).attr("font-family",function(e){return e.entity.properties.style("font-family")}).attr("xml:space","preserve").text(function(e){return e.keyText});var h=u.selectAll("text.speech-bubble-content.property-value").data(function(e){return e.properties});h.exit().remove();var p=h.enter().append("svg:text").attr("class","speech-bubble-content property-value");h.merge(p).attr("x",function(e){return e.textOrigin.x}).attr("y",function(e,t){return(t+.5)*i.default.parsePixels(e.entity.properties.style("font-size"))+e.textOrigin.y}).attr("alignment-baseline","central").attr("font-size",function(e){return e.entity.properties.style("font-size")}).attr("font-family",function(e){return e.entity.properties.style("font-family")}).text(function(e){return e.valueText})}render(e){e.each(function(e){var t=r.select(this);s.layout=new o.default(e);var n=s.layout.layoutModel;function i(e){var n=t.selectAll("g.layer."+e).data([e]),r=n.enter().append("g").attr("class","layer "+e);return n.merge(r)}s.renderRelationships(n.relationshipGroups,i("relationships")),s.renderNodes(n.nodes,i("nodes")),s.renderPropertyBubbles(n.nodes,"node",i("node_properties")),s.renderPropertyBubbles(n.relationships,"relationship",i("relationship_properties")),s._overlay&&s._overlay(n,i("overlay")),s._scaling&&s._scaling(n,t)})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(297),i=n(296),o=n(1094);class a extends o.default{constructor(e,t){super(e);var n=e.properties,s=e.properties.style("font-size"),u=e.properties.style("font-family"),l=a.chooseRelationshipSpeechBubbleOrientation(e),c=r.max(n.listEditable(),function(e){return i.default.measureTextDimensions(e.key+": ",s,u)}),d={width:c+r.max(n.listEditable(),function(e){return i.default.measureTextDimensions(e.value,s,u)}),height:n.listEditable().length*i.default.parsePixels(n.style("font-size"))},f=i.default.parsePixels(n.style("margin")),h=i.default.parsePixels(n.style("padding")),p="scale("+l.mirrorX+","+l.mirrorY+") ",m={diagonal:{textCorner:{x:f+h,y:f+h}},horizontal:{textCorner:{x:f+h,y:-d.height/2}},vertical:{textCorner:{x:-d.width/2,y:f+h}}}[l.style].textCorner,g=e.end.ex()-e.start.ex(),y=e.end.ey()-e.start.ey(),v=Math.sqrt(g*g+y*y),b=e.start.ex()+(t.x*g-t.y*y)/v,_=e.start.ey()+(t.x*y+t.y*g)/v,w="translate("+b+","+_+") ",k={x:c+l.mirrorX*m.x-(-1==l.mirrorX?d.width:0),y:l.mirrorY*m.y-(-1==l.mirrorY?d.height:0)},E=h+e.model.parameters.speechBubbleStrokeWidth/2,x={x:b+(m.x-E)*l.mirrorX,y:_+(m.y-E)*l.mirrorY,width:l.mirrorX*(d.width+2*E),height:l.mirrorY*(d.height+2*E)};this.properties=n.listEditable().map(function(t){return{keyText:t.key+": ",valueText:t.value,textOrigin:k,style:e.style(),entity:e}}),this.style=e.style(),this.entity=e,this.groupTransform=w,this.outlineTransform=p,this.outlinePath=o.default.speechBubblePath(d,l.style,f,h),this.boundingBox=x}static chooseRelationshipSpeechBubbleOrientation(e){var t={EAST:{style:"horizontal",mirrorX:1,mirrorY:1,angle:0},SOUTH_EAST:{style:"diagonal",mirrorX:1,mirrorY:1,angle:45},SOUTH:{style:"vertical",mirrorX:1,mirrorY:1,angle:90},SOUTH_WEST:{style:"diagonal",mirrorX:-1,mirrorY:1,angle:135},WEST:{style:"horizontal",mirrorX:-1,mirrorY:1,angle:180}},n=e.start.angleTo(e.end),r=n>0?n:n+180;return r>175||r<5?t.SOUTH:r<85?t.SOUTH_WEST:r<90?t.WEST:90===r?n>0?t.WEST:t.EAST:r<95?t.EAST:t.SOUTH_EAST}}t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(297),i=n(296),o=n(1094);class a extends o.default{constructor(e,t){super(e);var n=[];e.model.relationshipList().forEach(function(t){t.start===e&&n.push(t.end),t.end===e&&n.push(t.start)});var s=a.chooseNodeSpeechBubbleOrientation(e,n),u=e.properties,l=r.max(u.listEditable(),function(t){return i.default.measureTextDimensions(t.key+": ",e.properties.style("font-size"),e.properties.style("font-family"))}),c=r.max(u.listEditable(),function(t){return i.default.measureTextDimensions(t.value,e.properties.style("font-size"),e.properties.style("font-family"))}),d={width:parseFloat(l)+parseFloat(c),height:u.listEditable().length*i.default.parsePixels(u.style("font-size"))},f="scale("+s.mirrorX+","+s.mirrorY+") ",h=i.default.parsePixels(u.style("margin")),p=i.default.parsePixels(u.style("padding")),m=t.mid()*Math.sqrt(2)/2,g={diagonal:{attach:{x:m,y:m},textCorner:{x:h+p,y:h+p}},horizontal:{attach:{x:t.mid(),y:0},textCorner:{x:h+p,y:-d.height/2}},vertical:{attach:{x:0,y:t.mid()},textCorner:{x:-d.width/2,y:h+p}}},y=g[s.style].attach,v=g[s.style].textCorner,b="translate("+(e.ex()+y.x*s.mirrorX)+","+(e.ey()+y.y*s.mirrorY)+") ",_={x:parseFloat(l)+s.mirrorX*v.x-(-1==s.mirrorX?d.width:0),y:s.mirrorY*v.y-(-1==s.mirrorY?d.height:0)},w=p+e.model.parameters.speechBubbleStrokeWidth/2,k={x:e.ex()+(y.x+v.x-w)*s.mirrorX,y:e.ey()+(y.y+v.y-w)*s.mirrorY,width:s.mirrorX*(d.width+2*w),height:s.mirrorY*(d.height+2*w)};this.properties=u.listEditable().map(function(t){return{keyText:t.key+": ",valueText:t.value,textOrigin:_,style:e.style(),entity:e}}),this.style=e.style(),this.groupTransform=b,this.outlineTransform=f,this.outlinePath=o.default.speechBubblePath(d,s.style,h,p),this.boundingBox=k}}a.chooseNodeSpeechBubbleOrientation=function(e,t){var n=[{key:"WEST",style:"horizontal",mirrorX:-1,mirrorY:1,angle:180},{key:"NORTH-WEST",style:"diagonal",mirrorX:-1,mirrorY:-1,angle:-135},{key:"NORTH",style:"vertical",mirrorX:1,mirrorY:-1,angle:-90},{key:"NORTH-EAST",style:"diagonal",mirrorX:1,mirrorY:-1,angle:-45},{key:"EAST",style:"horizontal",mirrorX:1,mirrorY:1,angle:0},{key:"SOUTH-EAST",style:"diagonal",mirrorX:1,mirrorY:1,angle:45},{key:"SOUTH",style:"vertical",mirrorX:1,mirrorY:1,angle:90},{key:"SOUTH-WEST",style:"diagonal",mirrorX:-1,mirrorY:1,angle:135}];n.forEach(function(e){e.closest=180}),t.forEach(function(t){n.forEach(function(n){var r=Math.abs(e.angleTo(t)-n.angle);r>180&&(r=360-r),r<n.closest&&(n.closest=r)})});var r=0,i=n[0];return n.forEach(function(e){e.closest>r&&(r=e.closest,i=e)}),i},t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=class{constructor(e,t){this.insideRadius=t,this.borderWidth=e.parameters.nodeStrokeWidth,this.arrowMargin=e.parameters.nodeStartMargin}inside(e){return 1==arguments.length?(this.insideRadius=e,this):this.insideRadius}get border(){return this.borderWidth}set border(e){this.borderWidth=e}get margin(){return this.arrowMargin}set margin(e){this.arrowMargin=e}mid(){return this.insideRadius+this.borderWidth/2}outside(){return this.insideRadius+this.borderWidth}startRelationship(){return this.insideRadius+this.borderWidth+this.arrowMargin}endRelationship(){return this.insideRadius+this.borderWidth+this.arrowMargin}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=class{constructor(e,t,n){this.shaftRadius=n/2,this.headRadius=2*n,this.headLength=2*this.headRadius,this.shoulder=e<t?t-this.headLength:t+this.headLength,this.outline=["M",e,this.shaftRadius,"L",this.shoulder,this.shaftRadius,"L",this.shoulder,this.headRadius,"L",t,0,"L",this.shoulder,-this.headRadius,"L",this.shoulder,-this.shaftRadius,"L",e,-this.shaftRadius,"Z"].join(" "),this.apex={x:e+(this.shoulder-e)/2,y:0}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(297),i=n(1098),o=n(397);class a{static parseAll(e){var t=[];return e.each(function(){var e=r.select(this),n=a.parse(e);t.push(n)}),t}static parseProperties(e,t=!1){return function(){var n,i=r.select(this);t&&console.log("parseProperties:",e,this,i),i.selectAll("dt, dd").each(function(){"dt"===this.nodeName.toLowerCase()?n=r.select(this).text():n&&"dd"===this.nodeName.toLowerCase()&&e.properties.set(n,r.select(this).text())}),o.default.copyStyles(e.properties,i,t)}}static parse(e,t){var n=new i.default(t);e.attr("data-internal-scale")&&(n.internalScale=e.attr("data-internal-scale")),e.attr("data-external-scale")&&(n.externalScale=e.attr("data-external-scale"));var s=e.append("li").attr("class","node"),u=s.append("dl").attr("class","properties");o.default.copyStyles(n.stylePrototype.node,s),o.default.copyStyles(n.stylePrototype.nodeProperties,u),s.remove();var l=e.append("li").attr("class","relationship"),c=l.append("dl").attr("class","properties");return o.default.copyStyles(n.stylePrototype.relationship,l),o.default.copyStyles(n.stylePrototype.relationshipProperties,c),l.remove(),e.selectAll(".node").each(function(){var e=r.select(this),t=e.attr("data-node-id"),i=n.createNode(t);i.class(e.attr("class")||""),i.x=parseFloat(e.attr("data-x")),i.y=parseFloat(e.attr("data-y")),e.select("span.caption").each(function(){i.caption=r.select(this).text()}),e.select("dl.properties").each(a.parseProperties(i)),o.default.copyStyles(i,e)}),e.selectAll(".relationship").each(function(){var e=r.select(this),t=parseFloat(e.attr("data-from")),i=parseFloat(e.attr("data-to")),s=n.createRelationship(n.lookupNode(t),n.lookupNode(i));s.class(e.attr("class")||""),e.select("span.type").each(function(){s.relationshipType=r.select(this).text()});e.select("dl.properties").each(a.parseProperties(s,!1));o.default.copyStyles(s,e,!1)}),n}static format(e,t){var n=t.append("ul").attr("class","graph-diagram-markup").attr("data-internal-scale",e.internalScale).attr("data-external-scale",e.externalScale);function r(e,t){if(e.properties.list().length>0){var n=t.append("dl").attr("class","properties");e.properties.list().forEach(function(e){n.append("dt").text(e.key),n.append("dd").text(e.value)})}}e.nodeList().forEach(function(e){var t=n.append("li").attr("class",e.class().join(" ")).attr("data-node-id",e.id).attr("data-x",e.x).attr("data-y",e.y);e.caption&&t.append("span").attr("class","caption").text(e.caption),r(e,t)}),e.relationshipList().forEach(function(e){var t=n.append("li").attr("class",e.class().join(" ")).attr("data-from",e.start.id).attr("data-to",e.end.id);e.relationshipType&&t.append("span").attr("class","type").text(e.relationshipType),r(e,t)})}}t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class r{static convert(e){var t=[];return e.nodeList().forEach(e=>{t.push("("+r.quote(e.id)+" :"+r.quote(e.caption||"Node")+" "+r.render(r.props(e))+") ")}),e.relationshipList().forEach(e=>{t.push("("+r.quote(e.start.id)+")-[:`"+r.quote(e.relationshipType||"RELATED_TO")+"` "+r.render(r.props(e))+"]->("+r.quote(e.end.id)+")")}),0==t.length?"":"CREATE \n  "+t.join(",\n  ")}static props(e){var t={};return e.properties.list().forEach(e=>{t[e.key]=e.value}),t}static isIdentifier(e){return/^[_a-zA-Z]\w*$/.test(e)}static quote(e){return r.isIdentifier(e)?e:"`"+e+"`"}static render(e){var t="";for(var n in e)if(t.length>0&&(t+=","),e.hasOwnProperty(n)){t+=r.quote(n)+":";var i=e[n];t+="string"==typeof i&&"'"!=i[0]&&'"'!=i[0]?"'"+i+"'":i}return 0==t.length?"":"{"+t+"}"}}t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(632),i=n(1103);t.default=class{constructor(){this.dataTypes=new i.DataTypes}static convert(e){let t={nodes:[],links:[]};return e.nodeList().forEach(e=>{let n={id:e.id,group:1,properties:e.properties.toJSON(),labels:[e.caption],position:e.position};t.nodes.push(n)}),e.relationshipList().forEach(e=>{let n={source:e.start.id,target:e.end.id,value:1,id:e.id,type:e.relationshipType,startNode:e.start.id,endNode:e.end.id,properties:e.properties.toJSON(),linknum:1};t.links.push(n)}),t}static parseD3(e,t,n){var i=new r.Model(t);return e.nodes.forEach(e=>{let t=i.createNode(e.id);n&&(t.x=n.x,t.y=n.y),e.position&&e.position.x&&e.position.y&&(t.x=e.position.x,t.y=e.position.y),t.caption=e.labels[0];let r=e.properties;for(let e in r)r.hasOwnProperty(e)&&t.properties.set(e,r[e])}),e.links.forEach(e=>{let t=e.startNode,n=e.endNode,r=i.createRelationship(i.lookupNode(t),i.lookupNode(n),e.id);r.relationshipType=e.type;let o=e.properties;for(let e in o)o.hasOwnProperty(e)&&r.properties.set(e,o[e])}),i}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=class{constructor(e){this.graphModel=e,this.nodes=[],this.relationships=[],this.relationshipGroups=[]}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1),i=n(327),o=n(1748),a=n(632),s=n(634);t.default=class extends r.Component{constructor(e){super(e);let t=this.props.entity instanceof a.Node?this.props.entity.label:this.props.entity.relationshipType,n=this.props.entity.properties.primaryKey;this.state={label:t,primaryKey:n?n.split(","):[],type:e.entity instanceof a.Node?"node":"relationship",propertiesCanUse:this.getPropertiesCanUse(this.props,this.props.allProperties),availableProperties:this.getAvailableProperties(this.props.entity),currentSelectedProperty:null},this.propertiesMapping={}}getAvailableProperties(e){return Object.keys(e.properties.toJSON())}getPropertiesCanUse(e,t){let n=[...t];return this.getAvailableProperties(e.entity).forEach((e,t)=>{n.splice(n.indexOf(e),1)}),n}onClose(){this.onSave(),this.props.onClose&&this.props.onClose()}onLabelChange(e){this.setState({label:e},()=>{this.onSave()})}onAddAllColums(){let{availableProperties:e,propertiesCanUse:t}=this.state;e=e.concat(t),t=[],this.setState({availableProperties:e,propertiesCanUse:t},()=>{this.onSave()})}onAddProperty(e){let t=this.state.availableProperties,n=this.state.propertiesCanUse;n.splice(n.indexOf(e),1),t.push(e),this.setState({availableProperties:t,propertiesCanUse:n,currentSelectedProperty:null},()=>{this.onSave()})}onDeleteProperty(e,t){let n=this.state.availableProperties,r=this.state.propertiesCanUse;n.splice(e,1),r.push(t),this.setState({availableProperties:n,propertiesCanUse:r,currentSelectedProperty:null},()=>{this.onSave()})}onSave(){if(!this.state.label)return void console.error("label should not be null");let e=this.props.entity.properties;e.clearAll(),this.state.availableProperties.forEach(t=>{let n=this.propertiesMapping[t]?this.propertiesMapping[t]:"",r=t.replace(/\s+/g,"");e.set(r,n)}),this.props.entity.properties.primaryKey=this.state.primaryKey.join(","),this.props.entity instanceof a.Node?(this.props.entity.label=this.state.label,this.props.entity.caption=this.state.label):this.props.entity.relationshipType=this.state.label,this.props.onChange()}onSetPrimaryKey(e,t){let{primaryKey:n,availableProperties:r}=this.state;n.includes(t)?n.splice(n.indexOf(t),1):n.push(t),this.setState({primaryKey:n},()=>{this.onSave()})}onPropertyNameChange(e,t){this.propertiesMapping[e]=t,this.onSave()}generateCellAndData(){let e=[],{primaryKey:t}=this.state;e.push(e=>r.createElement(o.StyledSpan,null,e.value)),e.push(e=>r.createElement(o.StyledInput,{onChange:t=>this.onPropertyNameChange(e.value,t.target.value),defaultValue:this.propertiesMapping[e.value]?this.propertiesMapping[e.value]:e.value})),e.push(e=>r.createElement(o.StyledCheck,{checked:t.includes(e.value),onChange:()=>this.onSetPrimaryKey(e.index,e.value),type:"checkbox"})),e.push(e=>r.createElement(o.StyledRemoveIcon,{onClick:()=>this.onDeleteProperty(e.index,e.value),className:"fa fa-trash"}));let{availableProperties:n}=this.state;return{data:n.map(e=>({ColumnName:e,PropertyName:e,AsKey:e,Remove:e})),cells:e}}render(){let{data:e,cells:t}=this.generateCellAndData(),{propertiesCanUse:n,availableProperties:a}=this.state;return r.createElement(o.StyledPropertyContainer,{left:this.props.x,top:this.props.y},r.createElement(o.StyledPropertyHeader,null,r.createElement(i.default,{if:"node"==this.state.type},r.createElement(o.StyledLabel,null,"Edit Label")),r.createElement(i.default,{if:"relationship"==this.state.type},r.createElement(o.StyledLabel,null,"Edit Relationship")),r.createElement(o.StyledSpan,{onClick:()=>this.onClose()},r.createElement(o.StyledCloseIcon,{className:"fa fa-times-circle"}))),r.createElement(o.StyledPropertyBody,null,r.createElement(o.StyledWrapper,{padding:5,direction:"row"},r.createElement(o.StyledLabel,null,"Label Name"),r.createElement(o.StyledInput,{onChange:e=>this.onLabelChange(e.target.value),value:this.state.label}),r.createElement(o.StyledButton,{onClick:()=>this.onAddAllColums()},"Add All Column")),r.createElement(i.default,{if:n.length>0},r.createElement(o.StyledPropertyBox,null,n.map(e=>r.createElement(o.StyledPropertyGroup,{onClick:()=>this.onAddProperty(e),key:e},r.createElement(o.StyledSpan,null,e),r.createElement(o.StyledAddIcon,{className:"fa fa-plus"}))))),r.createElement(i.default,{if:a.length>0},r.createElement(s.default,{showPagination:!1,headerColor:"black",cells:t,contents:e}))))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(285);t.StyledWrapper=r.default.div`
     display:flex;
     align-items: center;
     padding:${e=>e.padding}px;
     flex-direction:${e=>e.direction?e.direction:"row"};
`,t.StyledPropertyBox=r.default.div`
    display:inline-block;
    border: 1px solid gray;
    width: 100%;
    overflow: scroll;
    height: 100px;
`,t.StyledPropertyGroup=r.default.div`
    display:inline-block;
    cursor: pointer;
    margin:5px;
`,t.StyledPropertyContainer=r.default.div`
    position: absolute;
    color:black;
    border: 1px solid gray;
    border-radius: 3px;
    display:flex;
    z-index: 1;
    padding: 5px;
    flex-direction: column;
    width: 400px;
    height: 400px;
    background: lightgray;
    left:${e=>e.left+"px"};
    top:${e=>e.top+"px"};
`,t.StyledPropertyHeader=r.default.div`
    font-size: 18px;
    color: gray;
    padding: 10px;
    border-bottom: 1px solid rgba(223, 230, 233,1.0)
`,t.StyledPropertyBody=r.default.div`
    flex: 1;
    overflow: auto;
`,t.StyledSpan=r.default.span`
    color:black;
`,t.StyledLabel=r.default.span`
    color:black;
`,t.StyledCheck=r.default.input`

`,t.StyledButton=r.default.button`
    margin:0px
`,t.StyledCloseIcon=r.default.i`
    cursor: pointer;
    float:right;
`,t.StyledAddIcon=r.default.i`
    cursor: pointer;
    margin-left: 5px;
`,t.StyledRemoveIcon=r.default.i`
    cursor: pointer;
    color:black;
`,t.StyledInput=r.default.input`
    margin-left: 10px;
    background: transparent;
    border-width: 0 0 1px;
    border-color: gray;
    flex:1;
    margin-left: 5px;
    margin-right: 5px;
    color:gray;
`},function(e,t,n){var r;r=function e(t){"use strict";var n=/^\0+/g,r=/[\0\r\f]/g,i=/: */g,o=/zoo|gra/,a=/([,: ])(transform)/g,s=/,+\s*(?![^(]*[)])/g,u=/ +\s*(?![^(]*[)])/g,l=/ *[\0] */g,c=/,\r+?/g,d=/([\t\r\n ])*\f?&/g,f=/:global\(((?:[^\(\)\[\]]*|\[.*\]|\([^\(\)]*\))*)\)/g,h=/\W+/g,p=/@(k\w+)\s*(\S*)\s*/,m=/::(place)/g,g=/:(read-only)/g,y=/\s+(?=[{\];=:>])/g,v=/([[}=:>])\s+/g,b=/(\{[^{]+?);(?=\})/g,_=/\s{2,}/g,w=/([^\(])(:+) */g,k=/[svh]\w+-[tblr]{2}/,E=/\(\s*(.*)\s*\)/g,x=/([\s\S]*?);/g,S=/-self|flex-/g,M=/[^]*?(:[rp][el]a[\w-]+)[^]*/,T=/stretch|:\s*\w+\-(?:conte|avail)/,C=/([^-])(image-set\()/,A="-webkit-",O="-moz-",N="-ms-",L=59,j=125,P=123,D=40,I=41,R=91,F=93,Y=10,B=13,H=9,z=64,W=32,U=38,V=45,G=95,q=42,K=44,$=58,X=39,J=34,Q=47,Z=62,ee=43,te=126,ne=0,re=12,ie=11,oe=107,ae=109,se=115,ue=112,le=111,ce=105,de=99,fe=100,he=112,pe=1,me=1,ge=0,ye=1,ve=1,be=1,_e=0,we=0,ke=0,Ee=[],xe=[],Se=0,Me=null,Te=-2,Ce=-1,Ae=0,Oe=1,Ne=2,Le=3,je=0,Pe=1,De="",Ie="",Re="";function Fe(e,t,i,o,a){for(var s,u,c=0,d=0,f=0,h=0,y=0,v=0,b=0,_=0,k=0,x=0,S=0,M=0,T=0,C=0,G=0,_e=0,xe=0,Me=0,Te=0,Ce=i.length,Be=Ce-1,Ge="",qe="",Ke="",$e="",Xe="",Je="";G<Ce;){if(b=i.charCodeAt(G),G===Be&&d+h+f+c!==0&&(0!==d&&(b=d===Q?Y:Q),h=f=c=0,Ce++,Be++),d+h+f+c===0){if(G===Be&&(_e>0&&(qe=qe.replace(r,"")),qe.trim().length>0)){switch(b){case W:case H:case L:case B:case Y:break;default:qe+=i.charAt(G)}b=L}if(1===xe)switch(b){case P:case j:case L:case J:case X:case D:case I:case K:xe=0;case H:case B:case Y:case W:break;default:for(xe=0,Te=G,y=b,G--,b=L;Te<Ce;)switch(i.charCodeAt(Te++)){case Y:case B:case L:++G,b=y,Te=Ce;break;case $:_e>0&&(++G,b=y);case P:Te=Ce}}switch(b){case P:for(y=(qe=qe.trim()).charCodeAt(0),S=1,Te=++G;G<Ce;){switch(b=i.charCodeAt(G)){case P:S++;break;case j:S--;break;case Q:switch(v=i.charCodeAt(G+1)){case q:case Q:G=Ve(v,G,Be,i)}break;case R:b++;case D:b++;case J:case X:for(;G++<Be&&i.charCodeAt(G)!==b;);}if(0===S)break;G++}switch(Ke=i.substring(Te,G),y===ne&&(y=(qe=qe.replace(n,"").trim()).charCodeAt(0)),y){case z:switch(_e>0&&(qe=qe.replace(r,"")),v=qe.charCodeAt(1)){case fe:case ae:case se:case V:s=t;break;default:s=Ee}if(Te=(Ke=Fe(t,s,Ke,v,a+1)).length,ke>0&&0===Te&&(Te=qe.length),Se>0&&(s=Ye(Ee,qe,Me),u=Ue(Le,Ke,s,t,me,pe,Te,v,a,o),qe=s.join(""),void 0!==u&&0===(Te=(Ke=u.trim()).length)&&(v=0,Ke="")),Te>0)switch(v){case se:qe=qe.replace(E,We);case fe:case ae:case V:Ke=qe+"{"+Ke+"}";break;case oe:Ke=(qe=qe.replace(p,"$1 $2"+(Pe>0?De:"")))+"{"+Ke+"}",Ke=1===ve||2===ve&&ze("@"+Ke,3)?"@"+A+Ke+"@"+Ke:"@"+Ke;break;default:Ke=qe+Ke,o===he&&($e+=Ke,Ke="")}else Ke="";break;default:Ke=Fe(t,Ye(t,qe,Me),Ke,o,a+1)}Xe+=Ke,M=0,xe=0,C=0,_e=0,Me=0,T=0,qe="",Ke="",b=i.charCodeAt(++G);break;case j:case L:if((Te=(qe=(_e>0?qe.replace(r,""):qe).trim()).length)>1)switch(0===C&&((y=qe.charCodeAt(0))===V||y>96&&y<123)&&(Te=(qe=qe.replace(" ",":")).length),Se>0&&void 0!==(u=Ue(Oe,qe,t,e,me,pe,$e.length,o,a,o))&&0===(Te=(qe=u.trim()).length)&&(qe="\0\0"),y=qe.charCodeAt(0),v=qe.charCodeAt(1),y){case ne:break;case z:if(v===ce||v===de){Je+=qe+i.charAt(G);break}default:if(qe.charCodeAt(Te-1)===$)break;$e+=He(qe,y,v,qe.charCodeAt(2))}M=0,xe=0,C=0,_e=0,Me=0,qe="",b=i.charCodeAt(++G)}}switch(b){case B:case Y:if(d+h+f+c+we===0)switch(x){case I:case X:case J:case z:case te:case Z:case q:case ee:case Q:case V:case $:case K:case L:case P:case j:break;default:C>0&&(xe=1)}d===Q?d=0:ye+M===0&&o!==oe&&qe.length>0&&(_e=1,qe+="\0"),Se*je>0&&Ue(Ae,qe,t,e,me,pe,$e.length,o,a,o),pe=1,me++;break;case L:case j:if(d+h+f+c===0){pe++;break}default:switch(pe++,Ge=i.charAt(G),b){case H:case W:if(h+c+d===0)switch(_){case K:case $:case H:case W:Ge="";break;default:b!==W&&(Ge=" ")}break;case ne:Ge="\\0";break;case re:Ge="\\f";break;case ie:Ge="\\v";break;case U:h+d+c===0&&ye>0&&(Me=1,_e=1,Ge="\f"+Ge);break;case 108:if(h+d+c+ge===0&&C>0)switch(G-C){case 2:_===ue&&i.charCodeAt(G-3)===$&&(ge=_);case 8:k===le&&(ge=k)}break;case $:h+d+c===0&&(C=G);break;case K:d+f+h+c===0&&(_e=1,Ge+="\r");break;case J:case X:0===d&&(h=h===b?0:0===h?b:h);break;case R:h+d+f===0&&c++;break;case F:h+d+f===0&&c--;break;case I:h+d+c===0&&f--;break;case D:if(h+d+c===0){if(0===M)switch(2*_+3*k){case 533:break;default:S=0,M=1}f++}break;case z:d+f+h+c+C+T===0&&(T=1);break;case q:case Q:if(h+c+f>0)break;switch(d){case 0:switch(2*b+3*i.charCodeAt(G+1)){case 235:d=Q;break;case 220:Te=G,d=q}break;case q:b===Q&&_===q&&Te+2!==G&&(33===i.charCodeAt(Te+2)&&($e+=i.substring(Te,G+1)),Ge="",d=0)}}if(0===d){if(ye+h+c+T===0&&o!==oe&&b!==L)switch(b){case K:case te:case Z:case ee:case I:case D:if(0===M){switch(_){case H:case W:case Y:case B:Ge+="\0";break;default:Ge="\0"+Ge+(b===K?"":"\0")}_e=1}else switch(b){case D:C+7===G&&108===_&&(C=0),M=++S;break;case I:0==(M=--S)&&(_e=1,Ge+="\0")}break;case H:case W:switch(_){case ne:case P:case j:case L:case K:case re:case H:case W:case Y:case B:break;default:0===M&&(_e=1,Ge+="\0")}}qe+=Ge,b!==W&&b!==H&&(x=b)}}k=_,_=b,G++}if(Te=$e.length,ke>0&&0===Te&&0===Xe.length&&0===t[0].length==0&&(o!==ae||1===t.length&&(ye>0?Ie:Re)===t[0])&&(Te=t.join(",").length+2),Te>0){if(s=0===ye&&o!==oe?function(e){for(var t,n,i=0,o=e.length,a=Array(o);i<o;++i){for(var s=e[i].split(l),u="",c=0,d=0,f=0,h=0,p=s.length;c<p;++c)if(!(0===(d=(n=s[c]).length)&&p>1)){if(f=u.charCodeAt(u.length-1),h=n.charCodeAt(0),t="",0!==c)switch(f){case q:case te:case Z:case ee:case W:case D:break;default:t=" "}switch(h){case U:n=t+Ie;case te:case Z:case ee:case W:case I:case D:break;case R:n=t+n+Ie;break;case $:switch(2*n.charCodeAt(1)+3*n.charCodeAt(2)){case 530:if(be>0){n=t+n.substring(8,d-1);break}default:(c<1||s[c-1].length<1)&&(n=t+Ie+n)}break;case K:t="";default:n=d>1&&n.indexOf(":")>0?t+n.replace(w,"$1"+Ie+"$2"):t+n+Ie}u+=n}a[i]=u.replace(r,"").trim()}return a}(t):t,Se>0&&void 0!==(u=Ue(Ne,$e,s,e,me,pe,Te,o,a,o))&&0===($e=u).length)return Je+$e+Xe;if($e=s.join(",")+"{"+$e+"}",ve*ge!=0){switch(2!==ve||ze($e,2)||(ge=0),ge){case le:$e=$e.replace(g,":"+O+"$1")+$e;break;case ue:$e=$e.replace(m,"::"+A+"input-$1")+$e.replace(m,"::"+O+"$1")+$e.replace(m,":"+N+"input-$1")+$e}ge=0}}return Je+$e+Xe}function Ye(e,t,n){var r=t.trim().split(c),i=r,o=r.length,a=e.length;switch(a){case 0:case 1:for(var s=0,u=0===a?"":e[0]+" ";s<o;++s)i[s]=Be(u,i[s],n,a).trim();break;default:s=0;var l=0;for(i=[];s<o;++s)for(var d=0;d<a;++d)i[l++]=Be(e[d]+" ",r[s],n,a).trim()}return i}function Be(e,t,n,r){var i=t,o=i.charCodeAt(0);switch(o<33&&(o=(i=i.trim()).charCodeAt(0)),o){case U:switch(ye+r){case 0:case 1:if(0===e.trim().length)break;default:return i.replace(d,"$1"+e.trim())}break;case $:switch(i.charCodeAt(1)){case 103:if(be>0&&ye>0)return i.replace(f,"$1").replace(d,"$1"+Re);break;default:return e.trim()+i.replace(d,"$1"+e.trim())}default:if(n*ye>0&&i.indexOf("\f")>0)return i.replace(d,(e.charCodeAt(0)===$?"":"$1")+e.trim())}return e+i}function He(e,t,n,r){var l,c=0,d=e+";",f=2*t+3*n+4*r;if(944===f)return function(e){var t=e.length,n=e.indexOf(":",9)+1,r=e.substring(0,n).trim(),i=e.substring(n,t-1).trim();switch(e.charCodeAt(9)*Pe){case 0:break;case V:if(110!==e.charCodeAt(10))break;default:var o=i.split((i="",s)),a=0;for(n=0,t=o.length;a<t;n=0,++a){for(var l=o[a],c=l.split(u);l=c[n];){var d=l.charCodeAt(0);if(1===Pe&&(d>z&&d<90||d>96&&d<123||d===G||d===V&&l.charCodeAt(1)!==V))switch(isNaN(parseFloat(l))+(-1!==l.indexOf("("))){case 1:switch(l){case"infinite":case"alternate":case"backwards":case"running":case"normal":case"forwards":case"both":case"none":case"linear":case"ease":case"ease-in":case"ease-out":case"ease-in-out":case"paused":case"reverse":case"alternate-reverse":case"inherit":case"initial":case"unset":case"step-start":case"step-end":break;default:l+=De}}c[n++]=l}i+=(0===a?"":",")+c.join(" ")}}return i=r+i+";",1===ve||2===ve&&ze(i,1)?A+i+i:i}(d);if(0===ve||2===ve&&!ze(d,1))return d;switch(f){case 1015:return 97===d.charCodeAt(10)?A+d+d:d;case 951:return 116===d.charCodeAt(3)?A+d+d:d;case 963:return 110===d.charCodeAt(5)?A+d+d:d;case 1009:if(100!==d.charCodeAt(4))break;case 969:case 942:return A+d+d;case 978:return A+d+O+d+d;case 1019:case 983:return A+d+O+d+N+d+d;case 883:return d.charCodeAt(8)===V?A+d+d:d.indexOf("image-set(",11)>0?d.replace(C,"$1"+A+"$2")+d:d;case 932:if(d.charCodeAt(4)===V)switch(d.charCodeAt(5)){case 103:return A+"box-"+d.replace("-grow","")+A+d+N+d.replace("grow","positive")+d;case 115:return A+d+N+d.replace("shrink","negative")+d;case 98:return A+d+N+d.replace("basis","preferred-size")+d}return A+d+N+d+d;case 964:return A+d+N+"flex-"+d+d;case 1023:if(99!==d.charCodeAt(8))break;return l=d.substring(d.indexOf(":",15)).replace("flex-","").replace("space-between","justify"),A+"box-pack"+l+A+d+N+"flex-pack"+l+d;case 1005:return o.test(d)?d.replace(i,":"+A)+d.replace(i,":"+O)+d:d;case 1e3:switch(c=(l=d.substring(13).trim()).indexOf("-")+1,l.charCodeAt(0)+l.charCodeAt(c)){case 226:l=d.replace(k,"tb");break;case 232:l=d.replace(k,"tb-rl");break;case 220:l=d.replace(k,"lr");break;default:return d}return A+d+N+l+d;case 1017:if(-1===d.indexOf("sticky",9))return d;case 975:switch(c=(d=e).length-10,f=(l=(33===d.charCodeAt(c)?d.substring(0,c):d).substring(e.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|l.charCodeAt(7))){case 203:if(l.charCodeAt(8)<111)break;case 115:d=d.replace(l,A+l)+";"+d;break;case 207:case 102:d=d.replace(l,A+(f>102?"inline-":"")+"box")+";"+d.replace(l,A+l)+";"+d.replace(l,N+l+"box")+";"+d}return d+";";case 938:if(d.charCodeAt(5)===V)switch(d.charCodeAt(6)){case 105:return l=d.replace("-items",""),A+d+A+"box-"+l+N+"flex-"+l+d;case 115:return A+d+N+"flex-item-"+d.replace(S,"")+d;default:return A+d+N+"flex-line-pack"+d.replace("align-content","").replace(S,"")+d}break;case 973:case 989:if(d.charCodeAt(3)!==V||122===d.charCodeAt(4))break;case 931:case 953:if(!0===T.test(e))return 115===(l=e.substring(e.indexOf(":")+1)).charCodeAt(0)?He(e.replace("stretch","fill-available"),t,n,r).replace(":fill-available",":stretch"):d.replace(l,A+l)+d.replace(l,O+l.replace("fill-",""))+d;break;case 962:if(d=A+d+(102===d.charCodeAt(5)?N+d:"")+d,n+r===211&&105===d.charCodeAt(13)&&d.indexOf("transform",10)>0)return d.substring(0,d.indexOf(";",27)+1).replace(a,"$1"+A+"$2")+d}return d}function ze(e,t){var n=e.indexOf(1===t?":":"{"),r=e.substring(0,3!==t?n:10),i=e.substring(n+1,e.length-1);return Me(2!==t?r:r.replace(M,"$1"),i,t)}function We(e,t){var n=He(t,t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2));return n!==t+";"?n.replace(x," or ($1)").substring(4):"("+t+")"}function Ue(e,t,n,r,i,o,a,s,u,l){for(var c,d=0,f=t;d<Se;++d)switch(c=xe[d].call(qe,e,f,n,r,i,o,a,s,u,l)){case void 0:case!1:case!0:case null:break;default:f=c}if(f!==t)return f}function Ve(e,t,n,r){for(var i=t+1;i<n;++i)switch(r.charCodeAt(i)){case Q:if(e===q&&r.charCodeAt(i-1)===q&&t+2!==i)return i+1;break;case Y:if(e===Q)return i+1}return i}function Ge(e){for(var t in e){var n=e[t];switch(t){case"keyframe":Pe=0|n;break;case"global":be=0|n;break;case"cascade":ye=0|n;break;case"compress":_e=0|n;break;case"semicolon":we=0|n;break;case"preserve":ke=0|n;break;case"prefix":Me=null,n?"function"!=typeof n?ve=1:(ve=2,Me=n):ve=0}}return Ge}function qe(t,n){if(void 0!==this&&this.constructor===qe)return e(t);var i=t,o=i.charCodeAt(0);o<33&&(o=(i=i.trim()).charCodeAt(0)),Pe>0&&(De=i.replace(h,o===R?"":"-")),o=1,1===ye?Re=i:Ie=i;var a,s=[Re];Se>0&&void 0!==(a=Ue(Ce,n,s,s,me,pe,0,0,0,0))&&"string"==typeof a&&(n=a);var u=Fe(Ee,s,n,0,0);return Se>0&&void 0!==(a=Ue(Te,u,s,s,me,pe,u.length,0,0,0))&&"string"!=typeof(u=a)&&(o=0),De="",Re="",Ie="",ge=0,me=1,pe=1,_e*o==0?u:u.replace(r,"").replace(y,"").replace(v,"$1").replace(b,"$1").replace(_," ")}return qe.use=function e(t){switch(t){case void 0:case null:Se=xe.length=0;break;default:if("function"==typeof t)xe[Se++]=t;else if("object"==typeof t)for(var n=0,r=t.length;n<r;++n)e(t[n]);else je=0|!!t}return e},qe.set=Ge,void 0!==t&&Ge(t),qe},e.exports=r(null)},function(e,t,n){"use strict";t.a={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1}},function(e,t,n){"use strict";var r=function(e,t){return e===t};t.a=function(e,t){var n;void 0===t&&(t=r);var i,o=[],a=!1,s=function(e,n){return t(e,o[n])};return function(){for(var t=arguments.length,r=new Array(t),u=0;u<t;u++)r[u]=arguments[u];return a&&n===this&&r.length===o.length&&r.every(s)?i:(i=e.apply(this,r),a=!0,n=this,o=r,i)}}},function(e,t,n){"use strict";var r=n(1753),i=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|default|defer|dir|disabled|download|draggable|encType|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|itemProp|itemScope|itemType|itemID|itemRef|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,o=Object(r.a)(function(e){return i.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91});t.a=o},function(e,t,n){"use strict";t.a=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1),i=e=>r.createElement("button",Object.assign({},e),e.children);t.default=class extends r.Component{constructor(e){super(e),this.changePage=this.changePage.bind(this),this.state={visiblePages:this.getVisiblePages(null,e.pages)}}componentWillReceiveProps(e){this.props.pages!==e.pages&&this.setState({visiblePages:this.getVisiblePages(null,e.pages)}),this.changePage(e.page+1)}filterPages(e,t){return e.filter(e=>e<=t)}getVisiblePages(e,t){return t<7?this.filterPages([1,2,3,4,5,6],t):e%5>=0&&e>4&&e+2<t?[1,e-1,e,e+1,t]:e%5>=0&&e>4&&e+2>=t?[1,t-3,t-2,t-1,t]:[1,2,3,4,5,t]}changePage(e){if(e===this.props.page+1)return;const t=this.getVisiblePages(e,this.props.pages);this.setState({visiblePages:this.filterPages(t,this.props.pages)}),this.props.onPageChange(e-1)}render(){const{PageButtonComponent:e=i}=this.props,{visiblePages:t}=this.state,n=this.props.page+1;return r.createElement("div",{className:"Table__pagination"},r.createElement("div",{className:"Table__prevPageWrapper"},r.createElement(e,{className:"Table__pageButton",onClick:()=>{1!==n&&this.changePage(n-1)},disabled:1===n},this.props.previousText)),r.createElement("div",{className:"Table__visiblePagesWrapper"},t.map((t,i,o)=>r.createElement(e,{key:t,className:n===t?"Table__pageButton Table__pageButton--active":"Table__pageButton",onClick:this.changePage.bind(null,t)},o[i-1]+2<t?`...${t}`:t))),r.createElement("div",{className:"Table__nextPageWrapper"},r.createElement(e,{className:"Table__pageButton",onClick:()=>{n!==this.props.pages&&this.changePage(n+1)},disabled:n===this.props.pages},this.props.nextText)))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(285),i=n(1756);n(1762),t.StyledTable=r.default(i.default).attrs({className:"ReactTable"})`
  &&& {
    height: 100%;
    border-top: 1px solid gray;
    color: white;
  }

  .Table__itemCount {
    font-size: 16px;
  }
  
.Table__pagination {
    display: flex;
    border-top: 1px solid rgba(255, 255, 255, 0.3);
    justify-content: flex-end;
    padding: 10px 10px;
  }
  
.Table__pageButton {
    font-size: 15px;
    outline: none;
    border: none;
    color: white;
    background-color: transparent;
    cursor: pointer;
  }
  
.Table__pageButton:disabled {
    cursor: not-allowed;
    color: gray;
  }
  
.Table__pageButton--active {
    color: #45b3e3;
    font-weight: bold;
}

.rt-thead{
    color:${e=>e.headerColor}
}

`,t.StyledWrapper=r.default.div`
    position:relative;
    display:flex;
    flex:1;
    background:${e=>e.background};
    height: ${e=>e.height?e.height+"px":null};
    flex-direction: column;
    left: 0px;
    top: 0px;
    color: white;
`},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"ReactTableDefaults",function(){return m});var r=n(1),i=n.n(r),o=n(8),a=n.n(o),s=n(635),u=n(1757),l=n(1758),c=n(1759),d=n(1761),f=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var m=c.a,g=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.getResolvedState=n.getResolvedState.bind(n),n.getDataModel=n.getDataModel.bind(n),n.getSortedData=n.getSortedData.bind(n),n.fireFetchData=n.fireFetchData.bind(n),n.getPropOrState=n.getPropOrState.bind(n),n.getStateOrProp=n.getStateOrProp.bind(n),n.filterData=n.filterData.bind(n),n.sortData=n.sortData.bind(n),n.getMinRows=n.getMinRows.bind(n),n.onPageChange=n.onPageChange.bind(n),n.onPageSizeChange=n.onPageSizeChange.bind(n),n.sortColumn=n.sortColumn.bind(n),n.filterColumn=n.filterColumn.bind(n),n.resizeColumnStart=n.resizeColumnStart.bind(n),n.resizeColumnEnd=n.resizeColumnEnd.bind(n),n.resizeColumnMoving=n.resizeColumnMoving.bind(n),n.state={page:e.defaultPage,pageSize:e.defaultPageSize,sorted:e.defaultSorted,expanded:e.defaultExpanded,filtered:e.defaultFiltered,resized:e.defaultResized,currentlyResizing:!1,skipNextSort:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,Object(l["a"])(Object(u["a"])(r["Component"]))),p(t,[{key:"render",value:function(){var e=this,t=this.getResolvedState(),n=t.children,r=t.className,o=t.style,u=t.getProps,l=t.getTableProps,d=t.getTheadGroupProps,p=t.getTheadGroupTrProps,m=t.getTheadGroupThProps,g=t.getTheadProps,y=t.getTheadTrProps,v=t.getTheadThProps,b=t.getTheadFilterProps,_=t.getTheadFilterTrProps,w=t.getTheadFilterThProps,k=t.getTbodyProps,E=t.getTrGroupProps,x=t.getTrProps,S=t.getTdProps,M=t.getTfootProps,T=t.getTfootTrProps,C=t.getTfootTdProps,A=t.getPaginationProps,O=t.getLoadingProps,N=t.getNoDataProps,L=t.getResizerProps,j=t.showPagination,P=t.showPaginationTop,D=t.showPaginationBottom,I=t.manual,R=t.loadingText,F=t.noDataText,Y=t.sortable,B=t.multiSort,H=t.resizable,z=t.filterable,W=t.pivotIDKey,U=t.pivotValKey,V=t.pivotBy,G=t.subRowsKey,q=t.aggregatedKey,K=t.originalKey,$=t.indexKey,X=t.groupedByPivotKey,J=t.loading,Q=t.pageSize,Z=t.page,ee=t.sorted,te=t.filtered,ne=t.resized,re=t.expanded,ie=t.pages,oe=t.onExpandedChange,ae=t.TableComponent,se=t.TheadComponent,ue=t.TbodyComponent,le=t.TrGroupComponent,ce=t.TrComponent,de=t.ThComponent,fe=t.TdComponent,he=t.TfootComponent,pe=t.PaginationComponent,me=t.LoadingComponent,ge=t.SubComponent,ye=t.NoDataComponent,ve=t.ResizerComponent,be=t.ExpanderComponent,_e=t.PivotValueComponent,we=t.PivotComponent,ke=t.AggregatedComponent,Ee=t.FilterComponent,xe=t.PadRowComponent,Se=t.resolvedData,Me=t.allVisibleColumns,Te=t.headerGroups,Ce=t.hasHeaderGroups,Ae=t.sortedData,Oe=t.currentlyResizing,Ne=Q*Z,Le=Ne+Q,je=I?Se:Ae.slice(Ne,Le),Pe=this.getMinRows(),De=s.a.range(Math.max(Pe-je.length,0)),Ie=Me.some(function(e){return e.Footer}),Re=z||Me.some(function(e){return e.filterable}),Fe=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;return[t.map(function(t,i){var o=h({},t,{_viewIndex:r+=1}),a=n.concat([i]);if(o[G]&&s.a.get(re,a)){var u=e(o[G],a,r),l=f(u,2);o[G]=l[0],r=l[1]}return o}),r]}(je),Ye=f(Fe,1);je=Ye[0];var Be=Z>0,He=Z+1<ie,ze=s.a.sum(Me.map(function(e){var t=ne.find(function(t){return t.id===e.id})||{};return s.a.getFirstDefined(t.value,e.width,e.minWidth)})),We=-1,Ue=h({},t,{startRow:Ne,endRow:Le,pageRows:je,minRows:Pe,padRows:De,hasColumnFooter:Ie,canPrevious:Be,canNext:He,rowMinWidth:ze}),Ve=s.a.splitProps(u(Ue,void 0,void 0,this)),Ge=s.a.splitProps(l(Ue,void 0,void 0,this)),qe=s.a.splitProps(k(Ue,void 0,void 0,this)),Ke=O(Ue,void 0,void 0,this),$e=N(Ue,void 0,void 0,this),Xe=function(t,n){var r=function(e){return(ne.find(function(t){return t.id===e.id})||{}).value},o=s.a.sum(t.columns.map(function(e){return e.width||r(e)?0:e.minWidth})),u=s.a.sum(t.columns.map(function(e){return s.a.getFirstDefined(r(e),e.width,e.minWidth)})),l=s.a.sum(t.columns.map(function(e){return s.a.getFirstDefined(r(e),e.width,e.maxWidth)})),c=s.a.splitProps(m(Ue,void 0,t,e)),d=s.a.splitProps(t.getHeaderProps(Ue,void 0,t,e)),f=[t.headerClassName,c.className,d.className],p=h({},t.headerStyle,c.style,d.style),g=h({},c.rest,d.rest),y={flex:o+" 0 auto",width:s.a.asPx(u),maxWidth:s.a.asPx(l)};return i.a.createElement(de,h({key:n+"-"+t.id,className:a()(f),style:h({},p,y)},g),s.a.normalizeComponent(t.Header,{data:Ae,column:t}))},Je=function(t,n){var r=ne.find(function(e){return e.id===t.id})||{},o=ee.find(function(e){return e.id===t.id}),u="function"==typeof t.show?t.show():t.show,l=s.a.getFirstDefined(r.value,t.width,t.minWidth),c=s.a.getFirstDefined(r.value,t.width,t.maxWidth),d=s.a.splitProps(v(Ue,void 0,t,e)),f=s.a.splitProps(t.getHeaderProps(Ue,void 0,t,e)),p=[t.headerClassName,d.className,f.className],m=h({},t.headerStyle,d.style,f.style),g=h({},d.rest,f.rest),y=s.a.getFirstDefined(t.resizable,H,!1),b=y?i.a.createElement(ve,h({onMouseDown:function(n){return e.resizeColumnStart(n,t,!1)},onTouchStart:function(n){return e.resizeColumnStart(n,t,!0)}},L("finalState",void 0,t,e))):null,_=s.a.getFirstDefined(t.sortable,Y,!1);return i.a.createElement(de,h({key:n+"-"+t.id,className:a()(p,y&&"rt-resizable-header",o?o.desc?"-sort-desc":"-sort-asc":"",_&&"-cursor-pointer",!u&&"-hidden",V&&V.slice(0,-1).includes(t.id)&&"rt-header-pivot"),style:h({},m,{flex:l+" 0 auto",width:s.a.asPx(l),maxWidth:s.a.asPx(c)}),toggleSort:function(n){_&&e.sortColumn(t,!!B&&n.shiftKey)}},g),i.a.createElement("div",{className:a()(y&&"rt-resizable-header-content")},s.a.normalizeComponent(t.Header,{data:Ae,column:t})),b)},Qe=function(t,n){var r=ne.find(function(e){return e.id===t.id})||{},o=s.a.getFirstDefined(r.value,t.width,t.minWidth),u=s.a.getFirstDefined(r.value,t.width,t.maxWidth),l=s.a.splitProps(w(Ue,void 0,t,e)),d=s.a.splitProps(t.getHeaderProps(Ue,void 0,t,e)),f=[t.headerClassName,l.className,d.className],p=h({},t.headerStyle,l.style,d.style),m=h({},l.rest,d.rest),g=te.find(function(e){return e.id===t.id}),y=t.Filter||Ee,v=s.a.getFirstDefined(t.filterable,z,!1);return i.a.createElement(de,h({key:n+"-"+t.id,className:a()(f),style:h({},p,{flex:o+" 0 auto",width:s.a.asPx(o),maxWidth:s.a.asPx(u)})},m),v?s.a.normalizeComponent(y,{column:t,filter:g,onChange:function(n){return e.filterColumn(t,n)}},c.a.column.Filter):null)},Ze=function(t,n){var r=ne.find(function(e){return e.id===t.id})||{},o="function"==typeof t.show?t.show():t.show,u=s.a.getFirstDefined(r.value,t.width,t.minWidth),l=u,c=s.a.getFirstDefined(r.value,t.width,t.maxWidth),d=s.a.splitProps(S(Ue,void 0,t,e)),f=s.a.splitProps(t.getProps(Ue,void 0,t,e)),p=[d.className,t.className,f.className],m=h({},d.style,t.style,f.style);return i.a.createElement(fe,h({key:n+"-"+t.id,className:a()(p,!o&&"hidden"),style:h({},m,{flex:l+" 0 auto",width:s.a.asPx(u),maxWidth:s.a.asPx(c)})},d.rest),s.a.normalizeComponent(xe))},et=function(t,n){var r=E(Ue,void 0,void 0,e),o=s.a.splitProps(x(Ue,void 0,void 0,e));return i.a.createElement(le,h({key:"pad-"+n},r),i.a.createElement(ce,{className:a()("-padRow",(je.length+n)%2?"-even":"-odd",o.className),style:o.style||{}},Me.map(Ze)))},tt=function(t,n){var r=ne.find(function(e){return e.id===t.id})||{},o="function"==typeof t.show?t.show():t.show,u=s.a.getFirstDefined(r.value,t.width,t.minWidth),l=s.a.getFirstDefined(r.value,t.width,t.maxWidth),c=s.a.splitProps(C(Ue,void 0,void 0,e)),d=s.a.splitProps(t.getProps(Ue,void 0,t,e)),f=s.a.splitProps(t.getFooterProps(Ue,void 0,t,e)),p=[c.className,t.className,d.className,f.className],m=h({},c.style,t.style,d.style,f.style);return i.a.createElement(fe,h({key:n+"-"+t.id,className:a()(p,!o&&"hidden"),style:h({},m,{flex:u+" 0 auto",width:s.a.asPx(u),maxWidth:s.a.asPx(l)})},d.rest,c.rest,f.rest),s.a.normalizeComponent(t.Footer,{data:Ae,column:t}))},nt=function(n){var r=s.a.splitProps(A(Ue,void 0,void 0,e));return i.a.createElement(pe,h({},t,{pages:ie,canPrevious:Be,canNext:He,onPageChange:e.onPageChange,onPageSizeChange:e.onPageSizeChange,className:r.className,style:r.style,isTop:n},r.rest))},rt=function(){return i.a.createElement("div",h({className:a()("ReactTable",r,Ve.className),style:h({},o,Ve.style)},Ve.rest),j&&P?i.a.createElement("div",{className:"pagination-top"},nt(!0)):null,i.a.createElement(ae,h({className:a()(Ge.className,Oe?"rt-resizing":""),style:Ge.style},Ge.rest),Ce?(m=s.a.splitProps(d(Ue,void 0,void 0,e)),v=s.a.splitProps(p(Ue,void 0,void 0,e)),i.a.createElement(se,h({className:a()("-headerGroups",m.className),style:h({},m.style,{minWidth:ze+"px"})},m.rest),i.a.createElement(ce,h({className:v.className,style:v.style},v.rest),Te.map(Xe)))):null,(c=s.a.splitProps(g(Ue,void 0,void 0,e)),f=s.a.splitProps(y(Ue,void 0,void 0,e)),i.a.createElement(se,h({className:a()("-header",c.className),style:h({},c.style,{minWidth:ze+"px"})},c.rest),i.a.createElement(ce,h({className:f.className,style:f.style},f.rest),Me.map(Je)))),Re?(u=s.a.splitProps(b(Ue,void 0,void 0,e)),l=s.a.splitProps(_(Ue,void 0,void 0,e)),i.a.createElement(se,h({className:a()("-filters",u.className),style:h({},u.style,{minWidth:ze+"px"})},u.rest),i.a.createElement(ce,h({className:l.className,style:l.style},l.rest),Me.map(Qe)))):null,i.a.createElement(ue,h({className:a()(qe.className),style:h({},qe.style,{minWidth:ze+"px"})},qe.rest),je.map(function(t,n){return function t(n,r){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],u={original:n[K],row:n,index:n[$],viewIndex:We+=1,pageSize:Q,page:Z,level:o.length,nestingPath:o.concat([r]),aggregated:n[q],groupedByPivot:n[X],subRows:n[G]},l=s.a.get(re,u.nestingPath),c=E(Ue,u,void 0,e),d=s.a.splitProps(x(Ue,u,void 0,e));return i.a.createElement(le,h({key:u.nestingPath.join("_")},c),i.a.createElement(ce,h({className:a()(d.className,n._viewIndex%2?"-even":"-odd"),style:d.style},d.rest),Me.map(function(t,r){var o=ne.find(function(e){return e.id===t.id})||{},c="function"==typeof t.show?t.show():t.show,d=s.a.getFirstDefined(o.value,t.width,t.minWidth),f=s.a.getFirstDefined(o.value,t.width,t.maxWidth),p=s.a.splitProps(S(Ue,u,t,e)),m=s.a.splitProps(t.getProps(Ue,u,t,e)),g=[p.className,t.className,m.className],y=h({},p.style,t.style,m.style),v=h({},u,{isExpanded:l,column:h({},t),value:u.row[t.id],pivoted:t.pivoted,expander:t.expander,resized:ne,show:c,width:d,maxWidth:f,tdProps:p,columnProps:m,classes:g,styles:y}),b=v.value,_=void 0,w=void 0,k=void 0,E=s.a.normalizeComponent(t.Cell,v,b),x=t.Aggregated||(t.aggregate?t.Cell:ke),M=t.Expander||be,T=t.PivotValue||_e,C=we||function(e){return i.a.createElement("div",null,i.a.createElement(M,e),i.a.createElement(T,e))},A=t.Pivot||C;(v.pivoted||v.expander)&&(v.expandable=!0,_=!0,!v.pivoted||v.subRows||ge||(v.expandable=!1)),v.pivoted?(w=u.row[W]===t.id&&v.subRows,k=V.indexOf(t.id)>V.indexOf(u.row[W])&&v.subRows,E=w?s.a.normalizeComponent(A,h({},v,{value:n[U]}),n[U]):k?s.a.normalizeComponent(x,v,b):null):v.aggregated&&(E=s.a.normalizeComponent(x,v,b)),v.expander&&(E=s.a.normalizeComponent(M,v,n[U]),V&&(v.groupedByPivot&&(E=null),v.subRows||ge||(E=null)));var O=_?function(t){var n=s.a.clone(re);return n=l?s.a.set(n,v.nestingPath,!1):s.a.set(n,v.nestingPath,{}),e.setStateWithData({expanded:n},function(){return oe&&oe(n,v.nestingPath,t)})}:function(){},N={onClick:O};return p.rest.onClick&&(N.onClick=function(e){p.rest.onClick(e,function(){return O(e)})}),m.rest.onClick&&(N.onClick=function(e){m.rest.onClick(e,function(){return O(e)})}),i.a.createElement(fe,h({key:r+"-"+t.id,className:a()(g,!v.expandable&&!c&&"hidden",v.expandable&&"rt-expandable",(w||k)&&"rt-pivot"),style:h({},y,{flex:d+" 0 auto",width:s.a.asPx(d),maxWidth:s.a.asPx(f)})},p.rest,m.rest,N),E)})),u.subRows&&l&&u.subRows.map(function(e,n){return t(e,n,u.nestingPath)}),ge&&!u.subRows&&l&&ge(u,function(){var e=s.a.clone(re);s.a.set(e,u.nestingPath,!1)}))}(t,n)}),De.map(et)),Ie?(t=s.a.splitProps(M(Ue,void 0,void 0,e)),n=s.a.splitProps(T(Ue,void 0,void 0,e)),i.a.createElement(he,h({className:t.className,style:h({},t.style,{minWidth:ze+"px"})},t.rest),i.a.createElement(ce,h({className:a()(n.className),style:n.style},n.rest),Me.map(tt)))):null),j&&D?i.a.createElement("div",{className:"pagination-bottom"},nt(!1)):null,!je.length&&i.a.createElement(ye,$e,s.a.normalizeComponent(F)),i.a.createElement(me,h({loading:J,loadingText:R},Ke)));var t,n,u,l,c,f,m,v};return n?n(Ue,rt,this):rt()}}]),t}();g.propTypes=d.a,g.defaultProps=c.a,t.default=g},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.a=function(e){return function(t){function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,e),r(n,[{key:"componentWillMount",value:function(){this.setStateWithData(this.getDataModel(this.getResolvedState(),!0))}},{key:"componentDidMount",value:function(){this.fireFetchData()}},{key:"componentWillReceiveProps",value:function(e,t){var n=this.getResolvedState(),r=this.getResolvedState(e,t);["sorted","filtered","resized","expanded"].forEach(function(e){var t="default"+(e.charAt(0).toUpperCase()+e.slice(1));JSON.stringify(n[t])!==JSON.stringify(r[t])&&(r[e]=r[t])});["sortable","filterable","resizable"].forEach(function(e){if(n[e]!==r[e]){var t=e.replace("able","")+"ed",i="default"+(t.charAt(0).toUpperCase()+t.slice(1));r[t]=r[i]}}),n.data===r.data&&n.columns===r.columns&&n.pivotBy===r.pivotBy&&n.sorted===r.sorted&&n.filtered===r.filtered||this.setStateWithData(this.getDataModel(r,n.data!==r.data))}},{key:"setStateWithData",value:function(e,t){var n=this,r=this.getResolvedState(),i=this.getResolvedState({},e),o=i.freezeWhenExpanded;if(i.frozen=!1,o)for(var a=Object.keys(i.expanded),s=0;s<a.length;s+=1)if(i.expanded[a[s]]){i.frozen=!0;break}return(r.frozen&&!i.frozen||r.sorted!==i.sorted||r.filtered!==i.filtered||r.showFilters!==i.showFilters||!i.frozen&&r.resolvedData!==i.resolvedData)&&((r.sorted!==i.sorted&&this.props.collapseOnSortingChange||r.filtered!==i.filtered||r.showFilters!==i.showFilters||r.sortedData&&!i.frozen&&r.resolvedData!==i.resolvedData&&this.props.collapseOnDataChange)&&(i.expanded={}),Object.assign(i,this.getSortedData(i))),r.filtered!==i.filtered&&(i.page=0),i.sortedData&&(i.pages=i.manual?i.pages:Math.ceil(i.sortedData.length/i.pageSize),i.page=i.manual?i.page:Math.max(i.page>=i.pages?i.pages-1:i.page,0)),this.setState(i,function(){t&&t(),r.page===i.page&&r.pageSize===i.pageSize&&r.sorted===i.sorted&&r.filtered===i.filtered||n.fireFetchData()})}}]),n}()}},function(e,t,n){"use strict";var r=n(1),i=n.n(r),o=n(635),a=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}t.a=function(e){return function(t){function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,e),u(n,[{key:"getResolvedState",value:function(e,t){return s({},o.a.compactObject(this.state),o.a.compactObject(this.props),o.a.compactObject(t),o.a.compactObject(e))}},{key:"getDataModel",value:function(e,t){var n=this,r=e.columns,u=e.pivotBy,d=void 0===u?[]:u,f=e.data,h=e.resolveData,p=e.pivotIDKey,m=e.pivotValKey,g=e.subRowsKey,y=e.aggregatedKey,v=e.nestingLevelKey,b=e.originalKey,_=e.indexKey,w=e.groupedByPivotKey,k=e.SubComponent,E=!1;r.forEach(function(e){e.columns&&(E=!0)});var x=[].concat(c(r)),S=r.find(function(e){return e.expander||e.columns&&e.columns.some(function(e){return e.expander})});S&&!S.expander&&(S=S.columns.find(function(e){return e.expander})),k&&!S&&(x=[S={expander:!0}].concat(c(x)));var M=[],T=function(e,t){var r=function(e,t){var r=void 0;if((r=e.expander?s({},n.props.column,n.props.expanderDefaults,e):s({},n.props.column,e)).maxWidth<r.minWidth&&(r.minWidth=r.maxWidth),t&&(r.parentColumn=t),"string"==typeof r.accessor){r.id=r.id||r.accessor;var i=r.accessor;return r.accessor=function(e){return o.a.get(e,i)},r}if(r.accessor&&!r.id)throw console.warn(r),new Error("A column id is required if using a non-string accessor for column above.");return r.accessor||(r.accessor=function(){}),r}(e,t);return M.push(r),r},C=x.map(function(e){return e.columns?s({},e,{columns:e.columns.map(function(t){return T(t,e)})}):T(e)}).slice(),A=[],O=(C=(C=C.map(function(e){if(e.columns){var t=e.columns.filter(function(e){return!(d.indexOf(e.id)>-1)&&o.a.getFirstDefined(e.show,!0)});return s({},e,{columns:t})}return e})).filter(function(e){return e.columns?e.columns.length:!(d.indexOf(e.id)>-1)&&o.a.getFirstDefined(e.show,!0)})).findIndex(function(e){return e.pivot});if(d.length){var N=[];d.forEach(function(e){var t=M.find(function(t){return t.id===e});t&&N.push(t)});var L=N.reduce(function(e,t){return e&&e===t.parentColumn&&t.parentColumn},N[0].parentColumn),j=E&&L.Header,P={Header:j=j||function(){return i.a.createElement("strong",null,"Pivoted")},columns:N.map(function(e){return s({},n.props.pivotDefaults,e,{pivoted:!0})})};O>=0?(P=s({},C[O],P),C.splice(O,1,P)):C.unshift(P)}var D=[],I=[],R=function(e,t){D.push(s({},n.props.column,t,{columns:e})),I=[]};C.forEach(function(e){if(e.columns)return A=A.concat(e.columns),I.length>0&&R(I),void R(e.columns,e);A.push(e),I.push(e)}),E&&I.length>0&&R(I);var F=this.resolvedData;this.resolvedData&&!t||(F=h(f),this.resolvedData=F),F=F.map(function(e,t){return function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=(l(r={},b,t),l(r,_,n),l(r,g,t[g]),l(r,v,i),r);return M.forEach(function(e){e.expander||(o[e.id]=e.accessor(t))}),o[g]&&(o[g]=o[g].map(function(t,n){return e(t,n,i+1)})),o}(e,t)});var Y=A.filter(function(e){return!e.expander&&e.aggregate});if(d.length){F=function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(r===n.length)return t;var i=Object.entries(o.a.groupBy(t,n[r])).map(function(e){var t,i=a(e,2),o=i[0],s=i[1];return l(t={},p,n[r]),l(t,m,o),l(t,n[r],o),l(t,g,s),l(t,v,r),l(t,w,!0),t});return i=i.map(function(t){var i,o,a,u=e(t[g],n,r+1);return s({},t,(l(i={},g,u),l(i,y,!0),i),(o=u,a={},Y.forEach(function(e){var t=o.map(function(t){return t[e.id]});a[e.id]=e.aggregate(t,o)}),a))})}(F,d)}return s({},e,{resolvedData:F,allVisibleColumns:A,headerGroups:D,allDecoratedColumns:M,hasHeaderGroups:E})}},{key:"getSortedData",value:function(e){var t=e.manual,n=e.sorted,r=e.filtered,i=e.defaultFilterMethod,o=e.resolvedData,a=e.allVisibleColumns,s={};return e.allDecoratedColumns.filter(function(e){return e.sortMethod}).forEach(function(e){s[e.id]=e.sortMethod}),{sortedData:t?o:this.sortData(this.filterData(o,r,i,a),n,s)}}},{key:"fireFetchData",value:function(){var e=s({},this.getResolvedState(),{page:this.getStateOrProp("page"),pageSize:this.getStateOrProp("pageSize"),filter:this.getStateOrProp("filter")});this.props.onFetchData(e,this)}},{key:"getPropOrState",value:function(e){return o.a.getFirstDefined(this.props[e],this.state[e])}},{key:"getStateOrProp",value:function(e){return o.a.getFirstDefined(this.state[e],this.props[e])}},{key:"filterData",value:function(e,t,n,r){var i=this,o=e;return t.length&&(o=(o=t.reduce(function(e,t){var i=r.find(function(e){return e.id===t.id});if(!i||!1===i.filterable)return e;var o=i.filterMethod||n;return i.filterAll?o(t,e,i):e.filter(function(e){return o(t,e,i)})},o)).map(function(e){return e[i.props.subRowsKey]?s({},e,l({},i.props.subRowsKey,i.filterData(e[i.props.subRowsKey],t,n,r))):e}).filter(function(e){return!e[i.props.subRowsKey]||e[i.props.subRowsKey].length>0})),o}},{key:"sortData",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!t.length)return e;var i=(this.props.orderByMethod||o.a.orderBy)(e,t.map(function(e){return r[e.id]?function(t,n){return r[e.id](t[e.id],n[e.id],e.desc)}:function(t,r){return n.props.defaultSortMethod(t[e.id],r[e.id],e.desc)}}),t.map(function(e){return!e.desc}),this.props.indexKey);return i.forEach(function(e){e[n.props.subRowsKey]&&(e[n.props.subRowsKey]=n.sortData(e[n.props.subRowsKey],t,r))}),i}},{key:"getMinRows",value:function(){return o.a.getFirstDefined(this.props.minRows,this.getStateOrProp("pageSize"))}},{key:"onPageChange",value:function(e){var t=this.props,n=t.onPageChange,r=t.collapseOnPageChange,i={page:e};r&&(i.expanded={}),this.setStateWithData(i,function(){return n&&n(e)})}},{key:"onPageSizeChange",value:function(e){var t=this.props.onPageSizeChange,n=this.getResolvedState(),r=n.pageSize*n.page,i=Math.floor(r/e);this.setStateWithData({pageSize:e,page:i},function(){return t&&t(e,i)})}},{key:"sortColumn",value:function(e,t){var n=this.getResolvedState(),r=n.sorted,i=n.skipNextSort,a=n.defaultSortDesc,s=Object.prototype.hasOwnProperty.call(e,"defaultSortDesc")?e.defaultSortDesc:a,u=!s;if(i)this.setStateWithData({skipNextSort:!1});else{var l=this.props.onSortedChange,c=o.a.clone(r||[]).map(function(e){return e.desc=o.a.isSortingDesc(e),e});if(o.a.isArray(e)){var d=c.findIndex(function(t){return t.id===e[0].id});if(d>-1)c[d].desc===u?t?c.splice(d,e.length):e.forEach(function(e,t){c[d+t].desc=s}):e.forEach(function(e,t){c[d+t].desc=u}),t||(c=c.slice(d,e.length));else c=t?c.concat(e.map(function(e){return{id:e.id,desc:s}})):e.map(function(e){return{id:e.id,desc:s}})}else{var f=c.findIndex(function(t){return t.id===e.id});if(f>-1){var h=c[f];h.desc===u?t?c.splice(f,1):(h.desc=s,c=[h]):(h.desc=u,t||(c=[h]))}else t?c.push({id:e.id,desc:s}):c=[{id:e.id,desc:s}]}this.setStateWithData({page:!r.length&&c.length||!t?0:this.state.page,sorted:c},function(){return l&&l(c,e,t)})}}},{key:"filterColumn",value:function(e,t){var n=this.getResolvedState().filtered,r=this.props.onFilteredChange,i=(n||[]).filter(function(t){return t.id!==e.id});""!==t&&i.push({id:e.id,value:t}),this.setStateWithData({filtered:i},function(){return r&&r(i,e,t)})}},{key:"resizeColumnStart",value:function(e,t,n){var r=this;e.stopPropagation();var i=e.target.parentElement.getBoundingClientRect().width,o=void 0;o=n?e.changedTouches[0].pageX:e.pageX,this.trapEvents=!0,this.setStateWithData({currentlyResizing:{id:t.id,startX:o,parentWidth:i}},function(){n?(document.addEventListener("touchmove",r.resizeColumnMoving),document.addEventListener("touchcancel",r.resizeColumnEnd),document.addEventListener("touchend",r.resizeColumnEnd)):(document.addEventListener("mousemove",r.resizeColumnMoving),document.addEventListener("mouseup",r.resizeColumnEnd),document.addEventListener("mouseleave",r.resizeColumnEnd))})}},{key:"resizeColumnMoving",value:function(e){e.stopPropagation();var t=this.props,n=t.onResizedChange,r=t.column,i=this.getResolvedState(),o=i.resized,a=i.currentlyResizing,s=i.columns.find(function(e){return e.accessor===a.id}),u=s?s.minResizeWidth:r.minResizeWidth,l=o.filter(function(e){return e.id!==a.id}),c=void 0;"touchmove"===e.type?c=e.changedTouches[0].pageX:"mousemove"===e.type&&(c=e.pageX);var d=Math.max(a.parentWidth+c-a.startX,u);l.push({id:a.id,value:d}),this.setStateWithData({resized:l},function(){return n&&n(l,e)})}},{key:"resizeColumnEnd",value:function(e){e.stopPropagation();var t="touchend"===e.type||"touchcancel"===e.type;t&&(document.removeEventListener("touchmove",this.resizeColumnMoving),document.removeEventListener("touchcancel",this.resizeColumnEnd),document.removeEventListener("touchend",this.resizeColumnEnd)),document.removeEventListener("mousemove",this.resizeColumnMoving),document.removeEventListener("mouseup",this.resizeColumnEnd),document.removeEventListener("mouseleave",this.resizeColumnEnd),t||this.setStateWithData({skipNextSort:!0,currentlyResizing:!1})}}]),n}()}},function(e,t,n){"use strict";var r=n(1),i=n.n(r),o=n(8),a=n.n(o),s=n(635),u=n(1760),l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function c(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}var d=function(){return{}};t.a={data:[],resolveData:function(e){return e},loading:!1,showPagination:!0,showPaginationTop:!1,showPaginationBottom:!0,showPageSizeOptions:!0,pageSizeOptions:[5,10,20,25,50,100],defaultPage:0,defaultPageSize:20,showPageJump:!0,collapseOnSortingChange:!0,collapseOnPageChange:!0,collapseOnDataChange:!0,freezeWhenExpanded:!1,sortable:!0,multiSort:!0,resizable:!0,filterable:!1,defaultSortDesc:!1,defaultSorted:[],defaultFiltered:[],defaultResized:[],defaultExpanded:{},defaultFilterMethod:function(e,t,n){var r=e.pivotId||e.id;return void 0===t[r]||String(t[r]).startsWith(e.value)},defaultSortMethod:function(e,t,n){return e=null===e||void 0===e?"":e,t=null===t||void 0===t?"":t,(e="string"==typeof e?e.toLowerCase():e)>(t="string"==typeof t?t.toLowerCase():t)?1:e<t?-1:0},onPageChange:void 0,onPageSizeChange:void 0,onSortedChange:void 0,onFilteredChange:void 0,onResizedChange:void 0,onExpandedChange:void 0,pivotBy:void 0,pivotValKey:"_pivotVal",pivotIDKey:"_pivotID",subRowsKey:"_subRows",aggregatedKey:"_aggregated",nestingLevelKey:"_nestingLevel",originalKey:"_original",indexKey:"_index",groupedByPivotKey:"_groupedByPivot",onFetchData:function(){return null},className:"",style:{},getProps:d,getTableProps:d,getTheadGroupProps:d,getTheadGroupTrProps:d,getTheadGroupThProps:d,getTheadProps:d,getTheadTrProps:d,getTheadThProps:d,getTheadFilterProps:d,getTheadFilterTrProps:d,getTheadFilterThProps:d,getTbodyProps:d,getTrGroupProps:d,getTrProps:d,getTdProps:d,getTfootProps:d,getTfootTrProps:d,getTfootTdProps:d,getPaginationProps:d,getLoadingProps:d,getNoDataProps:d,getResizerProps:d,column:{Cell:void 0,Header:void 0,Footer:void 0,Aggregated:void 0,Pivot:void 0,PivotValue:void 0,Expander:void 0,Filter:void 0,Placeholder:void 0,sortable:void 0,resizable:void 0,filterable:void 0,show:!0,minWidth:100,minResizeWidth:11,className:"",style:{},getProps:d,aggregate:void 0,headerClassName:"",headerStyle:{},getHeaderProps:d,footerClassName:"",footerStyle:{},getFooterProps:d,filterMethod:void 0,filterAll:!1,sortMethod:void 0},expanderDefaults:{sortable:!1,resizable:!1,filterable:!1,width:35},pivotDefaults:{},previousText:"Previous",nextText:"Next",loadingText:"Loading...",noDataText:"No rows found",pageText:"Page",ofText:"of",rowsText:"rows",pageJumpText:"jump to page",rowsSelectorText:"rows per page",TableComponent:function(e){var t=e.children,n=e.className,r=c(e,["children","className"]);return i.a.createElement("div",l({className:a()("rt-table",n),role:"grid"},r),t)},TheadComponent:s.a.makeTemplateComponent("rt-thead","Thead"),TbodyComponent:s.a.makeTemplateComponent("rt-tbody","Tbody"),TrGroupComponent:function(e){var t=e.children,n=e.className,r=c(e,["children","className"]);return i.a.createElement("div",l({className:a()("rt-tr-group",n),role:"rowgroup"},r),t)},TrComponent:function(e){var t=e.children,n=e.className,r=c(e,["children","className"]);return i.a.createElement("div",l({className:a()("rt-tr",n),role:"row"},r),t)},ThComponent:function(e){var t=e.toggleSort,n=e.className,r=e.children,o=c(e,["toggleSort","className","children"]);return i.a.createElement("div",l({className:a()("rt-th",n),onClick:function(e){return t&&t(e)},role:"columnheader",tabIndex:"-1"},o),r)},TdComponent:function(e){e.toggleSort;var t=e.className,n=e.children,r=c(e,["toggleSort","className","children"]);return i.a.createElement("div",l({className:a()("rt-td",t),role:"gridcell"},r),n)},TfootComponent:s.a.makeTemplateComponent("rt-tfoot","Tfoot"),FilterComponent:function(e){var t=e.filter,n=e.onChange,r=e.column;return i.a.createElement("input",{type:"text",style:{width:"100%"},placeholder:r.Placeholder,value:t?t.value:"",onChange:function(e){return n(e.target.value)}})},ExpanderComponent:function(e){var t=e.isExpanded;return i.a.createElement("div",{className:a()("rt-expander",t&&"-open")},"")},PivotValueComponent:function(e){var t=e.subRows,n=e.value;return i.a.createElement("span",null,n," ",t&&"("+t.length+")")},AggregatedComponent:function(e){var t=e.subRows,n=e.column,r=t.filter(function(e){return void 0!==e[n.id]}).map(function(e,r){return i.a.createElement("span",{key:r},e[n.id],r<t.length-1?", ":"")});return i.a.createElement("span",null,r)},PivotComponent:void 0,PaginationComponent:u.a,PreviousComponent:void 0,NextComponent:void 0,LoadingComponent:function(e){var t=e.className,n=e.loading,r=e.loadingText,o=c(e,["className","loading","loadingText"]);return i.a.createElement("div",l({className:a()("-loading",{"-active":n},t)},o),i.a.createElement("div",{className:"-loading-inner"},r))},NoDataComponent:s.a.makeTemplateComponent("rt-noData","NoData"),ResizerComponent:s.a.makeTemplateComponent("rt-resizer","Resizer"),PadRowComponent:function(){return i.a.createElement("span",null,"")}}},function(e,t,n){"use strict";var r=n(1),i=n.n(r),o=n(8),a=n.n(o),s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};var l=function(e){return i.a.createElement("button",u({type:"button"},e,{className:"-btn"}),e.children)},c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.getSafePage=n.getSafePage.bind(n),n.changePage=n.changePage.bind(n),n.applyPage=n.applyPage.bind(n),n.state={page:e.page},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),s(t,[{key:"componentWillReceiveProps",value:function(e){this.props.page!==e.page&&this.setState({page:e.page})}},{key:"getSafePage",value:function(e){return Number.isNaN(e)&&(e=this.props.page),Math.min(Math.max(e,0),this.props.pages-1)}},{key:"changePage",value:function(e){e=this.getSafePage(e),this.setState({page:e}),this.props.page!==e&&this.props.onPageChange(e)}},{key:"applyPage",value:function(e){e&&e.preventDefault();var t=this.state.page;this.changePage(""===t?this.props.page:t)}},{key:"getPageJumpProperties",value:function(){var e=this;return{onKeyPress:function(t){13!==t.which&&13!==t.keyCode||e.applyPage()},onBlur:this.applyPage,value:""===this.state.page?"":this.state.page+1,onChange:function(t){var n=t.target.value,r=n-1;if(""===n)return e.setState({page:n});e.setState({page:e.getSafePage(r)})},inputType:""===this.state.page?"text":"number",pageJumpText:this.props.pageJumpText}}},{key:"render",value:function(){var e=this,t=this.props,n=t.pages,r=t.page,o=t.showPageSizeOptions,s=t.pageSizeOptions,u=t.pageSize,l=t.showPageJump,c=t.canPrevious,d=t.canNext,f=t.onPageSizeChange,h=t.className,p=t.PreviousComponent,m=t.NextComponent,g=t.renderPageJump,y=t.renderCurrentPage,v=t.renderTotalPagesCount,b=t.renderPageSizeOptions;return i.a.createElement("div",{className:a()(h,"-pagination"),style:this.props.style},i.a.createElement("div",{className:"-previous"},i.a.createElement(p,{onClick:function(){c&&e.changePage(r-1)},disabled:!c},this.props.previousText)),i.a.createElement("div",{className:"-center"},i.a.createElement("span",{className:"-pageInfo"},this.props.pageText," ",l?g(this.getPageJumpProperties()):y(r)," ",this.props.ofText," ",v(n)),o&&b({pageSize:u,rowsSelectorText:this.props.rowsSelectorText,pageSizeOptions:s,onPageSizeChange:f,rowsText:this.props.rowsText})),i.a.createElement("div",{className:"-next"},i.a.createElement(m,{onClick:function(){d&&e.changePage(r+1)},disabled:!d},this.props.nextText)))}}]),t}();c.defaultProps={PreviousComponent:l,NextComponent:l,renderPageJump:function(e){var t=e.onChange,n=e.value,r=e.onBlur,o=e.onKeyPress,a=e.inputType,s=e.pageJumpText;return i.a.createElement("div",{className:"-pageJump"},i.a.createElement("input",{"aria-label":s,type:a,onChange:t,value:n,onBlur:r,onKeyPress:o}))},renderCurrentPage:function(e){return i.a.createElement("span",{className:"-currentPage"},e+1)},renderTotalPagesCount:function(e){return i.a.createElement("span",{className:"-totalPages"},e||1)},renderPageSizeOptions:function(e){var t=e.pageSize,n=e.pageSizeOptions,r=e.rowsSelectorText,o=e.onPageSizeChange,a=e.rowsText;return i.a.createElement("span",{className:"select-wrap -pageSizeOptions"},i.a.createElement("select",{"aria-label":r,onChange:function(e){return o(Number(e.target.value))},value:t},n.map(function(e,t){return i.a.createElement("option",{key:t,value:e},e+" "+a)})))}},t.a=c},function(e,t,n){"use strict";var r=n(4),i=n.n(r);t.a={data:i.a.any,loading:i.a.bool,showPagination:i.a.bool,showPaginationTop:i.a.bool,showPaginationBottom:i.a.bool,showPageSizeOptions:i.a.bool,pageSizeOptions:i.a.array,defaultPageSize:i.a.number,showPageJump:i.a.bool,collapseOnSortingChange:i.a.bool,collapseOnPageChange:i.a.bool,collapseOnDataChange:i.a.bool,freezeWhenExpanded:i.a.bool,sortable:i.a.bool,resizable:i.a.bool,filterable:i.a.bool,defaultSortDesc:i.a.bool,defaultSorted:i.a.array,defaultFiltered:i.a.array,defaultResized:i.a.array,defaultExpanded:i.a.object,defaultFilterMethod:i.a.func,defaultSortMethod:i.a.func,onPageChange:i.a.func,onPageSizeChange:i.a.func,onSortedChange:i.a.func,onFilteredChange:i.a.func,onResizedChange:i.a.func,onExpandedChange:i.a.func,pivotBy:i.a.array,pivotValKey:i.a.string,pivotIDKey:i.a.string,subRowsKey:i.a.string,aggregatedKey:i.a.string,nestingLevelKey:i.a.string,originalKey:i.a.string,indexKey:i.a.string,groupedByPivotKey:i.a.string,onFetchData:i.a.func,className:i.a.string,style:i.a.object,getProps:i.a.func,getTableProps:i.a.func,getTheadGroupProps:i.a.func,getTheadGroupTrProps:i.a.func,getTheadGroupThProps:i.a.func,getTheadProps:i.a.func,getTheadTrProps:i.a.func,getTheadThProps:i.a.func,getTheadFilterProps:i.a.func,getTheadFilterTrProps:i.a.func,getTheadFilterThProps:i.a.func,getTbodyProps:i.a.func,getTrGroupProps:i.a.func,getTrProps:i.a.func,getTdProps:i.a.func,getTfootProps:i.a.func,getTfootTrProps:i.a.func,getTfootTdProps:i.a.func,getPaginationProps:i.a.func,getLoadingProps:i.a.func,getNoDataProps:i.a.func,getResizerProps:i.a.func,columns:i.a.arrayOf(i.a.shape({Cell:i.a.oneOfType([i.a.element,i.a.string,i.a.func]),Header:i.a.oneOfType([i.a.element,i.a.string,i.a.func]),Footer:i.a.oneOfType([i.a.element,i.a.string,i.a.func]),Aggregated:i.a.oneOfType([i.a.element,i.a.string,i.a.func]),Pivot:i.a.oneOfType([i.a.element,i.a.string,i.a.func]),PivotValue:i.a.oneOfType([i.a.element,i.a.string,i.a.func]),Expander:i.a.oneOfType([i.a.element,i.a.string,i.a.func]),Filter:i.a.oneOfType([i.a.element,i.a.func]),sortable:i.a.bool,resizable:i.a.bool,filterable:i.a.bool,show:i.a.bool,minWidth:i.a.number,minResizeWidth:i.a.number,className:i.a.string,style:i.a.object,getProps:i.a.func,aggregate:i.a.func,headerClassName:i.a.string,headerStyle:i.a.object,getHeaderProps:i.a.func,footerClassName:i.a.string,footerStyle:i.a.object,getFooterProps:i.a.func,filterMethod:i.a.func,filterAll:i.a.bool,sortMethod:i.a.func})),expanderDefaults:i.a.shape({sortable:i.a.bool,resizable:i.a.bool,filterable:i.a.bool,width:i.a.number}),pivotDefaults:i.a.object,previousText:i.a.node,nextText:i.a.node,loadingText:i.a.node,noDataText:i.a.node,pageText:i.a.node,ofText:i.a.node,rowsText:i.a.node,pageJumpText:i.a.node,rowsSelectorText:i.a.node,TableComponent:i.a.oneOfType([i.a.func,i.a.element]),TheadComponent:i.a.oneOfType([i.a.func,i.a.element]),TbodyComponent:i.a.oneOfType([i.a.func,i.a.element]),TrGroupComponent:i.a.oneOfType([i.a.func,i.a.element]),TrComponent:i.a.oneOfType([i.a.func,i.a.element]),ThComponent:i.a.oneOfType([i.a.func,i.a.element]),TdComponent:i.a.oneOfType([i.a.func,i.a.element]),TfootComponent:i.a.oneOfType([i.a.func,i.a.element]),FilterComponent:i.a.oneOfType([i.a.func,i.a.element]),ExpanderComponent:i.a.oneOfType([i.a.func,i.a.element]),PivotValueComponent:i.a.oneOfType([i.a.func,i.a.element]),AggregatedComponent:i.a.oneOfType([i.a.func,i.a.element]),PivotComponent:i.a.oneOfType([i.a.func,i.a.element]),PaginationComponent:i.a.oneOfType([i.a.func,i.a.element]),PreviousComponent:i.a.oneOfType([i.a.func,i.a.element]),NextComponent:i.a.oneOfType([i.a.func,i.a.element]),LoadingComponent:i.a.oneOfType([i.a.func,i.a.element]),NoDataComponent:i.a.oneOfType([i.a.func,i.a.element]),ResizerComponent:i.a.oneOfType([i.a.func,i.a.element]),PadRowComponent:i.a.oneOfType([i.a.func,i.a.element])}},function(e,t,n){var r=n(1763);"string"==typeof r&&(r=[[e.i,r,""]]);n(251)(r,{});r.locals&&(e.exports=r.locals)},function(e,t,n){(e.exports=n(250)()).push([e.i,".ReactTable{position:relative;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;border:1px solid rgba(0,0,0,0.1);}.ReactTable *{box-sizing:border-box}.ReactTable .rt-table{-webkit-box-flex:1;-ms-flex:auto 1;flex:auto 1;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:stretch;-ms-flex-align:stretch;align-items:stretch;width:100%;border-collapse:collapse;overflow:auto}.ReactTable .rt-thead{-webkit-box-flex:1;-ms-flex:1 0 auto;flex:1 0 auto;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;}.ReactTable .rt-thead.-headerGroups{background:rgba(0,0,0,0.03);border-bottom:1px solid rgba(0,0,0,0.05)}.ReactTable .rt-thead.-filters{border-bottom:1px solid rgba(0,0,0,0.05);}.ReactTable .rt-thead.-filters input,.ReactTable .rt-thead.-filters select{border:1px solid rgba(0,0,0,0.1);background:#fff;padding:5px 7px;font-size:inherit;border-radius:3px;font-weight:normal;outline:none}.ReactTable .rt-thead.-filters .rt-th{border-right:1px solid rgba(0,0,0,0.02)}.ReactTable .rt-thead.-header{box-shadow:0 2px 15px 0 rgba(0,0,0,0.15)}.ReactTable .rt-thead .rt-tr{text-align:center}.ReactTable .rt-thead .rt-th,.ReactTable .rt-thead .rt-td{padding:5px 5px;line-height:normal;position:relative;border-right:1px solid rgba(0,0,0,0.05);transition:box-shadow .3s cubic-bezier(.175,.885,.32,1.275);box-shadow:inset 0 0 0 0 transparent;}.ReactTable .rt-thead .rt-th.-sort-asc,.ReactTable .rt-thead .rt-td.-sort-asc{box-shadow:inset 0 3px 0 0 rgba(0,0,0,0.6)}.ReactTable .rt-thead .rt-th.-sort-desc,.ReactTable .rt-thead .rt-td.-sort-desc{box-shadow:inset 0 -3px 0 0 rgba(0,0,0,0.6)}.ReactTable .rt-thead .rt-th.-cursor-pointer,.ReactTable .rt-thead .rt-td.-cursor-pointer{cursor:pointer}.ReactTable .rt-thead .rt-th:last-child,.ReactTable .rt-thead .rt-td:last-child{border-right:0}.ReactTable .rt-thead .rt-th:focus{outline:none}.ReactTable .rt-thead .rt-resizable-header{overflow:visible;}.ReactTable .rt-thead .rt-resizable-header:last-child{overflow:hidden}.ReactTable .rt-thead .rt-resizable-header-content{overflow:hidden;text-overflow:ellipsis}.ReactTable .rt-thead .rt-header-pivot{border-right-color:#f7f7f7}.ReactTable .rt-thead .rt-header-pivot:after,.ReactTable .rt-thead .rt-header-pivot:before{left:100%;top:50%;border:solid transparent;content:\" \";height:0;width:0;position:absolute;pointer-events:none}.ReactTable .rt-thead .rt-header-pivot:after{border-color:rgba(255,255,255,0);border-left-color:#fff;border-width:8px;margin-top:-8px}.ReactTable .rt-thead .rt-header-pivot:before{border-color:rgba(102,102,102,0);border-left-color:#f7f7f7;border-width:10px;margin-top:-10px}.ReactTable .rt-tbody{-webkit-box-flex:99999;-ms-flex:99999 1 auto;flex:99999 1 auto;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;overflow:auto;}.ReactTable .rt-tbody .rt-tr-group{border-bottom:solid 1px rgba(0,0,0,0.05);}.ReactTable .rt-tbody .rt-tr-group:last-child{border-bottom:0}.ReactTable .rt-tbody .rt-td{border-right:1px solid rgba(0,0,0,0.02);}.ReactTable .rt-tbody .rt-td:last-child{border-right:0}.ReactTable .rt-tbody .rt-expandable{cursor:pointer;text-overflow:clip}.ReactTable .rt-tr-group{-webkit-box-flex:1;-ms-flex:1 0 auto;flex:1 0 auto;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:stretch;-ms-flex-align:stretch;align-items:stretch}.ReactTable .rt-tr{-webkit-box-flex:1;-ms-flex:1 0 auto;flex:1 0 auto;display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex}.ReactTable .rt-th,.ReactTable .rt-td{-webkit-box-flex:1;-ms-flex:1 0 0px;flex:1 0 0;white-space:nowrap;text-overflow:ellipsis;padding:7px 5px;overflow:hidden;transition:.3s ease;transition-property:width,min-width,padding,opacity;}.ReactTable .rt-th.-hidden,.ReactTable .rt-td.-hidden{width:0 !important;min-width:0 !important;padding:0 !important;border:0 !important;opacity:0 !important}.ReactTable .rt-expander{display:inline-block;position:relative;margin:0;color:transparent;margin:0 10px;}.ReactTable .rt-expander:after{content:'';position:absolute;width:0;height:0;top:50%;left:50%;-webkit-transform:translate(-50%,-50%) rotate(-90deg);transform:translate(-50%,-50%) rotate(-90deg);border-left:5.04px solid transparent;border-right:5.04px solid transparent;border-top:7px solid rgba(0,0,0,0.8);transition:all .3s cubic-bezier(.175,.885,.32,1.275);cursor:pointer}.ReactTable .rt-expander.-open:after{-webkit-transform:translate(-50%,-50%) rotate(0);transform:translate(-50%,-50%) rotate(0)}.ReactTable .rt-resizer{display:inline-block;position:absolute;width:36px;top:0;bottom:0;right:-18px;cursor:col-resize;z-index:10}.ReactTable .rt-tfoot{-webkit-box-flex:1;-ms-flex:1 0 auto;flex:1 0 auto;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;box-shadow:0 0 15px 0 rgba(0,0,0,0.15);}.ReactTable .rt-tfoot .rt-td{border-right:1px solid rgba(0,0,0,0.05);}.ReactTable .rt-tfoot .rt-td:last-child{border-right:0}.ReactTable.-striped .rt-tr.-odd{background:rgba(0,0,0,0.03)}.ReactTable.-highlight .rt-tbody .rt-tr:not(.-padRow):hover{background:rgba(0,0,0,0.05)}.ReactTable .-pagination{z-index:1;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-align:stretch;-ms-flex-align:stretch;align-items:stretch;-ms-flex-wrap:wrap;flex-wrap:wrap;padding:3px;box-shadow:0 0 15px 0 rgba(0,0,0,0.1);border-top:2px solid rgba(0,0,0,0.1);}.ReactTable .-pagination input,.ReactTable .-pagination select{border:1px solid rgba(0,0,0,0.1);background:#fff;padding:5px 7px;font-size:inherit;border-radius:3px;font-weight:normal;outline:none}.ReactTable .-pagination .-btn{-webkit-appearance:none;-moz-appearance:none;appearance:none;display:block;width:100%;height:100%;border:0;border-radius:3px;padding:6px;font-size:1em;color:rgba(0,0,0,0.6);background:rgba(0,0,0,0.1);transition:all .1s ease;cursor:pointer;outline:none;}.ReactTable .-pagination .-btn[disabled]{opacity:.5;cursor:default}.ReactTable .-pagination .-btn:not([disabled]):hover{background:rgba(0,0,0,0.3);color:#fff}.ReactTable .-pagination .-previous,.ReactTable .-pagination .-next{-webkit-box-flex:1;-ms-flex:1;flex:1;text-align:center}.ReactTable .-pagination .-center{-webkit-box-flex:1.5;-ms-flex:1.5;flex:1.5;text-align:center;margin-bottom:0;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-ms-flex-pack:distribute;justify-content:space-around}.ReactTable .-pagination .-pageInfo{display:inline-block;margin:3px 10px;white-space:nowrap}.ReactTable .-pagination .-pageJump{display:inline-block;}.ReactTable .-pagination .-pageJump input{width:70px;text-align:center}.ReactTable .-pagination .-pageSizeOptions{margin:3px 10px}.ReactTable .rt-noData{display:block;position:absolute;left:50%;top:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);background:rgba(255,255,255,0.8);transition:all .3s ease;z-index:1;pointer-events:none;padding:20px;color:rgba(0,0,0,0.5)}.ReactTable .-loading{display:block;position:absolute;left:0;right:0;top:0;bottom:0;background:rgba(255,255,255,0.8);transition:all .3s ease;z-index:-1;opacity:0;pointer-events:none;}.ReactTable .-loading > div{position:absolute;display:block;text-align:center;width:100%;top:50%;left:0;font-size:15px;color:rgba(0,0,0,0.6);-webkit-transform:translateY(-52%);transform:translateY(-52%);transition:all .3s cubic-bezier(.25,.46,.45,.94)}.ReactTable .-loading.-active{opacity:1;z-index:2;pointer-events:all;}.ReactTable .-loading.-active > div{-webkit-transform:translateY(50%);transform:translateY(50%)}.ReactTable .rt-resizing .rt-th,.ReactTable .rt-resizing .rt-td{transition:none !important;cursor:col-resize;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}",""])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(285);t.StyledWrapper=r.default.div`
    position:relative;
    display:flex;
    background:black;
    width: 100%;
    height: 100%;
    flex-direction: column;
    left: 0px;
    top: 0px;
    color: white;
`,t.StyledSVGContainer=r.default.div`
    position: absolute;
    width: 100%;
    height: 100%;
`,t.StyledPropertyContainer=r.default.div`
    position: absolute;
    color:black;
    border: 1px solid gray;
    border-radius: 3px;
    display:flex;
    flex-direction: column;
    width: 300px;
    height: 400px;
    z-index:1;
    background: lightgray;
    left:${e=>e.left+"px"};
    top:${e=>e.top+"px"};
`,t.StyledPropertyHeader=r.default.div`
    font-size: 18px;
    color: gray;
    padding: 10px;
    border-bottom: 1px solid rgba(223, 230, 233,1.0)
`,t.StyledPropertyBody=r.default.div`
    flex: 1;
    overflow: auto;
`,t.StyledPropertyLabelRow=r.default.div`
    display:flex;
    flex-direction: row; 
    padding: 5px;
`,t.StyledLabel=r.default.label`
    font-size: 14px;
    text-align:${e=>e.textAlign};
    flex:${e=>e.flexWeight};
`,t.StyledBlodLabel=r.default(t.StyledLabel)`
    font-size: 14px;
    font-weight: bold;
`,t.StyledInput=r.default.input`
    margin-left: 10px;
`,t.StyledPropertyList=r.default.div`
    display:flex;
    flex-direction: column;
`,t.StyledPropertyItem=r.default.div`
    display:flex;
    flex-direction: row;
    align-items: center;
    padding:5px;
`,t.StyledCheckBox=r.default.input`
    transform: scale(1.2);
    margin-left:10px;
    flex:${e=>e.flexWeight};
`,t.StyledPropertyFooter=r.default.div`
    font-size: 18px;
    color: gray;
    padding: 10px;
    display:flex;
    border-top: 1px solid rgba(223, 230, 233,1.0)
`,t.StyledSelect=r.default.select`
    flex:${e=>e.flexWeight};
`,t.StyledOption=r.default.option`
    color:black;
`,t.StyledButton=r.default.button`
    flex:${e=>e.flexWeight};
`,t.StyledCloseButton=r.default(t.StyledButton)`
    flex: 1;
    height: 30px;
    margin-right: 5px;
`,t.StyledDeleteButton=r.default(t.StyledButton)`
    flex: 1;
    height: 30px;
    margin-left: 5px;
`,t.StyleImage=r.default.img`
    margin:5px;
    cursor: pointer;
    flex:${e=>e.flexWeight};
    width: 20px;
    height: 20px;
`,t.StyleSmallImage=r.default(t.StyleImage)`
    width: 15px;
    margin-left:10px;
    height: 15px;
`,t.StyledSpan=r.default.span`
    text-align: center;
    flex:${e=>e.flexWeight};

`,t.StyledIcon=r.default.i`
    margin-left:10px;
    cursor: pointer;
`,t.StyledToolWrapper=r.default.div`
    padding:10px;
    z-index: 1;
`,t.StyleUpload=r.default.div`
    position: relative;
    display: inline-block;
    curror:pointer;
`,t.StyleInput=r.default.input`
    font-size: 20px;
    width:30px;
    curror:pointer;
    position: absolute;
    left: 0;
    top: 0;
    opacity: 0;
`},function(e,t,n){var r=n(1766);"string"==typeof r&&(r=[[e.i,r,""]]);n(251)(r,{});r.locals&&(e.exports=r.locals)},function(e,t,n){(e.exports=n(250)()).push([e.i,"#svgElement circle.node-base {\n    fill: #1abc9c;\n    stroke-width: 3px;\n}\n\n#svgElement text {\n    fill: #FFFFFF;\n}\n\n#svgElement circle.node.overlay:hover {\n    fill: rgba(150, 150, 255, 0.5);\n}\n\n#svgElement circle.node.ring:hover {\n    stroke: rgba(150, 150, 255, 0.5);\n}\n\n#svgElement path.relationship {\n    fill: rgba(255, 255, 255, 1.0);\n}\n\n#svgElement path.relationship.overlay:hover {\n    fill: rgba(150, 150, 255, 0.5);\n    stroke: rgba(150, 150, 255, 0.5);\n}\n\nsvg {\n    fill: green;\n}",""])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1104),i={};t.default=function(e=i,t){switch(t.type){case r.Types.SAVE_SCHEMA:{let{sourceType:n,schemaName:r,mapping:i}=t.params;switch(n){case"csv":case"mysql":let t=e[n];return Object.assign({},e,{[n]:Object.assign({},t,{[r]:i})})}}case r.Types.DELETE_SCHEMA:{let{sourceType:n,schemaName:r}=t.params;switch(n){case"csv":case"mysql":let t=e[n];return delete t[r],Object.assign({},e,{[n]:Object.assign({},t)})}}default:return e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(1),a=u(n(4)),s=u(n(31));function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c=["KeyDown","KeyPress","KeyUp","Click","ContextMenu","DoubleClick","Drag","DragEnd","DragEnter","DragExit","DragLeave","DragOver","DragStart","Drop","Focus","MouseDown","MouseEnter","MouseLeave","MouseMove","MouseOut","MouseOver","MouseUp","Wheel"],d={DoubleClick:"dblclick",Wheel:"mousewheel"},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(d[e]||e).toLowerCase()},h=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),i(t,[{key:"componentDidMount",value:function(){var e=this.props,t=s.default.findDOMNode(this);t&&c.forEach(function(n){var r=e["on"+n+"Capture"],i=e["on"+n],o=e["stop"+n];r&&"function"==typeof r&&t.addEventListener(f(n),r,!0),i&&"function"==typeof i&&t.addEventListener(f(n),i,!1),!0===o&&t.addEventListener(f(n),function(e){return e.stopPropagation()},!1)})}},{key:"render",value:function(){return this.props.children}}]),t}();t.default=h,h.propTypes=r({children:function(e,t){if(e[t].length)return new Error("NativeListener can only wrap one element")}},c.reduce(function(e,t){var n;return r({},e,(l(n={},"on"+t,a.default.func),l(n,"on"+t+"Capture",a.default.func),l(n,"stop"+t,a.default.bool),n))},{}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(1),a=(r=o)&&r.__esModule?r:{default:r},s=n(50),u=n(636);n(1776);var l=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.state={isRecording:u.Page360Record.isRecording,isReady:u.Page360Record.isReady,isGenerating:u.Page360Record.isGenerating,isGenerated:u.Page360Record.isGenerated},u.Page360Record.stateListeners.push(function(){var e=r.state;e.isReady==u.Page360Record.isReady&&e.isRecording==u.Page360Record.isRecording&&e.isGenerating==u.Page360Record.isGenerating||(e={isRecording:u.Page360Record.isRecording,isReady:u.Page360Record.isReady,isGenerating:u.Page360Record.isGenerating,isGenerated:u.Page360Record.isGenerated},r.setState(e))}),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default.Component),i(t,[{key:"handleViewLatestVideo",value:function(){u.Page360Record.openVideo()}},{key:"handleTaskRecords",value:function(){window._task&&window._task.runRecords()}},{key:"render",value:function(){var e=this.state,t=e.isRecording,n=e.isReady,r=e.isGenerating,i=e.isGenerated,o=!!u.Page360Record.getLatestVideoName();return a.default.createElement("div",{id:"recording-setting",style:{display:s.Config.canRecord?"block":"none"}},a.default.createElement("div",{className:"recording-hints"},t||n||r||i?t?"Recording...":r?" waiting Generate MP4 ":" Generate MP4 Success":" Please Click Recording button "),a.default.createElement("div",{className:"recording-actions "+(o?"has-view-button ":" ")+(t?" is-recording ":"")},o?a.default.createElement("div",{className:"btn view-video-btn",onClick:this.handleViewLatestVideo.bind(this)},"View Latest Record Video"):null,a.default.createElement("div",{className:"btn recording-btn ",onClick:function(){u.Page360Record.startingRecord({type:u.RecordsTypes.ThreeDVideoType})}},t?"Stop Recording":"Recording 360"),t?null:a.default.createElement("div",{className:"btn recording-two-btn ",onClick:function(){u.Page360Record.startingRecord({type:u.RecordsTypes.TwoDVideoType})}},"Recording 2D"),t?null:a.default.createElement("div",{className:"btn task-records-btn",onClick:this.handleTaskRecords.bind(this)},"Recording Task"),a.default.createElement("div",{className:"btn save-png-btn ",onClick:function(){u.Page360Record.startingRecord({type:u.RecordsTypes.pngType})}},"Save as PNG")))}}]),t}();t.default=l},function(e,t,n){"use strict";var r;r=function(e,t){function n(e,t){var n,r=e.toDataURL("image/webp",{quality:t});return!("string"!=typeof(n=r)||!n.match(/^data:image\/webp;base64,/i))&&window.atob(n.substring("data:image/webp;base64,".length))}function r(e){this.value=e}function i(e,t,n){if(Array.isArray(n))for(var o=0;o<n.length;o++)i(e,t,n[o]);else if("string"==typeof n)e.writeString(n);else if(n instanceof Uint8Array)e.writeBytes(n);else{if(!n.id)throw"Bad EBML datatype "+typeof n.data;var a,s,u;if(n.offset=e.pos+t,e.writeUnsignedIntBE(n.id),Array.isArray(n.data))-1===n.size?e.writeByte(255):(a=e.pos,e.writeBytes([0,0,0,0])),s=e.pos,n.dataOffset=s+t,i(e,t,n.data),-1!==n.size&&(u=e.pos,n.size=u-s,e.seek(a),e.writeEBMLVarIntWidth(n.size,4),e.seek(u));else if("string"==typeof n.data)e.writeEBMLVarInt(n.data.length),n.dataOffset=e.pos+t,e.writeString(n.data);else if("number"==typeof n.data)n.size||(n.size=e.measureUnsignedInt(n.data)),e.writeEBMLVarInt(n.size),n.dataOffset=e.pos+t,e.writeUnsignedIntBE(n.data,n.size);else if(n.data instanceof r)e.writeEBMLVarInt(8),n.dataOffset=e.pos+t,e.writeDoubleBE(n.data.value);else if(n.data instanceof function(e){this.value=e})e.writeEBMLVarInt(4),n.dataOffset=e.pos+t,e.writeFloatBE(n.data.value);else{if(!(n.data instanceof Uint8Array))throw"Bad EBML datatype "+typeof n.data;e.writeEBMLVarInt(n.data.byteLength),n.dataOffset=e.pos+t,e.writeBytes(n.data)}}}return function(o){var a,s,u,l,c,d=5e3,f=1,h=!1,p=[],m=0,g=0,y={Cues:{id:new Uint8Array([28,83,187,107]),positionEBML:null},SegmentInfo:{id:new Uint8Array([21,73,169,102]),positionEBML:null},Tracks:{id:new Uint8Array([22,84,174,107]),positionEBML:null}},v={id:17545,data:new r(0)},b=[],_=new t(o.fileWriter||o.fd);function w(e){return e-u.dataOffset}function k(){l=function(){var e={id:21420,size:5,data:0},t={id:290298740,data:[]};for(var n in y){var r=y[n];r.positionEBML=Object.create(e),t.data.push({id:19899,data:[{id:21419,data:r.id},r.positionEBML]})}return t}();var t={id:357149030,data:[{id:2807729,data:1e6},{id:19840,data:"webm-writer-js"},{id:22337,data:"webm-writer-js"},v]},n={id:374648427,data:[{id:174,data:[{id:215,data:f},{id:29637,data:f},{id:156,data:0},{id:2274716,data:"und"},{id:134,data:"V_VP8"},{id:2459272,data:"VP8"},{id:131,data:1},{id:224,data:[{id:176,data:a},{id:186,data:s}]}]}]};u={id:408125543,size:-1,data:[l,t,n]};var r=new e(256);i(r,_.pos,[{id:440786851,data:[{id:17030,data:1},{id:17143,data:1},{id:17138,data:4},{id:17139,data:8},{id:17026,data:"webm"},{id:17031,data:2},{id:17029,data:2}]},u]),_.write(r.getAsDataArray()),y.SegmentInfo.positionEBML.data=w(t.offset),y.Tracks.positionEBML.data=w(n.offset)}function E(t){var n=new e(4);if(!(t.trackNumber>0&&t.trackNumber<127))throw"TrackNumber must be > 0 and < 127";return n.writeEBMLVarInt(t.trackNumber),n.writeU16BE(t.timecode),n.writeByte(128),{id:163,data:[n.getAsDataArray(),t.frame]}}function x(){if(0!=p.length){for(var t=0,n=0;n<p.length;n++)t+=p[n].frame.length;var r,o,a,s=new e(t+32*p.length),u=function(e){return{id:524531317,data:[{id:231,data:Math.round(e.timecode)}]}}({timecode:Math.round(m)});for(n=0;n<p.length;n++)u.data.push(E(p[n]));i(s,_.pos,u),_.write(s.getAsDataArray()),r=f,o=Math.round(m),a=u.offset,b.push({id:187,data:[{id:179,data:o},{id:183,data:[{id:247,data:r},{id:241,data:w(a)}]}]}),p=[],m+=g,g=0}}this.addFrame=function(e){if(h){if(e.width!=a||e.height!=s)throw"Frame size differs from previous frames"}else a=e.width,s=e.height,k(),h=!0;var t,r=n(e,{quality:o.quality});if(!r)throw"Couldn't decode WebP frame, does the browser support WebP?";(t={frame:function(e){var t=e.indexOf("VP8 ");if(-1==t)throw"Failed to identify beginning of keyframe in WebP image";return t+="VP8 ".length+4,e.substring(t)}(r),duration:o.frameDuration}).trackNumber=f,t.timecode=Math.round(g),p.push(t),(g+=t.duration)>=d&&x()},this.complete=function(){var t,n,r,o;return x(),t={id:475249515,data:b},i(n=new e(16+32*b.length),_.pos,t),_.write(n.getAsDataArray()),y.Cues.positionEBML.data=w(t.offset),r=new e(l.size),o=_.pos,i(r,l.dataOffset,l.data),_.seek(l.dataOffset),_.write(r.getAsDataArray()),_.seek(o),function(){var t=new e(8),n=_.pos;t.writeDoubleBE(m),_.seek(v.dataOffset),_.write(t.getAsDataArray()),_.seek(n)}(),_.complete("video/webm")},this.getWrittenSize=function(){return _.length},c={},[{quality:.95,fileWriter:null,fd:null,frameDuration:null,frameRate:null},o||{}].forEach(function(e){for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(c[t]=e[t])}),o=c,function(){if(!o.frameDuration){if(!o.frameRate)throw"Missing required frameDuration or frameRate setting";o.frameDuration=1e3/o.frameRate}}()}},void 0!==e&&void 0!==e.exports?e.exports=r(n(1771),n(1772)):window.WebMWriter=r(ArrayBufferDataStream,BlobBuffer)},function(e,t,n){"use strict";var r;(r=function(e){this.data=new Uint8Array(e),this.pos=0}).prototype.seek=function(e){this.pos=e},r.prototype.writeBytes=function(e){for(var t=0;t<e.length;t++)this.data[this.pos++]=e[t]},r.prototype.writeByte=function(e){this.data[this.pos++]=e},r.prototype.writeU8=r.prototype.writeByte,r.prototype.writeU16BE=function(e){this.data[this.pos++]=e>>8,this.data[this.pos++]=e},r.prototype.writeDoubleBE=function(e){for(var t=new Uint8Array(new Float64Array([e]).buffer),n=t.length-1;n>=0;n--)this.writeByte(t[n])},r.prototype.writeFloatBE=function(e){for(var t=new Uint8Array(new Float32Array([e]).buffer),n=t.length-1;n>=0;n--)this.writeByte(t[n])},r.prototype.writeString=function(e){for(var t=0;t<e.length;t++)this.data[this.pos++]=e.charCodeAt(t)},r.prototype.writeEBMLVarIntWidth=function(e,t){switch(t){case 1:this.writeU8(128|e);break;case 2:this.writeU8(64|e>>8),this.writeU8(e);break;case 3:this.writeU8(32|e>>16),this.writeU8(e>>8),this.writeU8(e);break;case 4:this.writeU8(16|e>>24),this.writeU8(e>>16),this.writeU8(e>>8),this.writeU8(e);break;case 5:this.writeU8(8|e/4294967296&7),this.writeU8(e>>24),this.writeU8(e>>16),this.writeU8(e>>8),this.writeU8(e);break;default:throw new RuntimeException("Bad EBML VINT size "+t)}},r.prototype.measureEBMLVarInt=function(e){if(e<127)return 1;if(e<16383)return 2;if(e<2097151)return 3;if(e<268435455)return 4;if(e<34359738367)return 5;throw new RuntimeException("EBML VINT size not supported "+e)},r.prototype.writeEBMLVarInt=function(e){this.writeEBMLVarIntWidth(e,this.measureEBMLVarInt(e))},r.prototype.writeUnsignedIntBE=function(e,t){switch(void 0===t&&(t=this.measureUnsignedInt(e)),t){case 5:this.writeU8(Math.floor(e/4294967296));case 4:this.writeU8(e>>24);case 3:this.writeU8(e>>16);case 2:this.writeU8(e>>8);case 1:this.writeU8(e);break;default:throw new RuntimeException("Bad UINT size "+t)}},r.prototype.measureUnsignedInt=function(e){return e<256?1:e<65536?2:e<1<<24?3:e<4294967296?4:5},r.prototype.getAsDataArray=function(){if(this.pos<this.data.byteLength)return this.data.subarray(0,this.pos);if(this.pos==this.data.byteLength)return this.data;throw"ArrayBufferDataStream's pos lies beyond end of buffer"},void 0!==e&&void 0!==e.exports?e.exports=r:window.ArrayBufferDataStream=r},function(e,t,n){"use strict";(function(t){var r;r=function(e){return function(n){var r=[],i=Promise.resolve(),o=null,a=null;function s(e){return new Promise(function(t,n){var r=new FileReader;r.addEventListener("loadend",function(){t(r.result)}),r.readAsArrayBuffer(e)})}function u(e){return new Promise(function(t,n){e instanceof Uint8Array?t(e):e instanceof ArrayBuffer||ArrayBuffer.isView(e)?t(new Uint8Array(e)):e instanceof Blob?t(s(e).then(function(e){return new Uint8Array(e)})):t(s(new Blob([e])).then(function(e){return new Uint8Array(e)}))})}"undefined"!=typeof FileWriter&&n instanceof FileWriter?o=n:e&&n&&(a=n),this.pos=0,this.length=0,this.seek=function(e){if(e<0)throw"Offset may not be negative";if(isNaN(e))throw"Offset may not be NaN";if(e>this.length)throw"Seeking beyond the end of file is not allowed";this.pos=e},this.write=function(n){var s={offset:this.pos,data:n,length:function(e){var t=e.byteLength||e.length||e.size;if(!Number.isInteger(t))throw"Failed to determine size of element";return t}(n)},l=s.offset>=this.length;this.pos+=s.length,this.length=Math.max(this.length,this.pos),i=i.then(function(){if(a)return new Promise(function(n,r){u(s.data).then(function(r){var i=0,o=t.from(r.buffer),u=function(t,r,o){(i+=r)>=o.length?n():e.write(a,o,i,o.length-i,s.offset+i,u)};e.write(a,o,0,o.length,s.offset,u)})});if(o)return new Promise(function(e,t){o.onwriteend=e,o.seek(s.offset),o.write(new Blob([s.data]))});if(!l)for(var n=0;n<r.length;n++){var i=r[n];if(!(s.offset+s.length<=i.offset||s.offset>=i.offset+i.length)){if(s.offset<i.offset||s.offset+s.length>i.offset+i.length)throw new Error("Overwrite crosses blob boundaries");return s.offset==i.offset&&s.length==i.length?void(i.data=s.data):u(i.data).then(function(e){return i.data=e,u(s.data)}).then(function(e){s.data=e,i.data.set(s.data,s.offset-i.offset)})}}r.push(s)})},this.complete=function(e){return i=a||o?i.then(function(){return null}):i.then(function(){for(var t=[],n=0;n<r.length;n++)t.push(r[n].data);return new Blob(t,{mimeType:e})})}}},void 0!==e&&void 0!==e.exports?e.exports=r(n(546)):window.BlobBuffer=r(null)}).call(t,n(71).Buffer)},function(e,t,n){"use strict";t.byteLength=function(e){var t=l(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){for(var t,n=l(e),r=n[0],a=n[1],s=new o(function(e,t,n){return 3*(t+n)/4-n}(0,r,a)),u=0,c=a>0?r-4:r,d=0;d<c;d+=4)t=i[e.charCodeAt(d)]<<18|i[e.charCodeAt(d+1)]<<12|i[e.charCodeAt(d+2)]<<6|i[e.charCodeAt(d+3)],s[u++]=t>>16&255,s[u++]=t>>8&255,s[u++]=255&t;2===a&&(t=i[e.charCodeAt(d)]<<2|i[e.charCodeAt(d+1)]>>4,s[u++]=255&t);1===a&&(t=i[e.charCodeAt(d)]<<10|i[e.charCodeAt(d+1)]<<4|i[e.charCodeAt(d+2)]>>2,s[u++]=t>>8&255,s[u++]=255&t);return s},t.fromByteArray=function(e){for(var t,n=e.length,i=n%3,o=[],a=0,s=n-i;a<s;a+=16383)o.push(c(e,a,a+16383>s?s:a+16383));1===i?(t=e[n-1],o.push(r[t>>2]+r[t<<4&63]+"==")):2===i&&(t=(e[n-2]<<8)+e[n-1],o.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"="));return o.join("")};for(var r=[],i=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,u=a.length;s<u;++s)r[s]=a[s],i[a.charCodeAt(s)]=s;function l(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function c(e,t,n){for(var i,o,a=[],s=t;s<n;s+=3)i=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),a.push(r[(o=i)>>18&63]+r[o>>12&63]+r[o>>6&63]+r[63&o]);return a.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,n,r,i){var o,a,s=8*i-r-1,u=(1<<s)-1,l=u>>1,c=-7,d=n?i-1:0,f=n?-1:1,h=e[t+d];for(d+=f,o=h&(1<<-c)-1,h>>=-c,c+=s;c>0;o=256*o+e[t+d],d+=f,c-=8);for(a=o&(1<<-c)-1,o>>=-c,c+=r;c>0;a=256*a+e[t+d],d+=f,c-=8);if(0===o)o=1-l;else{if(o===u)return a?NaN:1/0*(h?-1:1);a+=Math.pow(2,r),o-=l}return(h?-1:1)*a*Math.pow(2,o-r)},t.write=function(e,t,n,r,i,o){var a,s,u,l=8*o-i-1,c=(1<<l)-1,d=c>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:o-1,p=r?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=c):(a=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-a))<1&&(a--,u*=2),(t+=a+d>=1?f/u:f*Math.pow(2,1-d))*u>=2&&(a++,u/=2),a+d>=c?(s=0,a=c):a+d>=1?(s=(t*u-1)*Math.pow(2,i),a+=d):(s=t*Math.pow(2,d-1)*Math.pow(2,i),a=0));i>=8;e[n+h]=255&s,h+=p,s/=256,i-=8);for(a=a<<i|s,l+=i;l>0;e[n+h]=255&a,h+=p,a/=256,l-=8);e[n+h-p]|=128*m}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(23));HTMLCanvasElement.prototype.toBlob||Object.defineProperty(HTMLCanvasElement.prototype,"toBlob",{value:function(e,t,n){for(var r=atob(this.toDataURL(t,n).split(",")[1]),i=r.length,o=new Uint8Array(i),a=0;a<i;a++)o[a]=r.charCodeAt(a);e(new Blob([o],{type:t||"image/png"}))}}),function(){try{new ImageData(new Uint8ClampedArray([1,1,1,1]),1,1)}catch(e){window.ImageData=function(e,t,n){var r=document.createElement("canvas"),i=(r.getContext("2d"),r.getContext("2d").createImageData(t,n));return i.data.set(e),i}}}();var i="\nattribute vec3 position;\nattribute vec2 uv;\n\nuniform mat4 projectionMatrix;\nuniform mat4 modelViewMatrix;\n\nvarying vec2 vUv;\n\nvoid main()  {\n\n\tvUv = vec2( 1.- uv.x, uv.y );\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\n}\n",o="\nprecision mediump float;\n\nuniform samplerCube map;\n\nvarying vec2 vUv;\n\n#define M_PI 3.1415926535897932384626433832795\n\nvoid main()  {\n\n\tvec2 uv = vUv;\n\n\tfloat longitude = uv.x * 2. * M_PI - M_PI + M_PI / 2.;\n\tfloat latitude = uv.y * M_PI;\n\n\tvec3 dir = vec3(\n\t\t- sin( longitude ) * sin( latitude ),\n\t\tcos( latitude ),\n\t\t- cos( longitude ) * sin( latitude )\n\t);\n\tnormalize( dir );\n\n\tgl_FragColor = textureCube( map, dir );\n\n}\n";function a(e,t,n,a){n=n||"4k",this.width=1,this.height=1,this.renderer=e,this.callback=a,this.material=new r.RawShaderMaterial({uniforms:{map:{type:"t",value:null}},vertexShader:i,fragmentShader:o,side:r.DoubleSide,transparent:!0}),this.scene=new r.Scene,this.quad=new r.Mesh(new r.PlaneBufferGeometry(1,1),this.material),this.scene.add(this.quad),this.camera=new r.OrthographicCamera(-.5,.5,.5,-.5,-1e4,1e4),this.canvas=document.createElement("canvas"),this.ctx=this.canvas.getContext("2d"),this.cubeCamera=null,this.attachedCamera=null;var s={w:1,h:1};switch(n){case"8k-full":case"8k":s.w=8;break;case"7k-full":case"7k":s.w=7;break;case"6k-full":case"6k":s.w=6;break;case"5k-full":case"5k":s.w=5;break;case"4k-full":case"4k":s.w=4;break;case"2k-full":case"2k":s.w=2}/\-full/gi.test(n)?s.h=s.w:s.h=s.w/2,this.setSize(1024*s.w,1024*s.h);var u=this.renderer.getContext();this.cubeMapSize=u.getParameter(u.MAX_CUBE_MAP_TEXTURE_SIZE),t&&this.getCubeCamera(2048)}a.prototype.setSize=function(e,t){this.width=e,this.height=t,this.quad.scale.set(this.width,this.height,1),this.camera.left=this.width/-2,this.camera.right=this.width/2,this.camera.top=this.height/2,this.camera.bottom=this.height/-2,this.camera.updateProjectionMatrix(),this.output=new r.WebGLRenderTarget(this.width,this.height,{minFilter:r.LinearFilter,magFilter:r.LinearFilter,wrapS:r.ClampToEdgeWrapping,wrapT:r.ClampToEdgeWrapping,format:r.RGBAFormat,type:r.UnsignedByteType}),this.canvas.width=this.width,this.canvas.height=this.height},a.prototype.getCubeCamera=function(e){var t=Math.min(this.cubeMapSize,e);this.cubeCamera=new r.CubeCamera(.1,1e3,t);var n={format:r.RGBAFormat,magFilter:r.LinearFilter,minFilter:r.LinearFilter};return this.cubeCamera.renderTarget=new r.WebGLRenderTargetCube(t,t,n),this.cubeCamera},a.prototype.attachCubeCamera=function(e){this.getCubeCamera(),this.attachedCamera=e},a.prototype.convert=function(e,t){this.quad.material.uniforms.map.value=e.renderTarget.texture,this.renderer.render(this.scene,this.camera,this.output,!0);var n=new Uint8Array(4*this.width*this.height);this.renderer.readRenderTargetPixels(this.output,0,0,this.width,this.height,n);var r=new ImageData(new Uint8ClampedArray(n),this.width,this.height);return!1!==t&&this.download(r),r},a.prototype.download=function(e){this.ctx.putImageData(e,0,0),this.callback?this.callback(this.canvas):this.canvas.toBlob(function(e){var t=URL.createObjectURL(e),n="pano-"+document.title+"-"+Date.now()+".png",r=document.createElement("a");r.href=t,r.setAttribute("download",n),r.className="download-js-link",r.innerHTML="downloading...",r.style.display="none",document.body.appendChild(r),setTimeout(function(){r.click(),document.body.removeChild(r)},1)},"image/png")},a.prototype.update=function(e,t){var n=this.renderer.autoClear;this.renderer.autoClear=!0,this.cubeCamera.position.copy(e.position),this.cubeCamera.update(this.renderer,t),this.renderer.autoClear=n,this.convert(this.cubeCamera)},t.default=a},function(e,t,n){var r=n(1777);"string"==typeof r&&(r=[[e.i,r,""]]);n(251)(r,{});r.locals&&(e.exports=r.locals)},function(e,t,n){(e.exports=n(250)()).push([e.i,"#recording-setting {\n    border: 1px solid green;\n    position: fixed;\n    bottom: 20px;\n    right: 20px;\n    color: green;\n    z-index: 999;\n    background-color: transparent;\n    z-index: 109999;\n}\n\n#recording-setting .recording-actions .btn {\n    display: block;\n    padding: 10px 22px;\n    color:white;\n     \n}\n\n#recording-setting .recording-actions .btn:nth-child(n+1) {\n    border-bottom: 1px solid green;\n}\n\n#recording-setting .recording-actions .btn:first-child {\n    border-top: 1px solid green;\n}\n\n#recording-setting .recording-actions .btn:last-child {\n    border-bottom: none;\n}\n\n#recording-setting .recording-hints {\n    color: #aa6708;\n    padding: 10px;\n    font-size: 14px;\n    text-align: center;\n}",""])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(1),o=h(i),a=h(n(11)),s=h(n(637)),u=h(n(1779)),l=h(n(10)),c=h(n(1984)),d=h(n(1985)),f=h(n(50));function h(e){return e&&e.__esModule?e:{default:e}}var p=window.globalVariable.moduleConfig,m=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),r={logout:{icon:"fa fa-sign-out",name:"logout",tip:"Logout",isShow:!0},help:{icon:"fa fa-question-circle",name:"help",tip:"Help",isShow:!1},home:{icon:"fa fa-home",name:"home",tip:"Home",isShow:!0},shortcut:{icon:"iconfont icon-shortcut-fill",name:"shortcut",tip:"Shortcut Key",isShow:!0},logo:{icon:"iconfont icon-logo logo-color",name:"logo",tip:"About",isShow:!0}};return f.default.config.isShare&&(r.logout.isShow=!1,r.home.isShow=!1),n.state={isHdShow:window._hd&&window._hd.isShow,tourAnimation:n.props.tourAnimation,tools:{project:{icon:"fa-file",name:"project",tip:"Project",isShow:p.project.visible},query:{icon:"fa-code",name:"query",tip:"Query",isShow:!(f.default.config.isShare&&(!p.query.visible||!p.query.subModule.cypherQuery.visible))},connector:{icon:"fa-exchange",name:"connector",tip:"Connector",isShow:p.connector.visible},table:{icon:"fa-table",name:"table",tip:"Table",isShow:p.table.visible},layout:{icon:"fa-sitemap",name:"layout",tip:"Layout",isShow:p.layout.visible},filter:{icon:"fa-filter",name:"filter",tip:"Filter",isShow:p.filter.visible},timeline:{icon:"fa-clock-o",name:"timeline",tip:"Timeline",isShow:p.timeline.visible},map:{icon:"fa-globe",name:"map",tip:"Map",isShow:p.map.visible}},bottomTools:r,showTour:!1,panelOpen:!1,currentPanel:"",currentBottomPanel:""},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),r(t,[{key:"componentDidMount",value:function(){var e=this;document.addEventListener("HDLayout",function(t,n){e.setState({isHdShow:window._hd&&window._hd.isShow})})}},{key:"componentWillReceiveProps",value:function(e){var t=e.reduxState;this.props.reduxState.ui.topbar!=t.ui.topbar&&this.setState({panelOpen:""!=t.ui.topbar,currentPanel:t.ui.topbar}),this.props.tourAnimation!=e.tourAnimation&&this.setState({tourAnimation:e.tourAnimation}),this.props.isChangeTour!=e.isChangeTour&&this.handleTour(),this.props=e}},{key:"handleTour",value:function(){this.setState({showTour:!this.state.showTour,currentBottomPanel:"tour"==this.state.currentBottomPanel?"":"tour"})}},{key:"onClickToolItem",value:function(e){e==this.state.currentPanel&&(e="");var t=this.props.actions;this.closeToolBar(),t.showTopbar(e)}},{key:"onClickBottomToolItem",value:function(e){var t=this.state.bottomTools;switch(this.closeToolBar(),e){case t.logout.name:l.default.sendRequst("/api/user/logout",{},function(){window.location.href="/login"});break;case t.logo.name:this.props.showAbout();break;case t.home.name:window.location.href="/projects";break;case t.shortcut.name:this.props.showHotkey()}}},{key:"closeToolBar",value:function(){var e=this;this.setState({showTour:!1,currentBottomPanel:""},function(){e.props.hideTourTips()})}},{key:"resetWindow",value:function(){window._hd&&window._hd.hideHD&&window._hd.hideHD()}},{key:"handleLeftPanel",value:function(e){this.state.currentPanel&&this.setState({panelOpen:e})}},{key:"showPanelInfo",value:function(){var e=this;this.setState({isShowPanelInfo:!this.state.isShowPanelInfo},function(){return e.props.hideTourTips()})}},{key:"render",value:function(){var e=this,t=Object.keys(this.state.tools),n=this.state.bottomTools,r=this.props,i=r.actions,l=r.reduxState,f=r.config,h=this.state,p=h.isHdShow,m=h.currentPanel,g=h.tools,y=h.tourAnimation,v=h.panelOpen,b=h.showTour,_=h.isShowPanelInfo,w=$(".fa-sitemap")&&$(".fa-sitemap").offset()&&$(".fa-sitemap").offset().top?$(".fa-sitemap").offset().top-15+"px":0;return o.default.createElement("div",{className:"left-group"},p&&"layout"!=m?o.default.createElement("div",{id:"tip-rest",style:{top:w},onClick:function(){e.resetWindow()}},o.default.createElement("div",{className:"arrow"}),o.default.createElement("div",{className:"circle-btn"},"Reset")):null,o.default.createElement("div",{className:"left-toolbar "+(_?"show-panel-info":"")},o.default.createElement("div",{className:"show-info"},o.default.createElement("div",{key:"show-tips",className:"tool-item item-show-tips",onClick:function(){return e.showPanelInfo()}},o.default.createElement("span",null,o.default.createElement("i",{className:"fa fa-bars "+(_?"active":"")+"   "})),o.default.createElement("span",{className:"tooltiptext fadeInRight faster animated"},"Main menu"))),o.default.createElement("div",{className:"top"},t.filter(function(e){return f[e]&&f[e].visible}).map(function(t){var n=g[t];return n.isShow?o.default.createElement("div",{key:t,className:"tool-item item-"+n.name+"  tour-"+n.name,onClick:function(){return e.onClickToolItem(n.name)}},o.default.createElement("span",null,o.default.createElement("i",{className:"fa "+n.icon+" "+(t==m?"active":"")+" tour-"+n.icon+"   "})),o.default.createElement("span",{className:"tooltiptext fadeInRight faster animated"},n.tip)):null})),o.default.createElement("div",{className:"bottom"},o.default.createElement(c.default,null),a.default.map(n,function(t){return t.isShow?o.default.createElement("div",{key:t.name,className:"tool-item item-"+t.name,onClick:function(){return e.onClickBottomToolItem(t.name)}},o.default.createElement("span",{onMouseEnter:function(){return e.props.hoverTourTips("tour"==t.name?"in":null)},onMouseLeave:function(){return e.props.hoverTourTips("tour"==t.name?"out":null)}},o.default.createElement("i",{className:(y?"animated animation-count-4":"")+" "+t.icon})),o.default.createElement("span",{className:"tooltiptext fadeInRight faster animated "},t.tip)):null}))),v?o.default.createElement(u.default,{isShowPanelInfo:_,actions:i,reduxState:l,config:f,open:v,content:m}):null,o.default.createElement(d.default,{isShowPanelInfo:_,handleLeftPanel:function(t){return e.handleLeftPanel(t)},actions:i,reduxState:l,hideSearchPanel:v&&!(""==m)}),b?o.default.createElement(s.default,{reduxState:this.props.reduxState,actions:this.props.actions,closeToolBar:function(){return e.closeToolBar()}}):null)}}]),t}();t.default=m},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(1),o=y(i),a=y(n(1780)),s=(y(n(1107)),y(n(1784))),u=y(n(1889)),l=y(n(1956)),c=y(n(1167)),d=y(n(1967)),f=y(n(1970)),h=y(n(1978)),p=y(n(1979)),m=y(n(1980)),g=y(n(1983));function y(e){return e&&e.__esModule?e:{default:e}}var v={connector:o.default.createElement(f.default,null),query:o.default.createElement(s.default,null),layout:o.default.createElement(u.default,null),project:o.default.createElement(l.default,null),setting:o.default.createElement(c.default,null),table:o.default.createElement(d.default,null),filter:o.default.createElement(m.default,null),timeline:o.default.createElement(h.default,null),map:o.default.createElement(g.default,null),help:o.default.createElement(p.default,null)},b=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={open:e.open,content:e.content},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),r(t,[{key:"componentDidMount",value:function(){$("#left-slider-panel").resizable()}},{key:"componentWillUnmount",value:function(){$("#left-slider-panel").resizable("destroy")}},{key:"componentWillReceiveProps",value:function(e){this.props.content==e.content&&this.state.open==e.open||($("#left-slider-panel").width("connector"===e.content?"620px":"500px"),this.setState({open:e.open,content:e.content})),this.props=e}},{key:"onDrag",value:function(e){e.target.parent}},{key:"onClose",value:function(){this.props.actions.showTopbar("")}},{key:"dynamicClass",value:function(e){return v[e]}},{key:"onMinimize",value:function(){$("#left-slider-panel").width("500px")}},{key:"onMaximize",value:function(){$("#left-slider-panel").width("65%")}},{key:"render",value:function(){var e=this.state.open?0:-110,t=this.dynamicClass(this.state.content),n=this.props,r=n.actions,i=n.reduxState,s=n.config,u=this.state.content?s[this.state.content].subModule:{};return o.default.createElement("div",{id:"left-slider-panel",className:"left-slider-panel "+this.state.content+" "+(this.props.isShowPanelInfo?"show-panel-info":""),style:{transform:"translateX("+e+"%)"}},o.default.createElement(a.default,{onMinimize:this.onMinimize.bind(this),onMaximize:this.onMaximize.bind(this),onClosePanel:this.onClose.bind(this)}),o.default.createElement("div",{className:"content"},t&&this.state.open?o.default.cloneElement(t,{actions:r,reduxState:i,config:u}):null))}}]),t}();t.default=b},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(1),a=(r=o)&&r.__esModule?r:{default:r};var s=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),i(t,[{key:"render",value:function(){var e=this;return a.default.createElement("div",{className:"slider-title"},a.default.createElement("span",{onClick:function(){return e.onMinimize()}},a.default.createElement("i",{className:"fa fa-window-minimize tour-fa-window-minimize","aria-hidden":"true"})),a.default.createElement("span",{onClick:function(){return e.onMaximize()}},a.default.createElement("i",{className:"fa fa-window-maximize tour-fa-window-maximize","aria-hidden":"true"})),a.default.createElement("span",{onClick:function(){return e.onClosePanel()}},a.default.createElement("i",{className:"fa fa-window-close-o tour-fa-window-close-o","aria-hidden":"true"})))}},{key:"onMinimize",value:function(){this.props.onMinimize&&this.props.onMinimize()}},{key:"onMaximize",value:function(){this.props.onMaximize&&this.props.onMaximize()}},{key:"onClosePanel",value:function(){this.props.onClosePanel&&this.props.onClosePanel()}}]),t}();t.default=s},function(e,t,n){(e.exports=n(250)()).push([e.i,"/****************************************************************/\n/*   Based on mbonaci's Brackets mbo theme                      */\n/*   https://github.com/mbonaci/global/blob/master/Mbo.tmTheme  */\n/*   Create your own: http://tmtheme-editor.herokuapp.com       */\n/****************************************************************/\n\n.cm-s-mbo.CodeMirror { background: #2c2c2c; color: #ffffec; }\n.cm-s-mbo div.CodeMirror-selected { background: #716C62; }\n.cm-s-mbo .CodeMirror-line::selection, .cm-s-mbo .CodeMirror-line > span::selection, .cm-s-mbo .CodeMirror-line > span > span::selection { background: rgba(113, 108, 98, .99); }\n.cm-s-mbo .CodeMirror-line::-moz-selection, .cm-s-mbo .CodeMirror-line > span::-moz-selection, .cm-s-mbo .CodeMirror-line > span > span::-moz-selection { background: rgba(113, 108, 98, .99); }\n.cm-s-mbo .CodeMirror-gutters { background: #4e4e4e; border-right: 0px; }\n.cm-s-mbo .CodeMirror-guttermarker { color: white; }\n.cm-s-mbo .CodeMirror-guttermarker-subtle { color: grey; }\n.cm-s-mbo .CodeMirror-linenumber { color: #dadada; }\n.cm-s-mbo .CodeMirror-cursor { border-left: 1px solid #ffffec; }\n\n.cm-s-mbo span.cm-comment { color: #95958a; }\n.cm-s-mbo span.cm-atom { color: #00a8c6; }\n.cm-s-mbo span.cm-number { color: #00a8c6; }\n\n.cm-s-mbo span.cm-property, .cm-s-mbo span.cm-attribute { color: #9ddfe9; }\n.cm-s-mbo span.cm-keyword { color: #ffb928; }\n.cm-s-mbo span.cm-string { color: #ffcf6c; }\n.cm-s-mbo span.cm-string.cm-property { color: #ffffec; }\n\n.cm-s-mbo span.cm-variable { color: #ffffec; }\n.cm-s-mbo span.cm-variable-2 { color: #00a8c6; }\n.cm-s-mbo span.cm-def { color: #ffffec; }\n.cm-s-mbo span.cm-bracket { color: #fffffc; font-weight: bold; }\n.cm-s-mbo span.cm-tag { color: #9ddfe9; }\n.cm-s-mbo span.cm-link { color: #f54b07; }\n.cm-s-mbo span.cm-error { border-bottom: #636363; color: #ffffec; }\n.cm-s-mbo span.cm-qualifier { color: #ffffec; }\n\n.cm-s-mbo .CodeMirror-activeline-background { background: #494b41; }\n.cm-s-mbo .CodeMirror-matchingbracket { color: #ffb928 !important; }\n.cm-s-mbo .CodeMirror-matchingtag { background: rgba(255, 255, 255, .37); }\n",""])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={mainWindow:null,open:function(){var e=this;if(this.mainWindow)this.mainWindow.focus();else{var t={height:520,width:960,innerHeight:520,innerWidth:960,status:"no",toolbar:"no",menubar:"no",location:"no",resizable:"no",scrollbars:0,titlebar:"no",title:"GraphXR Temp Code"};t.top=(window.screen.availHeight-30-t.height)/2,t.left=(window.screen.availHeight-30-t.width)/2,this.mainWindow=window.open("/tempCode",t.title,Object.keys(t).map(function(e){return e+"="+t[e]}).join(",")),window.addEventListener("unload",function(t){e.close()}),this.mainWindow.onload=function(t){e.mainWindow.onunload=function(t){e.mainWindow=null}}}},close:function(){this.mainWindow&&this.mainWindow.close()}};t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(10);(r=i)&&r.__esModule;var o={mainWindow:null,toQueryS:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return Object.keys(e).reduce(function(n,r,i){var o=encodeURIComponent(e[r]);return[n,"&",r=t?t+"["+(Array.isArray(e)?"":r)+"]":encodeURIComponent(r),"=",o].join("")},"")},open:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;"string"==typeof(t=t||[])&&(t=[t]);var r="";if(t.length>0&&(r="/autoLoad/"+t.join("_")+"?"+this.toQueryS(t,"tempModules")+"&"+this.toQueryS(n,"parameters")),this.mainWindow&&""===r)this.mainWindow.focus();else{var i={height:520,width:960,innerHeight:520,innerWidth:960,status:"no",toolbar:"no",menubar:"no",location:"no",resizable:"no",scrollbars:0,titlebar:"no",title:"GraphXR Temp Chart "+t.join("_")};i.top=(window.screen.availHeight-30-i.height)/2,i.left=(window.screen.availHeight-30-i.width)/2;var o=window.open("/tempChart"+r,i.title,Object.keys(i).map(function(e){return e+"="+i[e]}).join(","));window.addEventListener("unload",function(t){e.close(o)},!1),o.onload=function(e){Object.keys(window).forEach(function(e){/^_/.test(e)&&(o[e]=window[e])}),o.onunload=function(e){Object.keys(window).forEach(function(e){/^_/.test(e)&&(o[e]=null)}),o=null}},""===r&&(this.mainWindow=o)}},close:function(e){(e=e||this.mainWindow)&&e.close()}};t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(1),o=f(i),a=f(n(398)),s=f(n(1107)),u=f(n(1785)),l=f(n(1789)),c=f(n(1793)),d=f(n(1887));f(n(327));function f(e){return e&&e.__esModule?e:{default:e}}var h=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),r(t,[{key:"render",value:function(){var e=this.props,t=e.actions,n=e.reduxState,r=e.config;return o.default.createElement(a.default,null,r.cypherQuery.visible?o.default.createElement(s.default,{name:"Cypher",actions:t,reduxState:n}):null,r.sql.visible?o.default.createElement(l.default,{name:"SQL",actions:t,reduxState:n}):null,r.csv.visible?o.default.createElement(u.default,{name:"CSV",actions:t,reduxState:n}):null,r.json.visible?o.default.createElement(d.default,{name:"JSON",actions:t,reduxState:n}):null,r.gremlin.visible?o.default.createElement(c.default,{name:"Gremlin",actions:t,reduxState:n}):null)}}]),t}();t.default=h},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,s)}u((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const i=n(1),o=n(1),a=n(1786),s=n(396),u=n(326),l=n(634),c=n(327),d=n(1110),f=n(639),h=n(427),p=n(101),m=n(1788);t.Types={DELETE_SCHEMA:"com.kineviz.DELETE_SCHEMA"},t.Actions={deleteSchema:(e,n)=>({type:t.Types.DELETE_SCHEMA,params:{schemaName:n,sourceType:e}})};t.default=s.connect(function(e){return{dbInfo:e.dbInfo,schemas:e.schemas.csv?e.schemas.csv:{}}},function(e){return{action:u.bindActionCreators(t.Actions,e)}})(class extends o.Component{constructor(e){super(e),this.state={fileName:"",rows:0,columns:0,data:[],schemas:this.props.schemas?this.props.schemas:{},schemaNames:Object.keys(this.props.schemas),schemaExist:Object.keys(this.props.schemas).length>0,currentSchemaName:Object.keys(this.props.schemas).length>0?Object.keys(this.props.schemas)[0]:"",resultMsgs:[],enableNeo4jBtn:!1}}onUploadLoalCSV(e){return r(this,void 0,void 0,function*(){let t=e.currentTarget.files[0],n=yield(new a.default).importCSV(t),r=t.name,i=n.length,o=Object.keys(n[0]).length;this.setState({fileName:r,rows:i,columns:o,data:n},()=>{this.saveDataToDrawing(n)})})}saveDataToDrawing(e){let t=window._drawing,n=t.csvResults?t.csvResults:{};n["dataset"+(Object.keys(n).length+1)]=e,t.csvResults=n}onAddSchema(e){let{data:t}=this.state;e?t?this.setState({currentSchemaName:e},()=>{this.onEditSchema()}):this.showMessage(1,"Please load data first"):this.showMessage(1,"Please enter a schema name")}onEditSchema(){let{actions:e}=this.props,{data:t,currentSchemaName:n}=this.state;e.showGraphBuilder(!0,"csv",n,t)}showMessage(e,t){let{resultMsgs:n}=this.state,r={status:e,message:t};n.push(r),this.setState({resultMsgs:n})}onDeleteSchema(e,t){let{action:n}=this.props;n.deleteSchema("csv",t),this.state.currentSchemaName==t&&this.setState({currentSchemaName:""})}onSelectSchema(e,t){this.setState({currentSchemaName:t,schemaExist:!0})}onSchemaNameChange(e){let{schemaNames:t,currentSchemaName:n}=this.state,r=t.includes(e);this.setState({schemaExist:r,currentSchemaName:r?n:e})}loadDataToGraph(){return r(this,void 0,void 0,function*(){let{data:e}=this.state;if(!e||0==e.length){let{resultMsgs:e}=this.state,t={status:1,message:"Please load data first"};return e.push(t),void this.setState({resultMsgs:e})}let{actions:t}=this.props,n=new h.GraphTransform,r=this.props.schemas[this.state.currentSchemaName];if(r){let i=this.genenateCSVData("csv",e);this.graph=yield n.toGraph(i,r),t.loadGraph(this.graph),this.setState({enableNeo4jBtn:!0})}else{let{resultMsgs:e}=this.state,t={status:1,message:"Please choose a schema"};e.push(t),this.setState({resultMsgs:e})}})}genenateCSVData(e,t){let n={header:[],data:[]};return"csv"==e&&(n.header=Object.keys(t[0]),n.data=t.map(e=>Object.values(e))),n}saveToNeo4j(){let e=p.default.getCurrentCacheProject();new f.default(e).saveGraphToNeo4j(this.graph);let t=this.graph.nodes.length,n=this.graph.edges.length,{resultMsgs:r}=this.state,i={status:0,message:`${t} nodes and ${n} relationships have been saved to Neo4j`};r.push(i),this.setState({enableNeo4jBtn:!1,resultMsgs:r})}render(){let{fileName:e,resultMsgs:t,rows:n,columns:r,schemaNames:o,currentSchemaName:a,schemaExist:s,enableNeo4jBtn:u,data:f}=this.state;return i.createElement(m.StyledWrapper,{direction:"column"},i.createElement(m.StyledWrapper,{direction:"row"},i.createElement(m.StyleUpload,null,i.createElement(m.StyledButton,null,"Open Local"),i.createElement(m.StyleInput,{type:"file",accept:"text/csv",onChange:e=>this.onUploadLoalCSV(e)}))),i.createElement(m.StyledWrapper,{top:10,direction:"row"},i.createElement(m.StyledLabel,null,"File Name"),i.createElement(m.StyledLine,{disabled:!0,value:e})),i.createElement(m.StyledWrapper,{top:10,direction:"row"},i.createElement(m.StyledWrapper,{direction:"row"},i.createElement(m.StyledLabel,null,"Rows"),i.createElement(m.StyledLine,{disabled:!0,value:n})),i.createElement(m.StyledWrapper,{direction:"row"},i.createElement(m.StyledLabel,null,"Colums"),i.createElement(m.StyledLine,{disabled:!0,value:r}))),i.createElement(m.StyledResult,{top:10,height:80,padding:5,overFlow:!0,border:"1px solid gray"},t.map((e,t)=>i.createElement(m.StyledSpan,{color:0==e.status?"green":"red",key:t},e.message))),i.createElement(m.StyledWrapper,{direction:"row",top:10,bottom:10},i.createElement(m.StyledLabel,null,"Schema"),i.createElement(d.default,{list:o,showDelete:!0,defaultValue:o.length>0?o[0]:"",onTextChange:this.onSchemaNameChange.bind(this),onDeleteItem:this.onDeleteSchema.bind(this),onSelectItem:this.onSelectSchema.bind(this)}),i.createElement(c.default,{if:!s},i.createElement(m.StyledButton,{marginLeft:10,onClick:()=>this.onAddSchema(a)},"Add Schema")),i.createElement(m.StyledButton,{marginLeft:10,onClick:this.loadDataToGraph.bind(this)},"Load To Graph"),i.createElement(c.default,{if:u},i.createElement(m.StyledButton,{marginLeft:10,onClick:this.saveToNeo4j.bind(this)},"Save To Neo4j"))),i.createElement(c.default,{if:f.length},i.createElement(m.StyledWrapper,{top:10},i.createElement(l.default,{showPagination:!0,contents:f}))))}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1090);t.default=class{constructor(){this.header=[],this.data=[]}importCSV(e){return new Promise((t,n)=>{let i={header:!0,complete:e=>this.parseCSV(e,t)};r.parse(e,i)})}parseCSV(e,t){this.data=e.data.slice(1,e.data.length),t(this.data)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(285);t.StyledWrapper=r.default.div`
    -webkit-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
    user-select: none;
    position: relative;
    width: 222px;
`,t.StyledHeader=r.default.div`
    border-radius: 3px;
    cursor: default;
    position: relative;
    align-items: center
    background-color: transparent;
`,t.StyledHeaderTitle=r.default.input`
    margin-bottom: 2px;
    width: 100%;
    background: transparent;
    border-width: 0 0 1px;
    border-color: white;
    color:white;
    &:focus {
        border-color: red;
    }
`,t.StyledAngleDown=r.default.i`
    position: absolute;
    right: 0px;
    color:white;
`,t.StyledSpan=r.default.span`
    cursor: pointer;
    width:100%;
`,t.StyledDeleteIcon=r.default.i`
    padding: 5px;
    float: right;
    cursor: pointer;
`,t.StyledList=r.default.ul`
    z-index: 10;
    position: absolute;
    width: 100%;
    background: rgb(44, 44, 44);
    border: 1px solid #dfdfdf;
    border-bottom-right-radius: 3px;
    overflow-y: scroll;
    padding-inline-start: 0px;
`,t.StyledListItem=r.default.li`
    width: 100%;
    color: white;
    line-height: 1.6rem;
    cursor: default;
    padding-left:5px;
    display:flex;
    white-space: nowrap;
    text-overflow: ellipsis;

    &:selected{
        color: #fff;
        background-color: #ffcc01;
    }

    &:hover{
        color: #fff;
        background-color: #ffcc01;
    }
`},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(285);t.StyledWrapper=r.default.div`
   display:flex;
   flex-direction: ${e=>e.direction?e.direction:"column"}; 
   margin-top: ${e=>e.top?e.top:"0"}px; 
`,t.StyleUpload=r.default.div`
    position: relative;
    display: inline-block;
    curror:pointer;
`,t.StyleInput=r.default.input`
    font-size: 20px;
    width:80px;
    curror:pointer;
    position: absolute;
    left: 0;
    top: 0;
    opacity: 0;
`,t.StyledLine=r.default.input`
    margin-left: 10px;
    background: transparent;
    border-width: 0 0 1px;
    border-color: gray;
    color:gray;
`,t.StyledLabel=r.default.label`
    color: white;
    min-width: ${e=>e.minWidth?e.minWidth:80}px;
`,t.StyledButton=r.default.button`
   margin:${e=>e.margin?e.margin:0}px;
   margin-left:${e=>e.marginLeft?e.marginLeft:0}px;
   margin-right:${e=>e.marginRight?e.marginRight:0}px;
   margin-top:${e=>e.marginTop?e.marginTop:0}px;
   margin-bottom:${e=>e.marginBottom?e.marginBottom:0}px;

`,t.StyledSpan=r.default.span`
    white-space: pre-wrap;
    color:${e=>e.color};
`,t.StyledResult=r.default(t.StyledWrapper)`
    color:${e=>e.color};
    height:${e=>e.height}px;
    border:${e=>e.border};
    padding:${e=>e.padding}px;
    overflow-y:${e=>e.overFlow?"scroll":"none"};
`},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,s)}u((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const i=n(1),o=n(1),a=n(326),s=n(396),u=n(1111),l=n(640),c=n(427),d=n(634),f=n(639),h=n(101),p=n(1110),m=n(1792),g=n(327);t.default=s.connect(function(e){return{dbInfo:e.dbInfo,schemas:e.schemas.mysql?e.schemas.mysql:{}}},function(e){return{action:a.bindActionCreators(u.Actions,e)}})(class extends o.Component{constructor(e){super(e);let{dbInfo:t}=this.props;this.state={dbInfo:{host:t&&""!=t.host?t.host:"localhost",port:t?t.port:3306,user:t?t.user:"root",password:t?t.password:"12345678",database:t?t.database:"classicmodels"},schemas:this.props.schemas?this.props.schemas:{},schemaNames:Object.keys(this.props.schemas),schemaExist:Object.keys(this.props.schemas).length>0,currentSchemaName:Object.keys(this.props.schemas).length>0?Object.keys(this.props.schemas)[0]:"",queryString:"",resultMsgs:[],enableNeo4jBtn:!1,result:null},this.graph=null}componentWillReceiveProps(e){if(this.props!=e){let t=Object.keys(e.schemas),{currentSchemaName:n}=this.state,r=t.includes(n);this.setState({schemas:e.schemas,schemaNames:t,schemaExist:r})}}onTestConnection(){return r(this,void 0,void 0,function*(){let{dbInfo:e}=this.state,{action:t}=this.props,n=Object.assign({},e);n.sql="show tables;";let r=yield fetch("/api/mysql/query",{method:"POST",body:JSON.stringify(n),headers:{"Content-Type":"application/json"}}).then(e=>e.json()),{resultMsgs:i}=this.state;if(0==r.status){let e={status:0,message:"Connection Success"};i.push(e),this.setState({resultMsgs:i,result:null},()=>{let e=this.state.dbInfo;t.saveDBInfo(e)})}else{let e={status:1,message:"Connection Failed"};i.push(e),this.setState({resultMsgs:i,result:null})}})}onRun(){return r(this,void 0,void 0,function*(){let{dbInfo:e}=this.state,{action:t}=this.props,n=Object.assign({},e);n.sql=this.state.queryString||"SELECT * FROM classicmodels.customers;";let r=yield fetch("/api/mysql/query",{method:"POST",body:JSON.stringify(n),headers:{"Content-Type":"application/json"}}).then(e=>e.json()),{resultMsgs:i}=this.state;if(0==r.status){let e={status:0,message:`Query Success,${r.content.results.length} data returned`};i.push(e),this.setState({resultMsgs:i,result:r.content},()=>{let e=this.state.dbInfo;t.saveDBInfo(e),this.saveDataToDrawing(r.content)})}else{let e={status:1,message:r.message};i.push(e),this.setState({resultMsgs:i,result:null})}})}saveDataToDrawing(e){let t=window._drawing,n=t.sqlResults?t.sqlResults:{};n["dataset"+(Object.keys(n).length+1)]=e.results,t.sqlResults=n}loadDataToGraph(){return r(this,void 0,void 0,function*(){let{result:e}=this.state;if(!e||!e.results){let{resultMsgs:e}=this.state,t={status:1,message:"Please load data first"};return e.push(t),void this.setState({resultMsgs:e})}let t=e.results,{actions:n}=this.props,r=new c.GraphTransform,i=this.props.schemas[this.state.currentSchemaName];if(i){let e=this.genenateCSVData("mysql",t);this.graph=yield r.toGraph(e,i),n.loadGraph(this.graph),this.setState({enableNeo4jBtn:!0})}else{let{resultMsgs:e}=this.state,t={status:1,message:"Please choose a schema"};e.push(t),this.setState({resultMsgs:e})}})}genenateCSVData(e,t){let n={header:[],data:[]};return"mysql"==e&&(n.header=Object.keys(t[0]),n.data=t.map(e=>Object.values(e))),n}onTextChange(e){this.setState({queryString:e})}onServerChange(e){let{dbInfo:t}=this.state,n=e.split(":")[0],r=e.split(":").length>1?e.split(":")[1]:3306;t.host=n,t.port=r,this.setState({dbInfo:t})}onUserNameChange(e){let{dbInfo:t}=this.state;t.user=e,this.setState({dbInfo:t})}onPasswordChange(e){let{dbInfo:t}=this.state;t.password=e,this.setState({dbInfo:t})}onDatabaseChange(e){let{dbInfo:t}=this.state;t.database=e,this.setState({dbInfo:t})}onEditSchema(){let{actions:e}=this.props,{result:t,currentSchemaName:n}=this.state;e.showGraphBuilder(!0,"mysql",n,t.results)}onAddSchema(e){let{result:t}=this.state;e?t&&t.results?this.setState({currentSchemaName:e},()=>{this.onEditSchema()}):this.showMessage(1,"Please load data first"):this.showMessage(1,"Please enter a schema name")}showMessage(e,t){let{resultMsgs:n}=this.state,r={status:e,message:t};n.push(r),this.setState({resultMsgs:n})}onDeleteSchema(e,t){let{action:n}=this.props;n.deleteSchema("mysql",t),this.state.currentSchemaName==t&&this.setState({currentSchemaName:""})}onSelectSchema(e,t){this.setState({currentSchemaName:t,schemaExist:!0})}onSchemaNameChange(e){let{schemaNames:t,currentSchemaName:n}=this.state,r=t.includes(e);this.setState({schemaExist:r,currentSchemaName:r?n:e})}saveToNeo4j(){let e=h.default.getCurrentCacheProject();new f.default(e).saveGraphToNeo4j(this.graph);let t=this.graph.nodes.length,n=this.graph.edges.length,{resultMsgs:r}=this.state,i={status:0,message:`${t} nodes and ${n} relationships have been saved to Neo4j`};r.push(i),this.setState({enableNeo4jBtn:!1,resultMsgs:r})}render(){let{resultMsgs:e,result:t,schemaExist:n,dbInfo:r,schemaNames:o,currentSchemaName:a,enableNeo4jBtn:s}=this.state;return i.createElement(m.StyledWrapper,null,i.createElement(m.StyledConnectionGroup,null,i.createElement(m.StyledConnection,null,i.createElement(m.StyledConnectionRow,null,i.createElement(m.StyledLabel,null,"Server"),i.createElement(m.StyledInput,{placeholder:"localhost:3306",value:r.host+":"+r.port,onChange:e=>this.onServerChange(e.target.value)})),i.createElement(m.StyledConnectionRow,null,i.createElement(m.StyledLabel,null,"User Name"),i.createElement(m.StyledInput,{placeholder:"",value:r.user,onChange:e=>this.onUserNameChange(e.target.value)})),i.createElement(m.StyledConnectionRow,null,i.createElement(m.StyledLabel,null,"Password"),i.createElement(m.StyledInput,{placeholder:"",type:"password",value:r.password,onChange:e=>this.onPasswordChange(e.target.value)})),i.createElement(m.StyledConnectionRow,null,i.createElement(m.StyledLabel,null,"DB"),i.createElement(m.StyledInput,{placeholder:"",value:r.database,onChange:e=>this.onDatabaseChange(e.target.value)}))),i.createElement(m.StyledConnectionTestGroup,null,i.createElement(m.StyledButton,{onClick:this.onTestConnection.bind(this)},"Test Connection"),i.createElement(m.StyledConnectionRow,null,i.createElement(m.StyledLabel,{minWidth:5},"MaxRow"),i.createElement(m.StyledInput,{placeholder:"1000"})))),i.createElement(m.StyledWrapper,{direction:"row",top:15},i.createElement(l.default,{onTextChange:this.onTextChange.bind(this),mode:"text/x-mysql"}),i.createElement(m.StyledButton,{marginLeft:10,onClick:this.onRun.bind(this)},"Run")),i.createElement(m.StyledResult,{top:10,height:80,padding:5,overFlow:!0,border:"1px solid gray"},e.map((e,t)=>i.createElement(m.StyledSpan,{color:0==e.status?"green":"red",key:t},e.message))),i.createElement(m.StyledWrapper,{direction:"row",top:10,bottom:10},i.createElement(m.StyledLabel,null,"Schema"),i.createElement(p.default,{list:o,showDelete:!0,defaultValue:o.length>0?o[0]:"",onTextChange:this.onSchemaNameChange.bind(this),onDeleteItem:this.onDeleteSchema.bind(this),onSelectItem:this.onSelectSchema.bind(this)}),i.createElement(g.default,{if:!n},i.createElement(m.StyledButton,{marginLeft:10,onClick:()=>this.onAddSchema(a)},"Add Schema")),i.createElement(m.StyledButton,{marginLeft:10,onClick:this.loadDataToGraph.bind(this)},"Load To Graph"),i.createElement(g.default,{if:s},i.createElement(m.StyledButton,{marginLeft:10,onClick:this.saveToNeo4j.bind(this)},"Save To Neo4j"))),i.createElement(g.default,{if:t},i.createElement(d.default,{showPagination:!0,contents:t?t.results:[]})))}})},function(e,t,n){(function(e){"use strict";e.defineMode("sql",function(t,n){var r=n.client||{},i=n.atoms||{false:!0,true:!0,null:!0},o=n.builtin||{},a=n.keywords||{},s=n.operatorChars||/^[*+\-%<>!=&|~^]/,u=n.support||{},l=n.hooks||{},c=n.dateSQL||{date:!0,time:!0,timestamp:!0},d=!1!==n.backslashStringEscapes,f=n.brackets||/^[\{}\(\)\[\]]/,h=n.punctuation||/^[;.,:]/;function p(e,t){var n,m=e.next();if(l[m]){var g=l[m](e,t);if(!1!==g)return g}if(u.hexNumber&&("0"==m&&e.match(/^[xX][0-9a-fA-F]+/)||("x"==m||"X"==m)&&e.match(/^'[0-9a-fA-F]+'/)))return"number";if(u.binaryNumber&&(("b"==m||"B"==m)&&e.match(/^'[01]+'/)||"0"==m&&e.match(/^b[01]+/)))return"number";if(m.charCodeAt(0)>47&&m.charCodeAt(0)<58)return e.match(/^[0-9]*(\.[0-9]+)?([eE][-+]?[0-9]+)?/),u.decimallessFloat&&e.match(/^\.(?!\.)/),"number";if("?"==m&&(e.eatSpace()||e.eol()||e.eat(";")))return"variable-3";if("'"==m||'"'==m&&u.doubleQuote)return t.tokenize=(n=m,function(e,t){for(var r,i=!1;null!=(r=e.next());){if(r==n&&!i){t.tokenize=p;break}i=d&&!i&&"\\"==r}return"string"}),t.tokenize(e,t);if((u.nCharCast&&("n"==m||"N"==m)||u.charsetCast&&"_"==m&&e.match(/[a-z][a-z0-9]*/i))&&("'"==e.peek()||'"'==e.peek()))return"keyword";if(u.commentSlashSlash&&"/"==m&&e.eat("/"))return e.skipToEnd(),"comment";if(u.commentHash&&"#"==m||"-"==m&&e.eat("-")&&(!u.commentSpaceRequired||e.eat(" ")))return e.skipToEnd(),"comment";if("/"==m&&e.eat("*"))return t.tokenize=function e(t){return function(n,r){var i=n.match(/^.*?(\/\*|\*\/)/);return i?"/*"==i[1]?r.tokenize=e(t+1):r.tokenize=t>1?e(t-1):p:n.skipToEnd(),"comment"}}(1),t.tokenize(e,t);if("."!=m){if(s.test(m))return e.eatWhile(s),"operator";if(f.test(m))return"bracket";if(h.test(m))return e.eatWhile(h),"punctuation";if("{"==m&&(e.match(/^( )*(d|D|t|T|ts|TS)( )*'[^']*'( )*}/)||e.match(/^( )*(d|D|t|T|ts|TS)( )*"[^"]*"( )*}/)))return"number";e.eatWhile(/^[_\w\d]/);var y=e.current().toLowerCase();return c.hasOwnProperty(y)&&(e.match(/^( )+'[^']*'/)||e.match(/^( )+"[^"]*"/))?"number":i.hasOwnProperty(y)?"atom":o.hasOwnProperty(y)?"builtin":a.hasOwnProperty(y)?"keyword":r.hasOwnProperty(y)?"string-2":null}return u.zerolessFloat&&e.match(/^(?:\d+(?:e[+-]?\d+)?)/i)?"number":e.match(/^\.+/)?null:u.ODBCdotTable&&e.match(/^[\w\d_]+/)?"variable-2":void 0}function m(e,t,n){t.context={prev:t.context,indent:e.indentation(),col:e.column(),type:n}}return{startState:function(){return{tokenize:p,context:null}},token:function(e,t){if(e.sol()&&t.context&&null==t.context.align&&(t.context.align=!1),t.tokenize==p&&e.eatSpace())return null;var n=t.tokenize(e,t);if("comment"==n)return n;t.context&&null==t.context.align&&(t.context.align=!0);var r=e.current();return"("==r?m(e,t,")"):"["==r?m(e,t,"]"):t.context&&t.context.type==r&&function(e){e.indent=e.context.indent,e.context=e.context.prev}(t),n},indent:function(n,r){var i=n.context;if(!i)return e.Pass;var o=r.charAt(0)==i.type;return i.align?i.col+(o?0:1):i.indent+(o?0:t.indentUnit)},blockCommentStart:"/*",blockCommentEnd:"*/",lineComment:u.commentSlashSlash?"//":u.commentHash?"#":"--",closeBrackets:"()[]{}''\"\"``"}}),function(){function t(e){for(var t;null!=(t=e.next());)if("`"==t&&!e.eat("`"))return"variable-2";return e.backUp(e.current().length-1),e.eatWhile(/\w/)?"variable-2":null}function n(e){return e.eat("@")&&(e.match(/^session\./),e.match(/^local\./),e.match(/^global\./)),e.eat("'")?(e.match(/^.*'/),"variable-2"):e.eat('"')?(e.match(/^.*"/),"variable-2"):e.eat("`")?(e.match(/^.*`/),"variable-2"):e.match(/^[0-9a-zA-Z$\.\_]+/)?"variable-2":null}function r(e){return e.eat("N")?"atom":e.match(/^[a-zA-Z.#!?]/)?"variable-2":null}var i="alter and as asc between by count create delete desc distinct drop from group having in insert into is join like not on or order select set table union update values where limit ";function o(e){for(var t={},n=e.split(" "),r=0;r<n.length;++r)t[n[r]]=!0;return t}e.defineMIME("text/x-sql",{name:"sql",keywords:o(i+"begin"),builtin:o("bool boolean bit blob enum long longblob longtext medium mediumblob mediumint mediumtext time timestamp tinyblob tinyint tinytext text bigint int int1 int2 int3 int4 int8 integer float float4 float8 double char varbinary varchar varcharacter precision real date datetime year unsigned signed decimal numeric"),atoms:o("false true null unknown"),operatorChars:/^[*+\-%<>!=]/,dateSQL:o("date time timestamp"),support:o("ODBCdotTable doubleQuote binaryNumber hexNumber")}),e.defineMIME("text/x-mssql",{name:"sql",client:o("$partition binary_checksum checksum connectionproperty context_info current_request_id error_line error_message error_number error_procedure error_severity error_state formatmessage get_filestream_transaction_context getansinull host_id host_name isnull isnumeric min_active_rowversion newid newsequentialid rowcount_big xact_state object_id"),keywords:o(i+"begin trigger proc view index for add constraint key primary foreign collate clustered nonclustered declare exec go if use index holdlock nolock nowait paglock readcommitted readcommittedlock readpast readuncommitted repeatableread rowlock serializable snapshot tablock tablockx updlock with"),builtin:o("bigint numeric bit smallint decimal smallmoney int tinyint money float real char varchar text nchar nvarchar ntext binary varbinary image cursor timestamp hierarchyid uniqueidentifier sql_variant xml table "),atoms:o("is not null like and or in left right between inner outer join all any some cross unpivot pivot exists"),operatorChars:/^[*+\-%<>!=^\&|\/]/,brackets:/^[\{}\(\)]/,punctuation:/^[;.,:/]/,backslashStringEscapes:!1,dateSQL:o("date datetimeoffset datetime2 smalldatetime datetime time"),hooks:{"@":n}}),e.defineMIME("text/x-mysql",{name:"sql",client:o("charset clear connect edit ego exit go help nopager notee nowarning pager print prompt quit rehash source status system tee"),keywords:o(i+"accessible action add after algorithm all analyze asensitive at authors auto_increment autocommit avg avg_row_length before binary binlog both btree cache call cascade cascaded case catalog_name chain change changed character check checkpoint checksum class_origin client_statistics close coalesce code collate collation collations column columns comment commit committed completion concurrent condition connection consistent constraint contains continue contributors convert cross current current_date current_time current_timestamp current_user cursor data database databases day_hour day_microsecond day_minute day_second deallocate dec declare default delay_key_write delayed delimiter des_key_file describe deterministic dev_pop dev_samp deviance diagnostics directory disable discard distinctrow div dual dumpfile each elseif enable enclosed end ends engine engines enum errors escape escaped even event events every execute exists exit explain extended fast fetch field fields first flush for force foreign found_rows full fulltext function general get global grant grants group group_concat handler hash help high_priority hosts hour_microsecond hour_minute hour_second if ignore ignore_server_ids import index index_statistics infile inner innodb inout insensitive insert_method install interval invoker isolation iterate key keys kill language last leading leave left level limit linear lines list load local localtime localtimestamp lock logs low_priority master master_heartbeat_period master_ssl_verify_server_cert masters match max max_rows maxvalue message_text middleint migrate min min_rows minute_microsecond minute_second mod mode modifies modify mutex mysql_errno natural next no no_write_to_binlog offline offset one online open optimize option optionally out outer outfile pack_keys parser partition partitions password phase plugin plugins prepare preserve prev primary privileges procedure processlist profile profiles purge query quick range read read_write reads real rebuild recover references regexp relaylog release remove rename reorganize repair repeatable replace require resignal restrict resume return returns revoke right rlike rollback rollup row row_format rtree savepoint schedule schema schema_name schemas second_microsecond security sensitive separator serializable server session share show signal slave slow smallint snapshot soname spatial specific sql sql_big_result sql_buffer_result sql_cache sql_calc_found_rows sql_no_cache sql_small_result sqlexception sqlstate sqlwarning ssl start starting starts status std stddev stddev_pop stddev_samp storage straight_join subclass_origin sum suspend table_name table_statistics tables tablespace temporary terminated to trailing transaction trigger triggers truncate uncommitted undo uninstall unique unlock upgrade usage use use_frm user user_resources user_statistics using utc_date utc_time utc_timestamp value variables varying view views warnings when while with work write xa xor year_month zerofill begin do then else loop repeat"),builtin:o("bool boolean bit blob decimal double float long longblob longtext medium mediumblob mediumint mediumtext time timestamp tinyblob tinyint tinytext text bigint int int1 int2 int3 int4 int8 integer float float4 float8 double char varbinary varchar varcharacter precision date datetime year unsigned signed numeric"),atoms:o("false true null unknown"),operatorChars:/^[*+\-%<>!=&|^]/,dateSQL:o("date time timestamp"),support:o("ODBCdotTable decimallessFloat zerolessFloat binaryNumber hexNumber doubleQuote nCharCast charsetCast commentHash commentSpaceRequired"),hooks:{"@":n,"`":t,"\\":r}}),e.defineMIME("text/x-mariadb",{name:"sql",client:o("charset clear connect edit ego exit go help nopager notee nowarning pager print prompt quit rehash source status system tee"),keywords:o(i+"accessible action add after algorithm all always analyze asensitive at authors auto_increment autocommit avg avg_row_length before binary binlog both btree cache call cascade cascaded case catalog_name chain change changed character check checkpoint checksum class_origin client_statistics close coalesce code collate collation collations column columns comment commit committed completion concurrent condition connection consistent constraint contains continue contributors convert cross current current_date current_time current_timestamp current_user cursor data database databases day_hour day_microsecond day_minute day_second deallocate dec declare default delay_key_write delayed delimiter des_key_file describe deterministic dev_pop dev_samp deviance diagnostics directory disable discard distinctrow div dual dumpfile each elseif enable enclosed end ends engine engines enum errors escape escaped even event events every execute exists exit explain extended fast fetch field fields first flush for force foreign found_rows full fulltext function general generated get global grant grants group groupby_concat handler hard hash help high_priority hosts hour_microsecond hour_minute hour_second if ignore ignore_server_ids import index index_statistics infile inner innodb inout insensitive insert_method install interval invoker isolation iterate key keys kill language last leading leave left level limit linear lines list load local localtime localtimestamp lock logs low_priority master master_heartbeat_period master_ssl_verify_server_cert masters match max max_rows maxvalue message_text middleint migrate min min_rows minute_microsecond minute_second mod mode modifies modify mutex mysql_errno natural next no no_write_to_binlog offline offset one online open optimize option optionally out outer outfile pack_keys parser partition partitions password persistent phase plugin plugins prepare preserve prev primary privileges procedure processlist profile profiles purge query quick range read read_write reads real rebuild recover references regexp relaylog release remove rename reorganize repair repeatable replace require resignal restrict resume return returns revoke right rlike rollback rollup row row_format rtree savepoint schedule schema schema_name schemas second_microsecond security sensitive separator serializable server session share show shutdown signal slave slow smallint snapshot soft soname spatial specific sql sql_big_result sql_buffer_result sql_cache sql_calc_found_rows sql_no_cache sql_small_result sqlexception sqlstate sqlwarning ssl start starting starts status std stddev stddev_pop stddev_samp storage straight_join subclass_origin sum suspend table_name table_statistics tables tablespace temporary terminated to trailing transaction trigger triggers truncate uncommitted undo uninstall unique unlock upgrade usage use use_frm user user_resources user_statistics using utc_date utc_time utc_timestamp value variables varying view views virtual warnings when while with work write xa xor year_month zerofill begin do then else loop repeat"),builtin:o("bool boolean bit blob decimal double float long longblob longtext medium mediumblob mediumint mediumtext time timestamp tinyblob tinyint tinytext text bigint int int1 int2 int3 int4 int8 integer float float4 float8 double char varbinary varchar varcharacter precision date datetime year unsigned signed numeric"),atoms:o("false true null unknown"),operatorChars:/^[*+\-%<>!=&|^]/,dateSQL:o("date time timestamp"),support:o("ODBCdotTable decimallessFloat zerolessFloat binaryNumber hexNumber doubleQuote nCharCast charsetCast commentHash commentSpaceRequired"),hooks:{"@":n,"`":t,"\\":r}}),e.defineMIME("text/x-sqlite",{name:"sql",client:o("auth backup bail binary changes check clone databases dbinfo dump echo eqp exit explain fullschema headers help import imposter indexes iotrace limit lint load log mode nullvalue once open output print prompt quit read restore save scanstats schema separator session shell show stats system tables testcase timeout timer trace vfsinfo vfslist vfsname width"),keywords:o(i+"abort action add after all analyze attach autoincrement before begin cascade case cast check collate column commit conflict constraint cross current_date current_time current_timestamp database default deferrable deferred detach each else end escape except exclusive exists explain fail for foreign full glob if ignore immediate index indexed initially inner instead intersect isnull key left limit match natural no notnull null of offset outer plan pragma primary query raise recursive references regexp reindex release rename replace restrict right rollback row savepoint temp temporary then to transaction trigger unique using vacuum view virtual when with without"),builtin:o("bool boolean bit blob decimal double float long longblob longtext medium mediumblob mediumint mediumtext time timestamp tinyblob tinyint tinytext text clob bigint int int2 int8 integer float double char varchar date datetime year unsigned signed numeric real"),atoms:o("null current_date current_time current_timestamp"),operatorChars:/^[*+\-%<>!=&|/~]/,dateSQL:o("date time timestamp datetime"),support:o("decimallessFloat zerolessFloat"),identifierQuote:'"',hooks:{"@":n,":":n,"?":n,$:n,'"':function(e){for(var t;null!=(t=e.next());)if('"'==t&&!e.eat('"'))return"variable-2";return e.backUp(e.current().length-1),e.eatWhile(/\w/)?"variable-2":null},"`":t}}),e.defineMIME("text/x-cassandra",{name:"sql",client:{},keywords:o("add all allow alter and any apply as asc authorize batch begin by clustering columnfamily compact consistency count create custom delete desc distinct drop each_quorum exists filtering from grant if in index insert into key keyspace keyspaces level limit local_one local_quorum modify nan norecursive nosuperuser not of on one order password permission permissions primary quorum rename revoke schema select set storage superuser table three to token truncate ttl two type unlogged update use user users using values where with writetime"),builtin:o("ascii bigint blob boolean counter decimal double float frozen inet int list map static text timestamp timeuuid tuple uuid varchar varint"),atoms:o("false true infinity NaN"),operatorChars:/^[<>=]/,dateSQL:{},support:o("commentSlashSlash decimallessFloat"),hooks:{}}),e.defineMIME("text/x-plsql",{name:"sql",client:o("appinfo arraysize autocommit autoprint autorecovery autotrace blockterminator break btitle cmdsep colsep compatibility compute concat copycommit copytypecheck define describe echo editfile embedded escape exec execute feedback flagger flush heading headsep instance linesize lno loboffset logsource long longchunksize markup native newpage numformat numwidth pagesize pause pno recsep recsepchar release repfooter repheader serveroutput shiftinout show showmode size spool sqlblanklines sqlcase sqlcode sqlcontinue sqlnumber sqlpluscompatibility sqlprefix sqlprompt sqlterminator suffix tab term termout time timing trimout trimspool ttitle underline verify version wrap"),keywords:o("abort accept access add all alter and any array arraylen as asc assert assign at attributes audit authorization avg base_table begin between binary_integer body boolean by case cast char char_base check close cluster clusters colauth column comment commit compress connect connected constant constraint crash create current currval cursor data_base database date dba deallocate debugoff debugon decimal declare default definition delay delete desc digits dispose distinct do drop else elseif elsif enable end entry escape exception exception_init exchange exclusive exists exit external fast fetch file for force form from function generic goto grant group having identified if immediate in increment index indexes indicator initial initrans insert interface intersect into is key level library like limited local lock log logging long loop master maxextents maxtrans member minextents minus mislabel mode modify multiset new next no noaudit nocompress nologging noparallel not nowait number_base object of off offline on online only open option or order out package parallel partition pctfree pctincrease pctused pls_integer positive positiven pragma primary prior private privileges procedure public raise range raw read rebuild record ref references refresh release rename replace resource restrict return returning returns reverse revoke rollback row rowid rowlabel rownum rows run savepoint schema segment select separate session set share snapshot some space split sql start statement storage subtype successful synonym tabauth table tables tablespace task terminate then to trigger truncate type union unique unlimited unrecoverable unusable update use using validate value values variable view views when whenever where while with work"),builtin:o("abs acos add_months ascii asin atan atan2 average bfile bfilename bigserial bit blob ceil character chartorowid chr clob concat convert cos cosh count dec decode deref dual dump dup_val_on_index empty error exp false float floor found glb greatest hextoraw initcap instr instrb int integer isopen last_day least length lengthb ln lower lpad ltrim lub make_ref max min mlslabel mod months_between natural naturaln nchar nclob new_time next_day nextval nls_charset_decl_len nls_charset_id nls_charset_name nls_initcap nls_lower nls_sort nls_upper nlssort no_data_found notfound null number numeric nvarchar2 nvl others power rawtohex real reftohex round rowcount rowidtochar rowtype rpad rtrim serial sign signtype sin sinh smallint soundex sqlcode sqlerrm sqrt stddev string substr substrb sum sysdate tan tanh to_char text to_date to_label to_multi_byte to_number to_single_byte translate true trunc uid unlogged upper user userenv varchar varchar2 variance varying vsize xml"),operatorChars:/^[*+\-%<>!=~]/,dateSQL:o("date time timestamp"),support:o("doubleQuote nCharCast zerolessFloat binaryNumber hexNumber")}),e.defineMIME("text/x-hive",{name:"sql",keywords:o("select alter $elem$ $key$ $value$ add after all analyze and archive as asc before between binary both bucket buckets by cascade case cast change cluster clustered clusterstatus collection column columns comment compute concatenate continue create cross cursor data database databases dbproperties deferred delete delimited desc describe directory disable distinct distribute drop else enable end escaped exclusive exists explain export extended external fetch fields fileformat first format formatted from full function functions grant group having hold_ddltime idxproperties if import in index indexes inpath inputdriver inputformat insert intersect into is items join keys lateral left like limit lines load local location lock locks mapjoin materialized minus msck no_drop nocompress not of offline on option or order out outer outputdriver outputformat overwrite partition partitioned partitions percent plus preserve procedure purge range rcfile read readonly reads rebuild recordreader recordwriter recover reduce regexp rename repair replace restrict revoke right rlike row schema schemas semi sequencefile serde serdeproperties set shared show show_database sort sorted ssl statistics stored streamtable table tables tablesample tblproperties temporary terminated textfile then tmp to touch transform trigger unarchive undo union uniquejoin unlock update use using utc utc_tmestamp view when where while with admin authorization char compact compactions conf cube current current_date current_timestamp day decimal defined dependency directories elem_type exchange file following for grouping hour ignore inner interval jar less logical macro minute month more none noscan over owner partialscan preceding pretty principals protection reload rewrite role roles rollup rows second server sets skewed transactions truncate unbounded unset uri user values window year"),builtin:o("bool boolean long timestamp tinyint smallint bigint int float double date datetime unsigned string array struct map uniontype key_type utctimestamp value_type varchar"),atoms:o("false true null unknown"),operatorChars:/^[*+\-%<>!=]/,dateSQL:o("date timestamp"),support:o("ODBCdotTable doubleQuote binaryNumber hexNumber")}),e.defineMIME("text/x-pgsql",{name:"sql",client:o("source"),keywords:o(i+"a abort abs absent absolute access according action ada add admin after aggregate all allocate also always analyse analyze any are array array_agg array_max_cardinality asensitive assertion assignment asymmetric at atomic attribute attributes authorization avg backward base64 before begin begin_frame begin_partition bernoulli binary bit_length blob blocked bom both breadth c cache call called cardinality cascade cascaded case cast catalog catalog_name ceil ceiling chain characteristics characters character_length character_set_catalog character_set_name character_set_schema char_length check checkpoint class class_origin clob close cluster coalesce cobol collate collation collation_catalog collation_name collation_schema collect column columns column_name command_function command_function_code comment comments commit committed concurrently condition condition_number configuration conflict connect connection connection_name constraint constraints constraint_catalog constraint_name constraint_schema constructor contains content continue control conversion convert copy corr corresponding cost covar_pop covar_samp cross csv cube cume_dist current current_catalog current_date current_default_transform_group current_path current_role current_row current_schema current_time current_timestamp current_transform_group_for_type current_user cursor cursor_name cycle data database datalink datetime_interval_code datetime_interval_precision day db deallocate dec declare default defaults deferrable deferred defined definer degree delimiter delimiters dense_rank depth deref derived describe descriptor deterministic diagnostics dictionary disable discard disconnect dispatch dlnewcopy dlpreviouscopy dlurlcomplete dlurlcompleteonly dlurlcompletewrite dlurlpath dlurlpathonly dlurlpathwrite dlurlscheme dlurlserver dlvalue do document domain dynamic dynamic_function dynamic_function_code each element else empty enable encoding encrypted end end-exec end_frame end_partition enforced enum equals escape event every except exception exclude excluding exclusive exec execute exists exp explain expression extension external extract false family fetch file filter final first first_value flag float floor following for force foreign fortran forward found frame_row free freeze fs full function functions fusion g general generated get global go goto grant granted greatest grouping groups handler header hex hierarchy hold hour id identity if ignore ilike immediate immediately immutable implementation implicit import including increment indent index indexes indicator inherit inherits initially inline inner inout input insensitive instance instantiable instead integrity intersect intersection invoker isnull isolation k key key_member key_type label lag language large last last_value lateral lc_collate lc_ctype lead leading leakproof least left length level library like_regex link listen ln load local localtime localtimestamp location locator lock locked logged lower m map mapping match matched materialized max maxvalue max_cardinality member merge message_length message_octet_length message_text method min minute minvalue mod mode modifies module month more move multiset mumps name names namespace national natural nchar nclob nesting new next nfc nfd nfkc nfkd nil no none normalize normalized nothing notify notnull nowait nth_value ntile null nullable nullif nulls number object occurrences_regex octets octet_length of off offset oids old only open operator option options ordering ordinality others out outer output over overlaps overlay overriding owned owner p pad parallel parameter parameter_mode parameter_name parameter_ordinal_position parameter_specific_catalog parameter_specific_name parameter_specific_schema parser partial partition pascal passing passthrough password percent percentile_cont percentile_disc percent_rank period permission placing plans pli policy portion position position_regex power precedes preceding prepare prepared preserve primary prior privileges procedural procedure program public quote range rank read reads reassign recheck recovery recursive ref references referencing refresh regr_avgx regr_avgy regr_count regr_intercept regr_r2 regr_slope regr_sxx regr_sxy regr_syy reindex relative release rename repeatable replace replica requiring reset respect restart restore restrict restricted result return returned_cardinality returned_length returned_octet_length returned_sqlstate returning returns revoke right role rollback rollup routine routine_catalog routine_name routine_schema row rows row_count row_number rule savepoint scale schema schema_name scope scope_catalog scope_name scope_schema scroll search second section security selective self sensitive sequence sequences serializable server server_name session session_user setof sets share show similar simple size skip snapshot some source space specific specifictype specific_name sql sqlcode sqlerror sqlexception sqlstate sqlwarning sqrt stable standalone start state statement static statistics stddev_pop stddev_samp stdin stdout storage strict strip structure style subclass_origin submultiset substring substring_regex succeeds sum symmetric sysid system system_time system_user t tables tablesample tablespace table_name temp template temporary then ties timezone_hour timezone_minute to token top_level_count trailing transaction transactions_committed transactions_rolled_back transaction_active transform transforms translate translate_regex translation treat trigger trigger_catalog trigger_name trigger_schema trim trim_array true truncate trusted type types uescape unbounded uncommitted under unencrypted unique unknown unlink unlisten unlogged unnamed unnest until untyped upper uri usage user user_defined_type_catalog user_defined_type_code user_defined_type_name user_defined_type_schema using vacuum valid validate validator value value_of varbinary variadic var_pop var_samp verbose version versioning view views volatile when whenever whitespace width_bucket window within work wrapper write xmlagg xmlattributes xmlbinary xmlcast xmlcomment xmlconcat xmldeclaration xmldocument xmlelement xmlexists xmlforest xmliterate xmlnamespaces xmlparse xmlpi xmlquery xmlroot xmlschema xmlserialize xmltable xmltext xmlvalidate year yes loop repeat attach path depends detach zone"),builtin:o("bigint int8 bigserial serial8 bit varying varbit boolean bool box bytea character char varchar cidr circle date double precision float8 inet integer int int4 interval json jsonb line lseg macaddr macaddr8 money numeric decimal path pg_lsn point polygon real float4 smallint int2 smallserial serial2 serial serial4 text time without zone with timetz timestamp timestamptz tsquery tsvector txid_snapshot uuid xml"),atoms:o("false true null unknown"),operatorChars:/^[*+\-%<>!=&|^\/#@?~]/,dateSQL:o("date time timestamp"),support:o("ODBCdotTable decimallessFloat zerolessFloat binaryNumber hexNumber nCharCast charsetCast")}),e.defineMIME("text/x-gql",{name:"sql",keywords:o("ancestor and asc by contains desc descendant distinct from group has in is limit offset on order select superset where"),atoms:o("false true"),builtin:o("blob datetime first key __key__ string integer double boolean null"),operatorChars:/^[*+\-%<>!=]/}),e.defineMIME("text/x-gpsql",{name:"sql",client:o("source"),keywords:o("abort absolute access action active add admin after aggregate all also alter always analyse analyze and any array as asc assertion assignment asymmetric at authorization backward before begin between bigint binary bit boolean both by cache called cascade cascaded case cast chain char character characteristics check checkpoint class close cluster coalesce codegen collate column comment commit committed concurrency concurrently configuration connection constraint constraints contains content continue conversion copy cost cpu_rate_limit create createdb createexttable createrole createuser cross csv cube current current_catalog current_date current_role current_schema current_time current_timestamp current_user cursor cycle data database day deallocate dec decimal declare decode default defaults deferrable deferred definer delete delimiter delimiters deny desc dictionary disable discard distinct distributed do document domain double drop dxl each else enable encoding encrypted end enum errors escape every except exchange exclude excluding exclusive execute exists explain extension external extract false family fetch fields filespace fill filter first float following for force foreign format forward freeze from full function global grant granted greatest group group_id grouping handler hash having header hold host hour identity if ignore ilike immediate immutable implicit in including inclusive increment index indexes inherit inherits initially inline inner inout input insensitive insert instead int integer intersect interval into invoker is isnull isolation join key language large last leading least left level like limit list listen load local localtime localtimestamp location lock log login mapping master match maxvalue median merge minute minvalue missing mode modifies modify month move name names national natural nchar new newline next no nocreatedb nocreateexttable nocreaterole nocreateuser noinherit nologin none noovercommit nosuperuser not nothing notify notnull nowait null nullif nulls numeric object of off offset oids old on only operator option options or order ordered others out outer over overcommit overlaps overlay owned owner parser partial partition partitions passing password percent percentile_cont percentile_disc placing plans position preceding precision prepare prepared preserve primary prior privileges procedural procedure protocol queue quote randomly range read readable reads real reassign recheck recursive ref references reindex reject relative release rename repeatable replace replica reset resource restart restrict returning returns revoke right role rollback rollup rootpartition row rows rule savepoint scatter schema scroll search second security segment select sequence serializable session session_user set setof sets share show similar simple smallint some split sql stable standalone start statement statistics stdin stdout storage strict strip subpartition subpartitions substring superuser symmetric sysid system table tablespace temp template temporary text then threshold ties time timestamp to trailing transaction treat trigger trim true truncate trusted type unbounded uncommitted unencrypted union unique unknown unlisten until update user using vacuum valid validation validator value values varchar variadic varying verbose version view volatile web when where whitespace window with within without work writable write xml xmlattributes xmlconcat xmlelement xmlexists xmlforest xmlparse xmlpi xmlroot xmlserialize year yes zone"),builtin:o("bigint int8 bigserial serial8 bit varying varbit boolean bool box bytea character char varchar cidr circle date double precision float float8 inet integer int int4 interval json jsonb line lseg macaddr macaddr8 money numeric decimal path pg_lsn point polygon real float4 smallint int2 smallserial serial2 serial serial4 text time without zone with timetz timestamp timestamptz tsquery tsvector txid_snapshot uuid xml"),atoms:o("false true null unknown"),operatorChars:/^[*+\-%<>!=&|^\/#@?~]/,dateSQL:o("date time timestamp"),support:o("ODBCdotTable decimallessFloat zerolessFloat binaryNumber hexNumber nCharCast charsetCast")}),e.defineMIME("text/x-sparksql",{name:"sql",keywords:o("add after all alter analyze and anti archive array as asc at between bucket buckets by cache cascade case cast change clear cluster clustered codegen collection column columns comment commit compact compactions compute concatenate cost create cross cube current current_date current_timestamp database databases datata dbproperties defined delete delimited deny desc describe dfs directories distinct distribute drop else end escaped except exchange exists explain export extended external false fields fileformat first following for format formatted from full function functions global grant group grouping having if ignore import in index indexes inner inpath inputformat insert intersect interval into is items join keys last lateral lazy left like limit lines list load local location lock locks logical macro map minus msck natural no not null nulls of on optimize option options or order out outer outputformat over overwrite partition partitioned partitions percent preceding principals purge range recordreader recordwriter recover reduce refresh regexp rename repair replace reset restrict revoke right rlike role roles rollback rollup row rows schema schemas select semi separated serde serdeproperties set sets show skewed sort sorted start statistics stored stratify struct table tables tablesample tblproperties temp temporary terminated then to touch transaction transactions transform true truncate unarchive unbounded uncache union unlock unset use using values view when where window with"),builtin:o("tinyint smallint int bigint boolean float double string binary timestamp decimal array map struct uniontype delimited serde sequencefile textfile rcfile inputformat outputformat"),atoms:o("false true null"),operatorChars:/^[*+\-%<>!=~&|^]/,dateSQL:o("date time timestamp"),support:o("ODBCdotTable doubleQuote zerolessFloat")}),e.defineMIME("text/x-esper",{name:"sql",client:o("source"),keywords:o("alter and as asc between by count create delete desc distinct drop from group having in insert into is join like not on or order select set table union update values where limit after all and as at asc avedev avg between by case cast coalesce count create current_timestamp day days delete define desc distinct else end escape events every exists false first from full group having hour hours in inner insert instanceof into irstream is istream join last lastweekday left limit like max match_recognize matches median measures metadatasql min minute minutes msec millisecond milliseconds not null offset on or order outer output partition pattern prev prior regexp retain-union retain-intersection right rstream sec second seconds select set some snapshot sql stddev sum then true unidirectional until update variable weekday when where window"),builtin:{},atoms:o("false true null"),operatorChars:/^[*+\-%<>!=&|^\/#@?~]/,dateSQL:o("time"),support:o("decimallessFloat zerolessFloat binaryNumber hexNumber")})}()})(n(69))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(69);r.extendMode("css",{commentStart:"/*",commentEnd:"*/",newlineAfterToken:function(e,t){return/^[;{}]$/.test(t)}}),r.extendMode("javascript",{commentStart:"/*",commentEnd:"*/",newlineAfterToken:function(e,t,n,r){return this.jsonMode?/^[\[,{]$/.test(t)||/^}/.test(n):(";"!=t||!r.lexical||")"!=r.lexical.type)&&/^[;{}]$/.test(t)&&!/^;/.test(n)}}),r.extendMode("xml",{commentStart:"\x3c!--",commentEnd:"--\x3e",newlineAfterToken:function(e,t,n){return"tag"==e&&/>$/.test(t)||/^</.test(n)}}),r.defineExtension("commentRange",function(e,t,n){var i=this,o=r.innerMode(i.getMode(),i.getTokenAt(t).state).mode;i.operation(function(){if(e)i.replaceRange(o.commentEnd,n),i.replaceRange(o.commentStart,t),t.line==n.line&&t.ch==n.ch&&i.setCursor(t.line,t.ch+o.commentStart.length);else{var r=i.getRange(t,n),a=r.indexOf(o.commentStart),s=r.lastIndexOf(o.commentEnd);a>-1&&s>-1&&s>a&&(r=r.substr(0,a)+r.substring(a+o.commentStart.length,s)+r.substr(s+o.commentEnd.length)),i.replaceRange(r,t,n)}})}),r.defineExtension("autoIndentRange",function(e,t){var n=this;this.operation(function(){for(var r=e.line;r<=t.line;r++)n.indentLine(r,"smart")})}),r.defineExtension("autoFormatRange",function(e,t){var n=this,i=n.getMode(),o=n.getRange(e,t).split("\n"),a=r.copyState(i,n.getTokenAt(e).state),s=n.getOption("tabSize"),u="",l=0,c=0==e.ch;function d(){u+="\n",c=!0,++l}for(var f=0;f<o.length;++f){for(var h=new r.StringStream(o[f],s);!h.eol();){var p=r.innerMode(i,a),m=i.token(h,a),g=h.current();h.start=h.pos,c&&!/\S/.test(g)||(u+=g,c=!1),!c&&p.mode.newlineAfterToken&&p.mode.newlineAfterToken(m,g,h.string.slice(h.pos)||o[f+1]||"",p.state)&&d()}!h.pos&&i.blankLine&&i.blankLine(a),c||d()}n.operation(function(){n.replaceRange(u,e,t);for(var r=e.line+1,i=e.line+l;r<=i;++r)n.indentLine(r,"smart");n.setSelection(e,n.getCursor(!1))})})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(285);t.StyledWrapper=r.default.div`
   display:flex;
   flex-direction: ${e=>e.direction?e.direction:"column"}; 
   margin-top: ${e=>e.top?e.top:"0"}px; 
   margin-bottom: ${e=>e.bottom?e.bottom:"0"}px; 
`,t.StyledLabel=r.default.label`
    color: white;
    min-width: ${e=>e.minWidth?e.minWidth:80}px;
`,t.StyledInput=r.default.input`
    margin-left: 10px;
    background: transparent;
    border-width: 0 0 1px;
    border-color: gray;
    color:gray;
    &:focus {
        border-color: red;
      }
`,t.StyledButton=r.default.button`
   margin:${e=>e.margin?e.margin:0}px;
   margin-left:${e=>e.marginLeft?e.marginLeft:0}px;
   margin-right:${e=>e.marginRight?e.marginRight:0}px;
   margin-top:${e=>e.marginTop?e.marginTop:0}px;
   margin-bottom:${e=>e.marginBottom?e.marginBottom:0}px;

`,t.StyledConnectionGroup=r.default.div`
   display:flex;
   flex-direction: row; 
`,t.StyledConnection=r.default.div`
   display:flex;
   flex-direction: column; 
`,t.StyledConnectionRow=r.default.div`
   display:flex;
   flex-direction: row;
   align-items: center;
`,t.StyledConnectionTestGroup=r.default.div`
   display:flex;
   flex-direction: column; 
   margin-left: 10px;
   justify-content: space-between;
`,t.StyledSpan=r.default.span`
    white-space: pre-wrap;
    color:${e=>e.color};
`,t.StyledResult=r.default(t.StyledWrapper)`
    color:${e=>e.color};
    height:${e=>e.height}px;
    border:${e=>e.border};
    padding:${e=>e.padding}px;
    overflow-y:${e=>e.overFlow?"scroll":"none"};
`},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1),i=n(1),o=n(1794),a=n(640),s=n(1886);t.default=class extends i.Component{constructor(e){super(e),this.state={server:"gremlin.kineviz.com:8182",username:"",password:"",queryString:"nodes = g.V().limit(50).toList();edges = g.V(nodes).aggregate('node').outE().as('edge').inV().where(within('node')).select('edge').toList();[nodes,edges]",resultMsg:{}}}componentDidMount(){}onTextChange(e){this.setState({queryString:e})}showMessage(e,t){let n={status:e,message:t};this.setState({resultMsg:n})}onRun(){let{actions:e}=this.props;const t=new o.driver.Client("wss://gremlin.kineviz.com/gremlin",{traversalSource:"g",rejectUnauthorized:!1});t.open();const{queryString:n}=this.state;try{let r=this;t.submit(n,null).then(function(t){let n={nodes:[],edges:[]};if(null==t._items||null==t._items[0])return void r.showMessage(1,"please make sure your gremlin are correct");if(!(t._items[0]instanceof Array))return void r.showMessage(0,JSON.stringify(t));let i=t._items[0].map(e=>{let t={};return Object.keys(e.properties||{}).map(n=>{let r=e.properties[n][0].value;t[n]=r}),{id:e.id,label:e.label,properties:t}}),o=t._items[1]?t._items[1].map(e=>({id:e.id,type:e.label,sourceId:e.inV,targetId:e.outV})):[];n.nodes=i,n.edges=o,e.loadGraph(n),r.showMessage(0,JSON.stringify(t))})}catch(e){console.log(e)}}render(){let{resultMsg:e,queryString:t,server:n}=this.state;return r.createElement(s.StyledWrapper,null,r.createElement(s.StyledConnectionGroup,null,r.createElement(s.StyledConnection,null,r.createElement(s.StyledConnectionRow,null,r.createElement(s.StyledLabel,null,"Server"),r.createElement(s.StyledInput,{placeholder:n,value:n,onChange:e=>{}})),r.createElement(s.StyledConnectionRow,null,r.createElement(s.StyledLabel,null,"User Name"),r.createElement(s.StyledInput,{placeholder:"",value:"",onChange:e=>{}})),r.createElement(s.StyledConnectionRow,null,r.createElement(s.StyledLabel,null,"Password"),r.createElement(s.StyledInput,{placeholder:"",type:"password",value:"",onChange:e=>{}})))),r.createElement(s.StyledWrapper,{direction:"row",top:15},r.createElement(a.default,{onTextChange:this.onTextChange.bind(this),mode:"text/x-mysql"}),r.createElement(s.StyledButton,{marginLeft:10,onClick:this.onRun.bind(this)},"Run")),r.createElement(s.StyledResult,{top:10,height:80,padding:5,overFlow:!0,border:"1px solid gray"},e.message?r.createElement(s.StyledSpan,{color:0==e.status?"green":"red"},e.message):null))}}},function(e,t,n){"use strict";var r=n(548),i=n(652),o=n(437),a=n(654),s=n(1146),u=n(653),l=n(556),c=n(1878),d=n(346),f=n(1879),h=n(1147),p=n(1149),m=n(1150),g=n(1882),y=n(1885);e.exports={driver:{RemoteConnection:u.RemoteConnection,RemoteStrategy:u.RemoteStrategy,RemoteTraversal:u.RemoteTraversal,DriverRemoteConnection:f,Client:h,ResultSet:p,auth:{Authenticator:m,PlainTextSaslAuthenticator:g}},process:{Bytecode:l,EnumValue:r.EnumValue,P:r.P,TextP:r.TextP,Traversal:r.Traversal,TraversalSideEffects:r.TraversalSideEffects,TraversalStrategies:o.TraversalStrategies,TraversalStrategy:o.TraversalStrategy,Traverser:r.Traverser,barrier:r.barrier,cardinality:r.cardinality,column:r.column,direction:r.direction,operator:r.operator,order:r.order,pick:r.pick,pop:r.pop,scope:r.scope,t:r.t,GraphTraversal:i.GraphTraversal,GraphTraversalSource:i.GraphTraversalSource,statics:i.statics,Translator:c,traversal:y.traversal,AnonymousTraversalSource:y,withOptions:r.withOptions},structure:{io:{GraphSONReader:s.GraphSONReader,GraphSONWriter:s.GraphSONWriter},Edge:a.Edge,Graph:a.Graph,Path:a.Path,Property:a.Property,Vertex:a.Vertex,VertexProperty:a.VertexProperty,toLong:d.toLong}}},function(e,t,n){"use strict";t.randomBytes=t.rng=t.pseudoRandomBytes=t.prng=n(399),t.createHash=t.Hash=n(430),t.createHmac=t.Hmac=n(1119);var r=n(1810),i=Object.keys(r),o=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(i);t.getHashes=function(){return o};var a=n(1122);t.pbkdf2=a.pbkdf2,t.pbkdf2Sync=a.pbkdf2Sync;var s=n(1812);t.Cipher=s.Cipher,t.createCipher=s.createCipher,t.Cipheriv=s.Cipheriv,t.createCipheriv=s.createCipheriv,t.Decipher=s.Decipher,t.createDecipher=s.createDecipher,t.Decipheriv=s.Decipheriv,t.createDecipheriv=s.createDecipheriv,t.getCiphers=s.getCiphers,t.listCiphers=s.listCiphers;var u=n(1829);t.DiffieHellmanGroup=u.DiffieHellmanGroup,t.createDiffieHellmanGroup=u.createDiffieHellmanGroup,t.getDiffieHellman=u.getDiffieHellman,t.createDiffieHellman=u.createDiffieHellman,t.DiffieHellman=u.DiffieHellman;var l=n(1834);t.createSign=l.createSign,t.Sign=l.Sign,t.createVerify=l.createVerify,t.Verify=l.Verify,t.createECDH=n(1872);var c=n(1873);t.publicEncrypt=c.publicEncrypt,t.privateEncrypt=c.privateEncrypt,t.publicDecrypt=c.publicDecrypt,t.privateDecrypt=c.privateDecrypt;var d=n(1876);t.randomFill=d.randomFill,t.randomFillSync=d.randomFillSync,t.createCredentials=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join("\n"))},t.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}},function(e,t){},function(e,t,n){"use strict";var r=n(40).Buffer,i=n(1798);e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},e.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},e.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(e){if(0===this.length)return"";for(var t=this.head,n=""+t.data;t=t.next;)n+=e+t.data;return n},e.prototype.concat=function(e){if(0===this.length)return r.alloc(0);if(1===this.length)return this.head.data;for(var t,n,i,o=r.allocUnsafe(e>>>0),a=this.head,s=0;a;)t=a.data,n=o,i=s,t.copy(n,i),s+=a.data.length,a=a.next;return o},e}(),i&&i.inspect&&i.inspect.custom&&(e.exports.prototype[i.inspect.custom]=function(){var e=i.inspect({length:this.length});return this.constructor.name+" "+e})},function(e,t){},function(e,t,n){(function(t){function n(e){try{if(!t.localStorage)return!1}catch(e){return!1}var n=t.localStorage[e];return null!=n&&"true"===String(n).toLowerCase()}e.exports=function(e,t){if(n("noDeprecation"))return e;var r=!1;return function(){if(!r){if(n("throwDeprecation"))throw new Error(t);n("traceDeprecation")?console.trace(t):console.warn(t),r=!0}return e.apply(this,arguments)}}}).call(t,n(22))},function(e,t,n){"use strict";e.exports=o;var r=n(1116),i=n(432);function o(e){if(!(this instanceof o))return new o(e);r.call(this,e)}i.inherits=n(38),i.inherits(o,r),o.prototype._transform=function(e,t,n){n(null,e)}},function(e,t,n){e.exports=n(644)},function(e,t,n){e.exports=n(347)},function(e,t,n){e.exports=n(643).Transform},function(e,t,n){e.exports=n(643).PassThrough},function(e,t,n){var r=n(38),i=n(400),o=n(40).Buffer,a=[1518500249,1859775393,-1894007588,-899497514],s=new Array(80);function u(){this.init(),this._w=s,i.call(this,64,56)}function l(e){return e<<30|e>>>2}function c(e,t,n,r){return 0===e?t&n|~t&r:2===e?t&n|t&r|n&r:t^n^r}r(u,i),u.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},u.prototype._update=function(e){for(var t,n=this._w,r=0|this._a,i=0|this._b,o=0|this._c,s=0|this._d,u=0|this._e,d=0;d<16;++d)n[d]=e.readInt32BE(4*d);for(;d<80;++d)n[d]=n[d-3]^n[d-8]^n[d-14]^n[d-16];for(var f=0;f<80;++f){var h=~~(f/20),p=0|((t=r)<<5|t>>>27)+c(h,i,o,s)+u+n[f]+a[h];u=s,s=o,o=l(i),i=r,r=p}this._a=r+this._a|0,this._b=i+this._b|0,this._c=o+this._c|0,this._d=s+this._d|0,this._e=u+this._e|0},u.prototype._hash=function(){var e=o.allocUnsafe(20);return e.writeInt32BE(0|this._a,0),e.writeInt32BE(0|this._b,4),e.writeInt32BE(0|this._c,8),e.writeInt32BE(0|this._d,12),e.writeInt32BE(0|this._e,16),e},e.exports=u},function(e,t,n){var r=n(38),i=n(400),o=n(40).Buffer,a=[1518500249,1859775393,-1894007588,-899497514],s=new Array(80);function u(){this.init(),this._w=s,i.call(this,64,56)}function l(e){return e<<5|e>>>27}function c(e){return e<<30|e>>>2}function d(e,t,n,r){return 0===e?t&n|~t&r:2===e?t&n|t&r|n&r:t^n^r}r(u,i),u.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},u.prototype._update=function(e){for(var t,n=this._w,r=0|this._a,i=0|this._b,o=0|this._c,s=0|this._d,u=0|this._e,f=0;f<16;++f)n[f]=e.readInt32BE(4*f);for(;f<80;++f)n[f]=(t=n[f-3]^n[f-8]^n[f-14]^n[f-16])<<1|t>>>31;for(var h=0;h<80;++h){var p=~~(h/20),m=l(r)+d(p,i,o,s)+u+n[h]+a[p]|0;u=s,s=o,o=c(i),i=r,r=m}this._a=r+this._a|0,this._b=i+this._b|0,this._c=o+this._c|0,this._d=s+this._d|0,this._e=u+this._e|0},u.prototype._hash=function(){var e=o.allocUnsafe(20);return e.writeInt32BE(0|this._a,0),e.writeInt32BE(0|this._b,4),e.writeInt32BE(0|this._c,8),e.writeInt32BE(0|this._d,12),e.writeInt32BE(0|this._e,16),e},e.exports=u},function(e,t,n){var r=n(38),i=n(1117),o=n(400),a=n(40).Buffer,s=new Array(64);function u(){this.init(),this._w=s,o.call(this,64,56)}r(u,i),u.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},u.prototype._hash=function(){var e=a.allocUnsafe(28);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e},e.exports=u},function(e,t,n){var r=n(38),i=n(1118),o=n(400),a=n(40).Buffer,s=new Array(160);function u(){this.init(),this._w=s,o.call(this,128,112)}r(u,i),u.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},u.prototype._hash=function(){var e=a.allocUnsafe(48);function t(t,n,r){e.writeInt32BE(t,r),e.writeInt32BE(n,r+4)}return t(this._ah,this._al,0),t(this._bh,this._bl,8),t(this._ch,this._cl,16),t(this._dh,this._dl,24),t(this._eh,this._el,32),t(this._fh,this._fl,40),e},e.exports=u},function(e,t,n){"use strict";var r=n(38),i=n(40).Buffer,o=n(328),a=i.alloc(128),s=64;function u(e,t){o.call(this,"digest"),"string"==typeof t&&(t=i.from(t)),this._alg=e,this._key=t,t.length>s?t=e(t):t.length<s&&(t=i.concat([t,a],s));for(var n=this._ipad=i.allocUnsafe(s),r=this._opad=i.allocUnsafe(s),u=0;u<s;u++)n[u]=54^t[u],r[u]=92^t[u];this._hash=[n]}r(u,o),u.prototype._update=function(e){this._hash.push(e)},u.prototype._final=function(){var e=this._alg(i.concat(this._hash));return this._alg(i.concat([this._opad,e]))},e.exports=u},function(e,t,n){e.exports=n(1121)},function(e,t,n){(function(t,r){var i,o=n(1123),a=n(1124),s=n(1125),u=n(40).Buffer,l=t.crypto&&t.crypto.subtle,c={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},d=[];function f(e,t,n,r,i){return l.importKey("raw",e,{name:"PBKDF2"},!1,["deriveBits"]).then(function(e){return l.deriveBits({name:"PBKDF2",salt:t,iterations:n,hash:{name:i}},e,r<<3)}).then(function(e){return u.from(e)})}e.exports=function(e,n,h,p,m,g){"function"==typeof m&&(g=m,m=void 0);var y=c[(m=m||"sha1").toLowerCase()];if(!y||"function"!=typeof t.Promise)return r.nextTick(function(){var t;try{t=s(e,n,h,p,m)}catch(e){return g(e)}g(null,t)});if(o(e,n,h,p),"function"!=typeof g)throw new Error("No callback provided to pbkdf2");u.isBuffer(e)||(e=u.from(e,a)),u.isBuffer(n)||(n=u.from(n,a)),function(e,t){e.then(function(e){r.nextTick(function(){t(null,e)})},function(e){r.nextTick(function(){t(e)})})}(function(e){if(t.process&&!t.process.browser)return Promise.resolve(!1);if(!l||!l.importKey||!l.deriveBits)return Promise.resolve(!1);if(void 0!==d[e])return d[e];var n=f(i=i||u.alloc(8),i,10,128,e).then(function(){return!0}).catch(function(){return!1});return d[e]=n,n}(y).then(function(t){return t?f(e,n,h,p,y):s(e,n,h,p,m)}),g)}}).call(t,n(22),n(59))},function(e,t,n){var r=n(1813),i=n(648),o=n(649),a=n(1828),s=n(553);function u(e,t,n){if(e=e.toLowerCase(),o[e])return i.createCipheriv(e,t,n);if(a[e])return new r({key:t,iv:n,mode:e});throw new TypeError("invalid suite type")}function l(e,t,n){if(e=e.toLowerCase(),o[e])return i.createDecipheriv(e,t,n);if(a[e])return new r({key:t,iv:n,mode:e,decrypt:!0});throw new TypeError("invalid suite type")}t.createCipher=t.Cipher=function(e,t){var n,r;if(e=e.toLowerCase(),o[e])n=o[e].key,r=o[e].iv;else{if(!a[e])throw new TypeError("invalid suite type");n=8*a[e].key,r=a[e].iv}var i=s(t,!1,n,r);return u(e,i.key,i.iv)},t.createCipheriv=t.Cipheriv=u,t.createDecipher=t.Decipher=function(e,t){var n,r;if(e=e.toLowerCase(),o[e])n=o[e].key,r=o[e].iv;else{if(!a[e])throw new TypeError("invalid suite type");n=8*a[e].key,r=a[e].iv}var i=s(t,!1,n,r);return l(e,i.key,i.iv)},t.createDecipheriv=t.Decipheriv=l,t.listCiphers=t.getCiphers=function(){return Object.keys(a).concat(i.getCiphers())}},function(e,t,n){var r=n(328),i=n(647),o=n(38),a=n(40).Buffer,s={"des-ede3-cbc":i.CBC.instantiate(i.EDE),"des-ede3":i.EDE,"des-ede-cbc":i.CBC.instantiate(i.EDE),"des-ede":i.EDE,"des-cbc":i.CBC.instantiate(i.DES),"des-ecb":i.DES};function u(e){r.call(this);var t,n=e.mode.toLowerCase(),i=s[n];t=e.decrypt?"decrypt":"encrypt";var o=e.key;a.isBuffer(o)||(o=a.from(o)),"des-ede"!==n&&"des-ede-cbc"!==n||(o=a.concat([o,o.slice(0,8)]));var u=e.iv;a.isBuffer(u)||(u=a.from(u)),this._des=i.create({key:o,iv:u,type:t})}s.des=s["des-cbc"],s.des3=s["des-ede3-cbc"],e.exports=u,o(u,r),u.prototype._update=function(e){return a.from(this._des.update(e))},u.prototype._final=function(){return a.from(this._des.final())}},function(e,t,n){"use strict";t.readUInt32BE=function(e,t){return(e[0+t]<<24|e[1+t]<<16|e[2+t]<<8|e[3+t])>>>0},t.writeUInt32BE=function(e,t,n){e[0+n]=t>>>24,e[1+n]=t>>>16&255,e[2+n]=t>>>8&255,e[3+n]=255&t},t.ip=function(e,t,n,r){for(var i=0,o=0,a=6;a>=0;a-=2){for(var s=0;s<=24;s+=8)i<<=1,i|=t>>>s+a&1;for(s=0;s<=24;s+=8)i<<=1,i|=e>>>s+a&1}for(a=6;a>=0;a-=2){for(s=1;s<=25;s+=8)o<<=1,o|=t>>>s+a&1;for(s=1;s<=25;s+=8)o<<=1,o|=e>>>s+a&1}n[r+0]=i>>>0,n[r+1]=o>>>0},t.rip=function(e,t,n,r){for(var i=0,o=0,a=0;a<4;a++)for(var s=24;s>=0;s-=8)i<<=1,i|=t>>>s+a&1,i<<=1,i|=e>>>s+a&1;for(a=4;a<8;a++)for(s=24;s>=0;s-=8)o<<=1,o|=t>>>s+a&1,o<<=1,o|=e>>>s+a&1;n[r+0]=i>>>0,n[r+1]=o>>>0},t.pc1=function(e,t,n,r){for(var i=0,o=0,a=7;a>=5;a--){for(var s=0;s<=24;s+=8)i<<=1,i|=t>>s+a&1;for(s=0;s<=24;s+=8)i<<=1,i|=e>>s+a&1}for(s=0;s<=24;s+=8)i<<=1,i|=t>>s+a&1;for(a=1;a<=3;a++){for(s=0;s<=24;s+=8)o<<=1,o|=t>>s+a&1;for(s=0;s<=24;s+=8)o<<=1,o|=e>>s+a&1}for(s=0;s<=24;s+=8)o<<=1,o|=e>>s+a&1;n[r+0]=i>>>0,n[r+1]=o>>>0},t.r28shl=function(e,t){return e<<t&268435455|e>>>28-t};var r=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];t.pc2=function(e,t,n,i){for(var o=0,a=0,s=r.length>>>1,u=0;u<s;u++)o<<=1,o|=e>>>r[u]&1;for(u=s;u<r.length;u++)a<<=1,a|=t>>>r[u]&1;n[i+0]=o>>>0,n[i+1]=a>>>0},t.expand=function(e,t,n){var r=0,i=0;r=(1&e)<<5|e>>>27;for(var o=23;o>=15;o-=4)r<<=6,r|=e>>>o&63;for(o=11;o>=3;o-=4)i|=e>>>o&63,i<<=6;i|=(31&e)<<1|e>>>31,t[n+0]=r>>>0,t[n+1]=i>>>0};var i=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];t.substitute=function(e,t){for(var n=0,r=0;r<4;r++){n<<=4,n|=i[64*r+(e>>>18-6*r&63)]}for(r=0;r<4;r++){n<<=4,n|=i[256+64*r+(t>>>18-6*r&63)]}return n>>>0};var o=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];t.permute=function(e){for(var t=0,n=0;n<o.length;n++)t<<=1,t|=e>>>o[n]&1;return t>>>0},t.padSplit=function(e,t,n){for(var r=e.toString(2);r.length<t;)r="0"+r;for(var i=[],o=0;o<t;o+=n)i.push(r.slice(o,o+n));return i.join(" ")}},function(e,t,n){"use strict";var r=n(268);function i(e){this.options=e,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0}e.exports=i,i.prototype._init=function(){},i.prototype.update=function(e){return 0===e.length?[]:"decrypt"===this.type?this._updateDecrypt(e):this._updateEncrypt(e)},i.prototype._buffer=function(e,t){for(var n=Math.min(this.buffer.length-this.bufferOff,e.length-t),r=0;r<n;r++)this.buffer[this.bufferOff+r]=e[t+r];return this.bufferOff+=n,n},i.prototype._flushBuffer=function(e,t){return this._update(this.buffer,0,e,t),this.bufferOff=0,this.blockSize},i.prototype._updateEncrypt=function(e){var t=0,n=0,r=(this.bufferOff+e.length)/this.blockSize|0,i=new Array(r*this.blockSize);0!==this.bufferOff&&(t+=this._buffer(e,t),this.bufferOff===this.buffer.length&&(n+=this._flushBuffer(i,n)));for(var o=e.length-(e.length-t)%this.blockSize;t<o;t+=this.blockSize)this._update(e,t,i,n),n+=this.blockSize;for(;t<e.length;t++,this.bufferOff++)this.buffer[this.bufferOff]=e[t];return i},i.prototype._updateDecrypt=function(e){for(var t=0,n=0,r=Math.ceil((this.bufferOff+e.length)/this.blockSize)-1,i=new Array(r*this.blockSize);r>0;r--)t+=this._buffer(e,t),n+=this._flushBuffer(i,n);return t+=this._buffer(e,t),i},i.prototype.final=function(e){var t,n;return e&&(t=this.update(e)),n="encrypt"===this.type?this._finalEncrypt():this._finalDecrypt(),t?t.concat(n):n},i.prototype._pad=function(e,t){if(0===t)return!1;for(;t<e.length;)e[t++]=0;return!0},i.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var e=new Array(this.blockSize);return this._update(this.buffer,0,e,0),e},i.prototype._unpad=function(e){return e},i.prototype._finalDecrypt=function(){r.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var e=new Array(this.blockSize);return this._flushBuffer(e,0),this._unpad(e)}},function(e,t,n){"use strict";var r=n(268),i=n(38),o=n(647),a=o.utils,s=o.Cipher;function u(e){s.call(this,e);var t=new function(){this.tmp=new Array(2),this.keys=null};this._desState=t,this.deriveKeys(t,e.key)}i(u,s),e.exports=u,u.create=function(e){return new u(e)};var l=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];u.prototype.deriveKeys=function(e,t){e.keys=new Array(32),r.equal(t.length,this.blockSize,"Invalid key length");var n=a.readUInt32BE(t,0),i=a.readUInt32BE(t,4);a.pc1(n,i,e.tmp,0),n=e.tmp[0],i=e.tmp[1];for(var o=0;o<e.keys.length;o+=2){var s=l[o>>>1];n=a.r28shl(n,s),i=a.r28shl(i,s),a.pc2(n,i,e.keys,o)}},u.prototype._update=function(e,t,n,r){var i=this._desState,o=a.readUInt32BE(e,t),s=a.readUInt32BE(e,t+4);a.ip(o,s,i.tmp,0),o=i.tmp[0],s=i.tmp[1],"encrypt"===this.type?this._encrypt(i,o,s,i.tmp,0):this._decrypt(i,o,s,i.tmp,0),o=i.tmp[0],s=i.tmp[1],a.writeUInt32BE(n,o,r),a.writeUInt32BE(n,s,r+4)},u.prototype._pad=function(e,t){for(var n=e.length-t,r=t;r<e.length;r++)e[r]=n;return!0},u.prototype._unpad=function(e){for(var t=e[e.length-1],n=e.length-t;n<e.length;n++)r.equal(e[n],t);return e.slice(0,e.length-t)},u.prototype._encrypt=function(e,t,n,r,i){for(var o=t,s=n,u=0;u<e.keys.length;u+=2){var l=e.keys[u],c=e.keys[u+1];a.expand(s,e.tmp,0),l^=e.tmp[0],c^=e.tmp[1];var d=a.substitute(l,c),f=s;s=(o^a.permute(d))>>>0,o=f}a.rip(s,o,r,i)},u.prototype._decrypt=function(e,t,n,r,i){for(var o=n,s=t,u=e.keys.length-2;u>=0;u-=2){var l=e.keys[u],c=e.keys[u+1];a.expand(o,e.tmp,0),l^=e.tmp[0],c^=e.tmp[1];var d=a.substitute(l,c),f=o;o=(s^a.permute(d))>>>0,s=f}a.rip(o,s,r,i)}},function(e,t,n){"use strict";var r=n(268),i=n(38),o={};t.instantiate=function(e){function t(t){e.call(this,t),this._cbcInit()}i(t,e);for(var n=Object.keys(o),r=0;r<n.length;r++){var a=n[r];t.prototype[a]=o[a]}return t.create=function(e){return new t(e)},t},o._cbcInit=function(){var e=new function(e){r.equal(e.length,8,"Invalid IV length"),this.iv=new Array(8);for(var t=0;t<this.iv.length;t++)this.iv[t]=e[t]}(this.options.iv);this._cbcState=e},o._update=function(e,t,n,r){var i=this._cbcState,o=this.constructor.super_.prototype,a=i.iv;if("encrypt"===this.type){for(var s=0;s<this.blockSize;s++)a[s]^=e[t+s];o._update.call(this,a,0,n,r);for(s=0;s<this.blockSize;s++)a[s]=n[r+s]}else{o._update.call(this,e,t,n,r);for(s=0;s<this.blockSize;s++)n[r+s]^=a[s];for(s=0;s<this.blockSize;s++)a[s]=e[t+s]}}},function(e,t,n){"use strict";var r=n(268),i=n(38),o=n(647),a=o.Cipher,s=o.DES;function u(e){a.call(this,e);var t=new function(e,t){r.equal(t.length,24,"Invalid key length");var n=t.slice(0,8),i=t.slice(8,16),o=t.slice(16,24);this.ciphers="encrypt"===e?[s.create({type:"encrypt",key:n}),s.create({type:"decrypt",key:i}),s.create({type:"encrypt",key:o})]:[s.create({type:"decrypt",key:o}),s.create({type:"encrypt",key:i}),s.create({type:"decrypt",key:n})]}(this.type,this.options.key);this._edeState=t}i(u,a),e.exports=u,u.create=function(e){return new u(e)},u.prototype._update=function(e,t,n,r){var i=this._edeState;i.ciphers[0]._update(e,t,n,r),i.ciphers[1]._update(n,r,n,r),i.ciphers[2]._update(n,r,n,r)},u.prototype._pad=s.prototype._pad,u.prototype._unpad=s.prototype._unpad},function(e,t,n){var r=n(649),i=n(1129),o=n(40).Buffer,a=n(1130),s=n(328),u=n(552),l=n(553);function c(e,t,n){s.call(this),this._cache=new f,this._cipher=new u.AES(t),this._prev=o.from(n),this._mode=e,this._autopadding=!0}n(38)(c,s),c.prototype._update=function(e){var t,n;this._cache.add(e);for(var r=[];t=this._cache.get();)n=this._mode.encrypt(this,t),r.push(n);return o.concat(r)};var d=o.alloc(16,16);function f(){this.cache=o.allocUnsafe(0)}function h(e,t,n){var s=r[e.toLowerCase()];if(!s)throw new TypeError("invalid suite type");if("string"==typeof t&&(t=o.from(t)),t.length!==s.key/8)throw new TypeError("invalid key length "+t.length);if("string"==typeof n&&(n=o.from(n)),"GCM"!==s.mode&&n.length!==s.iv)throw new TypeError("invalid iv length "+n.length);return"stream"===s.type?new a(s.module,t,n):"auth"===s.type?new i(s.module,t,n):new c(s.module,t,n)}c.prototype._final=function(){var e=this._cache.flush();if(this._autopadding)return e=this._mode.encrypt(this,e),this._cipher.scrub(),e;if(!e.equals(d))throw this._cipher.scrub(),new Error("data not multiple of block length")},c.prototype.setAutoPadding=function(e){return this._autopadding=!!e,this},f.prototype.add=function(e){this.cache=o.concat([this.cache,e])},f.prototype.get=function(){if(this.cache.length>15){var e=this.cache.slice(0,16);return this.cache=this.cache.slice(16),e}return null},f.prototype.flush=function(){for(var e=16-this.cache.length,t=o.allocUnsafe(e),n=-1;++n<e;)t.writeUInt8(e,n);return o.concat([this.cache,t])},t.createCipheriv=h,t.createCipher=function(e,t){var n=r[e.toLowerCase()];if(!n)throw new TypeError("invalid suite type");var i=l(t,!1,n.key,n.iv);return h(e,i.key,i.iv)}},function(e,t){t.encrypt=function(e,t){return e._cipher.encryptBlock(t)},t.decrypt=function(e,t){return e._cipher.decryptBlock(t)}},function(e,t,n){var r=n(433);t.encrypt=function(e,t){var n=r(t,e._prev);return e._prev=e._cipher.encryptBlock(n),e._prev},t.decrypt=function(e,t){var n=e._prev;e._prev=t;var i=e._cipher.decryptBlock(t);return r(i,n)}},function(e,t,n){var r=n(40).Buffer,i=n(433);function o(e,t,n){var o=t.length,a=i(t,e._cache);return e._cache=e._cache.slice(o),e._prev=r.concat([e._prev,n?t:a]),a}t.encrypt=function(e,t,n){for(var i,a=r.allocUnsafe(0);t.length;){if(0===e._cache.length&&(e._cache=e._cipher.encryptBlock(e._prev),e._prev=r.allocUnsafe(0)),!(e._cache.length<=t.length)){a=r.concat([a,o(e,t,n)]);break}i=e._cache.length,a=r.concat([a,o(e,t.slice(0,i),n)]),t=t.slice(i)}return a}},function(e,t,n){var r=n(40).Buffer;function i(e,t,n){var i=e._cipher.encryptBlock(e._prev)[0]^t;return e._prev=r.concat([e._prev.slice(1),r.from([n?t:i])]),i}t.encrypt=function(e,t,n){for(var o=t.length,a=r.allocUnsafe(o),s=-1;++s<o;)a[s]=i(e,t[s],n);return a}},function(e,t,n){var r=n(40).Buffer;function i(e,t,n){for(var r,i,a,s=-1,u=0;++s<8;)r=e._cipher.encryptBlock(e._prev),i=t&1<<7-s?128:0,u+=(128&(a=r[0]^i))>>s%8,e._prev=o(e._prev,n?i:a);return u}function o(e,t){var n=e.length,i=-1,o=r.allocUnsafe(e.length);for(e=r.concat([e,r.from([t])]);++i<n;)o[i]=e[i]<<1|e[i+1]>>7;return o}t.encrypt=function(e,t,n){for(var o=t.length,a=r.allocUnsafe(o),s=-1;++s<o;)a[s]=i(e,t[s],n);return a}},function(e,t,n){(function(e){var r=n(433);function i(e){return e._prev=e._cipher.encryptBlock(e._prev),e._prev}t.encrypt=function(t,n){for(;t._cache.length<n.length;)t._cache=e.concat([t._cache,i(t)]);var o=t._cache.slice(0,n.length);return t._cache=t._cache.slice(n.length),r(n,o)}}).call(t,n(71).Buffer)},function(e,t,n){var r=n(40).Buffer,i=r.alloc(16,0);function o(e){var t=r.allocUnsafe(16);return t.writeUInt32BE(e[0]>>>0,0),t.writeUInt32BE(e[1]>>>0,4),t.writeUInt32BE(e[2]>>>0,8),t.writeUInt32BE(e[3]>>>0,12),t}function a(e){this.h=e,this.state=r.alloc(16,0),this.cache=r.allocUnsafe(0)}a.prototype.ghash=function(e){for(var t=-1;++t<e.length;)this.state[t]^=e[t];this._multiply()},a.prototype._multiply=function(){for(var e,t,n,r=[(e=this.h).readUInt32BE(0),e.readUInt32BE(4),e.readUInt32BE(8),e.readUInt32BE(12)],i=[0,0,0,0],a=-1;++a<128;){for(0!=(this.state[~~(a/8)]&1<<7-a%8)&&(i[0]^=r[0],i[1]^=r[1],i[2]^=r[2],i[3]^=r[3]),n=0!=(1&r[3]),t=3;t>0;t--)r[t]=r[t]>>>1|(1&r[t-1])<<31;r[0]=r[0]>>>1,n&&(r[0]=r[0]^225<<24)}this.state=o(i)},a.prototype.update=function(e){var t;for(this.cache=r.concat([this.cache,e]);this.cache.length>=16;)t=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(t)},a.prototype.final=function(e,t){return this.cache.length&&this.ghash(r.concat([this.cache,i],16)),this.ghash(o([0,e,0,t])),this.state},e.exports=a},function(e,t,n){var r=n(1129),i=n(40).Buffer,o=n(649),a=n(1130),s=n(328),u=n(552),l=n(553);function c(e,t,n){s.call(this),this._cache=new d,this._last=void 0,this._cipher=new u.AES(t),this._prev=i.from(n),this._mode=e,this._autopadding=!0}function d(){this.cache=i.allocUnsafe(0)}function f(e,t,n){var s=o[e.toLowerCase()];if(!s)throw new TypeError("invalid suite type");if("string"==typeof n&&(n=i.from(n)),"GCM"!==s.mode&&n.length!==s.iv)throw new TypeError("invalid iv length "+n.length);if("string"==typeof t&&(t=i.from(t)),t.length!==s.key/8)throw new TypeError("invalid key length "+t.length);return"stream"===s.type?new a(s.module,t,n,!0):"auth"===s.type?new r(s.module,t,n,!0):new c(s.module,t,n)}n(38)(c,s),c.prototype._update=function(e){var t,n;this._cache.add(e);for(var r=[];t=this._cache.get(this._autopadding);)n=this._mode.decrypt(this,t),r.push(n);return i.concat(r)},c.prototype._final=function(){var e=this._cache.flush();if(this._autopadding)return function(e){var t=e[15];if(t<1||t>16)throw new Error("unable to decrypt data");var n=-1;for(;++n<t;)if(e[n+(16-t)]!==t)throw new Error("unable to decrypt data");if(16===t)return;return e.slice(0,16-t)}(this._mode.decrypt(this,e));if(e)throw new Error("data not multiple of block length")},c.prototype.setAutoPadding=function(e){return this._autopadding=!!e,this},d.prototype.add=function(e){this.cache=i.concat([this.cache,e])},d.prototype.get=function(e){var t;if(e){if(this.cache.length>16)return t=this.cache.slice(0,16),this.cache=this.cache.slice(16),t}else if(this.cache.length>=16)return t=this.cache.slice(0,16),this.cache=this.cache.slice(16),t;return null},d.prototype.flush=function(){if(this.cache.length)return this.cache},t.createDecipher=function(e,t){var n=o[e.toLowerCase()];if(!n)throw new TypeError("invalid suite type");var r=l(t,!1,n.key,n.iv);return f(e,r.key,r.iv)},t.createDecipheriv=f},function(e,t){t["des-ecb"]={key:8,iv:0},t["des-cbc"]=t.des={key:8,iv:8},t["des-ede3-cbc"]=t.des3={key:24,iv:8},t["des-ede3"]={key:24,iv:0},t["des-ede-cbc"]={key:16,iv:8},t["des-ede"]={key:16,iv:0}},function(e,t,n){(function(e){var r=n(1131),i=n(1832),o=n(1833);var a={binary:!0,hex:!0,base64:!0};t.DiffieHellmanGroup=t.createDiffieHellmanGroup=t.getDiffieHellman=function(t){var n=new e(i[t].prime,"hex"),r=new e(i[t].gen,"hex");return new o(n,r)},t.createDiffieHellman=t.DiffieHellman=function t(n,i,s,u){return e.isBuffer(i)||void 0===a[i]?t(n,"binary",i,s):(i=i||"binary",u=u||"binary",s=s||new e([2]),e.isBuffer(s)||(s=new e(s,u)),"number"==typeof n?new o(r(n,s),s,!0):(e.isBuffer(n)||(n=new e(n,i)),new o(n,s,!0)))}}).call(t,n(71).Buffer)},function(e,t){},function(e,t){},function(e,t){e.exports={modp1:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},modp2:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},modp5:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},modp14:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},modp15:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},modp16:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},modp17:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},modp18:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}},function(e,t,n){(function(t){var r=n(91),i=new(n(1132)),o=new r(24),a=new r(11),s=new r(10),u=new r(3),l=new r(7),c=n(1131),d=n(399);function f(e,n){return n=n||"utf8",t.isBuffer(e)||(e=new t(e,n)),this._pub=new r(e),this}function h(e,n){return n=n||"utf8",t.isBuffer(e)||(e=new t(e,n)),this._priv=new r(e),this}e.exports=m;var p={};function m(e,t,n){this.setGenerator(t),this.__prime=new r(e),this._prime=r.mont(this.__prime),this._primeLen=e.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,n?(this.setPublicKey=f,this.setPrivateKey=h):this._primeCode=8}function g(e,n){var r=new t(e.toArray());return n?r.toString(n):r}Object.defineProperty(m.prototype,"verifyError",{enumerable:!0,get:function(){return"number"!=typeof this._primeCode&&(this._primeCode=function(e,t){var n=t.toString("hex"),r=[n,e.toString(16)].join("_");if(r in p)return p[r];var d,f=0;if(e.isEven()||!c.simpleSieve||!c.fermatTest(e)||!i.test(e))return f+=1,f+="02"===n||"05"===n?8:4,p[r]=f,f;switch(i.test(e.shrn(1))||(f+=2),n){case"02":e.mod(o).cmp(a)&&(f+=8);break;case"05":(d=e.mod(s)).cmp(u)&&d.cmp(l)&&(f+=8);break;default:f+=4}return p[r]=f,f}(this.__prime,this.__gen)),this._primeCode}}),m.prototype.generateKeys=function(){return this._priv||(this._priv=new r(d(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},m.prototype.computeSecret=function(e){var n=(e=(e=new r(e)).toRed(this._prime)).redPow(this._priv).fromRed(),i=new t(n.toArray()),o=this.getPrime();if(i.length<o.length){var a=new t(o.length-i.length);a.fill(0),i=t.concat([a,i])}return i},m.prototype.getPublicKey=function(e){return g(this._pub,e)},m.prototype.getPrivateKey=function(e){return g(this._priv,e)},m.prototype.getPrime=function(e){return g(this.__prime,e)},m.prototype.getGenerator=function(e){return g(this._gen,e)},m.prototype.setGenerator=function(e,n){return n=n||"utf8",t.isBuffer(e)||(e=new t(e,n)),this.__gen=e,this._gen=new r(e),this}}).call(t,n(71).Buffer)},function(e,t,n){(function(t){var r=n(430),i=n(431),o=n(38),a=n(1835),s=n(1871),u=n(1121);function l(e){i.Writable.call(this);var t=u[e];if(!t)throw new Error("Unknown message digest");this._hashType=t.hash,this._hash=r(t.hash),this._tag=t.id,this._signType=t.sign}function c(e){i.Writable.call(this);var t=u[e];if(!t)throw new Error("Unknown message digest");this._hash=r(t.hash),this._tag=t.id,this._signType=t.sign}function d(e){return new l(e)}function f(e){return new c(e)}Object.keys(u).forEach(function(e){u[e].id=new t(u[e].id,"hex"),u[e.toLowerCase()]=u[e]}),o(l,i.Writable),l.prototype._write=function(e,t,n){this._hash.update(e),n()},l.prototype.update=function(e,n){return"string"==typeof e&&(e=new t(e,n)),this._hash.update(e),this},l.prototype.sign=function(e,t){this.end();var n=this._hash.digest(),r=a(n,e,this._hashType,this._signType,this._tag);return t?r.toString(t):r},o(c,i.Writable),c.prototype._write=function(e,t,n){this._hash.update(e),n()},c.prototype.update=function(e,n){return"string"==typeof e&&(e=new t(e,n)),this._hash.update(e),this},c.prototype.verify=function(e,n,r){"string"==typeof n&&(n=new t(n,r)),this.end();var i=this._hash.digest();return s(n,i,e,this._signType,this._tag)},e.exports={Sign:d,Verify:f,createSign:d,createVerify:f}}).call(t,n(71).Buffer)},function(e,t,n){(function(t){var r=n(1119),i=n(650),o=n(254).ec,a=n(91),s=n(555),u=n(1142);function l(e,n,i,o){if((e=new t(e.toArray())).length<n.byteLength()){var a=new t(n.byteLength()-e.length);a.fill(0),e=t.concat([a,e])}var s=i.length,u=function(e,n){e=(e=c(e,n)).mod(n);var r=new t(e.toArray());if(r.length<n.byteLength()){var i=new t(n.byteLength()-r.length);i.fill(0),r=t.concat([i,r])}return r}(i,n),l=new t(s);l.fill(1);var d=new t(s);return d.fill(0),d=r(o,d).update(l).update(new t([0])).update(e).update(u).digest(),l=r(o,d).update(l).digest(),{k:d=r(o,d).update(l).update(new t([1])).update(e).update(u).digest(),v:l=r(o,d).update(l).digest()}}function c(e,t){var n=new a(e),r=(e.length<<3)-t.bitLength();return r>0&&n.ishrn(r),n}function d(e,n,i){var o,a;do{for(o=new t(0);8*o.length<e.bitLength();)n.v=r(i,n.k).update(n.v).digest(),o=t.concat([o,n.v]);a=c(o,e),n.k=r(i,n.k).update(n.v).update(new t([0])).digest(),n.v=r(i,n.k).update(n.v).digest()}while(-1!==a.cmp(e));return a}function f(e,t,n,r){return e.toRed(a.mont(n)).redPow(t).fromRed().mod(r)}e.exports=function(e,n,r,h,p){var m=s(n);if(m.curve){if("ecdsa"!==h&&"ecdsa/rsa"!==h)throw new Error("wrong private key type");return function(e,n){var r=u[n.curve.join(".")];if(!r)throw new Error("unknown curve "+n.curve.join("."));var i=new o(r).keyFromPrivate(n.privateKey).sign(e);return new t(i.toDER())}(e,m)}if("dsa"===m.type){if("dsa"!==h)throw new Error("wrong private key type");return function(e,n,r){for(var i,o=n.params.priv_key,s=n.params.p,u=n.params.q,h=n.params.g,p=new a(0),m=c(e,u).mod(u),g=!1,y=l(o,u,e,r);!1===g;)i=d(u,y,r),p=f(h,i,s,u),0===(g=i.invm(u).imul(m.add(o.mul(p))).mod(u)).cmpn(0)&&(g=!1,p=new a(0));return function(e,n){e=e.toArray(),n=n.toArray(),128&e[0]&&(e=[0].concat(e)),128&n[0]&&(n=[0].concat(n));var r=[48,e.length+n.length+4,2,e.length];return r=r.concat(e,[2,n.length],n),new t(r)}(p,g)}(e,m,r)}if("rsa"!==h&&"ecdsa/rsa"!==h)throw new Error("wrong private key type");e=t.concat([p,e]);for(var g=m.modulus.byteLength(),y=[0,1];e.length+y.length+1<g;)y.push(255);y.push(0);for(var v=-1;++v<e.length;)y.push(e[v]);return i(y,m)},e.exports.getKey=l,e.exports.makeKey=d}).call(t,n(71).Buffer)},function(e,t){e.exports={name:"elliptic",version:"6.4.1",description:"EC cryptography",main:"lib/elliptic.js",files:["lib"],scripts:{jscs:"jscs benchmarks/*.js lib/*.js lib/**/*.js lib/**/**/*.js test/index.js",jshint:"jscs benchmarks/*.js lib/*.js lib/**/*.js lib/**/**/*.js test/index.js",lint:"npm run jscs && npm run jshint",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},repository:{type:"git",url:"git@github.com:indutny/elliptic"},keywords:["EC","Elliptic","curve","Cryptography"],author:"Fedor Indutny <fedor@indutny.com>",license:"MIT",bugs:{url:"https://github.com/indutny/elliptic/issues"},homepage:"https://github.com/indutny/elliptic",devDependencies:{brfs:"^1.4.3",coveralls:"^2.11.3",grunt:"^0.4.5","grunt-browserify":"^5.0.0","grunt-cli":"^1.2.0","grunt-contrib-connect":"^1.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^1.0.1","grunt-mocha-istanbul":"^3.0.1","grunt-saucelabs":"^8.6.2",istanbul:"^0.4.2",jscs:"^2.9.0",jshint:"^2.6.0",mocha:"^2.1.0"},dependencies:{"bn.js":"^4.4.0",brorand:"^1.0.1","hash.js":"^1.0.0","hmac-drbg":"^1.0.0",inherits:"^2.0.1","minimalistic-assert":"^1.0.0","minimalistic-crypto-utils":"^1.0.0"}}},function(e,t,n){"use strict";var r=t,i=n(91),o=n(268),a=n(1134);r.assert=o,r.toArray=a.toArray,r.zero2=a.zero2,r.toHex=a.toHex,r.encode=a.encode,r.getNAF=function(e,t){for(var n=[],r=1<<t+1,i=e.clone();i.cmpn(1)>=0;){var o;if(i.isOdd()){var a=i.andln(r-1);o=a>(r>>1)-1?(r>>1)-a:a,i.isubn(o)}else o=0;n.push(o);for(var s=0!==i.cmpn(0)&&0===i.andln(r-1)?t+1:1,u=1;u<s;u++)n.push(0);i.iushrn(s)}return n},r.getJSF=function(e,t){var n=[[],[]];e=e.clone(),t=t.clone();for(var r=0,i=0;e.cmpn(-r)>0||t.cmpn(-i)>0;){var o,a,s,u=e.andln(3)+r&3,l=t.andln(3)+i&3;3===u&&(u=-1),3===l&&(l=-1),o=0==(1&u)?0:3!=(s=e.andln(7)+r&7)&&5!==s||2!==l?u:-u,n[0].push(o),a=0==(1&l)?0:3!=(s=t.andln(7)+i&7)&&5!==s||2!==u?l:-l,n[1].push(a),2*r===o+1&&(r=1-r),2*i===a+1&&(i=1-i),e.iushrn(1),t.iushrn(1)}return n},r.cachedProperty=function(e,t,n){var r="_"+t;e.prototype[t]=function(){return void 0!==this[r]?this[r]:this[r]=n.call(this)}},r.parseBytes=function(e){return"string"==typeof e?r.toArray(e,"hex"):e},r.intFromLE=function(e){return new i(e,"hex","le")}},function(e,t,n){"use strict";var r=n(91),i=n(254).utils,o=i.getNAF,a=i.getJSF,s=i.assert;function u(e,t){this.type=e,this.p=new r(t.p,16),this.red=t.prime?r.red(t.prime):r.mont(this.p),this.zero=new r(0).toRed(this.red),this.one=new r(1).toRed(this.red),this.two=new r(2).toRed(this.red),this.n=t.n&&new r(t.n,16),this.g=t.g&&this.pointFromJSON(t.g,t.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4);var n=this.n&&this.p.div(this.n);!n||n.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function l(e,t){this.curve=e,this.type=t,this.precomputed=null}e.exports=u,u.prototype.point=function(){throw new Error("Not implemented")},u.prototype.validate=function(){throw new Error("Not implemented")},u.prototype._fixedNafMul=function(e,t){s(e.precomputed);var n=e._getDoubles(),r=o(t,1),i=(1<<n.step+1)-(n.step%2==0?2:1);i/=3;for(var a=[],u=0;u<r.length;u+=n.step){var l=0;for(t=u+n.step-1;t>=u;t--)l=(l<<1)+r[t];a.push(l)}for(var c=this.jpoint(null,null,null),d=this.jpoint(null,null,null),f=i;f>0;f--){for(u=0;u<a.length;u++){(l=a[u])===f?d=d.mixedAdd(n.points[u]):l===-f&&(d=d.mixedAdd(n.points[u].neg()))}c=c.add(d)}return c.toP()},u.prototype._wnafMul=function(e,t){var n=4,r=e._getNAFPoints(n);n=r.wnd;for(var i=r.points,a=o(t,n),u=this.jpoint(null,null,null),l=a.length-1;l>=0;l--){for(t=0;l>=0&&0===a[l];l--)t++;if(l>=0&&t++,u=u.dblp(t),l<0)break;var c=a[l];s(0!==c),u="affine"===e.type?c>0?u.mixedAdd(i[c-1>>1]):u.mixedAdd(i[-c-1>>1].neg()):c>0?u.add(i[c-1>>1]):u.add(i[-c-1>>1].neg())}return"affine"===e.type?u.toP():u},u.prototype._wnafMulAdd=function(e,t,n,r,i){for(var s=this._wnafT1,u=this._wnafT2,l=this._wnafT3,c=0,d=0;d<r;d++){var f=(S=t[d])._getNAFPoints(e);s[d]=f.wnd,u[d]=f.points}for(d=r-1;d>=1;d-=2){var h=d-1,p=d;if(1===s[h]&&1===s[p]){var m=[t[h],null,null,t[p]];0===t[h].y.cmp(t[p].y)?(m[1]=t[h].add(t[p]),m[2]=t[h].toJ().mixedAdd(t[p].neg())):0===t[h].y.cmp(t[p].y.redNeg())?(m[1]=t[h].toJ().mixedAdd(t[p]),m[2]=t[h].add(t[p].neg())):(m[1]=t[h].toJ().mixedAdd(t[p]),m[2]=t[h].toJ().mixedAdd(t[p].neg()));var g=[-3,-1,-5,-7,0,7,5,1,3],y=a(n[h],n[p]);c=Math.max(y[0].length,c),l[h]=new Array(c),l[p]=new Array(c);for(var v=0;v<c;v++){var b=0|y[0][v],_=0|y[1][v];l[h][v]=g[3*(b+1)+(_+1)],l[p][v]=0,u[h]=m}}else l[h]=o(n[h],s[h]),l[p]=o(n[p],s[p]),c=Math.max(l[h].length,c),c=Math.max(l[p].length,c)}var w=this.jpoint(null,null,null),k=this._wnafT4;for(d=c;d>=0;d--){for(var E=0;d>=0;){var x=!0;for(v=0;v<r;v++)k[v]=0|l[v][d],0!==k[v]&&(x=!1);if(!x)break;E++,d--}if(d>=0&&E++,w=w.dblp(E),d<0)break;for(v=0;v<r;v++){var S,M=k[v];0!==M&&(M>0?S=u[v][M-1>>1]:M<0&&(S=u[v][-M-1>>1].neg()),w="affine"===S.type?w.mixedAdd(S):w.add(S))}}for(d=0;d<r;d++)u[d]=null;return i?w:w.toP()},u.BasePoint=l,l.prototype.eq=function(){throw new Error("Not implemented")},l.prototype.validate=function(){return this.curve.validate(this)},u.prototype.decodePoint=function(e,t){e=i.toArray(e,t);var n=this.p.byteLength();if((4===e[0]||6===e[0]||7===e[0])&&e.length-1==2*n)return 6===e[0]?s(e[e.length-1]%2==0):7===e[0]&&s(e[e.length-1]%2==1),this.point(e.slice(1,1+n),e.slice(1+n,1+2*n));if((2===e[0]||3===e[0])&&e.length-1===n)return this.pointFromX(e.slice(1,1+n),3===e[0]);throw new Error("Unknown point format")},l.prototype.encodeCompressed=function(e){return this.encode(e,!0)},l.prototype._encode=function(e){var t=this.curve.p.byteLength(),n=this.getX().toArray("be",t);return e?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",t))},l.prototype.encode=function(e,t){return i.encode(this._encode(t),e)},l.prototype.precompute=function(e){if(this.precomputed)return this;var t={doubles:null,naf:null,beta:null};return t.naf=this._getNAFPoints(8),t.doubles=this._getDoubles(4,e),t.beta=this._getBeta(),this.precomputed=t,this},l.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var t=this.precomputed.doubles;return!!t&&t.points.length>=Math.ceil((e.bitLength()+1)/t.step)},l.prototype._getDoubles=function(e,t){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],r=this,i=0;i<t;i+=e){for(var o=0;o<e;o++)r=r.dbl();n.push(r)}return{step:e,points:n}},l.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var t=[this],n=(1<<e)-1,r=1===n?null:this.dbl(),i=1;i<n;i++)t[i]=t[i-1].add(r);return{wnd:e,points:t}},l.prototype._getBeta=function(){return null},l.prototype.dblp=function(e){for(var t=this,n=0;n<e;n++)t=t.dbl();return t}},function(e,t,n){"use strict";var r=n(554),i=n(254),o=n(91),a=n(38),s=r.base,u=i.utils.assert;function l(e){s.call(this,"short",e),this.a=new o(e.a,16).toRed(this.red),this.b=new o(e.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(e),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function c(e,t,n,r){s.BasePoint.call(this,e,"affine"),null===t&&null===n?(this.x=null,this.y=null,this.inf=!0):(this.x=new o(t,16),this.y=new o(n,16),r&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function d(e,t,n,r){s.BasePoint.call(this,e,"jacobian"),null===t&&null===n&&null===r?(this.x=this.curve.one,this.y=this.curve.one,this.z=new o(0)):(this.x=new o(t,16),this.y=new o(n,16),this.z=new o(r,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}a(l,s),e.exports=l,l.prototype._getEndomorphism=function(e){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var t,n;if(e.beta)t=new o(e.beta,16).toRed(this.red);else{var r=this._getEndoRoots(this.p);t=(t=r[0].cmp(r[1])<0?r[0]:r[1]).toRed(this.red)}if(e.lambda)n=new o(e.lambda,16);else{var i=this._getEndoRoots(this.n);0===this.g.mul(i[0]).x.cmp(this.g.x.redMul(t))?n=i[0]:(n=i[1],u(0===this.g.mul(n).x.cmp(this.g.x.redMul(t))))}return{beta:t,lambda:n,basis:e.basis?e.basis.map(function(e){return{a:new o(e.a,16),b:new o(e.b,16)}}):this._getEndoBasis(n)}}},l.prototype._getEndoRoots=function(e){var t=e===this.p?this.red:o.mont(e),n=new o(2).toRed(t).redInvm(),r=n.redNeg(),i=new o(3).toRed(t).redNeg().redSqrt().redMul(n);return[r.redAdd(i).fromRed(),r.redSub(i).fromRed()]},l.prototype._getEndoBasis=function(e){for(var t,n,r,i,a,s,u,l,c,d=this.n.ushrn(Math.floor(this.n.bitLength()/2)),f=e,h=this.n.clone(),p=new o(1),m=new o(0),g=new o(0),y=new o(1),v=0;0!==f.cmpn(0);){var b=h.div(f);l=h.sub(b.mul(f)),c=g.sub(b.mul(p));var _=y.sub(b.mul(m));if(!r&&l.cmp(d)<0)t=u.neg(),n=p,r=l.neg(),i=c;else if(r&&2==++v)break;u=l,h=f,f=l,g=p,p=c,y=m,m=_}a=l.neg(),s=c;var w=r.sqr().add(i.sqr());return a.sqr().add(s.sqr()).cmp(w)>=0&&(a=t,s=n),r.negative&&(r=r.neg(),i=i.neg()),a.negative&&(a=a.neg(),s=s.neg()),[{a:r,b:i},{a,b:s}]},l.prototype._endoSplit=function(e){var t=this.endo.basis,n=t[0],r=t[1],i=r.b.mul(e).divRound(this.n),o=n.b.neg().mul(e).divRound(this.n),a=i.mul(n.a),s=o.mul(r.a),u=i.mul(n.b),l=o.mul(r.b);return{k1:e.sub(a).sub(s),k2:u.add(l).neg()}},l.prototype.pointFromX=function(e,t){(e=new o(e,16)).red||(e=e.toRed(this.red));var n=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),r=n.redSqrt();if(0!==r.redSqr().redSub(n).cmp(this.zero))throw new Error("invalid point");var i=r.fromRed().isOdd();return(t&&!i||!t&&i)&&(r=r.redNeg()),this.point(e,r)},l.prototype.validate=function(e){if(e.inf)return!0;var t=e.x,n=e.y,r=this.a.redMul(t),i=t.redSqr().redMul(t).redIAdd(r).redIAdd(this.b);return 0===n.redSqr().redISub(i).cmpn(0)},l.prototype._endoWnafMulAdd=function(e,t,n){for(var r=this._endoWnafT1,i=this._endoWnafT2,o=0;o<e.length;o++){var a=this._endoSplit(t[o]),s=e[o],u=s._getBeta();a.k1.negative&&(a.k1.ineg(),s=s.neg(!0)),a.k2.negative&&(a.k2.ineg(),u=u.neg(!0)),r[2*o]=s,r[2*o+1]=u,i[2*o]=a.k1,i[2*o+1]=a.k2}for(var l=this._wnafMulAdd(1,r,i,2*o,n),c=0;c<2*o;c++)r[c]=null,i[c]=null;return l},a(c,s.BasePoint),l.prototype.point=function(e,t,n){return new c(this,e,t,n)},l.prototype.pointFromJSON=function(e,t){return c.fromJSON(this,e,t)},c.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var t=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var n=this.curve,r=function(e){return n.point(e.x.redMul(n.endo.beta),e.y)};e.beta=t,t.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(r)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(r)}}}return t}},c.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},c.fromJSON=function(e,t,n){"string"==typeof t&&(t=JSON.parse(t));var r=e.point(t[0],t[1],n);if(!t[2])return r;function i(t){return e.point(t[0],t[1],n)}var o=t[2];return r.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[r].concat(o.doubles.points.map(i))},naf:o.naf&&{wnd:o.naf.wnd,points:[r].concat(o.naf.points.map(i))}},r},c.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},c.prototype.isInfinity=function(){return this.inf},c.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(0===this.x.cmp(e.x))return this.curve.point(null,null);var t=this.y.redSub(e.y);0!==t.cmpn(0)&&(t=t.redMul(this.x.redSub(e.x).redInvm()));var n=t.redSqr().redISub(this.x).redISub(e.x),r=t.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,r)},c.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(0===e.cmpn(0))return this.curve.point(null,null);var t=this.curve.a,n=this.x.redSqr(),r=e.redInvm(),i=n.redAdd(n).redIAdd(n).redIAdd(t).redMul(r),o=i.redSqr().redISub(this.x.redAdd(this.x)),a=i.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,a)},c.prototype.getX=function(){return this.x.fromRed()},c.prototype.getY=function(){return this.y.fromRed()},c.prototype.mul=function(e){return e=new o(e,16),this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)},c.prototype.mulAdd=function(e,t,n){var r=[this,t],i=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(r,i):this.curve._wnafMulAdd(1,r,i,2)},c.prototype.jmulAdd=function(e,t,n){var r=[this,t],i=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(r,i,!0):this.curve._wnafMulAdd(1,r,i,2,!0)},c.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||0===this.x.cmp(e.x)&&0===this.y.cmp(e.y))},c.prototype.neg=function(e){if(this.inf)return this;var t=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var n=this.precomputed,r=function(e){return e.neg()};t.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(r)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(r)}}}return t},c.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},a(d,s.BasePoint),l.prototype.jpoint=function(e,t,n){return new d(this,e,t,n)},d.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),t=e.redSqr(),n=this.x.redMul(t),r=this.y.redMul(t).redMul(e);return this.curve.point(n,r)},d.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},d.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.z.redSqr(),n=this.z.redSqr(),r=this.x.redMul(t),i=e.x.redMul(n),o=this.y.redMul(t.redMul(e.z)),a=e.y.redMul(n.redMul(this.z)),s=r.redSub(i),u=o.redSub(a);if(0===s.cmpn(0))return 0!==u.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var l=s.redSqr(),c=l.redMul(s),d=r.redMul(l),f=u.redSqr().redIAdd(c).redISub(d).redISub(d),h=u.redMul(d.redISub(f)).redISub(o.redMul(c)),p=this.z.redMul(e.z).redMul(s);return this.curve.jpoint(f,h,p)},d.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var t=this.z.redSqr(),n=this.x,r=e.x.redMul(t),i=this.y,o=e.y.redMul(t).redMul(this.z),a=n.redSub(r),s=i.redSub(o);if(0===a.cmpn(0))return 0!==s.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var u=a.redSqr(),l=u.redMul(a),c=n.redMul(u),d=s.redSqr().redIAdd(l).redISub(c).redISub(c),f=s.redMul(c.redISub(d)).redISub(i.redMul(l)),h=this.z.redMul(a);return this.curve.jpoint(d,f,h)},d.prototype.dblp=function(e){if(0===e)return this;if(this.isInfinity())return this;if(!e)return this.dbl();if(this.curve.zeroA||this.curve.threeA){for(var t=this,n=0;n<e;n++)t=t.dbl();return t}var r=this.curve.a,i=this.curve.tinv,o=this.x,a=this.y,s=this.z,u=s.redSqr().redSqr(),l=a.redAdd(a);for(n=0;n<e;n++){var c=o.redSqr(),d=l.redSqr(),f=d.redSqr(),h=c.redAdd(c).redIAdd(c).redIAdd(r.redMul(u)),p=o.redMul(d),m=h.redSqr().redISub(p.redAdd(p)),g=p.redISub(m),y=h.redMul(g);y=y.redIAdd(y).redISub(f);var v=l.redMul(s);n+1<e&&(u=u.redMul(f)),o=m,s=v,l=y}return this.curve.jpoint(o,l.redMul(i),s)},d.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},d.prototype._zeroDbl=function(){var e,t,n;if(this.zOne){var r=this.x.redSqr(),i=this.y.redSqr(),o=i.redSqr(),a=this.x.redAdd(i).redSqr().redISub(r).redISub(o);a=a.redIAdd(a);var s=r.redAdd(r).redIAdd(r),u=s.redSqr().redISub(a).redISub(a),l=o.redIAdd(o);l=(l=l.redIAdd(l)).redIAdd(l),e=u,t=s.redMul(a.redISub(u)).redISub(l),n=this.y.redAdd(this.y)}else{var c=this.x.redSqr(),d=this.y.redSqr(),f=d.redSqr(),h=this.x.redAdd(d).redSqr().redISub(c).redISub(f);h=h.redIAdd(h);var p=c.redAdd(c).redIAdd(c),m=p.redSqr(),g=f.redIAdd(f);g=(g=g.redIAdd(g)).redIAdd(g),e=m.redISub(h).redISub(h),t=p.redMul(h.redISub(e)).redISub(g),n=(n=this.y.redMul(this.z)).redIAdd(n)}return this.curve.jpoint(e,t,n)},d.prototype._threeDbl=function(){var e,t,n;if(this.zOne){var r=this.x.redSqr(),i=this.y.redSqr(),o=i.redSqr(),a=this.x.redAdd(i).redSqr().redISub(r).redISub(o);a=a.redIAdd(a);var s=r.redAdd(r).redIAdd(r).redIAdd(this.curve.a),u=s.redSqr().redISub(a).redISub(a);e=u;var l=o.redIAdd(o);l=(l=l.redIAdd(l)).redIAdd(l),t=s.redMul(a.redISub(u)).redISub(l),n=this.y.redAdd(this.y)}else{var c=this.z.redSqr(),d=this.y.redSqr(),f=this.x.redMul(d),h=this.x.redSub(c).redMul(this.x.redAdd(c));h=h.redAdd(h).redIAdd(h);var p=f.redIAdd(f),m=(p=p.redIAdd(p)).redAdd(p);e=h.redSqr().redISub(m),n=this.y.redAdd(this.z).redSqr().redISub(d).redISub(c);var g=d.redSqr();g=(g=(g=g.redIAdd(g)).redIAdd(g)).redIAdd(g),t=h.redMul(p.redISub(e)).redISub(g)}return this.curve.jpoint(e,t,n)},d.prototype._dbl=function(){var e=this.curve.a,t=this.x,n=this.y,r=this.z,i=r.redSqr().redSqr(),o=t.redSqr(),a=n.redSqr(),s=o.redAdd(o).redIAdd(o).redIAdd(e.redMul(i)),u=t.redAdd(t),l=(u=u.redIAdd(u)).redMul(a),c=s.redSqr().redISub(l.redAdd(l)),d=l.redISub(c),f=a.redSqr();f=(f=(f=f.redIAdd(f)).redIAdd(f)).redIAdd(f);var h=s.redMul(d).redISub(f),p=n.redAdd(n).redMul(r);return this.curve.jpoint(c,h,p)},d.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),t=this.y.redSqr(),n=this.z.redSqr(),r=t.redSqr(),i=e.redAdd(e).redIAdd(e),o=i.redSqr(),a=this.x.redAdd(t).redSqr().redISub(e).redISub(r),s=(a=(a=(a=a.redIAdd(a)).redAdd(a).redIAdd(a)).redISub(o)).redSqr(),u=r.redIAdd(r);u=(u=(u=u.redIAdd(u)).redIAdd(u)).redIAdd(u);var l=i.redIAdd(a).redSqr().redISub(o).redISub(s).redISub(u),c=t.redMul(l);c=(c=c.redIAdd(c)).redIAdd(c);var d=this.x.redMul(s).redISub(c);d=(d=d.redIAdd(d)).redIAdd(d);var f=this.y.redMul(l.redMul(u.redISub(l)).redISub(a.redMul(s)));f=(f=(f=f.redIAdd(f)).redIAdd(f)).redIAdd(f);var h=this.z.redAdd(a).redSqr().redISub(n).redISub(s);return this.curve.jpoint(d,f,h)},d.prototype.mul=function(e,t){return e=new o(e,t),this.curve._wnafMul(this,e)},d.prototype.eq=function(e){if("affine"===e.type)return this.eq(e.toJ());if(this===e)return!0;var t=this.z.redSqr(),n=e.z.redSqr();if(0!==this.x.redMul(n).redISub(e.x.redMul(t)).cmpn(0))return!1;var r=t.redMul(this.z),i=n.redMul(e.z);return 0===this.y.redMul(i).redISub(e.y.redMul(r)).cmpn(0)},d.prototype.eqXToP=function(e){var t=this.z.redSqr(),n=e.toRed(this.curve.red).redMul(t);if(0===this.x.cmp(n))return!0;for(var r=e.clone(),i=this.curve.redN.redMul(t);;){if(r.iadd(this.curve.n),r.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(i),0===this.x.cmp(n))return!0}},d.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},d.prototype.isInfinity=function(){return 0===this.z.cmpn(0)}},function(e,t,n){"use strict";var r=n(554),i=n(91),o=n(38),a=r.base,s=n(254).utils;function u(e){a.call(this,"mont",e),this.a=new i(e.a,16).toRed(this.red),this.b=new i(e.b,16).toRed(this.red),this.i4=new i(4).toRed(this.red).redInvm(),this.two=new i(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function l(e,t,n){a.BasePoint.call(this,e,"projective"),null===t&&null===n?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new i(t,16),this.z=new i(n,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}o(u,a),e.exports=u,u.prototype.validate=function(e){var t=e.normalize().x,n=t.redSqr(),r=n.redMul(t).redAdd(n.redMul(this.a)).redAdd(t);return 0===r.redSqrt().redSqr().cmp(r)},o(l,a.BasePoint),u.prototype.decodePoint=function(e,t){return this.point(s.toArray(e,t),1)},u.prototype.point=function(e,t){return new l(this,e,t)},u.prototype.pointFromJSON=function(e){return l.fromJSON(this,e)},l.prototype.precompute=function(){},l.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},l.fromJSON=function(e,t){return new l(e,t[0],t[1]||e.one)},l.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},l.prototype.isInfinity=function(){return 0===this.z.cmpn(0)},l.prototype.dbl=function(){var e=this.x.redAdd(this.z).redSqr(),t=this.x.redSub(this.z).redSqr(),n=e.redSub(t),r=e.redMul(t),i=n.redMul(t.redAdd(this.curve.a24.redMul(n)));return this.curve.point(r,i)},l.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},l.prototype.diffAdd=function(e,t){var n=this.x.redAdd(this.z),r=this.x.redSub(this.z),i=e.x.redAdd(e.z),o=e.x.redSub(e.z).redMul(n),a=i.redMul(r),s=t.z.redMul(o.redAdd(a).redSqr()),u=t.x.redMul(o.redISub(a).redSqr());return this.curve.point(s,u)},l.prototype.mul=function(e){for(var t=e.clone(),n=this,r=this.curve.point(null,null),i=[];0!==t.cmpn(0);t.iushrn(1))i.push(t.andln(1));for(var o=i.length-1;o>=0;o--)0===i[o]?(n=n.diffAdd(r,this),r=r.dbl()):(r=n.diffAdd(r,this),n=n.dbl());return r},l.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},l.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},l.prototype.eq=function(e){return 0===this.getX().cmp(e.getX())},l.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},l.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},function(e,t,n){"use strict";var r=n(554),i=n(254),o=n(91),a=n(38),s=r.base,u=i.utils.assert;function l(e){this.twisted=1!=(0|e.a),this.mOneA=this.twisted&&-1==(0|e.a),this.extended=this.mOneA,s.call(this,"edwards",e),this.a=new o(e.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new o(e.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new o(e.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),u(!this.twisted||0===this.c.fromRed().cmpn(1)),this.oneC=1==(0|e.c)}function c(e,t,n,r,i){s.BasePoint.call(this,e,"projective"),null===t&&null===n&&null===r?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new o(t,16),this.y=new o(n,16),this.z=r?new o(r,16):this.curve.one,this.t=i&&new o(i,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}a(l,s),e.exports=l,l.prototype._mulA=function(e){return this.mOneA?e.redNeg():this.a.redMul(e)},l.prototype._mulC=function(e){return this.oneC?e:this.c.redMul(e)},l.prototype.jpoint=function(e,t,n,r){return this.point(e,t,n,r)},l.prototype.pointFromX=function(e,t){(e=new o(e,16)).red||(e=e.toRed(this.red));var n=e.redSqr(),r=this.c2.redSub(this.a.redMul(n)),i=this.one.redSub(this.c2.redMul(this.d).redMul(n)),a=r.redMul(i.redInvm()),s=a.redSqrt();if(0!==s.redSqr().redSub(a).cmp(this.zero))throw new Error("invalid point");var u=s.fromRed().isOdd();return(t&&!u||!t&&u)&&(s=s.redNeg()),this.point(e,s)},l.prototype.pointFromY=function(e,t){(e=new o(e,16)).red||(e=e.toRed(this.red));var n=e.redSqr(),r=n.redSub(this.c2),i=n.redMul(this.d).redMul(this.c2).redSub(this.a),a=r.redMul(i.redInvm());if(0===a.cmp(this.zero)){if(t)throw new Error("invalid point");return this.point(this.zero,e)}var s=a.redSqrt();if(0!==s.redSqr().redSub(a).cmp(this.zero))throw new Error("invalid point");return s.fromRed().isOdd()!==t&&(s=s.redNeg()),this.point(s,e)},l.prototype.validate=function(e){if(e.isInfinity())return!0;e.normalize();var t=e.x.redSqr(),n=e.y.redSqr(),r=t.redMul(this.a).redAdd(n),i=this.c2.redMul(this.one.redAdd(this.d.redMul(t).redMul(n)));return 0===r.cmp(i)},a(c,s.BasePoint),l.prototype.pointFromJSON=function(e){return c.fromJSON(this,e)},l.prototype.point=function(e,t,n,r){return new c(this,e,t,n,r)},c.fromJSON=function(e,t){return new c(e,t[0],t[1],t[2])},c.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},c.prototype.isInfinity=function(){return 0===this.x.cmpn(0)&&(0===this.y.cmp(this.z)||this.zOne&&0===this.y.cmp(this.curve.c))},c.prototype._extDbl=function(){var e=this.x.redSqr(),t=this.y.redSqr(),n=this.z.redSqr();n=n.redIAdd(n);var r=this.curve._mulA(e),i=this.x.redAdd(this.y).redSqr().redISub(e).redISub(t),o=r.redAdd(t),a=o.redSub(n),s=r.redSub(t),u=i.redMul(a),l=o.redMul(s),c=i.redMul(s),d=a.redMul(o);return this.curve.point(u,l,d,c)},c.prototype._projDbl=function(){var e,t,n,r=this.x.redAdd(this.y).redSqr(),i=this.x.redSqr(),o=this.y.redSqr();if(this.curve.twisted){var a=(l=this.curve._mulA(i)).redAdd(o);if(this.zOne)e=r.redSub(i).redSub(o).redMul(a.redSub(this.curve.two)),t=a.redMul(l.redSub(o)),n=a.redSqr().redSub(a).redSub(a);else{var s=this.z.redSqr(),u=a.redSub(s).redISub(s);e=r.redSub(i).redISub(o).redMul(u),t=a.redMul(l.redSub(o)),n=a.redMul(u)}}else{var l=i.redAdd(o);s=this.curve._mulC(this.z).redSqr(),u=l.redSub(s).redSub(s);e=this.curve._mulC(r.redISub(l)).redMul(u),t=this.curve._mulC(l).redMul(i.redISub(o)),n=l.redMul(u)}return this.curve.point(e,t,n)},c.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},c.prototype._extAdd=function(e){var t=this.y.redSub(this.x).redMul(e.y.redSub(e.x)),n=this.y.redAdd(this.x).redMul(e.y.redAdd(e.x)),r=this.t.redMul(this.curve.dd).redMul(e.t),i=this.z.redMul(e.z.redAdd(e.z)),o=n.redSub(t),a=i.redSub(r),s=i.redAdd(r),u=n.redAdd(t),l=o.redMul(a),c=s.redMul(u),d=o.redMul(u),f=a.redMul(s);return this.curve.point(l,c,f,d)},c.prototype._projAdd=function(e){var t,n,r=this.z.redMul(e.z),i=r.redSqr(),o=this.x.redMul(e.x),a=this.y.redMul(e.y),s=this.curve.d.redMul(o).redMul(a),u=i.redSub(s),l=i.redAdd(s),c=this.x.redAdd(this.y).redMul(e.x.redAdd(e.y)).redISub(o).redISub(a),d=r.redMul(u).redMul(c);return this.curve.twisted?(t=r.redMul(l).redMul(a.redSub(this.curve._mulA(o))),n=u.redMul(l)):(t=r.redMul(l).redMul(a.redSub(o)),n=this.curve._mulC(u).redMul(l)),this.curve.point(d,t,n)},c.prototype.add=function(e){return this.isInfinity()?e:e.isInfinity()?this:this.curve.extended?this._extAdd(e):this._projAdd(e)},c.prototype.mul=function(e){return this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve._wnafMul(this,e)},c.prototype.mulAdd=function(e,t,n){return this.curve._wnafMulAdd(1,[this,t],[e,n],2,!1)},c.prototype.jmulAdd=function(e,t,n){return this.curve._wnafMulAdd(1,[this,t],[e,n],2,!0)},c.prototype.normalize=function(){if(this.zOne)return this;var e=this.z.redInvm();return this.x=this.x.redMul(e),this.y=this.y.redMul(e),this.t&&(this.t=this.t.redMul(e)),this.z=this.curve.one,this.zOne=!0,this},c.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},c.prototype.getX=function(){return this.normalize(),this.x.fromRed()},c.prototype.getY=function(){return this.normalize(),this.y.fromRed()},c.prototype.eq=function(e){return this===e||0===this.getX().cmp(e.getX())&&0===this.getY().cmp(e.getY())},c.prototype.eqXToP=function(e){var t=e.toRed(this.curve.red).redMul(this.z);if(0===this.x.cmp(t))return!0;for(var n=e.clone(),r=this.curve.redN.redMul(this.z);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(t.redIAdd(r),0===this.x.cmp(t))return!0}},c.prototype.toP=c.prototype.normalize,c.prototype.mixedAdd=c.prototype.add},function(e,t,n){"use strict";var r,i=t,o=n(651),a=n(254),s=a.utils.assert;function u(e){"short"===e.type?this.curve=new a.curve.short(e):"edwards"===e.type?this.curve=new a.curve.edwards(e):this.curve=new a.curve.mont(e),this.g=this.curve.g,this.n=this.curve.n,this.hash=e.hash,s(this.g.validate(),"Invalid curve"),s(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function l(e,t){Object.defineProperty(i,e,{configurable:!0,enumerable:!0,get:function(){var n=new u(t);return Object.defineProperty(i,e,{configurable:!0,enumerable:!0,value:n}),n}})}i.PresetCurve=u,l("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:o.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),l("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:o.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),l("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:o.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),l("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:o.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),l("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:o.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),l("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:o.sha256,gRed:!1,g:["9"]}),l("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:o.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{r=n(1849)}catch(e){r=void 0}l("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:o.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",r]})},function(e,t,n){"use strict";t.sha1=n(1844),t.sha224=n(1845),t.sha256=n(1136),t.sha384=n(1846),t.sha512=n(1137)},function(e,t,n){"use strict";var r=n(286),i=n(434),o=n(1135),a=r.rotl32,s=r.sum32,u=r.sum32_5,l=o.ft_1,c=i.BlockHash,d=[1518500249,1859775393,2400959708,3395469782];function f(){if(!(this instanceof f))return new f;c.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}r.inherits(f,c),e.exports=f,f.blockSize=512,f.outSize=160,f.hmacStrength=80,f.padLength=64,f.prototype._update=function(e,t){for(var n=this.W,r=0;r<16;r++)n[r]=e[t+r];for(;r<n.length;r++)n[r]=a(n[r-3]^n[r-8]^n[r-14]^n[r-16],1);var i=this.h[0],o=this.h[1],c=this.h[2],f=this.h[3],h=this.h[4];for(r=0;r<n.length;r++){var p=~~(r/20),m=u(a(i,5),l(p,o,c,f),h,n[r],d[p]);h=f,f=c,c=a(o,30),o=i,i=m}this.h[0]=s(this.h[0],i),this.h[1]=s(this.h[1],o),this.h[2]=s(this.h[2],c),this.h[3]=s(this.h[3],f),this.h[4]=s(this.h[4],h)},f.prototype._digest=function(e){return"hex"===e?r.toHex32(this.h,"big"):r.split32(this.h,"big")}},function(e,t,n){"use strict";var r=n(286),i=n(1136);function o(){if(!(this instanceof o))return new o;i.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}r.inherits(o,i),e.exports=o,o.blockSize=512,o.outSize=224,o.hmacStrength=192,o.padLength=64,o.prototype._digest=function(e){return"hex"===e?r.toHex32(this.h.slice(0,7),"big"):r.split32(this.h.slice(0,7),"big")}},function(e,t,n){"use strict";var r=n(286),i=n(1137);function o(){if(!(this instanceof o))return new o;i.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}r.inherits(o,i),e.exports=o,o.blockSize=1024,o.outSize=384,o.hmacStrength=192,o.padLength=128,o.prototype._digest=function(e){return"hex"===e?r.toHex32(this.h.slice(0,12),"big"):r.split32(this.h.slice(0,12),"big")}},function(e,t,n){"use strict";var r=n(286),i=n(434),o=r.rotl32,a=r.sum32,s=r.sum32_3,u=r.sum32_4,l=i.BlockHash;function c(){if(!(this instanceof c))return new c;l.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function d(e,t,n,r){return e<=15?t^n^r:e<=31?t&n|~t&r:e<=47?(t|~n)^r:e<=63?t&r|n&~r:t^(n|~r)}function f(e){return e<=15?0:e<=31?1518500249:e<=47?1859775393:e<=63?2400959708:2840853838}function h(e){return e<=15?1352829926:e<=31?1548603684:e<=47?1836072691:e<=63?2053994217:0}r.inherits(c,l),t.ripemd160=c,c.blockSize=512,c.outSize=160,c.hmacStrength=192,c.padLength=64,c.prototype._update=function(e,t){for(var n=this.h[0],r=this.h[1],i=this.h[2],l=this.h[3],c=this.h[4],v=n,b=r,_=i,w=l,k=c,E=0;E<80;E++){var x=a(o(u(n,d(E,r,i,l),e[p[E]+t],f(E)),g[E]),c);n=c,c=l,l=o(i,10),i=r,r=x,x=a(o(u(v,d(79-E,b,_,w),e[m[E]+t],h(E)),y[E]),k),v=k,k=w,w=o(_,10),_=b,b=x}x=s(this.h[1],i,w),this.h[1]=s(this.h[2],l,k),this.h[2]=s(this.h[3],c,v),this.h[3]=s(this.h[4],n,b),this.h[4]=s(this.h[0],r,_),this.h[0]=x},c.prototype._digest=function(e){return"hex"===e?r.toHex32(this.h,"little"):r.split32(this.h,"little")};var p=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],m=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],g=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],y=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},function(e,t,n){"use strict";var r=n(286),i=n(268);function o(e,t,n){if(!(this instanceof o))return new o(e,t,n);this.Hash=e,this.blockSize=e.blockSize/8,this.outSize=e.outSize/8,this.inner=null,this.outer=null,this._init(r.toArray(t,n))}e.exports=o,o.prototype._init=function(e){e.length>this.blockSize&&(e=(new this.Hash).update(e).digest()),i(e.length<=this.blockSize);for(var t=e.length;t<this.blockSize;t++)e.push(0);for(t=0;t<e.length;t++)e[t]^=54;for(this.inner=(new this.Hash).update(e),t=0;t<e.length;t++)e[t]^=106;this.outer=(new this.Hash).update(e)},o.prototype.update=function(e,t){return this.inner.update(e,t),this},o.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)}},function(e,t){e.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},function(e,t,n){"use strict";var r=n(91),i=n(1851),o=n(254),a=o.utils.assert,s=n(1852),u=n(1853);function l(e){if(!(this instanceof l))return new l(e);"string"==typeof e&&(a(o.curves.hasOwnProperty(e),"Unknown curve "+e),e=o.curves[e]),e instanceof o.curves.PresetCurve&&(e={curve:e}),this.curve=e.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=e.curve.g,this.g.precompute(e.curve.n.bitLength()+1),this.hash=e.hash||e.curve.hash}e.exports=l,l.prototype.keyPair=function(e){return new s(this,e)},l.prototype.keyFromPrivate=function(e,t){return s.fromPrivate(this,e,t)},l.prototype.keyFromPublic=function(e,t){return s.fromPublic(this,e,t)},l.prototype.genKeyPair=function(e){e||(e={});for(var t=new i({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||o.rand(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),n=this.n.byteLength(),a=this.n.sub(new r(2));;){var s=new r(t.generate(n));if(!(s.cmp(a)>0))return s.iaddn(1),this.keyFromPrivate(s)}},l.prototype._truncateToN=function(e,t){var n=8*e.byteLength()-this.n.bitLength();return n>0&&(e=e.ushrn(n)),!t&&e.cmp(this.n)>=0?e.sub(this.n):e},l.prototype.sign=function(e,t,n,o){"object"==typeof n&&(o=n,n=null),o||(o={}),t=this.keyFromPrivate(t,n),e=this._truncateToN(new r(e,16));for(var a=this.n.byteLength(),s=t.getPrivate().toArray("be",a),l=e.toArray("be",a),c=new i({hash:this.hash,entropy:s,nonce:l,pers:o.pers,persEnc:o.persEnc||"utf8"}),d=this.n.sub(new r(1)),f=0;;f++){var h=o.k?o.k(f):new r(c.generate(this.n.byteLength()));if(!((h=this._truncateToN(h,!0)).cmpn(1)<=0||h.cmp(d)>=0)){var p=this.g.mul(h);if(!p.isInfinity()){var m=p.getX(),g=m.umod(this.n);if(0!==g.cmpn(0)){var y=h.invm(this.n).mul(g.mul(t.getPrivate()).iadd(e));if(0!==(y=y.umod(this.n)).cmpn(0)){var v=(p.getY().isOdd()?1:0)|(0!==m.cmp(g)?2:0);return o.canonical&&y.cmp(this.nh)>0&&(y=this.n.sub(y),v^=1),new u({r:g,s:y,recoveryParam:v})}}}}}},l.prototype.verify=function(e,t,n,i){e=this._truncateToN(new r(e,16)),n=this.keyFromPublic(n,i);var o=(t=new u(t,"hex")).r,a=t.s;if(o.cmpn(1)<0||o.cmp(this.n)>=0)return!1;if(a.cmpn(1)<0||a.cmp(this.n)>=0)return!1;var s,l=a.invm(this.n),c=l.mul(e).umod(this.n),d=l.mul(o).umod(this.n);return this.curve._maxwellTrick?!(s=this.g.jmulAdd(c,n.getPublic(),d)).isInfinity()&&s.eqXToP(o):!(s=this.g.mulAdd(c,n.getPublic(),d)).isInfinity()&&0===s.getX().umod(this.n).cmp(o)},l.prototype.recoverPubKey=function(e,t,n,i){a((3&n)===n,"The recovery param is more than two bits"),t=new u(t,i);var o=this.n,s=new r(e),l=t.r,c=t.s,d=1&n,f=n>>1;if(l.cmp(this.curve.p.umod(this.curve.n))>=0&&f)throw new Error("Unable to find sencond key candinate");l=f?this.curve.pointFromX(l.add(this.curve.n),d):this.curve.pointFromX(l,d);var h=t.r.invm(o),p=o.sub(s).mul(h).umod(o),m=c.mul(h).umod(o);return this.g.mulAdd(p,l,m)},l.prototype.getKeyRecoveryParam=function(e,t,n,r){if(null!==(t=new u(t,r)).recoveryParam)return t.recoveryParam;for(var i=0;i<4;i++){var o;try{o=this.recoverPubKey(e,t,i)}catch(e){continue}if(o.eq(n))return i}throw new Error("Unable to find valid recovery factor")}},function(e,t,n){"use strict";var r=n(651),i=n(1134),o=n(268);function a(e){if(!(this instanceof a))return new a(e);this.hash=e.hash,this.predResist=!!e.predResist,this.outLen=this.hash.outSize,this.minEntropy=e.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var t=i.toArray(e.entropy,e.entropyEnc||"hex"),n=i.toArray(e.nonce,e.nonceEnc||"hex"),r=i.toArray(e.pers,e.persEnc||"hex");o(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(t,n,r)}e.exports=a,a.prototype._init=function(e,t,n){var r=e.concat(t).concat(n);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var i=0;i<this.V.length;i++)this.K[i]=0,this.V[i]=1;this._update(r),this._reseed=1,this.reseedInterval=281474976710656},a.prototype._hmac=function(){return new r.hmac(this.hash,this.K)},a.prototype._update=function(e){var t=this._hmac().update(this.V).update([0]);e&&(t=t.update(e)),this.K=t.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())},a.prototype.reseed=function(e,t,n,r){"string"!=typeof t&&(r=n,n=t,t=null),e=i.toArray(e,t),n=i.toArray(n,r),o(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(n||[])),this._reseed=1},a.prototype.generate=function(e,t,n,r){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!=typeof t&&(r=n,n=t,t=null),n&&(n=i.toArray(n,r||"hex"),this._update(n));for(var o=[];o.length<e;)this.V=this._hmac().update(this.V).digest(),o=o.concat(this.V);var a=o.slice(0,e);return this._update(n),this._reseed++,i.encode(a,t)}},function(e,t,n){"use strict";var r=n(91),i=n(254).utils.assert;function o(e,t){this.ec=e,this.priv=null,this.pub=null,t.priv&&this._importPrivate(t.priv,t.privEnc),t.pub&&this._importPublic(t.pub,t.pubEnc)}e.exports=o,o.fromPublic=function(e,t,n){return t instanceof o?t:new o(e,{pub:t,pubEnc:n})},o.fromPrivate=function(e,t,n){return t instanceof o?t:new o(e,{priv:t,privEnc:n})},o.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},o.prototype.getPublic=function(e,t){return"string"==typeof e&&(t=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),t?this.pub.encode(t,e):this.pub},o.prototype.getPrivate=function(e){return"hex"===e?this.priv.toString(16,2):this.priv},o.prototype._importPrivate=function(e,t){this.priv=new r(e,t||16),this.priv=this.priv.umod(this.ec.curve.n)},o.prototype._importPublic=function(e,t){if(e.x||e.y)return"mont"===this.ec.curve.type?i(e.x,"Need x coordinate"):"short"!==this.ec.curve.type&&"edwards"!==this.ec.curve.type||i(e.x&&e.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(e.x,e.y));this.pub=this.ec.curve.decodePoint(e,t)},o.prototype.derive=function(e){return e.mul(this.priv).getX()},o.prototype.sign=function(e,t,n){return this.ec.sign(e,this,t,n)},o.prototype.verify=function(e,t){return this.ec.verify(e,t,this)},o.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},function(e,t,n){"use strict";var r=n(91),i=n(254).utils,o=i.assert;function a(e,t){if(e instanceof a)return e;this._importDER(e,t)||(o(e.r&&e.s,"Signature without r or s"),this.r=new r(e.r,16),this.s=new r(e.s,16),void 0===e.recoveryParam?this.recoveryParam=null:this.recoveryParam=e.recoveryParam)}function s(e,t){var n=e[t.place++];if(!(128&n))return n;for(var r=15&n,i=0,o=0,a=t.place;o<r;o++,a++)i<<=8,i|=e[a];return t.place=a,i}function u(e){for(var t=0,n=e.length-1;!e[t]&&!(128&e[t+1])&&t<n;)t++;return 0===t?e:e.slice(t)}function l(e,t){if(t<128)e.push(t);else{var n=1+(Math.log(t)/Math.LN2>>>3);for(e.push(128|n);--n;)e.push(t>>>(n<<3)&255);e.push(t)}}e.exports=a,a.prototype._importDER=function(e,t){e=i.toArray(e,t);var n=new function(){this.place=0};if(48!==e[n.place++])return!1;if(s(e,n)+n.place!==e.length)return!1;if(2!==e[n.place++])return!1;var o=s(e,n),a=e.slice(n.place,o+n.place);if(n.place+=o,2!==e[n.place++])return!1;var u=s(e,n);if(e.length!==u+n.place)return!1;var l=e.slice(n.place,u+n.place);return 0===a[0]&&128&a[1]&&(a=a.slice(1)),0===l[0]&&128&l[1]&&(l=l.slice(1)),this.r=new r(a),this.s=new r(l),this.recoveryParam=null,!0},a.prototype.toDER=function(e){var t=this.r.toArray(),n=this.s.toArray();for(128&t[0]&&(t=[0].concat(t)),128&n[0]&&(n=[0].concat(n)),t=u(t),n=u(n);!(n[0]||128&n[1]);)n=n.slice(1);var r=[2];l(r,t.length),(r=r.concat(t)).push(2),l(r,n.length);var o=r.concat(n),a=[48];return l(a,o.length),a=a.concat(o),i.encode(a,e)}},function(e,t,n){"use strict";var r=n(651),i=n(254),o=i.utils,a=o.assert,s=o.parseBytes,u=n(1855),l=n(1856);function c(e){if(a("ed25519"===e,"only tested with ed25519 so far"),!(this instanceof c))return new c(e);e=i.curves[e].curve;this.curve=e,this.g=e.g,this.g.precompute(e.n.bitLength()+1),this.pointClass=e.point().constructor,this.encodingLength=Math.ceil(e.n.bitLength()/8),this.hash=r.sha512}e.exports=c,c.prototype.sign=function(e,t){e=s(e);var n=this.keyFromSecret(t),r=this.hashInt(n.messagePrefix(),e),i=this.g.mul(r),o=this.encodePoint(i),a=this.hashInt(o,n.pubBytes(),e).mul(n.priv()),u=r.add(a).umod(this.curve.n);return this.makeSignature({R:i,S:u,Rencoded:o})},c.prototype.verify=function(e,t,n){e=s(e),t=this.makeSignature(t);var r=this.keyFromPublic(n),i=this.hashInt(t.Rencoded(),r.pubBytes(),e),o=this.g.mul(t.S());return t.R().add(r.pub().mul(i)).eq(o)},c.prototype.hashInt=function(){for(var e=this.hash(),t=0;t<arguments.length;t++)e.update(arguments[t]);return o.intFromLE(e.digest()).umod(this.curve.n)},c.prototype.keyFromPublic=function(e){return u.fromPublic(this,e)},c.prototype.keyFromSecret=function(e){return u.fromSecret(this,e)},c.prototype.makeSignature=function(e){return e instanceof l?e:new l(this,e)},c.prototype.encodePoint=function(e){var t=e.getY().toArray("le",this.encodingLength);return t[this.encodingLength-1]|=e.getX().isOdd()?128:0,t},c.prototype.decodePoint=function(e){var t=(e=o.parseBytes(e)).length-1,n=e.slice(0,t).concat(-129&e[t]),r=0!=(128&e[t]),i=o.intFromLE(n);return this.curve.pointFromY(i,r)},c.prototype.encodeInt=function(e){return e.toArray("le",this.encodingLength)},c.prototype.decodeInt=function(e){return o.intFromLE(e)},c.prototype.isPoint=function(e){return e instanceof this.pointClass}},function(e,t,n){"use strict";var r=n(254).utils,i=r.assert,o=r.parseBytes,a=r.cachedProperty;function s(e,t){this.eddsa=e,this._secret=o(t.secret),e.isPoint(t.pub)?this._pub=t.pub:this._pubBytes=o(t.pub)}s.fromPublic=function(e,t){return t instanceof s?t:new s(e,{pub:t})},s.fromSecret=function(e,t){return t instanceof s?t:new s(e,{secret:t})},s.prototype.secret=function(){return this._secret},a(s,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),a(s,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),a(s,"privBytes",function(){var e=this.eddsa,t=this.hash(),n=e.encodingLength-1,r=t.slice(0,e.encodingLength);return r[0]&=248,r[n]&=127,r[n]|=64,r}),a(s,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),a(s,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),a(s,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),s.prototype.sign=function(e){return i(this._secret,"KeyPair can only verify"),this.eddsa.sign(e,this)},s.prototype.verify=function(e,t){return this.eddsa.verify(e,t,this)},s.prototype.getSecret=function(e){return i(this._secret,"KeyPair is public only"),r.encode(this.secret(),e)},s.prototype.getPublic=function(e){return r.encode(this.pubBytes(),e)},e.exports=s},function(e,t,n){"use strict";var r=n(91),i=n(254).utils,o=i.assert,a=i.cachedProperty,s=i.parseBytes;function u(e,t){this.eddsa=e,"object"!=typeof t&&(t=s(t)),Array.isArray(t)&&(t={R:t.slice(0,e.encodingLength),S:t.slice(e.encodingLength)}),o(t.R&&t.S,"Signature without R or S"),e.isPoint(t.R)&&(this._R=t.R),t.S instanceof r&&(this._S=t.S),this._Rencoded=Array.isArray(t.R)?t.R:t.Rencoded,this._Sencoded=Array.isArray(t.S)?t.S:t.Sencoded}a(u,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),a(u,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),a(u,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),a(u,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),u.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},u.prototype.toHex=function(){return i.encode(this.toBytes(),"hex").toUpperCase()},e.exports=u},function(e,t,n){"use strict";var r=n(435);t.certificate=n(1868);var i=r.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});t.RSAPrivateKey=i;var o=r.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});t.RSAPublicKey=o;var a=r.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(s),this.key("subjectPublicKey").bitstr())});t.PublicKey=a;var s=r.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),u=r.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(s),this.key("subjectPrivateKey").octstr())});t.PrivateKey=u;var l=r.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});t.EncryptedPrivateKey=l;var c=r.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});t.DSAPrivateKey=c,t.DSAparam=r.define("DSAparam",function(){this.int()});var d=r.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(f),this.key("publicKey").optional().explicit(1).bitstr())});t.ECPrivateKey=d;var f=r.define("ECParameters",function(){this.choice({namedCurve:this.objid()})});t.signature=r.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())})},function(e,t,n){var r=n(435),i=n(38);function o(e,t){this.name=e,this.body=t,this.decoders={},this.encoders={}}t.define=function(e,t){return new o(e,t)},o.prototype._createNamed=function(e){var t;try{t=n(1859).runInThisContext("(function "+this.name+"(entity) {\n  this._initNamed(entity);\n})")}catch(e){t=function(e){this._initNamed(e)}}return i(t,e),t.prototype._initNamed=function(t){e.call(this,t)},new t(this)},o.prototype._getDecoder=function(e){return e=e||"der",this.decoders.hasOwnProperty(e)||(this.decoders[e]=this._createNamed(r.decoders[e])),this.decoders[e]},o.prototype.decode=function(e,t,n){return this._getDecoder(t).decode(e,n)},o.prototype._getEncoder=function(e){return e=e||"der",this.encoders.hasOwnProperty(e)||(this.encoders[e]=this._createNamed(r.encoders[e])),this.encoders[e]},o.prototype.encode=function(e,t,n){return this._getEncoder(t).encode(e,n)}},function(module,exports,__webpack_require__){var indexOf=__webpack_require__(1860),Object_keys=function(e){if(Object.keys)return Object.keys(e);var t=[];for(var n in e)t.push(n);return t},forEach=function(e,t){if(e.forEach)return e.forEach(t);for(var n=0;n<e.length;n++)t(e[n],n,e)},defineProp=function(){try{return Object.defineProperty({},"_",{}),function(e,t,n){Object.defineProperty(e,t,{writable:!0,enumerable:!1,configurable:!0,value:n})}}catch(e){return function(e,t,n){e[t]=n}}}(),globals=["Array","Boolean","Date","Error","EvalError","Function","Infinity","JSON","Math","NaN","Number","Object","RangeError","ReferenceError","RegExp","String","SyntaxError","TypeError","URIError","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","eval","isFinite","isNaN","parseFloat","parseInt","undefined","unescape"];function Context(){}Context.prototype={};var Script=exports.Script=function(e){if(!(this instanceof Script))return new Script(e);this.code=e};Script.prototype.runInContext=function(e){if(!(e instanceof Context))throw new TypeError("needs a 'context' argument.");var t=document.createElement("iframe");t.style||(t.style={}),t.style.display="none",document.body.appendChild(t);var n=t.contentWindow,r=n.eval,i=n.execScript;!r&&i&&(i.call(n,"null"),r=n.eval),forEach(Object_keys(e),function(t){n[t]=e[t]}),forEach(globals,function(t){e[t]&&(n[t]=e[t])});var o=Object_keys(n),a=r.call(n,this.code);return forEach(Object_keys(n),function(t){(t in e||-1===indexOf(o,t))&&(e[t]=n[t])}),forEach(globals,function(t){t in e||defineProp(e,t,n[t])}),document.body.removeChild(t),a},Script.prototype.runInThisContext=function(){return eval(this.code)},Script.prototype.runInNewContext=function(e){var t=Script.createContext(e),n=this.runInContext(t);return forEach(Object_keys(t),function(n){e[n]=t[n]}),n},forEach(Object_keys(Script.prototype),function(e){exports[e]=Script[e]=function(t){var n=Script(t);return n[e].apply(n,[].slice.call(arguments,1))}}),exports.createScript=function(e){return exports.Script(e)},exports.createContext=Script.createContext=function(e){var t=new Context;return"object"==typeof e&&forEach(Object_keys(e),function(n){t[n]=e[n]}),t}},function(e,t){var n=[].indexOf;e.exports=function(e,t){if(n)return e.indexOf(t);for(var r=0;r<e.length;++r)if(e[r]===t)return r;return-1}},function(e,t,n){var r=n(38);function i(e){this._reporterState={obj:null,path:[],options:e||{},errors:[]}}function o(e,t){this.path=e,this.rethrow(t)}t.Reporter=i,i.prototype.isError=function(e){return e instanceof o},i.prototype.save=function(){var e=this._reporterState;return{obj:e.obj,pathLen:e.path.length}},i.prototype.restore=function(e){var t=this._reporterState;t.obj=e.obj,t.path=t.path.slice(0,e.pathLen)},i.prototype.enterKey=function(e){return this._reporterState.path.push(e)},i.prototype.exitKey=function(e){var t=this._reporterState;t.path=t.path.slice(0,e-1)},i.prototype.leaveKey=function(e,t,n){var r=this._reporterState;this.exitKey(e),null!==r.obj&&(r.obj[t]=n)},i.prototype.path=function(){return this._reporterState.path.join("/")},i.prototype.enterObject=function(){var e=this._reporterState,t=e.obj;return e.obj={},t},i.prototype.leaveObject=function(e){var t=this._reporterState,n=t.obj;return t.obj=e,n},i.prototype.error=function(e){var t,n=this._reporterState,r=e instanceof o;if(t=r?e:new o(n.path.map(function(e){return"["+JSON.stringify(e)+"]"}).join(""),e.message||e,e.stack),!n.options.partial)throw t;return r||n.errors.push(t),t},i.prototype.wrapResult=function(e){var t=this._reporterState;return t.options.partial?{result:this.isError(e)?null:e,errors:t.errors}:e},r(o,Error),o.prototype.rethrow=function(e){if(this.message=e+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,o),!this.stack)try{throw new Error(this.message)}catch(e){this.stack=e.stack}return this}},function(e,t,n){var r=n(436).Reporter,i=n(436).EncoderBuffer,o=n(436).DecoderBuffer,a=n(268),s=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],u=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(s);function l(e,t){var n={};this._baseState=n,n.enc=e,n.parent=t||null,n.children=null,n.tag=null,n.args=null,n.reverseArgs=null,n.choice=null,n.optional=!1,n.any=!1,n.obj=!1,n.use=null,n.useDecoder=null,n.key=null,n.default=null,n.explicit=null,n.implicit=null,n.contains=null,n.parent||(n.children=[],this._wrap())}e.exports=l;var c=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];l.prototype.clone=function(){var e=this._baseState,t={};c.forEach(function(n){t[n]=e[n]});var n=new this.constructor(t.parent);return n._baseState=t,n},l.prototype._wrap=function(){var e=this._baseState;u.forEach(function(t){this[t]=function(){var n=new this.constructor(this);return e.children.push(n),n[t].apply(n,arguments)}},this)},l.prototype._init=function(e){var t=this._baseState;a(null===t.parent),e.call(this),t.children=t.children.filter(function(e){return e._baseState.parent===this},this),a.equal(t.children.length,1,"Root node can have only one child")},l.prototype._useArgs=function(e){var t=this._baseState,n=e.filter(function(e){return e instanceof this.constructor},this);e=e.filter(function(e){return!(e instanceof this.constructor)},this),0!==n.length&&(a(null===t.children),t.children=n,n.forEach(function(e){e._baseState.parent=this},this)),0!==e.length&&(a(null===t.args),t.args=e,t.reverseArgs=e.map(function(e){if("object"!=typeof e||e.constructor!==Object)return e;var t={};return Object.keys(e).forEach(function(n){n==(0|n)&&(n|=0);var r=e[n];t[r]=n}),t}))},["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"].forEach(function(e){l.prototype[e]=function(){var t=this._baseState;throw new Error(e+" not implemented for encoding: "+t.enc)}}),s.forEach(function(e){l.prototype[e]=function(){var t=this._baseState,n=Array.prototype.slice.call(arguments);return a(null===t.tag),t.tag=e,this._useArgs(n),this}}),l.prototype.use=function(e){a(e);var t=this._baseState;return a(null===t.use),t.use=e,this},l.prototype.optional=function(){return this._baseState.optional=!0,this},l.prototype.def=function(e){var t=this._baseState;return a(null===t.default),t.default=e,t.optional=!0,this},l.prototype.explicit=function(e){var t=this._baseState;return a(null===t.explicit&&null===t.implicit),t.explicit=e,this},l.prototype.implicit=function(e){var t=this._baseState;return a(null===t.explicit&&null===t.implicit),t.implicit=e,this},l.prototype.obj=function(){var e=this._baseState,t=Array.prototype.slice.call(arguments);return e.obj=!0,0!==t.length&&this._useArgs(t),this},l.prototype.key=function(e){var t=this._baseState;return a(null===t.key),t.key=e,this},l.prototype.any=function(){return this._baseState.any=!0,this},l.prototype.choice=function(e){var t=this._baseState;return a(null===t.choice),t.choice=e,this._useArgs(Object.keys(e).map(function(t){return e[t]})),this},l.prototype.contains=function(e){var t=this._baseState;return a(null===t.use),t.contains=e,this},l.prototype._decode=function(e,t){var n=this._baseState;if(null===n.parent)return e.wrapResult(n.children[0]._decode(e,t));var r,i=n.default,a=!0,s=null;if(null!==n.key&&(s=e.enterKey(n.key)),n.optional){var u=null;if(null!==n.explicit?u=n.explicit:null!==n.implicit?u=n.implicit:null!==n.tag&&(u=n.tag),null!==u||n.any){if(a=this._peekTag(e,u,n.any),e.isError(a))return a}else{var l=e.save();try{null===n.choice?this._decodeGeneric(n.tag,e,t):this._decodeChoice(e,t),a=!0}catch(e){a=!1}e.restore(l)}}if(n.obj&&a&&(r=e.enterObject()),a){if(null!==n.explicit){var c=this._decodeTag(e,n.explicit);if(e.isError(c))return c;e=c}var d=e.offset;if(null===n.use&&null===n.choice){if(n.any)l=e.save();var f=this._decodeTag(e,null!==n.implicit?n.implicit:n.tag,n.any);if(e.isError(f))return f;n.any?i=e.raw(l):e=f}if(t&&t.track&&null!==n.tag&&t.track(e.path(),d,e.length,"tagged"),t&&t.track&&null!==n.tag&&t.track(e.path(),e.offset,e.length,"content"),i=n.any?i:null===n.choice?this._decodeGeneric(n.tag,e,t):this._decodeChoice(e,t),e.isError(i))return i;if(n.any||null!==n.choice||null===n.children||n.children.forEach(function(n){n._decode(e,t)}),n.contains&&("octstr"===n.tag||"bitstr"===n.tag)){var h=new o(i);i=this._getUse(n.contains,e._reporterState.obj)._decode(h,t)}}return n.obj&&a&&(i=e.leaveObject(r)),null===n.key||null===i&&!0!==a?null!==s&&e.exitKey(s):e.leaveKey(s,n.key,i),i},l.prototype._decodeGeneric=function(e,t,n){var r=this._baseState;return"seq"===e||"set"===e?null:"seqof"===e||"setof"===e?this._decodeList(t,e,r.args[0],n):/str$/.test(e)?this._decodeStr(t,e,n):"objid"===e&&r.args?this._decodeObjid(t,r.args[0],r.args[1],n):"objid"===e?this._decodeObjid(t,null,null,n):"gentime"===e||"utctime"===e?this._decodeTime(t,e,n):"null_"===e?this._decodeNull(t,n):"bool"===e?this._decodeBool(t,n):"objDesc"===e?this._decodeStr(t,e,n):"int"===e||"enum"===e?this._decodeInt(t,r.args&&r.args[0],n):null!==r.use?this._getUse(r.use,t._reporterState.obj)._decode(t,n):t.error("unknown tag: "+e)},l.prototype._getUse=function(e,t){var n=this._baseState;return n.useDecoder=this._use(e,t),a(null===n.useDecoder._baseState.parent),n.useDecoder=n.useDecoder._baseState.children[0],n.implicit!==n.useDecoder._baseState.implicit&&(n.useDecoder=n.useDecoder.clone(),n.useDecoder._baseState.implicit=n.implicit),n.useDecoder},l.prototype._decodeChoice=function(e,t){var n=this._baseState,r=null,i=!1;return Object.keys(n.choice).some(function(o){var a=e.save(),s=n.choice[o];try{var u=s._decode(e,t);if(e.isError(u))return!1;r={type:o,value:u},i=!0}catch(t){return e.restore(a),!1}return!0},this),i?r:e.error("Choice not matched")},l.prototype._createEncoderBuffer=function(e){return new i(e,this.reporter)},l.prototype._encode=function(e,t,n){var r=this._baseState;if(null===r.default||r.default!==e){var i=this._encodeValue(e,t,n);if(void 0!==i&&!this._skipDefault(i,t,n))return i}},l.prototype._encodeValue=function(e,t,n){var i=this._baseState;if(null===i.parent)return i.children[0]._encode(e,t||new r);var o=null;if(this.reporter=t,i.optional&&void 0===e){if(null===i.default)return;e=i.default}var a=null,s=!1;if(i.any)o=this._createEncoderBuffer(e);else if(i.choice)o=this._encodeChoice(e,t);else if(i.contains)a=this._getUse(i.contains,n)._encode(e,t),s=!0;else if(i.children)a=i.children.map(function(n){if("null_"===n._baseState.tag)return n._encode(null,t,e);if(null===n._baseState.key)return t.error("Child should have a key");var r=t.enterKey(n._baseState.key);if("object"!=typeof e)return t.error("Child expected, but input is not object");var i=n._encode(e[n._baseState.key],t,e);return t.leaveKey(r),i},this).filter(function(e){return e}),a=this._createEncoderBuffer(a);else if("seqof"===i.tag||"setof"===i.tag){if(!i.args||1!==i.args.length)return t.error("Too many args for : "+i.tag);if(!Array.isArray(e))return t.error("seqof/setof, but data is not Array");var u=this.clone();u._baseState.implicit=null,a=this._createEncoderBuffer(e.map(function(n){var r=this._baseState;return this._getUse(r.args[0],e)._encode(n,t)},u))}else null!==i.use?o=this._getUse(i.use,n)._encode(e,t):(a=this._encodePrimitive(i.tag,e),s=!0);if(!i.any&&null===i.choice){var l=null!==i.implicit?i.implicit:i.tag,c=null===i.implicit?"universal":"context";null===l?null===i.use&&t.error("Tag could be omitted only for .use()"):null===i.use&&(o=this._encodeComposite(l,s,c,a))}return null!==i.explicit&&(o=this._encodeComposite(i.explicit,!1,"context",o)),o},l.prototype._encodeChoice=function(e,t){var n=this._baseState,r=n.choice[e.type];return r||a(!1,e.type+" not found in "+JSON.stringify(Object.keys(n.choice))),r._encode(e.value,t)},l.prototype._encodePrimitive=function(e,t){var n=this._baseState;if(/str$/.test(e))return this._encodeStr(t,e);if("objid"===e&&n.args)return this._encodeObjid(t,n.reverseArgs[0],n.args[1]);if("objid"===e)return this._encodeObjid(t,null,null);if("gentime"===e||"utctime"===e)return this._encodeTime(t,e);if("null_"===e)return this._encodeNull();if("int"===e||"enum"===e)return this._encodeInt(t,n.args&&n.reverseArgs[0]);if("bool"===e)return this._encodeBool(t);if("objDesc"===e)return this._encodeStr(t,e);throw new Error("Unsupported tag: "+e)},l.prototype._isNumstr=function(e){return/^[0-9 ]*$/.test(e)},l.prototype._isPrintstr=function(e){return/^[A-Za-z0-9 '\(\)\+,\-\.\/:=\?]*$/.test(e)}},function(e,t,n){var r=n(1139);t.tagClass={0:"universal",1:"application",2:"context",3:"private"},t.tagClassByName=r._reverse(t.tagClass),t.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},t.tagByName=r._reverse(t.tag)},function(e,t,n){var r=t;r.der=n(1140),r.pem=n(1865)},function(e,t,n){var r=n(38),i=n(71).Buffer,o=n(1140);function a(e){o.call(this,e),this.enc="pem"}r(a,o),e.exports=a,a.prototype.decode=function(e,t){for(var n=e.toString().split(/[\r\n]+/g),r=t.label.toUpperCase(),a=/^-----(BEGIN|END) ([^-]+)-----$/,s=-1,u=-1,l=0;l<n.length;l++){var c=n[l].match(a);if(null!==c&&c[2]===r){if(-1!==s){if("END"!==c[1])break;u=l;break}if("BEGIN"!==c[1])break;s=l}}if(-1===s||-1===u)throw new Error("PEM section not found for: "+r);var d=n.slice(s+1,u).join("");d.replace(/[^a-z0-9\+\/=]+/gi,"");var f=new i(d,"base64");return o.prototype.decode.call(this,f,t)}},function(e,t,n){var r=t;r.der=n(1141),r.pem=n(1867)},function(e,t,n){var r=n(38),i=n(1141);function o(e){i.call(this,e),this.enc="pem"}r(o,i),e.exports=o,o.prototype.encode=function(e,t){for(var n=i.prototype.encode.call(this,e).toString("base64"),r=["-----BEGIN "+t.label+"-----"],o=0;o<n.length;o+=64)r.push(n.slice(o,o+64));return r.push("-----END "+t.label+"-----"),r.join("\n")}},function(e,t,n){"use strict";var r=n(435),i=r.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),o=r.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),a=r.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())}),s=r.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(a),this.key("subjectPublicKey").bitstr())}),u=r.define("RelativeDistinguishedName",function(){this.setof(o)}),l=r.define("RDNSequence",function(){this.seqof(u)}),c=r.define("Name",function(){this.choice({rdnSequence:this.use(l)})}),d=r.define("Validity",function(){this.seq().obj(this.key("notBefore").use(i),this.key("notAfter").use(i))}),f=r.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),h=r.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(a),this.key("issuer").use(c),this.key("validity").use(d),this.key("subject").use(c),this.key("subjectPublicKeyInfo").use(s),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(f).optional())}),p=r.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(h),this.key("signatureAlgorithm").use(a),this.key("signatureValue").bitstr())});e.exports=p},function(e,t){e.exports={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}},function(e,t,n){var r=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r\+\/\=]+)[\n\r]+/m,i=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,o=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r\+\/\=]+)-----END \1-----$/m,a=n(553),s=n(648),u=n(40).Buffer;e.exports=function(e,t){var n,l=e.toString(),c=l.match(r);if(c){var d="aes"+c[1],f=u.from(c[2],"hex"),h=u.from(c[3].replace(/[\r\n]/g,""),"base64"),p=a(t,f.slice(0,8),parseInt(c[1],10)).key,m=[],g=s.createDecipheriv(d,p,f);m.push(g.update(h)),m.push(g.final()),n=u.concat(m)}else{var y=l.match(o);n=new u(y[2].replace(/[\r\n]/g,""),"base64")}return{tag:l.match(i)[1],data:n}}},function(e,t,n){(function(t){var r=n(91),i=n(254).ec,o=n(555),a=n(1142);function s(e,t){if(e.cmpn(0)<=0)throw new Error("invalid sig");if(e.cmp(t)>=t)throw new Error("invalid sig")}e.exports=function(e,n,u,l,c){var d=o(u);if("ec"===d.type){if("ecdsa"!==l&&"ecdsa/rsa"!==l)throw new Error("wrong public key type");return function(e,t,n){var r=a[n.data.algorithm.curve.join(".")];if(!r)throw new Error("unknown curve "+n.data.algorithm.curve.join("."));var o=new i(r),s=n.data.subjectPrivateKey.data;return o.verify(t,e,s)}(e,n,d)}if("dsa"===d.type){if("dsa"!==l)throw new Error("wrong public key type");return function(e,t,n){var i=n.data.p,a=n.data.q,u=n.data.g,l=n.data.pub_key,c=o.signature.decode(e,"der"),d=c.s,f=c.r;s(d,a),s(f,a);var h=r.mont(i),p=d.invm(a);return 0===u.toRed(h).redPow(new r(t).mul(p).mod(a)).fromRed().mul(l.toRed(h).redPow(f.mul(p).mod(a)).fromRed()).mod(i).mod(a).cmp(f)}(e,n,d)}if("rsa"!==l&&"ecdsa/rsa"!==l)throw new Error("wrong public key type");n=t.concat([c,n]);for(var f=d.modulus.byteLength(),h=[1],p=0;n.length+h.length+2<f;)h.push(255),p++;h.push(0);for(var m=-1;++m<n.length;)h.push(n[m]);h=new t(h);var g=r.mont(d.modulus);e=(e=new r(e).toRed(g)).redPow(new r(d.publicExponent)),e=new t(e.fromRed().toArray());var y=p<8?1:0;for(f=Math.min(e.length,h.length),e.length!==h.length&&(y=1),m=-1;++m<f;)y|=e[m]^h[m];return 0===y}}).call(t,n(71).Buffer)},function(e,t,n){(function(t){var r=n(254),i=n(91);e.exports=function(e){return new a(e)};var o={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};function a(e){this.curveType=o[e],this.curveType||(this.curveType={name:e}),this.curve=new r.ec(this.curveType.name),this.keys=void 0}function s(e,n,r){Array.isArray(e)||(e=e.toArray());var i=new t(e);if(r&&i.length<r){var o=new t(r-i.length);o.fill(0),i=t.concat([o,i])}return n?i.toString(n):i}o.p224=o.secp224r1,o.p256=o.secp256r1=o.prime256v1,o.p192=o.secp192r1=o.prime192v1,o.p384=o.secp384r1,o.p521=o.secp521r1,a.prototype.generateKeys=function(e,t){return this.keys=this.curve.genKeyPair(),this.getPublicKey(e,t)},a.prototype.computeSecret=function(e,n,r){return n=n||"utf8",t.isBuffer(e)||(e=new t(e,n)),s(this.curve.keyFromPublic(e).getPublic().mul(this.keys.getPrivate()).getX(),r,this.curveType.byteLength)},a.prototype.getPublicKey=function(e,t){var n=this.keys.getPublic("compressed"===t,!0);return"hybrid"===t&&(n[n.length-1]%2?n[0]=7:n[0]=6),s(n,e)},a.prototype.getPrivateKey=function(e){return s(this.keys.getPrivate(),e)},a.prototype.setPublicKey=function(e,n){return n=n||"utf8",t.isBuffer(e)||(e=new t(e,n)),this.keys._importPublic(e),this},a.prototype.setPrivateKey=function(e,n){n=n||"utf8",t.isBuffer(e)||(e=new t(e,n));var r=new i(e);return r=r.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(r),this}}).call(t,n(71).Buffer)},function(e,t,n){t.publicEncrypt=n(1874),t.privateDecrypt=n(1875),t.privateEncrypt=function(e,n){return t.publicEncrypt(e,n,!0)},t.publicDecrypt=function(e,n){return t.privateDecrypt(e,n,!0)}},function(e,t,n){var r=n(555),i=n(399),o=n(430),a=n(1143),s=n(1144),u=n(91),l=n(1145),c=n(650),d=n(40).Buffer;e.exports=function(e,t,n){var f;f=e.padding?e.padding:n?1:4;var h,p=r(e);if(4===f)h=function(e,t){var n=e.modulus.byteLength(),r=t.length,l=o("sha1").update(d.alloc(0)).digest(),c=l.length,f=2*c;if(r>n-f-2)throw new Error("message too long");var h=d.alloc(n-r-f-2),p=n-c-1,m=i(c),g=s(d.concat([l,h,d.alloc(1,1),t],p),a(m,p)),y=s(m,a(g,c));return new u(d.concat([d.alloc(1),y,g],n))}(p,t);else if(1===f)h=function(e,t,n){var r,o=t.length,a=e.modulus.byteLength();if(o>a-11)throw new Error("message too long");r=n?d.alloc(a-o-3,255):function(e){var t,n=d.allocUnsafe(e),r=0,o=i(2*e),a=0;for(;r<e;)a===o.length&&(o=i(2*e),a=0),(t=o[a++])&&(n[r++]=t);return n}(a-o-3);return new u(d.concat([d.from([0,n?1:2]),r,d.alloc(1),t],a))}(p,t,n);else{if(3!==f)throw new Error("unknown padding");if((h=new u(t)).cmp(p.modulus)>=0)throw new Error("data too long for modulus")}return n?c(h,p):l(h,p)}},function(e,t,n){var r=n(555),i=n(1143),o=n(1144),a=n(91),s=n(650),u=n(430),l=n(1145),c=n(40).Buffer;e.exports=function(e,t,n){var d;d=e.padding?e.padding:n?1:4;var f,h=r(e),p=h.modulus.byteLength();if(t.length>p||new a(t).cmp(h.modulus)>=0)throw new Error("decryption error");f=n?l(new a(t),h):s(t,h);var m=c.alloc(p-f.length);if(f=c.concat([m,f],p),4===d)return function(e,t){var n=e.modulus.byteLength(),r=u("sha1").update(c.alloc(0)).digest(),a=r.length;if(0!==t[0])throw new Error("decryption error");var s=t.slice(1,a+1),l=t.slice(a+1),d=o(s,i(l,a)),f=o(l,i(d,n-a-1));if(function(e,t){e=c.from(e),t=c.from(t);var n=0,r=e.length;e.length!==t.length&&(n++,r=Math.min(e.length,t.length));var i=-1;for(;++i<r;)n+=e[i]^t[i];return n}(r,f.slice(0,a)))throw new Error("decryption error");var h=a;for(;0===f[h];)h++;if(1!==f[h++])throw new Error("decryption error");return f.slice(h)}(h,f);if(1===d)return function(e,t,n){var r=t.slice(0,2),i=2,o=0;for(;0!==t[i++];)if(i>=t.length){o++;break}var a=t.slice(2,i-1);("0002"!==r.toString("hex")&&!n||"0001"!==r.toString("hex")&&n)&&o++;a.length<8&&o++;if(o)throw new Error("decryption error");return t.slice(i)}(0,f,n);if(3===d)return f;throw new Error("unknown padding")}},function(e,t,n){"use strict";(function(e,r){function i(){throw new Error("secure random number generation not supported by this browser\nuse chrome, FireFox or Internet Explorer 11")}var o=n(40),a=n(399),s=o.Buffer,u=o.kMaxLength,l=e.crypto||e.msCrypto,c=Math.pow(2,32)-1;function d(e,t){if("number"!=typeof e||e!=e)throw new TypeError("offset must be a number");if(e>c||e<0)throw new TypeError("offset must be a uint32");if(e>u||e>t)throw new RangeError("offset out of range")}function f(e,t,n){if("number"!=typeof e||e!=e)throw new TypeError("size must be a number");if(e>c||e<0)throw new TypeError("size must be a uint32");if(e+t>n||e>u)throw new RangeError("buffer too small")}function h(e,t,n,i){if(r.browser){var o=e.buffer,s=new Uint8Array(o,t,n);return l.getRandomValues(s),i?void r.nextTick(function(){i(null,e)}):e}if(!i)return a(n).copy(e,t),e;a(n,function(n,r){if(n)return i(n);r.copy(e,t),i(null,e)})}l&&l.getRandomValues||!r.browser?(t.randomFill=function(t,n,r,i){if(!(s.isBuffer(t)||t instanceof e.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if("function"==typeof n)i=n,n=0,r=t.length;else if("function"==typeof r)i=r,r=t.length-n;else if("function"!=typeof i)throw new TypeError('"cb" argument must be a function');return d(n,t.length),f(r,n,t.length),h(t,n,r,i)},t.randomFillSync=function(t,n,r){void 0===n&&(n=0);if(!(s.isBuffer(t)||t instanceof e.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');d(n,t.length),void 0===r&&(r=t.length-n);return f(r,n,t.length),h(t,n,r)}):(t.randomFill=i,t.randomFillSync=i)}).call(t,n(22),n(59))},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var u=n(548),l=n(556),c=n(654),d=n(346),f=function(){function e(){s(this,e)}return r(e,[{key:"serialize",value:function(){throw new Error("serialize() method not implemented for "+this.constructor.name)}},{key:"deserialize",value:function(){throw new Error("deserialize() method not implemented for "+this.constructor.name)}},{key:"canBeUsedFor",value:function(){throw new Error("canBeUsedFor() method not implemented for "+this.constructor.name)}}]),e}(),h=function(e){function t(){return s(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,f),r(t,[{key:"serialize",value:function(e){var t,n,r;return isNaN(e)?(i(t={},"@type","g:Double"),i(t,"@value","NaN"),t):e===Number.POSITIVE_INFINITY?(i(n={},"@type","g:Double"),i(n,"@value","Infinity"),n):e===Number.NEGATIVE_INFINITY?(i(r={},"@type","g:Double"),i(r,"@value","-Infinity"),r):e}},{key:"deserialize",value:function(e){var t=e["@value"];return"NaN"===t?NaN:"Infinity"===t?Number.POSITIVE_INFINITY:"-Infinity"===t?Number.NEGATIVE_INFINITY:parseFloat(t)}},{key:"canBeUsedFor",value:function(e){return"number"==typeof e}}]),t}(),p=function(e){function t(){return s(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,f),r(t,[{key:"serialize",value:function(e){var t;return i(t={},"@type","g:Date"),i(t,"@value",e.getTime()),t}},{key:"deserialize",value:function(e){return new Date(e["@value"])}},{key:"canBeUsedFor",value:function(e){return e instanceof Date}}]),t}(),m=function(e){function t(){return s(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,f),r(t,[{key:"serialize",value:function(e){var t;return i(t={},"@type","g:Int64"),i(t,"@value",e.value),t}},{key:"canBeUsedFor",value:function(e){return e instanceof d.Long}}]),t}(),g=function(e){function t(){return s(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,f),r(t,[{key:"serialize",value:function(e){var t=e;e instanceof u.Traversal&&(t=e.getBytecode());var n={"@type":"g:Bytecode"},r=n["@value"]={},i=this._serializeInstructions(t.sourceInstructions);i&&(r.source=i);var o=this._serializeInstructions(t.stepInstructions);return o&&(r.step=o),n}},{key:"_serializeInstructions",value:function(e){if(0===e.length)return null;var t=new Array(e.length);t[0]=e[0];for(var n=0;n<e.length;n++)t[n]=this.writer.adaptObject(e[n]);return t}},{key:"canBeUsedFor",value:function(e){return e instanceof l||e instanceof u.Traversal}}]),t}(),y=function(e){function t(){return s(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,f),r(t,[{key:"serialize",value:function(e){var t={"@type":"g:P"},n=t["@value"]={predicate:e.operator};return void 0===e.other||null===e.other?n.value=this.writer.adaptObject(e.value):n.value=[this.writer.adaptObject(e.value),this.writer.adaptObject(e.other)],t}},{key:"canBeUsedFor",value:function(e){return e instanceof u.P}}]),t}(),v=function(e){function t(){return s(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,f),r(t,[{key:"serialize",value:function(e){var t={"@type":"g:TextP"},n=t["@value"]={predicate:e.operator};return void 0===e.other||null===e.other?n.value=this.writer.adaptObject(e.value):n.value=[this.writer.adaptObject(e.value),this.writer.adaptObject(e.other)],t}},{key:"canBeUsedFor",value:function(e){return e instanceof u.TextP}}]),t}(),b=function(e){function t(){return s(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,f),r(t,[{key:"serialize",value:function(e){var t;return i(t={},"@type","g:Lambda"),i(t,"@value",{arguments:e.length,language:"gremlin-javascript",script:e.toString()}),t}},{key:"canBeUsedFor",value:function(e){return"function"==typeof e}}]),t}(),_=function(e){function t(){return s(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,f),r(t,[{key:"serialize",value:function(e){var t;return i(t={},"@type","g:"+e.typeName),i(t,"@value",e.elementName),t}},{key:"canBeUsedFor",value:function(e){return e&&e.typeName&&e instanceof u.EnumValue}}]),t}(),w=function(e){function t(){return s(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,f),r(t,[{key:"serialize",value:function(e){var t;return i(t={},"@type","g:Traverser"),i(t,"@value",{value:this.writer.adaptObject(e.object),bulk:this.writer.adaptObject(e.bulk)}),t}},{key:"deserialize",value:function(e){var t=e["@value"];return new u.Traverser(this.reader.read(t.value),this.reader.read(t.bulk))}},{key:"canBeUsedFor",value:function(e){return e instanceof u.Traverser}}]),t}(),k=function(e){function t(){return s(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,f),r(t,[{key:"deserialize",value:function(e){var t=e["@value"];return new c.Vertex(this.reader.read(t.id),t.label,this.reader.read(t.properties))}},{key:"serialize",value:function(e){var t;return i(t={},"@type","g:Vertex"),i(t,"@value",{id:this.writer.adaptObject(e.id),label:e.label}),t}},{key:"canBeUsedFor",value:function(e){return e instanceof c.Vertex}}]),t}(),E=function(e){function t(){return s(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,f),r(t,[{key:"deserialize",value:function(e){var t=e["@value"];return new c.VertexProperty(this.reader.read(t.id),t.label,this.reader.read(t.value),this.reader.read(t.properties))}}]),t}(),x=function(e){function t(){return s(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,f),r(t,[{key:"deserialize",value:function(e){var t=e["@value"];return new c.Property(t.key,this.reader.read(t.value))}}]),t}(),S=function(e){function t(){return s(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,f),r(t,[{key:"deserialize",value:function(e){var t=e["@value"];return new c.Edge(this.reader.read(t.id),this.reader.read(t.outV),t.label,this.reader.read(t.inV),this.reader.read(t.properties))}},{key:"serialize",value:function(e){var t;return i(t={},"@type","g:Edge"),i(t,"@value",{id:this.writer.adaptObject(e.id),label:e.label,outV:this.writer.adaptObject(e.outV.id),outVLabel:e.outV.label,inV:this.writer.adaptObject(e.inV.id),inVLabel:e.inV.label}),t}},{key:"canBeUsedFor",value:function(e){return e instanceof c.Edge}}]),t}(),M=function(e){function t(){return s(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,f),r(t,[{key:"deserialize",value:function(e){var t=this,n=e["@value"],r=n.objects.map(function(e){return t.reader.read(e)});return new c.Path(this.reader.read(n.labels),r)}}]),t}(),T=function(e){function t(){return s(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,f),r(t,[{key:"deserialize",value:function(e){var t=e["@value"];return new c.Path(this.reader.read(t.labels),this.reader.read(t.objects))}}]),t}(),C=function(e){function t(){return s(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,f),r(t,[{key:"deserialize",value:function(e){return u.t[e["@value"]]}}]),t}(),A=function(e){function t(e){s(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.typeKey=e,n}return a(t,f),r(t,[{key:"deserialize",value:function(e){var t=this,n=e["@value"];if(!Array.isArray(n))throw new Error("Expected Array, obtained: "+n);return n.map(function(e){return t.reader.read(e)})}},{key:"serialize",value:function(e){var t,n=this;return i(t={},"@type",this.typeKey),i(t,"@value",e.map(function(e){return n.writer.adaptObject(e)})),t}},{key:"canBeUsedFor",value:function(e){return Array.isArray(e)}}]),t}(),O=function(e){function t(){return s(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,f),r(t,[{key:"deserialize",value:function(e){var t=e["@value"];if(!Array.isArray(t))throw new Error("Expected Array, obtained: "+t);for(var n=[],r=0,i=t.length;r<i;r+=2){var o=t.slice(r,r+2);n=n.concat(Array(this.reader.read(o[1])).fill(this.reader.read(o[0])))}return n}}]),t}(),N=function(e){function t(){return s(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,f),r(t,[{key:"deserialize",value:function(e){var t=e["@value"];if(!Array.isArray(t))throw new Error("Expected Array, obtained: "+t);for(var n=new Map,r=0;r<t.length;r+=2)n.set(this.reader.read(t[r]),this.reader.read(t[r+1]));return n}},{key:"serialize",value:function(e){var t,n=this,r=[];return e.forEach(function(e,t){r.push(n.writer.adaptObject(t)),r.push(n.writer.adaptObject(e))}),i(t={},"@type","g:Map"),i(t,"@value",r),t}},{key:"canBeUsedFor",value:function(e){return e instanceof Map}}]),t}(),L=function(e){function t(){return s(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,"g:List"))}return a(t,A),t}(),j=function(e){function t(){return s(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,"g:Set"))}return a(t,A),t}();e.exports={BulkSetSerializer:O,BytecodeSerializer:g,DateSerializer:p,EdgeSerializer:S,EnumSerializer:_,LambdaSerializer:b,ListSerializer:L,LongSerializer:m,MapSerializer:N,NumberSerializer:h,Path3Serializer:T,PathSerializer:M,PropertySerializer:x,PSerializer:y,TextPSerializer:v,SetSerializer:j,TSerializer:C,TraverserSerializer:w,typeKey:"@type",valueKey:"@value",VertexPropertySerializer:E,VertexSerializer:k}},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var i=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._traversalSource=t}return r(e,[{key:"getTraversalSource",value:function(){return this._traversalSource}},{key:"getTargetLanguage",value:function(){return"gremlin-groovy"}},{key:"of",value:function(e){this._traversalSource=e}},{key:"translate",value:function(e){for(var t=this._traversalSource,n=e.stepInstructions,r=function(e){var r=n[e].slice(1);if(t+="."+n[e][0]+"(",r.length)for(var i=function(e){e>0&&(t+=", "),Object(r[e])===r[e]?"[object Object]"===r[e].toString()?Object.keys(r[e]).forEach(function(n,i){i>0&&(t+=", "),t+="('"+n+"', ",r[e][n]instanceof String||"string"==typeof r[e][n]?t+="'"+r[e][n]+"'":t+=r[e][n],t+=")"}):t+=r[e].toString():void 0===r[e]?t+="":"number"==typeof r[e]?t+=r[e]:t+="'"+r[e]+"'"},o=0;o<r.length;o++)i(o);t+=")"},i=0;i<n.length;i++)r(i);return t}}]),e}();e.exports=i},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var i=n(653),o=i.RemoteConnection,a=i.RemoteTraversal,s=n(1147),u=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r._client=new s(e,n),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o),r(t,[{key:"open",value:function(){return this._client.open()}},{key:"submit",value:function(e){return this._client.submit(e).then(function(e){return new a(e.toArray())})}},{key:"close",value:function(){return this._client.close()}}]),t}();e.exports=u},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var i=n(549),o=n(1148),a=n(346),s=n(1146),u=n(1149),l=204,c=206,d=407,f="application/vnd.gremlin-v3.0+json",h=6e4,p=3e4,m=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return r.url=e,r.options=n=n||{},r._responseHandlers={},r._reader=n.reader||new s.GraphSONReader,r._writer=n.writer||new s.GraphSONWriter,r._openPromise=null,r._openCallback=null,r._closePromise=null,r._closeCallback=null,r._pingInterval=null,r._pongTimeout=null,r.mimeType=n.mimeType||f,r._header=String.fromCharCode(r.mimeType.length)+r.mimeType,r.isOpen=!1,r.traversalSource=n.traversalSource||"g",r._authenticator=n.authenticator,r._pingEnabled=!1!==r.options.pingEnabled,r._pingIntervalDelay=r.options.pingInterval||h,r._pongTimeoutDelay=r.options.pongTimeout||p,!1!==r.options.connectOnStartup&&r.open(),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i),r(t,[{key:"open",value:function(){var e=this;return this.isOpen?Promise.resolve():this._openPromise?this._openPromise:(this.emit("log","ws open"),this._ws=new WebSocket(this.url),this._ws.onmessage=function(t){e._handleMessage(t.data)},this._openPromise=new Promise(function(t,n){e._ws.onopen=function(e){this.isOpen=!0,this._pingEnabled&&this._pingHeartbeat(),t()}}))}},{key:"submit",value:function(e,t,n,r,i){var o=this;return this.open().then(function(){return new Promise(function(s,u){null!==r&&void 0!==r||(r=a.getUuid(),o._responseHandlers[r]={callback:function(e,t){return e?u(e):s(t)},result:null});var l=JSON.stringify(o._getRequest(r,e,t,n,i));o._ws.send(l)})})}},{key:"_getRequest",value:function(e,t,n,r,i){return r&&(r=this._adaptArgs(r,!0)),{requestId:e,op:n||"bytecode",processor:i||"eval"===n?i:"traversal",args:r||{gremlin:this._writer.adaptObject(t),aliases:{g:this.traversalSource}}}}},{key:"_pingHeartbeat",value:function(){var e=this;this._pingInterval&&(clearInterval(this._pingInterval),this._pingInterval=null),this._pingInterval=setInterval(function(){!1===e.isOpen&&e._pingInterval&&(clearInterval(e._pingInterval),e._pingInterval=null),e._pongTimeout=setTimeout(function(){e._ws.terminate()},e._pongTimeoutDelay),e._ws.ping()},this._pingIntervalDelay)}},{key:"_handleError",value:function(e){this.emit("log","ws error "+e),this._cleanupWebsocket(),this.emit("error",e)}},{key:"_handleClose",value:function(e,t){this.emit("log","ws close code="+e+" message="+t),this._cleanupWebsocket(),this._closeCallback&&this._closeCallback(),this.emit("close",e,t)}},{key:"_handleMessage",value:function(e){var t=this,n=this._reader.read(JSON.parse(e.toString()));if(null!==n.requestId&&void 0!==n.requestId){var r=this._responseHandlers[n.requestId];if(r)if(n.status.code===d&&this._authenticator)this._authenticator.evaluateChallenge(n.result.data).then(function(e){return t.submit(null,"authentication",e,n.requestId)}).catch(r.callback);else{if(n.status.code>=400)return r.callback(new Error(o.format("Server error: %s (%d)",n.status.message,n.status.code)));switch(n.status.code){case l:return this._clearHandler(n.requestId),r.callback(null,new u(a.emptyArray,n.status.attributes));case c:r.result=r.result||[],r.result.push.apply(r.result,n.result.data);break;default:return r.result?r.result.push.apply(r.result,n.result.data):r.result=n.result.data,this._clearHandler(n.requestId),r.callback(null,new u(r.result,n.status.attributes))}}}else Object.keys(this._responseHandlers).forEach(function(e){var r=t._responseHandlers[e];return t._clearHandler(e),void 0!==n.status&&n.status.message?r.callback(new Error(o.format("Server error (no request information): %s (%d)",n.status.message,n.status.code))):r.callback(new Error(o.format("Server error (no request information): %j",n)))})}},{key:"_cleanupWebsocket",value:function(){this._pingInterval&&clearInterval(this._pingInterval),this._pingInterval=null,this._pongTimeout&&clearTimeout(this._pongTimeout),this._pongTimeout=null,this._ws.removeAllListeners(),this._openPromise=null,this._closePromise=null,this.isOpen=!1}},{key:"_clearHandler",value:function(e){delete this._responseHandlers[e]}},{key:"_adaptArgs",value:function(e,t){var n=this;if(e instanceof Object){var r={};return Object.keys(e).forEach(function(i){r[i]=t&&"bindings"===i?n._adaptArgs(e[i],!1):n._writer.adaptObject(e[i])}),r}return e}},{key:"close",value:function(){var e=this;return!1===this.isOpen?Promise.resolve():(this._closePromise||(this._closePromise=new Promise(function(t){e._closeCallback=t,e._ws.close()})),this._closePromise)}}]),t}();e.exports=m},function(e,t){e.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var i=n(1150),o=n(1883),a=function(e){function t(e,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i={mechanism:new o({username:e,password:n,authzid:r})};return function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,i))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i),r(t,[{key:"evaluateChallenge",value:function(e){return this._options.mechanism.evaluateChallenge(e)}}]),t}();e.exports=a},function(e,t,n){"use strict";(function(t){var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var i=n(1884),o=function(e){function n(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));if(void 0===t._options.username||null===t._options.username||0==t._options.username.length||void 0===t._options.password||null===t._options.password||0==t._options.password.length)throw new Error("Missing credentials for SASL PLAIN mechanism");return t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,i),r(n,[{key:"evaluateChallenge",value:function(e){return this._hasInitialResponse(e)?Promise.resolve({saslMechanism:this.name,sasl:this._saslArgument(this._options.authzid,this._options.username,this._options.password)}):Promise.resolve({sasl:this._saslArgument(this._options.authzid,this._options.username,this._options.password)})}},{key:"_saslArgument",value:function(e,n,r){return void 0!==e&&null!==e||(e=""),void 0!==n&&null!==n||(n=""),void 0!==r&&null!==r.length||(r=""),new t(e+"\0"+n+"\0"+r).toString("base64")}},{key:"_hasInitialResponse",value:function(e){return void 0!==e&&null!==e}},{key:"name",get:function(){return"PLAIN"}}]),n}();e.exports=o}).call(t,n(71).Buffer)},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var i=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.setopts(t)}return r(e,[{key:"setopts",value:function(e){this._options=e}},{key:"evaluateChallenge",value:function(e){throw new Error("evaluateChallenge should be implemented")}},{key:"name",get:function(){return null}}]),e}();e.exports=i},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var i=n(652),o=n(437).TraversalStrategies,a=i.GraphTraversalSource,s=n(654).Graph,u=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return r(e,[{key:"withRemote",value:function(e){return this.withGraph(new s).withRemote(e)}},{key:"withGraph",value:function(e){return new a(e,new o)}}],[{key:"traversal",value:function(){return new e}}]),e}();e.exports=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(285);t.StyledWrapper=r.default.div`
   display:flex;
   flex-direction: ${e=>e.direction?e.direction:"column"}; 
   margin-top: ${e=>e.top?e.top:"0"}px; 
   margin-bottom: ${e=>e.bottom?e.bottom:"0"}px; 
`,t.StyledLabel=r.default.label`
    color: white;
    min-width: ${e=>e.minWidth?e.minWidth:80}px;
`,t.StyledInput=r.default.input`
    margin-left: 10px;
    background: transparent;
    border-width: 0 0 1px;
    border-color: gray;
    color:gray;
    &:focus {
        border-color: red;
      }
`,t.StyledButton=r.default.button`
   margin:${e=>e.margin?e.margin:0}px;
   margin-left:${e=>e.marginLeft?e.marginLeft:0}px;
   margin-right:${e=>e.marginRight?e.marginRight:0}px;
   margin-top:${e=>e.marginTop?e.marginTop:0}px;
   margin-bottom:${e=>e.marginBottom?e.marginBottom:0}px;

`,t.StyledConnectionGroup=r.default.div`
   display:flex;
   flex-direction: row; 
`,t.StyledConnection=r.default.div`
   display:flex;
   flex-direction: column; 
`,t.StyledConnectionRow=r.default.div`
   display:flex;
   flex-direction: row;
   align-items: center;
`,t.StyledConnectionTestGroup=r.default.div`
   display:flex;
   flex-direction: column; 
   margin-left: 10px;
   justify-content: space-between;
`,t.StyledSpan=r.default.span`
    white-space: pre-wrap;
    color:${e=>e.color};
`,t.StyledResult=r.default(t.StyledWrapper)`
    color:${e=>e.color};
    height:${e=>e.height}px;
    border:${e=>e.border};
    padding:${e=>e.padding}px;
    overflow-y:${e=>e.overFlow?"scroll":"none"};
`},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,s)}u((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const i=n(1),o=n(1),a=n(1888),s=n(640);t.default=class extends o.Component{constructor(e){super(e),this.state={fileName:"",rows:0,columns:0,data:"",resultMsgs:[]}}onUploadLoalJSON(e){return r(this,void 0,void 0,function*(){let{actions:t}=this.props,n=e.currentTarget.files[0];if(!n)return;let r=yield this.parse(n),i=JSON.parse(r),o={nodes:[],edges:[]};this.parseJsonToGraph(i,o),t.loadGraph(o),this.setState({fileName:n.name,data:i})})}parseJsonToGraph(e,t){if(e instanceof Array)e.forEach(e=>{if(e instanceof Array||e instanceof Object){let n={label:"defaultLabel"};n.id=this.autoId(),n.properties=e,t.nodes.push(n),Object.keys(e).forEach(n=>{(e[n]instanceof Array||e[n]instanceof Object)&&this.parseJsonToGraph(e,t)})}});else{if(!(e instanceof Object))return t;Object.keys(e).forEach(n=>{let r=e[n];if(r instanceof Array)this.parseJsonToGraph(r,t);else if(r instanceof Object){let e={};e.label=n,e.id=this.autoId(),e.properties=r,Object.keys(r).forEach(e=>{(r[e]instanceof Array||r[e]instanceof Object)&&this.parseJsonToGraph(r[e],t)})}})}}parse(e){return r(this,void 0,void 0,function*(){return new Promise((t,n)=>{let r="";const i=new FileReader;i.onloadend=function(e){r=e.target.result,t(r)},i.onerror=function(e){n(e)},i.readAsText(e)})})}showMessage(e,t){let{resultMsgs:n}=this.state,r={status:e,message:t};n.push(r),this.setState({resultMsgs:n})}loadDataToGraph(){return r(this,void 0,void 0,function*(){})}autoId(){return(Date.now().toString(36)+Math.random().toString(36).substr(2,5)).toUpperCase()}render(){let{fileName:e,resultMsgs:t,rows:n,columns:r,data:o}=this.state;return i.createElement(a.StyledWrapper,{direction:"column"},i.createElement(a.StyledWrapper,{direction:"row"},i.createElement(a.StyleUpload,null,i.createElement(a.StyledButton,null,"Open Local"),i.createElement(a.StyleInput,{type:"file",onChange:e=>this.onUploadLoalJSON(e)}))),i.createElement(a.StyledWrapper,{top:10,direction:"row"},i.createElement(a.StyledLabel,null,"File Name"),i.createElement(a.StyledLine,{disabled:!0,value:e})),i.createElement(a.StyledWrapper,{top:10},i.createElement(s.default,{value:o,height:500,mode:"application/json"})))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(285);t.StyledWrapper=r.default.div`
   display:flex;
   flex-direction: ${e=>e.direction?e.direction:"column"}; 
   margin-top: ${e=>e.top?e.top:"0"}px; 
`,t.StyleUpload=r.default.div`
    position: relative;
    display: inline-block;
    curror:pointer;
`,t.StyleInput=r.default.input`
    font-size: 20px;
    width:80px;
    curror:pointer;
    position: absolute;
    left: 0;
    top: 0;
    opacity: 0;
`,t.StyledLine=r.default.input`
    margin-left: 10px;
    background: transparent;
    border-width: 0 0 1px;
    border-color: gray;
    color:gray;
`,t.StyledLabel=r.default.label`
    color: white;
    min-width: ${e=>e.minWidth?e.minWidth:80}px;
`,t.StyledButton=r.default.button`
   margin:${e=>e.margin?e.margin:0}px;
   margin-left:${e=>e.marginLeft?e.marginLeft:0}px;
   margin-right:${e=>e.marginRight?e.marginRight:0}px;
   margin-top:${e=>e.marginTop?e.marginTop:0}px;
   margin-bottom:${e=>e.marginBottom?e.marginBottom:0}px;

`,t.StyledSpan=r.default.span`
    white-space: pre-wrap;
    color:${e=>e.color};
`,t.StyledResult=r.default(t.StyledWrapper)`
    color:${e=>e.color};
    height:${e=>e.height}px;
    border:${e=>e.border};
    padding:${e=>e.padding}px;
    overflow-y:${e=>e.overFlow?"scroll":"none"};
`},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(1),o=d(i),a=d(n(1890)),s=d(n(1928)),u=d(n(1954)),l=d(n(1955)),c=d(n(398));function d(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),r(t,[{key:"render",value:function(){var e=this.props,t=e.actions,n=e.reduxState,r=e.config;return o.default.createElement(c.default,null,r.forceLayout.visible?o.default.createElement(a.default,{name:"Force",actions:t,reduxState:n}):null,r.parametricLayout.visible?o.default.createElement(s.default,{name:"Parametric",actions:t,reduxState:n}):null,r.treeLayout.visible?o.default.createElement(u.default,{name:"Tree",actions:t,reduxState:n}):null,r.labelLayout.visible?o.default.createElement(l.default,{name:"Label",actions:t,reduxState:n}):null)}}]),t}();t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(1),o=l(i),a=l(n(329)),s=n(50),u=n(90);function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),r=n.props.reduxState.layout.graphPhysics;return n.state={enable:!0,linkStrength:r.linkStrength,linkDistance:r.linkDistance,gravity:r.gravity,charge:r.charge,heightCompress:r.heightCompress,isForceLayout:_app.controller.drawing.layoutController.enable},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),r(t,[{key:"componentWillReceiveProps",value:function(e){}},{key:"onForceChange",value:function(e,t){var n=this.props,r=n.actions;n.reduxState;switch(r.layoutGraphPhysicsChange(e,t),e){case"linkStrength":this.setState({linkStrength:t});break;case"linkDistance":this.setState({linkDistance:t});break;case"gravity":this.setState({gravity:t});break;case"charge":this.setState({charge:t});break;case"heightCompress":this.setState({heightCompress:t})}}},{key:"unpinAll",value:function(){var e=this.props,t=e.actions;e.reduxState;t.nodeOperator(u.Types.NODE_CLEAN_ALL_PIN)}},{key:"enableForce",value:function(){var e=this.props,t=e.actions,n=e.reduxState.node.nodeOperator.status;t.nodeOperator(u.Types.NODE_FREEZ,{status:!n}),this.setState({enable:!this.state.enable})}},{key:"resetLayout",value:function(){this.props.actions.resetForceLayout(),this.setState({linkStrength:s.D3Sliders.linkStrength.defaultValue,linkDistance:s.D3Sliders.linkDistance.defaultValue,gravity:s.D3Sliders.gravity.defaultValue,charge:s.D3Sliders.charge.defaultValue,heightCompress:s.D3Sliders.heightCompress.defaultValue})}},{key:"onCheckForceLayout",value:function(e){_app.controller.drawing.layoutController.enable=!e,this.setState({isForceLayout:!e})}},{key:"initLayout",value:function(){_app.controller.drawing.startLayout()}},{key:"runLayout",value:function(){_app.controller.drawing.layoutController.restart_layout()}},{key:"stopLayout",value:function(){_app.controller.drawing.layoutController.stop_layout()}},{key:"render",value:function(){var e=this;return o.default.createElement("div",{className:"force-layout"},o.default.createElement("div",{className:"sliders"},o.default.createElement("div",{className:"slider-item"},o.default.createElement("label",null,"Link Strength "),o.default.createElement(a.default,{onChange:function(t){return e.onForceChange("linkStrength",t)},min:s.D3Sliders.linkStrength.min,max:s.D3Sliders.linkStrength.max,defaultValue:this.state.linkStrength,value:this.state.linkStrength,step:s.D3Sliders.linkStrength.step})),o.default.createElement("div",{className:"slider-item"},o.default.createElement("label",null,"Link Distance "),o.default.createElement(a.default,{onChange:function(t){return e.onForceChange("linkDistance",t)},min:s.D3Sliders.linkDistance.min,max:s.D3Sliders.linkDistance.max,defaultValue:this.state.linkDistance,value:this.state.linkDistance,step:s.D3Sliders.linkDistance.step})),o.default.createElement("div",{className:"slider-item"},o.default.createElement("label",null,"Gravity "),o.default.createElement(a.default,{onChange:function(t){return e.onForceChange("gravity",t)},min:s.D3Sliders.gravity.min,max:s.D3Sliders.gravity.max,defaultValue:this.state.gravity,value:this.state.gravity,step:s.D3Sliders.gravity.step})),o.default.createElement("div",{className:"slider-item"},o.default.createElement("label",null,"Charge"),o.default.createElement(a.default,{onChange:function(t){return e.onForceChange("charge",t)},min:s.D3Sliders.charge.min,max:s.D3Sliders.charge.max,defaultValue:this.state.charge,value:this.state.charge,step:s.D3Sliders.charge.step})),o.default.createElement("div",{className:"slider-item"},o.default.createElement("label",{className:"both"},o.default.createElement("span",{className:"left"},"3D"),o.default.createElement("span",{className:"right"},"2D")),o.default.createElement(a.default,{onChange:function(t){return e.onForceChange("heightCompress",t)},min:s.D3Sliders.heightCompress.min,max:s.D3Sliders.heightCompress.max,defaultValue:this.state.heightCompress,value:this.state.heightCompress,step:s.D3Sliders.heightCompress.step}))),o.default.createElement("div",{className:"check-group"},o.default.createElement("span",{className:"checkbox-title"},"Force Layout"),o.default.createElement("input",{type:"checkbox",checked:this.state.isForceLayout,onChange:function(){return e.onCheckForceLayout(e.state.isForceLayout)}})),o.default.createElement("button",{className:"kv-button",onClick:function(){return e.initLayout()}},"Init"),o.default.createElement("button",{className:"kv-button",onClick:function(){return e.runLayout()}},"Run"),o.default.createElement("button",{className:"kv-button",onClick:function(){return e.stopLayout()}},"Stop"),o.default.createElement("button",{className:"kv-button",onClick:function(){return e.resetLayout()}},"Reset"))}}]),t}();t.default=c},function(e,t,n){"use strict";var r=n(258),i=n.n(r),o=n(14),a=n.n(o),s=n(20),u=n.n(s),l=n(41),c=n.n(l),d=n(42),f=n.n(d),h=n(1),p=n.n(h),m=n(4),g=n.n(m),y=n(655),v=(n.n(y),n(1151)),b=n(1152),_=n(657),w=function(e){function t(e){a()(this,t);var n=c()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.onEnd=function(){n.setState({dragging:!1}),n.removeDocumentEvents(),n.props.onAfterChange(n.getValue())};var r=void 0!==e.defaultValue?e.defaultValue:e.min,i=void 0!==e.value?e.value:r;return n.state={value:n.trimAlignValue(i),dragging:!1},n}return f()(t,e),u()(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.autoFocus,n=e.disabled;t&&!n&&this.focus()}},{key:"componentWillReceiveProps",value:function(e){if("value"in e||"min"in e||"max"in e){var t=this.state.value,n=void 0!==e.value?e.value:t,r=this.trimAlignValue(n,e);r!==t&&(this.setState({value:r}),_.i(n,e)&&this.props.onChange(r))}}},{key:"onChange",value:function(e){var t=this.props;!("value"in t)&&this.setState(e);var n=e.value;t.onChange(n)}},{key:"onStart",value:function(e){this.setState({dragging:!0});var t=this.props,n=this.getValue();t.onBeforeChange(n);var r=this.calcValueByPos(e);this.startValue=r,this.startPosition=e,r!==n&&(this.prevMovedHandleIndex=0,this.onChange({value:r}))}},{key:"onMove",value:function(e,t){_.j(e);var n=this.state.value,r=this.calcValueByPos(t);r!==n&&this.onChange({value:r})}},{key:"onKeyboard",value:function(e){var t=_.d(e);if(t){_.j(e);var n=this.state.value,r=t(n,this.props),i=this.trimAlignValue(r);if(i===n)return;this.onChange({value:i})}}},{key:"getValue",value:function(){return this.state.value}},{key:"getLowerBound",value:function(){return this.props.min}},{key:"getUpperBound",value:function(){return this.state.value}},{key:"trimAlignValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=i()({},this.props,t),r=_.a(e,n);return _.b(r,n)}},{key:"render",value:function(){var e=this,t=this.props,n=t.prefixCls,r=t.vertical,o=t.included,a=t.disabled,s=t.minimumTrackStyle,u=t.trackStyle,l=t.handleStyle,c=t.tabIndex,d=t.min,f=t.max,h=t.handle,m=this.state,g=m.value,y=m.dragging,b=this.calcOffset(g),_=h({className:n+"-handle",prefixCls:n,vertical:r,offset:b,value:g,dragging:y,disabled:a,min:d,max:f,index:0,tabIndex:c,style:l[0]||l,ref:function(t){return e.saveHandle(0,t)}}),w=u[0]||u;return{tracks:p.a.createElement(v.a,{className:n+"-track",vertical:r,included:o,offset:0,length:b,style:i()({},s,w)}),handles:_}}}]),t}(p.a.Component);w.propTypes={defaultValue:g.a.number,value:g.a.number,disabled:g.a.bool,autoFocus:g.a.bool,tabIndex:g.a.number},t.a=Object(b.a)(w)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n,r){function i(t){var r=new o.default(t);n.call(e,r)}if(e.addEventListener){var a=(s=!1,"object"==typeof r?s=r.capture||!1:"boolean"==typeof r&&(s=r),e.addEventListener(t,i,r||!1),{v:{remove:function(){e.removeEventListener(t,i,s)}}});if("object"==typeof a)return a.v}else if(e.attachEvent)return e.attachEvent("on"+t,i),{remove:function(){e.detachEvent("on"+t,i)}};var s};var r,i=n(1893),o=(r=i)&&r.__esModule?r:{default:r};e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(1894)),o=r(n(403)),a=!0,s=!1,u=["altKey","bubbles","cancelable","ctrlKey","currentTarget","eventPhase","metaKey","shiftKey","target","timeStamp","view","type"];function l(e){return null===e||void 0===e}var c=[{reg:/^key/,props:["char","charCode","key","keyCode","which"],fix:function(e,t){l(e.which)&&(e.which=l(t.charCode)?t.keyCode:t.charCode),void 0===e.metaKey&&(e.metaKey=e.ctrlKey)}},{reg:/^touch/,props:["touches","changedTouches","targetTouches"]},{reg:/^hashchange$/,props:["newURL","oldURL"]},{reg:/^gesturechange$/i,props:["rotation","scale"]},{reg:/^(mousewheel|DOMMouseScroll)$/,props:[],fix:function(e,t){var n=void 0,r=void 0,i=void 0,o=t.wheelDelta,a=t.axis,s=t.wheelDeltaY,u=t.wheelDeltaX,l=t.detail;o&&(i=o/120),l&&(i=0-(l%3==0?l/3:l)),void 0!==a&&(a===e.HORIZONTAL_AXIS?(r=0,n=0-i):a===e.VERTICAL_AXIS&&(n=0,r=i)),void 0!==s&&(r=s/120),void 0!==u&&(n=-1*u/120),n||r||(r=i),void 0!==n&&(e.deltaX=n),void 0!==r&&(e.deltaY=r),void 0!==i&&(e.delta=i)}},{reg:/^mouse|contextmenu|click|mspointer|(^DOMMouseScroll$)/i,props:["buttons","clientX","clientY","button","offsetX","relatedTarget","which","fromElement","toElement","offsetY","pageX","pageY","screenX","screenY"],fix:function(e,t){var n=void 0,r=void 0,i=void 0,o=e.target,a=t.button;return o&&l(e.pageX)&&!l(t.clientX)&&(r=(n=o.ownerDocument||document).documentElement,i=n.body,e.pageX=t.clientX+(r&&r.scrollLeft||i&&i.scrollLeft||0)-(r&&r.clientLeft||i&&i.clientLeft||0),e.pageY=t.clientY+(r&&r.scrollTop||i&&i.scrollTop||0)-(r&&r.clientTop||i&&i.clientTop||0)),e.which||void 0===a||(e.which=1&a?1:2&a?3:4&a?2:0),!e.relatedTarget&&e.fromElement&&(e.relatedTarget=e.fromElement===o?e.toElement:e.fromElement),e}}];function d(){return a}function f(){return s}function h(e){var t=e.type,n="function"==typeof e.stopPropagation||"boolean"==typeof e.cancelBubble;i.default.call(this),this.nativeEvent=e;var r=f;"defaultPrevented"in e?r=e.defaultPrevented?d:f:"getPreventDefault"in e?r=e.getPreventDefault()?d:f:"returnValue"in e&&(r=e.returnValue===s?d:f),this.isDefaultPrevented=r;var o=[],a=void 0,l=void 0,h=u.concat();for(c.forEach(function(e){t.match(e.reg)&&(h=h.concat(e.props),e.fix&&o.push(e.fix))}),a=h.length;a;)this[l=h[--a]]=e[l];for(!this.target&&n&&(this.target=e.srcElement||document),this.target&&3===this.target.nodeType&&(this.target=this.target.parentNode),a=o.length;a;)(0,o[--a])(this,e);this.timeStamp=e.timeStamp||Date.now()}var p=i.default.prototype;(0,o.default)(h.prototype,p,{constructor:h,preventDefault:function(){var e=this.nativeEvent;e.preventDefault?e.preventDefault():e.returnValue=s,p.preventDefault.call(this)},stopPropagation:function(){var e=this.nativeEvent;e.stopPropagation?e.stopPropagation():e.cancelBubble=a,p.stopPropagation.call(this)}}),t.default=h,e.exports=t.default},function(e,t,n){"use strict";function r(){return!1}function i(){return!0}function o(){this.timeStamp=Date.now(),this.target=void 0,this.currentTarget=void 0}Object.defineProperty(t,"__esModule",{value:!0}),o.prototype={isEventObject:1,constructor:o,isDefaultPrevented:r,isPropagationStopped:r,isImmediatePropagationStopped:r,preventDefault:function(){this.isDefaultPrevented=i},stopPropagation:function(){this.isPropagationStopped=i},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=i,this.stopPropagation()},halt:function(e){e?this.stopImmediatePropagation():this.stopPropagation(),this.preventDefault()}},t.default=o,e.exports=t.default},function(e,t,n){"use strict";var r=n(295),i=n.n(r),o=n(258),a=n.n(o),s=n(1),u=n.n(s),l=n(4),c=n.n(l),d=n(8),f=n.n(d),h=n(655),p=n.n(h),m=function(e){var t=e.prefixCls,n=e.vertical,r=e.marks,o=e.dots,s=e.step,l=e.included,c=e.lowerBound,d=e.upperBound,h=e.max,m=e.min,g=e.dotStyle,y=e.activeDotStyle,v=h-m,b=function(e,t,n,r,i,o){p()(!n||r>0,"`Slider[step]` should be a positive number in order to make Slider[dots] work.");var a=Object.keys(t).map(parseFloat);if(n)for(var s=i;s<=o;s+=r)-1===a.indexOf(s)&&a.push(s);return a}(0,r,o,s,m,h).map(function(e){var r,o=Math.abs(e-m)/v*100+"%",s=!l&&e===d||l&&e<=d&&e>=c,h=n?a()({bottom:o},g):a()({left:o},g);s&&(h=a()({},h,y));var p=f()((r={},i()(r,t+"-dot",!0),i()(r,t+"-dot-active",s),r));return u.a.createElement("span",{className:p,style:h,key:e})});return u.a.createElement("div",{className:t+"-step"},b)};m.propTypes={prefixCls:c.a.string,activeDotStyle:c.a.object,dotStyle:c.a.object,min:c.a.number,max:c.a.number,upperBound:c.a.number,lowerBound:c.a.number,included:c.a.bool,dots:c.a.bool,step:c.a.number,marks:c.a.object,vertical:c.a.bool},t.a=m},function(e,t,n){"use strict";var r=n(258),i=n.n(r),o=n(295),a=n.n(o),s=n(1),u=n.n(s),l=n(4),c=n.n(l),d=n(8),f=n.n(d),h=function(e){var t=e.className,n=e.vertical,r=e.marks,o=e.included,s=e.upperBound,l=e.lowerBound,c=e.max,d=e.min,h=e.onClickLabel,p=Object.keys(r),m=p.length,g=.9*(m>1?100/(m-1):100),y=c-d,v=p.map(parseFloat).sort(function(e,t){return e-t}).map(function(e){var c,p=r[e],m="object"==typeof p&&!u.a.isValidElement(p),v=m?p.label:p;if(!v&&0!==v)return null;var b=!o&&e===s||o&&e<=s&&e>=l,_=f()((c={},a()(c,t+"-text",!0),a()(c,t+"-text-active",b),c)),w=n?{marginBottom:"-50%",bottom:(e-d)/y*100+"%"}:{width:g+"%",marginLeft:-g/2+"%",left:(e-d)/y*100+"%"},k=m?i()({},w,p.style):w;return u.a.createElement("span",{className:_,style:k,key:e,onMouseDown:function(t){return h(t,e)},onTouchStart:function(t){return h(t,e)}},v)});return u.a.createElement("div",{className:t},v)};h.propTypes={className:c.a.string,vertical:c.a.bool,marks:c.a.object,included:c.a.bool,upperBound:c.a.number,lowerBound:c.a.number,max:c.a.number,min:c.a.number,onClickLabel:c.a.func},t.a=h},function(e,t,n){"use strict";var r={MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,WIN_IME:229,isTextModifyingKeyEvent:function(e){var t=e.keyCode;if(e.altKey&&!e.ctrlKey||e.metaKey||t>=r.F1&&t<=r.F12)return!1;switch(t){case r.ALT:case r.CAPS_LOCK:case r.CONTEXT_MENU:case r.CTRL:case r.DOWN:case r.END:case r.ESC:case r.HOME:case r.INSERT:case r.LEFT:case r.MAC_FF_META:case r.META:case r.NUMLOCK:case r.NUM_CENTER:case r.PAGE_DOWN:case r.PAGE_UP:case r.PAUSE:case r.PRINT_SCREEN:case r.RIGHT:case r.SHIFT:case r.UP:case r.WIN_KEY:case r.WIN_KEY_RIGHT:return!1;default:return!0}},isCharacterKey:function(e){if(e>=r.ZERO&&e<=r.NINE)return!0;if(e>=r.NUM_ZERO&&e<=r.NUM_MULTIPLY)return!0;if(e>=r.A&&e<=r.Z)return!0;if(-1!==window.navigation.userAgent.indexOf("WebKit")&&0===e)return!0;switch(e){case r.SPACE:case r.QUESTION_MARK:case r.NUM_PLUS:case r.NUM_MINUS:case r.NUM_PERIOD:case r.NUM_DIVISION:case r.SEMICOLON:case r.DASH:case r.EQUALS:case r.COMMA:case r.PERIOD:case r.SLASH:case r.APOSTROPHE:case r.SINGLE_QUOTE:case r.OPEN_SQUARE_BRACKET:case r.BACKSLASH:case r.CLOSE_SQUARE_BRACKET:return!0;default:return!1}}};t.a=r},function(e,t,n){"use strict";var r=n(295),i=n.n(r),o=n(258),a=n.n(o),s=n(545),u=n.n(s),l=n(14),c=n.n(l),d=n(20),f=n.n(d),h=n(41),p=n.n(h),m=n(42),g=n.n(m),y=n(1),v=n.n(y),b=n(4),_=n.n(b),w=n(8),k=n.n(w),E=n(1899),x=n.n(E),S=n(1151),M=n(1152),T=n(657),C=function(e){function t(e){c()(this,t);var n=p()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.onEnd=function(){n.setState({handle:null},n.blur),n.removeDocumentEvents(),n.props.onAfterChange(n.getValue())};var r=e.count,i=e.min,o=e.max,a=Array.apply(void 0,u()(Array(r+1))).map(function(){return i}),s="defaultValue"in e?e.defaultValue:a,l=(void 0!==e.value?e.value:s).map(function(e,t){return n.trimAlignValue(e,t)}),d=l[0]===o?0:l.length-1;return n.state={handle:null,recent:d,bounds:l},n}return g()(t,e),f()(t,[{key:"componentWillReceiveProps",value:function(e){var t=this;if(("value"in e||"min"in e||"max"in e)&&(this.props.min!==e.min||this.props.max!==e.max||!x()(this.props.value,e.value))){var n=this.state.bounds,r=e.value||n,i=r.map(function(n,r){return t.trimAlignValue(n,r,e)});if((i.length!==n.length||!i.every(function(e,t){return e===n[t]}))&&(this.setState({bounds:i}),n.some(function(t){return T.i(t,e)}))){var o=r.map(function(t){return T.a(t,e)});this.props.onChange(o)}}}},{key:"onChange",value:function(e){var t=this.props;!("value"in t)?this.setState(e):void 0!==e.handle&&this.setState({handle:e.handle});var n=a()({},this.state,e).bounds;t.onChange(n)}},{key:"onStart",value:function(e){var t=this.props,n=this.state,r=this.getValue();t.onBeforeChange(r);var i=this.calcValueByPos(e);this.startValue=i,this.startPosition=e;var o=this.getClosestBound(i);if(this.prevMovedHandleIndex=this.getBoundNeedMoving(i,o),this.setState({handle:this.prevMovedHandleIndex,recent:this.prevMovedHandleIndex}),i!==r[this.prevMovedHandleIndex]){var a=[].concat(u()(n.bounds));a[this.prevMovedHandleIndex]=i,this.onChange({bounds:a})}}},{key:"onMove",value:function(e,t){T.j(e);var n=this.state,r=this.calcValueByPos(t);r!==n.bounds[n.handle]&&this.moveTo(r)}},{key:"onKeyboard",value:function(e){var t=T.d(e);if(t){T.j(e);var n=this.state,r=this.props,i=n.bounds[n.handle],o=t(i,r),a=this.trimAlignValue(o);if(a===i)return;this.moveTo(a,!0)}}},{key:"getValue",value:function(){return this.state.bounds}},{key:"getClosestBound",value:function(e){for(var t=this.state.bounds,n=0,r=1;r<t.length-1;++r)e>t[r]&&(n=r);return Math.abs(t[n+1]-e)<Math.abs(t[n]-e)&&(n+=1),n}},{key:"getBoundNeedMoving",value:function(e,t){var n=this.state,r=n.bounds,i=n.recent,o=t,a=r[t+1]===r[t];return a&&r[i]===r[t]&&(o=i),a&&e!==r[t+1]&&(o=e<r[t+1]?t:t+1),o}},{key:"getLowerBound",value:function(){return this.state.bounds[0]}},{key:"getUpperBound",value:function(){var e=this.state.bounds;return e[e.length-1]}},{key:"getPoints",value:function(){var e=this.props,t=e.marks,n=e.step,r=e.min,i=e.max,o=this._getPointsCache;if(!o||o.marks!==t||o.step!==n){var s=a()({},t);if(null!==n)for(var u=r;u<=i;u+=n)s[u]=u;var l=Object.keys(s).map(parseFloat);l.sort(function(e,t){return e-t}),this._getPointsCache={marks:t,step:n,points:l}}return this._getPointsCache.points}},{key:"moveTo",value:function(e,t){var n=this,r=this.state,i=this.props,o=[].concat(u()(r.bounds));o[r.handle]=e;var a=r.handle;!1!==i.pushable?this.pushSurroundingHandles(o,a):i.allowCross&&(o.sort(function(e,t){return e-t}),a=o.indexOf(e)),this.onChange({handle:a,bounds:o}),t&&this.setState({},function(){n.handlesRefs[a].focus()})}},{key:"pushSurroundingHandles",value:function(e,t){var n=e[t],r=this.props.pushable;r=Number(r);var i=0;if(e[t+1]-n<r&&(i=1),n-e[t-1]<r&&(i=-1),0!==i){var o=t+i,a=i*(e[o]-n);this.pushHandle(e,o,i,r-a)||(e[t]=e[o]-i*r)}}},{key:"pushHandle",value:function(e,t,n,r){for(var i=e[t],o=e[t];n*(o-i)<r;){if(!this.pushHandleOnePoint(e,t,n))return e[t]=i,!1;o=e[t]}return!0}},{key:"pushHandleOnePoint",value:function(e,t,n){var r=this.getPoints(),i=r.indexOf(e[t])+n;if(i>=r.length||i<0)return!1;var o=t+n,a=r[i],s=this.props.pushable,u=n*(e[o]-a);return!!this.pushHandle(e,o,n,s-u)&&(e[t]=a,!0)}},{key:"trimAlignValue",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=a()({},this.props,n),i=T.a(e,r),o=this.ensureValueNotConflict(t,i,r);return T.b(o,r)}},{key:"ensureValueNotConflict",value:function(e,t,n){var r=n.allowCross,i=n.pushable,o=this.state||{},a=o.bounds;if(e=void 0===e?o.handle:e,i=Number(i),!r&&null!=e&&void 0!==a){if(e>0&&t<=a[e-1]+i)return a[e-1]+i;if(e<a.length-1&&t>=a[e+1]-i)return a[e+1]-i}return t}},{key:"render",value:function(){var e=this,t=this.state,n=t.handle,r=t.bounds,o=this.props,a=o.prefixCls,s=o.vertical,u=o.included,l=o.disabled,c=o.min,d=o.max,f=o.handle,h=o.trackStyle,p=o.handleStyle,m=o.tabIndex,g=r.map(function(t){return e.calcOffset(t)}),y=a+"-handle",b=r.map(function(t,r){var o;return f({className:k()((o={},i()(o,y,!0),i()(o,y+"-"+(r+1),!0),o)),prefixCls:a,vertical:s,offset:g[r],value:t,dragging:n===r,index:r,tabIndex:m[r]||0,min:c,max:d,disabled:l,style:p[r],ref:function(t){return e.saveHandle(r,t)}})});return{tracks:r.slice(0,-1).map(function(e,t){var n,r=t+1,o=k()((n={},i()(n,a+"-track",!0),i()(n,a+"-track-"+r,!0),n));return v.a.createElement(S.a,{className:o,vertical:s,included:u,offset:g[r-1],length:g[r]-g[r-1],style:h[t],key:r})}),handles:b}}}]),t}(v.a.Component);C.displayName="Range",C.propTypes={defaultValue:_.a.arrayOf(_.a.number),value:_.a.arrayOf(_.a.number),count:_.a.number,pushable:_.a.oneOfType([_.a.bool,_.a.number]),allowCross:_.a.bool,disabled:_.a.bool,tabIndex:_.a.arrayOf(_.a.number)},C.defaultProps={count:1,allowCross:!0,pushable:!1,tabIndex:[]},t.a=Object(M.a)(C)},function(e,t){e.exports=function(e,t,n,r){var i=n?n.call(r,e,t):void 0;if(void 0!==i)return!!i;if(e===t)return!0;if("object"!=typeof e||!e||"object"!=typeof t||!t)return!1;var o=Object.keys(e),a=Object.keys(t);if(o.length!==a.length)return!1;for(var s=Object.prototype.hasOwnProperty.bind(t),u=0;u<o.length;u++){var l=o[u];if(!s(l))return!1;var c=e[l],d=t[l];if(!1===(i=n?n.call(r,c,d,l):void 0)||void 0===i&&c!==d)return!1}return!0}},function(e,t,n){"use strict";t.a=function(e){var t,n;return n=t=function(t){function n(e){c()(this,n);var t=p()(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return t.handleTooltipVisibleChange=function(e,n){t.setState(function(t){return{visibles:u()({},t.visibles,a()({},e,n))}})},t.handleWithTooltip=function(e){var n=e.value,r=e.dragging,o=e.index,a=e.disabled,s=i()(e,["value","dragging","index","disabled"]),l=t.props,c=l.tipFormatter,d=l.tipProps,f=l.handleStyle,h=d.prefixCls,p=void 0===h?"rc-slider-tooltip":h,m=d.overlay,g=void 0===m?c(n):m,y=d.placement,b=void 0===y?"top":y,_=d.visible,E=void 0!==_&&_,x=i()(d,["prefixCls","overlay","placement","visible"]),S=void 0;return S=Array.isArray(f)?f[o]||f[0]:f,v.a.createElement(w.a,u()({},x,{prefixCls:p,overlay:g,placement:b,visible:!a&&(t.state.visibles[o]||r)||E,key:o}),v.a.createElement(k.a,u()({},s,{style:u()({},S),value:n,onMouseEnter:function(){return t.handleTooltipVisibleChange(o,!0)},onMouseLeave:function(){return t.handleTooltipVisibleChange(o,!1)}})))},t.state={visibles:{}},t}return g()(n,t),f()(n,[{key:"render",value:function(){return v.a.createElement(e,u()({},this.props,{handle:this.handleWithTooltip}))}}]),n}(v.a.Component),t.propTypes={tipFormatter:_.a.func,handleStyle:_.a.oneOfType([_.a.object,_.a.arrayOf(_.a.object)]),tipProps:_.a.object},t.defaultProps={tipFormatter:function(e){return e},handleStyle:[{}],tipProps:{}},n};var r=n(438),i=n.n(r),o=n(295),a=n.n(o),s=n(258),u=n.n(s),l=n(14),c=n.n(l),d=n(20),f=n.n(d),h=n(41),p=n.n(h),m=n(42),g=n.n(m),y=n(1),v=n.n(y),b=n(4),_=n.n(b),w=n(1901),k=n(656)},function(e,t,n){"use strict";var r=n(1902);t.a=r.a},function(e,t,n){"use strict";var r=n(258),i=n.n(r),o=n(438),a=n.n(o),s=n(14),u=n.n(s),l=n(41),c=n.n(l),d=n(42),f=n.n(d),h=n(1),p=n.n(h),m=n(4),g=n.n(m),y=n(1903),v=n(1926),b=n(1927),_=function(e){function t(){var n,r,i;u()(this,t);for(var o=arguments.length,a=Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=r=c()(this,e.call.apply(e,[this].concat(a))),r.getPopupElement=function(){var e=r.props,t=e.arrowContent,n=e.overlay,i=e.prefixCls,o=e.id;return[p.a.createElement("div",{className:i+"-arrow",key:"arrow"},t),p.a.createElement(b.a,{key:"content",trigger:r.trigger,prefixCls:i,id:o,overlay:n})]},r.saveTrigger=function(e){r.trigger=e},i=n,c()(r,i)}return f()(t,e),t.prototype.getPopupDomNode=function(){return this.trigger.getPopupDomNode()},t.prototype.render=function(){var e=this.props,t=e.overlayClassName,n=e.trigger,r=e.mouseEnterDelay,o=e.mouseLeaveDelay,s=e.overlayStyle,u=e.prefixCls,l=e.children,c=e.onVisibleChange,d=e.afterVisibleChange,f=e.transitionName,h=e.animation,m=e.placement,g=e.align,b=e.destroyTooltipOnHide,_=e.defaultVisible,w=e.getTooltipContainer,k=a()(e,["overlayClassName","trigger","mouseEnterDelay","mouseLeaveDelay","overlayStyle","prefixCls","children","onVisibleChange","afterVisibleChange","transitionName","animation","placement","align","destroyTooltipOnHide","defaultVisible","getTooltipContainer"]),E=i()({},k);return"visible"in this.props&&(E.popupVisible=this.props.visible),p.a.createElement(y.a,i()({popupClassName:t,ref:this.saveTrigger,prefixCls:u,popup:this.getPopupElement,action:n,builtinPlacements:v.a,popupPlacement:m,popupAlign:g,getPopupContainer:w,onPopupVisibleChange:c,afterPopupVisibleChange:d,popupTransitionName:f,popupAnimation:h,defaultPopupVisible:_,destroyPopupOnHide:b,mouseLeaveDelay:o,popupStyle:s,mouseEnterDelay:r},E),l)},t}(h.Component);_.propTypes={trigger:g.a.any,children:g.a.any,defaultVisible:g.a.bool,visible:g.a.bool,placement:g.a.string,transitionName:g.a.oneOfType([g.a.string,g.a.object]),animation:g.a.any,onVisibleChange:g.a.func,afterVisibleChange:g.a.func,overlay:g.a.oneOfType([g.a.node,g.a.func]).isRequired,overlayStyle:g.a.object,overlayClassName:g.a.string,prefixCls:g.a.string,mouseEnterDelay:g.a.number,mouseLeaveDelay:g.a.number,getTooltipContainer:g.a.func,destroyTooltipOnHide:g.a.bool,align:g.a.object,arrowContent:g.a.any,id:g.a.string},_.defaultProps={prefixCls:"rc-tooltip",mouseEnterDelay:0,destroyTooltipOnHide:!1,mouseLeaveDelay:.1,align:{},placement:"right",trigger:["hover"],arrowContent:null},t.a=_},function(e,t,n){"use strict";var r=n(258),i=n.n(r),o=n(14),a=n.n(o),s=n(41),u=n.n(s),l=n(42),c=n.n(l),d=n(1),f=n.n(d),h=n(4),p=n.n(h),m=n(31),g=(n.n(m),n(1904)),y=n(557),v=n(1905),b=n(1906),_=n(8),w=n.n(_),k=n(1153),E=n(1907);function x(){}var S=["onClick","onMouseDown","onTouchStart","onMouseEnter","onMouseLeave","onFocus","onBlur","onContextMenu"],M=!!m.createPortal,T={rcTrigger:p.a.shape({onPopupMouseDown:p.a.func})},C=function(e){function t(n){a()(this,t);var r=u()(this,e.call(this,n));A.call(r);var i=void 0;return i="popupVisible"in n?!!n.popupVisible:!!n.defaultPopupVisible,r.prevPopupVisible=i,r.state={popupVisible:i},r}return c()(t,e),t.prototype.getChildContext=function(){return{rcTrigger:{onPopupMouseDown:this.onPopupMouseDown}}},t.prototype.componentWillMount=function(){var e=this;S.forEach(function(t){e["fire"+t]=function(n){e.fireEvents(t,n)}})},t.prototype.componentDidMount=function(){this.componentDidUpdate({},{popupVisible:this.state.popupVisible})},t.prototype.componentWillReceiveProps=function(e){var t=e.popupVisible;void 0!==t&&this.setState({popupVisible:t})},t.prototype.componentDidUpdate=function(e,t){var n=this.props,r=this.state;if(M||this.renderComponent(null,function(){t.popupVisible!==r.popupVisible&&n.afterPopupVisibleChange(r.popupVisible)}),this.prevPopupVisible=t.popupVisible,r.popupVisible){var i=void 0;return this.clickOutsideHandler||!this.isClickToHide()&&!this.isContextMenuToShow()||(i=n.getDocument(),this.clickOutsideHandler=Object(y.a)(i,"mousedown",this.onDocumentClick)),this.touchOutsideHandler||(i=i||n.getDocument(),this.touchOutsideHandler=Object(y.a)(i,"touchstart",this.onDocumentClick)),!this.contextMenuOutsideHandler1&&this.isContextMenuToShow()&&(i=i||n.getDocument(),this.contextMenuOutsideHandler1=Object(y.a)(i,"scroll",this.onContextMenuClose)),void(!this.contextMenuOutsideHandler2&&this.isContextMenuToShow()&&(this.contextMenuOutsideHandler2=Object(y.a)(window,"blur",this.onContextMenuClose)))}this.clearOutsideHandler()},t.prototype.componentWillUnmount=function(){this.clearDelayTimer(),this.clearOutsideHandler(),clearTimeout(this.mouseDownTimeout)},t.prototype.getPopupDomNode=function(){return this._component&&this._component.getPopupDomNode?this._component.getPopupDomNode():null},t.prototype.getPopupAlign=function(){var e=this.props,t=e.popupPlacement,n=e.popupAlign,r=e.builtinPlacements;return t&&r?Object(k.a)(r,t,n):n},t.prototype.setPopupVisible=function(e,t){var n=this.props.alignPoint;this.clearDelayTimer(),this.state.popupVisible!==e&&("popupVisible"in this.props||this.setState({popupVisible:e}),this.props.onPopupVisibleChange(e)),n&&t&&this.setPoint(t)},t.prototype.delaySetPopupVisible=function(e,t,n){var r=this,i=1e3*t;if(this.clearDelayTimer(),i){var o=n?{pageX:n.pageX,pageY:n.pageY}:null;this.delayTimer=setTimeout(function(){r.setPopupVisible(e,o),r.clearDelayTimer()},i)}else this.setPopupVisible(e,n)},t.prototype.clearDelayTimer=function(){this.delayTimer&&(clearTimeout(this.delayTimer),this.delayTimer=null)},t.prototype.clearOutsideHandler=function(){this.clickOutsideHandler&&(this.clickOutsideHandler.remove(),this.clickOutsideHandler=null),this.contextMenuOutsideHandler1&&(this.contextMenuOutsideHandler1.remove(),this.contextMenuOutsideHandler1=null),this.contextMenuOutsideHandler2&&(this.contextMenuOutsideHandler2.remove(),this.contextMenuOutsideHandler2=null),this.touchOutsideHandler&&(this.touchOutsideHandler.remove(),this.touchOutsideHandler=null)},t.prototype.createTwoChains=function(e){var t=this.props.children.props,n=this.props;return t[e]&&n[e]?this["fire"+e]:t[e]||n[e]},t.prototype.isClickToShow=function(){var e=this.props,t=e.action,n=e.showAction;return-1!==t.indexOf("click")||-1!==n.indexOf("click")},t.prototype.isContextMenuToShow=function(){var e=this.props,t=e.action,n=e.showAction;return-1!==t.indexOf("contextMenu")||-1!==n.indexOf("contextMenu")},t.prototype.isClickToHide=function(){var e=this.props,t=e.action,n=e.hideAction;return-1!==t.indexOf("click")||-1!==n.indexOf("click")},t.prototype.isMouseEnterToShow=function(){var e=this.props,t=e.action,n=e.showAction;return-1!==t.indexOf("hover")||-1!==n.indexOf("mouseEnter")},t.prototype.isMouseLeaveToHide=function(){var e=this.props,t=e.action,n=e.hideAction;return-1!==t.indexOf("hover")||-1!==n.indexOf("mouseLeave")},t.prototype.isFocusToShow=function(){var e=this.props,t=e.action,n=e.showAction;return-1!==t.indexOf("focus")||-1!==n.indexOf("focus")},t.prototype.isBlurToHide=function(){var e=this.props,t=e.action,n=e.hideAction;return-1!==t.indexOf("focus")||-1!==n.indexOf("blur")},t.prototype.forcePopupAlign=function(){this.state.popupVisible&&this._component&&this._component.alignInstance&&this._component.alignInstance.forceAlign()},t.prototype.fireEvents=function(e,t){var n=this.props.children.props[e];n&&n(t);var r=this.props[e];r&&r(t)},t.prototype.close=function(){this.setPopupVisible(!1)},t.prototype.render=function(){var e=this,t=this.state.popupVisible,n=this.props,r=n.children,i=n.forceRender,o=n.alignPoint,a=n.className,s=f.a.Children.only(r),u={key:"trigger"};this.isContextMenuToShow()?u.onContextMenu=this.onContextMenu:u.onContextMenu=this.createTwoChains("onContextMenu"),this.isClickToHide()||this.isClickToShow()?(u.onClick=this.onClick,u.onMouseDown=this.onMouseDown,u.onTouchStart=this.onTouchStart):(u.onClick=this.createTwoChains("onClick"),u.onMouseDown=this.createTwoChains("onMouseDown"),u.onTouchStart=this.createTwoChains("onTouchStart")),this.isMouseEnterToShow()?(u.onMouseEnter=this.onMouseEnter,o&&(u.onMouseMove=this.onMouseMove)):u.onMouseEnter=this.createTwoChains("onMouseEnter"),this.isMouseLeaveToHide()?u.onMouseLeave=this.onMouseLeave:u.onMouseLeave=this.createTwoChains("onMouseLeave"),this.isFocusToShow()||this.isBlurToHide()?(u.onFocus=this.onFocus,u.onBlur=this.onBlur):(u.onFocus=this.createTwoChains("onFocus"),u.onBlur=this.createTwoChains("onBlur"));var l=w()(s&&s.props&&s.props.className,a);l&&(u.className=l);var c=f.a.cloneElement(s,u);if(!M)return f.a.createElement(v.a,{parent:this,visible:t,autoMount:!1,forceRender:i,getComponent:this.getComponent,getContainer:this.getContainer},function(t){var n=t.renderComponent;return e.renderComponent=n,c});var d=void 0;return(t||this._component||i)&&(d=f.a.createElement(b.a,{key:"portal",getContainer:this.getContainer,didUpdate:this.handlePortalUpdate},this.getComponent())),[c,d]},t}(f.a.Component);C.propTypes={children:p.a.any,action:p.a.oneOfType([p.a.string,p.a.arrayOf(p.a.string)]),showAction:p.a.any,hideAction:p.a.any,getPopupClassNameFromAlign:p.a.any,onPopupVisibleChange:p.a.func,afterPopupVisibleChange:p.a.func,popup:p.a.oneOfType([p.a.node,p.a.func]).isRequired,popupStyle:p.a.object,prefixCls:p.a.string,popupClassName:p.a.string,className:p.a.string,popupPlacement:p.a.string,builtinPlacements:p.a.object,popupTransitionName:p.a.oneOfType([p.a.string,p.a.object]),popupAnimation:p.a.any,mouseEnterDelay:p.a.number,mouseLeaveDelay:p.a.number,zIndex:p.a.number,focusDelay:p.a.number,blurDelay:p.a.number,getPopupContainer:p.a.func,getDocument:p.a.func,forceRender:p.a.bool,destroyPopupOnHide:p.a.bool,mask:p.a.bool,maskClosable:p.a.bool,onPopupAlign:p.a.func,popupAlign:p.a.object,popupVisible:p.a.bool,defaultPopupVisible:p.a.bool,maskTransitionName:p.a.oneOfType([p.a.string,p.a.object]),maskAnimation:p.a.string,stretch:p.a.string,alignPoint:p.a.bool},C.contextTypes=T,C.childContextTypes=T,C.defaultProps={prefixCls:"rc-trigger-popup",getPopupClassNameFromAlign:function(){return""},getDocument:function(){return window.document},onPopupVisibleChange:x,afterPopupVisibleChange:x,onPopupAlign:x,popupClassName:"",mouseEnterDelay:0,mouseLeaveDelay:.1,focusDelay:0,blurDelay:.15,popupStyle:{},destroyPopupOnHide:!1,popupAlign:{},defaultPopupVisible:!1,mask:!1,maskClosable:!0,action:[],showAction:[],hideAction:[]};var A=function(){var e=this;this.onMouseEnter=function(t){var n=e.props.mouseEnterDelay;e.fireEvents("onMouseEnter",t),e.delaySetPopupVisible(!0,n,n?null:t)},this.onMouseMove=function(t){e.fireEvents("onMouseMove",t),e.setPoint(t)},this.onMouseLeave=function(t){e.fireEvents("onMouseLeave",t),e.delaySetPopupVisible(!1,e.props.mouseLeaveDelay)},this.onPopupMouseEnter=function(){e.clearDelayTimer()},this.onPopupMouseLeave=function(t){t.relatedTarget&&!t.relatedTarget.setTimeout&&e._component&&e._component.getPopupDomNode&&Object(g.a)(e._component.getPopupDomNode(),t.relatedTarget)||e.delaySetPopupVisible(!1,e.props.mouseLeaveDelay)},this.onFocus=function(t){e.fireEvents("onFocus",t),e.clearDelayTimer(),e.isFocusToShow()&&(e.focusTime=Date.now(),e.delaySetPopupVisible(!0,e.props.focusDelay))},this.onMouseDown=function(t){e.fireEvents("onMouseDown",t),e.preClickTime=Date.now()},this.onTouchStart=function(t){e.fireEvents("onTouchStart",t),e.preTouchTime=Date.now()},this.onBlur=function(t){e.fireEvents("onBlur",t),e.clearDelayTimer(),e.isBlurToHide()&&e.delaySetPopupVisible(!1,e.props.blurDelay)},this.onContextMenu=function(t){t.preventDefault(),e.fireEvents("onContextMenu",t),e.setPopupVisible(!0,t)},this.onContextMenuClose=function(){e.isContextMenuToShow()&&e.close()},this.onClick=function(t){if(e.fireEvents("onClick",t),e.focusTime){var n=void 0;if(e.preClickTime&&e.preTouchTime?n=Math.min(e.preClickTime,e.preTouchTime):e.preClickTime?n=e.preClickTime:e.preTouchTime&&(n=e.preTouchTime),Math.abs(n-e.focusTime)<20)return;e.focusTime=0}e.preClickTime=0,e.preTouchTime=0,t&&t.preventDefault&&t.preventDefault();var r=!e.state.popupVisible;(e.isClickToHide()&&!r||r&&e.isClickToShow())&&e.setPopupVisible(!e.state.popupVisible,t)},this.onPopupMouseDown=function(){var t=e.context.rcTrigger,n=void 0===t?{}:t;e.hasPopupMouseDown=!0,clearTimeout(e.mouseDownTimeout),e.mouseDownTimeout=setTimeout(function(){e.hasPopupMouseDown=!1},0),n.onPopupMouseDown&&n.onPopupMouseDown.apply(n,arguments)},this.onDocumentClick=function(t){if(!e.props.mask||e.props.maskClosable){var n=t.target,r=Object(m.findDOMNode)(e);Object(g.a)(r,n)||e.hasPopupMouseDown||e.close()}},this.getRootDomNode=function(){return Object(m.findDOMNode)(e)},this.getPopupClassNameFromAlign=function(t){var n=[],r=e.props,i=r.popupPlacement,o=r.builtinPlacements,a=r.prefixCls,s=r.alignPoint,u=r.getPopupClassNameFromAlign;return i&&o&&n.push(Object(k.b)(o,a,t,s)),u&&n.push(u(t)),n.join(" ")},this.getComponent=function(){var t=e.props,n=t.prefixCls,r=t.destroyPopupOnHide,o=t.popupClassName,a=t.action,s=t.onPopupAlign,u=t.popupAnimation,l=t.popupTransitionName,c=t.popupStyle,d=t.mask,h=t.maskAnimation,p=t.maskTransitionName,m=t.zIndex,g=t.popup,y=t.stretch,v=t.alignPoint,b=e.state,_=b.popupVisible,w=b.point,k=e.getPopupAlign(),x={};return e.isMouseEnterToShow()&&(x.onMouseEnter=e.onPopupMouseEnter),e.isMouseLeaveToHide()&&(x.onMouseLeave=e.onPopupMouseLeave),x.onMouseDown=e.onPopupMouseDown,x.onTouchStart=e.onPopupMouseDown,f.a.createElement(E.a,i()({prefixCls:n,destroyPopupOnHide:r,visible:_,point:v&&w,className:o,action:a,align:k,onAlign:s,animation:u,getClassNameFromAlign:e.getPopupClassNameFromAlign},x,{stretch:y,getRootDomNode:e.getRootDomNode,style:c,mask:d,zIndex:m,transitionName:l,maskAnimation:h,maskTransitionName:p,ref:e.savePopup}),"function"==typeof g?g():g)},this.getContainer=function(){var t=e.props,n=document.createElement("div");return n.style.position="absolute",n.style.top="0",n.style.left="0",n.style.width="100%",(t.getPopupContainer?t.getPopupContainer(Object(m.findDOMNode)(e)):t.getDocument().body).appendChild(n),n},this.setPoint=function(t){e.props.alignPoint&&t&&e.setState({point:{pageX:t.pageX,pageY:t.pageY}})},this.handlePortalUpdate=function(){e.prevPopupVisible!==e.state.popupVisible&&e.props.afterPopupVisibleChange(e.state.popupVisible)},this.savePopup=function(t){e._component=t}};t.a=C},function(e,t,n){"use strict";t.a=function(e,t){var n=t;for(;n;){if(n===e)return!0;n=n.parentNode}return!1}},function(e,t,n){"use strict";var r=n(14),i=n.n(r),o=n(20),a=n.n(o),s=n(41),u=n.n(s),l=n(42),c=n.n(l),d=n(1),f=n.n(d),h=n(31),p=n.n(h),m=n(4),g=n.n(m),y=function(e){function t(){var e,n,r,o;i()(this,t);for(var a=arguments.length,s=Array(a),l=0;l<a;l++)s[l]=arguments[l];return n=r=u()(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),r.removeContainer=function(){r.container&&(p.a.unmountComponentAtNode(r.container),r.container.parentNode.removeChild(r.container),r.container=null)},r.renderComponent=function(e,t){var n=r.props,i=n.visible,o=n.getComponent,a=n.forceRender,s=n.getContainer,u=n.parent;(i||u._component||a)&&(r.container||(r.container=s()),p.a.unstable_renderSubtreeIntoContainer(u,o(e),r.container,function(){t&&t.call(this)}))},o=n,u()(r,o)}return c()(t,e),a()(t,[{key:"componentDidMount",value:function(){this.props.autoMount&&this.renderComponent()}},{key:"componentDidUpdate",value:function(){this.props.autoMount&&this.renderComponent()}},{key:"componentWillUnmount",value:function(){this.props.autoDestroy&&this.removeContainer()}},{key:"render",value:function(){return this.props.children({renderComponent:this.renderComponent,removeContainer:this.removeContainer})}}]),t}(f.a.Component);y.propTypes={autoMount:g.a.bool,autoDestroy:g.a.bool,visible:g.a.bool,forceRender:g.a.bool,parent:g.a.any,getComponent:g.a.func.isRequired,getContainer:g.a.func.isRequired,children:g.a.func.isRequired},y.defaultProps={autoMount:!0,autoDestroy:!0,forceRender:!1},t.a=y},function(e,t,n){"use strict";var r=n(14),i=n.n(r),o=n(20),a=n.n(o),s=n(41),u=n.n(s),l=n(42),c=n.n(l),d=n(1),f=n.n(d),h=n(31),p=n.n(h),m=n(4),g=n.n(m),y=function(e){function t(){return i()(this,t),u()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return c()(t,e),a()(t,[{key:"componentDidMount",value:function(){this.createContainer()}},{key:"componentDidUpdate",value:function(e){var t=this.props.didUpdate;t&&t(e)}},{key:"componentWillUnmount",value:function(){this.removeContainer()}},{key:"createContainer",value:function(){this._container=this.props.getContainer(),this.forceUpdate()}},{key:"removeContainer",value:function(){this._container&&this._container.parentNode.removeChild(this._container)}},{key:"render",value:function(){return this._container?p.a.createPortal(this.props.children,this._container):null}}]),t}(f.a.Component);y.propTypes={getContainer:g.a.func.isRequired,children:g.a.node.isRequired,didUpdate:g.a.func},t.a=y},function(e,t,n){"use strict";var r=n(258),i=n.n(r),o=n(14),a=n.n(o),s=n(41),u=n.n(s),l=n(42),c=n.n(l),d=n(1),f=n.n(d),h=n(4),p=n.n(h),m=n(31),g=n.n(m),y=n(1908),v=n(1919),b=n(1925),_=n(1160),w=n(1153),k=function(e){function t(n){a()(this,t);var r=u()(this,e.call(this,n));return E.call(r),r.state={stretchChecked:!1,targetWidth:void 0,targetHeight:void 0},r.savePopupRef=w.c.bind(r,"popupInstance"),r.saveAlignRef=w.c.bind(r,"alignInstance"),r}return c()(t,e),t.prototype.componentDidMount=function(){this.rootNode=this.getPopupDomNode(),this.setStretchSize()},t.prototype.componentDidUpdate=function(){this.setStretchSize()},t.prototype.getPopupDomNode=function(){return g.a.findDOMNode(this.popupInstance)},t.prototype.getMaskTransitionName=function(){var e=this.props,t=e.maskTransitionName,n=e.maskAnimation;return!t&&n&&(t=e.prefixCls+"-"+n),t},t.prototype.getTransitionName=function(){var e=this.props,t=e.transitionName;return!t&&e.animation&&(t=e.prefixCls+"-"+e.animation),t},t.prototype.getClassName=function(e){return this.props.prefixCls+" "+this.props.className+" "+e},t.prototype.getPopupElement=function(){var e=this,t=this.savePopupRef,n=this.state,r=n.stretchChecked,o=n.targetHeight,a=n.targetWidth,s=this.props,u=s.align,l=s.visible,c=s.prefixCls,d=s.style,h=s.getClassNameFromAlign,p=s.destroyPopupOnHide,m=s.stretch,g=s.children,_=s.onMouseEnter,w=s.onMouseLeave,k=s.onMouseDown,E=s.onTouchStart,x=this.getClassName(this.currentAlignClassName||h(u)),S=c+"-hidden";l||(this.currentAlignClassName=null);var M={};m&&(-1!==m.indexOf("height")?M.height=o:-1!==m.indexOf("minHeight")&&(M.minHeight=o),-1!==m.indexOf("width")?M.width=a:-1!==m.indexOf("minWidth")&&(M.minWidth=a),r||(M.visibility="hidden",setTimeout(function(){e.alignInstance&&e.alignInstance.forceAlign()},0)));var T={className:x,prefixCls:c,ref:t,onMouseEnter:_,onMouseLeave:w,onMouseDown:k,onTouchStart:E,style:i()({},M,d,this.getZIndexStyle())};return p?f.a.createElement(v.a,{component:"",exclusive:!0,transitionAppear:!0,transitionName:this.getTransitionName()},l?f.a.createElement(y.a,{target:this.getAlignTarget(),key:"popup",ref:this.saveAlignRef,monitorWindowResize:!0,align:u,onAlign:this.onAlign},f.a.createElement(b.a,i()({visible:!0},T),g)):null):f.a.createElement(v.a,{component:"",exclusive:!0,transitionAppear:!0,transitionName:this.getTransitionName(),showProp:"xVisible"},f.a.createElement(y.a,{target:this.getAlignTarget(),key:"popup",ref:this.saveAlignRef,monitorWindowResize:!0,xVisible:l,childrenProps:{visible:"xVisible"},disabled:!l,align:u,onAlign:this.onAlign},f.a.createElement(b.a,i()({hiddenClassName:S},T),g)))},t.prototype.getZIndexStyle=function(){var e={},t=this.props;return void 0!==t.zIndex&&(e.zIndex=t.zIndex),e},t.prototype.getMaskElement=function(){var e=this.props,t=void 0;if(e.mask){var n=this.getMaskTransitionName();t=f.a.createElement(_.a,{style:this.getZIndexStyle(),key:"mask",className:e.prefixCls+"-mask",hiddenClassName:e.prefixCls+"-mask-hidden",visible:e.visible}),n&&(t=f.a.createElement(v.a,{key:"mask",showProp:"visible",transitionAppear:!0,component:"",transitionName:n},t))}return t},t.prototype.render=function(){return f.a.createElement("div",null,this.getMaskElement(),this.getPopupElement())},t}(d.Component);k.propTypes={visible:p.a.bool,style:p.a.object,getClassNameFromAlign:p.a.func,onAlign:p.a.func,getRootDomNode:p.a.func,align:p.a.any,destroyPopupOnHide:p.a.bool,className:p.a.string,prefixCls:p.a.string,onMouseEnter:p.a.func,onMouseLeave:p.a.func,onMouseDown:p.a.func,onTouchStart:p.a.func,stretch:p.a.string,children:p.a.node,point:p.a.shape({pageX:p.a.number,pageY:p.a.number})};var E=function(){var e=this;this.onAlign=function(t,n){var r=e.props,i=r.getClassNameFromAlign(n);e.currentAlignClassName!==i&&(e.currentAlignClassName=i,t.className=e.getClassName(i)),r.onAlign(t,n)},this.setStretchSize=function(){var t=e.props,n=t.stretch,r=t.getRootDomNode,i=t.visible,o=e.state,a=o.stretchChecked,s=o.targetHeight,u=o.targetWidth;if(n&&i){var l=r();if(l){var c=l.offsetHeight,d=l.offsetWidth;s===c&&u===d&&a||e.setState({stretchChecked:!0,targetHeight:c,targetWidth:d})}}else a&&e.setState({stretchChecked:!1})},this.getTargetElement=function(){return e.props.getRootDomNode()},this.getAlignTarget=function(){var t=e.props.point;return t||e.getTargetElement}};t.a=k},function(e,t,n){"use strict";var r=n(1909);t.a=r.a},function(e,t,n){"use strict";var r=n(14),i=n.n(r),o=n(41),a=n.n(o),s=n(42),u=n.n(s),l=n(1),c=n.n(l),d=n(4),f=n.n(d),h=n(31),p=n.n(h),m=n(1910),g=n(557),y=n(1918);function v(e){return"function"==typeof e&&e?e():null}function b(e){return"object"==typeof e&&e?e:null}var _=function(e){function t(){var n,r,o;i()(this,t);for(var s=arguments.length,u=Array(s),l=0;l<s;l++)u[l]=arguments[l];return n=r=a()(this,e.call.apply(e,[this].concat(u))),r.forceAlign=function(){var e=r.props,t=e.disabled,n=e.target,i=e.align,o=e.onAlign;if(!t&&n){var a=p.a.findDOMNode(r),s=void 0,u=v(n),l=b(n);u?s=Object(m.a)(a,u,i):l&&(s=Object(m.b)(a,l,i)),o&&o(a,s)}},o=n,a()(r,o)}return u()(t,e),t.prototype.componentDidMount=function(){var e=this.props;this.forceAlign(),!e.disabled&&e.monitorWindowResize&&this.startMonitorWindowResize()},t.prototype.componentDidUpdate=function(e){var t=!1,n=this.props;if(!n.disabled){var r=p.a.findDOMNode(this),i=r?r.getBoundingClientRect():null;if(e.disabled)t=!0;else{var o=v(e.target),a=v(n.target),s=b(e.target),u=b(n.target);Object(y.c)(o)&&Object(y.c)(a)?t=!1:(o!==a||o&&!a&&u||s&&u&&a||u&&!Object(y.b)(s,u))&&(t=!0);var l=this.sourceRect||{};t||!r||l.width===i.width&&l.height===i.height||(t=!0)}this.sourceRect=i}t&&this.forceAlign(),n.monitorWindowResize&&!n.disabled?this.startMonitorWindowResize():this.stopMonitorWindowResize()},t.prototype.componentWillUnmount=function(){this.stopMonitorWindowResize()},t.prototype.startMonitorWindowResize=function(){this.resizeHandler||(this.bufferMonitor=Object(y.a)(this.forceAlign,this.props.monitorBufferTime),this.resizeHandler=Object(g.a)(window,"resize",this.bufferMonitor))},t.prototype.stopMonitorWindowResize=function(){this.resizeHandler&&(this.bufferMonitor.clear(),this.resizeHandler.remove(),this.resizeHandler=null)},t.prototype.render=function(){var e=this,t=this.props,n=t.childrenProps,r=t.children,i=c.a.Children.only(r);if(n){var o={};return Object.keys(n).forEach(function(t){o[t]=e.props[n[t]]}),c.a.cloneElement(i,o)}return i},t}(l.Component);_.propTypes={childrenProps:f.a.object,align:f.a.object.isRequired,target:f.a.oneOfType([f.a.func,f.a.shape({clientX:f.a.number,clientY:f.a.number,pageX:f.a.number,pageY:f.a.number})]),onAlign:f.a.func,monitorBufferTime:f.a.number,monitorWindowResize:f.a.bool,disabled:f.a.bool,children:f.a.any},_.defaultProps={target:function(){return window},monitorBufferTime:50,monitorWindowResize:!1,disabled:!1},t.a=_},function(e,t,n){"use strict";var r=n(1911),i=n(1917);n.d(t,"a",function(){return r.a}),n.d(t,"b",function(){return i.a});r.a},function(e,t,n){"use strict";var r=n(1154),i=n(1156),o=n(1155),a=n(1157);function s(e,t,n){var i=n.target||t,s=Object(a.a)(i),u=!function(e){var t=Object(o.a)(e),n=Object(a.a)(e);return!t||n.left+n.width<=t.left||n.top+n.height<=t.top||n.left>=t.right||n.top>=t.bottom}(i);return Object(r.a)(e,s,n,u)}s.__getOffsetParent=i.a,s.__getVisibleRectForElement=o.a,t.a=s},function(e,t,n){"use strict";t.a=s,t.e=function(e,t){var n=a();n&&(e.style[n]=t,"transitionProperty"!==n&&(e.style.transitionProperty=t))},t.c=function(e){return e.style.transitionProperty||e.style[a()]},t.b=function(e){var t=window.getComputedStyle(e,null),n=t.getPropertyValue("transform")||t.getPropertyValue(s());if(n&&"none"!==n){var r=n.replace(/[^0-9\-.,]/g,"").split(",");return{x:parseFloat(r[12]||r[4],0),y:parseFloat(r[13]||r[5],0)}}return{x:0,y:0}},t.d=function(e,t){var n=window.getComputedStyle(e,null),r=n.getPropertyValue("transform")||n.getPropertyValue(s());if(r&&"none"!==r){var i=void 0,o=r.match(l);if(o)o=o[1],(i=o.split(",").map(function(e){return parseFloat(e,10)}))[4]=t.x,i[5]=t.y,u(e,"matrix("+i.join(",")+")");else{var a=r.match(c)[1];(i=a.split(",").map(function(e){return parseFloat(e,10)}))[12]=t.x,i[13]=t.y,u(e,"matrix3d("+i.join(",")+")")}}else u(e,"translateX("+t.x+"px) translateY("+t.y+"px) translateZ(0)")};var r=void 0,i={Webkit:"-webkit-",Moz:"-moz-",ms:"-ms-",O:"-o-"};function o(){if(void 0!==r)return r;r="";var e=document.createElement("p").style;for(var t in i)t+"Transform"in e&&(r=t);return r}function a(){return o()?o()+"TransitionProperty":"transitionProperty"}function s(){return o()?o()+"Transform":"transform"}function u(e,t){var n=s();n&&(e.style[n]=t,"transform"!==n&&(e.style.transform=t))}var l=/matrix\((.*)\)/,c=/matrix3d\((.*)\)/},function(e,t,n){"use strict";t.a=function(e){if(r.a.isWindow(e)||9===e.nodeType)return!1;var t=r.a.getDocument(e).body,n=null;for(n=e.parentNode;n&&n!==t;n=n.parentNode){var i=r.a.css(n,"position");if("fixed"===i)return!0}return!1};var r=n(348)},function(e,t,n){"use strict";var r=n(348);t.a=function(e,t,n,i){var o=r.a.clone(e),a={width:t.width,height:t.height};return i.adjustX&&o.left<n.left&&(o.left=n.left),i.resizeWidth&&o.left>=n.left&&o.left+a.width>n.right&&(a.width-=o.left+a.width-n.right),i.adjustX&&o.left+a.width>n.right&&(o.left=Math.max(n.right-a.width,n.left)),i.adjustY&&o.top<n.top&&(o.top=n.top),i.resizeHeight&&o.top>=n.top&&o.top+a.height>n.bottom&&(a.height-=o.top+a.height-n.bottom),i.adjustY&&o.top+a.height>n.bottom&&(o.top=Math.max(n.bottom-a.height,n.top)),r.a.mix(o,a)}},function(e,t,n){"use strict";var r=n(1916);t.a=function(e,t,n,i,o){var a=Object(r.a)(t,n[1]),s=Object(r.a)(e,n[0]),u=[s.left-a.left,s.top-a.top];return{left:e.left-u[0]+i[0]-o[0],top:e.top-u[1]+i[1]-o[1]}}},function(e,t,n){"use strict";t.a=function(e,t){var n=t.charAt(0),r=t.charAt(1),i=e.width,o=e.height,a=e.left,s=e.top;return"c"===n?s+=o/2:"b"===n&&(s+=o),"c"===r?a+=i/2:"r"===r&&(a+=i),{left:a,top:s}}},function(e,t,n){"use strict";var r=n(348),i=n(1154),o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.a=function(e,t,n){var a=void 0,s=void 0,u=r.a.getDocument(e),l=u.defaultView||u.parentWindow,c=r.a.getWindowScrollLeft(l),d=r.a.getWindowScrollTop(l),f=r.a.viewportWidth(l),h=r.a.viewportHeight(l),p={left:a="pageX"in t?t.pageX:c+t.clientX,top:s="pageY"in t?t.pageY:d+t.clientY,width:0,height:0},m=a>=0&&a<=c+f&&s>=0&&s<=d+h,g=[n.points[0],"cc"];return Object(i.a)(e,p,o({},n,{points:g}),m)}},function(e,t,n){"use strict";t.a=function(e,t){var n=void 0;function r(){n&&(clearTimeout(n),n=null)}function i(){r(),n=setTimeout(e,t)}return i.clear=r,i},t.b=function(e,t){if(e===t)return!0;if(!e||!t)return!1;if("pageX"in t&&"pageY"in t)return e.pageX===t.pageX&&e.pageY===t.pageY;if("clientX"in t&&"clientY"in t)return e.clientX===t.clientX&&e.clientY===t.clientY;return!1},t.c=function(e){return e&&"object"==typeof e&&e.window===e}},function(e,t,n){"use strict";var r=n(258),i=n.n(r),o=n(295),a=n.n(o),s=n(14),u=n.n(s),l=n(20),c=n.n(l),d=n(41),f=n.n(d),h=n(42),p=n.n(h),m=n(1),g=n.n(m),y=n(4),v=n.n(y),b=n(1920),_=n(1921),w=n(1159),k="rc_animate_"+Date.now();function E(e){var t=e.children;return g.a.isValidElement(t)&&!t.key?g.a.cloneElement(t,{key:k}):t}function x(){}var S=function(e){function t(e){u()(this,t);var n=f()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return M.call(n),n.currentlyAnimatingKeys={},n.keysToEnter=[],n.keysToLeave=[],n.state={children:Object(b.e)(E(e))},n.childrenRefs={},n}return p()(t,e),c()(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.showProp,n=this.state.children;t&&(n=n.filter(function(e){return!!e.props[t]})),n.forEach(function(t){t&&e.performAppear(t.key)})}},{key:"componentWillReceiveProps",value:function(e){var t=this;this.nextProps=e;var n=Object(b.e)(E(e)),r=this.props;r.exclusive&&Object.keys(this.currentlyAnimatingKeys).forEach(function(e){t.stop(e)});var i=r.showProp,o=this.currentlyAnimatingKeys,s=r.exclusive?Object(b.e)(E(r)):this.state.children,u=[];i?(s.forEach(function(e){var t=e&&Object(b.a)(n,e.key),r=void 0;(r=t&&t.props[i]||!e.props[i]?t:g.a.cloneElement(t||e,a()({},i,!0)))&&u.push(r)}),n.forEach(function(e){e&&Object(b.a)(s,e.key)||u.push(e)})):u=Object(b.d)(s,n),this.setState({children:u}),n.forEach(function(e){var n=e&&e.key;if(!e||!o[n]){var r=e&&Object(b.a)(s,n);if(i){var a=e.props[i];if(r)!Object(b.b)(s,n,i)&&a&&t.keysToEnter.push(n);else a&&t.keysToEnter.push(n)}else r||t.keysToEnter.push(n)}}),s.forEach(function(e){var r=e&&e.key;if(!e||!o[r]){var a=e&&Object(b.a)(n,r);if(i){var s=e.props[i];if(a)!Object(b.b)(n,r,i)&&s&&t.keysToLeave.push(r);else s&&t.keysToLeave.push(r)}else a||t.keysToLeave.push(r)}})}},{key:"componentDidUpdate",value:function(){var e=this.keysToEnter;this.keysToEnter=[],e.forEach(this.performEnter);var t=this.keysToLeave;this.keysToLeave=[],t.forEach(this.performLeave)}},{key:"isValidChildByKey",value:function(e,t){var n=this.props.showProp;return n?Object(b.b)(e,t,n):Object(b.a)(e,t)}},{key:"stop",value:function(e){delete this.currentlyAnimatingKeys[e];var t=this.childrenRefs[e];t&&t.stop()}},{key:"render",value:function(){var e=this,t=this.props;this.nextProps=t;var n=this.state.children,r=null;n&&(r=n.map(function(n){if(null===n||void 0===n)return n;if(!n.key)throw new Error("must set key for <rc-animate> children");return g.a.createElement(_.a,{key:n.key,ref:function(t){e.childrenRefs[n.key]=t},animation:t.animation,transitionName:t.transitionName,transitionEnter:t.transitionEnter,transitionAppear:t.transitionAppear,transitionLeave:t.transitionLeave},n)}));var o=t.component;if(o){var a=t;return"string"==typeof o&&(a=i()({className:t.className,style:t.style},t.componentProps)),g.a.createElement(o,a,r)}return r[0]||null}}]),t}(g.a.Component);S.isAnimate=!0,S.propTypes={component:v.a.any,componentProps:v.a.object,animation:v.a.object,transitionName:v.a.oneOfType([v.a.string,v.a.object]),transitionEnter:v.a.bool,transitionAppear:v.a.bool,exclusive:v.a.bool,transitionLeave:v.a.bool,onEnd:v.a.func,onEnter:v.a.func,onLeave:v.a.func,onAppear:v.a.func,showProp:v.a.string,children:v.a.node},S.defaultProps={animation:{},component:"span",componentProps:{},transitionEnter:!0,transitionLeave:!0,transitionAppear:!1,onEnd:x,onEnter:x,onLeave:x,onAppear:x};var M=function(){var e=this;this.performEnter=function(t){e.childrenRefs[t]&&(e.currentlyAnimatingKeys[t]=!0,e.childrenRefs[t].componentWillEnter(e.handleDoneAdding.bind(e,t,"enter")))},this.performAppear=function(t){e.childrenRefs[t]&&(e.currentlyAnimatingKeys[t]=!0,e.childrenRefs[t].componentWillAppear(e.handleDoneAdding.bind(e,t,"appear")))},this.handleDoneAdding=function(t,n){var r=e.props;if(delete e.currentlyAnimatingKeys[t],!r.exclusive||r===e.nextProps){var i=Object(b.e)(E(r));e.isValidChildByKey(i,t)?"appear"===n?w.a.allowAppearCallback(r)&&(r.onAppear(t),r.onEnd(t,!0)):w.a.allowEnterCallback(r)&&(r.onEnter(t),r.onEnd(t,!0)):e.performLeave(t)}},this.performLeave=function(t){e.childrenRefs[t]&&(e.currentlyAnimatingKeys[t]=!0,e.childrenRefs[t].componentWillLeave(e.handleDoneLeaving.bind(e,t)))},this.handleDoneLeaving=function(t){var n=e.props;if(delete e.currentlyAnimatingKeys[t],!n.exclusive||n===e.nextProps){var r=Object(b.e)(E(n));if(e.isValidChildByKey(r,t))e.performEnter(t);else{var i=function(){w.a.allowLeaveCallback(n)&&(n.onLeave(t),n.onEnd(t,!1))};Object(b.c)(e.state.children,r,n.showProp)?i():e.setState({children:r},i)}}}};t.a=S},function(e,t,n){"use strict";t.e=function(e){var t=[];return i.a.Children.forEach(e,function(e){t.push(e)}),t},t.a=o,t.b=function(e,t,n){var r=null;e&&e.forEach(function(e){if(e&&e.key===t&&e.props[n]){if(r)throw new Error("two child with same key for <rc-animate> children");r=e}});return r},t.c=function(e,t,n){var r=e.length===t.length;r&&e.forEach(function(e,i){var o=t[i];e&&o&&(e&&!o||!e&&o?r=!1:e.key!==o.key?r=!1:n&&e.props[n]!==o.props[n]&&(r=!1))});return r},t.d=function(e,t){var n=[],r={},i=[];return e.forEach(function(e){e&&o(t,e.key)?i.length&&(r[e.key]=i,i=[]):i.push(e)}),t.forEach(function(e){e&&Object.prototype.hasOwnProperty.call(r,e.key)&&(n=n.concat(r[e.key])),n.push(e)}),n=n.concat(i)};var r=n(1),i=n.n(r);function o(e,t){var n=null;return e&&e.forEach(function(e){n||e&&e.key===t&&(n=e)}),n}},function(e,t,n){"use strict";var r=n(14),i=n.n(r),o=n(20),a=n.n(o),s=n(41),u=n.n(s),l=n(42),c=n.n(l),d=n(1),f=n.n(d),h=n(31),p=n.n(h),m=n(4),g=n.n(m),y=n(1922),v=n(1159),b={enter:"transitionEnter",appear:"transitionAppear",leave:"transitionLeave"},_=function(e){function t(){return i()(this,t),u()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return c()(t,e),a()(t,[{key:"componentWillUnmount",value:function(){this.stop()}},{key:"componentWillEnter",value:function(e){v.a.isEnterSupported(this.props)?this.transition("enter",e):e()}},{key:"componentWillAppear",value:function(e){v.a.isAppearSupported(this.props)?this.transition("appear",e):e()}},{key:"componentWillLeave",value:function(e){v.a.isLeaveSupported(this.props)?this.transition("leave",e):e()}},{key:"transition",value:function(e,t){var n=this,r=p.a.findDOMNode(this),i=this.props,o=i.transitionName,a="object"==typeof o;this.stop();var s=function(){n.stopper=null,t()};if((y.b||!i.animation[e])&&o&&i[b[e]]){var u=a?o[e]:o+"-"+e,l=u+"-active";a&&o[e+"Active"]&&(l=o[e+"Active"]),this.stopper=Object(y.a)(r,{name:u,active:l},s)}else this.stopper=i.animation[e](r,s)}},{key:"stop",value:function(){var e=this.stopper;e&&(this.stopper=null,e.stop())}},{key:"render",value:function(){return this.props.children}}]),t}(f.a.Component);_.propTypes={children:g.a.any},t.a=_},function(e,t,n){"use strict";n.d(t,"b",function(){return u});var r=n(390),i=n.n(r),o=n(1923),a=n(1924),s=n.n(a),u=0!==o.a.endEvents.length,l=["Webkit","Moz","O","ms"],c=["-webkit-","-moz-","-o-","ms-",""];function d(e,t){for(var n=window.getComputedStyle(e,null),r="",i=0;i<c.length&&!(r=n.getPropertyValue(c[i]+t));i++);return r}function f(e){if(u){var t=parseFloat(d(e,"transition-delay"))||0,n=parseFloat(d(e,"transition-duration"))||0,r=parseFloat(d(e,"animation-delay"))||0,i=parseFloat(d(e,"animation-duration"))||0,o=Math.max(n+t,i+r);e.rcEndAnimTimeout=setTimeout(function(){e.rcEndAnimTimeout=null,e.rcEndListener&&e.rcEndListener()},1e3*o+200)}}function h(e){e.rcEndAnimTimeout&&(clearTimeout(e.rcEndAnimTimeout),e.rcEndAnimTimeout=null)}var p=function(e,t,n){var r="object"===(void 0===t?"undefined":i()(t)),a=r?t.name:t,u=r?t.active:t+"-active",l=n,c=void 0,d=void 0,p=s()(e);return n&&"[object Object]"===Object.prototype.toString.call(n)&&(l=n.end,c=n.start,d=n.active),e.rcEndListener&&e.rcEndListener(),e.rcEndListener=function(t){t&&t.target!==e||(e.rcAnimTimeout&&(clearTimeout(e.rcAnimTimeout),e.rcAnimTimeout=null),h(e),p.remove(a),p.remove(u),o.a.removeEndEventListener(e,e.rcEndListener),e.rcEndListener=null,l&&l())},o.a.addEndEventListener(e,e.rcEndListener),c&&c(),p.add(a),e.rcAnimTimeout=setTimeout(function(){e.rcAnimTimeout=null,p.add(u),d&&setTimeout(d,0),f(e)},30),{stop:function(){e.rcEndListener&&e.rcEndListener()}}};p.style=function(e,t,n){e.rcEndListener&&e.rcEndListener(),e.rcEndListener=function(t){t&&t.target!==e||(e.rcAnimTimeout&&(clearTimeout(e.rcAnimTimeout),e.rcAnimTimeout=null),h(e),o.a.removeEndEventListener(e,e.rcEndListener),e.rcEndListener=null,n&&n())},o.a.addEndEventListener(e,e.rcEndListener),e.rcAnimTimeout=setTimeout(function(){for(var n in t)t.hasOwnProperty(n)&&(e.style[n]=t[n]);e.rcAnimTimeout=null,f(e)},0)},p.setTransition=function(e,t,n){var r=t,i=n;void 0===n&&(i=r,r=""),r=r||"",l.forEach(function(t){e.style[t+"Transition"+r]=i})},p.isCssAnimationSupported=u,t.a=p},function(e,t,n){"use strict";var r={transitionstart:{transition:"transitionstart",WebkitTransition:"webkitTransitionStart",MozTransition:"mozTransitionStart",OTransition:"oTransitionStart",msTransition:"MSTransitionStart"},animationstart:{animation:"animationstart",WebkitAnimation:"webkitAnimationStart",MozAnimation:"mozAnimationStart",OAnimation:"oAnimationStart",msAnimation:"MSAnimationStart"}},i={transitionend:{transition:"transitionend",WebkitTransition:"webkitTransitionEnd",MozTransition:"mozTransitionEnd",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd"},animationend:{animation:"animationend",WebkitAnimation:"webkitAnimationEnd",MozAnimation:"mozAnimationEnd",OAnimation:"oAnimationEnd",msAnimation:"MSAnimationEnd"}},o=[],a=[];function s(e,t,n){e.addEventListener(t,n,!1)}function u(e,t,n){e.removeEventListener(t,n,!1)}"undefined"!=typeof window&&"undefined"!=typeof document&&function(){var e=document.createElement("div").style;function t(t,n){for(var r in t)if(t.hasOwnProperty(r)){var i=t[r];for(var o in i)if(o in e){n.push(i[o]);break}}}"AnimationEvent"in window||(delete r.animationstart.animation,delete i.animationend.animation),"TransitionEvent"in window||(delete r.transitionstart.transition,delete i.transitionend.transition),t(r,o),t(i,a)}();var l={startEvents:o,addStartEventListener:function(e,t){0!==o.length?o.forEach(function(n){s(e,n,t)}):window.setTimeout(t,0)},removeStartEventListener:function(e,t){0!==o.length&&o.forEach(function(n){u(e,n,t)})},endEvents:a,addEndEventListener:function(e,t){0!==a.length?a.forEach(function(n){s(e,n,t)}):window.setTimeout(t,0)},removeEndEventListener:function(e,t){0!==a.length&&a.forEach(function(n){u(e,n,t)})}};t.a=l},function(e,t,n){try{var r=n(1158)}catch(e){r=n(1158)}var i=/\s+/,o=Object.prototype.toString;function a(e){if(!e||!e.nodeType)throw new Error("A DOM element reference is required");this.el=e,this.list=e.classList}e.exports=function(e){return new a(e)},a.prototype.add=function(e){if(this.list)return this.list.add(e),this;var t=this.array();return~r(t,e)||t.push(e),this.el.className=t.join(" "),this},a.prototype.remove=function(e){if("[object RegExp]"==o.call(e))return this.removeMatching(e);if(this.list)return this.list.remove(e),this;var t=this.array(),n=r(t,e);return~n&&t.splice(n,1),this.el.className=t.join(" "),this},a.prototype.removeMatching=function(e){for(var t=this.array(),n=0;n<t.length;n++)e.test(t[n])&&this.remove(t[n]);return this},a.prototype.toggle=function(e,t){return this.list?(void 0!==t?t!==this.list.toggle(e,t)&&this.list.toggle(e):this.list.toggle(e),this):(void 0!==t?t?this.add(e):this.remove(e):this.has(e)?this.remove(e):this.add(e),this)},a.prototype.array=function(){var e=(this.el.getAttribute("class")||"").replace(/^\s+|\s+$/g,"").split(i);return""===e[0]&&e.shift(),e},a.prototype.has=a.prototype.contains=function(e){return this.list?this.list.contains(e):!!~r(this.array(),e)}},function(e,t,n){"use strict";var r=n(14),i=n.n(r),o=n(41),a=n.n(o),s=n(42),u=n.n(s),l=n(1),c=n.n(l),d=n(4),f=n.n(d),h=n(1160),p=function(e){function t(){return i()(this,t),a()(this,e.apply(this,arguments))}return u()(t,e),t.prototype.render=function(){var e=this.props,t=e.className;return e.visible||(t+=" "+e.hiddenClassName),c.a.createElement("div",{className:t,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,onMouseDown:e.onMouseDown,onTouchStart:e.onTouchStart,style:e.style},c.a.createElement(h.a,{className:e.prefixCls+"-content",visible:e.visible},e.children))},t}(l.Component);p.propTypes={hiddenClassName:f.a.string,className:f.a.string,prefixCls:f.a.string,onMouseEnter:f.a.func,onMouseLeave:f.a.func,onMouseDown:f.a.func,onTouchStart:f.a.func,children:f.a.any},t.a=p},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r={adjustX:1,adjustY:1},i=[0,0],o={left:{points:["cr","cl"],overflow:r,offset:[-4,0],targetOffset:i},right:{points:["cl","cr"],overflow:r,offset:[4,0],targetOffset:i},top:{points:["bc","tc"],overflow:r,offset:[0,-4],targetOffset:i},bottom:{points:["tc","bc"],overflow:r,offset:[0,4],targetOffset:i},topLeft:{points:["bl","tl"],overflow:r,offset:[0,-4],targetOffset:i},leftTop:{points:["tr","tl"],overflow:r,offset:[-4,0],targetOffset:i},topRight:{points:["br","tr"],overflow:r,offset:[0,-4],targetOffset:i},rightTop:{points:["tl","tr"],overflow:r,offset:[4,0],targetOffset:i},bottomRight:{points:["tr","br"],overflow:r,offset:[0,4],targetOffset:i},rightBottom:{points:["bl","br"],overflow:r,offset:[4,0],targetOffset:i},bottomLeft:{points:["tl","bl"],overflow:r,offset:[0,4],targetOffset:i},leftBottom:{points:["br","bl"],overflow:r,offset:[-4,0],targetOffset:i}}},function(e,t,n){"use strict";var r=n(14),i=n.n(r),o=n(41),a=n.n(o),s=n(42),u=n.n(s),l=n(1),c=n.n(l),d=n(4),f=n.n(d),h=function(e){function t(){return i()(this,t),a()(this,e.apply(this,arguments))}return u()(t,e),t.prototype.componentDidUpdate=function(){var e=this.props.trigger;e&&e.forcePopupAlign()},t.prototype.render=function(){var e=this.props,t=e.overlay,n=e.prefixCls,r=e.id;return c.a.createElement("div",{className:n+"-inner",id:r,role:"tooltip"},"function"==typeof t?t():t)},t}(c.a.Component);h.propTypes={prefixCls:f.a.string,overlay:f.a.oneOfType([f.a.node,f.a.func]).isRequired,id:f.a.string,trigger:f.a.any},t.a=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(1),o=l(i),a=n(658),s=l(n(329));n(401);var u=l(n(1953));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={dataKeys:a.PositionLabelNames,x:a.PositionLabelNames[0],y:a.PositionLabelNames[1],z:a.PositionLabelNames[2],axisScale:e.reduxState.ui.axisScale},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),r(t,[{key:"componentDidMount",value:function(){var e=this;if(_app.controller.graph.visibleNodes.length>0){var t={};_app.controller.graph.visibleNodes.forEach(function(e){t[e.data.detail.type]||(t[e.data.detail.type]=Object.keys(e.data.detail.data).filter(function(t){var n=e.data.detail.data[t],r=/^\d{4}[-\/]\d{2}[-\/]\d{2}/gi.test(n)&&Date.parse(n)>0;return"number"==typeof n||r}))});var n=this.state.dataKeys;_.forEach(t,function(e){n=n.concat(e)}),(n=_.uniq(n)).sort(),this.setState({dataKeys:n})}$(".tour-axis-name").bind("tour-axis-name-change",function(t,n){e.handleSelectAxis("y","none")})}},{key:"componentWillReceiveProps",value:function(e){e.reduxState.ui.axisScale!=this.props.reduxState.ui.axisScale&&this.setState({axisScale:e.reduxState.ui.axisScale})}},{key:"onAxisScale",value:function(e){var t=this.props.actions;this.setState({axisScale:e}),t.adjustAxisScale(e),this.handleApply()}},{key:"handleApply",value:function(){var e=this.props.actions;_hd.initWithLabelXYZ(this.state.x,this.state.y,this.state.z),_hd.showHD();this.getParametricHistory(),this.state.x,this.state.y,this.state.z;var t=this.state.x+"-"+this.state.y+"-"+this.state.z;e.addParametricLayout(t,{x:this.state.x,y:this.state.y,z:this.state.z})}},{key:"onHistoryApply",value:function(e){_hd.initWithLabelXYZ(e.x,e.y,e.z),_hd.showHD(),this.setState({x:e.x,y:e.y,z:e.z})}},{key:"contains",value:function(e,t){var n=this;return 0!=e.filter(function(e){return n.isEquivalent(e,t)}).length}},{key:"isEquivalent",value:function(e,t){var n=Object.getOwnPropertyNames(e),r=Object.getOwnPropertyNames(t);if(n.length!=r.length)return!1;for(var i=0;i<n.length;i++){var o=n[i];if(e[o]!==t[o])return!1}return!0}},{key:"handleCancel",value:function(){_hd.hideHD()}},{key:"handleSelectAxis",value:function(e,t){var n={};n[e]=t,this.setState(n)}},{key:"axisNameRender",value:function(){return this.state.dataKeys.map(function(e){return o.default.createElement("option",{key:e,value:e},e," ")})}},{key:"onHistoryDelete",value:function(e){this.props.actions.deleteParametricLayout(e)}},{key:"getParametricHistory",value:function(){return this.props.reduxState.layout.parametricHistory}},{key:"render",value:function(){var e=this,t=this.props,n=t.actions,r=t.reduxState,i=this.getParametricHistory();return o.default.createElement("div",{className:"parametric-layout"},o.default.createElement("div",{className:"item"},o.default.createElement("span",null,"X"),o.default.createElement("select",{className:"axis-name",value:this.state.x,onChange:function(t){e.handleSelectAxis("x",t.currentTarget.value)}},this.axisNameRender())),o.default.createElement("div",{className:"item"},o.default.createElement("span",null,"Y"),o.default.createElement("select",{className:"tour-axis-name axis-name",value:this.state.y,onChange:function(t){e.handleSelectAxis("y",t.currentTarget.value)}},this.axisNameRender())),o.default.createElement("div",{className:"item"},o.default.createElement("span",null,"Z"),o.default.createElement("select",{className:"axis-name",value:this.state.z,onChange:function(t){e.handleSelectAxis("z",t.currentTarget.value)}},this.axisNameRender())),o.default.createElement("div",{className:"tour-axis-slider-panel axis-slider-panel"},o.default.createElement("label",null,"Axis "),o.default.createElement(s.default,{onChange:function(t){return e.onAxisScale(t)},min:1,max:10,defaultValue:2,value:this.state.axisScale,step:.1})),o.default.createElement("div",{className:"button-group"},o.default.createElement("button",{className:"tour-kv-button-parametric-apply kv-button",onClick:function(){return e.handleApply()}},"Apply"),o.default.createElement("button",{className:"tour-kv-button-parametric-reset kv-button",onClick:function(){return e.handleCancel()}},"Reset")),o.default.createElement("div",{className:Object.keys(i).length>0?"parametric-history":"parametric-history-hidden"},o.default.createElement(u.default,{actions:n,reduxState:r,onDelete:function(t){return e.onHistoryDelete(t)},onApply:function(t){return e.onHistoryApply(t)},history:i})))}}]),t}();t.default=c},function(e,t,n){"use strict";var r=n(1930),i=n(1931),o=n(1932),a=n(659);function s(e,t,n){var r=e;return i(t)?(n=t,"string"==typeof e&&(r={uri:e})):r=a(t,{uri:e}),r.callback=n,r}function u(e,t,n){return l(t=s(e,t,n))}function l(e){if(void 0===e.callback)throw new Error("callback argument missing");var t=!1,n=function(n,r,i){t||(t=!0,e.callback(n,r,i))};function r(e){return clearTimeout(c),e instanceof Error||(e=new Error(""+(e||"Unknown XMLHttpRequest Error"))),e.statusCode=0,n(e,y)}function i(){if(!s){var t;clearTimeout(c),t=e.useXDR&&void 0===l.status?200:1223===l.status?204:l.status;var r=y,i=null;return 0!==t?(r={body:function(){var e=void 0;if(e=l.response?l.response:l.responseText||function(e){try{if("document"===e.responseType)return e.responseXML;var t=e.responseXML&&"parsererror"===e.responseXML.documentElement.nodeName;if(""===e.responseType&&!t)return e.responseXML}catch(e){}return null}(l),g)try{e=JSON.parse(e)}catch(e){}return e}(),statusCode:t,method:f,headers:{},url:d,rawRequest:l},l.getAllResponseHeaders&&(r.headers=o(l.getAllResponseHeaders()))):i=new Error("Internal XMLHttpRequest Error"),n(i,r,r.body)}}var a,s,l=e.xhr||null;l||(l=e.cors||e.useXDR?new u.XDomainRequest:new u.XMLHttpRequest);var c,d=l.url=e.uri||e.url,f=l.method=e.method||"GET",h=e.body||e.data,p=l.headers=e.headers||{},m=!!e.sync,g=!1,y={body:void 0,headers:{},statusCode:0,method:f,url:d,rawRequest:l};if("json"in e&&!1!==e.json&&(g=!0,p.accept||p.Accept||(p.Accept="application/json"),"GET"!==f&&"HEAD"!==f&&(p["content-type"]||p["Content-Type"]||(p["Content-Type"]="application/json"),h=JSON.stringify(!0===e.json?h:e.json))),l.onreadystatechange=function(){4===l.readyState&&setTimeout(i,0)},l.onload=i,l.onerror=r,l.onprogress=function(){},l.onabort=function(){s=!0},l.ontimeout=r,l.open(f,d,!m,e.username,e.password),m||(l.withCredentials=!!e.withCredentials),!m&&e.timeout>0&&(c=setTimeout(function(){if(!s){s=!0,l.abort("timeout");var e=new Error("XMLHttpRequest timeout");e.code="ETIMEDOUT",r(e)}},e.timeout)),l.setRequestHeader)for(a in p)p.hasOwnProperty(a)&&l.setRequestHeader(a,p[a]);else if(e.headers&&!function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}(e.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in e&&(l.responseType=e.responseType),"beforeSend"in e&&"function"==typeof e.beforeSend&&e.beforeSend(l),l.send(h||null),l}e.exports=u,e.exports.default=u,u.XMLHttpRequest=r.XMLHttpRequest||function(){},u.XDomainRequest="withCredentials"in new u.XMLHttpRequest?u.XMLHttpRequest:r.XDomainRequest,function(e,t){for(var n=0;n<e.length;n++)t(e[n])}(["get","put","post","patch","head","delete"],function(e){u["delete"===e?"del":e]=function(t,n,r){return(n=s(t,n,r)).method=e.toUpperCase(),l(n)}})},function(e,t,n){(function(t){var n;n="undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{},e.exports=n}).call(t,n(22))},function(e,t){e.exports=function(e){var t=n.call(e);return"[object Function]"===t||"function"==typeof e&&"[object RegExp]"!==t||"undefined"!=typeof window&&(e===window.setTimeout||e===window.alert||e===window.confirm||e===window.prompt)};var n=Object.prototype.toString},function(e,t,n){var r=n(1933),i=n(1934);e.exports=function(e){if(!e)return{};var t={};return i(r(e).split("\n"),function(e){var n,i=e.indexOf(":"),o=r(e.slice(0,i)).toLowerCase(),a=r(e.slice(i+1));void 0===t[o]?t[o]=a:(n=t[o],"[object Array]"===Object.prototype.toString.call(n)?t[o].push(a):t[o]=[t[o],a])}),t}},function(e,t){(t=e.exports=function(e){return e.replace(/^\s*|\s*$/g,"")}).left=function(e){return e.replace(/^\s*/,"")},t.right=function(e){return e.replace(/\s*$/,"")}},function(e,t,n){"use strict";var r=n(1935),i=Object.prototype.toString,o=Object.prototype.hasOwnProperty;e.exports=function(e,t,n){if(!r(t))throw new TypeError("iterator must be a function");var a;arguments.length>=3&&(a=n),"[object Array]"===i.call(e)?function(e,t,n){for(var r=0,i=e.length;r<i;r++)o.call(e,r)&&(null==n?t(e[r],r,e):t.call(n,e[r],r,e))}(e,t,a):"string"==typeof e?function(e,t,n){for(var r=0,i=e.length;r<i;r++)null==n?t(e.charAt(r),r,e):t.call(n,e.charAt(r),r,e)}(e,t,a):function(e,t,n){for(var r in e)o.call(e,r)&&(null==n?t(e[r],r,e):t.call(n,e[r],r,e))}(e,t,a)}},function(e,t,n){"use strict";var r=Function.prototype.toString,i=/^\s*class\b/,o=function(e){try{var t=r.call(e);return i.test(t)}catch(e){return!1}},a=Object.prototype.toString,s="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;e.exports=function(e){if(!e)return!1;if("function"!=typeof e&&"object"!=typeof e)return!1;if("function"==typeof e&&!e.prototype)return!0;if(s)return function(e){try{return!o(e)&&(r.call(e),!0)}catch(e){return!1}}(e);if(o(e))return!1;var t=a.call(e);return"[object Function]"===t||"[object GeneratorFunction]"===t}},function(e,t){function n(e,t){if(!(e=e.replace(/\t+/g," ").trim()))return null;var n=e.indexOf(" ");if(-1===n)throw new Error("no named row at line "+t);var i=e.substring(0,n);e=(e=(e=(e=e.substring(n+1)).replace(/letter=[\'\"]\S+[\'\"]/gi,"")).split("=")).map(function(e){return e.trim().match(/(".*?"|[^"\s]+)+(?=\s*|\s*$)/g)});for(var o=[],a=0;a<e.length;a++){var s=e[a];0===a?o.push({key:s[0],data:""}):a===e.length-1?o[o.length-1].data=r(s[0]):(o[o.length-1].data=r(s[0]),o.push({key:s[1],data:""}))}var u={key:i,data:{}};return o.forEach(function(e){u.data[e.key]=e.data}),u}function r(e){return e&&0!==e.length?0===e.indexOf('"')||0===e.indexOf("'")?e.substring(1,e.length-1):-1!==e.indexOf(",")?function(e){return e.split(",").map(function(e){return parseInt(e,10)})}(e):parseInt(e,10):""}e.exports=function(e){if(!e)throw new Error("no data provided");var t={pages:[],chars:[],kernings:[]},r=(e=e.toString().trim()).split(/\r\n?|\n/g);if(0===r.length)throw new Error("no data in BMFont file");for(var i=0;i<r.length;i++){var o=n(r[i],i);if(o)if("page"===o.key){if("number"!=typeof o.data.id)throw new Error("malformed file at line "+i+" -- needs page id=N");if("string"!=typeof o.data.file)throw new Error("malformed file at line "+i+' -- needs page file="path"');t.pages[o.data.id]=o.data.file}else"chars"===o.key||"kernings"===o.key||("char"===o.key?t.chars.push(o.data):"kerning"===o.key?t.kernings.push(o.data):t[o.key]=o.data)}return t}},function(e,t,n){var r=n(1938),i=n(1939),o={scaleh:"scaleH",scalew:"scaleW",stretchh:"stretchH",lineheight:"lineHeight",alphachnl:"alphaChnl",redchnl:"redChnl",greenchnl:"greenChnl",bluechnl:"blueChnl"};function a(e){return function(e){for(var t=[],n=0;n<e.attributes.length;n++)t.push(e.attributes[n]);return t}(e).reduce(function(e,t){var n;return e[(n=t.nodeName,o[n.toLowerCase()]||n)]=t.nodeValue,e},{})}e.exports=function(e){e=e.toString();var t=i(e),n={pages:[],chars:[],kernings:[]};["info","common"].forEach(function(e){var i=t.getElementsByTagName(e)[0];i&&(n[e]=r(a(i)))});var o=t.getElementsByTagName("pages")[0];if(!o)throw new Error("malformed file -- no <pages> element");for(var s=o.getElementsByTagName("page"),u=0;u<s.length;u++){var l=s[u],c=parseInt(l.getAttribute("id"),10),d=l.getAttribute("file");if(isNaN(c))throw new Error('malformed file -- page "id" attribute is NaN');if(!d)throw new Error('malformed file -- needs page "file" attribute');n.pages[parseInt(c,10)]=d}return["chars","kernings"].forEach(function(e){var i=t.getElementsByTagName(e)[0];if(i)for(var o=e.substring(0,e.length-1),s=i.getElementsByTagName(o),u=0;u<s.length;u++){var l=s[u];n[e].push(r(a(l)))}}),n}},function(e,t){e.exports=function(e){for(var t in"chasrset"in e&&(e.charset=e.chasrset,delete e.chasrset),e)"face"!==t&&"charset"!==t&&(e[t]="padding"===t||"spacing"===t?e[t].split(",").map(function(e){return parseInt(e,10)}):parseInt(e[t],10));return e}},function(e,t){e.exports=void 0!==self.DOMParser?function(e){return(new self.DOMParser).parseFromString(e,"application/xml")}:void 0!==self.ActiveXObject&&new self.ActiveXObject("Microsoft.XMLDOM")?function(e){var t=new self.ActiveXObject("Microsoft.XMLDOM");return t.async="false",t.loadXML(e),t}:function(e){var t=document.createElement("div");return t.innerHTML=e,t}},function(e,t){var n=[66,77,70];function r(e,t,n){if(n>t.length-1)return 0;var r=t.readUInt8(n++),o=t.readInt32LE(n);switch(n+=4,r){case 1:e.info=function(e,t){var n={};n.size=e.readInt16LE(t);var r=e.readUInt8(t+2);n.smooth=r>>7&1,n.unicode=r>>6&1,n.italic=r>>5&1,n.bold=r>>4&1,r>>3&1&&(n.fixedHeight=1);return n.charset=e.readUInt8(t+3)||"",n.stretchH=e.readUInt16LE(t+4),n.aa=e.readUInt8(t+6),n.padding=[e.readInt8(t+7),e.readInt8(t+8),e.readInt8(t+9),e.readInt8(t+10)],n.spacing=[e.readInt8(t+11),e.readInt8(t+12)],n.outline=e.readUInt8(t+13),n.face=function(e,t){return i(e,t).toString("utf8")}(e,t+14),n}(t,n);break;case 2:e.common=function(e,t){var n={};n.lineHeight=e.readUInt16LE(t),n.base=e.readUInt16LE(t+2),n.scaleW=e.readUInt16LE(t+4),n.scaleH=e.readUInt16LE(t+6),n.pages=e.readUInt16LE(t+8);e.readUInt8(t+10);return n.packed=0,n.alphaChnl=e.readUInt8(t+11),n.redChnl=e.readUInt8(t+12),n.greenChnl=e.readUInt8(t+13),n.blueChnl=e.readUInt8(t+14),n}(t,n);break;case 3:e.pages=function(e,t,n){for(var r=[],o=i(e,t),a=o.length+1,s=n/a,u=0;u<s;u++)r[u]=e.slice(t,t+o.length).toString("utf8"),t+=a;return r}(t,n,o);break;case 4:e.chars=function(e,t,n){for(var r=[],i=n/20,o=0;o<i;o++){var a={},s=20*o;a.id=e.readUInt32LE(t+0+s),a.x=e.readUInt16LE(t+4+s),a.y=e.readUInt16LE(t+6+s),a.width=e.readUInt16LE(t+8+s),a.height=e.readUInt16LE(t+10+s),a.xoffset=e.readInt16LE(t+12+s),a.yoffset=e.readInt16LE(t+14+s),a.xadvance=e.readInt16LE(t+16+s),a.page=e.readUInt8(t+18+s),a.chnl=e.readUInt8(t+19+s),r[o]=a}return r}(t,n,o);break;case 5:e.kernings=function(e,t,n){for(var r=[],i=n/10,o=0;o<i;o++){var a={},s=10*o;a.first=e.readUInt32LE(t+0+s),a.second=e.readUInt32LE(t+4+s),a.amount=e.readInt16LE(t+8+s),r[o]=a}return r}(t,n,o)}return 5+o}function i(e,t){for(var n=t;n<e.length&&0!==e[n];n++);return e.slice(t,n)}e.exports=function(e){if(e.length<6)throw new Error("invalid buffer length for BMFont");if(!n.every(function(t,n){return e.readUInt8(n)===t}))throw new Error("BMFont missing BMF byte header");var t=3;if(e.readUInt8(t++)>3)throw new Error("Only supports BMFont Binary v3 (BMFont App v1.10)");for(var i={kernings:[],chars:[]},o=0;o<5;o++)t+=r(i,e,t);return i}},function(e,t,n){(function(t){var r=n(1942),i=new t([66,77,70,3]);e.exports=function(e){return"string"==typeof e?"BMF"===e.substring(0,3):e.length>4&&r(e.slice(0,4),i)}}).call(t,n(71).Buffer)},function(e,t,n){var r=n(71).Buffer;e.exports=function(e,t){if(r.isBuffer(e)&&r.isBuffer(t)){if("function"==typeof e.equals)return e.equals(t);if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}}},function(e,t,n){var r=n(1944),i=n(659),o=n(1945),a=["x","e","a","o","n","s","r","c","u","m","v","w","z"],s=["m","w"],u=["H","I","N","E","F","K","L","T","U","V","W","X","Y","Z"],l="\t".charCodeAt(0),c=" ".charCodeAt(0),d=0,f=1,h=2;function p(e){this.glyphs=[],this._measure=this.computeMetrics.bind(this),this.update(e)}function m(e,t){if(!e.chars||0===e.chars.length)return null;var n=y(e.chars,t);return n>=0?e.chars[n]:null}function g(e,t,n){if(!e.kernings||0===e.kernings.length)return 0;for(var r=e.kernings,i=0;i<r.length;i++){var o=r[i];if(o.first===t&&o.second===n)return o.amount}return 0}function y(e,t,n){for(var r=n=n||0;r<e.length;r++)if(e[r].id===t)return r;return-1}e.exports=function(e){return new p(e)},p.prototype.update=function(e){if(e=i({measure:this._measure},e),this._opt=e,this._opt.tabSize=o(this._opt.tabSize,4),!e.font)throw new Error("must provide a valid bitmap font");var t=this.glyphs,n=e.text||"",s=e.font;this._setupSpaceGlyphs(s);var l=r.lines(n,e),c=e.width||0;t.length=0;var p=l.reduce(function(e,t){return Math.max(e,t.width,c)},0),m=0,v=0,b=o(e.lineHeight,s.common.lineHeight),_=s.common.base,w=b-_,k=e.letterSpacing||0,E=b*l.length-w,x=function(e){if("center"===e)return f;if("right"===e)return h;return d}(this._opt.align);v-=E,this._width=p,this._height=E,this._descender=b-_,this._baseline=_,this._xHeight=function(e){for(var t=0;t<a.length;t++){var n=a[t].charCodeAt(0),r=y(e.chars,n);if(r>=0)return e.chars[r].height}return 0}(s),this._capHeight=function(e){for(var t=0;t<u.length;t++){var n=u[t].charCodeAt(0),r=y(e.chars,n);if(r>=0)return e.chars[r].height}return 0}(s),this._lineHeight=b,this._ascender=b-w-this._xHeight;var S=this;l.forEach(function(e,r){for(var i,o=e.start,a=e.end,u=e.width,l=o;l<a;l++){var c=n.charCodeAt(l),d=S.getGlyph(s,c);if(d){i&&(m+=g(s,i.id,d.id));var y=m;x===f?y+=(p-u)/2:x===h&&(y+=p-u),t.push({position:[y,v],data:d,index:l,line:r}),m+=d.xadvance+k,i=d}}v+=b,m=0}),this._linesTotal=l.length},p.prototype._setupSpaceGlyphs=function(e){if(this._fallbackSpaceGlyph=null,this._fallbackTabGlyph=null,e.chars&&0!==e.chars.length){var t=m(e,c)||function(e){for(var t=0;t<s.length;t++){var n=s[t].charCodeAt(0),r=y(e.chars,n);if(r>=0)return e.chars[r]}return 0}(e)||e.chars[0],n=this._opt.tabSize*t.xadvance;this._fallbackSpaceGlyph=t,this._fallbackTabGlyph=i(t,{x:0,y:0,xadvance:n,id:l,xoffset:0,yoffset:0,width:0,height:0})}},p.prototype.getGlyph=function(e,t){var n=m(e,t);return n||(t===l?this._fallbackTabGlyph:t===c?this._fallbackSpaceGlyph:null)},p.prototype.computeMetrics=function(e,t,n,r){var i,o=this._opt.letterSpacing||0,a=this._opt.font,s=0,u=0,l=0;if(!a.chars||0===a.chars.length)return{start:t,end:t,width:0};n=Math.min(e.length,n);for(var c=t;c<n;c++){var d,f=e.charCodeAt(c);if(d=this.getGlyph(a,f)){d.xoffset;var h=(s+=i?g(a,i.id,d.id):0)+d.xadvance+o,p=s+d.width;if(p>=r||h>=r)break;s=h,u=p,i=d}l++}return i&&(u+=i.xoffset),{start:t,end:t+l,width:u}},["width","height","descender","ascender","xHeight","baseline","capHeight","lineHeight"].forEach(function(e){Object.defineProperty(p.prototype,e,{get:function(e){return new Function(["return function "+e+"() {","  return this._"+e,"}"].join("\n"))()}(e),configurable:!0})})},function(e,t){var n=/\n/,r="\n",i=/\s/;function o(e,t,n,r){var i=e.indexOf(t,n);return-1===i||i>r?r:i}function a(e){return i.test(e)}function s(e,t,n,r){return{start:t,end:t+Math.min(r,n-t)}}e.exports=function(t,n){return e.exports.lines(t,n).map(function(e){return t.substring(e.start,e.end)}).join("\n")},e.exports.lines=function(e,t){if(0===(t=t||{}).width&&"nowrap"!==t.mode)return[];e=e||"";var i="number"==typeof t.width?t.width:Number.MAX_VALUE,u=Math.max(0,t.start||0),l="number"==typeof t.end?t.end:e.length,c=t.mode,d=t.measure||s;return"pre"===c?function(e,t,r,i,o){for(var a=[],s=r,u=r;u<i&&u<t.length;u++){var l=t.charAt(u),c=n.test(l);if(c||u===i-1){var d=c?u:u+1,f=e(t,s,d,o);a.push(f),s=u+1}}return a}(d,e,u,l,i):function(e,t,n,i,s,u){var l=[],c=s;"nowrap"===u&&(c=Number.MAX_VALUE);for(;n<i&&n<t.length;){for(var d=o(t,r,n,i);n<d&&a(t.charAt(n));)n++;var f=e(t,n,d,c),h=n+(f.end-f.start),p=h+r.length;if(h<d){for(;h>n&&!a(t.charAt(h));)h--;if(h===n)p>n+r.length&&p--,h=p;else for(p=h;h>n&&a(t.charAt(h-r.length));)h--}if(h>=n){var m=e(t,n,h,c);l.push(m)}n=p}return l}(d,e,u,l,i,c)}},function(e,t){e.exports=function(e,t){return"number"==typeof e?e:"number"==typeof t?t:0}},function(e,t,n){var r=n(1164),i=n(1947),o=n(1165),a=[0,2,3],s=[2,1,3];e.exports=function(e,t){e&&(i(e)||o(e))||(t=e||{},e=null);for(var n="string"==typeof(t="number"==typeof t?{count:t}:t||{}).type?t.type:"uint16",u="number"==typeof t.count?t.count:1,l=t.start||0,c=!1!==t.clockwise?a:s,d=c[0],f=c[1],h=c[2],p=6*u,m=e||new(r(n))(p),g=0,y=0;g<p;g+=6,y+=4){var v=g+l;m[v+0]=y+0,m[v+1]=y+1,m[v+2]=y+2,m[v+3]=y+d,m[v+4]=y+f,m[v+5]=y+h}return m}},function(e,t){var n=Object.prototype.toString;e.exports=function(e){return e.BYTES_PER_ELEMENT&&"[object ArrayBuffer]"===n.call(e.buffer)||Array.isArray(e)}},function(e,t,n){var r=n(1949),i=!1;function o(e,t,n,o){if(t=t||[],!e||function(e,t,n){if(e.itemSize!==n)return!0;if(!e.array)return!0;var r=e.array.length;return Array.isArray(t)&&Array.isArray(t[0])?r!==t.length*n:r!==t.length}(e,t,n)){t=r(t,o);var a=e&&"function"!=typeof e.setArray;return e&&!a||(a&&!i&&(i=!0,console.warn(["A WebGL buffer is being updated with a new size or itemSize, ","however this version of ThreeJS only supports fixed-size buffers.","\nThe old buffer may still be kept in memory.\n","To avoid memory leaks, it is recommended that you dispose ","your geometries and create new ones, or update to ThreeJS r82 or newer.\n","See here for discussion:\n","https://github.com/mrdoob/three.js/pull/9631"].join(""))),e=new THREE.BufferAttribute(t,n)),e.itemSize=n,e.needsUpdate=!0,"function"==typeof e.setArray&&e.setArray(t),e}return r(t,e.array),e.needsUpdate=!0,null}e.exports.attr=function(e,t,n,r,i){"number"!=typeof r&&(r=3);"string"!=typeof i&&(i="float32");if(Array.isArray(n)&&Array.isArray(n[0])&&n[0].length!==r)throw new Error("Nested vertex array has unexpected size; expected "+r+" but found "+n[0].length);var a=o(e.getAttribute(t),n,r,i);a&&e.addAttribute(t,a)},e.exports.index=function(e,t,n,r){"number"!=typeof n&&(n=1);"string"!=typeof r&&(r="uint16");var i=!e.index&&"function"!=typeof e.setIndex,a=o(i?e.getAttribute("index"):e.index,t,n,r);a&&(i?e.addAttribute("index",a):e.index=a)}},function(e,t,n){var r=n(1164);e.exports=function(e,t,n){if(!e)throw new TypeError("must specify data as first parameter");if(n=0|+(n||0),Array.isArray(e)&&e[0]&&"number"==typeof e[0][0]){var i,o,a,s,u=e[0].length,l=e.length*u;t&&"string"!=typeof t||(t=new(r(t||"float32"))(l+n));var c=t.length-n;if(l!==c)throw new Error("source length "+l+" ("+u+"x"+e.length+") does not match destination length "+c);for(i=0,a=n;i<e.length;i++)for(o=0;o<u;o++)t[a++]=null===e[i][o]?NaN:e[i][o]}else if(t&&"string"!=typeof t)t.set(e,n);else{var d=r(t||"float32");if(Array.isArray(e)||"array"===t)for(t=new d(e.length+n),i=0,a=n,s=t.length;a<s;a++,i++)t[a]=null===e[i]?NaN:e[i];else 0===n?t=new d(e):(t=new d(e.length+n)).set(e,n)}return t}},function(e,t){e.exports.pages=function(e){var t=new Float32Array(4*e.length*1),n=0;return e.forEach(function(e){var r=e.data.page||0;t[n++]=r,t[n++]=r,t[n++]=r,t[n++]=r}),t},e.exports.uvs=function(e,t,n,r){var i=new Float32Array(4*e.length*2),o=0;return e.forEach(function(e){var a=e.data,s=a.x+a.width,u=a.y+a.height,l=a.x/t,c=a.y/n,d=s/t,f=u/n;r&&(c=(n-a.y)/n,f=(n-u)/n),i[o++]=l,i[o++]=c,i[o++]=l,i[o++]=f,i[o++]=d,i[o++]=f,i[o++]=d,i[o++]=c}),i},e.exports.positions=function(e){var t=new Float32Array(4*e.length*2),n=0;return e.forEach(function(e){var r=e.data,i=e.position[0]+r.xoffset,o=e.position[1]+r.yoffset,a=r.width,s=r.height;t[n++]=i,t[n++]=o,t[n++]=i,t[n++]=o+s,t[n++]=i+a,t[n++]=o+s,t[n++]=i+a,t[n++]=o}),t}},function(e,t){var n=2,r={min:[0,0],max:[0,0]};function i(e){var t=e.length/n;r.min[0]=e[0],r.min[1]=e[1],r.max[0]=e[0],r.max[1]=e[1];for(var i=0;i<t;i++){var o=e[i*n+0],a=e[i*n+1];r.min[0]=Math.min(o,r.min[0]),r.min[1]=Math.min(a,r.min[1]),r.max[0]=Math.max(o,r.max[0]),r.max[1]=Math.max(a,r.max[1])}}e.exports.computeBox=function(e,t){i(e),t.min.set(r.min[0],r.min[1],0),t.max.set(r.max[0],r.max[1],0)},e.exports.computeSphere=function(e,t){i(e);var n=r.min[0],o=r.min[1],a=r.max[0]-n,s=r.max[1]-o,u=Math.sqrt(a*a+s*s);t.center.set(n+a/2,o+s/2,0),t.radius=u/2}},function(e,t,n){(e.exports=n(250)()).push([e.i,".rc-slider {\n  position: relative;\n  height: 14px;\n  padding: 5px 0;\n  width: 100%;\n  border-radius: 6px;\n  -ms-touch-action: none;\n      touch-action: none;\n  box-sizing: border-box;\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n}\n.rc-slider * {\n  box-sizing: border-box;\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n}\n.rc-slider-rail {\n  position: absolute;\n  width: 100%;\n  background-color: #e9e9e9;\n  height: 4px;\n  border-radius: 6px;\n}\n.rc-slider-track {\n  position: absolute;\n  left: 0;\n  height: 4px;\n  border-radius: 6px;\n  background-color: #abe2fb;\n}\n.rc-slider-handle {\n  position: absolute;\n  margin-left: -7px;\n  margin-top: -5px;\n  width: 14px;\n  height: 14px;\n  cursor: pointer;\n  cursor: -webkit-grab;\n  cursor: grab;\n  border-radius: 50%;\n  border: solid 2px #96dbfa;\n  background-color: #fff;\n  -ms-touch-action: pan-x;\n      touch-action: pan-x;\n}\n.rc-slider-handle:focus {\n  border-color: #57c5f7;\n  box-shadow: 0 0 0 5px #96dbfa;\n  outline: none;\n}\n.rc-slider-handle-click-focused:focus {\n  border-color: #96dbfa;\n  box-shadow: unset;\n}\n.rc-slider-handle:hover {\n  border-color: #57c5f7;\n}\n.rc-slider-handle:active {\n  border-color: #57c5f7;\n  box-shadow: 0 0 5px #57c5f7;\n  cursor: -webkit-grabbing;\n  cursor: grabbing;\n}\n.rc-slider-mark {\n  position: absolute;\n  top: 18px;\n  left: 0;\n  width: 100%;\n  font-size: 12px;\n}\n.rc-slider-mark-text {\n  position: absolute;\n  display: inline-block;\n  vertical-align: middle;\n  text-align: center;\n  cursor: pointer;\n  color: #999;\n}\n.rc-slider-mark-text-active {\n  color: #666;\n}\n.rc-slider-step {\n  position: absolute;\n  width: 100%;\n  height: 4px;\n  background: transparent;\n}\n.rc-slider-dot {\n  position: absolute;\n  bottom: -2px;\n  margin-left: -4px;\n  width: 8px;\n  height: 8px;\n  border: 2px solid #e9e9e9;\n  background-color: #fff;\n  cursor: pointer;\n  border-radius: 50%;\n  vertical-align: middle;\n}\n.rc-slider-dot-active {\n  border-color: #96dbfa;\n}\n.rc-slider-disabled {\n  background-color: #e9e9e9;\n}\n.rc-slider-disabled .rc-slider-track {\n  background-color: #ccc;\n}\n.rc-slider-disabled .rc-slider-handle,\n.rc-slider-disabled .rc-slider-dot {\n  border-color: #ccc;\n  box-shadow: none;\n  background-color: #fff;\n  cursor: not-allowed;\n}\n.rc-slider-disabled .rc-slider-mark-text,\n.rc-slider-disabled .rc-slider-dot {\n  cursor: not-allowed !important;\n}\n.rc-slider-vertical {\n  width: 14px;\n  height: 100%;\n  padding: 0 5px;\n}\n.rc-slider-vertical .rc-slider-rail {\n  height: 100%;\n  width: 4px;\n}\n.rc-slider-vertical .rc-slider-track {\n  left: 5px;\n  bottom: 0;\n  width: 4px;\n}\n.rc-slider-vertical .rc-slider-handle {\n  margin-left: -5px;\n  margin-bottom: -7px;\n  -ms-touch-action: pan-y;\n      touch-action: pan-y;\n}\n.rc-slider-vertical .rc-slider-mark {\n  top: 0;\n  left: 18px;\n  height: 100%;\n}\n.rc-slider-vertical .rc-slider-step {\n  height: 100%;\n  width: 4px;\n}\n.rc-slider-vertical .rc-slider-dot {\n  left: 2px;\n  margin-bottom: -4px;\n}\n.rc-slider-vertical .rc-slider-dot:first-child {\n  margin-bottom: -4px;\n}\n.rc-slider-vertical .rc-slider-dot:last-child {\n  margin-bottom: -4px;\n}\n.rc-slider-tooltip-zoom-down-enter,\n.rc-slider-tooltip-zoom-down-appear {\n  animation-duration: .3s;\n  animation-fill-mode: both;\n  display: block !important;\n  animation-play-state: paused;\n}\n.rc-slider-tooltip-zoom-down-leave {\n  animation-duration: .3s;\n  animation-fill-mode: both;\n  display: block !important;\n  animation-play-state: paused;\n}\n.rc-slider-tooltip-zoom-down-enter.rc-slider-tooltip-zoom-down-enter-active,\n.rc-slider-tooltip-zoom-down-appear.rc-slider-tooltip-zoom-down-appear-active {\n  animation-name: rcSliderTooltipZoomDownIn;\n  animation-play-state: running;\n}\n.rc-slider-tooltip-zoom-down-leave.rc-slider-tooltip-zoom-down-leave-active {\n  animation-name: rcSliderTooltipZoomDownOut;\n  animation-play-state: running;\n}\n.rc-slider-tooltip-zoom-down-enter,\n.rc-slider-tooltip-zoom-down-appear {\n  transform: scale(0, 0);\n  animation-timing-function: cubic-bezier(0.23, 1, 0.32, 1);\n}\n.rc-slider-tooltip-zoom-down-leave {\n  animation-timing-function: cubic-bezier(0.755, 0.05, 0.855, 0.06);\n}\n@keyframes rcSliderTooltipZoomDownIn {\n  0% {\n    opacity: 0;\n    transform-origin: 50% 100%;\n    transform: scale(0, 0);\n  }\n  100% {\n    transform-origin: 50% 100%;\n    transform: scale(1, 1);\n  }\n}\n@keyframes rcSliderTooltipZoomDownOut {\n  0% {\n    transform-origin: 50% 100%;\n    transform: scale(1, 1);\n  }\n  100% {\n    opacity: 0;\n    transform-origin: 50% 100%;\n    transform: scale(0, 0);\n  }\n}\n.rc-slider-tooltip {\n  position: absolute;\n  left: -9999px;\n  top: -9999px;\n  visibility: visible;\n  box-sizing: border-box;\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n}\n.rc-slider-tooltip * {\n  box-sizing: border-box;\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n}\n.rc-slider-tooltip-hidden {\n  display: none;\n}\n.rc-slider-tooltip-placement-top {\n  padding: 4px 0 8px 0;\n}\n.rc-slider-tooltip-inner {\n  padding: 6px 2px;\n  min-width: 24px;\n  height: 24px;\n  font-size: 12px;\n  line-height: 1;\n  color: #fff;\n  text-align: center;\n  text-decoration: none;\n  background-color: #6c6c6c;\n  border-radius: 6px;\n  box-shadow: 0 0 4px #d9d9d9;\n}\n.rc-slider-tooltip-arrow {\n  position: absolute;\n  width: 0;\n  height: 0;\n  border-color: transparent;\n  border-style: solid;\n}\n.rc-slider-tooltip-placement-top .rc-slider-tooltip-arrow {\n  bottom: 4px;\n  left: 50%;\n  margin-left: -4px;\n  border-width: 4px 4px 0;\n  border-top-color: #6c6c6c;\n}\n",""])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(1),a=(r=o)&&r.__esModule?r:{default:r};var s=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={history:n.props.history},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),i(t,[{key:"componentWillReceiveProps",value:function(e){this.props!=e&&this.setState({history:e.history}),this.props=e}},{key:"onApply",value:function(e){this.props.onApply&&this.props.onApply(e)}},{key:"onDelete",value:function(e){this.props.onDelete&&this.props.onDelete(e)}},{key:"render",value:function(){var e=this,t=this.state.history;return a.default.createElement("table",{className:"tour-table-bordered table table-bordered kv-table"},a.default.createElement("thead",null,a.default.createElement("tr",null,a.default.createElement("td",null,"X"),a.default.createElement("td",null,"Y"),a.default.createElement("td",null,"Z"),a.default.createElement("td",null,"Action"))),a.default.createElement("tbody",null,Object.keys(t).map(function(n,r){return a.default.createElement("tr",{key:r},a.default.createElement("td",null,t[n].x),a.default.createElement("td",null,t[n].y),a.default.createElement("td",null,t[n].z),a.default.createElement("td",null,a.default.createElement("button",{className:"kv-button",onClick:function(){return e.onApply(t[n])}},"Apply"),a.default.createElement("button",{className:"kv-button",onClick:function(){return e.onDelete(n)}},"Delete")))})))}}]),t}();t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(1),o=s(i),a=s(n(329));function s(e){return e&&e.__esModule?e:{default:e}}n(401);var u=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={axisScale:e.reduxState.ui.axisScale},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),r(t,[{key:"componentWillReceiveProps",value:function(e){e.reduxState.ui.axisScale!=this.props.reduxState.ui.axisScale&&this.setState({axisScale:e.reduxState.ui.axisScale})}},{key:"startLayout",value:function(){this.props.actions.setLayout("TreeLayout"),_hd.showTreeLayout()}},{key:"resetLayout",value:function(){this.props.actions.setLayout("ForceLayout"),_hd.hideHD()}},{key:"onAxisScale",value:function(e){var t=this.props.actions;this.setState({axisScale:e}),t.adjustAxisScale(e),_hd.showTreeLayout()}},{key:"render",value:function(){var e=this;return o.default.createElement("div",{className:"tree-layout"},o.default.createElement("div",{className:"axis-slider-panel"},o.default.createElement("label",null,"Axis "),o.default.createElement(a.default,{onChange:function(t){return e.onAxisScale(t)},min:1,max:10,defaultValue:2,value:this.state.axisScale,step:.1})),o.default.createElement("div",{className:"button-group"},o.default.createElement("button",{className:"tour-tree-kv-button-apply kv-button",onClick:function(){return e.startLayout()}},"Apply"),o.default.createElement("button",{className:"tour-tree-kv-button-rest kv-button",onClick:function(){return e.resetLayout()}},"Reset")))}}]),t}();t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(1),o=s(i),a=s(n(329));function s(e){return e&&e.__esModule?e:{default:e}}n(401);var u=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={axisScale:e.reduxState.ui.axisScale},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),r(t,[{key:"componentWillReceiveProps",value:function(e){e.reduxState.ui.axisScale!=this.props.reduxState.ui.axisScale&&this.setState({axisScale:e.reduxState.ui.axisScale})}},{key:"startLayout",value:function(){this.props.actions.setLayout("LabelLayout"),_hd.showLabelLayout()}},{key:"resetLayout",value:function(){this.props.actions.setLayout("ForceLayout"),_hd.hideHD()}},{key:"onAxisScale",value:function(e){var t=this.props.actions;this.setState({axisScale:e}),t.adjustAxisScale(e),_hd.showLabelLayout()}},{key:"render",value:function(){var e=this;return o.default.createElement("div",{className:"tree-layout"},o.default.createElement("div",{className:"axis-slider-panel"},o.default.createElement("label",null,"Axis "),o.default.createElement(a.default,{onChange:function(t){return e.onAxisScale(t)},min:1,max:10,defaultValue:2,value:this.state.axisScale,step:.1})),o.default.createElement("div",{className:"button-group"},o.default.createElement("button",{className:"kv-button",onClick:function(){return e.startLayout()}},"Apply"),o.default.createElement("button",{className:"kv-button",onClick:function(){return e.resetLayout()}},"Reset")))}}]),t}();t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(1),o=f(i),a=f(n(1957)),s=f(n(1959)),u=f(n(1167)),l=f(n(1963)),c=f(n(1964)),d=f(n(398));function f(e){return e&&e.__esModule?e:{default:e}}var h=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),r(t,[{key:"render",value:function(){var e=this.props,t=e.actions,n=e.reduxState,r=e.config;return o.default.createElement(d.default,null,r.label.visible?o.default.createElement(a.default,{name:"Label",actions:t,reduxState:n}):null,r.relationship.visible?o.default.createElement(s.default,{name:"Relationship",actions:t,reduxState:n}):null,r.property.visible?o.default.createElement(l.default,{name:"Property",actions:t,reduxState:n}):null,r.settings.visible?o.default.createElement(u.default,{name:"Settings",actions:t,reduxState:n}):null,r.data.visible?o.default.createElement(c.default,{name:"Data",actions:t,reduxState:n}):null)}}]),t}();t.default=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(1),o=d(i),a=d(n(94)),s=d(n(51)),u=d(n(1958)),l=d(n(101)),c=d(n(106));function d(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.state={images:{},texture:s.default.instance().icon,currentLabel:null,update:!1},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),r(t,[{key:"update",value:function(){this.setState({update:!0})}},{key:"onLabelClick",value:function(e){this.setState({currentLabel:e})}},{key:"render",value:function(){var e=this,t=this.props,n=t.reduxState,r=t.actions,i=!!l.default.isShareStatus();return o.default.createElement("div",{className:"panel-content label-window "+(this.state.currentLabel?"show-config":"")},o.default.createElement("div",{className:"list labels-list"},a.default.labels.sort(function(e,t){return e.toLowerCase().localeCompare(t.toLowerCase())}).map(function(t,n){var r=c.default.instance().getLabelConfig(t);return i&&r&&!1===r.visible&&!r.isUserAction?null:o.default.createElement("div",{key:n,style:{borderColor:a.default.getColorByType(t),color:a.default.getColorByType(t)},className:"tour-kv-button kv-button label-button-group"},o.default.createElement("div",{className:"title tour-label-title label-title",onClick:function(){return e.onLabelClick(t)}},t))})),this.state.currentLabel?o.default.createElement(u.default,{reduxState:n,actions:r,labelName:this.state.currentLabel,update:function(){return e.update()}}):null)}}]),t}();t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(1),o=m(i),a=m(n(11)),s=m(n(47)),u=m(n(106)),l=n(330),c=m(n(744)),d=m(n(94)),f=m(n(51)),h=m(n(101)),p=m(n(745));function m(e){return e&&e.__esModule?e:{default:e}}var g=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state=Object.assign({showPopover:!1},u.default.instance().getLabelConfig(e.labelName)),n.props.actions.setNodePropertyByLabel(u.default.instance().getLabelConfig(e.labelName).label,u.default.instance().getLabelConfig(e.labelName).size_property),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),r(t,[{key:"componentDidMount",value:function(){this.state.label||this.loadProperties(this.props.labelName)}},{key:"componentWillReceiveProps",value:function(e){e.labelName!=this.props.labelName&&this.loadProperties(e.labelName)}},{key:"loadProperties",value:function(e){var t=this,n=u.default.instance().getLabelConfig(e),r=n.properties||{},i=f.default.instance().graph.nodeSet,o={};a.default.filter(i,function(t){return t.data.detail.type==e}).map(function(e){return e.data.detail.data}).forEach(function(e){o=Object.assign(o,e)}),a.default.forEach(o,function(e,t){o[t]=r[t]||!1}),s.default.getLabelProps(e).then(function(i){a.default.forEach(i,function(e){o[e]=r[e]||!1}),t.setState(Object.assign({label:e,caption_color:"",caption_property:"",size_property:"",icon:"",background_color:"",visible:!0},n,{properties:o}))}).catch(function(r){t.setState(Object.assign({label:e,caption_color:"",caption_property:"",size_property:"",icon:"",background_color:"",visible:!0},n,{properties:o}))})}},{key:"onSetCaption",value:function(e){var t=this;e==this.state.caption_property&&(e=""),this.setState({caption_property:e},function(){t.saveConfig()})}},{key:"onSetExcludeProperty",value:function(e,t){var n=this,r=this.state.properties;r[e]=t,this.setState({properties:r},function(){n.saveConfig()})}},{key:"saveConfig",value:function(){u.default.instance().updateLabel(this.state),s.default.setLabelConfig(this.state.label,this.state),p.default.handleGraphExclude(f.default.instance().graph)}},{key:"onChecked",value:function(e){var t=this,n=this.props.actions;this.setState({visible:e},function(){t.saveConfig()}),n.setNodesVisibleByLabel(this.props.labelName,e)}},{key:"onSetSizeProperty",value:function(e){var t=this,n=this.props.actions;e==this.state.size_property&&(e=""),this.setState({size_property:e},function(){t.saveConfig(),n.setNodePropertyByLabel(t.state.label,e)})}},{key:"onSetClickColor",value:function(e,t){var n=this,r=this.props.actions;this.setState({label:e,background_color:t,showPopover:!1},function(){n.saveConfig(),n.props.update(),r.graphDataUpdate(_app.controller.graph.visibleNodes.length),r.setNodePropertyByLabel(e,"color",new THREE.Color(t))})}},{key:"onPullLabel",value:function(){var e=this,t=this.props.actions,n=f.default.instance().graph.nodes.filter(function(t){return t.data.detail.type==e.state.label}).map(function(e){return parseInt(e.id)}).filter(function(e){return e>=0});n=a.default.uniq(n);var r=a.default.size(n)>0?"WHERE NOT ID(n) IN ["+n.join(",")+"]":"",i="match (n:`"+this.state.label+"`)  "+r+" return n limit 25";t.excuteCommand(i)}},{key:"render",value:function(){var e=this,t=!!h.default.hasShareContrl(),n=!!h.default.isShareStatus();return o.default.createElement("div",{className:"config label-config"},o.default.createElement("div",{className:"header"},o.default.createElement("div",null,o.default.createElement("button",{id:"lable-icon",className:"tour-label-icon label-icon",style:{background:this.state.background_color?this.state.background_color:d.default.getColorByType(this.state.label)},onClick:function(t){e.setState({showPopover:!e.state.showPopover})}}),this.state.showPopover?o.default.createElement(l.Popover,{placement:"right",isOpen:this.state.showPopover,target:"lable-icon",id:"popover"},o.default.createElement(l.PopoverBody,null,o.default.createElement("div",{className:"list-group"},o.default.createElement(c.default,{label:this.state.label,onClickColor:function(t,n){return e.onSetClickColor(t,n)}})))):null),o.default.createElement("div",{className:"label-name"},o.default.createElement("span",null,this.state.label)),o.default.createElement("div",{className:"tour-visible-trigger visible-trigger"},o.default.createElement("input",{type:"checkbox",checked:void 0===this.state.visible||this.state.visible,onChange:function(t){return e.onChecked(t.target.checked)}}),o.default.createElement("span",null," Visible ")),o.default.createElement("div",null,o.default.createElement("button",{className:"tour-pull-node kv-button",onClick:function(){return e.onPullLabel()}},"Pull"))),o.default.createElement("div",{className:"property-group"},o.default.createElement("table",{className:"header-fixed kv-scrollbar "+(t?"has-exclude":"")},o.default.createElement("thead",null,o.default.createElement("tr",null,o.default.createElement("td",null,"Property Name"),o.default.createElement("td",null,"As Caption"),o.default.createElement("td",null,"Node Size"),t?o.default.createElement("td",null,"Exclude"):null)),o.default.createElement("tbody",null,this.state.properties?Object.keys(this.state.properties).sort().map(function(r,i){return n&&e.state.properties[r]?null:o.default.createElement("tr",{key:i},o.default.createElement("td",null,r),o.default.createElement("td",{className:"tour-property-caption"},o.default.createElement("input",{type:"checkbox",name:'"'+r+'"',checked:r==e.state.caption_property,onChange:function(){return e.onSetCaption(r)}})),o.default.createElement("td",{className:"tour-property-size"},o.default.createElement("input",{type:"checkbox",name:'"'+r+'"',checked:r==e.state.size_property,onChange:function(t){return e.onSetSizeProperty(r,t.target.checked)}})),t?o.default.createElement("td",null,o.default.createElement("input",{type:"checkbox",name:'"'+r+'"',checked:e.state.properties[r],onChange:function(t){return e.onSetExcludeProperty(r,t.target.checked)}})):null)}):null))))}}]),t}();t.default=g},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(1),o=c(i),a=(c(n(47)),c(n(102))),s=c(n(1960)),u=c(n(101)),l=c(n(105));function c(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.state={currentRelationship:""},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),r(t,[{key:"onRelationsClick",value:function(e){var t=this.props;t.reduxState,t.actions;this.setState({currentRelationship:e})}},{key:"render",value:function(){var e=this,t=this.props,n=t.actions,r=t.reduxState,i=!!u.default.isShareStatus();return o.default.createElement("div",{className:"panel-content relationship-window  "+(this.state.currentRelationship?"show-config":"")},o.default.createElement("div",{className:"list relationships-list"},a.default.relationships.sort(function(e,t){return e.toLowerCase().localeCompare(t.toLowerCase())}).map(function(t,n){var r=l.default.instance().getRelationshipConfig(t);return i&&r&&!1===r.visible&&!r.isUserAction?null:o.default.createElement("div",{key:n,className:"title kv-button",style:{borderColor:a.default.getColorByName(t),color:a.default.getColorByName(t)},onClick:function(){return e.onRelationsClick(t)}},t)})),this.state.currentRelationship?o.default.createElement(s.default,{actions:n,reduxState:r,relationship:this.state.currentRelationship}):null)}}]),t}();t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(1),o=f(i),a=f(n(11)),s=f(n(105)),u=f(n(47)),l=f(n(51)),c=f(n(101)),d=f(n(745));function f(e){return e&&e.__esModule?e:{default:e}}var h=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),r=s.default.instance().getRelationshipConfig(e.relationship);return n.state={relationship:e.relationship,properties:void 0===r.properties?{}:r.properties,visible:void 0===r.visible||r.visible},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),r(t,[{key:"componentWillReceiveProps",value:function(e){if(e.relationship!=this.state.relationship){var t=s.default.instance().getRelationshipConfig(e.relationship);t.properties?this.setState({properties:void 0===t.properties?{}:t.properties,visible:void 0===t.visible||t.visible,relationship:e.relationship}):this.loadProperties(e.relationship)}}},{key:"loadProperties",value:function(e){var t=this,n=s.default.instance().getRelationshipConfig(e);u.default.getRelationshipProps(e).then(function(r){var i={},o=n.properties||{};r.forEach(function(e){i[e]=o[e]||!1}),t.setState({properties:Object.assign(o,i),visible:void 0===n.visible||n.visible,relationship:e})})}},{key:"onChecked",value:function(e){var t=this,n=this.props.actions;this.setState({visible:e},function(){t.cacheConfig()}),n.setRelationshipVisible(this.state.relationship,e)}},{key:"onSetExcludeProperty",value:function(e,t){var n=this,r=this.state.properties;r[e]=t,this.setState({properties:r},function(){n.cacheConfig()})}},{key:"cacheConfig",value:function(){s.default.instance().updateRelationship(this.state),u.default.setRelationshipConfig(this.state.relationship,this.state),d.default.handleGraphExclude(l.default.instance().graph)}},{key:"onPullRelationship",value:function(){var e=this,t=this.props.actions,n=l.default.instance().graph.edges.filter(function(t){return t.name==e.state.relationship}).map(function(e){return parseInt(e.properties.id)}).filter(function(e){return e>=0});n=a.default.uniq(n);var r=a.default.size(n)>0?"WHERE NOT ID(r) IN ["+n.join(",")+"]":"",i="match p=()-[r:`"+this.state.relationship+"`]->() "+r+" return p limit 25";t.excuteCommand(i)}},{key:"render",value:function(){var e=this,t=!!c.default.hasShareContrl();c.default.isShareStatus();return o.default.createElement("div",{className:"config relationship-config"},o.default.createElement("div",{className:"header"},o.default.createElement("div",{className:"label-name"},o.default.createElement("span",null,this.state.relationship)),o.default.createElement("div",{className:" visible-trigger"},o.default.createElement("input",{type:"checkbox",checked:this.state.visible,onChange:function(t){return e.onChecked(t.target.checked)}}),o.default.createElement("span",null," Visible ")),o.default.createElement("div",null,o.default.createElement("button",{className:"  kv-button",onClick:function(){return e.onPullRelationship()}},"Pull"))),Object.keys(this.state.properties).length>0&&t?o.default.createElement("div",{className:"property-group"},o.default.createElement("table",{className:"header-fixed kv-scrollbar"},o.default.createElement("thead",null,o.default.createElement("tr",null,o.default.createElement("td",null,"Property Name"),o.default.createElement("td",null,"Exclude"))),o.default.createElement("tbody",null,this.state.properties?Object.keys(this.state.properties).sort().map(function(t,n){return o.default.createElement("tr",{key:n},o.default.createElement("td",null,t),o.default.createElement("td",null,o.default.createElement("input",{type:"checkbox",name:'"'+t+'"',checked:void 0!==e.state.properties[t]&&e.state.properties[t],onChange:function(n){return e.onSetExcludeProperty(t,n.target.checked)}})))}):null))):null)}}]),t}();t.default=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(1),o=s(i),a=s(n(329));function s(e){return e&&e.__esModule?e:{default:e}}n(401);a.default.createSliderWithTooltip;var u=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),r=n.props,i=r.name,o=r.min,a=r.max,s=r.step,u=r.value;return n.state={name:i||"",min:o||0,max:a||0,value:u,step:s||0},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),r(t,[{key:"componentWillReceiveProps",value:function(e){if(e!=this.props){var t=e.name,n=e.min,r=e.max,i=e.step,o=e.value;this.setState({name:t||"",min:n||0,max:r||0,value:o,step:i||0})}this.props=e}},{key:"onAfterChange",value:function(e){this.props.onAfterChange&&this.props.onAfterChange(e)}},{key:"onSliderChange",value:function(e){this.setState({value:e}),this.props.onChange&&this.props.onChange(e)}},{key:"render",value:function(){var e=this,t=this.state,n=t.name,r=t.min,i=t.max,s=t.value,u=t.step;return o.default.createElement("div",{className:"tour-kv-range kv-range "+n},o.default.createElement(a.default,{onChange:function(t){return e.onSliderChange(t)},min:r,max:i,defaultValue:s,value:s,step:u}),o.default.createElement("div",{className:"min-max"},o.default.createElement("span",{className:"min"},r),o.default.createElement("span",{className:"max"},i)))}}]),t}();t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(1),o=l(i),a=(l(n(275)),l(n(439))),s=n(51),u=l(s);function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.state={currentIconSheetId:e.reduxState.settings.iconConfig?e.reduxState.settings.iconConfig.id:s.DefaultIconConfig.id,iconSheets:[{id:0,name:"Default",iconColumn:4,iconPath:"/public/default_icons/spritesheet.png"},{id:1,name:"Social",iconColumn:4,iconPath:"/public/default_icons/spritesheet3.png"},{id:2,name:"Charactor",iconColumn:6,iconPath:"/public/default_icons/spritesheet4.png"}]};var r=n.findIconSheetById(n.state.currentIconSheetId);return u.default.instance().icon=r?r.id:"public/default_icons/spritesheet.png",n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),r(t,[{key:"findIconSheetById",value:function(e){return this.state.iconSheets.find(function(t){return t.id==e})||s.DefaultIconConfig}},{key:"iconPath",value:function(e){var t=this.props.actions,n=u.default.instance(),r=this.state.iconSheets.find(function(t){return t.name==e});n.icon=r.iconPath,a.default.instance().iconMap={},this.setState({currentIconSheetId:r.id}),t.changeGraphIconSheet(r.id,r.iconPath,r.iconColumn)}},{key:"render",value:function(){var e=this,t=this.findIconSheetById(this.state.currentIconSheetId);return o.default.createElement("div",{className:"icon-select"},o.default.createElement("label",null,"Icon Sheet"),o.default.createElement("select",{className:"form-control",value:t.name,onChange:function(t){return e.iconPath(t.target.value)}},this.state.iconSheets.map(function(e){return o.default.createElement("option",{key:e.id,value:e.name},e.name)})))}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(1),o=l(i),a=l(n(11)),s=l(n(47)),u=l(n(51));n(461);function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={properties:[],currentPropertiesMap:[],currentProperty:""},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),r(t,[{key:"componentDidMount",value:function(){var e=this,t=u.default.instance().graph.visibleNodes,n={};a.default.forEach(t,function(e){n=Object.assign(n,e.data.detail.data)}),a.default.forEach(n,function(e,t){n[t]=!0}),s.default.getProperties().then(function(t){var r;(r=t).push.apply(r,function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(Object.keys(n))),t=a.default.uniq(t),e.setState({properties:t,currentPropertiesMap:n})}).catch(function(t){e.setState({properties:Object.keys(n),currentPropertiesMap:n})})}},{key:"onPropertyClick",value:function(e){var t=this.props.actions,n=e==this.state.currentProperty?"":e;t.tagNodeByProperty(n),this.setState({currentProperty:n})}},{key:"render",value:function(){var e=this,t=this.state,n=t.currentProperty,r=t.properties,i=t.currentPropertiesMap,a=r.sort().map(function(t){return i[t]?o.default.createElement("div",{key:t,className:"kv-button label-button-group \n                "+(i[t]?" exist":"")+"\n                "+(n==t?" active":"")},o.default.createElement("div",{className:"label-title",onClick:function(){return e.onPropertyClick(t)}},t)):null});return o.default.createElement("div",{className:"property-panel"},a.filter(function(e){return null!==e}).length>0?a:o.default.createElement("div",{className:"empty"},"Please load the data first"))}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=h(n(84)),o=n(1),a=h(o),s=h(n(10)),u=h(n(327)),l=h(n(51)),c=(n(1965),h(n(639))),d=h(n(101)),f=h(n(287));function h(e){return e&&e.__esModule?e:{default:e}}var p=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={perspectives:[]},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),r(t,[{key:"componentDidMount",value:function(){this.getAllPerspectives()}},{key:"getAllPerspectives",value:function(){var e=this;s.default.sendRequst("/api/perspectives/getWithProjectId",{projectId:d.default.getProjectId()},function(t,n){n&&0==n.status?e.setState({perspectives:n.content||[]}):console.log("Can't found the views data")})}},{key:"onExport",value:function(e){_app.controller.exportGraphXR(null,e)}},{key:"onImportClick",value:function(e){this.refs.importInput.click()}},{key:"onImport",value:function(e){_app.controller.importGraphXR(e)}},{key:"handlerUpdatePerspective",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=this.state.perspectives.filter(function(e){return e._id==t})[0]||{};s.default.sureModel("Warning","Are you sure update the view ("+n.name+") data ?",function(){e.handlerSavePerspective(n)})}},{key:"handlerSavePerspective",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(this.state.perspectives.length>=10)return s.default.showHints("Only can save 10 views on cloud.");var n=d.default.getCurrentCacheProject();i.default.waterfall([function(e){_app.controller.exportGraphXR(function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{labes:0,relationships:0};e(null,t,n)})},function(e,t,n){var r=new FormData;r.append("fname","graphXR.zip"),r.append("data",e),$.ajax({type:"POST",url:"/api/file/upload/project/perspectives",data:r,processData:!1,contentType:!1}).done(function(e){n(0==e.status?null:new Error(e.message),e.content,t)}).fail(function(e,t,r){n(new Error(r))})},function(e,r,i){var o=$('input[name="perspectiveName"]').val();""==o&&(o=(new Date).format("yy-MM-dd-hh-mm"));var a={name:t?t.name:o,graphxr:r,fileName:e,neo4jAppInfo:d.default.isNeo4jDesktopDB()?{id:n.id,name:n.name}:null};t&&(a._id=t._id),s.default.sendRequst("/api/perspectives/add",{projectId:d.default.getProjectId(),item:a},function(e,t){i(e,t)},"POST")}],function(t,n){t||0!=n.status?s.default.showHints(t.message||n.message||"Save View Failed."):e.updatePerspective(n.content)})}},{key:"handlerLoadPerspective",value:function(e){var t=this.state.perspectives,n=_.find(t,function(t){return t._id===e});n&&n.fileName?fetch(n.fileName).then(function(e){return 200===e.status||0===e.status?Promise.resolve(e.blob()):Promise.reject(new Error(e.statusText))}).then(JSZip.loadAsync).then(function(e){_app.controller._openGraphXR(e,n.fileName)},function(e){s.default.showHints("Load failed"),console.error("Load failed :",e)}):(s.default.showHints("Load failed"),console.error("Can't found the item with ID :",e))}},{key:"handlerRemovePerspective",value:function(e){var t=this,n=this.state.perspectives,r=n.filter(function(t){return t._id==e})[0]||{};s.default.sureModel("Warning","Are you sure delete the view ("+r.name+") ?",function(){_.remove(n,function(t){return t._id===e})[0],t.setState(n),s.default.sendRequst("/api/perspectives/removePerspectives",{id:e,projectUserId:d.default.getCurrentCacheProject().user},function(e,t){s.default.showHints("Delete Successful."),e&&console.error(e)},"POST")})}},{key:"updatePerspective",value:function(e){var t=this.state.perspectives;_.remove(t,function(t){return t._id===e._id}),t.push(e),t.sort(function(e,t){return new Date(e.updateTime).getTime()>new Date(t.updateTime).getTime()?1:-1}),this.setState(t)}},{key:"renderPerspectives",value:function(){var e=this,t=this.state.perspectives;if(d.default.isShareStatus())return null;var n=d.default.getCurrentCacheProject(),r=d.default.isNeo4jDesktopDB();return a.default.createElement("div",{className:"perspectives"},a.default.createElement("div",{className:"content"},a.default.createElement("div",{className:"header"},a.default.createElement("div",{className:"kinput"},a.default.createElement("input",{name:"perspectiveName",defaultValue:"",placeholder:"Enter the view name"})),a.default.createElement("button",{className:"kv-button",onClick:function(){return e.handlerSavePerspective()}},a.default.createElement("span",null," Save View "),a.default.createElement("i",{className:"fa fa-cloud-upload","aria-hidden":"true"}))),a.default.createElement("div",{className:"perspective-list"},a.default.createElement("table",{className:"table table-hover kv-table"},a.default.createElement("tbody",null,a.default.createElement("tr",{key:"title",className:"perspective-item"},a.default.createElement("td",{className:"item-title"}," View Name "),a.default.createElement("td",{className:"item-update-time"}," CreateTime  "),a.default.createElement("td",{className:"item-load"},"Load"),a.default.createElement("td",{className:"item-update"},"Update"),a.default.createElement("td",{className:"item-remove"},"Delete ")),t.map(function(t){var i=new Date(t.updateTime),o=r&&t.neo4jAppInfo&&t.neo4jAppInfo.id!==n.id,s=window.globalVariable._id===d.default.getCurrentCacheProject().user||window.globalVariable._id===t.user;return a.default.createElement("tr",{key:i.getTime()/(o?1:36e5),className:["perspective-item",r?"in-neo4j-desktop":"",o?"no-current-project-view":""].join(" ")},a.default.createElement("td",{className:"item-title"},t.name,r&&t.neo4jAppInfo?"("+t.neo4jAppInfo.name+")":""," "),a.default.createElement("td",{className:"item-update-time"},i.format("yyyy-MM-dd hh:mm:ss")," "),a.default.createElement("td",{className:"item-load"},a.default.createElement("button",{className:"btn",onClick:function(){!o&&e.handlerLoadPerspective(t._id)}},a.default.createElement("i",{className:"fa fa-cloud-download","aria-hidden":"true"}))),a.default.createElement("td",{className:"item-update"},a.default.createElement("button",{className:"btn",onClick:function(){!o&&e.handlerUpdatePerspective(t._id)}},a.default.createElement("i",{className:"fa fa-refresh","aria-hidden":"true"}))),a.default.createElement("td",{className:"item-remove "+(s?"own":"no-own")},a.default.createElement("button",{className:"btn ",onClick:function(){s&&e.handlerRemovePerspective(t._id)}},a.default.createElement("i",{className:"fa fa-trash","aria-hidden":"true"}))))}).sort(function(e,t){return e.key<t.key?1:-1}))))))}},{key:"onSaveToNeo4j",value:function(){var e=d.default.getCurrentCacheProject(),t=new c.default(e),n=l.default.instance().graph,r={nodes:[],edges:[]};r.nodes=n.nodes.map(function(e){return{id:e.id,label:e.data.detail.type,properties:e.data.detail.data}}),r.edges=n.edges.map(function(e){return{id:e.id,type:e.name,properties:e.properties,sourceId:e.sourceId,targetId:e.targetId}}),s.default.showLoading("Please wait..."),0!=r.nodes.length||0!=r.edges.length?t.saveGraphToNeo4j(r).then(function(){s.default.showHints("Save to Neo4j Successful.",s.default.showTipType.success,1800)},function(e){console.error(e),s.default.showHints("Save to Neo4j Failed.",s.default.showTipType.danger,1800)}):s.default.showHints("Save to Neo4j Failed.",s.default.showTipType.danger,1e3)}},{key:"cleanGraph",value:function(){f.default.handleToolClick.func("Clean")}},{key:"render",value:function(){var e=this,t=d.default.getCurrentCacheProject();return a.default.createElement("div",{className:"import-export-panel"},a.default.createElement("div",{className:"button-group"},a.default.createElement("button",{className:"kv-button",onClick:function(t){return e.onImportClick(t)}},a.default.createElement("span",{className:"import-label"}," Import "),a.default.createElement("i",{className:"fa fa-upload","aria-hidden":"true"})),a.default.createElement("button",{className:"kv-button",onClick:function(t){return e.onImportClick(t)}},a.default.createElement("span",{className:"tour-import-label import-label"},"Load GXRF"),a.default.createElement("input",{ref:"importInput",onChange:function(t){return e.onImport(t.target.files[0])},className:"import-input",type:"file",name:"graphxr-import-file"})),a.default.createElement("button",{className:"kv-button",onClick:function(){return e.onExport()}},a.default.createElement("span",null," Save GXRF "),a.default.createElement("i",{className:"fa fa-download","aria-hidden":"true"})),a.default.createElement("button",{className:"kv-button",onClick:function(){return e.onExport("csv")}},a.default.createElement("span",null," Save CSV "),a.default.createElement("i",{className:"fa fa-download","aria-hidden":"true"})),a.default.createElement("button",{className:"kv-button",onClick:function(){return e.cleanGraph()}},a.default.createElement("span",null," Clean Graph ")),a.default.createElement(u.default,{if:globalVariable.isManager&&t.isLocal},a.default.createElement("button",{className:"kv-button",onClick:function(){return e.onSaveToNeo4j()}},a.default.createElement("span",null," Save To Neo4j "),a.default.createElement("i",{className:"fa fa-download","aria-hidden":"true"})))),this.renderPerspectives())}}]),t}();t.default=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1966);t.Graph=r.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=class{constructor(){this.nodes=[],this.edges=[]}addNode(e){throw new Error("Method not implemented.")}addNodes(e){throw new Error("Method not implemented.")}addEdge(e){throw new Error("Method not implemented.")}addEdges(e){throw new Error("Method not implemented.")}clear(){throw new Error("Method not implemented.")}getNode(e){throw new Error("Method not implemented.")}getEdge(e){throw new Error("Method not implemented.")}removeNode(e){throw new Error("Method not implemented.")}removeEdge(e){throw new Error("Method not implemented.")}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(1),o=l(i),a=l(n(1968)),s=l(n(1969)),u=l(n(398));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),r(t,[{key:"render",value:function(){var e=this.props,t=e.actions,n=e.reduxState,r=e.config;return o.default.createElement(u.default,null,r.label.visible?o.default.createElement(a.default,{name:"Label",actions:t,reduxState:n}):null,r.relationship.visible?o.default.createElement(s.default,{name:"Relationship",actions:t,reduxState:n}):null)}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=c(n(1)),o=c(n(275)),a=c(n(747)),s=c(n(44)),u=c(n(11)),l=c(n(10));function c(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={currentLabel:"",labels:[],keyword:"",nodes:[],offset:0,pageSize:10},n.graph=null,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default),r(t,[{key:"componentDidMount",value:function(){(function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0})(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"componentDidMount",this).call(this),s.default.on("change",this.handleSelect.bind(this),"NodeTable")}},{key:"componentWillUnmount",value:function(){s.default.on("change",null,"NodeTable")}},{key:"handleSelect",value:function(){this.graph&&this.graphDataUpdate(this.graph)}},{key:"graphDataUpdate",value:function(e){this.graph=e;var t=this.getCurrentLabels(e),n=this.state.currentLabel?this.state.currentLabel:t[0],r=this.getNodesOfLabel(n,t,e);this.setState({labels:t,nodes:r,currentLabel:this.state.currentLabel?this.state.currentLabel:t[0],keyword:""})}},{key:"getCurrentLabels",value:function(e){var t=e.visibleNodes.map(function(e){return e.data.detail.type});return t=u.default.uniq(t)}},{key:"getNodesOfLabel",value:function(e,t,n){if(!n)return[];var r=u.default.sum(u.default.map(n.visibleNodes,"selected"))>0,i=n.visibleNodes.filter(function(t){return e&&t.data.detail.type==e});return r&&(i=i.filter(function(e){return e.selected})),i}},{key:"onLabelClick",value:function(e){var t=this.getNodesOfLabel(e,this.state.labels,this.graph);this.setState({nodes:t,offset:0,currentLabel:e,keyword:""})}},{key:"onPrevClick",value:function(){if(!(this.state.offset<this.state.pageSize)){var e=this.state.offset-this.state.pageSize;this.setState({offset:e})}}},{key:"onNextClick",value:function(){if(!(this.state.offset+this.state.pageSize>=this.state.nodes.length)){var e=this.state.offset+this.state.pageSize;this.setState({offset:e})}}},{key:"onNodeClick",value:function(e){this.props.actions.flyToNode(e.id)}},{key:"doSearch",value:function(e){if(e){var t=this.getNodesOfLabel(this.state.currentLabel,this.state.labels,this.graph).filter(function(t){return null!=l.default.contains(t.data.detail.data,e)});this.setState({nodes:t,offset:0,keyword:e,needHighlight:!0})}else{var n=this.getNodesOfLabel(this.state.currentLabel,this.state.labels,this.graph);this.setState({nodes:n,keyword:""})}}},{key:"genarateTab",value:function(e){var t=this,n=this;return i.default.createElement("ul",{className:"kv-ul"},e.map(function(e,r){return i.default.createElement("li",{key:r},i.default.createElement("div",{className:"kv-button "+(e==n.state.currentLabel?"active":""),onClick:function(){return t.onLabelClick(e)}},e))}))}},{key:"genarateSearch",value:function(){var e=this;return i.default.createElement("div",null,i.default.createElement("span",null,"Search"),i.default.createElement("input",{onChange:function(t){return e.doSearch(t.target.value.trim())},value:this.state.keyword}))}},{key:"genarateTable",value:function(){var e=this,t=this.state.nodes.filter(function(e){return 0!=e.alpha});if(0==t.length)return i.default.createElement("div",{className:"empty"},"No Result");var n=this.getMaxProperties(t),r=n.map(function(e,t){return i.default.createElement("td",{key:t},e)});return i.default.createElement("div",{className:" detail-table"},i.default.createElement("table",{className:"  table table-hover kv-table "},i.default.createElement("tbody",null,i.default.createElement("tr",{key:"-1"},r),t.slice(this.state.offset,this.state.offset+this.state.pageSize).map(function(t,r){return i.default.createElement("tr",{key:r,onDoubleClick:function(){return e.onNodeClick(t)}},e.getTableRow(n,t.data.detail.data))}))))}},{key:"getMaxProperties",value:function(e){var t={};return e.forEach(function(e){t=Object.assign(t,e.data.detail.data||{})}),Object.keys(t)}},{key:"getTableRow",value:function(e,t,n){var r=String(this.state.keyword);return e.map(function(e,o){var s=String(t[e]||"");if(n)return s;var u=s;return u.length>100&&u.indexOf(r)>100&&(u="... "+u.substr(u.indexOf(r)-26,200).substr(u.indexOf(" "),100)),u.length>100&&(u=u.substr(0,100)+" ..."),i.default.createElement("td",{key:o},i.default.createElement(a.default,{highlightClassName:"search-heighlight",searchWords:[r],autoEscape:!0,textToHighlight:u}))})}},{key:"exportData",value:function(){var e=this.state,t=e.currentLabel,n=e.nodes;n=n.filter(function(e){return 0!=e.alpha});var r=this.getMaxProperties(n),i=n.map(function(e){var t=e.data.detail.data;return r.map(function(e){return t[e]?'"'+String(t[e]).replace(/(\\+)?"/gi,'"')+'"':""}).join(",")}).join("\n");i='"'+r.join('","')+'"\n '+i,l.default.saveToCSVFile(i,t+"("+(new Date).format("yyyy-MM-dd")+")")}},{key:"render",value:function(){var e=this;return i.default.createElement("div",{className:"panel-content kv-scrollbar kv-table-group"},i.default.createElement("div",{className:"tab"},this.genarateTab(this.state.labels),i.default.createElement("div",{style:{clear:"both"}})),i.default.createElement("div",{className:"search kv-search"},this.genarateSearch()),i.default.createElement("div",{className:"content"},this.genarateTable(),i.default.createElement("div",{className:"button-group",style:{display:0==this.state.nodes.length?"none":""}},i.default.createElement("button",{className:"kv-button "+(this.state.offset<this.state.pageSize?"inactive":""),onClick:function(){return e.onPrevClick()}},"Prev"),i.default.createElement("button",{className:"kv-button "+(this.state.offset+this.state.pageSize>=this.state.nodes.length?"inactive":""),onClick:function(){return e.onNextClick()}},"Next"),i.default.createElement("button",{className:"kv-button",onClick:function(){return e.exportData()}},"Export"))))}}]),t}();t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=d(n(1)),o=d(n(275)),a=d(n(106)),s=d(n(44)),u=d(n(747)),l=d(n(11)),c=d(n(10));function d(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={currentRelationship:"",labels:[],keyword:"",edges:[],offset:0,pageSize:10},n.graph=null,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default),r(t,[{key:"componentDidMount",value:function(){(function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0})(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"componentDidMount",this).call(this),s.default.on("change",this.handleSelect.bind(this),"RelationshipTable")}},{key:"componentWillUnmount",value:function(){s.default.on("change",null,"RelationshipTable")}},{key:"handleSelect",value:function(){this.graph&&this.graphDataUpdate(this.graph)}},{key:"graphDataUpdate",value:function(e){this.graph=e;var t=this.getCurrentRelationships(e),n=this.state.currentRelationship?this.state.currentRelationship:t[0],r=this.getEdgesOfRelationship(n,e);this.setState({labels:t,edges:r,currentRelationship:this.state.currentRelationship?this.state.currentRelationship:t[0],keyword:""})}},{key:"getEdgesOfRelationship",value:function(e,t){var n=this.getEdgesByName(e,t);if(l.default.sum(l.default.map(t.visibleNodes,"selected"))>0){var r=t.visibleNodes.filter(function(e){return e.selected}).map(function(e){return e.id});n=n.filter(function(e){return r.find(function(t){return t==e.targetId})&&r.find(function(t){return t==e.sourceId})})}return n}},{key:"getCurrentRelationships",value:function(e){var t=e.visibleEdges.map(function(e){return e.name});return t=l.default.uniq(t)}},{key:"getEdgesByName",value:function(e,t){return t?t.visibleEdges.filter(function(t){return t.name==e}):[]}},{key:"onRelationshipClick",value:function(e){var t=this.getEdgesByName(e,this.graph);this.setState({edges:t,offset:0,currentRelationship:e,keyword:""})}},{key:"onPrevClick",value:function(){if(!(this.state.offset<this.state.pageSize)){var e=this.state.offset-this.state.pageSize;this.setState({offset:e})}}},{key:"onNextClick",value:function(){if(!(this.state.offset+this.state.pageSize>=this.state.edges.length)){var e=this.state.offset+this.state.pageSize;this.setState({offset:e})}}},{key:"doSearch",value:function(e){var t=[];if(!e)return t=this.getEdgesByName(this.state.currentRelationship,this.graph),void this.setState({edges:t,keyword:""});t=this.state.edges.filter(function(t){return null!=c.default.contains(t.properties,e)}),this.setState({edges:t,offset:0,keyword:e})}},{key:"genarateTab",value:function(e){var t=this,n=this;return i.default.createElement("ul",{className:"kv-ul"},e.map(function(e,r){return i.default.createElement("li",{key:r},i.default.createElement("div",{className:"kv-button "+(e==n.state.currentRelationship?"active":""),onClick:function(){return t.onRelationshipClick(e)}},e))}))}},{key:"genarateSearch",value:function(){var e=this;return i.default.createElement("div",null,i.default.createElement("span",null,"Search"),i.default.createElement("input",{onChange:function(t){return e.doSearch(t.target.value.trim())},value:this.state.keyword}))}},{key:"flyTo",value:function(e){this.props.actions.flyToNode(e)}},{key:"genarateTable",value:function(){var e=this;if(0==this.state.edges.length)return i.default.createElement("div",{className:"empty"},"No Result");var t=this.getMaxProperties(this.state.edges),n=t.map(function(e,t){return i.default.createElement("td",{key:t},e)});return i.default.createElement("div",{className:"detail-table"},i.default.createElement("table",{className:"table table-hover kv-table "},i.default.createElement("tbody",null,i.default.createElement("tr",{key:"-1"},i.default.createElement("td",null,"source"),i.default.createElement("td",null,"target"),n),this.state.edges.slice(this.state.offset,this.state.offset+this.state.pageSize).map(function(n,r){var o=n.source,s=n.target,u=a.default.instance().getLabelConfig(o.data.detail.type).caption_property,l=a.default.instance().getLabelConfig(s.data.detail.type).caption_property,c=u&&o.data.detail.data[u]?u+":"+o.data.detail.data[u]:"id:"+n.sourceId,d=l&&s.data.detail.data[l]?l+":"+s.data.detail.data[l]:"id:"+n.targetId;return i.default.createElement("tr",{key:r},i.default.createElement("td",{onClick:function(){return e.flyTo(n.sourceId)}},c),i.default.createElement("td",{onClick:function(){return e.flyTo(n.targetId)}},d),e.getTableRow(t,n.properties))}))))}},{key:"getMaxProperties",value:function(e){var t=[];return e.forEach(function(e){var n=Object.keys(e.properties);t=t.concat(n)}),t=l.default.uniq(t),l.default.remove(t,function(e){return"id"==e}),t}},{key:"getTableRow",value:function(e,t,n){var r=String(this.state.keyword);return e.map(function(e,o){var a=String(t[e]||"");return n?a||void 0:(a.length>100&&a.indexOf(r)>100&&(a="... "+a.substr(a.indexOf(r)-26,200).substr(a.indexOf(" "),100)),a.length>100&&(a=a.substr(0,100)+" ..."),i.default.createElement("td",{key:o},i.default.createElement(u.default,{highlightClassName:"search-heighlight",searchWords:[r],autoEscape:!0,textToHighlight:a})))})}},{key:"exportData",value:function(){var e=this,t=["source","target"].concat(this.getMaxProperties(this.state.edges)),n="",r=[];t.forEach(function(e){n=n+'"'+e+'",'}),n=n.slice(0,-1),this.state.edges.forEach(function(n){var i=n.source,o=n.target,s=a.default.instance().getLabelConfig(i.data.detail.type).caption_property,u=a.default.instance().getLabelConfig(o.data.detail.type).caption_property,l=s&&i.data.detail.data[s]?s+":"+i.data.detail.data[s]:"id:"+n.sourceId,c=u&&o.data.detail.data[u]?u+":"+o.data.detail.data[u]:"id:"+n.targetId;r.push([l,c].concat(e.getTableRow(t.slice(2),n.properties,!0)))}),r&&r.length>0&&r.forEach(function(e){e.forEach(function(e,t){n+=0==t?'\t\n"'+e+'"':',"'+e+'"'},this)},this),c.default.saveToCSVFile(n,this.state.currentRelationship+"("+(new Date).format("yyyy-MM-dd")+")")}},{key:"render",value:function(){var e=this;return i.default.createElement("div",{className:"panel-content relationship-table kv-scrollbar kv-table-group"},i.default.createElement("div",{className:"tab"},this.genarateTab(this.state.labels),i.default.createElement("div",{style:{clear:"both"}})),i.default.createElement("div",{className:"search kv-search"},this.genarateSearch()),i.default.createElement("div",{className:"content"},this.genarateTable(),i.default.createElement("div",{className:"button-group",style:{display:0==this.state.edges.length?"none":""}},i.default.createElement("button",{className:"kv-button "+(this.state.offset<this.state.pageSize?"inactive":""),onClick:function(){return e.onPrevClick()}},"Prev"),i.default.createElement("button",{className:"kv-button "+(this.state.offset+this.state.pageSize>=this.state.edges.length?"inactive":""),onClick:function(){return e.onNextClick()}},"Next"),i.default.createElement("button",{className:"kv-button",onClick:function(){return e.exportData()}},"Export"))))}}]),t}();t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(1),o=p(i),a=p(n(398)),s=p(n(1971)),u=p(n(1972)),l=p(n(1973)),c=p(n(1974)),d=p(n(1975)),f=p(n(1976)),h=p(n(1977));function p(e){return e&&e.__esModule?e:{default:e}}var m=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),r(t,[{key:"render",value:function(){var e=this.props,t=e.actions,n=e.reduxState,r=e.config;return o.default.createElement(a.default,null,r.formula&&r.formula.visible?o.default.createElement(l.default,{name:"(x)",actions:t,reduxState:n}):null,r.yield&&r.yield.visible?o.default.createElement(d.default,{name:"Yield",actions:t,reduxState:n}):null,r.merge&&r.merge.visible?o.default.createElement(f.default,{name:"Merge",actions:t,reduxState:n}):null,r.aggregate&&r.aggregate.visible?o.default.createElement(s.default,{name:"Aggregate",actions:t,reduxState:n}):null,r.link&&r.link.visible?o.default.createElement(c.default,{name:"Link",actions:t,reduxState:n}):null,r.shortCut&&r.shortCut.visible?o.default.createElement(h.default,{name:"ShortCut",actions:t,reduxState:n}):null,r.connector&&r.connector.visible?o.default.createElement(u.default,{name:"Connector",actions:t,reduxState:n}):null)}}]),t}();t.default=m},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_react=__webpack_require__(1),_react2=_interopRequireDefault(_react),_requestData=__webpack_require__(47),_requestData2=_interopRequireDefault(_requestData),_GraphSDK=__webpack_require__(51),_GraphSDK2=_interopRequireDefault(_GraphSDK),_NodesSelectManager=__webpack_require__(44),_NodesSelectManager2=_interopRequireDefault(_NodesSelectManager),_RelationshipColor=__webpack_require__(102),_RelationshipColor2=_interopRequireDefault(_RelationshipColor);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var Aggregate=function(_Component){function Aggregate(e){_classCallCheck(this,Aggregate);var t=_possibleConstructorReturn(this,(Aggregate.__proto__||Object.getPrototypeOf(Aggregate)).call(this,e)),n={custom:"(nodePropValue,neighborPropValues) => nodePropValue","take first":"(nodePropValue,neighborPropValues) => _.size(neighborPropValues) > 0 ? neighborPropValues[0] : null",count:"(nodePropValue,neighborPropValues) => _.size(neighborPropValues)",sum:"(nodePropValue,neighborPropValues) => _.sumBy(neighborPropValues,d => Number(d) || 0) ",range:"(nodePropValue,neighborPropValues) => `${_.maxBy(neighborPropValues, d => Number(d) || 0)} - ${_.minBy(neighborPropValues, d => Number(d) || 0)}`",max:"(nodePropValue,neighborPropValues) =>  _.maxBy(neighborPropValues, d => Number(d) || 0) ",min:"(nodePropValue,neighborPropValues) =>  _.minBy(neighborPropValues, d => Number(d) || 0) "};return t.state={meta:{},operations:n,currentOperation:n.custom,currentLabel:null,currentProp:null,relationships:{},currentNeighborProp:null,currentRelationship:null,logs:[]},t}return _inherits(Aggregate,_Component),_createClass(Aggregate,[{key:"componentDidMount",value:function(){this.updateCurrentLabelAndProps(),_NodesSelectManager2.default.on("change",this.updateCurrentLabelAndProps.bind(this),"Aggregate")}},{key:"componentWillUnmount",value:function(){_NodesSelectManager2.default.on("change",null,"Aggregate")}},{key:"updateCurrentLabelAndProps",value:function(){var e=this,t=this.state,n=t.currentLabel,r=(t.currentProps,this.getMeta()),i=Object.keys(r);n&&r[n]?this.setState({meta:r||{}},function(){e.updateRelationShipsAndNeiborProps(!0)}):this.setState({meta:r||{},currentLabel:i.length>0?i[0]:null,currentProp:i.length>0&&Object.keys(r[i[0]].props)[0]||null},function(){e.updateRelationShipsAndNeiborProps(!0)})}},{key:"getMeta",value:function(){var e=_GraphSDK2.default.instance().graph,t=e.layoutNodes.filter(function(e){return e.selected});0===t.length&&(t=e.layoutNodes);var n={};return t.forEach(function(e){var t=e.data.detail;n[t.type]||(n[t.type]={name:t.type,props:Object.assign({},t.data)}),n[t.type].props=Object.assign(n[t.type].props||{},t.data)}),n||{}}},{key:"updateRelationShipsAndNeiborProps",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.state.relationships;_GraphSDK2.default.instance().graph.layoutEdges.filter(function(e){return e.source.selected||e.target.selected}).forEach(function(e){t[e.name]||(t[e.name]={name:e.name,props:{},nodeIdMap:{}}),e.source.selected&&(t[e.name].props=Object.assign(t[e.name].props,e.target.data.detail.data),t[e.name].nodeIdMap[e.target.id]=e.target.id),e.target.selected&&(t[e.name].props=Object.assign(t[e.name].props,e.source.data.detail.data),t[e.name].nodeIdMap[e.source.id]=e.source.id)}),this.state.relationships=t;var n=Object.keys(t)[0]||null;this.state.currentRelationship=n,e&&this.setState({relationships:t,currentRelationship:n,currentNeighborProp:t&&t[n]&&Object.keys(t[n].props)[0]||null})}},{key:"handleLabelChange",value:function(e){var t=this,n=this.state.meta;n[e.target.value]&&this.setState({currentLabel:e.target.value,currentProp:Object.keys(n[e.target.value].props)[0]||null},function(){t.updateCurrentLabelAndProps(!0)})}},{key:"handleLabelPropsChange",value:function(e){this.setState({currentProp:e.target.value})}},{key:"handleRelationshipChange",value:function(e){var t=this.state,n=(t.currentLabel,t.relationships);t.currentRelationship;n[e.target.value]&&this.setState({currentRelationship:e.target.value,currentNeighborProp:Object.keys(n[e.target.value].props)[0]||null})}},{key:"handleNeighborPropChange",value:function(e){this.state.currentNeighborProp;this.setState({currentNeighborProp:e.target.value})}},{key:"handleRun",value:function(){var e=this,t=this.state.currentLabel,n=_GraphSDK2.default.instance().graph,r=n.layoutNodes.filter(function(e){return e.selected});if(0===r.length&&(r=n.layoutNodes),0==(r=r.filter(function(e){return e.data.detail.type===t})).length)return this.addLog("Please select at least one node",!0);this._start=!0,this.addLog("Start Convert"),r.forEach(function(t,n){e.runTasksData(t,taskNodes.length-(n-1))})}},{key:"runTasksData",value:function runTasksData(node,tasksLeaveLength){if(this._start&&0!=tasksLeaveLength){this.addLog(" Leave convert "+tasksLeaveLength,!0,tasksLeaveLength);var _state3=this.state,currentProp=_state3.currentProp,currentNeighborProp=_state3.currentNeighborProp,currentOperation=_state3.currentOperation,currentRelationship=_state3.currentRelationship,currentData=node.data.detail.data,neighborPropValues=_GraphSDK2.default.instance().graph.layoutEdges.filter(function(e){return e.name===currentRelationship}).filter(function(e){return e.source.id==node.id||e.target.id==node.id}).map(function(e){return e.source.id==node.id?e.target.data.detail.data[currentNeighborProp]:e.source.data.detail.data[currentNeighborProp]});try{var newVal=eval(currentOperation)(currentData[currentProp],neighborPropValues);this.addLog(" Leave "+tasksLeaveLength+" [ "+currentData[currentProp]+" >> "+newVal+" ] ",!0,tasksLeaveLength),currentData[currentProp]=newVal}catch(e){this.addLog(" Error >> "+e.message+", Leave "+tasksLeaveLength+" ",!0,tasksLeaveLength)}this.addLog("Leave "+tasksLeaveLength,!0,tasksLeaveLength)}else this.addLog((0==tasksLeaveLength?"Finished":"Stop")+" Convert",!0)}},{key:"addLog",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=this.state.logs,i=n<2||n<1e3||n%100==99||n%1e3==999;i&&r.push("["+(new Date).format("hh:mm:ss")+"] "+e+" "),t&&i&&(r=r.length>10?r.slice(r.length-10,r.length):r,this.setState({logs:r}))}},{key:"render",value:function(){var e=this,t=this.props,n=(t.actions,t.config,this.state),r=n.meta,i=n.logs,o=n.currentLabel,a=n.currentProp,s=n.relationships,u=n.currentNeighborProp,l=n.currentRelationship,c=n.operations,d=n.currentOperation;return _react2.default.createElement("div",{className:"c-absorb"},_react2.default.createElement("div",{className:"form-inline"},0!=_.size(r)&&o?_react2.default.createElement("div",{className:"col-sm-6 form-group ignore-left-padding"},_react2.default.createElement("label",{className:"col-sm-5 col-form-label"},"Label :"),_react2.default.createElement("div",{className:"col-sm-5"},_react2.default.createElement("select",{className:"form-control",value:o,onChange:function(t){return e.handleLabelChange(t)}},_.map(r,function(e){return _react2.default.createElement("option",{key:e.name,value:e.name},e.name)})))):null,r[o]&&r[o].props&&a?_react2.default.createElement("div",{className:"col-sm-6 form-group "},_react2.default.createElement("label",{className:"col-sm-5 col-form-label"}," New Prop:"),_react2.default.createElement("div",{className:"col-sm-5"},_react2.default.createElement("select",{className:"form-control",value:a,onChange:function(t){return e.handleLabelPropsChange(t)}},_.map(r[o].props,function(e,t){return _react2.default.createElement("option",{key:t,value:t},t)})),_react2.default.createElement("br",null),_react2.default.createElement("input",{type:"text",className:"form-control",value:a,onChange:function(t){e.setState({currentProp:t.target.value})}}))):null),_react2.default.createElement("div",{className:"form-inline"},0!=_.size(s)&&l?_react2.default.createElement("div",{className:"col-sm-6 form-group ignore-left-padding"},_react2.default.createElement("label",{className:"col-sm-5 col-form-label"},"Relationship:"),_react2.default.createElement("div",{className:"col-sm-5"},_react2.default.createElement("select",{className:"form-control",value:l,onChange:function(t){return e.handleRelationshipChange(t)}},_.map(s,function(e,t){return _react2.default.createElement("option",{key:e.name,value:e.name},e.name)})))):null,s[l]&&0!==!_.size(s[l].props)&&u?_react2.default.createElement("div",{className:"col-sm-6 form-group"},_react2.default.createElement("label",{className:"col-sm-5 col-form-label"},"Neighbor Prop:"),_react2.default.createElement("div",{className:"col-sm-5"},_react2.default.createElement("select",{className:"form-control",value:u,onChange:function(t){return e.handleNeighborPropChange(t)}},_.map(s[l].props,function(e,t){return _react2.default.createElement("option",{key:t,value:t},t)})))):null),_react2.default.createElement("div",{className:"form-inline"},_react2.default.createElement("div",{className:" col-sm-12 form-group justify-content-start"},_react2.default.createElement("label",{className:" col-sm-3 col-form-label"},"Operation:"),_react2.default.createElement("div",{className:"col-sm-9 form-group"},_react2.default.createElement("select",{name:"operation",value:d,onChange:function(t){e.setState({currentOperation:t.target.value})}},_.map(c,function(e,t){return _react2.default.createElement("option",{key:t,value:e},t)})),_react2.default.createElement("textarea",{value:d,className:"form-control",rows:"3",onChange:function(t){e.setState({currentOperation:t.target.value})}})))),_react2.default.createElement("div",{className:"bottom-acitons"},_react2.default.createElement("div",{className:"btn btn-dark kv-button action-run",onClick:function(){e.handleRun()}},"Run")),_react2.default.createElement("div",{className:"logs"},i.map(function(e,t){return _react2.default.createElement("div",{className:"log-item",key:e+"-"+t}," ",e," ")})))}}]),Aggregate}(_react.Component);exports.default=Aggregate},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(1),o=f(i),a=f(n(11)),s=f(n(10)),u=n(463),l=(f(n(47)),f(n(51))),c=f(n(44)),d=f(n(102));function f(e){return e&&e.__esModule?e:{default:e}}var h=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={connectors:[{name:"IP => Geo",func:n.convertIPToGeo.bind(n),check:function(e,t){return Math.abs(e)<=180&&Math.abs(t)<=90}},{name:"Adress => Geo",func:n.convertAddressToGeo.bind(n),check:function(e,t){return Math.abs(e)<=180&&Math.abs(t)<=90}}],currentIndex:0,currentLabel:null,currentProp:null,newPropName:null,isSkipFinishData:!0,isOverWrite:!0,isNewNode:!1,newNodeName:"Geo",newRelationshipName:"Connector",logs:[],meta:{}},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),r(t,[{key:"componentDidMount",value:function(){this.updateCurrentLabelAndProps(),c.default.on("change",this.updateCurrentLabelAndProps.bind(this),"Connector")}},{key:"componentWillUnmount",value:function(){c.default.on("change",null,"Connector")}},{key:"updateCurrentLabelAndProps",value:function(){var e=this.state,t=e.currentLabel,n=(e.currentProp,this.getMeta()),r=Object.keys(n);t&&n[t]?this.setState({meta:n||{}}):this.setState({meta:n||{},currentLabel:r.length>0?r[0]:null,currentProp:r.length>0&&Object.keys(n[r[0]].props)[0]||null})}},{key:"getMeta",value:function(){var e={};return l.default.instance().graph.layoutNodes.filter(function(e){return e.selected}).forEach(function(t){var n=t.data.detail;e[n.type]||(e[n.type]={name:n.type,props:Object.assign({},n.data)}),e[n.type].props=Object.assign(e[n.type].props||{},n.data)}),e||{}}},{key:"convertIPToGeo",value:function(e,t){return/\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}/gi.test(e)||/^[a-f0-9:]+$/gi.test(e)?new Promise(function(t,n){s.default.sendRequst("/api/proxy/api?url=https://iplocation.com",{ip:e},function(e,n){t({lng:(n=n||{}).lng||0,lat:n.lat||0})},"POST",!0,!0)}):Promise.resolve({lng:0,lat:0})}},{key:"convertAddressToGeo",value:function(e){return"string"!=typeof e?Promise.resolve({lng:0,lat:0}):new Promise(function(t,n){s.default.sendRequst("/api/proxy/api?url=https://api.mapbox.com/geocoding/v5/mapbox.places/"+encodeURI(e)+".json?access_token="+u.MapBoxAccessToken,{},function(e,n){var r=n&&n.features&&n.features.length>0?n.features[0].center:[0,0];t({lng:r[0],lat:r[1]})},"GET",!0,!0)})}},{key:"handleChange",value:function(e){var t=this.state.connectors.findIndex(function(t){return t.name===e.target.value})||0;this.setState({currentIndex:t})}},{key:"handleLabelChange",value:function(e){var t=this.state.meta;t[e.target.value]&&this.setState({currentLabel:e.target.value,currentProp:Object.keys(t[e.target.value].props)[0]||null})}},{key:"handleLabelPropsChange",value:function(e){this.setState({currentProp:e.target.value})}},{key:"handleRun",value:function(){var e=this.state.currentLabel,t=l.default.instance().graph.layoutNodes.filter(function(e){return e.selected}).filter(function(t){return t.data.detail.type===e});if(0==t.length)return this.addLog("Please select at least one node",!0);t.length>50&&s.default.showHints("We currently support pulling 50 nodes at once.",null,1800),this._start=!0,this.addLog("Start Convert"),this.runTasksData(t,0,50)}},{key:"runTasksData",value:function(e,t,n){var r=this;if(this._start&&0!=e.length){this.addLog(" Converted "+t);var i=this.state,o=i.connectors,a=i.currentIndex,s=i.currentProp,u=i.isOverWrite,l=i.isSkipFinishData,c=i.isNewNode,d=o[a],f=e.pop(),h=f.data.detail.data,p=this.refs.lng.value,m=this.refs.lat.value;d.check(h[p],h[m])&&u&&l?this.runTasksData(e,t,n):d.func.call(this,h[s]).then(function(i){c?r.handleAddNewNode(i,f,0==e.length):(h[p]=i.lng,h[m]=i.lat),r.addLog(" Pulling "+e.length+" ["+h[s]+" >> "+JSON.stringify(i)+" ] ",!0),t<n-1&&r.runTasksData(e,t+1,n)})}else this.addLog((0==e.length?"Finished":"Stop")+" Convert",!0)}},{key:"addLog",value:function(e,t){var n=this.state.logs;n.push("["+(new Date).format("hh:mm:ss")+"] "+e+" "),t&&(n=n.length>10?n.slice(n.length-10,n.length):n,this.setState({logs:n}))}},{key:"handleAddNewNode",value:function(e,t,n){var r,i,o,s=this.state,u=s.newNodeName,c=s.newRelationshipName,f=s.currentProp,h=_app.controller.graphController.getOrAddANodeToGraph({data:e,type:u,uid:a.default.map(e,function(e){return e}).join("_")},!1,t.position.clone()),p=l.default.instance().graph.addEdge(t,h);p.name=String(c),p.properties=(r={id:parseInt(1e16*Math.random())},i=f,o=t.data.detail.data[f],i in r?Object.defineProperty(r,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[i]=o,r),p.color=new THREE.Color(d.default.getColorByName(c)),n&&_app.controller.drawing.forceStartLayout()}},{key:"handleStop",value:function(){this._start=!1}},{key:"render",value:function(){var e=this,t=this.props,n=(t.actions,t.config,this.state),r=n.meta,i=n.connectors,s=n.logs,u=n.currentIndex,l=n.currentLabel,c=n.currentProp,d=n.isOverWrite,f=n.isSkipFinishData,h=n.isNewNode,p=n.newNodeName,m=n.newRelationshipName,g=i[u];return o.default.createElement("div",{className:"c-connector"},o.default.createElement("div",{className:"form-group"},o.default.createElement("select",{className:"form-control",value:g.name,onChange:function(t){return e.handleChange(t)}},i.map(function(e){return o.default.createElement("option",{key:e.name,value:e.name},e.name)}))),o.default.createElement("div",{className:"form-inline"},0!=a.default.size(r)&&l?o.default.createElement("div",{className:"col-sm-6 form-group ignore-left-padding"},o.default.createElement("label",{className:"col-sm-5 col-form-label"},"Label :"),o.default.createElement("div",{className:"col-sm-5"},o.default.createElement("select",{className:"form-control",value:l,onChange:function(t){return e.handleLabelChange(t)}},a.default.map(r,function(e){return o.default.createElement("option",{key:e.name,value:e.name},e.name)})))):null,r[l]&&r[l].props&&c?o.default.createElement("div",{className:"col-sm-6 form-group "},o.default.createElement("label",{className:"col-sm-5 col-form-label"},"Prop :"),o.default.createElement("div",{className:"col-sm-5"},o.default.createElement("select",{className:"form-control",value:c,onChange:function(t){return e.handleLabelPropsChange(t)}},a.default.map(r[l].props,function(e,t){return o.default.createElement("option",{key:t,value:t},t)})))):null),o.default.createElement("div",{className:"form-inline "},o.default.createElement("label",{className:"col-sm-2 col-form-label"},"New Props :"),o.default.createElement("div",{className:"col-sm-10"},o.default.createElement("input",{className:"form-control col-sm-5  ",ref:"lng",type:"text",name:"lng",defaultValue:"lng"}),o.default.createElement("input",{className:"form-control offset-sm-2 col-sm-5",ref:"lat",type:"text",name:"lat",defaultValue:"lat"}))),h?o.default.createElement("div",{className:"form-inline "},o.default.createElement("div",{className:"col-sm-6 form-group ignore-left-padding"},o.default.createElement("label",{className:"col-sm-5 col-form-label"},"New Node :"),o.default.createElement("div",{className:"col-sm-5"},o.default.createElement("input",{className:"form-control",type:"text",name:"node",value:p,onChange:function(t){return e.setState({newNodeName:t.target.value})}}))),o.default.createElement("div",{className:"col-sm-6 form-group"},o.default.createElement("label",{className:"col-sm-5 col-form-label"},"New Rel:"),o.default.createElement("div",{className:"col-sm-5"},o.default.createElement("input",{className:"form-control",ref:"relationship",type:"text",name:"relationship",value:m,onChange:function(t){return e.setState({newRelationshipName:t.target.value})}})))):null,o.default.createElement("div",{className:"form-inline "},o.default.createElement("div",{className:"col-sm-2"},o.default.createElement("input",{type:"checkbox",checked:h,onChange:function(t){e.setState({isNewNode:!h})}})),o.default.createElement("label",{className:"col-sm-10 col-form-label"}," Create New Node")),o.default.createElement("div",{className:"form-inline "},o.default.createElement("div",{className:"col-sm-2"},o.default.createElement("input",{type:"checkbox",checked:f,onChange:function(t){e.setState({isSkipFinishData:!f})}})),o.default.createElement("label",{className:"col-sm-10 col-form-label"}," Skip Finished data")),o.default.createElement("div",{className:"form-inline"},o.default.createElement("div",{className:"col-sm-2"},o.default.createElement("input",{type:"checkbox",checked:d,onChange:function(t){e.setState({isOverWrite:!d})}})),o.default.createElement("label",{className:"col-sm-10 col-form-label"}," Overwrite existing Data")),o.default.createElement("div",{className:"bottom-acitons"},o.default.createElement("div",{className:"btn btn-dark kv-button action-run",onClick:function(){e.handleRun()}},"Run"),o.default.createElement("div",{className:"btn btn-dark kv-button action-stop",onClick:function(){e.handleStop()}},"Stop")),o.default.createElement("div",{className:"logs"},s.map(function(e,t){return o.default.createElement("div",{className:"log-item",key:e+"-"+t}," ",e," ")})))}}]),t}();t.default=h},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_react=__webpack_require__(1),_react2=_interopRequireDefault(_react),_requestData=__webpack_require__(47),_requestData2=_interopRequireDefault(_requestData),_GraphSDK=__webpack_require__(51),_GraphSDK2=_interopRequireDefault(_GraphSDK),_NodesSelectManager=__webpack_require__(44),_NodesSelectManager2=_interopRequireDefault(_NodesSelectManager);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var Formula=function(_Component){function Formula(e){_classCallCheck(this,Formula);var t=_possibleConstructorReturn(this,(Formula.__proto__||Object.getPrototypeOf(Formula)).call(this,e));return t.state={formats:{toCustom:"(d,props) => d",toNumber:"(d,props) => Number(d) || 0",toString:"(d,props) => String(d) ",toDate:"(d,props) => new Date(d).getTime() ? ( new Date(d) : new Date('1970-01-01')).format(\"yyyy-MM-dd hh:mm:ss\")",fullName:"(d,props) => !props['firstName'] ? d :  `${props['firstName']}-${props['lastName']}`"},meta:{},currentLabel:null,currentProps:{},logs:[]},t}return _inherits(Formula,_Component),_createClass(Formula,[{key:"componentDidMount",value:function(){this.updateCurrentLabelAndProps(),_NodesSelectManager2.default.on("change",this.updateCurrentLabelAndProps.bind(this),"Formula")}},{key:"componentWillUnmount",value:function(){_NodesSelectManager2.default.on("change",null,"Formula")}},{key:"updateCurrentLabelAndProps",value:function(){var e=this.state,t=e.currentLabel,n=(e.currentProps,this.getMeta()),r=Object.keys(n);t&&n[t]?this.setState({meta:n||{}}):this.setState({meta:n||{},currentLabel:r.length>0?r[0]:null,currentProps:{}})}},{key:"getMeta",value:function(){var e=_GraphSDK2.default.instance().graph,t=e.layoutNodes.filter(function(e){return e.selected});0===t.length&&(t=e.layoutNodes);var n={};return t.forEach(function(e){var t=e.data.detail;n[t.type]||(n[t.type]={name:t.type,props:Object.assign({},t.data)}),n[t.type].props=Object.assign(n[t.type].props||{},t.data)}),n||{}}},{key:"handleLabelChange",value:function(e){this.state.meta[e.target.value]&&this.setState({currentLabel:e.target.value})}},{key:"handleRemove",value:function(e){var t=this.state.currentProps;t[e]&&(delete t[e],this.setState({currentProps:t||{}}))}},{key:"handleADD",value:function(e){var t=this.state,n=t.currentProps,r=t.formats,i=this.refs.selectProp.value;!n[i]&&String(i).trim().length>0&&(n[i]={inputKey:i,outputKey:i,formula:r.toCustom},this.setState({currentProps:n},function(){document.getElementsByClassName("kv-scrollbar")[0].scrollTop=document.getElementsByClassName("kv-scrollbar")[0].scrollHeight+100}))}},{key:"handleRun",value:function(e){var t=this,n=this.state.currentLabel,r=_GraphSDK2.default.instance().graph,i=r.layoutNodes.filter(function(e){return e.selected});if(0===i.length&&(i=r.layoutNodes),0==(i=i.filter(function(e){return e.data.detail.type===n})).length)return this.addLog("Please select at least one node",!0);this._start=!0,this.addLog("Start Convert"),i.forEach(function(n,r){t.runTasksData(n,e,i.length-r-1)}),this.addLog("Finished convert "+i.length,!0)}},{key:"runTasksData",value:function runTasksData(node,isTest,tasksLength){var _this3=this,_state3=this.state,connectors=_state3.connectors,currentProps=_state3.currentProps,currentData=node.data.detail.data;_.map(currentProps,function(item,propName){try{var newVal=eval(item.formula)(currentData[propName],currentData);_this3.addLog(" Leave "+tasksLength+" [ "+currentData[propName]+" >> "+newVal+" ] ",!0,tasksLength),currentData[item.outputKey]=newVal}catch(e){_this3.addLog(" Error >> "+e.message+", Leave "+tasksLength+" ",!0,tasksLength)}})}},{key:"addLog",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=this.state.logs,i=n<2||n<1e3||n%100==99||n%1e3==999;i&&r.push("["+(new Date).format("hh:mm:ss")+"] "+e+" "),t&&i&&(r=r.length>10?r.slice(r.length-10,r.length):r,this.setState({logs:r}))}},{key:"renderProps",value:function(){var e=this,t=this.state,n=t.meta,r=t.currentLabel,i=t.currentProps,o=t.formats;return r&&n[r]&&n[r].props?_react2.default.createElement("table",{className:"table table-dark"},_react2.default.createElement("thead",null,_react2.default.createElement("tr",null,_react2.default.createElement("td",null,"Input prop"),_react2.default.createElement("td",null,"Output prop"),_react2.default.createElement("td",null,"Formula"),_react2.default.createElement("td",null,"Action"))),_react2.default.createElement("tbody",null,_.map(i,function(t,n){return _react2.default.createElement("tr",{key:n},_react2.default.createElement("td",null,t.inputKey),_react2.default.createElement("td",null,_react2.default.createElement("input",{type:"text",name:"Output",value:t.outputKey,onChange:function(t){i[n].outputKey=t.target.value,e.setState({currentProps:i})}})),_react2.default.createElement("td",null,_react2.default.createElement("select",{name:"formula",value:t.formula,onChange:function(t){i[n].formula=t.target.value,e.setState({currentProps:i})}},_.map(o,function(e,t){return _react2.default.createElement("option",{key:t,value:e},t)})),_react2.default.createElement("textarea",{value:t.formula,className:"form-control",rows:"3",onChange:function(t){i[n].formula=t.target.value,e.setState({currentProps:i})}})),_react2.default.createElement("td",null,_react2.default.createElement("div",{className:" btn btn-dark kv-button action-remove",onClick:function(){e.handleRemove(t.inputKey)}},"Remove")))})),_react2.default.createElement("tfoot",null,_react2.default.createElement("tr",null,_react2.default.createElement("td",null,"Props:"),_react2.default.createElement("td",null,_react2.default.createElement("select",{ref:"selectProp",name:"select-prop"},_.map(n[r].props,function(e,t){return i[t]?null:_react2.default.createElement("option",{key:t,value:t},t)}))),_react2.default.createElement("td",{colSpan:"2",className:"td-center"},_react2.default.createElement("div",{className:" btn btn-dark kv-button action-add",onClick:function(){e.handleADD()}},"ADD"))))):null}},{key:"render",value:function(){var e=this,t=this.props,n=(t.actions,t.config,this.state),r=n.meta,i=n.logs,o=n.currentLabel;n.currentProps;return _react2.default.createElement("div",{className:"c-formula kv-scrollbar"},0!=_.size(r)&&o?_react2.default.createElement("div",{className:"form-inline"},_react2.default.createElement("div",{className:"col-sm-5 form-group ignore-left-padding"},_react2.default.createElement("label",{className:"col-sm-5 col-form-label"},"Label :"),_react2.default.createElement("div",{className:"col-sm-5"},_react2.default.createElement("select",{className:"form-control",value:o,onChange:function(t){return e.handleLabelChange(t)}},_.map(r,function(e){return _react2.default.createElement("option",{key:e.name,value:e.name},e.name)}))))):null,this.renderProps(),_react2.default.createElement("div",{className:"bottom-acitons"},_react2.default.createElement("div",{className:"btn btn-dark kv-button action-run",onClick:function(){e.handleRun()}},"Run"),_react2.default.createElement("div",{className:"btn btn-dark kv-button action-stop",onClick:function(){e.handleRun(!0)}},"Test")),_react2.default.createElement("div",{className:"logs"},i.map(function(e,t){return _react2.default.createElement("div",{className:"log-item",key:e+"-"+t}," ",e," ")})))}}]),Formula}(_react.Component);exports.default=Formula},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(1),o=c(i),a=c(n(11)),s=(c(n(10)),c(n(47)),c(n(51))),u=c(n(44)),l=c(n(102));function c(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={targetLabel:null,targetProp:null,sourceLabel:null,sourceProp:null,newRelationshipName:"New Relationship",logs:[],meta:{}},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),r(t,[{key:"componentDidMount",value:function(){this.updatetargetLabelAndProps(),u.default.on("change",this.updatetargetLabelAndProps.bind(this),"Link")}},{key:"componentWillUnmount",value:function(){u.default.on("change",null,"Link")}},{key:"updatetargetLabelAndProps",value:function(){var e=this.state,t=e.targetLabel,n=e.sourceLabel,r=this.getMeta(),i=Object.keys(r);if(t&&r[t]&&n&&r[n])this.setState({meta:r||{}});else{var o=i.length>0?i[0]:null,a=o&&Object.keys(r[o].props)[0]||null,s=i.length>1?i[1]:o,u=s&&Object.keys(r[o].props)[0]||null;this.setState({meta:r||{},targetLabel:s,targetProp:u,sourceLabel:o,sourceProp:a})}}},{key:"getMeta",value:function(){var e=s.default.instance().graph,t=e.layoutNodes.filter(function(e){return e.selected});0===t.length&&(t=e.layoutNodes);var n={};return t.forEach(function(e){var t=e.data.detail;n[t.type]||(n[t.type]={name:t.type,props:Object.assign({},t.data)}),n[t.type].props=Object.assign(n[t.type].props||{},t.data)}),n||{}}},{key:"handleSourceLabelChange",value:function(e){var t=this.state.meta;t[e.target.value]&&this.setState({sourceLabel:e.target.value,sourceProp:Object.keys(t[e.target.value].props)[0]||null})}},{key:"handleSourcePropChange",value:function(e){this.setState({sourceProp:e.target.value})}},{key:"handleTargetLabelChange",value:function(e){var t=this.state.meta;t[e.target.value]&&this.setState({targetLabel:e.target.value,targetProp:Object.keys(t[e.target.value].props)[0]||null})}},{key:"handleTargetPropChange",value:function(e){this.setState({targetProp:e.target.value})}},{key:"handleRun",value:function(){var e=this,t=this.state,n=t.targetLabel,r=t.sourceLabel,i=t.sourceProp,o=t.targetProp;if(n===r&&i===o)return this.addLog("Can't support the label("+r+") use same prop("+o+")",!0);var a=s.default.instance().graph,u=a.layoutNodes.filter(function(e){return e.selected});0===u.length&&(u=a.layoutNodes);var l=u.filter(function(e){return e.data.detail.type===n}),c=u.filter(function(e){return e.data.detail.type===r});if(!(0!=l.length&&0!=c.length&&n&&r&&i&&o))return this.addLog("Please select at least two different labels",!0);this._start=!0,this.addLog("Start Convert"),c.forEach(function(t,n){e.runTasksData(t,l,c.length-n-1)}),this.addLog("Converted finished",!0),_app.controller.drawing.forceStartLayout()}},{key:"runTasksData",value:function(e,t,n){var r=this,i=this.state,o=i.sourceProp,a=i.targetProp,s=i.newRelationshipName;t.forEach(function(t){e.data.detail.data[o]&&e.data.detail.data[o]==t.data.detail.data[a]&&(r.addEdge(e,t,s),r.addLog(" add link  [ "+e.id+" >>  "+t.id+" ] ",!0,n))})}},{key:"addEdge",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=s.default.instance().graph.addEdge(e,t);i.name=String(n),i.properties=Object.assign({id:parseInt(1e16*Math.random())}),i.color=new THREE.Color(l.default.getColorByName(n)),r&&_app.controller.drawing.forceStartLayout()}},{key:"addLog",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=this.state.logs,i=n<2||n<1e3||n%100==99||n%1e3==999;i&&r.push("["+(new Date).format("hh:mm:ss")+"] "+e+" "),t&&i&&(r=r.length>10?r.slice(r.length-10,r.length):r,this.setState({logs:r}))}},{key:"handleAddNewNode",value:function(e,t,n){var r,i,o,u=this.state,c=u.sourceProp,d=u.newRelationshipName,f=u.targetProp,h=_app.controller.graphController.getOrAddANodeToGraph({data:e,type:c,uid:a.default.map(e,function(e){return e}).join("_")},!1,t.position.clone()),p=s.default.instance().graph.addEdge(t,h);p.name=String(d),p.properties=(r={id:parseInt(1e16*Math.random())},i=f,o=t.data.detail.data[f],i in r?Object.defineProperty(r,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[i]=o,r),p.color=new THREE.Color(l.default.getColorByName(d)),n&&_app.controller.drawing.forceStartLayout()}},{key:"render",value:function(){var e=this,t=this.props,n=(t.actions,t.config,this.state),r=n.meta,i=n.logs,s=n.targetLabel,u=n.targetProp,l=n.sourceProp,c=n.sourceLabel,d=n.newRelationshipName;return o.default.createElement("div",{className:"c-connector"},o.default.createElement("div",{className:"form-inline"},0!=a.default.size(r)&&c?o.default.createElement("div",{className:"col-sm-6 form-group ignore-left-padding"},o.default.createElement("label",{className:"col-sm-5 col-form-label"},"Source Label :"),o.default.createElement("div",{className:"col-sm-5"},o.default.createElement("select",{className:"form-control",value:c,onChange:function(t){return e.handleSourceLabelChange(t)}},a.default.map(r,function(e){return o.default.createElement("option",{key:e.name,value:e.name},e.name)})))):null,r[c]&&r[c].props&&l?o.default.createElement("div",{className:"col-sm-6 form-group "},o.default.createElement("label",{className:"col-sm-5 col-form-label"},"Source Prop:"),o.default.createElement("div",{className:"col-sm-5"},o.default.createElement("select",{className:"form-control",value:l,onChange:function(t){return e.handleSourcePropChange(t)}},a.default.map(r[c].props,function(e,t){return o.default.createElement("option",{key:t,value:t},t)})))):null),o.default.createElement("div",{className:"form-inline"},0!=a.default.size(r)&&s?o.default.createElement("div",{className:"col-sm-6 form-group ignore-left-padding"},o.default.createElement("label",{className:"col-sm-5 col-form-label"},"Target Label:"),o.default.createElement("div",{className:"col-sm-5"},o.default.createElement("select",{className:"form-control",value:s,onChange:function(t){return e.handleTargetLabelChange(t)}},a.default.map(r,function(e){return o.default.createElement("option",{key:e.name,value:e.name},e.name)})))):null,r[s]&&r[s].props&&u?o.default.createElement("div",{className:"col-sm-6 form-group "},o.default.createElement("label",{className:"col-sm-5 col-form-label"},"Target Prop:"),o.default.createElement("div",{className:"col-sm-5"},o.default.createElement("select",{className:"form-control",value:u,onChange:function(t){return e.handleTargetPropChange(t)}},a.default.map(r[s].props,function(e,t){return o.default.createElement("option",{key:t,value:t},t)})))):null),o.default.createElement("div",{className:"form-inline "},o.default.createElement("div",{className:"col-sm-12 form-group ignore-left-padding"},o.default.createElement("label",{className:"col-sm-5 col-form-label"},"New Relationship:"),o.default.createElement("div",{className:"col-sm-5"},o.default.createElement("input",{className:"form-control",ref:"relationship",type:"text",name:"relationship",value:d,onChange:function(t){return e.setState({newRelationshipName:t.target.value})}})))),o.default.createElement("div",{className:"bottom-acitons"},o.default.createElement("div",{className:"btn btn-dark kv-button action-run",onClick:function(){e.handleRun()}},"Run")),o.default.createElement("div",{className:"logs"},i.map(function(e,t){return o.default.createElement("div",{className:"log-item",key:e+"-"+t}," ",e," ")})))}}]),t}();t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(1),o=h(i),a=h(n(51)),s=n(112),u=h(n(44)),l=h(n(102)),c=h(n(94)),d=h(n(1168)),f=h(n(10));function h(e){return e&&e.__esModule?e:{default:e}}function p(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var m=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={meta:{},currentLabel:null,currentProps:{},newNodeName:"newLabel",newRelationshipName:"newRelationship",inheritLinks:!1,skipEmpty:!0,logs:[]},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),r(t,[{key:"componentDidMount",value:function(){this.updateCurrentLabelAndProps(),u.default.on("change",this.updateCurrentLabelAndProps.bind(this),"Yield")}},{key:"componentWillUnmount",value:function(){u.default.on("change",null,"Yield")}},{key:"updateCurrentLabelAndProps",value:function(){var e=this.state,t=e.currentLabel,n=(e.currentProps,this.getMeta()),r=Object.keys(n);t&&n[t]?this.setState({meta:n||{}}):this.setState({meta:n||{},currentLabel:r.length>0?r[0]:null,currentProps:{}})}},{key:"getMeta",value:function(){var e=a.default.instance().graph,t=e.layoutNodes.filter(function(e){return e.selected});0===t.length&&(t=e.layoutNodes);var n={};return t.forEach(function(e){var t=e.data.detail;n[t.type]||(n[t.type]={name:t.type,props:Object.assign({},t.data)}),n[t.type].props=Object.assign(n[t.type].props||{},t.data)}),n||{}}},{key:"handleLabelChange",value:function(e){var t=this.state.meta;t[e.target.value]&&this.setState({currentLabel:e.target.value,currentProp:t[e.target.value].props[0]||null})}},{key:"handleRemove",value:function(e){var t=this.state.currentProps;t[e]&&(delete t[e],this.setState({currentProps:t||{}}))}},{key:"handleADD",value:function(e){var t=this.state,n=t.meta,r=t.currentLabel,i=t.currentProps,o=this.refs.selectProp.value;!i[o]&&String(o).trim().length>0&&(i[o]={name:o,value:n[r].props[o],isKey:!1,newName:o,isSplit:!1,splitChar:","},this.setState({currentProps:i},function(){document.getElementsByClassName("kv-scrollbar")[0].scrollTop=document.getElementsByClassName("kv-scrollbar")[0].scrollHeight+100}))}},{key:"handleRun",value:function(){var e=this.state.currentLabel,t=a.default.instance().graph,n=t.layoutNodes.filter(function(e){return e.selected});if(0===n.length&&(n=t.layoutNodes),0==(n=n.filter(function(t){return t.data.detail.type===e})).length)return this.addLog("Please select at least one node",!0);n.length>1e7&&(n=n.slice(0,1e7),f.default.showHints("We only support Convert 10,000,000 nodes in once.",null,1800)),this._start=!0,this.addLog("Start Convert"),this.runTasksData(n)}},{key:"randomizeNodePosition",value:function(e){e.position.x=Math.random()-.5,e.position.y=Math.random()-.5,e.position.z=Math.random()-.5}},{key:"getNodesByLabel",value:function(e){return _.filter(a.default.instance().graph.nodes,function(t){return t.data.detail.type==e})}},{key:"genSplitPropsNodesData",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=[].concat(p(e));if(0==r.length)return n;var i=r.pop(),o=String(t[i.name]).trim(),a=[];if(i.isKey&&i.isSplit){var s,u;/^\[.+\]$/gi.test(o)&&(o=o.replace(/^\[|\]$/gi,"")),u=o.split(i.splitChar).map(function(e){return e.replace(/^\"|\"$/gi,"")}),(s=a).push.apply(s,p(u))}else a.push(o);var l=(a=_.uniq(a)).map(function(e){var t,n,r,o=i.newName||i.name;return r=e,(n=o)in(t={})?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t}),c=[];return 0==n.length?c=l:n.forEach(function(e){l.forEach(function(t){c.push(Object.assign({},t,e))})}),this.genSplitPropsNodesData(r,t,c)}},{key:"runTasksData",value:function(e){var t=this;if(this._start&&0!=e.length){this.addLog(" Leave convert "+e.length);var n=this.state.currentProps,r=_.filter(n,function(e){return e.isKey}),i=_.filter(n,function(e){return!e.isKey}),o=this.state,a=o.newNodeName,s=o.newRelationshipName,u=o.inheritLinks,l=o.skipEmpty;e.forEach(function(n,o){t.addLog("Convert "+o,!0,e.length-o-1),t.processTaskNodesRecursive(n,r,i,a,s,u,l)}),this.addLog("Yield finished",!0),_app.controller.drawing.forceStartLayout()}else this.addLog((0==e.length?"Finished":"Stop")+" Convert",!0)}},{key:"processTaskNodesRecursive",value:function(e,t,n,r,i,o,u){var h=this,m=e.data.detail.data,g=this.genSplitPropsNodesData(t,m),y=g.length>0?[].concat(p(f.default.deepCopy(g))):[{}];_.map(n,function(e){y.forEach(function(t){t[e.newName]=m[e.name]})}),y.forEach(function(t,n){var f=g.length===y.length?g[n]:t,p=_.size(f)>0?(0,d.default)(_.map(f,function(e){return e}).join("")):"";p=String(p).toLocaleLowerCase();var m=null;if(!u||!["","null","undefined"].includes(p)){(m=a.default.instance().graph.nodeSet[p]||new s.Node(p)).data.detail={type:r,data:t},m.color.setStyle(c.default.getColorByType(r)),h.randomizeNodePosition(m),a.default.instance().graph.addNode(m);var v=a.default.instance().graph.addEdge(e,m);if(v.name=String(i),v.color=new THREE.Color(l.default.getColorByName(v.name)),o)a.default.instance().graph.edges.filter(function(t){return t.source==e}).forEach(function(e){var t=a.default.instance().graph.addEdge(m,e.target);t.name=e.name,t.color=new THREE.Color(l.default.getColorByName(t.name))}),a.default.instance().graph.edges.filter(function(t){return t.target==e}).forEach(function(e){var t=a.default.instance().graph.addEdge(e.source,m);t.name=e.name,t.color=new THREE.Color(l.default.getColorByName(t.name))})}})}},{key:"addLog",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=this.state.logs,i=n<2||n<1e3||n%100==99||n%1e3==999;i&&r.push("["+(new Date).format("hh:mm:ss")+"] "+e+" "),t&&i&&(r=r.length>10?r.slice(r.length-10,r.length):r,this.setState({logs:r}))}},{key:"renderProps",value:function(){var e=this,t=this.state,n=t.meta,r=t.currentLabel,i=t.currentProps;return r&&n[r]&&n[r].props?o.default.createElement("table",{className:"table table-dark"},o.default.createElement("thead",null,o.default.createElement("tr",null,o.default.createElement("td",null,"PropName"),o.default.createElement("td",null,"ExampleValue"),o.default.createElement("td",null,"IsKey"),o.default.createElement("td",null,"NewName"),o.default.createElement("td",null,"Action"))),o.default.createElement("tbody",{className:"table-body"},_.map(i,function(t,n){return o.default.createElement("tr",{key:n},o.default.createElement("td",null,t.name),o.default.createElement("td",{title:String(t.value)}," ",String(t.value),"  "),o.default.createElement("td",null,o.default.createElement("div",{className:"wrap-inline"},o.default.createElement("input",{type:"checkbox",checked:t.isKey,onChange:function(){i[n].isKey=!i[n].isKey,i[n].isKey||(i[n].isSplit=!1,i[n].splitChar=","),e.setState({currentProps:i})}}),o.default.createElement("span",null," Is Key")),i[n].isKey?o.default.createElement("div",{className:"wrap-inline"},o.default.createElement("input",{type:"checkbox",checked:i[n].isSplit,onChange:function(t){i[n].isSplit=!i[n].isSplit,e.setState({currentProps:i})}}),o.default.createElement("span",null," Is Split")):null,i[n].isSplit?o.default.createElement("div",{className:"wrap-inline"},o.default.createElement("span",null,"Split Char: "),o.default.createElement("input",{type:"text",value:i[n].splitChar,onChange:function(t){var r=string(t.target.value).trim();r=""===r?",":r,i[n].splitChar=t.target.value,e.setState({currentProps:i})}})):null),o.default.createElement("td",null,o.default.createElement("input",{type:"text",value:i[n].newName,onChange:function(t){i[n].newName=t.target.value,e.setState({currentProps:i})}})),o.default.createElement("td",null,o.default.createElement("div",{className:" btn btn-dark kv-button action-remove",onClick:function(){e.handleRemove(t.name)}},"Remove")))})),o.default.createElement("tfoot",null,o.default.createElement("tr",null,o.default.createElement("td",null,"Props:"),o.default.createElement("td",null,o.default.createElement("select",{ref:"selectProp",name:"select-prop"},_.map(n[r].props,function(e,t){return i[t]?null:o.default.createElement("option",{key:t,value:t},t)}))),o.default.createElement("td",{colSpan:"3",className:"td-center"},o.default.createElement("div",{className:" btn btn-dark kv-button action-add",onClick:function(){e.handleADD()}},"ADD"))))):null}},{key:"render",value:function(){var e=this,t=this.state,n=t.meta,r=t.logs,i=t.inheritLinks,a=t.skipEmpty,s=t.currentLabel,u=t.newNodeName,l=t.newRelationshipName;return o.default.createElement("div",{className:"c-spawn kv-scrollbar"},0!=_.size(n)&&s?o.default.createElement("div",{className:"form-inline"},o.default.createElement("div",{className:"col-sm-5 form-group ignore-left-padding"},o.default.createElement("label",{className:"col-sm-5 col-form-label"},"Source Label :"),o.default.createElement("div",{className:"col-sm-5"},o.default.createElement("select",{className:"form-control",value:s,onChange:function(t){return e.handleLabelChange(t)}},_.map(n,function(e){return o.default.createElement("option",{key:e.name,value:e.name},e.name)}))))):null,o.default.createElement("div",{className:"form-inline "},o.default.createElement("div",{className:"col-sm-6 form-group ignore-left-padding"},o.default.createElement("label",{className:"col-sm-5 col-form-label"},"New Node :"),o.default.createElement("div",{className:"col-sm-5"},o.default.createElement("input",{className:"form-control",type:"text",name:"node",value:u,onChange:function(t){return e.setState({newNodeName:t.target.value})}}))),o.default.createElement("div",{className:"col-sm-6 form-group"},o.default.createElement("label",{className:"col-sm-5 col-form-label"},"New Rel:"),o.default.createElement("div",{className:"col-sm-5"},o.default.createElement("input",{className:"form-control",ref:"relationship",type:"text",name:"relationship",value:l,onChange:function(t){return e.setState({newRelationshipName:t.target.value})}})))),this.renderProps(),o.default.createElement("div",{className:"form-inline"},o.default.createElement("div",{className:"col-sm-2"},o.default.createElement("input",{type:"checkbox",checked:i,onChange:function(t){e.setState({inheritLinks:!i})}})),o.default.createElement("label",{className:"col-sm-10 col-form-label"}," Inherit Links")),o.default.createElement("div",{className:"form-inline"},o.default.createElement("div",{className:"col-sm-2"},o.default.createElement("input",{type:"checkbox",checked:a,onChange:function(t){e.setState({skipEmpty:!a})}})),o.default.createElement("label",{className:"col-sm-10 col-form-label"},' skip empty(""|null|undefined) ')),o.default.createElement("div",{className:"bottom-acitons"},o.default.createElement("div",{className:"btn btn-dark kv-button action-run",onClick:function(){e.handleRun()}},"Run")),o.default.createElement("div",{className:"logs"},r.map(function(e,t){return o.default.createElement("div",{className:"log-item",key:e+"-"+t}," ",e," ")})))}}]),t}();t.default=m},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(1),o=u(i),a=(u(n(47)),u(n(51))),s=u(n(44));function u(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={meta:{},currentLabel:null,currentProps:{},clearProps:!1,logs:[]},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),r(t,[{key:"componentDidMount",value:function(){this.updateCurrentLabelAndProps(),s.default.on("change",this.updateCurrentLabelAndProps.bind(this),"Merge")}},{key:"componentWillUnmount",value:function(){s.default.on("change",null,"Merge")}},{key:"updateCurrentLabelAndProps",value:function(){var e=this.state,t=e.currentLabel,n=(e.currentProps,this.getMeta()),r=Object.keys(n);t&&n[t]?this.setState({meta:n||{}}):this.setState({meta:n||{},currentLabel:r.length>0?r[0]:null,currentProps:{}})}},{key:"getMeta",value:function(){var e=a.default.instance().graph,t=e.layoutNodes.filter(function(e){return e.selected});0===t.length&&(t=e.layoutNodes);var n={};return t.forEach(function(e){var t=e.data.detail;n[t.type]||(n[t.type]={name:t.type,props:Object.assign({},t.data)}),n[t.type].props=Object.assign(n[t.type].props||{},t.data)}),n||{}}},{key:"handleLabelChange",value:function(e){this.state.meta[e.target.value]&&this.setState({currentLabel:e.target.value})}},{key:"handleRemove",value:function(e){var t=this.state.currentProps;t[e]&&(delete t[e],this.setState({currentProps:t||{}}))}},{key:"handleADD",value:function(e){var t=this.state.currentProps,n=this.refs.selectProp.value;!t[n]&&String(n).trim().length>0&&(t[n]={inputKey:n},this.setState({currentProps:t},function(){document.getElementsByClassName("kv-scrollbar")[0].scrollTop=document.getElementsByClassName("kv-scrollbar")[0].scrollHeight+100}))}},{key:"handleRun",value:function(e){var t=this.state.currentLabel,n=a.default.instance().graph,r=n.layoutNodes.filter(function(e){return e.selected});if(0===r.length&&(r=n.layoutNodes),0==(r=r.filter(function(e){return e.data.detail.type===t})).length)return this.addLog("Please select at least one node",!0);this._start=!0,this.addLog("Start Convert",!0),this.runTasksData(r,e)}},{key:"runTasksData",value:function(e,t){if(this._start&&0!=e.length){var n=this.state,r=(n.currentLabel,n.currentProps),i=(n.clearProps,!0);0==Object.keys(r).length&&(i=confirm("You didn't select any property. All nodes will be merged into one. Proceed?")),i&&this.mergeNodesByLabelProp(e,Object.keys(r))}else this.addLog((0==e.length?"Finished":"Stop")+" Convert",!0)}},{key:"mergeNodesByLabelProp",value:function(e,t){var n=a.default.instance().graph;this.state.clearProps&&e.forEach(function(e){e.data.detail.data=_.pick(e.data.detail.data,t)});var r=_.groupBy(e,function(e){return t.map(function(t){return e.data.detail.data[t]}).join("-")}),i=[];_.forEach(r,function(e,t){var r=e.pop();e.forEach(function(e){n.edges.filter(function(t){return t.source==e}).forEach(function(e){n.addEdge(r,e.target).name=e.name,n.removeEdge(e.source.id,e.target.id)}),n.edges.filter(function(t){return t.target==e}).forEach(function(e){n.addEdge(e.source,r).name=e.name,n.removeEdge(e.source.id,e.target.id)}),i.push(e)})}),n.removeNodesByIds(i.map(function(e){return e.id})),this.addLog(" Finished!",!0)}},{key:"addLog",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=this.state.logs,i=n<2||n<1e3||n%100==99||n%1e3==999;i&&r.push("["+(new Date).format("hh:mm:ss")+"] "+e+" "),t&&i&&(r=r.length>10?r.slice(r.length-10,r.length):r,this.setState({logs:r}))}},{key:"renderProps",value:function(){var e=this,t=this.state,n=t.meta,r=t.currentLabel,i=t.currentProps;t.formats;return r&&n[r]&&n[r].props?o.default.createElement("table",{className:"table table-dark"},o.default.createElement("thead",null,o.default.createElement("tr",null,o.default.createElement("td",null,"Input prop"),o.default.createElement("td",{colSpan:"2",className:"td-center"},"Action"))),o.default.createElement("tbody",null,_.map(i,function(t,n){return o.default.createElement("tr",{key:n},o.default.createElement("td",null,t.inputKey),o.default.createElement("td",{colSpan:"2",className:"td-center"},o.default.createElement("div",{className:" btn btn-dark kv-button action-remove",onClick:function(){e.handleRemove(t.inputKey)}},"Remove")))})),o.default.createElement("tfoot",null,o.default.createElement("tr",null,o.default.createElement("td",null,"Props:"),o.default.createElement("td",null,o.default.createElement("select",{ref:"selectProp",name:"select-prop"},_.map(n[r].props,function(e,t){return i[t]?null:o.default.createElement("option",{key:t,value:t},t)}))),o.default.createElement("td",null,o.default.createElement("div",{className:" btn btn-dark kv-button action-add",onClick:function(){e.handleADD()}},"ADD"))))):null}},{key:"render",value:function(){var e=this,t=this.props,n=(t.actions,t.config,this.state),r=n.meta,i=n.logs,a=n.currentLabel,s=n.clearProps;return o.default.createElement("div",{className:"c-merge kv-scrollbar"},0!=_.size(r)&&a?o.default.createElement("div",{className:"form-inline"},o.default.createElement("div",{className:"col-sm-5 form-group ignore-left-padding"},o.default.createElement("label",{className:"col-sm-5 col-form-label"},"Label :"),o.default.createElement("div",{className:"col-sm-5"},o.default.createElement("select",{className:"form-control",value:a,onChange:function(t){return e.handleLabelChange(t)}},_.map(r,function(e){return o.default.createElement("option",{key:e.name,value:e.name},e.name)}))))):null,this.renderProps(),o.default.createElement("div",{className:"form-inline"},o.default.createElement("div",{className:"col-sm-2"},o.default.createElement("input",{type:"checkbox",checked:s,onChange:function(t){e.setState({clearProps:!s})}})),o.default.createElement("label",{className:"col-sm-10 col-form-label"},"  Clear Unselected Properties ")),o.default.createElement("div",{className:"bottom-acitons"},o.default.createElement("div",{className:"btn btn-dark kv-button action-run",onClick:function(){e.handleRun()}},"Run")),o.default.createElement("div",{className:"logs"},i.map(function(e,t){return o.default.createElement("div",{className:"log-item",key:e+"-"+t}," ",e," ")})))}}]),t}();t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(1),o=l(i),a=(l(n(47)),l(n(10)),l(n(51))),s=l(n(44)),u=l(n(102));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={meta:{},centerLabel:null,relationships:{},firstRelationship:null,secondRelationship:null,newRelationshipName:"new Relationship",logs:[]},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),r(t,[{key:"componentDidMount",value:function(){this.updatecenterLabelAndProps(),s.default.on("change",this.updatecenterLabelAndProps.bind(this),"ShortCut")}},{key:"componentWillUnmount",value:function(){s.default.on("change",null,"ShortCut")}},{key:"updatecenterLabelAndProps",value:function(){var e=this,t=this.state.centerLabel,n=this.getMeta(),r=Object.keys(n);t&&n[t]?this.setState({meta:n||{}},function(){e.updateRelationShips(!0)}):this.setState({meta:n||{},centerLabel:r.length>0?r[0]:null},function(){e.updateRelationShips(!0)})}},{key:"getMeta",value:function(){var e=a.default.instance().graph,t=e.layoutNodes.filter(function(e){return e.selected});0===t.length&&(t=e.layoutNodes);var n={};return t.forEach(function(e){var t=e.data.detail;n[t.type]||(n[t.type]={name:t.type,props:Object.assign({},t.data)}),n[t.type].props=Object.assign(n[t.type].props||{},t.data)}),n||{}}},{key:"updateRelationShips",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.state.relationships;a.default.instance().graph.layoutEdges.filter(function(e){return e.source.selected&&e.target.selected}).forEach(function(e){t[e.name]||(t[e.name]={name:e.name})}),this.state.relationships=t;var n=Object.keys(t)[0]||null;this.state.firstRelationship=n,this.state.secondRelationship=n,e&&this.setState({relationships:t,firstRelationship:n,secondRelationship:n})}},{key:"handleLabelChange",value:function(e){var t=this;this.state.meta[e.target.value]&&this.setState({centerLabel:e.target.value},function(){t.updatecenterLabelAndProps(!0)})}},{key:"handleRun",value:function(){var e=this.state.centerLabel,t=a.default.instance().graph,n=t.layoutNodes.filter(function(e){return e.selected});if(0===n.length&&(n=t.layoutNodes),0==(n=n.filter(function(t){return t.data.detail.type===e})).length)return this.addLog("Please select at least one node",!0);this._start=!0,this.addLog("Start Convert"),this.runTasksData(n)}},{key:"runTasksData",value:function(e){var t=this,n=this.state,r=n.centerLabel,i=n.firstRelationship,o=n.secondRelationship,s=n.newRelationshipName;if(0==e.length||!r||!i||!o)return this.addLog("Can't found the shortcut, please try to select other relationship",!0);var l=a.default.instance().graph;e.forEach(function(e){var n=l.getEdgesToNode(e).filter(function(e){return e.name==i}),r=_.flatten(n.map(function(e){return[e.source,e.target]})).filter(function(t){return t.id!==e.id}),c=l.getEdgesToNode(e).filter(function(e){return e.name==o}),d=_.flatten(c.map(function(e){return[e.source,e.target]})).filter(function(t){return t.id!==e.id});r.forEach(function(e){d.forEach(function(n){if(e.id!==n.id){t.addLog("Try add new edge ("+e.id+"-"+n.id+")",!0);var r=a.default.instance().graph.addEdge(e,n);r.name=s,r.color.setStyle(u.default.getColorByName(s))}})})}),_app.controller.drawing.forceStartLayout(),this.addLog("Finished Convert",!0)}},{key:"addLog",value:function(e,t){var n=this.state.logs;n.push("["+(new Date).format("hh:mm:ss")+"] "+e+" "),t&&(n=n.length>10?n.slice(n.length-10,n.length):n,this.setState({logs:n}))}},{key:"render",value:function(){var e=this,t=this.props,n=(t.actions,t.config,this.state),r=n.meta,i=n.logs,a=n.centerLabel,s=n.relationships,u=n.firstRelationship,l=n.secondRelationship,c=n.newRelationshipName;return o.default.createElement("div",{className:"c-shortcut"},o.default.createElement("div",{className:"form-inline text-center"},o.default.createElement("p",{className:"col-sm-12"},"(A)-[R1]-(B)-[R2]-(C) =>  (A)-[R3]-(C)")),o.default.createElement("div",{className:"form-inline"},0!=_.size(r)&&a?o.default.createElement("div",{className:"col-sm-6 form-group ignore-left-padding"},o.default.createElement("label",{className:"col-sm-5 col-form-label"},"Center Label(B) :"),o.default.createElement("div",{className:"col-sm-5"},o.default.createElement("select",{className:"form-control",value:a,onChange:function(t){return e.handleLabelChange(t)}},_.map(r,function(e){return o.default.createElement("option",{key:e.name,value:e.name},e.name)})))):null),o.default.createElement("div",{className:"form-inline"},0!=_.size(s)&&u?o.default.createElement("div",{className:"col-sm-6 form-group ignore-left-padding"},o.default.createElement("label",{className:"col-sm-5 col-form-label"},"First Relationship(R1):"),o.default.createElement("div",{className:"col-sm-5"},o.default.createElement("select",{className:"form-control",value:u,onChange:function(t){return e.setState({firstRelationship:t.target.value})}},_.map(s,function(e,t){return o.default.createElement("option",{key:e.name,value:e.name},e.name)})))):null,0!=_.size(s)&&l?o.default.createElement("div",{className:"col-sm-6 form-group ignore-left-padding"},o.default.createElement("label",{className:"col-sm-5 col-form-label"},"Second Relationship(R2):"),o.default.createElement("div",{className:"col-sm-5"},o.default.createElement("select",{className:"form-control",value:l,onChange:function(t){return e.setState({secondRelationship:t.target.value})}},_.map(s,function(e,t){return o.default.createElement("option",{key:e.name,value:e.name},e.name)})))):null,o.default.createElement("div",{className:"form-inline "},o.default.createElement("div",{className:"col-sm-12 form-group ignore-left-padding"},o.default.createElement("label",{className:"col-sm-6 col-form-label"},"New Relationship(R3):"),o.default.createElement("div",{className:"col-sm-6"},o.default.createElement("input",{className:"form-control",ref:"relationship",type:"text",name:"relationship",value:c,onChange:function(t){return e.setState({newRelationshipName:t.target.value})}}))))),o.default.createElement("div",{className:"bottom-acitons"},o.default.createElement("div",{className:"btn btn-dark kv-button action-run",onClick:function(){e.handleRun()}},"Run")),o.default.createElement("div",{className:"logs"},i.map(function(e,t){return o.default.createElement("div",{className:"log-item",key:e+"-"+t}," ",e," ")})))}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(1),o=u(i),a=u(n(329));n(401);var s=u(n(0));u(n(11));function u(e){return e&&e.__esModule?e:{default:e}}var l=(0,a.default.createSliderWithTooltip)(a.default.Range),c=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.state={timeRange:e.reduxState.node?e.reduxState.node.timeRange:{}},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),r(t,[{key:"componentWillReceiveProps",value:function(e){e.reduxState.node.timeRange!=this.props.reduxState.node.timeRange&&this.setState({timeRange:e.reduxState.node.timeRange}),this.props=e}},{key:"onSliderChange",value:function(e,t,n){_app.controller.drawing.startLayout();var r=this.state.timeRange,i=n[0]>n[1]?n[0]:n[1],o=n[0]<n[1]?n[0]:n[1];r[e][t].duration&&(o=i-r[e][t].duration_unit,r[e][t].duration_min=o,r[e][t].duration_max=i),r[e][t].duration_min=o,r[e][t].duration_max=i,this.setState({timeRange:r});var a={label:e,property:t,minTime:o,maxTime:i},s=this.props.actions;s.graphDataUpdate(_app.controller.graph.visibleNodes.length),s.timeFilter(a)}},{key:"onCheckBoxChange",value:function(e,t,n){var r=this.props.actions,i=this.state.timeRange,o=i[e][t].duration_max-i[e][t].duration_min;i[e][t].duration_unit=o,i[e][t].duration=n,0!=i[e][t].duration_min&&0!=i[e][t].duration_max||(i[e][t].duration_min=i[e][t].min,i[e][t].duration_max=i[e][t].min+o),this.setState({timeRange:i});var a={label:e,property:t,minTime:i[e][t].duration_min,maxTime:i[e][t].duration_max};r.timeFilter(a)}},{key:"generateDiv",value:function(){var e=this,t=this.state.timeRange;return 0==Object.keys(t).length?o.default.createElement("span",{className:"empty"},"Nodes have no time property"):Object.keys(t).map(function(n,r){return Object.keys(t[n]).filter(function(e){return t[n][e].min!=t[n][e].max}).map(function(r,i){t[n][r].duration||0!=t[n][r].duration_min||0!=t[n][r].duration_max||(t[n][r].duration_min=t[n][r].min,t[n][r].duration_max=t[n][r].max);var a=(0,s.default)(new Date(t[n][r].duration_min)).format("YYYY-MM-DD HH:MM:SS")+"-"+(0,s.default)(new Date(t[n][r].duration_max)).format("YYYY-MM-DD HH:MM:SS");return o.default.createElement("div",{key:r,className:"time-item"},o.default.createElement("div",{className:"time-line-label"},o.default.createElement("span",null,n+":"+r),o.default.createElement("input",{className:"tour-fix-duration",type:"checkbox",onClick:function(t){return e.onCheckBoxChange(n,r,t.target.checked)}}),o.default.createElement("span",null,"Fix Duration")),o.default.createElement("div",{className:"time-line row"},o.default.createElement("span",{className:"col-md-3"}," ",(0,s.default)(new Date(t[n][r].min)).format("YYYY-MM-DD"),"  "),o.default.createElement(l,{className:"tour-time-slider col-md-6",min:t[n][r].min,max:t[n][r].max,defaultValue:[t[n][r].min,t[n][r].max],step:36e5,value:[t[n][r].duration_min,t[n][r].duration_max],allowCross:!1,tipFormatter:function(e){return a},onChange:function(t){return e.onSliderChange(n,r,t)}}),o.default.createElement("span",{className:"col-md-3"},(0,s.default)(new Date(t[n][r].max)).format("YYYY-MM-DD")," ")))})})}},{key:"render",value:function(){return o.default.createElement("div",{className:"time-line-window"},this.generateDiv())}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(1),a=(r=o)&&r.__esModule?r:{default:r};var s={win:{"Select All Nodes":"Shift+A","Deselect All Nodes":"Alt+A","Hide Left Menu":"Esc","Show Node Information":"Ctrl+I","Fly To Node":"Ctrl+0","Set Camera To Default Position":"Ctrl+1","Set Camera To Middle Position":"ctrl+2","Set Camera To Far Position":"ctrl+3","Pin Unpin All":"P","Auto Rotate":"Shift+O",Undo:"Ctrl+Z",Redo:"Ctrl+Y",Expand:"Ctrl+E","Delete Selected Nodes":["del","backspace"],"Inverse Selection":"I",FullScreen:"Ctrl+F"},mac:{"Select All Nodes":"Shift+A","Deselect All Nodes":"Alt+A","Hide Left Menu":"Esc","Show Node Information":"Ctrl+I","Fly To Node":"Ctrl+0","Set Camera To Default Position":"Ctrl+1","Set Camera To Middle Position":"ctrl+2","Set Camera To Far Position":"ctrl+3","Pin Unpin All":"P","Auto Rotate":"Ctrl+O",Undo:"Ctrl+Z",Redo:"Ctrl+Y",Expand:"Ctrl+E","Delete Selected Nodes":["Del","Backspace"],"Inverse Selection":"I","Full Screen":"Ctrl+F"}},u=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.system=0==window.navigator.platform.indexOf("Mac")?"mac":"win",r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),i(t,[{key:"render",value:function(){var e=s[this.system];return a.default.createElement("div",{className:"help-panel"},a.default.createElement("ul",null,Object.keys(e).map(function(t){return a.default.createElement("li",{key:t},t,":  ",e[t])})))}}]),t}();t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(1),o=l(i),a=l(n(398)),s=l(n(1981)),u=l(n(1982));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),r(t,[{key:"render",value:function(){var e=this.props,t=e.actions,n=e.reduxState,r=e.config;return o.default.createElement(a.default,null,r.nodeFilter.visible?o.default.createElement(s.default,{name:"Node Filter",actions:t,reduxState:n}):null,r.edgeFilter.visible?o.default.createElement(u.default,{name:"Edge Filter",actions:t,reduxState:n}):null)}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=u(n(1)),o=u(n(275)),a=u(n(51)),s=u(n(1169));function u(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),r=Object.keys(n.props.reduxState.node.nodeFilter);return n.state={properties:[],filterProperty:r.length>0?r[0]:"",min:0,max:0,labelsContainsProperty:[],currentMin:0,currentMax:0,step:1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default),r(t,[{key:"componentDidMount",value:function(){var e=a.default.instance().graph;this.caculate(e,this.state.filterProperty)}},{key:"graphDataUpdate",value:function(e){this.caculate(e,this.state.filterProperty)}},{key:"caculate",value:function(e,t){var n=this,r=this.props.reduxState,i=e.nodes,o=i.reduce(function(e,t){return Object.keys(t.data.detail.data).forEach(function(n){"number"!=typeof t.data.detail.data[n]||e.includes(n)||e.push(n)}),e},["_degree"]);this.state.filterProperty=t||o[0];var a=i.filter(function(e){return void 0!=e.data.detail.data[n.state.filterProperty]&&"number"==typeof e.data.detail.data[n.state.filterProperty]}).map(function(e){return e.data.detail.type});a=_.uniq(a);var s,u,l,c=this.state.filterProperty?this.state.filterProperty:o[0],d=i.filter(function(e){return e.data.detail.data[c]&&"number"==typeof e.data.detail.data[c]}).reduce(function(e,t){var n=t.data.detail.data[c],r=e.min&&e.min<=n?e.min:n,i=e.max&&e.max>=n?e.max:n;return{min:r=Number(parseFloat(r).toFixed(6)),max:i=Number(parseFloat(i).toFixed(6))}},{min:0,max:0});"_degree"==this.state.filterProperty&&(a=_.uniq(i.map(function(e){return e.data.detail.type})),d=i.reduce(function(e,t){var n=t.degree,r=e.min&&e.min<=n?e.min:n,i=e.max&&e.max>=n?e.max:n;return{min:r=Number(parseFloat(r).toFixed(6)),max:i=Number(parseFloat(i).toFixed(6))}},{min:0,max:0})),s=d.min==d.max?.1:(d.max-d.min)/100,u=r.node.nodeFilter[c]&&r.node.nodeFilter[c].currentMin?r.node.nodeFilter[c].currentMin:d.min,l=r.node.nodeFilter[c]&&r.node.nodeFilter[c].currentMax?r.node.nodeFilter[c].currentMax:d.max,this.setState({properties:o,filterProperty:c,min:d.min,max:d.max,labelsContainsProperty:a,currentMin:u,currentMax:l,step:s})}},{key:"convertHighlightToSelection",value:function(){var e=a.default.instance().graph.layoutNodes;_GXR.NodesSelectManager.selectWithNodeIds(e.filter(function(e){return 1==e.alpha}).map(function(e){return e.id}))}},{key:"onSliderChange",value:function(e,t){var n=this.props.actions,r=this.state,i=r.min,o=r.max,a=r.step,s=r.filterProperty;this.setState({currentMin:e,currentMax:t},function(){n.nodeFilter(s,{min:i,max:o,step:a,currentMin:e,currentMax:t})})}},{key:"onResetLayout",value:function(){this.props.actions.triggerForceLayout()}},{key:"onChangeProperty",value:function(e){var t=a.default.instance().graph;this.caculate(t,e)}},{key:"generateSelect",value:function(e,t){var n=this;return i.default.createElement("select",{defaultValue:e,onChange:function(e){return n.onChangeProperty(e.currentTarget.value)}},t.map(function(e){return i.default.createElement("option",{key:e,value:e},e)}))}},{key:"render",value:function(){var e=this,t=this.state,n=t.min,r=t.max,o=t.step,a=t.currentMin,u=t.currentMax,l=t.filterProperty,c=t.properties;return 0==c.length?i.default.createElement("div",{className:"empty"},"No node property to filter"):i.default.createElement("div",{className:"node-filter"},i.default.createElement("div",{className:"title-group"},i.default.createElement("span",null,"Properties:"),this.generateSelect(l,c)),i.default.createElement("div",{className:"label-title"},i.default.createElement("span",null,"Label Name:",i.default.createElement("strong",null,this.state.labelsContainsProperty.join(",")))),i.default.createElement(s.default,{name:l,min:n,max:r,step:o,currentMin:a,currentMax:u,onChange:function(t,n){return e.onSliderChange(t,n)},onAfterChange:function(){return e.onResetLayout()}}),i.default.createElement("button",{className:"kv-button",onClick:function(){return e.convertHighlightToSelection()}},"Select Fully Visible Nodes"))}}]),t}();t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=u(n(1)),o=u(n(275)),a=u(n(51)),s=u(n(1169));function u(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={properties:[],filterProperty:"",min:0,max:0,currentMin:0,currentMax:0,step:1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default),r(t,[{key:"graphDataUpdate",value:function(e){this.caculate(e)}},{key:"caculate",value:function(e,t){var n=this.props.reduxState,r=e.edges,i=r.reduce(function(e,t){return Object.keys(t.properties).forEach(function(n){"number"!=typeof t.properties[n]||e.includes(n)||e.push(n)}),e},[]);t&&(this.state.filterProperty=t);var o,a,s,u=this.state.filterProperty?this.state.filterProperty:i[0],l=r.filter(function(e){return e.properties[u]&&"number"==typeof e.properties[u]}).reduce(function(e,t){var n=t.properties[u],r=e.min&&e.min<=n?e.min:n,i=e.max&&e.max>=n?e.max:n;return{min:r=Number(parseFloat(r).toFixed(6)),max:i=Number(parseFloat(i).toFixed(6))}},{min:0,max:0});o=l.min==l.max?.1:(l.max-l.min)/100,a=n.node.edgeFilter[u]&&n.node.edgeFilter[u].currentMin?n.node.edgeFilter[u].currentMin:l.min,s=n.node.edgeFilter[u]&&n.node.edgeFilter[u].currentMax?n.node.edgeFilter[u].currentMax:l.max,this.setState({properties:i,filterProperty:u,min:l.min,max:l.max,currentMin:a,currentMax:s,step:o})}},{key:"onSliderChange",value:function(e,t){var n=this.props.actions,r=this.state,i=r.min,o=r.max,a=r.step,s=r.filterProperty;this.setState({currentMin:e,currentMax:t},function(){n.edgeFilter(s,{min:i,max:o,step:a,currentMin:e,currentMax:t})})}},{key:"onResetLayout",value:function(){this.props.actions.triggerForceLayout()}},{key:"onChangeProperty",value:function(e){var t=a.default.instance().graph;this.caculate(t,e)}},{key:"generateSelect",value:function(e,t){var n=this;return i.default.createElement("select",{defaultValue:e,onChange:function(e){return n.onChangeProperty(e.currentTarget.value)}},t.map(function(e){return i.default.createElement("option",{key:e,value:e},e)}))}},{key:"render",value:function(){var e=this,t=this.state,n=t.min,r=t.max,o=t.step,a=t.currentMin,u=t.currentMax,l=t.filterProperty,c=t.properties;return 0==c.length?i.default.createElement("div",{className:"empty"},"No edge property to filter"):i.default.createElement("div",{className:"edge-filter"},i.default.createElement("div",{className:"tour-title-group title-group"},i.default.createElement("span",null,"Properties:"),this.generateSelect(l,c)),i.default.createElement(s.default,{name:l,min:n,max:r,step:o,currentMin:a,currentMax:u,onChange:function(t,n){return e.onSliderChange(t,n)},onAfterChange:function(){return e.onResetLayout()}}))}}]),t}();t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=s(n(1)),o=n(287),a=s(n(463));function s(e){return e&&e.__esModule?e:{default:e}}var u={ShowMap:"Show Map",HideMap:"Hide Map",MapControl:"Map Control"},l=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.state={buttons:["ShowMap","HideMap"],contrlTitle:"MapControl",contrlEnable:a.default.enable},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),r(t,[{key:"componentWillUnmount",value:function(){this.disenableContrlMap()}},{key:"componentDidMount",value:function(){this.onButtonClick("ShowMap")}},{key:"onButtonClick",value:function(e){switch(e){case"ShowMap":o.TaskList.showMap.func();break;case"HideMap":o.TaskList.hideMap.func(),a.default.enable&&(o.TaskList.enableMapContrl.func(!a.default.enable),this.setState({contrlEnable:a.default.enable}));break;case"MapControl":o.TaskList.enableMapContrl.func(!a.default.enable),this.setState({contrlEnable:a.default.enable})}}},{key:"disenableContrlMap",value:function(){a.default.enable&&(o.TaskList.enableMapContrl.func(!1),this.state.contrlEnable=!1)}},{key:"render",value:function(){var e=this,t=this.state.contrlEnable?"red":"gray";return i.default.createElement("div",{className:"map"},i.default.createElement("div",{className:"button-group"},this.state.buttons.map(function(t,n){return i.default.createElement("button",{key:n,className:"tour-"+t+" kv-button",onClick:function(){return e.onButtonClick(t)}},u[t])}),i.default.createElement("button",{key:"contrl"+this.state.contrlTitle,className:"tour-mapcontrol kv-button",style:{borderColor:t,color:t},onClick:function(){return e.onButtonClick(e.state.contrlTitle)}},u[this.state.contrlTitle])))}}]),t}();t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(1),a=(r=o)&&r.__esModule?r:{default:r};var s=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={vrMode:!1},n.init(),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),i(t,[{key:"init",value:function(){}},{key:"onEnterVR",value:function(){}},{key:"render",value:function(){var e=this;this.state.vrMode;return a.default.createElement("div",{key:"vr-button",id:"vr-button",className:"tool-item",onClick:function(){return e.onEnterVR()}})}}]),t}();t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=m(n(1)),o=(m(n(11)),m(n(1986))),a=m(n(464)),s=m(n(1988)),u=m(n(2281)),l=m(n(275)),c=m(n(51)),d=m(n(10)),f=m(n(44)),h=n(461),p=m(n(47));function m(e){return e&&e.__esModule?e:{default:e}}var g=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.state={apocIndexMap:{},fromDb:!0,groupNodes:{},keyword:"",showNoResult:!1,isShortKeyword:!1},r.searchService=new s.default,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.default),r(t,[{key:"componentDidMount",value:function(){var e=this;this.getSearchIndex(),this.searchService.getResults().subscribe(function(t){0==t.status?(e.parseSearch(t.content),e.setState({error:""})):e.setState({error:t.content})}),$(".tour-searching-database").bind("tour-searching-database-change",function(t,n){e.setState({fromDb:!0})})}},{key:"getSearchIndex",value:function(){var e=this;p.default.getIndex().then(function(t){e.state.apocIndexMap=t||{}})}},{key:"componentWillReceiveProps",value:function(e){(function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0})(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"componentWillReceiveProps",this).call(this,e),e.hideSearchPanel!=this.state.hideSearchPanel&&this.setState({hideSearchPanel:e.hideSearchPanel})}},{key:"parseGraphSearch",value:function(e,t){var n={},r=e.map(function(e){var n=e,r=n.id||n.uid;return t||(n=e.data.detail),{properties:n.data,search_property:n.search_property,labels:n.type.split("-"),id:r}});r.forEach(function(e){var t=e.labels.join("-"),r=n[t];r||(r=[],n[t]=r),r.push(e)});var i=Object.keys(n);this.setState({groupNodes:n,labels:i,nodes:r,showNoResult:!0})}},{key:"parseSearch",value:function(e){var t=this.state.apocIndexMap,n=a.default.format(e.data).filterNodes(function(e){return(0,h.filterInvisibleLabel)(e)}).filterNodes(function(e){return(0,h.filterInvisibleNodeProperty)(e)}).build(),r=[],i=e.keyword;i=(i=i.replace(/(\\+)?[\~\!\@\#\$\%\^\&\*\(\)\/\\\|\,\<\>\?\"\'\;\:\_\+\-\=\[\]\{\}]/gi,".")).replace(/ {2,}/gi," ").replace(/ /gi,"|"),n.forEach(function(e){if(e.object){var n="";Object.keys(t[e.object.type]||{}).forEach(function(t){var r=String(e.object.data[t]);new RegExp(i,"ig").test(r)&&(n=t)}),e.object.search_property=n,""!==n?r.push(e.object):console.log("Can't found the search property name :",e.object,i)}if(e.subject){var o="";Object.keys(t[e.subject.data]||{}).forEach(function(t){var n=e.subject.data[t];new RegExp(i,"ig").test(n)&&(o=t)}),e.subject.search_property=o,""!==o&&r.push(e.subject)}}),this.parseGraphSearch(r,!0)}},{key:"search",value:function(e){var t=this,n="string"==typeof e?e:e.target.value.trim();this.setState({keyword:n,showNoResult:!1,hideSearchPanel:!1},function(){t.state.fromDb?t.searchFromDb(n):t.searchFromCavans(n)})}},{key:"searchFromDb",value:function(e){var t=this;e=String(e).trim(),this.props.handleLeftPanel(!1),clearTimeout(this._alterInputLength),e.length>=3?(this.searchService.search({value:e}),this.setState({isShortKeyword:!1,hideSearchPanel:!1},function(){t.props.handleLeftPanel(!1)})):e.length>0?this._alterInputLength=setTimeout(function(){t.setState({labels:[],nodes:[],groupNodes:{},hideSearchPanel:!1,isShortKeyword:!0},function(){t.props.handleLeftPanel(!1)})},1e3):this.setState({labels:[],nodes:[],groupNodes:{},hideSearchPanel:!1,isShortKeyword:!1},function(){t.props.handleLeftPanel(!0)})}},{key:"searchFromCavans",value:function(e){var t=this,n=c.default.instance().graph.visibleNodes.filter(function(t){var n=d.default.contains(t.data.detail.data,e);return t.data.detail.search_property=n,null!=n});this.parseGraphSearch(n);var r=n.map(function(e){return e.id});f.default.selectWithNodeIds(r,f.default.selectTypes.new);var i=String(e).trim();this.props.handleLeftPanel(!1),clearTimeout(this._alterInputLength),i.length>0?this.setState({isShortKeyword:!1,hideSearchPanel:!1},function(){t.props.handleLeftPanel(!1)}):this.setState({labels:[],nodes:[],groupNodes:{},hideSearchPanel:!1,showNoResult:!1,isShortKeyword:!1},function(){t.props.handleLeftPanel(!0)})}},{key:"onCheckBoxChange",value:function(){var e=this;if(0==_app.controller.drawing.graph.visibleNodes.length&&this.state.fromDb)d.default.showHints("Cannot perform Graph Search on an empty graph. Please load one or more nodes.",null,1200);else{var t=!this.state.fromDb;f.default.selectWithNodeIds([],f.default.selectTypes.new),this.setState({fromDb:t,groupNodes:{},errorStatus:0,error:null,showNoResult:!1},function(){e.search(e.state.keyword)})}}},{key:"render",value:function(){var e=this,t=this.state,n=t.fromDb,r=t.groupNodes,a=t.keyword,s=t.showNoResult,l=t.hideSearchPanel,c=t.isShortKeyword;return i.default.createElement("div",{className:"fulltext-search panel-active "+(this.props.isShowPanelInfo?"show-panel-info":"")},i.default.createElement("div",{className:"search-box-group tour-searching-database"},i.default.createElement(u.default,{placeholder:n?"Searching From Database":"Searching From Graph",value:this.state.keyword,onSearch:function(t){return e.search(t)}}),i.default.createElement("span",{onClick:function(){return e.onCheckBoxChange()}},i.default.createElement("i",{className:"tour-switch-button switch-button iconfont "+(n?" icon-database":"icon-node")}),i.default.createElement("span",{className:"tooltiptext animated fadeInRight faster"},n?" Click to switch to Graph":" Click to switch to Database"))),!l&&this.state.keyword?i.default.createElement(o.default,{groupNodes:r,fromDb:n,keyword:a,actions:this.props.actions}):null,l||c||!s||0!=Object.keys(r).length?null:i.default.createElement("div",{className:"no-result"},i.default.createElement("span",{className:"title"},"Your search - ",i.default.createElement("strong",null,a)," - did not match any nodes."),"Suggestions:",i.default.createElement("ul",null,i.default.createElement("li",null,"Make sure all words are spelled correctly."),i.default.createElement("li",null,"Try different keywords."),i.default.createElement("li",null,"Try more general keywords."))),!l&&c?i.default.createElement("div",{className:"no-result"},i.default.createElement("span",{className:"title"},"Your search - ",i.default.createElement("strong",null,a)," - too short for searching."),"Suggestions:",i.default.createElement("ul",null,i.default.createElement("li",null,"Please input more than 3 characters."))):null)}}]),t}();t.default=g},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(1),o=l(i),a=l(n(747)),s=l(n(11)),u=l(n(1987));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.state={showLabeIndex:null,pageIndex:null,showNodes:[]},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),r(t,[{key:"componentWillReceiveProps",value:function(e){e.groupNodes!=this.props.groupNodes&&(s.default.isEqual(e.groupNodes,this.props.groupNodes)||this.updateGroupNodes(e.groupNodes)),e.fromDb!=this.props.fromDb&&this.setState({showLabeIndex:null})}},{key:"updateGroupNodes",value:function(e){this.state.showLabeIndex>=0&&this.labels[this.state.showLabeIndex]&&(e&&e!={}?this.setState({pageIndex:0,showNodes:e[this.labels[this.state.showLabeIndex]]?e[this.labels[this.state.showLabeIndex]].slice(0,5):[]},function(){}):this.setState({showNodes:[]}))}},{key:"showDetail",value:function(e){e==this.state.showLabeIndex?this.setState({showLabeIndex:null}):this.setState({showLabeIndex:e,pageIndex:0,showNodes:this.groupNodes[this.labels[e]].slice(0,5)},function(){})}},{key:"onClickNode",value:function(e){var t=this.props.actions;this.props.fromDb?t.addNodesToGraph([e]):t.flyToNode(e.id)}},{key:"onClickLabel",value:function(e){var t=this.props.actions;this.props.fromDb&&t.addNodesToGraph(this.groupNodes[e].slice(0,1e3))}},{key:"handlePage",value:function(e){var t=null,n=0;"last"==e?this.state.pageIndex>0&&(n=this.state.pageIndex-1,t=this.groupNodes[this.labels[this.state.showLabeIndex]].slice(5*n,5*(n+1))):this.state.pageIndex+1<Math.ceil(this.groupNodes[this.labels[this.state.showLabeIndex]].length/5)&&(n=1*this.state.pageIndex+1,t=this.groupNodes[this.labels[this.state.showLabeIndex]].slice(5*n,5*(n+1))),t&&this.setState({pageIndex:n,showNodes:t},function(){})}},{key:"render",value:function(){var e=this,t=this.props,n=t.fromDb,r=t.keyword,i=this.state,s=i.showLabeIndex,l=i.showNodes,c=i.pageIndex;return o.default.createElement("ul",null,this.labels.map(function(t,i){return o.default.createElement("li",{key:i,className:"tour-main-label main-label"+(i!=s&&null!=s?" hide":"")},i==s?o.default.createElement(u.default,{totalPages:Math.ceil(e.groupNodes[t].length/5),pageIndex:c,handlePage:function(t){return e.handlePage(t)}}):null,o.default.createElement("a",{className:"label-title",style:{color:"#00a8ff"},onClick:function(){return e.showDetail(i)}},o.default.createElement("span",{className:i==s?"fa fa-chevron-down":"fa fa-chevron-right"}),t+"("+e.groupNodes[t].length+")"),o.default.createElement("span",{className:"tour-title-sign title-sign fa fa-plus "+(n?"show":"hidden"),onClick:function(){return e.onClickLabel(t)}}),o.default.createElement("ul",{id:"content",className:"label-list"+(i==s?" show":" hidden")},l?l.map(function(t,i){return o.default.createElement("li",{className:"label-body",key:i,onClick:function(){return e.onClickNode(t)}},o.default.createElement("span",{className:"label-sign fa fa-paper-plane "+(n?"hidden":"show")}),o.default.createElement("span",{className:"label-name"},t.search_property+":"),o.default.createElement("span",{className:"label-detail"},o.default.createElement(a.default,{highlightClassName:"search-heighlight",searchWords:String(r).split(" ").map(function(e){return String(e).trim()}).filter(function(e){return""!=e}),autoEscape:!0,textToHighlight:t.properties[t.search_property]+""})))}):null))}))}},{key:"labels",get:function(){return Object.keys(this.props.groupNodes)||[]}},{key:"groupNodes",get:function(){return this.props.groupNodes||{}}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(1),a=(r=o)&&r.__esModule?r:{default:r};var s=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.state={pageIndex:r.props.pageIndex?r.props.pageIndex:0,totalPages:r.props.totalPages?r.props.totalPages:0},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default.Component),i(t,[{key:"componentDidMount",value:function(){}},{key:"componentWillReceiveProps",value:function(e){}},{key:"render",value:function(){var e=this;return this.props.totalPages<=0?a.default.createElement("span",null):a.default.createElement("div",null,a.default.createElement("span",{className:"paging"},a.default.createElement("span",{className:"next-page fa fa-chevron-right",onClick:function(t){return e.props.handlePage("next")}}),a.default.createElement("span",{className:"page-index"},this.props.pageIndex?1*this.props.pageIndex+1:1,"/",this.props.totalPages),a.default.createElement("span",{className:"last-page fa fa-chevron-left",onClick:function(t){return e.props.handlePage("last")}})))}}]),t}();t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=a(n(47)),o=a(n(301));n(2280);function a(e){return e&&e.__esModule?e:{default:e}}var s=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.searchTerm=new o.default.Subject,this.indexableKeys=[],this.initIndexableKeys()}return r(e,[{key:"initIndexableKeys",value:function(){var e=this;i.default.getIndexableKeys().then(function(t){e.indexableKeys=[],e.indexableKeys=e.indexableKeys.concat(t)})}},{key:"search",value:function(e){this.searchTerm.next(e.value)}},{key:"doSearch",value:function(e){return o.default.Observable.fromPromise(i.default.searchGraph(e))}},{key:"getResults",value:function(){var e=this;return this.searchTerm.debounceTime(1e3).switchMap(function(t){return t?e.doSearch(t):o.default.Observable.of({status:1,content:[]})}).catch(function(e){return o.default.Observable.of(e)})}}]),e}();t.default=s},function(e,t,n){"use strict";var r=n(24),i=n(561),o=n(1172);t.toSubscriber=function(e,t,n){if(e){if(e instanceof r.Subscriber)return e;if(e[i.rxSubscriber])return e[i.rxSubscriber]()}return e||t||n?new r.Subscriber(e,t,n):new r.Subscriber(o.empty)}},function(e,t,n){"use strict";var r=n(7),i=n(1991);r.Observable.bindCallback=i.bindCallback},function(e,t,n){"use strict";var r=n(1992);t.bindCallback=r.BoundCallbackObservable.create},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},i=n(7),o=n(113),a=n(108),s=n(564),u=function(e){function t(t,n,r,i,o){e.call(this),this.callbackFunc=t,this.selector=n,this.args=r,this.context=i,this.scheduler=o}return r(t,e),t.create=function(e,n,r){return void 0===n&&(n=void 0),function(){for(var i=[],o=0;o<arguments.length;o++)i[o-0]=arguments[o];return new t(e,n,i,this,r)}},t.prototype._subscribe=function(e){var n=this.callbackFunc,r=this.args,i=this.scheduler,u=this.subject;if(i)return i.schedule(t.dispatch,0,{source:this,subscriber:e,context:this.context});if(!u){u=this.subject=new s.AsyncSubject;var l=function e(){for(var t=[],n=0;n<arguments.length;n++)t[n-0]=arguments[n];var r=e.source,i=r.selector,s=r.subject;if(i){var u=o.tryCatch(i).apply(this,t);u===a.errorObject?s.error(a.errorObject.e):(s.next(u),s.complete())}else s.next(t.length<=1?t[0]:t),s.complete()};l.source=this,o.tryCatch(n).apply(this.context,r.concat(l))===a.errorObject&&u.error(a.errorObject.e)}return u.subscribe(e)},t.dispatch=function(e){var t=this,n=e.source,r=e.subscriber,i=e.context,u=n.callbackFunc,d=n.args,f=n.scheduler,h=n.subject;if(!h){h=n.subject=new s.AsyncSubject;var p=function e(){for(var n=[],r=0;r<arguments.length;r++)n[r-0]=arguments[r];var i=e.source,s=i.selector,u=i.subject;if(s){var d=o.tryCatch(s).apply(this,n);d===a.errorObject?t.add(f.schedule(c,0,{err:a.errorObject.e,subject:u})):t.add(f.schedule(l,0,{value:d,subject:u}))}else{var h=n.length<=1?n[0]:n;t.add(f.schedule(l,0,{value:h,subject:u}))}};p.source=n,o.tryCatch(u).apply(i,d.concat(p))===a.errorObject&&h.error(a.errorObject.e)}t.add(h.subscribe(r))},t}(i.Observable);function l(e){var t=e.value,n=e.subject;n.next(t),n.complete()}function c(e){var t=e.err;e.subject.error(t)}t.BoundCallbackObservable=u},function(e,t,n){"use strict";var r=n(7),i=n(1994);r.Observable.bindNodeCallback=i.bindNodeCallback},function(e,t,n){"use strict";var r=n(1995);t.bindNodeCallback=r.BoundNodeCallbackObservable.create},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},i=n(7),o=n(113),a=n(108),s=n(564),u=function(e){function t(t,n,r,i,o){e.call(this),this.callbackFunc=t,this.selector=n,this.args=r,this.context=i,this.scheduler=o}return r(t,e),t.create=function(e,n,r){return void 0===n&&(n=void 0),function(){for(var i=[],o=0;o<arguments.length;o++)i[o-0]=arguments[o];return new t(e,n,i,this,r)}},t.prototype._subscribe=function(e){var t=this.callbackFunc,n=this.args,r=this.scheduler,i=this.subject;if(r)return r.schedule(l,0,{source:this,subscriber:e,context:this.context});if(!i){i=this.subject=new s.AsyncSubject;var u=function e(){for(var t=[],n=0;n<arguments.length;n++)t[n-0]=arguments[n];var r=e.source,i=r.selector,s=r.subject,u=t.shift();if(u)s.error(u);else if(i){var l=o.tryCatch(i).apply(this,t);l===a.errorObject?s.error(a.errorObject.e):(s.next(l),s.complete())}else s.next(t.length<=1?t[0]:t),s.complete()};u.source=this,o.tryCatch(t).apply(this.context,n.concat(u))===a.errorObject&&i.error(a.errorObject.e)}return i.subscribe(e)},t}(i.Observable);function l(e){var t=this,n=e.source,r=e.subscriber,i=e.context,u=n,l=u.callbackFunc,f=u.args,h=u.scheduler,p=n.subject;if(!p){p=n.subject=new s.AsyncSubject;var m=function e(){for(var n=[],r=0;r<arguments.length;r++)n[r-0]=arguments[r];var i=e.source,s=i.selector,u=i.subject,l=n.shift();if(l)t.add(h.schedule(d,0,{err:l,subject:u}));else if(s){var f=o.tryCatch(s).apply(this,n);f===a.errorObject?t.add(h.schedule(d,0,{err:a.errorObject.e,subject:u})):t.add(h.schedule(c,0,{value:f,subject:u}))}else{var p=n.length<=1?n[0]:n;t.add(h.schedule(c,0,{value:p,subject:u}))}};m.source=n,o.tryCatch(l).apply(i,f.concat(m))===a.errorObject&&t.add(h.schedule(d,0,{err:a.errorObject.e,subject:p}))}t.add(p.subscribe(r))}function c(e){var t=e.value,n=e.subject;n.next(t),n.complete()}function d(e){var t=e.err;e.subject.error(t)}t.BoundNodeCallbackObservable=u},function(e,t,n){"use strict";var r=n(7),i=n(1997);r.Observable.combineLatest=i.combineLatest},function(e,t,n){"use strict";var r=n(276),i=n(288),o=n(331),a=n(565);t.combineLatest=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];var n=null,s=null;return r.isScheduler(e[e.length-1])&&(s=e.pop()),"function"==typeof e[e.length-1]&&(n=e.pop()),1===e.length&&i.isArray(e[0])&&(e=e[0]),new o.ArrayObservable(e,s).lift(new a.CombineLatestOperator(n))}},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},i=function(e){function t(t,n,r){e.call(this),this.parent=t,this.outerValue=n,this.outerIndex=r,this.index=0}return r(t,e),t.prototype._next=function(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)},t.prototype._error=function(e){this.parent.notifyError(e,this),this.unsubscribe()},t.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},t}(n(24).Subscriber);t.InnerSubscriber=i},function(e,t,n){"use strict";var r=n(7),i=n(466);r.Observable.concat=i.concat},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},i=n(116),o=n(7),a=n(465),s=function(e){function t(t,n){if(e.call(this),this.scheduler=n,null==t)throw new Error("iterator cannot be null.");this.iterator=function(e){var t=e[a.iterator];if(!t&&"string"==typeof e)return new u(e);if(!t&&void 0!==e.length)return new l(e);if(!t)throw new TypeError("object is not iterable");return e[a.iterator]()}(t)}return r(t,e),t.create=function(e,n){return new t(e,n)},t.dispatch=function(e){var t=e.index,n=e.hasError,r=e.iterator,i=e.subscriber;if(n)i.error(e.error);else{var o=r.next();o.done?i.complete():(i.next(o.value),e.index=t+1,i.closed?"function"==typeof r.return&&r.return():this.schedule(e))}},t.prototype._subscribe=function(e){var n=this.iterator,r=this.scheduler;if(r)return r.schedule(t.dispatch,0,{index:0,iterator:n,subscriber:e});for(;;){var i=n.next();if(i.done){e.complete();break}if(e.next(i.value),e.closed){"function"==typeof n.return&&n.return();break}}},t}(o.Observable);t.IteratorObservable=s;var u=function(){function e(e,t,n){void 0===t&&(t=0),void 0===n&&(n=e.length),this.str=e,this.idx=t,this.len=n}return e.prototype[a.iterator]=function(){return this},e.prototype.next=function(){return this.idx<this.len?{done:!1,value:this.str.charAt(this.idx++)}:{done:!0,value:void 0}},e}(),l=function(){function e(e,t,n){void 0===t&&(t=0),void 0===n&&(n=function(e){var t=+e.length;if(isNaN(t))return 0;if(0===t||(n=t,"number"!=typeof n||!i.root.isFinite(n)))return t;var n;if((t=function(e){var t=+e;return 0===t?t:isNaN(t)?t:t<0?-1:1}(t)*Math.floor(Math.abs(t)))<=0)return 0;if(t>c)return c;return t}(e)),this.arr=e,this.idx=t,this.len=n}return e.prototype[a.iterator]=function(){return this},e.prototype.next=function(){return this.idx<this.len?{done:!1,value:this.arr[this.idx++]}:{done:!0,value:void 0}},e}();var c=Math.pow(2,53)-1},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},i=n(7),o=n(750),a=n(332),s=function(e){function t(t,n){e.call(this),this.arrayLike=t,this.scheduler=n,n||1!==t.length||(this._isScalar=!0,this.value=t[0])}return r(t,e),t.create=function(e,n){var r=e.length;return 0===r?new a.EmptyObservable:1===r?new o.ScalarObservable(e[0],n):new t(e,n)},t.dispatch=function(e){var t=e.arrayLike,n=e.index,r=e.length,i=e.subscriber;i.closed||(n>=r?i.complete():(i.next(t[n]),e.index=n+1,this.schedule(e)))},t.prototype._subscribe=function(e){var n=this.arrayLike,r=this.scheduler,i=n.length;if(r)return r.schedule(t.dispatch,0,{arrayLike:n,index:0,length:i,subscriber:e});for(var o=0;o<i&&!e.closed;o++)e.next(n[o]);e.complete()},t}(i.Observable);t.ArrayLikeObservable=s},function(e,t,n){"use strict";var r=n(7),i=n(2003);r.Observable.defer=i.defer},function(e,t,n){"use strict";var r=n(2004);t.defer=r.DeferObservable.create},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},i=n(7),o=n(46),a=n(45),s=function(e){function t(t){e.call(this),this.observableFactory=t}return r(t,e),t.create=function(e){return new t(e)},t.prototype._subscribe=function(e){return new u(e,this.observableFactory)},t}(i.Observable);t.DeferObservable=s;var u=function(e){function t(t,n){e.call(this,t),this.factory=n,this.tryDefer()}return r(t,e),t.prototype.tryDefer=function(){try{this._callFactory()}catch(e){this._error(e)}},t.prototype._callFactory=function(){var e=this.factory();e&&this.add(o.subscribeToResult(this,e))},t}(a.OuterSubscriber)},function(e,t,n){"use strict";var r=n(7),i=n(2006);r.Observable.empty=i.empty},function(e,t,n){"use strict";var r=n(332);t.empty=r.EmptyObservable.create},function(e,t,n){"use strict";var r=n(7),i=n(2008);r.Observable.forkJoin=i.forkJoin},function(e,t,n){"use strict";var r=n(2009);t.forkJoin=r.ForkJoinObservable.create},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},i=n(7),o=n(332),a=n(288),s=n(46),u=n(45),l=function(e){function t(t,n){e.call(this),this.sources=t,this.resultSelector=n}return r(t,e),t.create=function(){for(var e=[],n=0;n<arguments.length;n++)e[n-0]=arguments[n];if(null===e||0===arguments.length)return new o.EmptyObservable;var r=null;return"function"==typeof e[e.length-1]&&(r=e.pop()),1===e.length&&a.isArray(e[0])&&(e=e[0]),0===e.length?new o.EmptyObservable:new t(e,r)},t.prototype._subscribe=function(e){return new c(e,this.sources,this.resultSelector)},t}(i.Observable);t.ForkJoinObservable=l;var c=function(e){function t(t,n,r){e.call(this,t),this.sources=n,this.resultSelector=r,this.completed=0,this.haveValues=0;var i=n.length;this.total=i,this.values=new Array(i);for(var o=0;o<i;o++){var a=n[o],u=s.subscribeToResult(this,a,null,o);u&&(u.outerIndex=o,this.add(u))}}return r(t,e),t.prototype.notifyNext=function(e,t,n,r,i){this.values[n]=t,i._hasValue||(i._hasValue=!0,this.haveValues++)},t.prototype.notifyComplete=function(e){var t=this.destination,n=this.haveValues,r=this.resultSelector,i=this.values,o=i.length;if(e._hasValue){if(this.completed++,this.completed===o){if(n===o){var a=r?r.apply(this,i):i;t.next(a)}t.complete()}}else t.complete()},t}(u.OuterSubscriber)},function(e,t,n){"use strict";var r=n(7),i=n(1176);r.Observable.from=i.from},function(e,t,n){"use strict";var r=n(7),i=n(1180);r.Observable.fromEvent=i.fromEvent},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},i=n(7),o=n(113),a=n(560),s=n(108),u=n(103),l=Object.prototype.toString;var c=function(e){function t(t,n,r,i){e.call(this),this.sourceObj=t,this.eventName=n,this.selector=r,this.options=i}return r(t,e),t.create=function(e,n,r,i){return a.isFunction(r)&&(i=r,r=void 0),new t(e,n,i,r)},t.setupSubscription=function(e,n,r,i,o){var a;if(function(e){return!!e&&"[object NodeList]"===l.call(e)}(e)||function(e){return!!e&&"[object HTMLCollection]"===l.call(e)}(e))for(var s=0,c=e.length;s<c;s++)t.setupSubscription(e[s],n,r,i,o);else if(function(e){return!!e&&"function"==typeof e.addEventListener&&"function"==typeof e.removeEventListener}(e)){var d=e;e.addEventListener(n,r,o),a=function(){return d.removeEventListener(n,r,o)}}else if(function(e){return!!e&&"function"==typeof e.on&&"function"==typeof e.off}(e)){var f=e;e.on(n,r),a=function(){return f.off(n,r)}}else{if(!function(e){return!!e&&"function"==typeof e.addListener&&"function"==typeof e.removeListener}(e))throw new TypeError("Invalid event target");var h=e;e.addListener(n,r),a=function(){return h.removeListener(n,r)}}i.add(new u.Subscription(a))},t.prototype._subscribe=function(e){var n=this.sourceObj,r=this.eventName,i=this.options,a=this.selector,u=a?function(){for(var t=[],n=0;n<arguments.length;n++)t[n-0]=arguments[n];var r=o.tryCatch(a).apply(void 0,t);r===s.errorObject?e.error(s.errorObject.e):e.next(r)}:function(t){return e.next(t)};t.setupSubscription(n,r,u,e,i)},t}(i.Observable);t.FromEventObservable=c},function(e,t,n){"use strict";var r=n(7),i=n(2014);r.Observable.fromEventPattern=i.fromEventPattern},function(e,t,n){"use strict";var r=n(2015);t.fromEventPattern=r.FromEventPatternObservable.create},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},i=n(560),o=n(7),a=n(103),s=function(e){function t(t,n,r){e.call(this),this.addHandler=t,this.removeHandler=n,this.selector=r}return r(t,e),t.create=function(e,n,r){return new t(e,n,r)},t.prototype._subscribe=function(e){var t=this,n=this.removeHandler,r=this.selector?function(){for(var n=[],r=0;r<arguments.length;r++)n[r-0]=arguments[r];t._callSelector(e,n)}:function(t){e.next(t)},o=this._callAddHandler(r,e);i.isFunction(n)&&e.add(new a.Subscription(function(){n(r,o)}))},t.prototype._callSelector=function(e,t){try{var n=this.selector.apply(this,t);e.next(n)}catch(t){e.error(t)}},t.prototype._callAddHandler=function(e,t){try{return this.addHandler(e)||null}catch(e){t.error(e)}},t}(o.Observable);t.FromEventPatternObservable=s},function(e,t,n){"use strict";var r=n(7),i=n(2017);r.Observable.fromPromise=i.fromPromise},function(e,t,n){"use strict";var r=n(1178);t.fromPromise=r.PromiseObservable.create},function(e,t,n){"use strict";var r=n(7),i=n(2019);r.Observable.generate=i.generate},function(e,t,n){"use strict";var r=n(2020);t.generate=r.GenerateObservable.create},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},i=n(7),o=n(276),a=function(e){return e},s=function(e){function t(t,n,r,i,o){e.call(this),this.initialState=t,this.condition=n,this.iterate=r,this.resultSelector=i,this.scheduler=o}return r(t,e),t.create=function(e,n,r,i,s){return 1==arguments.length?new t(e.initialState,e.condition,e.iterate,e.resultSelector||a,e.scheduler):void 0===i||o.isScheduler(i)?new t(e,n,r,a,i):new t(e,n,r,i,s)},t.prototype._subscribe=function(e){var n=this.initialState;if(this.scheduler)return this.scheduler.schedule(t.dispatch,0,{subscriber:e,iterate:this.iterate,condition:this.condition,resultSelector:this.resultSelector,state:n});for(var r=this.condition,i=this.resultSelector,o=this.iterate;;){if(r){var a=void 0;try{a=r(n)}catch(t){return void e.error(t)}if(!a){e.complete();break}}var s=void 0;try{s=i(n)}catch(t){return void e.error(t)}if(e.next(s),e.closed)break;try{n=o(n)}catch(t){return void e.error(t)}}},t.dispatch=function(e){var t=e.subscriber,n=e.condition;if(!t.closed){if(e.needIterate)try{e.state=e.iterate(e.state)}catch(e){return void t.error(e)}else e.needIterate=!0;if(n){var r=void 0;try{r=n(e.state)}catch(e){return void t.error(e)}if(!r)return void t.complete();if(t.closed)return}var i;try{i=e.resultSelector(e.state)}catch(e){return void t.error(e)}if(!t.closed&&(t.next(i),!t.closed))return this.schedule(e)}},t}(i.Observable);t.GenerateObservable=s},function(e,t,n){"use strict";var r=n(7),i=n(2022);r.Observable.if=i._if},function(e,t,n){"use strict";var r=n(2023);t._if=r.IfObservable.create},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},i=n(7),o=n(46),a=n(45),s=function(e){function t(t,n,r){e.call(this),this.condition=t,this.thenSource=n,this.elseSource=r}return r(t,e),t.create=function(e,n,r){return new t(e,n,r)},t.prototype._subscribe=function(e){var t=this.condition,n=this.thenSource,r=this.elseSource;return new u(e,t,n,r)},t}(i.Observable);t.IfObservable=s;var u=function(e){function t(t,n,r,i){e.call(this,t),this.condition=n,this.thenSource=r,this.elseSource=i,this.tryIf()}return r(t,e),t.prototype.tryIf=function(){var e=this.condition,t=this.thenSource,n=this.elseSource;try{var r=e()?t:n;r?this.add(o.subscribeToResult(this,r)):this._complete()}catch(e){this._error(e)}},t}(a.OuterSubscriber)},function(e,t,n){"use strict";var r=n(7),i=n(1181);r.Observable.interval=i.interval},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},i=n(469),o=n(7),a=n(73),s=function(e){function t(t,n){void 0===t&&(t=0),void 0===n&&(n=a.async),e.call(this),this.period=t,this.scheduler=n,(!i.isNumeric(t)||t<0)&&(this.period=0),n&&"function"==typeof n.schedule||(this.scheduler=a.async)}return r(t,e),t.create=function(e,n){return void 0===e&&(e=0),void 0===n&&(n=a.async),new t(e,n)},t.dispatch=function(e){var t=e.index,n=e.subscriber,r=e.period;n.next(t),n.closed||(e.index+=1,this.schedule(e,r))},t.prototype._subscribe=function(e){var n=this.period,r=this.scheduler;e.add(r.schedule(t.dispatch,n,{index:0,subscriber:e,period:n}))},t}(o.Observable);t.IntervalObservable=s},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},i=function(e){function t(t,n){e.call(this)}return r(t,e),t.prototype.schedule=function(e,t){return void 0===t&&(t=0),this},t}(n(103).Subscription);t.Action=i},function(e,t,n){"use strict";var r=function(){function e(t,n){void 0===n&&(n=e.now),this.SchedulerAction=t,this.now=n}return e.prototype.schedule=function(e,t,n){return void 0===t&&(t=0),new this.SchedulerAction(this,e).schedule(n,t)},e.now=Date.now?Date.now:function(){return+new Date},e}();t.Scheduler=r},function(e,t,n){"use strict";var r=n(7),i=n(568);r.Observable.merge=i.merge},function(e,t,n){"use strict";var r=n(7),i=n(753);r.Observable.race=i.race},function(e,t,n){"use strict";var r=n(7),i=n(2031);r.Observable.never=i.never},function(e,t,n){"use strict";var r=n(2032);t.never=r.NeverObservable.create},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},i=n(7),o=n(749),a=function(e){function t(){e.call(this)}return r(t,e),t.create=function(){return new t},t.prototype._subscribe=function(e){o.noop()},t}(i.Observable);t.NeverObservable=a},function(e,t,n){"use strict";var r=n(7),i=n(751);r.Observable.of=i.of},function(e,t,n){"use strict";var r=n(7),i=n(2035);r.Observable.onErrorResumeNext=i.onErrorResumeNext},function(e,t,n){"use strict";var r=n(754);t.onErrorResumeNext=r.onErrorResumeNextStatic},function(e,t,n){"use strict";var r=n(7),i=n(2037);r.Observable.pairs=i.pairs},function(e,t,n){"use strict";var r=n(2038);t.pairs=r.PairsObservable.create},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)};function i(e){var t=e.obj,n=e.keys,r=e.length,i=e.index,o=e.subscriber;if(i!==r){var a=n[i];o.next([a,t[a]]),e.index=i+1,this.schedule(e)}else o.complete()}var o=function(e){function t(t,n){e.call(this),this.obj=t,this.scheduler=n,this.keys=Object.keys(t)}return r(t,e),t.create=function(e,n){return new t(e,n)},t.prototype._subscribe=function(e){var t=this.keys,n=this.scheduler,r=t.length;if(n)return n.schedule(i,0,{obj:this.obj,keys:t,length:r,index:0,subscriber:e});for(var o=0;o<r;o++){var a=t[o];e.next([a,this.obj[a]])}e.complete()},t}(n(7).Observable);t.PairsObservable=o},function(e,t,n){"use strict";var r=n(7),i=n(2040);r.Observable.range=i.range},function(e,t,n){"use strict";var r=n(2041);t.range=r.RangeObservable.create},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},i=function(e){function t(t,n,r){e.call(this),this.start=t,this._count=n,this.scheduler=r}return r(t,e),t.create=function(e,n,r){return void 0===e&&(e=0),void 0===n&&(n=0),new t(e,n,r)},t.dispatch=function(e){var t=e.start,n=e.index,r=e.count,i=e.subscriber;n>=r?i.complete():(i.next(t),i.closed||(e.index=n+1,e.start=t+1,this.schedule(e)))},t.prototype._subscribe=function(e){var n=0,r=this.start,i=this._count,o=this.scheduler;if(o)return o.schedule(t.dispatch,0,{index:n,count:i,start:r,subscriber:e});for(;;){if(n++>=i){e.complete();break}if(e.next(r++),e.closed)break}},t}(n(7).Observable);t.RangeObservable=i},function(e,t,n){"use strict";var r=n(7),i=n(2043);r.Observable.using=i.using},function(e,t,n){"use strict";var r=n(2044);t.using=r.UsingObservable.create},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},i=n(7),o=n(46),a=n(45),s=function(e){function t(t,n){e.call(this),this.resourceFactory=t,this.observableFactory=n}return r(t,e),t.create=function(e,n){return new t(e,n)},t.prototype._subscribe=function(e){var t,n=this.resourceFactory,r=this.observableFactory;try{return t=n(),new u(e,t,r)}catch(t){e.error(t)}},t}(i.Observable);t.UsingObservable=s;var u=function(e){function t(t,n,r){e.call(this,t),this.resource=n,this.observableFactory=r,t.add(n),this.tryUse()}return r(t,e),t.prototype.tryUse=function(){try{var e=this.observableFactory.call(this,this.resource);e&&this.add(o.subscribeToResult(this,e))}catch(e){this._error(e)}},t}(a.OuterSubscriber)},function(e,t,n){"use strict";var r=n(7),i=n(2046);r.Observable.throw=i._throw},function(e,t,n){"use strict";var r=n(2047);t._throw=r.ErrorObservable.create},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},i=function(e){function t(t,n){e.call(this),this.error=t,this.scheduler=n}return r(t,e),t.create=function(e,n){return new t(e,n)},t.dispatch=function(e){var t=e.error;e.subscriber.error(t)},t.prototype._subscribe=function(e){var n=this.error,r=this.scheduler;if(e.syncErrorThrowable=!0,r)return r.schedule(t.dispatch,0,{error:n,subscriber:e});e.error(n)},t}(n(7).Observable);t.ErrorObservable=i},function(e,t,n){"use strict";var r=n(7),i=n(1182);r.Observable.timer=i.timer},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},i=n(469),o=n(7),a=n(73),s=n(276),u=n(569),l=function(e){function t(t,n,r){void 0===t&&(t=0),e.call(this),this.period=-1,this.dueTime=0,i.isNumeric(n)?this.period=Number(n)<1?1:Number(n):s.isScheduler(n)&&(r=n),s.isScheduler(r)||(r=a.async),this.scheduler=r,this.dueTime=u.isDate(t)?+t-this.scheduler.now():t}return r(t,e),t.create=function(e,n,r){return void 0===e&&(e=0),new t(e,n,r)},t.dispatch=function(e){var t=e.index,n=e.period,r=e.subscriber;if(r.next(t),!r.closed){if(-1===n)return r.complete();e.index=t+1,this.schedule(e,n)}},t.prototype._subscribe=function(e){var n=this.period,r=this.dueTime;return this.scheduler.schedule(t.dispatch,r,{index:0,period:n,subscriber:e})},t}(o.Observable);t.TimerObservable=l},function(e,t,n){"use strict";var r=n(7),i=n(2051);r.Observable.zip=i.zip},function(e,t,n){"use strict";var r=n(570);t.zip=r.zipStatic},function(e,t,n){"use strict";var r=n(7),i=n(2053);r.Observable.ajax=i.ajax},function(e,t,n){"use strict";var r=n(1183);t.ajax=r.AjaxObservable.create},function(e,t,n){"use strict";var r=n(7),i=n(2055);r.Observable.webSocket=i.webSocket},function(e,t,n){"use strict";var r=n(2056);t.webSocket=r.WebSocketSubject.create},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},i=n(107),o=n(24),a=n(7),s=n(103),u=n(116),l=n(571),c=n(113),d=n(108),f=n(2059),h=function(e){function t(t,n){if(t instanceof a.Observable)e.call(this,n,t);else{if(e.call(this),this.WebSocketCtor=u.root.WebSocket,this._output=new i.Subject,"string"==typeof t?this.url=t:f.assign(this,t),!this.WebSocketCtor)throw new Error("no WebSocket constructor can be found");this.destination=new l.ReplaySubject}}return r(t,e),t.prototype.resultSelector=function(e){return JSON.parse(e.data)},t.create=function(e){return new t(e)},t.prototype.lift=function(e){var n=new t(this,this.destination);return n.operator=e,n},t.prototype._resetState=function(){this.socket=null,this.source||(this.destination=new l.ReplaySubject),this._output=new i.Subject},t.prototype.multiplex=function(e,t,n){var r=this;return new a.Observable(function(i){var o=c.tryCatch(e)();o===d.errorObject?i.error(d.errorObject.e):r.next(o);var a=r.subscribe(function(e){var t=c.tryCatch(n)(e);t===d.errorObject?i.error(d.errorObject.e):t&&i.next(e)},function(e){return i.error(e)},function(){return i.complete()});return function(){var e=c.tryCatch(t)();e===d.errorObject?i.error(d.errorObject.e):r.next(e),a.unsubscribe()}})},t.prototype._connectSocket=function(){var e=this,t=this.WebSocketCtor,n=this._output,r=null;try{r=this.protocol?new t(this.url,this.protocol):new t(this.url),this.socket=r,this.binaryType&&(this.socket.binaryType=this.binaryType)}catch(e){return void n.error(e)}var i=new s.Subscription(function(){e.socket=null,r&&1===r.readyState&&r.close()});r.onopen=function(t){var a=e.openObserver;a&&a.next(t);var s=e.destination;e.destination=o.Subscriber.create(function(e){return 1===r.readyState&&r.send(e)},function(t){var i=e.closingObserver;i&&i.next(void 0),t&&t.code?r.close(t.code,t.reason):n.error(new TypeError("WebSocketSubject.error must be called with an object with an error code, and an optional reason: { code: number, reason: string }")),e._resetState()},function(){var t=e.closingObserver;t&&t.next(void 0),r.close(),e._resetState()}),s&&s instanceof l.ReplaySubject&&i.add(s.subscribe(e.destination))},r.onerror=function(t){e._resetState(),n.error(t)},r.onclose=function(t){e._resetState();var r=e.closeObserver;r&&r.next(t),t.wasClean?n.complete():n.error(t)},r.onmessage=function(t){var r=c.tryCatch(e.resultSelector)(t);r===d.errorObject?n.error(d.errorObject.e):n.next(r)}},t.prototype._subscribe=function(e){var t=this,n=this.source;if(n)return n.subscribe(e);this.socket||this._connectSocket();var r=new s.Subscription;return r.add(this._output.subscribe(e)),r.add(function(){var e=t.socket;0===t._output.observers.length&&(e&&1===e.readyState&&e.close(),t._resetState())}),r},t.prototype.unsubscribe=function(){var t=this.source,n=this.socket;n&&1===n.readyState&&(n.close(),this._resetState()),e.prototype.unsubscribe.call(this),t||(this.destination=new l.ReplaySubject)},t}(i.AnonymousSubject);t.WebSocketSubject=h},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},i=function(e){function t(t,n){e.call(this,t,n),this.scheduler=t,this.work=n}return r(t,e),t.prototype.schedule=function(t,n){return void 0===n&&(n=0),n>0?e.prototype.schedule.call(this,t,n):(this.delay=n,this.state=t,this.scheduler.flush(this),this)},t.prototype.execute=function(t,n){return n>0||this.closed?e.prototype.execute.call(this,t,n):this._execute(t,n)},t.prototype.requestAsyncId=function(t,n,r){return void 0===r&&(r=0),null!==r&&r>0||null===r&&this.delay>0?e.prototype.requestAsyncId.call(this,t,n,r):t.flush(this)},t}(n(470).AsyncAction);t.QueueAction=i},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},i=function(e){function t(){e.apply(this,arguments)}return r(t,e),t}(n(471).AsyncScheduler);t.QueueScheduler=i},function(e,t,n){"use strict";var r=n(116);function i(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=t.length,i=0;i<r;i++){var o=t[i];for(var a in o)o.hasOwnProperty(a)&&(e[a]=o[a])}return e}function o(e){return e.Object.assign||i}t.assignImpl=i,t.getAssign=o,t.assign=o(r.root)},function(e,t,n){"use strict";var r=n(7),i=n(2061);r.Observable.prototype.buffer=i.buffer},function(e,t,n){"use strict";var r=n(1185);t.buffer=function(e){return r.buffer(e)(this)}},function(e,t,n){"use strict";var r=n(7),i=n(2063);r.Observable.prototype.bufferCount=i.bufferCount},function(e,t,n){"use strict";var r=n(1186);t.bufferCount=function(e,t){return void 0===t&&(t=null),r.bufferCount(e,t)(this)}},function(e,t,n){"use strict";var r=n(7),i=n(2065);r.Observable.prototype.bufferTime=i.bufferTime},function(e,t,n){"use strict";var r=n(73),i=n(276),o=n(1187);t.bufferTime=function(e){var t=arguments.length,n=r.async;i.isScheduler(arguments[arguments.length-1])&&(n=arguments[arguments.length-1],t--);var a=null;t>=2&&(a=arguments[1]);var s=Number.POSITIVE_INFINITY;return t>=3&&(s=arguments[2]),o.bufferTime(e,a,s,n)(this)}},function(e,t,n){"use strict";var r=n(7),i=n(2067);r.Observable.prototype.bufferToggle=i.bufferToggle},function(e,t,n){"use strict";var r=n(1188);t.bufferToggle=function(e,t){return r.bufferToggle(e,t)(this)}},function(e,t,n){"use strict";var r=n(7),i=n(2069);r.Observable.prototype.bufferWhen=i.bufferWhen},function(e,t,n){"use strict";var r=n(1189);t.bufferWhen=function(e){return r.bufferWhen(e)(this)}},function(e,t,n){"use strict";var r=n(7),i=n(2071);r.Observable.prototype.catch=i._catch,r.Observable.prototype._catch=i._catch},function(e,t,n){"use strict";var r=n(1190);t._catch=function(e){return r.catchError(e)(this)}},function(e,t,n){"use strict";var r=n(7),i=n(2073);r.Observable.prototype.combineAll=i.combineAll},function(e,t,n){"use strict";var r=n(1191);t.combineAll=function(e){return r.combineAll(e)(this)}},function(e,t,n){"use strict";var r=n(7),i=n(2075);r.Observable.prototype.combineLatest=i.combineLatest},function(e,t,n){"use strict";var r=n(565);t.combineLatest=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return r.combineLatest.apply(void 0,e)(this)}},function(e,t,n){"use strict";var r=n(7),i=n(2077);r.Observable.prototype.concat=i.concat},function(e,t,n){"use strict";var r=n(1192),i=n(466);t.concatStatic=i.concat,t.concat=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return r.concat.apply(void 0,e)(this)}},function(e,t,n){"use strict";var r=n(7),i=n(2079);r.Observable.prototype.concatAll=i.concatAll},function(e,t,n){"use strict";var r=n(752);t.concatAll=function(){return r.concatAll()(this)}},function(e,t,n){"use strict";var r=n(7),i=n(2081);r.Observable.prototype.concatMap=i.concatMap},function(e,t,n){"use strict";var r=n(755);t.concatMap=function(e,t){return r.concatMap(e,t)(this)}},function(e,t,n){"use strict";var r=n(7),i=n(2083);r.Observable.prototype.concatMapTo=i.concatMapTo},function(e,t,n){"use strict";var r=n(1193);t.concatMapTo=function(e,t){return r.concatMapTo(e,t)(this)}},function(e,t,n){"use strict";var r=n(7),i=n(2085);r.Observable.prototype.count=i.count},function(e,t,n){"use strict";var r=n(1194);t.count=function(e){return r.count(e)(this)}},function(e,t,n){"use strict";var r=n(7),i=n(2087);r.Observable.prototype.dematerialize=i.dematerialize},function(e,t,n){"use strict";var r=n(1195);t.dematerialize=function(){return r.dematerialize()(this)}},function(e,t,n){"use strict";var r=n(7),i=n(2089);r.Observable.prototype.debounce=i.debounce},function(e,t,n){"use strict";var r=n(1196);t.debounce=function(e){return r.debounce(e)(this)}},function(e,t,n){"use strict";var r=n(7),i=n(2091);r.Observable.prototype.debounceTime=i.debounceTime},function(e,t,n){"use strict";var r=n(73),i=n(1197);t.debounceTime=function(e,t){return void 0===t&&(t=r.async),i.debounceTime(e,t)(this)}},function(e,t,n){"use strict";var r=n(7),i=n(2093);r.Observable.prototype.defaultIfEmpty=i.defaultIfEmpty},function(e,t,n){"use strict";var r=n(756);t.defaultIfEmpty=function(e){return void 0===e&&(e=null),r.defaultIfEmpty(e)(this)}},function(e,t,n){"use strict";var r=n(7),i=n(2095);r.Observable.prototype.delay=i.delay},function(e,t,n){"use strict";var r=n(73),i=n(1198);t.delay=function(e,t){return void 0===t&&(t=r.async),i.delay(e,t)(this)}},function(e,t,n){"use strict";var r=n(7),i=n(2097);r.Observable.prototype.delayWhen=i.delayWhen},function(e,t,n){"use strict";var r=n(1199);t.delayWhen=function(e,t){return r.delayWhen(e,t)(this)}},function(e,t,n){"use strict";var r=n(7),i=n(2099);r.Observable.prototype.distinct=i.distinct},function(e,t,n){"use strict";var r=n(1200);t.distinct=function(e,t){return r.distinct(e,t)(this)}},function(e,t,n){"use strict";var r=n(116);function i(){return function(){function e(){this._values=[]}return e.prototype.add=function(e){this.has(e)||this._values.push(e)},e.prototype.has=function(e){return-1!==this._values.indexOf(e)},Object.defineProperty(e.prototype,"size",{get:function(){return this._values.length},enumerable:!0,configurable:!0}),e.prototype.clear=function(){this._values.length=0},e}()}t.minimalSetImpl=i,t.Set=r.root.Set||i()},function(e,t,n){"use strict";var r=n(7),i=n(2102);r.Observable.prototype.distinctUntilChanged=i.distinctUntilChanged},function(e,t,n){"use strict";var r=n(757);t.distinctUntilChanged=function(e,t){return r.distinctUntilChanged(e,t)(this)}},function(e,t,n){"use strict";var r=n(7),i=n(2104);r.Observable.prototype.distinctUntilKeyChanged=i.distinctUntilKeyChanged},function(e,t,n){"use strict";var r=n(1201);t.distinctUntilKeyChanged=function(e,t){return r.distinctUntilKeyChanged(e,t)(this)}},function(e,t,n){"use strict";var r=n(7),i=n(2106);r.Observable.prototype.do=i._do,r.Observable.prototype._do=i._do},function(e,t,n){"use strict";var r=n(1202);t._do=function(e,t,n){return r.tap(e,t,n)(this)}},function(e,t,n){"use strict";var r=n(7),i=n(2108);r.Observable.prototype.exhaust=i.exhaust},function(e,t,n){"use strict";var r=n(1203);t.exhaust=function(){return r.exhaust()(this)}},function(e,t,n){"use strict";var r=n(7),i=n(2110);r.Observable.prototype.exhaustMap=i.exhaustMap},function(e,t,n){"use strict";var r=n(1204);t.exhaustMap=function(e,t){return r.exhaustMap(e,t)(this)}},function(e,t,n){"use strict";var r=n(7),i=n(2112);r.Observable.prototype.expand=i.expand},function(e,t,n){"use strict";var r=n(1205);t.expand=function(e,t,n){return void 0===t&&(t=Number.POSITIVE_INFINITY),void 0===n&&(n=void 0),t=(t||0)<1?Number.POSITIVE_INFINITY:t,r.expand(e,t,n)(this)}},function(e,t,n){"use strict";var r=n(7),i=n(2114);r.Observable.prototype.elementAt=i.elementAt},function(e,t,n){"use strict";var r=n(1206);t.elementAt=function(e,t){return r.elementAt(e,t)(this)}},function(e,t,n){"use strict";var r=n(7),i=n(2116);r.Observable.prototype.filter=i.filter},function(e,t,n){"use strict";var r=n(758);t.filter=function(e,t){return r.filter(e,t)(this)}},function(e,t,n){"use strict";var r=n(7),i=n(2118);r.Observable.prototype.finally=i._finally,r.Observable.prototype._finally=i._finally},function(e,t,n){"use strict";var r=n(1207);t._finally=function(e){return r.finalize(e)(this)}},function(e,t,n){"use strict";var r=n(7),i=n(2120);r.Observable.prototype.find=i.find},function(e,t,n){"use strict";var r=n(759);t.find=function(e,t){return r.find(e,t)(this)}},function(e,t,n){"use strict";var r=n(7),i=n(2122);r.Observable.prototype.findIndex=i.findIndex},function(e,t,n){"use strict";var r=n(1208);t.findIndex=function(e,t){return r.findIndex(e,t)(this)}},function(e,t,n){"use strict";var r=n(7),i=n(2124);r.Observable.prototype.first=i.first},function(e,t,n){"use strict";var r=n(1209);t.first=function(e,t,n){return r.first(e,t,n)(this)}},function(e,t,n){"use strict";var r=n(7),i=n(2126);r.Observable.prototype.groupBy=i.groupBy},function(e,t,n){"use strict";var r=n(1210);t.GroupedObservable=r.GroupedObservable,t.groupBy=function(e,t,n,i){return r.groupBy(e,t,n,i)(this)}},function(e,t,n){"use strict";var r=n(116),i=n(2128);t.Map=r.root.Map||i.MapPolyfill},function(e,t,n){"use strict";var r=function(){function e(){this.size=0,this._values=[],this._keys=[]}return e.prototype.get=function(e){var t=this._keys.indexOf(e);return-1===t?void 0:this._values[t]},e.prototype.set=function(e,t){var n=this._keys.indexOf(e);return-1===n?(this._keys.push(e),this._values.push(t),this.size++):this._values[n]=t,this},e.prototype.delete=function(e){var t=this._keys.indexOf(e);return-1!==t&&(this._values.splice(t,1),this._keys.splice(t,1),this.size--,!0)},e.prototype.clear=function(){this._keys.length=0,this._values.length=0,this.size=0},e.prototype.forEach=function(e,t){for(var n=0;n<this.size;n++)e.call(t,this._values[n],this._keys[n])},e}();t.MapPolyfill=r},function(e,t,n){"use strict";var r=function(){function e(){this.values={}}return e.prototype.delete=function(e){return this.values[e]=null,!0},e.prototype.set=function(e,t){return this.values[e]=t,this},e.prototype.get=function(e){return this.values[e]},e.prototype.forEach=function(e,t){var n=this.values;for(var r in n)n.hasOwnProperty(r)&&null!==n[r]&&e.call(t,n[r],r)},e.prototype.clear=function(){this.values={}},e}();t.FastMap=r},function(e,t,n){"use strict";var r=n(7),i=n(2131);r.Observable.prototype.ignoreElements=i.ignoreElements},function(e,t,n){"use strict";var r=n(1211);t.ignoreElements=function(){return r.ignoreElements()(this)}},function(e,t,n){"use strict";var r=n(7),i=n(2133);r.Observable.prototype.isEmpty=i.isEmpty},function(e,t,n){"use strict";var r=n(1212);t.isEmpty=function(){return r.isEmpty()(this)}},function(e,t,n){"use strict";var r=n(7),i=n(2135);r.Observable.prototype.audit=i.audit},function(e,t,n){"use strict";var r=n(760);t.audit=function(e){return r.audit(e)(this)}},function(e,t,n){"use strict";var r=n(7),i=n(2137);r.Observable.prototype.auditTime=i.auditTime},function(e,t,n){"use strict";var r=n(73),i=n(1213);t.auditTime=function(e,t){return void 0===t&&(t=r.async),i.auditTime(e,t)(this)}},function(e,t,n){"use strict";var r=n(7),i=n(2139);r.Observable.prototype.last=i.last},function(e,t,n){"use strict";var r=n(1214);t.last=function(e,t,n){return r.last(e,t,n)(this)}},function(e,t,n){"use strict";var r=n(7),i=n(2141);r.Observable.prototype.let=i.letProto,r.Observable.prototype.letBind=i.letProto},function(e,t,n){"use strict";t.letProto=function(e){return e(this)}},function(e,t,n){"use strict";var r=n(7),i=n(2143);r.Observable.prototype.every=i.every},function(e,t,n){"use strict";var r=n(1215);t.every=function(e,t){return r.every(e,t)(this)}},function(e,t,n){"use strict";var r=n(7),i=n(2145);r.Observable.prototype.map=i.map},function(e,t,n){"use strict";var r=n(472);t.map=function(e,t){return r.map(e,t)(this)}},function(e,t,n){"use strict";var r=n(7),i=n(2147);r.Observable.prototype.mapTo=i.mapTo},function(e,t,n){"use strict";var r=n(1216);t.mapTo=function(e){return r.mapTo(e)(this)}},function(e,t,n){"use strict";var r=n(7),i=n(2149);r.Observable.prototype.materialize=i.materialize},function(e,t,n){"use strict";var r=n(1217);t.materialize=function(){return r.materialize()(this)}},function(e,t,n){"use strict";var r=n(7),i=n(2151);r.Observable.prototype.max=i.max},function(e,t,n){"use strict";var r=n(1218);t.max=function(e){return r.max(e)(this)}},function(e,t,n){"use strict";var r=n(7),i=n(2153);r.Observable.prototype.merge=i.merge},function(e,t,n){"use strict";var r=n(1219),i=n(568);t.mergeStatic=i.merge,t.merge=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return r.merge.apply(void 0,e)(this)}},function(e,t,n){"use strict";var r=n(7),i=n(2155);r.Observable.prototype.mergeAll=i.mergeAll},function(e,t,n){"use strict";var r=n(567);t.mergeAll=function(e){return void 0===e&&(e=Number.POSITIVE_INFINITY),r.mergeAll(e)(this)}},function(e,t,n){"use strict";var r=n(7),i=n(2157);r.Observable.prototype.mergeMap=i.mergeMap,r.Observable.prototype.flatMap=i.mergeMap},function(e,t,n){"use strict";var r=n(468);t.mergeMap=function(e,t,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),r.mergeMap(e,t,n)(this)}},function(e,t,n){"use strict";var r=n(7),i=n(2159);r.Observable.prototype.flatMapTo=i.mergeMapTo,r.Observable.prototype.mergeMapTo=i.mergeMapTo},function(e,t,n){"use strict";var r=n(1220);t.mergeMapTo=function(e,t,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),r.mergeMapTo(e,t,n)(this)}},function(e,t,n){"use strict";var r=n(7),i=n(2161);r.Observable.prototype.mergeScan=i.mergeScan},function(e,t,n){"use strict";var r=n(1221);t.mergeScan=function(e,t,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),r.mergeScan(e,t,n)(this)}},function(e,t,n){"use strict";var r=n(7),i=n(2163);r.Observable.prototype.min=i.min},function(e,t,n){"use strict";var r=n(1222);t.min=function(e){return r.min(e)(this)}},function(e,t,n){"use strict";var r=n(7),i=n(2165);r.Observable.prototype.multicast=i.multicast},function(e,t,n){"use strict";var r=n(354);t.multicast=function(e,t){return r.multicast(e,t)(this)}},function(e,t,n){"use strict";var r=n(7),i=n(2167);r.Observable.prototype.observeOn=i.observeOn},function(e,t,n){"use strict";var r=n(566);t.observeOn=function(e,t){return void 0===t&&(t=0),r.observeOn(e,t)(this)}},function(e,t,n){"use strict";var r=n(7),i=n(2169);r.Observable.prototype.onErrorResumeNext=i.onErrorResumeNext},function(e,t,n){"use strict";var r=n(754);t.onErrorResumeNext=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return r.onErrorResumeNext.apply(void 0,e)(this)}},function(e,t,n){"use strict";var r=n(7),i=n(2171);r.Observable.prototype.pairwise=i.pairwise},function(e,t,n){"use strict";var r=n(1224);t.pairwise=function(){return r.pairwise()(this)}},function(e,t,n){"use strict";var r=n(7),i=n(2173);r.Observable.prototype.partition=i.partition},function(e,t,n){"use strict";var r=n(1225);t.partition=function(e,t){return r.partition(e,t)(this)}},function(e,t,n){"use strict";t.not=function(e,t){function n(){return!n.pred.apply(n.thisArg,arguments)}return n.pred=e,n.thisArg=t,n}},function(e,t,n){"use strict";var r=n(7),i=n(2176);r.Observable.prototype.pluck=i.pluck},function(e,t,n){"use strict";var r=n(1226);t.pluck=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return r.pluck.apply(void 0,e)(this)}},function(e,t,n){"use strict";var r=n(7),i=n(2178);r.Observable.prototype.publish=i.publish},function(e,t,n){"use strict";var r=n(1227);t.publish=function(e){return r.publish(e)(this)}},function(e,t,n){"use strict";var r=n(7),i=n(2180);r.Observable.prototype.publishBehavior=i.publishBehavior},function(e,t,n){"use strict";var r=n(1228);t.publishBehavior=function(e){return r.publishBehavior(e)(this)}},function(e,t,n){"use strict";var r=n(7),i=n(2182);r.Observable.prototype.publishReplay=i.publishReplay},function(e,t,n){"use strict";var r=n(1230);t.publishReplay=function(e,t,n,i){return r.publishReplay(e,t,n,i)(this)}},function(e,t,n){"use strict";var r=n(7),i=n(2184);r.Observable.prototype.publishLast=i.publishLast},function(e,t,n){"use strict";var r=n(1231);t.publishLast=function(){return r.publishLast()(this)}},function(e,t,n){"use strict";var r=n(7),i=n(2186);r.Observable.prototype.race=i.race},function(e,t,n){"use strict";var r=n(1232),i=n(753);t.raceStatic=i.race,t.race=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return r.race.apply(void 0,e)(this)}},function(e,t,n){"use strict";var r=n(7),i=n(2188);r.Observable.prototype.reduce=i.reduce},function(e,t,n){"use strict";var r=n(474);t.reduce=function(e,t){return arguments.length>=2?r.reduce(e,t)(this):r.reduce(e)(this)}},function(e,t,n){"use strict";var r=n(7),i=n(2190);r.Observable.prototype.repeat=i.repeat},function(e,t,n){"use strict";var r=n(1233);t.repeat=function(e){return void 0===e&&(e=-1),r.repeat(e)(this)}},function(e,t,n){"use strict";var r=n(7),i=n(2192);r.Observable.prototype.repeatWhen=i.repeatWhen},function(e,t,n){"use strict";var r=n(1234);t.repeatWhen=function(e){return r.repeatWhen(e)(this)}},function(e,t,n){"use strict";var r=n(7),i=n(2194);r.Observable.prototype.retry=i.retry},function(e,t,n){"use strict";var r=n(1235);t.retry=function(e){return void 0===e&&(e=-1),r.retry(e)(this)}},function(e,t,n){"use strict";var r=n(7),i=n(2196);r.Observable.prototype.retryWhen=i.retryWhen},function(e,t,n){"use strict";var r=n(1236);t.retryWhen=function(e){return r.retryWhen(e)(this)}},function(e,t,n){"use strict";var r=n(7),i=n(2198);r.Observable.prototype.sample=i.sample},function(e,t,n){"use strict";var r=n(1237);t.sample=function(e){return r.sample(e)(this)}},function(e,t,n){"use strict";var r=n(7),i=n(2200);r.Observable.prototype.sampleTime=i.sampleTime},function(e,t,n){"use strict";var r=n(73),i=n(1238);t.sampleTime=function(e,t){return void 0===t&&(t=r.async),i.sampleTime(e,t)(this)}},function(e,t,n){"use strict";var r=n(7),i=n(2202);r.Observable.prototype.scan=i.scan},function(e,t,n){"use strict";var r=n(761);t.scan=function(e,t){return arguments.length>=2?r.scan(e,t)(this):r.scan(e)(this)}},function(e,t,n){"use strict";var r=n(7),i=n(2204);r.Observable.prototype.sequenceEqual=i.sequenceEqual},function(e,t,n){"use strict";var r=n(1239);t.sequenceEqual=function(e,t){return r.sequenceEqual(e,t)(this)}},function(e,t,n){"use strict";var r=n(7),i=n(2206);r.Observable.prototype.share=i.share},function(e,t,n){"use strict";var r=n(1240);t.share=function(){return r.share()(this)}},function(e,t,n){"use strict";var r=n(7),i=n(2208);r.Observable.prototype.shareReplay=i.shareReplay},function(e,t,n){"use strict";var r=n(1241);t.shareReplay=function(e,t,n){return r.shareReplay(e,t,n)(this)}},function(e,t,n){"use strict";var r=n(7),i=n(2210);r.Observable.prototype.single=i.single},function(e,t,n){"use strict";var r=n(1242);t.single=function(e){return r.single(e)(this)}},function(e,t,n){"use strict";var r=n(7),i=n(2212);r.Observable.prototype.skip=i.skip},function(e,t,n){"use strict";var r=n(1243);t.skip=function(e){return r.skip(e)(this)}},function(e,t,n){"use strict";var r=n(7),i=n(2214);r.Observable.prototype.skipLast=i.skipLast},function(e,t,n){"use strict";var r=n(1244);t.skipLast=function(e){return r.skipLast(e)(this)}},function(e,t,n){"use strict";var r=n(7),i=n(2216);r.Observable.prototype.skipUntil=i.skipUntil},function(e,t,n){"use strict";var r=n(1245);t.skipUntil=function(e){return r.skipUntil(e)(this)}},function(e,t,n){"use strict";var r=n(7),i=n(2218);r.Observable.prototype.skipWhile=i.skipWhile},function(e,t,n){"use strict";var r=n(1246);t.skipWhile=function(e){return r.skipWhile(e)(this)}},function(e,t,n){"use strict";var r=n(7),i=n(2220);r.Observable.prototype.startWith=i.startWith},function(e,t,n){"use strict";var r=n(1247);t.startWith=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return r.startWith.apply(void 0,e)(this)}},function(e,t,n){"use strict";var r=n(7),i=n(2222);r.Observable.prototype.subscribeOn=i.subscribeOn},function(e,t,n){"use strict";var r=n(2223);t.subscribeOn=function(e,t){return void 0===t&&(t=0),r.subscribeOn(e,t)(this)}},function(e,t,n){"use strict";var r=n(2224);t.subscribeOn=function(e,t){return void 0===t&&(t=0),function(n){return n.lift(new i(e,t))}};var i=function(){function e(e,t){this.scheduler=e,this.delay=t}return e.prototype.call=function(e,t){return new r.SubscribeOnObservable(t,this.delay,this.scheduler).subscribe(e)},e}()},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},i=n(7),o=n(1248),a=n(469),s=function(e){function t(t,n,r){void 0===n&&(n=0),void 0===r&&(r=o.asap),e.call(this),this.source=t,this.delayTime=n,this.scheduler=r,(!a.isNumeric(n)||n<0)&&(this.delayTime=0),r&&"function"==typeof r.schedule||(this.scheduler=o.asap)}return r(t,e),t.create=function(e,n,r){return void 0===n&&(n=0),void 0===r&&(r=o.asap),new t(e,n,r)},t.dispatch=function(e){var t=e.source,n=e.subscriber;return this.add(t.subscribe(n))},t.prototype._subscribe=function(e){var n=this.delayTime,r=this.source;return this.scheduler.schedule(t.dispatch,n,{source:r,subscriber:e})},t}(i.Observable);t.SubscribeOnObservable=s},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},i=n(2226),o=function(e){function t(t,n){e.call(this,t,n),this.scheduler=t,this.work=n}return r(t,e),t.prototype.requestAsyncId=function(t,n,r){return void 0===r&&(r=0),null!==r&&r>0?e.prototype.requestAsyncId.call(this,t,n,r):(t.actions.push(this),t.scheduled||(t.scheduled=i.Immediate.setImmediate(t.flush.bind(t,null))))},t.prototype.recycleAsyncId=function(t,n,r){if(void 0===r&&(r=0),null!==r&&r>0||null===r&&this.delay>0)return e.prototype.recycleAsyncId.call(this,t,n,r);0===t.actions.length&&(i.Immediate.clearImmediate(n),t.scheduled=void 0)},t}(n(470).AsyncAction);t.AsapAction=o},function(e,t,n){"use strict";(function(e,r){var i=n(116),o=function(){function e(e){if(this.root=e,e.setImmediate&&"function"==typeof e.setImmediate)this.setImmediate=e.setImmediate.bind(e),this.clearImmediate=e.clearImmediate.bind(e);else{this.nextHandle=1,this.tasksByHandle={},this.currentlyRunningATask=!1,this.canUseProcessNextTick()?this.setImmediate=this.createProcessNextTickSetImmediate():this.canUsePostMessage()?this.setImmediate=this.createPostMessageSetImmediate():this.canUseMessageChannel()?this.setImmediate=this.createMessageChannelSetImmediate():this.canUseReadyStateChange()?this.setImmediate=this.createReadyStateChangeSetImmediate():this.setImmediate=this.createSetTimeoutSetImmediate();var t=function e(t){delete e.instance.tasksByHandle[t]};t.instance=this,this.clearImmediate=t}}return e.prototype.identify=function(e){return this.root.Object.prototype.toString.call(e)},e.prototype.canUseProcessNextTick=function(){return"[object process]"===this.identify(this.root.process)},e.prototype.canUseMessageChannel=function(){return Boolean(this.root.MessageChannel)},e.prototype.canUseReadyStateChange=function(){var e=this.root.document;return Boolean(e&&"onreadystatechange"in e.createElement("script"))},e.prototype.canUsePostMessage=function(){var e=this.root;if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}return!1},e.prototype.partiallyApplied=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=function e(){var t=e.handler,n=e.args;"function"==typeof t?t.apply(void 0,n):new Function(""+t)()};return r.handler=e,r.args=t,r},e.prototype.addFromSetImmediateArguments=function(e){return this.tasksByHandle[this.nextHandle]=this.partiallyApplied.apply(void 0,e),this.nextHandle++},e.prototype.createProcessNextTickSetImmediate=function(){var e=function e(){var t=e.instance,n=t.addFromSetImmediateArguments(arguments);return t.root.process.nextTick(t.partiallyApplied(t.runIfPresent,n)),n};return e.instance=this,e},e.prototype.createPostMessageSetImmediate=function(){var e=this.root,t="setImmediate$"+e.Math.random()+"$",n=function n(r){var i=n.instance;r.source===e&&"string"==typeof r.data&&0===r.data.indexOf(t)&&i.runIfPresent(+r.data.slice(t.length))};n.instance=this,e.addEventListener("message",n,!1);var r=function e(){var t=e.messagePrefix,n=e.instance,r=n.addFromSetImmediateArguments(arguments);return n.root.postMessage(t+r,"*"),r};return r.instance=this,r.messagePrefix=t,r},e.prototype.runIfPresent=function(e){if(this.currentlyRunningATask)this.root.setTimeout(this.partiallyApplied(this.runIfPresent,e),0);else{var t=this.tasksByHandle[e];if(t){this.currentlyRunningATask=!0;try{t()}finally{this.clearImmediate(e),this.currentlyRunningATask=!1}}}},e.prototype.createMessageChannelSetImmediate=function(){var e=this,t=new this.root.MessageChannel;t.port1.onmessage=function(t){var n=t.data;e.runIfPresent(n)};var n=function e(){var t=e.channel,n=e.instance.addFromSetImmediateArguments(arguments);return t.port2.postMessage(n),n};return n.channel=t,n.instance=this,n},e.prototype.createReadyStateChangeSetImmediate=function(){var e=function e(){var t=e.instance,n=t.root.document,r=n.documentElement,i=t.addFromSetImmediateArguments(arguments),o=n.createElement("script");return o.onreadystatechange=function(){t.runIfPresent(i),o.onreadystatechange=null,r.removeChild(o),o=null},r.appendChild(o),i};return e.instance=this,e},e.prototype.createSetTimeoutSetImmediate=function(){var e=function e(){var t=e.instance,n=t.addFromSetImmediateArguments(arguments);return t.root.setTimeout(t.partiallyApplied(t.runIfPresent,n),0),n};return e.instance=this,e},e}();t.ImmediateDefinition=o,t.Immediate=new o(i.root)}).call(t,n(255).clearImmediate,n(255).setImmediate)},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},i=function(e){function t(){e.apply(this,arguments)}return r(t,e),t.prototype.flush=function(e){this.active=!0,this.scheduled=void 0;var t,n=this.actions,r=-1,i=n.length;e=e||n.shift();do{if(t=e.execute(e.state,e.delay))break}while(++r<i&&(e=n.shift()));if(this.active=!1,t){for(;++r<i&&(e=n.shift());)e.unsubscribe();throw t}},t}(n(471).AsyncScheduler);t.AsapScheduler=i},function(e,t,n){"use strict";var r=n(7),i=n(2229);r.Observable.prototype.switch=i._switch,r.Observable.prototype._switch=i._switch},function(e,t,n){"use strict";var r=n(1249);t._switch=function(){return r.switchAll()(this)}},function(e,t,n){"use strict";var r=n(7),i=n(2231);r.Observable.prototype.switchMap=i.switchMap},function(e,t,n){"use strict";var r=n(764);t.switchMap=function(e,t){return r.switchMap(e,t)(this)}},function(e,t,n){"use strict";var r=n(7),i=n(2233);r.Observable.prototype.switchMapTo=i.switchMapTo},function(e,t,n){"use strict";var r=n(1250);t.switchMapTo=function(e,t){return r.switchMapTo(e,t)(this)}},function(e,t,n){"use strict";var r=n(7),i=n(2235);r.Observable.prototype.take=i.take},function(e,t,n){"use strict";var r=n(1251);t.take=function(e){return r.take(e)(this)}},function(e,t,n){"use strict";var r=n(7),i=n(2237);r.Observable.prototype.takeLast=i.takeLast},function(e,t,n){"use strict";var r=n(762);t.takeLast=function(e){return r.takeLast(e)(this)}},function(e,t,n){"use strict";var r=n(7),i=n(2239);r.Observable.prototype.takeUntil=i.takeUntil},function(e,t,n){"use strict";var r=n(1252);t.takeUntil=function(e){return r.takeUntil(e)(this)}},function(e,t,n){"use strict";var r=n(7),i=n(2241);r.Observable.prototype.takeWhile=i.takeWhile},function(e,t,n){"use strict";var r=n(1253);t.takeWhile=function(e){return r.takeWhile(e)(this)}},function(e,t,n){"use strict";var r=n(7),i=n(2243);r.Observable.prototype.throttle=i.throttle},function(e,t,n){"use strict";var r=n(573);t.throttle=function(e,t){return void 0===t&&(t=r.defaultThrottleConfig),r.throttle(e,t)(this)}},function(e,t,n){"use strict";var r=n(7),i=n(2245);r.Observable.prototype.throttleTime=i.throttleTime},function(e,t,n){"use strict";var r=n(73),i=n(573),o=n(1254);t.throttleTime=function(e,t,n){return void 0===t&&(t=r.async),void 0===n&&(n=i.defaultThrottleConfig),o.throttleTime(e,t,n)(this)}},function(e,t,n){"use strict";var r=n(7),i=n(1255);r.Observable.prototype.timeInterval=i.timeInterval},function(e,t,n){"use strict";var r=n(7),i=n(2248);r.Observable.prototype.timeout=i.timeout},function(e,t,n){"use strict";var r=n(73),i=n(1257);t.timeout=function(e,t){return void 0===t&&(t=r.async),i.timeout(e,t)(this)}},function(e,t,n){"use strict";var r=n(7),i=n(2250);r.Observable.prototype.timeoutWith=i.timeoutWith},function(e,t,n){"use strict";var r=n(73),i=n(1259);t.timeoutWith=function(e,t,n){return void 0===n&&(n=r.async),i.timeoutWith(e,t,n)(this)}},function(e,t,n){"use strict";var r=n(7),i=n(2252);r.Observable.prototype.timestamp=i.timestamp},function(e,t,n){"use strict";var r=n(73),i=n(765);t.timestamp=function(e){return void 0===e&&(e=r.async),i.timestamp(e)(this)}},function(e,t,n){"use strict";var r=n(7),i=n(2254);r.Observable.prototype.toArray=i.toArray},function(e,t,n){"use strict";var r=n(1260);t.toArray=function(){return r.toArray()(this)}},function(e,t){},function(e,t,n){"use strict";var r=n(7),i=n(2257);r.Observable.prototype.window=i.window},function(e,t,n){"use strict";var r=n(1261);t.window=function(e){return r.window(e)(this)}},function(e,t,n){"use strict";var r=n(7),i=n(2259);r.Observable.prototype.windowCount=i.windowCount},function(e,t,n){"use strict";var r=n(1262);t.windowCount=function(e,t){return void 0===t&&(t=0),r.windowCount(e,t)(this)}},function(e,t,n){"use strict";var r=n(7),i=n(2261);r.Observable.prototype.windowTime=i.windowTime},function(e,t,n){"use strict";var r=n(73),i=n(469),o=n(276),a=n(1263);t.windowTime=function(e){var t=r.async,n=null,s=Number.POSITIVE_INFINITY;return o.isScheduler(arguments[3])&&(t=arguments[3]),o.isScheduler(arguments[2])?t=arguments[2]:i.isNumeric(arguments[2])&&(s=arguments[2]),o.isScheduler(arguments[1])?t=arguments[1]:i.isNumeric(arguments[1])&&(n=arguments[1]),a.windowTime(e,n,s,t)(this)}},function(e,t,n){"use strict";var r=n(7),i=n(2263);r.Observable.prototype.windowToggle=i.windowToggle},function(e,t,n){"use strict";var r=n(1264);t.windowToggle=function(e,t){return r.windowToggle(e,t)(this)}},function(e,t,n){"use strict";var r=n(7),i=n(2265);r.Observable.prototype.windowWhen=i.windowWhen},function(e,t,n){"use strict";var r=n(1265);t.windowWhen=function(e){return r.windowWhen(e)(this)}},function(e,t,n){"use strict";var r=n(7),i=n(2267);r.Observable.prototype.withLatestFrom=i.withLatestFrom},function(e,t,n){"use strict";var r=n(1266);t.withLatestFrom=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return r.withLatestFrom.apply(void 0,e)(this)}},function(e,t,n){"use strict";var r=n(7),i=n(2269);r.Observable.prototype.zip=i.zipProto},function(e,t,n){"use strict";var r=n(570);t.zipProto=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return r.zip.apply(void 0,e)(this)}},function(e,t,n){"use strict";var r=n(7),i=n(2271);r.Observable.prototype.zipAll=i.zipAll},function(e,t,n){"use strict";var r=n(1267);t.zipAll=function(e){return r.zipAll(e)(this)}},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},i=n(7),o=n(467),a=n(2273),s=n(2274),u=n(1269),l=n(1271),c=750,d=function(e){function t(t){e.call(this,l.VirtualAction,c),this.assertDeepEqual=t,this.hotObservables=[],this.coldObservables=[],this.flushTests=[]}return r(t,e),t.prototype.createTime=function(e){var n=e.indexOf("|");if(-1===n)throw new Error('marble diagram for time should have a completion marker "|"');return n*t.frameTimeFactor},t.prototype.createColdObservable=function(e,n,r){if(-1!==e.indexOf("^"))throw new Error('cold observable cannot have subscription offset "^"');if(-1!==e.indexOf("!"))throw new Error('cold observable cannot have unsubscription marker "!"');var i=t.parseMarbles(e,n,r),o=new a.ColdObservable(i,this);return this.coldObservables.push(o),o},t.prototype.createHotObservable=function(e,n,r){if(-1!==e.indexOf("!"))throw new Error('hot observable cannot have unsubscription marker "!"');var i=t.parseMarbles(e,n,r),o=new s.HotObservable(i,this);return this.hotObservables.push(o),o},t.prototype.materializeInnerObservable=function(e,t){var n=this,r=[];return e.subscribe(function(e){r.push({frame:n.frame-t,notification:o.Notification.createNext(e)})},function(e){r.push({frame:n.frame-t,notification:o.Notification.createError(e)})},function(){r.push({frame:n.frame-t,notification:o.Notification.createComplete()})}),r},t.prototype.expectObservable=function(e,n){var r=this;void 0===n&&(n=null);var a,s=[],u={actual:s,ready:!1},l=t.parseMarblesAsSubscriptions(n).unsubscribedFrame;return this.schedule(function(){a=e.subscribe(function(e){var t=e;e instanceof i.Observable&&(t=r.materializeInnerObservable(t,r.frame)),s.push({frame:r.frame,notification:o.Notification.createNext(t)})},function(e){s.push({frame:r.frame,notification:o.Notification.createError(e)})},function(){s.push({frame:r.frame,notification:o.Notification.createComplete()})})},0),l!==Number.POSITIVE_INFINITY&&this.schedule(function(){return a.unsubscribe()},l),this.flushTests.push(u),{toBe:function(e,n,r){u.ready=!0,u.expected=t.parseMarbles(e,n,r,!0)}}},t.prototype.expectSubscriptions=function(e){var n={actual:e,ready:!1};return this.flushTests.push(n),{toBe:function(e){var r="string"==typeof e?[e]:e;n.ready=!0,n.expected=r.map(function(e){return t.parseMarblesAsSubscriptions(e)})}}},t.prototype.flush=function(){for(var t=this.hotObservables;t.length>0;)t.shift().setup();e.prototype.flush.call(this);for(var n=this.flushTests.filter(function(e){return e.ready});n.length>0;){var r=n.shift();this.assertDeepEqual(r.actual,r.expected)}},t.parseMarblesAsSubscriptions=function(e){if("string"!=typeof e)return new u.SubscriptionLog(Number.POSITIVE_INFINITY);for(var t=e.length,n=-1,r=Number.POSITIVE_INFINITY,i=Number.POSITIVE_INFINITY,o=0;o<t;o++){var a=o*this.frameTimeFactor,s=e[o];switch(s){case"-":case" ":break;case"(":n=a;break;case")":n=-1;break;case"^":if(r!==Number.POSITIVE_INFINITY)throw new Error("found a second subscription point '^' in a subscription marble diagram. There can only be one.");r=n>-1?n:a;break;case"!":if(i!==Number.POSITIVE_INFINITY)throw new Error("found a second subscription point '^' in a subscription marble diagram. There can only be one.");i=n>-1?n:a;break;default:throw new Error("there can only be '^' and '!' markers in a subscription marble diagram. Found instead '"+s+"'.")}}return i<0?new u.SubscriptionLog(r):new u.SubscriptionLog(r,i)},t.parseMarbles=function(e,t,n,r){if(void 0===r&&(r=!1),-1!==e.indexOf("!"))throw new Error('conventional marble diagrams cannot have the unsubscription marker "!"');for(var i=e.length,s=[],u=e.indexOf("^"),l=-1===u?0:u*-this.frameTimeFactor,c="object"!=typeof t?function(e){return e}:function(e){return r&&t[e]instanceof a.ColdObservable?t[e].messages:t[e]},d=-1,f=0;f<i;f++){var h=f*this.frameTimeFactor+l,p=void 0,m=e[f];switch(m){case"-":case" ":break;case"(":d=h;break;case")":d=-1;break;case"|":p=o.Notification.createComplete();break;case"^":break;case"#":p=o.Notification.createError(n||"error");break;default:p=o.Notification.createNext(c(m))}p&&s.push({frame:d>-1?d:h,notification:p})}return s},t}(l.VirtualTimeScheduler);t.TestScheduler=d},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},i=n(7),o=n(103),a=n(1268),s=n(1270),u=function(e){function t(t,n){e.call(this,function(e){var t=this,n=t.logSubscribedFrame();return e.add(new o.Subscription(function(){t.logUnsubscribedFrame(n)})),t.scheduleMessages(e),e}),this.messages=t,this.subscriptions=[],this.scheduler=n}return r(t,e),t.prototype.scheduleMessages=function(e){for(var t=this.messages.length,n=0;n<t;n++){var r=this.messages[n];e.add(this.scheduler.schedule(function(e){var t=e.message,n=e.subscriber;t.notification.observe(n)},r.frame,{message:r,subscriber:e}))}},t}(i.Observable);t.ColdObservable=u,s.applyMixins(u,[a.SubscriptionLoggable])},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},i=n(107),o=n(103),a=n(1268),s=n(1270),u=function(e){function t(t,n){e.call(this),this.messages=t,this.subscriptions=[],this.scheduler=n}return r(t,e),t.prototype._subscribe=function(t){var n=this,r=n.logSubscribedFrame();return t.add(new o.Subscription(function(){n.logUnsubscribedFrame(r)})),e.prototype._subscribe.call(this,t)},t.prototype.setup=function(){for(var e=this,t=e.messages.length,n=0;n<t;n++)!function(){var t=e.messages[n];e.scheduler.schedule(function(){t.notification.observe(e)},t.frame)}()},t}(i.Subject);t.HotObservable=u,s.applyMixins(u,[a.SubscriptionLoggable])},function(e,t,n){"use strict";var r=n(2276),i=n(2278);t.animationFrame=new i.AnimationFrameScheduler(r.AnimationFrameAction)},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},i=n(470),o=n(2277),a=function(e){function t(t,n){e.call(this,t,n),this.scheduler=t,this.work=n}return r(t,e),t.prototype.requestAsyncId=function(t,n,r){return void 0===r&&(r=0),null!==r&&r>0?e.prototype.requestAsyncId.call(this,t,n,r):(t.actions.push(this),t.scheduled||(t.scheduled=o.AnimationFrame.requestAnimationFrame(t.flush.bind(t,null))))},t.prototype.recycleAsyncId=function(t,n,r){if(void 0===r&&(r=0),null!==r&&r>0||null===r&&this.delay>0)return e.prototype.recycleAsyncId.call(this,t,n,r);0===t.actions.length&&(o.AnimationFrame.cancelAnimationFrame(n),t.scheduled=void 0)},t}(i.AsyncAction);t.AnimationFrameAction=a},function(e,t,n){"use strict";var r=n(116),i=function(){return function(e){e.requestAnimationFrame?(this.cancelAnimationFrame=e.cancelAnimationFrame.bind(e),this.requestAnimationFrame=e.requestAnimationFrame.bind(e)):e.mozRequestAnimationFrame?(this.cancelAnimationFrame=e.mozCancelAnimationFrame.bind(e),this.requestAnimationFrame=e.mozRequestAnimationFrame.bind(e)):e.webkitRequestAnimationFrame?(this.cancelAnimationFrame=e.webkitCancelAnimationFrame.bind(e),this.requestAnimationFrame=e.webkitRequestAnimationFrame.bind(e)):e.msRequestAnimationFrame?(this.cancelAnimationFrame=e.msCancelAnimationFrame.bind(e),this.requestAnimationFrame=e.msRequestAnimationFrame.bind(e)):e.oRequestAnimationFrame?(this.cancelAnimationFrame=e.oCancelAnimationFrame.bind(e),this.requestAnimationFrame=e.oRequestAnimationFrame.bind(e)):(this.cancelAnimationFrame=e.clearTimeout.bind(e),this.requestAnimationFrame=function(t){return e.setTimeout(t,1e3/60)})}}();t.RequestAnimationFrameDefinition=i,t.AnimationFrame=new i(r.root)},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},i=function(e){function t(){e.apply(this,arguments)}return r(t,e),t.prototype.flush=function(e){this.active=!0,this.scheduled=void 0;var t,n=this.actions,r=-1,i=n.length;e=e||n.shift();do{if(t=e.execute(e.state,e.delay))break}while(++r<i&&(e=n.shift()));if(this.active=!1,t){for(;++r<i&&(e=n.shift());)e.unsubscribe();throw t}},t}(n(471).AsyncScheduler);t.AnimationFrameScheduler=i},function(e,t,n){"use strict";var r=n(760);t.audit=r.audit;var i=n(1213);t.auditTime=i.auditTime;var o=n(1185);t.buffer=o.buffer;var a=n(1186);t.bufferCount=a.bufferCount;var s=n(1187);t.bufferTime=s.bufferTime;var u=n(1188);t.bufferToggle=u.bufferToggle;var l=n(1189);t.bufferWhen=l.bufferWhen;var c=n(1190);t.catchError=c.catchError;var d=n(1191);t.combineAll=d.combineAll;var f=n(565);t.combineLatest=f.combineLatest;var h=n(1192);t.concat=h.concat;var p=n(752);t.concatAll=p.concatAll;var m=n(755);t.concatMap=m.concatMap;var g=n(1193);t.concatMapTo=g.concatMapTo;var y=n(1194);t.count=y.count;var v=n(1196);t.debounce=v.debounce;var b=n(1197);t.debounceTime=b.debounceTime;var _=n(756);t.defaultIfEmpty=_.defaultIfEmpty;var w=n(1198);t.delay=w.delay;var k=n(1199);t.delayWhen=k.delayWhen;var E=n(1195);t.dematerialize=E.dematerialize;var x=n(1200);t.distinct=x.distinct;var S=n(757);t.distinctUntilChanged=S.distinctUntilChanged;var M=n(1201);t.distinctUntilKeyChanged=M.distinctUntilKeyChanged;var T=n(1206);t.elementAt=T.elementAt;var C=n(1215);t.every=C.every;var A=n(1203);t.exhaust=A.exhaust;var O=n(1204);t.exhaustMap=O.exhaustMap;var N=n(1205);t.expand=N.expand;var L=n(758);t.filter=L.filter;var j=n(1207);t.finalize=j.finalize;var P=n(759);t.find=P.find;var D=n(1208);t.findIndex=D.findIndex;var I=n(1209);t.first=I.first;var R=n(1210);t.groupBy=R.groupBy;var F=n(1211);t.ignoreElements=F.ignoreElements;var Y=n(1212);t.isEmpty=Y.isEmpty;var B=n(1214);t.last=B.last;var H=n(472);t.map=H.map;var z=n(1216);t.mapTo=z.mapTo;var W=n(1217);t.materialize=W.materialize;var U=n(1218);t.max=U.max;var V=n(1219);t.merge=V.merge;var G=n(567);t.mergeAll=G.mergeAll;var q=n(468);t.mergeMap=q.mergeMap;var K=n(468);t.flatMap=K.mergeMap;var $=n(1220);t.mergeMapTo=$.mergeMapTo;var X=n(1221);t.mergeScan=X.mergeScan;var J=n(1222);t.min=J.min;var Q=n(354);t.multicast=Q.multicast;var Z=n(566);t.observeOn=Z.observeOn;var ee=n(754);t.onErrorResumeNext=ee.onErrorResumeNext;var te=n(1224);t.pairwise=te.pairwise;var ne=n(1225);t.partition=ne.partition;var re=n(1226);t.pluck=re.pluck;var ie=n(1227);t.publish=ie.publish;var oe=n(1228);t.publishBehavior=oe.publishBehavior;var ae=n(1231);t.publishLast=ae.publishLast;var se=n(1230);t.publishReplay=se.publishReplay;var ue=n(1232);t.race=ue.race;var le=n(474);t.reduce=le.reduce;var ce=n(1233);t.repeat=ce.repeat;var de=n(1234);t.repeatWhen=de.repeatWhen;var fe=n(1235);t.retry=fe.retry;var he=n(1236);t.retryWhen=he.retryWhen;var pe=n(763);t.refCount=pe.refCount;var me=n(1237);t.sample=me.sample;var ge=n(1238);t.sampleTime=ge.sampleTime;var ye=n(761);t.scan=ye.scan;var ve=n(1239);t.sequenceEqual=ve.sequenceEqual;var be=n(1240);t.share=be.share;var _e=n(1241);t.shareReplay=_e.shareReplay;var we=n(1242);t.single=we.single;var ke=n(1243);t.skip=ke.skip;var Ee=n(1244);t.skipLast=Ee.skipLast;var xe=n(1245);t.skipUntil=xe.skipUntil;var Se=n(1246);t.skipWhile=Se.skipWhile;var Me=n(1247);t.startWith=Me.startWith;var Te=n(1249);t.switchAll=Te.switchAll;var Ce=n(764);t.switchMap=Ce.switchMap;var Ae=n(1250);t.switchMapTo=Ae.switchMapTo;var Oe=n(1251);t.take=Oe.take;var Ne=n(762);t.takeLast=Ne.takeLast;var Le=n(1252);t.takeUntil=Le.takeUntil;var je=n(1253);t.takeWhile=je.takeWhile;var Pe=n(1202);t.tap=Pe.tap;var De=n(573);t.throttle=De.throttle;var Ie=n(1254);t.throttleTime=Ie.throttleTime;var Re=n(1256);t.timeInterval=Re.timeInterval;var Fe=n(1257);t.timeout=Fe.timeout;var Ye=n(1259);t.timeoutWith=Ye.timeoutWith;var Be=n(765);t.timestamp=Be.timestamp;var He=n(1260);t.toArray=He.toArray;var ze=n(1261);t.window=ze.window;var We=n(1262);t.windowCount=We.windowCount;var Ue=n(1263);t.windowTime=Ue.windowTime;var Ve=n(1264);t.windowToggle=Ve.windowToggle;var Ge=n(1265);t.windowWhen=Ge.windowWhen;var qe=n(1266);t.withLatestFrom=qe.withLatestFrom;var Ke=n(570);t.zip=Ke.zip;var $e=n(1267);t.zipAll=$e.zipAll},function(e,t){e.exports={O_RDONLY:0,O_WRONLY:1,O_RDWR:2,S_IFMT:61440,S_IFREG:32768,S_IFDIR:16384,S_IFCHR:8192,S_IFBLK:24576,S_IFIFO:4096,S_IFLNK:40960,S_IFSOCK:49152,O_CREAT:512,O_EXCL:2048,O_NOCTTY:131072,O_TRUNC:1024,O_APPEND:8,O_DIRECTORY:1048576,O_NOFOLLOW:256,O_SYNC:128,O_SYMLINK:2097152,O_NONBLOCK:4,S_IRWXU:448,S_IRUSR:256,S_IWUSR:128,S_IXUSR:64,S_IRWXG:56,S_IRGRP:32,S_IWGRP:16,S_IXGRP:8,S_IRWXO:7,S_IROTH:4,S_IWOTH:2,S_IXOTH:1,E2BIG:7,EACCES:13,EADDRINUSE:48,EADDRNOTAVAIL:49,EAFNOSUPPORT:47,EAGAIN:35,EALREADY:37,EBADF:9,EBADMSG:94,EBUSY:16,ECANCELED:89,ECHILD:10,ECONNABORTED:53,ECONNREFUSED:61,ECONNRESET:54,EDEADLK:11,EDESTADDRREQ:39,EDOM:33,EDQUOT:69,EEXIST:17,EFAULT:14,EFBIG:27,EHOSTUNREACH:65,EIDRM:90,EILSEQ:92,EINPROGRESS:36,EINTR:4,EINVAL:22,EIO:5,EISCONN:56,EISDIR:21,ELOOP:62,EMFILE:24,EMLINK:31,EMSGSIZE:40,EMULTIHOP:95,ENAMETOOLONG:63,ENETDOWN:50,ENETRESET:52,ENETUNREACH:51,ENFILE:23,ENOBUFS:55,ENODATA:96,ENODEV:19,ENOENT:2,ENOEXEC:8,ENOLCK:77,ENOLINK:97,ENOMEM:12,ENOMSG:91,ENOPROTOOPT:42,ENOSPC:28,ENOSR:98,ENOSTR:99,ENOSYS:78,ENOTCONN:57,ENOTDIR:20,ENOTEMPTY:66,ENOTSOCK:38,ENOTSUP:45,ENOTTY:25,ENXIO:6,EOPNOTSUPP:102,EOVERFLOW:84,EPERM:1,EPIPE:32,EPROTO:100,EPROTONOSUPPORT:43,EPROTOTYPE:41,ERANGE:34,EROFS:30,ESPIPE:29,ESRCH:3,ESTALE:70,ETIME:101,ETIMEDOUT:60,ETXTBSY:26,EWOULDBLOCK:35,EXDEV:18,SIGHUP:1,SIGINT:2,SIGQUIT:3,SIGILL:4,SIGTRAP:5,SIGABRT:6,SIGIOT:6,SIGBUS:10,SIGFPE:8,SIGKILL:9,SIGUSR1:30,SIGSEGV:11,SIGUSR2:31,SIGPIPE:13,SIGALRM:14,SIGTERM:15,SIGCHLD:20,SIGCONT:19,SIGSTOP:17,SIGTSTP:18,SIGTTIN:21,SIGTTOU:22,SIGURG:16,SIGXCPU:24,SIGXFSZ:25,SIGVTALRM:26,SIGPROF:27,SIGWINCH:28,SIGIO:23,SIGSYS:12,SSL_OP_ALL:2147486719,SSL_OP_ALLOW_UNSAFE_LEGACY_RENEGOTIATION:262144,SSL_OP_CIPHER_SERVER_PREFERENCE:4194304,SSL_OP_CISCO_ANYCONNECT:32768,SSL_OP_COOKIE_EXCHANGE:8192,SSL_OP_CRYPTOPRO_TLSEXT_BUG:2147483648,SSL_OP_DONT_INSERT_EMPTY_FRAGMENTS:2048,SSL_OP_EPHEMERAL_RSA:0,SSL_OP_LEGACY_SERVER_CONNECT:4,SSL_OP_MICROSOFT_BIG_SSLV3_BUFFER:32,SSL_OP_MICROSOFT_SESS_ID_BUG:1,SSL_OP_MSIE_SSLV2_RSA_PADDING:0,SSL_OP_NETSCAPE_CA_DN_BUG:536870912,SSL_OP_NETSCAPE_CHALLENGE_BUG:2,SSL_OP_NETSCAPE_DEMO_CIPHER_CHANGE_BUG:1073741824,SSL_OP_NETSCAPE_REUSE_CIPHER_CHANGE_BUG:8,SSL_OP_NO_COMPRESSION:131072,SSL_OP_NO_QUERY_MTU:4096,SSL_OP_NO_SESSION_RESUMPTION_ON_RENEGOTIATION:65536,SSL_OP_NO_SSLv2:16777216,SSL_OP_NO_SSLv3:33554432,SSL_OP_NO_TICKET:16384,SSL_OP_NO_TLSv1:67108864,SSL_OP_NO_TLSv1_1:268435456,SSL_OP_NO_TLSv1_2:134217728,SSL_OP_PKCS1_CHECK_1:0,SSL_OP_PKCS1_CHECK_2:0,SSL_OP_SINGLE_DH_USE:1048576,SSL_OP_SINGLE_ECDH_USE:524288,SSL_OP_SSLEAY_080_CLIENT_DH_BUG:128,SSL_OP_SSLREF2_REUSE_CERT_TYPE_BUG:0,SSL_OP_TLS_BLOCK_PADDING_BUG:512,SSL_OP_TLS_D5_BUG:256,SSL_OP_TLS_ROLLBACK_BUG:8388608,ENGINE_METHOD_DSA:2,ENGINE_METHOD_DH:4,ENGINE_METHOD_RAND:8,ENGINE_METHOD_ECDH:16,ENGINE_METHOD_ECDSA:32,ENGINE_METHOD_CIPHERS:64,ENGINE_METHOD_DIGESTS:128,ENGINE_METHOD_STORE:256,ENGINE_METHOD_PKEY_METHS:512,ENGINE_METHOD_PKEY_ASN1_METHS:1024,ENGINE_METHOD_ALL:65535,ENGINE_METHOD_NONE:0,DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6,F_OK:0,R_OK:4,W_OK:2,X_OK:1,UV_UDP_REUSEADDR:4}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(1),a=u(o),s=u(n(2282));function u(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state=r({},e),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),i(t,[{key:"componentWillReceiveProps",value:function(e){e!=this.props&&this.setState(r({},e))}},{key:"onSearch",value:function(e){this.props.onSearch(e)}},{key:"render",value:function(){var e=this;return a.default.createElement("div",{className:"search-box tour-keyword-search-input"},a.default.createElement(s.default,{value:this.state.value,onChange:function(t){return e.onSearch(t)},placeholder:this.state.placeholder}))}}]),t}();t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(1),o=u(i),a=u(n(10)),s=u(n(47));function u(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={value:e.value?e.value:""},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),r(t,[{key:"componentWillReceiveProps",value:function(e){e.value!=this.props.value&&this.setState({value:e.value})}},{key:"componentDidMount",value:function(){var e=this;$(".tour-input-data").bind("tour-input-data-change",function(t,n){n.type?e.onChange(n.searchKey,"load"):s.default.initNeo4jBaseInfo().then(function(){return new Promise(function(e,t){e(s.default.neo4jBaseInfo.searchKey)})}).then(function(t){document.getElementsByClassName("tour-input-data")[0]&&(document.getElementsByClassName("tour-input-data")[0].value=t),e.onChange(t,"load"),a.default.showLoading(),e.checkDom("tour-main-label",function(e,t){a.default.hiddenHints(),e&&hopscotch.endTour()},"Loading data timeout, check network please")})})}},{key:"checkDom",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=this,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:4e3,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;this._checkDomTimer&&clearTimeout(this._checkDomTimer);var s=document.getElementsByClassName("tour-main-label")[0];return s?t(null,s):o>=i?(n&&a.default.showHints(n,a.default.showTipType.danger),t(new Error(n||"Can't found the dom element with classname "+e))):this._checkDomTimer=setTimeout(function(){r.checkDom(e,t,n,i,o+200)},200)}},{key:"onChange",value:function(e){this.props.onChange&&this.props.onChange(e),this.setState({value:e})}},{key:"clearInput",value:function(){this.props.onChange(""),this.setState({value:""})}},{key:"render",value:function(){var e=this;return o.default.createElement("div",{className:"kinput form-group has-feedback "+(""!=this.state.value?"has-clear":"")},o.default.createElement("input",{className:"tour-input-data",onMouseOut:function(t){e.refs.KInput.blur()},onMouseEnter:function(t){e.refs.KInput.focus()},ref:"KInput",type:"text",value:this.state.value,onChange:function(t){return e.onChange(t.target.value)},placeholder:this.props.placeholder}),o.default.createElement("i",{className:"clear-icon fa fa-times-circle",onClick:function(){return e.clearInput()},"aria-hidden":"true"}))}}]),t}();t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(1),o=u(i),a=u(n(0)),s=n(462);function u(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={time:0},n.timerCount="",n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),r(t,[{key:"componentDidMount",value:function(){$("#flight-panel").drags({handle:".header"})}},{key:"componentWillReceiveProps",value:function(e){e.flightDuringTime!=this.props.flightDuringTime&&this.startTimer(e.flightDuringTime,window.flightTime)}},{key:"startTimer",value:function(e,t){var n=this;(0,s.autoPlay)(!0);var r=new Date(t.endTime).getTime()-new Date(t.startTime).getTime();this.timerCount=new s.Tween({data:0}).to({data:1},1*e).on("update",function(e){var t=e.data;n.state.time-r*t<-9e5&&n.setState({time:n.state.time+9e5}),1==t&&n.setState({time:84960})}).start()}},{key:"handleAnimation",value:function(e){e?this.playAnimation():this.pauseAnimation()}},{key:"restartAnimation",value:function(){var e=this;this.timerCount.stop(),_task.restartFlight(),setTimeout(function(){e.setState({time:0}),e.startTimer(e.props.flightDuringTime,window.flightTime)},1e3)}},{key:"pauseAnimation",value:function(){this.timerCount.pause(),_task.pauseFlight(),this.setState({isPause:!0})}},{key:"playAnimation",value:function(){this.timerCount.play(),_task.playFlight(),this.setState({isPause:!1})}},{key:"render",value:function(){var e=this;return o.default.createElement("div",{id:"flight-panel",className:"timer"+(0==this.state.time?" d-none":""),onClick:this.test},o.default.createElement("div",{className:"header",onClick:function(){}},o.default.createElement("span",{className:"title"},"Date"),o.default.createElement("span",{className:"detail"},(0,a.default)(new Date(window.flightTime.startTime).getTime()+this.state.time).format("YYYY-MM-DD HH:mm"))),o.default.createElement("div",{className:"show-timer"}),o.default.createElement("div",{className:"btn-start iconfont "+(this.state.isPause?"icon-start":"icon-stop"),onClick:function(){return e.handleAnimation(e.state.isPause)}}),o.default.createElement("div",{className:"btn-restart iconfont icon-restart",onClick:function(){return e.restartAnimation()}}))}}]),t}();t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(1),o=l(i),a=l(n(2285)),s=l(n(2286)),u=l(n(2287));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.state={contents:{annotation:o.default.createElement(a.default,null),createTagPanel:o.default.createElement(s.default,null),webIframe:o.default.createElement(u.default,null)},currentChild:null,title:""},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),r(t,[{key:"componentWillReceiveProps",value:function(e){this.state.contents[e.reduxState.ui.popWindow.windowName]?this.setState({currentChild:e.reduxState.ui.popWindow.windowName,title:e.reduxState.ui.popWindow.title}):!this.state.contents[e.reduxState.ui.popWindow.windowName]&&this.state.currentChild&&this.setState({currentChild:null,title:null}),this.props=e}},{key:"onClose",value:function(){this.props.actions.showPopWindow("")}},{key:"updateTitle",value:function(e){this.setState({title:e||this.props.reduxState.ui.popWindow.title})}},{key:"render",value:function(){var e=this,t=this.state,n=t.title,r=t.currentChild,i=t.contents,a=this.props,s=a.actions,u=a.reduxState,l=u.ui.popWindow.content||{};return o.default.createElement("div",{className:"modal "+(r?"show":"fade"),id:"graphxr-modal",tabIndex:"-1"},o.default.createElement("div",{className:"modal-dialog"},o.default.createElement("div",{className:"modal-content "+u.ui.popWindow.windowName},o.default.createElement("div",{className:"modal-header"},o.default.createElement("h5",{className:"modal-title"},o.default.createElement("i",{className:"iconfont icon-"+l.icon})," ",n),o.default.createElement("button",{type:"button",className:"close",onClick:function(){return e.onClose()}},o.default.createElement("span",{"aria-hidden":"true"},""))),o.default.createElement("div",{className:"modal-body"},r?o.default.cloneElement(i[r],{reduxState:u,actions:s,onClose:function(){return e.onClose()},updateTitle:function(t){return e.updateTitle(t)}}):null))))}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=c(n(1)),o=c(n(11)),a=c(n(10)),s=(c(n(47)),c(n(101)),c(n(464)),c(n(51))),u=c(n(102)),l=c(n(44));function c(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.nodeId=e.reduxState.node.currentNodeId,r.state={title:"",nodeId:r.nodeId||"",names:[""],values:[""]},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),r(t,[{key:"componentDidMount",value:function(){$(".remark-window-table input:eq(0)").focus()}},{key:"componentWillReceiveProps",value:function(e){var t=e.reduxState.node.currentNodeId;t!=this.state.nodeId&&this.setState({nodeId:t})}},{key:"onNameChange",value:function(e,t){this.state.names[e]=t}},{key:"onValueChange",value:function(e,t){this.state.values[e]=t}},{key:"onAddRemark",value:function(){var e=this;if(this.checkState()){var t={remark_id:parseInt(1e16*Math.random()),create_at:(new Date).toGMTString(),user_id:window.globalVariable._id};this.state.names.forEach(function(n,r){t[n]=e.state.values[r]});parseInt(this.state.nodeId),o.default.map(t,function(e,t){return"`"+t+"`:'"+e+"'"}).join(",");var n=s.default.instance().graph.nodeSet[this.state.nodeId],r={data:t,type:"Remark",uid:t.remark_id},i={id:parseInt(1e16*Math.random()),relationship:"Has_Remark",properties:{}};return this.addRemarkRelationship(n,r,i)}}},{key:"addRemarkRelationship",value:function(e,t,n){var r=_app.controller.graphController.getOrAddANodeToGraph(t,!1,e.position.clone()),i=s.default.instance().graph.addEdge(e,r);i.name=String(n.relationship),i.properties=Object.assign({id:n.id},n.properties),i.color=new THREE.Color(u.default.getColorByName(n.relationship)),_app.controller.drawing.forceStartLayout(),l.default.selectWithNodeIds([r.id],l.default.selectTypes.new),this.handleClose()}},{key:"handleClose",value:function(){this.props.onClose&&this.props.onClose()}},{key:"checkState",value:function(){return this.state.names.filter(function(e){return 0==e.length}).length>0?(a.default.showHints("Please enter a name or remove empty attribute",null,1200),!1):!(!this.state.nodeId||""==this.state.nodeId)||(a.default.showHints("Remark should link to a node",null,1200),!1)}},{key:"getTableContent",value:function(){var e=this,t=this.state.names;this.state.values;return t.map(function(t,n){return i.default.createElement("tr",{key:n,className:"row"},i.default.createElement("td",{className:"col col-lg-4"},i.default.createElement("input",{type:"text",name:"name",className:"form-control",placeholder:"Please input attribute name",onChange:function(t){return e.onNameChange(n,t.target.value)}})),i.default.createElement("td",{className:"col col-lg-8"},i.default.createElement("input",{type:"text",name:"value",className:"form-control",placeholder:"Please input attribute value",onChange:function(t){return e.onValueChange(n,t.target.value)}})))})}},{key:"handleAddAttribute",value:function(){var e=this.state,t=e.names,n=e.values;t.push(""),n.push(""),this.setState({names:t,values:n})}},{key:"handleRemoveAttribute",value:function(){var e=this.state,t=e.names,n=e.values;t.length>1&&n.length>1&&(t.pop(),n.pop()),this.setState({names:t,values:n})}},{key:"render",value:function(){var e=this,t=this.state,n=t.names;t.values;return i.default.createElement("div",{className:"remark-window container"},i.default.createElement("table",{className:"table table-striped  remark-window-table"},i.default.createElement("thead",null,i.default.createElement("tr",{className:"row"},i.default.createElement("td",{className:"col col-lg-4"},"Name"),i.default.createElement("td",{className:"col col-lg-8"},"Value"))),i.default.createElement("tbody",null,this.getTableContent())),i.default.createElement("div",{className:"tour-button-group button-group"},n.length<=1?null:i.default.createElement("button",{className:"kv-button",onClick:function(){return e.handleRemoveAttribute()}},"Remove Attribute"),i.default.createElement("button",{className:"kv-button",onClick:function(){return e.handleAddAttribute()}},"Add Attribute"),i.default.createElement("button",{className:"kv-button",onClick:function(){return e.onAddRemark()}},"Add Annotation"),i.default.createElement("div",{className:"clear-both"}," ")))}}]),t}();t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(1),o=d(i),a=d(n(11)),s=d(n(51)),u=d(n(47)),l=d(n(101)),c=d(n(10));function d(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={tags:[],isManager:!1,editTag:null},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),r(t,[{key:"componentDidMount",value:function(){var e=this.geTagList();this.setState({tags:e})}},{key:"onCreateTag",value:function(e,t){var n=this.props.actions,r=t||(this.refs.tagName?this.refs.tagName.value:null);if(!r)return c.default.showHints("Please enter a tag name");if(!e||0==e.length)return c.default.showHints("No nodes selected");var i=s.default.instance().graph.nodeSet;e.forEach(function(e){i[e].data.detail.data.graphxr_tag=r}),this.refs.tagName.value="";var o=this.state.tags;o[r]=s.default.instance().graph.nodes.filter(function(e){return e.data.detail.data.graphxr_tag}).length,this.setState({tags:o}),n.graphDataUpdate(_app.controller.graph.visibleNodes.length)}},{key:"onCleanTag",value:function(){var e=this.props.actions,t=s.default.instance().getCurrentSelectedNodeIds();if(0!=t.length){var n=s.default.instance().graph.nodeSet;t.forEach(function(e){var t=n[e];t.selected=!1,t.data.detail.data.graphxr_tag&&delete t.data.detail.data.graphxr_tag});var r=this.geTagList();this.setState({tags:r}),e.graphDataUpdate(_app.controller.graph.visibleNodes.length),this.props.onClose()}}},{key:"onRemoveTag",value:function(e,t){if(e&&""!=e){var n=this.props.actions,r=s.default.instance().graph.nodeSet,i=[];if(a.default.forEach(r,function(t){t.data.detail&&t.data.detail.data&&t.data.detail.data.graphxr_tag==e&&(t.selected=!1,delete t.data.detail.data.graphxr_tag,i.push(t.id))}),l.default.hasShareContrl()){var o=this.buildStatement(i,null);u.default.excuteCommand(o,!0).then(function(){}).catch(function(e){console.error(e.message,"(So you can't async to Database)")})}else console.error(err.message,"(So you can't async to Database)");var c=this.state.tags,d=this.state.isManager&&a.default.size(c)>0;return a.default.remove(c,function(t){return t==e}),t?(this.state.tags=c,this.state.editTag=null,this.state.isManager=d):(this.setState({tags:c,editTag:null,isManager:d}),n.graphDataUpdate(_app.controller.graph.visibleNodes.length)),i}}},{key:"onTagClick",value:function(e){this.state.isManager?this.setState({editTag:e}):this.onCreateTag(s.default.instance().getCurrentSelectedNodeIds(),e)}},{key:"onSave",value:function(){this.state.editTag;if(this.state.editTag&&this.state.isManager){var e=this.onRemoveTag(this.state.editTag,!0);this.onCreateTag(e)}else this.onCreateTag(s.default.instance().getCurrentSelectedNodeIds())}},{key:"geTagList",value:function(){return s.default.instance().graph.nodes.filter(function(e){return e.data.detail.data.graphxr_tag}).map(function(e){return e.data.detail.data.graphxr_tag}).reduce(function(e,t){return e[t]=e[t]?e[t]+1:1,e},{})}},{key:"buildStatement",value:function(e,t){var n=e.join(",");return t?"MATCH (n)  where ID(n) in ["+n+"]  set n.graphxr_tag='"+t+"'":"MATCH (n)  where ID(n) in ["+n+"]  set n.graphxr_tag=null"}},{key:"onManagerClick",value:function(e){var t=!this.state.isManager;this.props.updateTitle&&this.props.updateTitle(t?"Manager Tags":null),this.setState({isManager:t,editTag:null})}},{key:"render",value:function(){var e=this,t=this.state,n=t.isManager,r=t.editTag,i=t.tags;return o.default.createElement("div",{className:"create-tag-panel"},o.default.createElement("div",{className:"tags"},Object.keys(i).sort(function(e,t){return e.toLowerCase().localeCompare(t.toLowerCase())}).map(function(t,a){return t==r?o.default.createElement("input",{key:a,ref:"tagName",placeholder:"Edit tag("+t+")",defaultValue:t}):o.default.createElement("button",{key:a,onClick:function(){return e.onTagClick(t)}},o.default.createElement("i",{className:"fa "+(n?"fa-pencil-square-o ":"fa-plus-circle")+" "}),o.default.createElement("span",null,t," (",i[t],")"))})),n?null:o.default.createElement("input",{className:"add-new-tag",ref:"tagName",placeholder:"Add new tag"}),o.default.createElement("div",{className:"actions"},r?o.default.createElement("button",{className:"kv-button btn-warning",onClick:function(){return e.onRemoveTag(r)}},o.default.createElement("span",null,"Delete Tag(",r,") "),"  ",o.default.createElement("i",{className:"fa fa-trash-o"})):null,n?null:o.default.createElement("button",{className:"kv-button btn-warning",onClick:function(){return e.onCleanTag()}},o.default.createElement("span",null,"Clean Nodes Tags "),o.default.createElement("i",{className:"fa fa-minus-circle"})),n&&!r?null:o.default.createElement("button",{className:"kv-button",onClick:function(){return e.onSave()}},o.default.createElement("span",null,"Save "),n?null:o.default.createElement("i",{className:"fa fa-plus-circle"}))))}}]),t}();t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(1),o=s(i),a=s(n(4));function s(e){return e&&e.__esModule?e:{default:e}}function u(){}var l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.PureComponent),r(t,[{key:"render",value:function(){var e=this.props.reduxState.ui.popWindow.content||{},t=e.url;/^www\..+\..+/i.test(e.url)&&(t="https://"+t);var n={ref:"iframe",frameBorder:"0",src:t,target:"_top",allowFullScreen:this.props.allowFullScreen||!0,style:Object.assign({},{position:this.props.position||"absolute",display:this.props.display||"block",height:this.props.height||"400px",width:this.props.width||"100%",align:"center"},this.props.styles||{}),height:this.props.height||"400px",name:this.props.name||"",width:this.props.width||"100%",onLoad:function(){},onMouseOver:this.props.onMouseOver||u,onMouseOut:this.props.onMouseOut||u};return o.default.createElement("iframe",Object.assign(n,{id:"web-iframe"},this.props.sandbox?{sandbox:this.props.sandbox}:{},this.props.allow?{allow:this.props.allow}:{},this.props.className?{className:this.props.className}:{}))}}]),t}();l.propTypes={className:a.default.string,width:a.default.string,position:a.default.string,display:a.default.string,name:a.default.string,height:a.default.string,onLoad:a.default.func,sandbox:a.default.string,allow:a.default.string,onMouseOver:a.default.func,onMouseOut:a.default.func,styles:a.default.object,allowFullScreen:a.default.bool},t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(1),a=(r=o)&&r.__esModule?r:{default:r};var s=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={currentTab:e.children[0].props.name},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default.Component),i(t,[{key:"componentWillReceiveProps",value:function(e){}},{key:"onMouseOver",value:function(e){e!=this.state.currentTab&&this.setState({currentTab:e})}},{key:"render",value:function(){var e=this,t=this.props,n=(t.actions,t.children),r=this.state.currentTab;return a.default.createElement("div",{className:"right-panel"},a.default.createElement("div",{className:"menu"},a.default.createElement("ul",null,n.filter(function(e){return e}).map(function(t,n){return a.default.createElement("li",{key:n},a.default.createElement("div",{className:r==t.props.name?"parallelogram  parallelogram-select":"parallelogram",onClick:function(){return e.onMouseOver(t.props.name)}},a.default.createElement("span",{className:"parallelogram-tour-"+n},t.props.name)))}))),a.default.createElement("div",{className:"content-group"},n.filter(function(e){return e}).map(function(e,t){return a.default.createElement("div",{key:t,id:e.props.name,className:"content",style:{transform:"translateX("+(r==e.props.name?0:110)+"%)"}},r!=e.props.name?null:a.default.cloneElement(e,{visible:r==e.props.name}))})))}}]),t}();t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DefaultIconConfig=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0},o=g(n(1)),a=g(n(94)),s=g(n(2290)),u=g(n(439)),l=g(n(275)),c=n(330),d=n(51),f=g(d),h=n(112),p=g(n(44)),m=g(n(10));function g(e){return e&&e.__esModule?e:{default:e}}var y=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.state={labels:{},images:u.default.instance().iconMap||{},labelSelectStates:{},texture:r.props.reduxState.settings.iconConfig?r.props.reduxState.settings.iconConfig.iconPath:"/public/default_icons/spritesheet.png",iconColumn:r.props.reduxState.settings.iconConfig?r.props.reduxState.settings.iconConfig.iconColumn:4,needUpdate:!1,showPopover:!1,showPopoverLabel:null},f.default.instance().icon=r.state.texture,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.default),r(t,[{key:"componentDidMount",value:function(){i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"componentDidMount",this).call(this),this.updateColorSchema(h.ColorSchema.LABEL),p.default.on("change",this.updateLabelSelectStates.bind(this),"legend-label");var e=this.props.reduxState.settings.iconConfig||d.DefaultIconConfig;f.default.instance().icon=e.iconPath,f.default.instance().iconColumn=e.iconColumn}},{key:"componentWillUnmount",value:function(){p.default.on("change",null,"legend-label")}},{key:"componentWillReceiveProps",value:function(e){i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"componentWillReceiveProps",this).call(this,e),this.updateColorSchema(h.ColorSchema.LABEL),this.graphDataUpdate(),this.props.reduxState.settings.iconConfig&&this.props.reduxState.settings.iconConfig.iconPath!=e.reduxState.settings.iconConfig.iconPath&&this.setState({texture:e.reduxState.settings.iconConfig.iconPath,iconColumn:e.reduxState.settings.iconConfig.iconColumn,images:{}})}},{key:"updateLabelSelectStates",value:function(){var e=f.default.instance().graph,t={};e.visibleNodes.length>0&&Object.keys(this.state.labels).forEach(function(n){var r=0==e.visibleNodes.filter(function(e){return e.data.detail.type==n}).filter(function(e){return!e.selected}).length;t[n]=r}),this.setState({labelSelectStates:t})}},{key:"graphDataUpdate",value:function(e){var t=this.state,n=t.labels,r=t.labelSelectStates,i=f.default.instance().getCurrentLabels();Object.keys(n).forEach(function(e){i[e]&&(i[e].selected=!!r[e])}),this.setState({labels:i})}},{key:"onClickImage",value:function(e,t,n){var r=this.props.actions,i=128*-(n%t)+"px "+128*-Math.floor(n/t)+"px";r.setNodePropertyByLabel(e,"icon",n,i),u.default.addIcon(e,n,i);var o=u.default.instance().iconMap;this.setState({images:o,showPopover:!1,showPopoverLabel:null})}},{key:"onClickLabel",value:function(e){var t=this.props.actions,n=this.state.labelSelectStates,r=f.default.instance().graph.visibleNodes.filter(function(t){return t.data.detail.type==e}).map(function(e){return e.id});p.default.selectWithNodeIds(r,n[e]?p.default.selectTypes.removeSub:null),t.graphDataUpdate(_app.controller.graph.visibleNodes.length)}},{key:"render",value:function(){var e=this,t=this.state,n=t.images,r=t.texture,i=t.labelSelectStates,u=t.labels,l=t.showPopover,d=t.showPopoverLabel,f=Object.keys(u);return o.default.createElement("div",{className:"button-group"},f.sort(function(e,t){return e.toLowerCase().localeCompare(t.toLowerCase())}).map(function(t,f){var h,p,g,y=n[t],v=y?y.path:"";return o.default.createElement("div",(g=t+f,(p="key")in(h={key:f,className:"button-group-container"})?Object.defineProperty(h,p,{value:g,enumerable:!0,configurable:!0,writable:!0}):h[p]=g,h),o.default.createElement("span",{onClick:function(){return e.onClickLabel(t)},style:{color:a.default.getColorByType(t),border:"solid 1px "+a.default.getColorByType(t),background:i[t]?"rgba(189, 33, 27, 0.75)":"transparent"}},t+" "+u[t].selectedNum+"/"+u[t].count),o.default.createElement("div",{id:"legend-icon-"+m.default.keepCharOnly(t),style:{width:"14px",height:"14px",alignSelf:"center"},className:"tour-legend-icon legend-icon",onClick:function(n){e.setState({showPopover:!l,showPopoverLabel:t})}},o.default.createElement("div",{className:"tour-sprite sprite sprite-scale sprite-0",style:{transform:"scale(0.1)",background:"url("+r+") "+v+" "}},o.default.createElement("div",{className:"bg-img-over-color",style:{opacity:y&&y.id>0?.4:1,background:a.default.getColorByType(t)}}))),l?o.default.createElement(c.Popover,{placement:"left",isOpen:l,target:"legend-icon-"+m.default.keepCharOnly(d),id:"popover",className:"popover-legend-table"},o.default.createElement(c.PopoverBody,null,o.default.createElement(s.default,{texture:e.state.texture,iconColumn:e.state.iconColumn,label:d,onClickImage:function(t,n,r){e.onClickImage(d,n,r)}}))):null)}))}}]),t}();t.default=y,t.DefaultIconConfig=d.DefaultIconConfig},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(1),o=s(i),a=(s(n(51)),n(2291));function s(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={iconColumn:n.props.iconColumn,texture:n.props.texture},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),r(t,[{key:"componentWillReceiveProps",value:function(e){this.props.texture!=e.texture&&this.setState({texture:e.texture,iconColumn:e.iconColumn})}},{key:"onClickImage",value:function(e,t,n){this.props.onClickImage(e,t,n)}},{key:"render",value:function(){var e=this;return o.default.createElement(a.StyledGrid,{gridColumn:this.state.iconColumn},Array.from(Array(this.state.iconColumn*this.state.iconColumn).keys()).map(function(t){var n=Math.floor(t/e.state.iconColumn),r=t%e.state.iconColumn;return o.default.createElement(a.StyledGridItem,{key:t},o.default.createElement(a.StyledGridIcon,{onClick:function(n){return e.onClickImage(e.props.label,e.state.iconColumn,t)},imageUrl:e.state.texture,positionX:128*r,positionY:128*n}))}))}}]),t}();t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(285);t.StyledWrapper=r.default.div`
    
`,t.StyledGrid=r.default.div`
    display: grid;
    grid-column-gap:10px;
    grid-row-gap:10px;
    margin: 5px;
    grid-template-columns:repeat(${e=>e.gridColumn}, 28px [col-start])
`,t.StyledGridItem=r.default.div`
    width:28px;
    height:28px;
`,t.StyledGridIcon=r.default.div`
    left: 0px;
    width: 128px;
    height:128px;
    transform: scale(0.2);
    transform-origin: left top;
    background: url(${e=>e.imageUrl}) -${e=>e.positionX}px -${e=>e.positionY}px ;
`},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=s(n(1)),o=s(n(275)),a=s(n(51));function s(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.state={relationships:{}},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default),r(t,[{key:"graphDataUpdate",value:function(e){this.state.relationships;var t=a.default.instance().getCurrentRelationships();this.setState({relationships:t})}},{key:"onClickImage",value:function(e,t,n){}},{key:"onClickLabel",value:function(e){}},{key:"render",value:function(){var e=this,t=Object.keys(this.state.relationships);return i.default.createElement("div",{className:"current-relationships"},t.sort(function(e,t){return e.toLowerCase().localeCompare(t.toLowerCase())}).map(function(t,n){return i.default.createElement("div",{key:n,className:"group"},i.default.createElement("span",{style:{color:e.state.relationships[t].color}},t),i.default.createElement("div",{className:"line",style:{background:e.state.relationships[t].color,color:e.state.relationships[t].color}}))}))}}]),t}();t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0},o=h(n(1)),a=h(n(744)),s=h(n(275)),u=n(330),l=n(112),c=h(n(44)),d=h(n(51)),f=h(n(10));function h(e){return e&&e.__esModule?e:{default:e}}var p=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.state={tags:{},tagColors:{},tagsState:{},showPopover:!1,showPopoverLabel:null},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.default),r(t,[{key:"componentDidMount",value:function(){i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"componentDidMount",this).call(this),this.updateColorSchema(l.ColorSchema.TAG),this.updateNodeColorByTag(),c.default.on("change",this.updateTagSelectState.bind(this),"legend-tag")}},{key:"componentWillUnmount",value:function(){c.default.on("change",null,"legend-tag")}},{key:"componentWillReceiveProps",value:function(e){i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"componentWillReceiveProps",this).call(this,e),this.updateColorSchema(l.ColorSchema.TAG),e.visible&&this.updateNodeColorByTag()}},{key:"updateNodeColorByTag",value:function(){var e=d.default.instance().graph;if(e){var t=e.nodes,n=d3.scaleOrdinal(d3.schemeCategory10).range().concat(d3.scaleOrdinal(d3.schemeAccent).range()),r=this.state.tagColors;t.forEach(function(e){var t=e.data.detail.data.graphxr_tag;if(t)if(r[t])e.tagColor=r[t];else{var i=Object.keys(r).length;r[t]=n[i],e.tagColor=n[i]}else e.tagColor="gray"}),this.setState({tagColors:r})}}},{key:"graphDataUpdate",value:function(e){this.setState({tags:this.tagMap})}},{key:"updateTagSelectState",value:function(){var e=this,t={},n=d.default.instance().graph.visibleNodes;Object.keys(this.state.tags).forEach(function(r){var i=n.filter(function(e){return e.data.detail.data.graphxr_tag==r&&e.selected}).length;i==e.state.tags[r].length?t[r]={num:i,selected:!0}:t[r]={num:i,selected:!1}}),this.setState({tagsState:t})}},{key:"onClickTag",value:function(e){var t=this.props.actions,n=this.state.tags[e],r=this.state.tagsState[e];c.default.selectWithNodeIds(n,r.selected?c.default.selectTypes.removeSub:null),t.graphDataUpdate(_app.controller.graph.visibleNodes.length)}},{key:"onSetClickColor",value:function(e,t){var n=this.state.tagColors;n[e]=t,this.state.tagColors=n,this.state.showPopover=!1,this.updateNodeColorByTag()}},{key:"render",value:function(){var e=this,t=Object.keys(this.state.tags),n=this.state,r=n.tagsState,i=n.tagColors,s=d.default.instance().graph.visibleNodes;return t.forEach(function(t){var n=s.filter(function(e){return e.data.detail.data.graphxr_tag==t&&e.selected}).length;n==e.state.tags[t].length?r[t]={num:n,selected:!0}:r[t]={num:n,selected:!1}}),o.default.createElement("div",{className:"button-group"},t.sort(function(e,t){return e.toLowerCase().localeCompare(t.toLowerCase())}).map(function(t,n){var s,l,c,d=i[t]?i[t]:"white";return o.default.createElement("div",(c=t+n,(l="key")in(s={key:n,className:"button-group-container"})?Object.defineProperty(s,l,{value:c,enumerable:!0,configurable:!0,writable:!0}):s[l]=c,s),o.default.createElement("span",{onClick:function(){return e.onClickTag(t)},style:{color:d,border:"solid 1px "+d,background:r[t]&&r[t].selected?"rgba(189, 33, 27, 0.75)":"transparent"}},t+" "+(r[t]?r[t].num:0)+"/"+e.state.tags[t].length),o.default.createElement("div",{id:"legend-icon-"+f.default.keepCharOnly(t),style:{width:"14px",height:"14px",alignSelf:"center"},onClick:function(n){e.setState({showPopover:!e.state.showPopover,showPopoverLabel:t})}},o.default.createElement("div",{className:"sprite sprite-scale sprite-0 ",style:{transform:"scale(0.1)",backgroundImage:"url(/public/default_icons/spritesheet.png)"}},o.default.createElement("div",{className:"bg-img-over-color",style:{backgroundColor:i[t]?i[t]:"white"}}))),e.state.showPopover?o.default.createElement(u.Popover,{placement:"left",isOpen:e.state.showPopover,target:"legend-icon-"+f.default.keepCharOnly(e.state.showPopoverLabel),id:"popover"},o.default.createElement(u.PopoverBody,null,o.default.createElement("div",{className:"list-group"},o.default.createElement(a.default,{label:e.state.showPopoverLabel,onClickColor:function(t,n){return e.onSetClickColor(t,n)}})))):null)}))}},{key:"tagMap",get:function(){var e={};return d.default.instance().graph.nodes.filter(function(e){return e.data.detail.data.graphxr_tag}).forEach(function(t){var n=t.data.detail.data.graphxr_tag;e[n]||(e[n]=[]),e[n].push(t.id)}),e}}]),t}();t.default=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0},o=h(n(1)),a=h(n(744)),s=h(n(275)),u=n(330),l=h(n(51)),c=n(112),d=h(n(44)),f=h(n(10));function h(e){return e&&e.__esModule?e:{default:e}}var p=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.state={tags:{},tagColors:{},tagsState:{},currentProperty:"",showPopover:!1,showPopoverLabel:null},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.default),r(t,[{key:"componentDidMount",value:function(){i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"componentDidMount",this).call(this),this.updateNodeColorByTag(this.props.reduxState.node.tagNodeByProperty),this.updateColorSchema(c.ColorSchema.TAG),d.default.on("change",this.updateTagSelectState.bind(this),"legend-property")}},{key:"componentWillUnmount",value:function(){d.default.on("change",null,"legend-property")}},{key:"componentWillReceiveProps",value:function(e){i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"componentWillReceiveProps",this).call(this,e),this.updateColorSchema(c.ColorSchema.TAG),e.visible&&this.state.currentProperty!=e.reduxState.node.tagNodeByProperty&&this.updateNodeColorByTag(e.reduxState.node.tagNodeByProperty)}},{key:"updateNodeColorByTag",value:function(e){var t=l.default.instance().graph;if(t&&e){var n=t.nodes,r=d3.scaleOrdinal(d3.schemeCategory10).range().concat(d3.scaleOrdinal(d3.schemeAccent).range()),i=this.state.tagColors;n.forEach(function(t){var n=t.data.detail.data[e];if(n)if(i[n])t.tagColor=i[n];else{var o=Object.keys(i).length;i[n]=r[o%r.length],t.tagColor=r[o%r.length]}else t.tagColor="gray"});var o=this.geTagMap(e);this.setState({tagColors:i,currentProperty:e,tags:o})}}},{key:"updateTagSelectState",value:function(){var e=this,t={},n=this.state.currentProperty,r=l.default.instance().graph.visibleNodes;Object.keys(this.state.tags).forEach(function(i){var o=r.filter(function(e){return e.data.detail.data[n]==i&&e.selected}).length;o==e.state.tags[i].length?t[i]={num:o,selected:!0}:t[i]={num:o,selected:!1}}),this.setState({tagsState:t})}},{key:"onClickTag",value:function(e){var t=this.props.actions,n=(l.default.instance().graph.nodeSet,this.state.tags[e]),r=this.state.tagsState[e];d.default.selectWithNodeIds(n,r.selected?d.default.selectTypes.removeSub:null),t.graphDataUpdate(_app.controller.graph.visibleNodes.length),this.setState({showPopover:!1})}},{key:"geTagMap",value:function(e){var t={};return l.default.instance().graph.nodes.filter(function(t){return t.data.detail.data[e]}).forEach(function(n){var r=n.data.detail.data[e];t[r]||(t[r]=[]),t[r].push(n.id)}),t}},{key:"onSetClickColor",value:function(e,t){this.props.actions;var n=this.state.tagColors;n[e]=t,this.state.tagColors=n,this.state.showPopover=!1,this.updateNodeColorByTag(this.state.currentProperty)}},{key:"render",value:function(){var e=this,t=Object.keys(this.state.tags),n=this.state,r=n.tagsState,i=n.tagColors,s=n.currentProperty,c=l.default.instance().graph.visibleNodes;return t.forEach(function(t){var n=c.filter(function(e){return e.data.detail.data[s]==t&&e.selected}).length;n==e.state.tags[t].length?r[t]={num:n,selected:!0}:r[t]={num:n,selected:!1}}),o.default.createElement("div",{className:"button-group"},t.sort(function(e,t){return e.toLowerCase().localeCompare(t.toLowerCase())}).map(function(t,n){return o.default.createElement("div",(c=t+n,(l="key")in(s={key:n,className:"button-group-container"})?Object.defineProperty(s,l,{value:c,enumerable:!0,configurable:!0,writable:!0}):s[l]=c,s),o.default.createElement("span",{onClick:function(){return e.onClickTag(t)},style:{color:i[t]?i[t]:"white",border:"solid 1px ",background:r[t]&&r[t].selected?"rgba(189, 33, 27, 0.75)":"transparent"}},t+" "+(r[t]?r[t].num:0)+"/"+e.state.tags[t].length),o.default.createElement("div",{id:"legend-icon-"+f.default.keepCharOnly(t),style:{width:"14px",height:"14px",alignSelf:"center"},onClick:function(n){e.setState({showPopover:!e.state.showPopover,showPopoverLabel:t})}},o.default.createElement("div",{className:"sprite sprite-scale sprite-0 ",style:{transform:"scale(0.1)",backgroundImage:"url(/public/default_icons/spritesheet.png)"}},o.default.createElement("div",{className:"bg-img-over-color",style:{backgroundColor:i[t]?i[t]:"white"}}))),e.state.showPopover?o.default.createElement(u.Popover,{placement:"left",isOpen:e.state.showPopover,target:"legend-icon-"+f.default.keepCharOnly(e.state.showPopoverLabel),id:"popover"},o.default.createElement(u.PopoverBody,null,o.default.createElement("div",{className:"list-group"},o.default.createElement(a.default,{label:e.state.showPopoverLabel,onClickColor:function(t,n){return e.onSetClickColor(t,n)}})))):null);var s,l,c}))}}]),t}();t.default=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(1),o=l(i),a=(l(n(301)),n(1180)),s=n(751),u=n(1181);function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={actionStatus:null},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),r(t,[{key:"componentDidMount",value:function(){this.longPress("press-left",function(){_app.controller.drawing.graph2DControl.moveLeft(.05)}),this.longPress("press-right",function(){_app.controller.drawing.graph2DControl.moveRight(-.05)}),this.longPress("press-up",function(){_app.controller.drawing.graph2DControl.moveUp(-.05)}),this.longPress("press-down",function(){_app.controller.drawing.graph2DControl.moveDown(.05)}),this.longPress("press-forward",function(){_app.controller.drawing.graph2DControl.moveForward(.05)}),this.longPress("press-backword",function(){_app.controller.drawing.graph2DControl.moveBackward(-.05)}),this.longPress("press-rotate-right",function(){_app.controller.drawing.graph2DControl.rotateAroundSelectedNode(-.05)}),this.longPress("press-rotate-left",function(){_app.controller.drawing.graph2DControl.rotateAroundSelectedNode(.05)}),this.longPress("press-reset",function(){_app.controller.drawing.graph2DControl.reset()})}},{key:"longPress",value:function(e,t){var n=document.querySelector("#"+e),r=(0,a.fromEvent)(document,"mouseup");(0,a.fromEvent)(n,"mousedown").switchMap(function(e){return(0,s.of)(e).delay(300).switchMap(function(){return(0,u.interval)(50).do(function(){t()})}).takeUntil(r).do(null,null,function(){t()})}).subscribe()}},{key:"getHoverState",value:function(e,t){switch(e){case"move":case"rotate":case"translate":this.setState({actionStatus:t});break;default:this.setState({actionStatus:""})}}},{key:"render",value:function(){var e=this;return o.default.createElement("div",{className:"nav-tool"},o.default.createElement("div",{className:"nav-btns clearfix tour-tool-icons"},o.default.createElement("div",{className:(""==this.state.actionStatus?"d-none":"title-text-detail")+" title-text title-move animated fadeInLeft faster"},o.default.createElement("span",null,"Move ",this.state.actionStatus)),o.default.createElement("div",{className:"layer layer-top"},o.default.createElement("div",{id:"press-up",className:"item"},o.default.createElement("span",{className:"iconfont icon-nav-up",onMouseEnter:function(){return e.getHoverState("move","Up")},onMouseLeave:function(){return e.getHoverState()}}))),o.default.createElement("div",{className:"layer layer-center"},o.default.createElement("div",{id:"press-left",className:"item press-left-tour"},o.default.createElement("span",{className:"iconfont icon-nav-left",onMouseEnter:function(){return e.getHoverState("move","Left")},onMouseLeave:function(){return e.getHoverState()}})),o.default.createElement("div",{id:"press-reset",className:"item item-center"},o.default.createElement("span",{className:"iconfont icon-nav-center",onMouseEnter:function(){return e.getHoverState("move","Reset")},onMouseLeave:function(){return e.getHoverState()}})),o.default.createElement("div",{id:"press-right",className:"item"},o.default.createElement("span",{className:"iconfont icon-nav-right",onMouseEnter:function(){return e.getHoverState("move","Right")},onMouseLeave:function(){return e.getHoverState()}}))),o.default.createElement("div",{className:"layer layer-buttom"},o.default.createElement("div",{id:"press-down",className:"item"},o.default.createElement("span",{className:"iconfont icon-nav-down",onMouseEnter:function(){return e.getHoverState("move","Down")},onMouseLeave:function(){return e.getHoverState()}})))),o.default.createElement("div",{className:"rotate-btns two-btns clearfix"},o.default.createElement("div",{className:(""==this.state.actionStatus?"d-none":"title-text-detail")+" title-text title-rotate animated fadeInLeft faster"},o.default.createElement("span",null,"Rotate ",this.state.actionStatus)),o.default.createElement("div",{id:"press-rotate-left",className:"item press-rotate-left-tour"},o.default.createElement("span",{className:"iconfont icon-rotate-left",onMouseEnter:function(){return e.getHoverState("rotate","Left")},onMouseLeave:function(){return e.getHoverState()}})),o.default.createElement("div",{id:"press-rotate-right",className:"item"},o.default.createElement("span",{className:"iconfont icon-rotate-right",onMouseEnter:function(){return e.getHoverState("rotate","Right")},onMouseLeave:function(){return e.getHoverState()}}))),o.default.createElement("div",{className:"move-btns two-btns clearfix"},o.default.createElement("div",{className:(""==this.state.actionStatus?"d-none":"title-text-detail")+" title-text title-translate animated fadeInLeft faster"},o.default.createElement("span",null,this.state.actionStatus)),o.default.createElement("div",{id:"press-backword",className:"item press-backward-tour"},o.default.createElement("span",{className:"iconfont icon-backward",onMouseEnter:function(){return e.getHoverState("translate","Backward")},onMouseLeave:function(){return e.getHoverState()}})),o.default.createElement("div",{id:"press-forward",className:"item"},o.default.createElement("span",{className:"iconfont icon-forward",onMouseEnter:function(){return e.getHoverState("translate","Forward")},onMouseLeave:function(){return e.getHoverState()}}))))}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(1),a=(r=o)&&r.__esModule?r:{default:r},s=n(1273);var u=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={showModal:!0},e.systemType=/mac/gi.test(navigator.userAgent)?"mac":/windows/gi.test(navigator.userAgent)?"win":"others",e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),i(t,[{key:"componentDidMount",value:function(){}},{key:"showModal",value:function(){this.props.showHotkey()}},{key:"render",value:function(){for(var e=this,t=[],n=_.filter(s.keyMap["mac"==this.systemType?"mac":"win"],function(e){return!e.disable}),r=0;r<n.length;r+=3)t.push(a.default.createElement("tr",{key:r},a.default.createElement("td",null,n[r+0].name),a.default.createElement("td",{className:"left"},a.default.createElement("span",{dangerouslySetInnerHTML:{__html:n[r+0].detail}})),n[r+1]&&n[r+1].name?a.default.createElement("td",null,n[r+1].name):null,n[r+1]&&n[r+1].name?a.default.createElement("td",{className:"middle"},a.default.createElement("span",{dangerouslySetInnerHTML:{__html:n[r+1].detail}})):null,n[r+2]&&n[r+2].name?a.default.createElement("td",null,n[r+2].name):null,n[r+2]&&n[r+2].name?a.default.createElement("td",{className:"right"},a.default.createElement("span",{dangerouslySetInnerHTML:{__html:n[r+2].detail}})):null));return a.default.createElement("div",{id:"hotkey-list"},a.default.createElement("div",{className:"modal fade show",tabIndex:"-1",role:"dialog"},a.default.createElement("div",{className:"modal-dialog",role:"document"},a.default.createElement("div",{className:"modal-content"},a.default.createElement("div",{className:"modal-header"},a.default.createElement("h5",{className:"modal-title",id:"exampleModalLongTitle"},"Shortcut Key List"),a.default.createElement("button",{type:"button",className:"close",onClick:function(){e.showModal()}},a.default.createElement("span",{"aria-hidden":"true"},""))),a.default.createElement("div",{className:"modal-body"},a.default.createElement("table",{className:"table table-striped table-bordered"},a.default.createElement("tbody",null,t.map(function(e){return e}))))))))}}]),t}();t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(1),o=s(i),a=s(n(2298));function s(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.state={isShowPanel:!1,nodeId:"",selectedNodes:[]},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),r(t,[{key:"componentWillReceiveProps",value:function(e){e.app.rightPanelPosition!=this.props.app.rightPanelPosition&&(""!=e.app.rightPanelPosition&&_app.controller.graph.visibleNodes&&0!=_app.controller.graph.visibleNodes.length?this.updateRightPanel(e.app.rightPanelPosition,_app.controller.graph.visibleNodes.filter(function(e){return e.selected}).map(function(e){return e.id})):this.setState({isShowPanel:!1,nodeId:"",selectedNodes:!1}))}},{key:"getPanelPosition",value:function(e){var t=document.getElementsByClassName("mouse-right-panel")[0].clientHeight,n=document.getElementsByClassName("mouse-right-panel")[0].clientWidth,r={x:(e.x>0?.5*window.innerWidth*(1+e.x)-n:.5*window.innerWidth*(1+e.x))+"px",y:(e.y<0?.5*window.innerHeight*(1-e.y)-t:.5*window.innerHeight*(1-e.y))+"px"};document.getElementsByClassName("mouse-right-panel")[0].style.left=r.x,document.getElementsByClassName("mouse-right-panel")[0].style.top=r.y,document.getElementsByClassName("mouse-right-panel")[0].style.height=r.height,document.getElementsByClassName("mouse-right-panel")[0].scrollTo(0,0)}},{key:"updateRightPanel",value:function(e,t){var n=this;e&&e.nodes&&e.nodes.id?this.setState({isShowPanel:!0,nodeId:e.nodes.id,selectedNodes:t},function(){n.getPanelPosition(e)}):this.setState({isShowPanel:!0,nodeId:"",selectedNodes:t},function(){n.getPanelPosition(e)})}},{key:"render",value:function(){var e=this.state,t=e.isShowPanel,n=e.nodeId,r=e.selectedNodes,i=null;return i=0==r.length?""==n?"all":"single":""==n?r.length>1?"multiple":"single":r.findIndex(function(e){return e==n})>-1&&r.length>1?"multiple":"single",o.default.createElement("div",{id:"mouse-right",style:{pointerEvents:"none"},className:"show-right-panel"},t?o.default.createElement(a.default,{type:i,nodeId:n}):null)}}]),t}();t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(1),o=d(i),a=d(n(11)),s=d(n(300)),u=d(n(287)),l=d(n(44)),c=d(n(429));function d(e){return e&&e.__esModule?e:{default:e}}var f={single:[{name:"Annotate",value:"Annotate",tag:"annotate"},{name:"Info",value:"Info",tag:"info"},{name:"Trace Neighbor",value:"TraceNeighbor",tag:"trace-neighbor"},{name:"Tag",value:"Tag",tag:"tag"},{name:"Fly To",value:"FlyTo",tag:"fly-to"},{name:"Delete",value:"Delete",tag:"delete"},{name:"Expand",value:"Expand",tag:"expand"},{name:"Inverse",value:"Inverse",tag:"inverse"}],all:[],multiple:[{name:"Trace Neighbor",value:"TraceNeighbor",tag:"trace-neighbor"},{name:"Tag",value:"Tag",tag:"tag"},{name:"Fly To",value:"FlyTo",tag:"fly-to"},{name:"Delete",value:"Delete",tag:"delete"},{name:"Expand",value:"Expand",tag:"expand"},{name:"Inverse",value:"Inverse",tag:"inverse"}]},h=function(e){function t(e,n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),r(t,[{key:"componentDidMount",value:function(){window.addEventListener("click",this.closeRightPanel)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("click",this.closeRightPanel)}},{key:"closeRightPanel",value:function(){u.default.handleToolClick.func()}},{key:"mouseRightAction",value:function(e,t,n){n.stopPropagation(),"ClearSelection"==e&&(l.default.selectWithNodeIds([]),c.default.updateNodeIds([])),"single"==t?u.default.handleToolClick.func(e,{nodeList:[this.props.nodeId]}):u.default.handleToolClick.func(e)}},{key:"getSelectNodeIdsForPin",value:function(){var e=Object.keys(l.default.selectNodeIdsMap);return 0==a.default.size(e)&&(e=l.default.layoutNodeIds),e}},{key:"render",value:function(){var e=this,t=this.props,n=t.type,r=t.nodeId,i=a.default.cloneDeep(f[n]);if(_app&&_app.controller){var l=[];switch(n){case"single":l=[r];var c=_app.controller.graph.visibleNodes.filter(function(e){return e.id==r})[0];c&&c.data&&c.data.detail.data&&(u.default.checkWebLink.func(c.data.detail.data)&&i.push({name:"WebLink",value:"Link",tag:"link"}),u.default.checkImage.func(c.data.detail.data)&&i.push({name:"Image",value:"Image",tag:"image"}),u.default.checkVideo.func(c.data.detail.data)&&i.push({name:"Video",value:"Video",tag:"video"})),i.push({name:"Clear Selection",value:"ClearSelection",tag:"clean"});break;case"multiple":l=_app.controller.graph.visibleNodes.filter(function(e){return e.selected}).map(function(e){return e.id}),i.push({name:"Clear Selection",value:"ClearSelection",tag:"clean"});break;case"all":var d=_app.controller.graph.visibleNodes.filter(function(e){return e.selected}).map(function(e){return e.id}),h=_app.controller.graph.visibleNodes.map(function(e){return e.id});l=0==d.length?h:d}s.default.checkPinStatus(l)?i.push({name:"Release",value:"Unpin",tag:"un-pin"}):i.push({name:"Pin",value:"Pin",tag:"pin"})}return o.default.createElement("div",{id:"mouse-panel-detail",className:"list-group mouse-right-panel"},o.default.createElement("ul",null,i.map(function(t){return o.default.createElement("li",{key:t.tag,className:"list-group-item",onClick:function(r){return e.mouseRightAction(t.value,n,r)}},o.default.createElement("i",{className:"iconfont icon-"+t.tag}),t.name)})))}}]),t}();t.default=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(1),a=(r=o)&&r.__esModule?r:{default:r};var s=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={tourAnimation:n.props.tourAnimation},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),i(t,[{key:"componentWillReceiveProps",value:function(e){this.props.tourAnimation!=e.tourAnimation&&this.setState({tourAnimation:e.tourAnimation})}},{key:"render",value:function(){var e=this;return a.default.createElement("div",{id:"tour-tips",className:(this.state.tourAnimation?"animated":"")+" animation-count-4 headShake delay-3s",onMouseEnter:function(){return e.props.hoverTourTips("in")},onMouseLeave:function(){return e.props.hoverTourTips("out")}},a.default.createElement("div",{id:"panel-arrow"}),a.default.createElement("span",{className:"close-icon iconfont icon-close",onClick:function(){return e.props.handleTourTips("hide")}}),a.default.createElement("div",{className:"tour-body"},a.default.createElement("div",{className:"tour-detail"},"Would you like a quick tour of ",a.default.createElement("strong",null,"GraphXR"),"?"),a.default.createElement("div",{className:"tour-detail"},"You can also select a tour by clicking ",a.default.createElement("br",null)," tour button ",a.default.createElement("i",{className:"fa fa-info-circle info-color"})," in About panel."),a.default.createElement("div",{className:"tour-btn-group"},a.default.createElement("button",{type:"button",className:"tips-btn btn btn-outline-success btn-sm",onClick:this.props.showAllTour},"OK"),a.default.createElement("button",{type:"button",className:"tips-btn btn btn-outline-secondary btn-sm",onClick:function(){return e.props.handleTourTips("hide")}},"Cancel"),a.default.createElement("button",{type:"button",className:"tips-btn btn btn-outline-danger btn-sm",onClick:function(){return e.props.handleTourTips("never")}},"Don't show again"))))}}]),t}();t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(1),a=(r=o)&&r.__esModule?r:{default:r};var s=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),i(t,[{key:"clean",value:function(){this.props.clean(),this.props.hideTourInfoPanel()}},{key:"hideQuickTour",value:function(){this.props.hideTourInfoPanel()}},{key:"render",value:function(){var e=this;return a.default.createElement("div",{id:"tour-info-panel"},a.default.createElement("div",{className:"main-panel animated fadeInDown slow"},a.default.createElement("div",{className:"title "+(this.props.isShowStopPanel?"d-none":"")},"Thanks for taking the tour. if you want to clean the data, please click the ",a.default.createElement("strong",null,"Clean")," button. Click ",a.default.createElement("strong",null,"OK")," to exit tour and start using GraphXR."),a.default.createElement("div",{className:"tour-btn-group"},a.default.createElement("button",{type:"button",className:"btn btn-outline-success btn-sm",onClick:function(){return e.clean()}},"Clean"),a.default.createElement("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:function(){return e.hideQuickTour()}},"OK"))))}}]),t}();t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(1),o=d(i),a=d(n(287)),s=d(n(11)),u=d(n(47)),l=d(n(44)),c=n(1274);function d(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={label:[],propertyGroup:{},limitNum:100},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),r(t,[{key:"componentDidMount",value:function(){l.default.on("change",this.changeSelectedNodes.bind(this),"ExpandHandlerPanel"),this.getRelationships(),this.updateBindAndPosition(),this.getPanelInfo(),window.onresize=s.default.throttle(this.getPanelInfo.bind(this),1e3)}},{key:"componentWillUnmount",value:function(){l.default.on("change",null,"ExpandHandlerPanel")}},{key:"getPanelInfo",value:function(){this.setState({width:window.innerWidth,height:window.innerHeight})}},{key:"updateBindAndPosition",value:function(){$("#expand-panel").hasClass(c.DragsClassName)||$("#expand-panel").drags({handle:".header"})}},{key:"changeSelectedNodes",value:function(){this.getRelationships()}},{key:"getRelationships",value:function(){var e=this;u.default.getSchema().then(function(t){var n=[];_app.controller.drawing.graph.visibleNodes.filter(function(e){return e.selected}).forEach(function(e){t.maps&&t.maps.forEach(function(t){e.data.detail.type!=t.startLabelName&&e.data.detail.type!=t.endLabelName||n.push(t.name)})});var r=s.default.uniq(n).sort(function(e,t){return e.toLowerCase().localeCompare(t.toLowerCase())}),i=e.state.propertyGroup;r.forEach(function(e){e in i||(i[e]=!0)}),e.setState({label:r,propertyGroup:i},function(){document.querySelector(".form-control-expand").focus()})})}},{key:"componentWillReceiveProps",value:function(e){e.reduxState.node.showExpandPanel&&this.getRelationships()}},{key:"changePropertyCheck",value:function(e){var t=this.state.propertyGroup;t[e]=!this.state.propertyGroup[e],this.setState({propertyGroup:t})}},{key:"expandNodes",value:function(){var e=this.state.propertyGroup;a.default.expandSelectedNodesAction.func({relationships:Object.keys(e).filter(function(t){return e[t]}),limit:this.state.limitNum})}},{key:"closePanel",value:function(){this.props.actions.showExpandPanel(!1)}},{key:"changeLimitNum",value:function(e){e.target.value>2e3?this.setState({limitNum:2e3}):e.target.value<0?this.setState({limitNum:0}):this.setState({limitNum:e.target.value})}},{key:"expandKeydown",value:function(){13==event.keyCode&&this.expandNodes()}},{key:"handleItem",value:function(){var e=this.state.propertyGroup;if(s.default.every(e,function(e){return!e}))for(var t in e)e[t]=!0;else for(var n in e)e[n]=!1;this.setState({propertyGroup:e})}},{key:"render",value:function(){var e=this,t=this.state,n=t.label,r=t.propertyGroup,i=t.limitNum,a=null;return a=s.default.every(r,function(e){return!e})?"none":s.default.every(r,function(e){return e})?"all":"some",o.default.createElement("div",{id:"expand-panel",style:{left:this.state.width-600+"px",top:"35px"},className:"pop-panel kv-scrollbar kv-scrollbar-default "+(0==n.length?"d-none":""),onClick:function(){}},o.default.createElement("div",{className:"header",onClick:function(){},style:{color:"#fff"}},o.default.createElement("span",{className:"title",style:{color:"#222",fontWeight:"bold",backgroundColor:"transparent"}},"Expand with relationships"),o.default.createElement("span",{className:"close",onClick:function(){e.closePanel()}},o.default.createElement("i",{className:"iconfont icon-close"}))),o.default.createElement("div",{className:"content "},o.default.createElement("table",{className:"table table-striped  kv-table"},o.default.createElement("tbody",null,n.map(function(t,n){return o.default.createElement("tr",{className:"prop-item",key:n,onClick:function(){e.changePropertyCheck(t)}},o.default.createElement("td",{className:"prop-key"},o.default.createElement("i",{className:"iconfont "+(r[t]?"icon-check-all":"icon-check-none")})),o.default.createElement("td",{className:"prop-value"},t))})))),o.default.createElement("div",{className:"panel-foot"},o.default.createElement("div",{className:"input-group input-group-sm mb-3"},o.default.createElement("div",{className:"checkbox-group",onClick:function(){e.handleItem()}},"all"==a?o.default.createElement("i",{className:"iconfont icon-check-all"}):null,"some"==a?o.default.createElement("i",{className:"iconfont icon-check-some"}):null,"none"==a?o.default.createElement("i",{className:"iconfont icon-check-none"}):null,"All"),o.default.createElement("div",{className:"input-group-prepend"},o.default.createElement("span",{className:"input-group-text",id:"basic-addon"},"Limit")),o.default.createElement("input",{autoFocus:!0,type:"number","aria-label":"Small",className:"form-control-expand",placeholder:"02000 nodes",value:i,onKeyDown:function(){return e.expandKeydown()},onChange:function(t){return e.changeLimitNum(t)}})),o.default.createElement("button",{className:"kv-button expand-btn",onClick:function(){return e.expandNodes()}},o.default.createElement("span",null," Expand "))))}}]),t}();t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(1),a=(r=o)&&r.__esModule?r:{default:r};var s=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.state={left:0,top:0,right:0,bottom:0},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default.Component),i(t,[{key:"componentDidMount",value:function(){}},{key:"componentWillReceiveProps",value:function(e){this.props.reduxState.moveBorder!=e.reduxState.moveBorder&&(""==e.reduxState.moveBorder?this.showMoveBorder():this.showMoveBorder(e.reduxState.moveBorder,"show"))}},{key:"showMoveBorder",value:function(e,t){if("show"==t){var n={left:0,top:0,right:0,bottom:0};n[e]=1,this.setState(n)}else this.setState({left:0,top:0,right:0,bottom:0})}},{key:"render",value:function(){var e=this.state,t=e.left,n=e.top,r=e.right,i=e.bottom;return a.default.createElement("div",{id:"pan-border"},a.default.createElement("div",{className:"left-border",style:{opacity:t}}),a.default.createElement("div",{className:"top-border",style:{opacity:n}}),a.default.createElement("div",{className:"right-border",style:{opacity:r}}),a.default.createElement("div",{className:"bottom-border",style:{opacity:i}}))}}]),t}();t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(1),o=l(i),a=(l(n(51)),l(n(2304))),s=l(n(2305)),u=n(1274);function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={currentTab:0},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),r(t,[{key:"componentDidMount",value:function(){$("#node-info-group").resizable({handles:"n, e, s, w, ne, se, sw, nw"}),$("#node-info-group").hasClass(u.DragsClassName)||$("#node-info-group").drags({handle:".header"})}},{key:"componentWillUnmount",value:function(){$("#node-info-group").resizable("destroy")}},{key:"onSelect",value:function(e){this.setState({currentTab:e})}},{key:"onClose",value:function(){this.props.onClose()}},{key:"render",value:function(){var e=this,t=this.props,n=t.actions,r=t.reduxState,i=r.node,u=i.dataChanging,l=i.currentNodeId,c=1==this.state.currentTab;return o.default.createElement("div",{className:"node-info-group",id:"node-info-group"},o.default.createElement("div",{className:"header",onClick:function(){}},o.default.createElement("ul",{className:"nav nav-tabs",role:"tablist",onClick:function(){}},o.default.createElement("li",{className:"nav-item presentation"},o.default.createElement("a",{className:"nav-link "+(c?"":"active"),role:"tab","data-toggle":"tab",href:"#properties",onClick:function(){return e.onSelect(0)}},"Properties")),o.default.createElement("li",{className:"nav-item presentation"},o.default.createElement("a",{role:"tab",className:"nav-link "+(c?"active":""),"data-toggle":"tab",href:"#neighbors",onClick:function(){return e.onSelect(1)}},"Neighbors"))),o.default.createElement("div",{className:"actions"},o.default.createElement("button",{type:"button",className:"close",onClick:function(){return e.onClose()}},o.default.createElement("i",{className:"fa fa-times-circle","aria-hidden":"true"})),o.default.createElement("button",{type:"button",className:"drag",onClick:function(){}},o.default.createElement("i",{className:"fa fa-arrows","aria-hidden":"true"})))),o.default.createElement("div",{className:"tab-content"},o.default.createElement("div",{role:"tabpanel",className:"tab-pane "+(c?"":"active"),id:"properties"},o.default.createElement(a.default,{actions:n,reduxState:r})),o.default.createElement("div",{role:"tabpanel",className:"tab-pane "+(c?"active":""),id:"neighbors"},o.default.createElement(s.default,{dataChanging:u,currentNodeId:l,visible:c}))))}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(1),o=u(i),a=u(n(51)),s=u(n(94));function u(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={node:null,key:null,isAdd:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),r(t,[{key:"componentDidMount",value:function(){var e=a.default.instance().graph;if(e){var t=e.nodeSet[this.props.reduxState.node.currentNodeId];t&&this.setState({node:t})}}},{key:"componentWillReceiveProps",value:function(e){var t=a.default.instance().graph;if(t){var n=t.nodeSet[e.reduxState.node.currentNodeId];n&&this.setState({node:n})}}},{key:"changeNodeInfo",value:function(e,t){var n=this.state.node;n.data.detail.data[t]=e.target.value,this.setState({node:n})}},{key:"addNodeInfo",value:function(e,t){var n,r,i;this.setState((n={},r=t,i=e.target.value,r in n?Object.defineProperty(n,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[r]=i,n))}},{key:"saveNewProperty",value:function(){if(this.state.title&&""!=this.state.title){var e=this.state.node;e.data.detail.data[this.state.title]?Common.showHints("<strong>"+this.state.title+"</strong> is already in use as a property name. Please enter a unique name."):(e.data.detail.data[this.state.title]=this.state.detail,this.setState({node:e,isAdd:!1,title:null,detail:null}))}else Common.showHints("Please input property name",null,1500)}},{key:"render",value:function(){var e=this,t=this.state.node,n=null;return t&&(n=t.data.detail.data),n?o.default.createElement("div",{className:"node-info "},o.default.createElement("div",{className:"node-labes"},o.default.createElement("div",{className:"kv-button",style:{color:s.default.getColorByType(t.data.detail.type),borderColor:s.default.getColorByType(t.data.detail.type)}},t.data.detail.type)),o.default.createElement("div",{className:"node-info-table kv-scrollbar"},o.default.createElement("div",{className:"content"},o.default.createElement("table",{className:"table kv-table"},o.default.createElement("tbody",null,o.default.createElement("tr",{key:-1},o.default.createElement("td",null,"Property Name"),o.default.createElement("td",null,"Value")),Object.keys(n).map(function(t){return o.default.createElement("tr",{key:t},o.default.createElement("td",null,t),e.state.key==t?o.default.createElement("td",null,o.default.createElement("input",{placeholder:"Property Value",onBlur:function(){return e.setState({key:null})},onChange:function(n){return e.changeNodeInfo(n,t)},defaultValue:String(n[t])})):o.default.createElement("td",{onDoubleClick:function(){return e.setState({key:t})}},String(n[t])))}).sort(function(e,t){return e.key>=t.key?1:-1}),this.state.isAdd?o.default.createElement("tr",{key:"add"},o.default.createElement("td",null,o.default.createElement("input",{name:"propertyName",placeholder:"Property Name",type:"text",onChange:function(t){return e.addNodeInfo(t,"title")}})),o.default.createElement("td",null,o.default.createElement("input",{placeholder:"Property Value",type:"text",onChange:function(t){return e.addNodeInfo(t,"detail")}}))):null)))),o.default.createElement("div",{className:"btn-group"},this.state.isAdd?o.default.createElement(o.default.Fragment,null,o.default.createElement("button",{className:"kv-button",onClick:function(){return e.saveNewProperty()}},o.default.createElement("span",null," Save "),o.default.createElement("i",{className:"fa fa-floppy-o","aria-hidden":"true"})),o.default.createElement("button",{className:"  kv-button ",onClick:function(){e.setState({isAdd:!1})}},o.default.createElement("span",null," Cancel "))):o.default.createElement("button",{className:"kv-button",onClick:function(){e.setState({isAdd:!0},function(){var e=document.querySelector(".node-info-table .content");e&&(e.scrollTop=e.scrollHeight,e.scrollLeft=0);var t=document.querySelector("input[name='propertyName']");t&&t.focus()})}},o.default.createElement("i",{className:"fa fa-plus-circle","aria-hidden":"true"}),o.default.createElement("span",null," Add Property ")))):o.default.createElement("span",null,"Please Choose A Node")}}]),t}();t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(297)),a=c(n(51)),s=c(n(94)),u=c(n(1)),l=c(n(106));function c(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.radius=15,n.state={labels:[],currentNodeId:"",neigborsCount:0,edgesCount:0},n.tip=o.select("body").append("div").attr("class","tooltip").style("opacity",0),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.default.Component),i(t,[{key:"componentWillReceiveProps",value:function(e){var t=a.default.instance().graph;if(e.visible&&t&&!_.isEmpty(e.currentNodeId)){var n=t.getEdgesWithNodeId(e.currentNodeId).length;if(e.currentNodeId!=this.props.currentNodeId){var r=t.nodeSet[e.currentNodeId];this.state.edgesCount=n,r&&(this.state.currentNodeId=r.id,this.drawGraph(t,r))}else if(n!=this.state.edgesCount||this.props.dataChanging!=e.dataChanging){this.state.edgesCount=n;var i=t.nodeSet[this.props.currentNodeId];i&&(this.state.currentNodeId=i.id,this.drawGraph(t,i))}}this.props=e}},{key:"getNeigbors",value:function(e,t){if(!e)return 0;var n=e.nodeSet[t];return n&&n.neighbor?n.neighbor.length:0}},{key:"drawGraph",value:function(e,t){var n=e.visibleEdges.filter(function(e){return e.sourceId==t.id||e.targetId==t.id}),i=n.map(function(e){return e.source});i=_.uniq(i);var o=n.map(function(e){return e.target});o=_.uniq(o);var a=i.concat(o),s=(a=_.uniq(a)).map(function(e){return e.id});n=n.concat(e.visibleEdges.filter(function(e){return s.includes(e.sourceId)&&s.includes(e.targetId)}));var u=_.map(a,function(e){return r({},e)}),l=a.map(function(e){return e.data.detail.type}),c=t.neighbor.length;l=_.uniq(l),this.setState({labels:l,neigborsCount:c});var d=n.filter(function(e){return e.alpha>0}).map(function(e){return{source:a.indexOf(e.source),target:a.indexOf(e.target),edge:e}});this.draw(u,d)}},{key:"draw",value:function(e,t){var n=this,r=this.state.currentNodeId;o.select("#graph-div svg").remove(),o.select("#graph-div").append("svg").attr("id","graph_svg").attr("height",600).attr("width",600);var i=o.select("#graph_svg");i.append("defs").append("marker").attr("id","arrowhead").attr("viewBox","-0 -5 10 10").attr("refX",40).attr("refY",0).attr("orient","auto").attr("markerWidth",10).attr("markerHeight",10).attr("xoverflow","visible").append("svg:path").attr("d","M 0,-5 L 10 ,0 L 0,5").attr("fill","#fff").style("stroke","none");var a=i.append("g");i.call(o.zoom().scaleExtent([.1,10]).on("zoom",function(){n.zoom_actions(a)})),this.link=a.append("g").attr("class","links").selectAll("line").data(t).enter().append("path").attr("stroke-width",.5).attr("marker-end","url(#arrowhead)").style("fill-opacity",0).style("stroke",function(e){return e.edge.color?e.edge.color.getStyle():"#fff"}),this.edgepaths=a.append("g").selectAll(".edgepath").data(t).enter().append("path").attr("class","edgepath").attr("fill-opacity",0).attr("stroke-opacity",0).attr("id",function(e,t){return"edgepath"+t}).style("pointer-events","none"),this.edgelabels=a.append("g").selectAll(".edgelabel").data(t).enter().append("text").on("mouseover",function(e){n.showTip(e.edge.properties)}).on("mouseout",function(){n.hideTip()}).attr("class","edgelabel").attr("id",function(e,t){return"edgelabel"+t}).attr("font-size",6).attr("fill","#fff"),this.edgelabels.append("textPath").attr("xlink:href",function(e,t){return"#edgepath"+t}).style("text-anchor","middle").attr("startOffset","50%").text(function(e){return e.edge.name}),this.node=a.append("g").attr("class","nodes").selectAll("circle").data(e).enter().append("circle").on("mouseover",function(e){n.showTip(e.data.detail.data)}).on("mouseout",function(){n.hideTip()}).style("stroke-width",function(e){return e.id==r?2:0}).style("stroke","#fff").attr("r",this.radius).attr("fill",function(e){return e.color.getStyle()}),this.nodeLabel=a.append("g").selectAll(".nodelabel").data(e).enter().append("text").attr("class","nodelabel").attr("font-size",6).attr("text-anchor","middle").attr("padding","5px").attr("fill","#fff").text(function(e){return n.getTitle(e)}),o.forceSimulation(e).force("charge",o.forceManyBody().strength(-5e3)).force("center",o.forceCenter(300,300)).force("x",o.forceX(300).strength(1)).force("y",o.forceY(300).strength(1)).force("link",o.forceLink(t)).on("tick",this.tickActions.bind(this))}},{key:"getTitle",value:function(e){var t=l.default.instance().getLabelConfig(e.data.detail.type);return t&&t.caption_property&&e.data.detail.data[t.caption_property]?String(e.data.detail.data[t.caption_property]).slice(0,10):""}},{key:"ticked",value:function(e,t){this.updateNode(this.node),this.updateLink(this.link)}},{key:"updateLink",value:function(e){e.attr("x1",function(e){return this.fixna(e.source.x)}).attr("y1",function(e){return this.fixna(e.source.y)}).attr("x2",function(e){return this.fixna(e.target.x)}).attr("y2",function(e){return this.fixna(e.target.y)})}},{key:"updateNode",value:function(e){e.attr("transform",function(e){return"translate("+this.fixna(e.x)+","+this.fixna(e.y)+")"})}},{key:"fixna",value:function(e){return isFinite(e)?e:0}},{key:"showTip",value:function(e){this.tip.style("position","fixed").style("z-index","10999").style("opacity",.8),this.tip.html(this.getContentFromProperties(e)).style("color","white").style("border","1px solid gray").style("border-radius","4px").style("padding","10px 15px").style("background","black").style("left",o.event.pageX+20+"px").style("top",o.event.pageY-15+"px")}},{key:"getContentFromProperties",value:function(e){if(!e)return"";var t="";return Object.keys(e).forEach(function(n){var r=String(e[n]);r.length>30&&(r=r.slice(0,30)+"..."),t+=n+": "+r+"</br>"}),t}},{key:"hideTip",value:function(){this.tip.style("postion","fixed").style("top","-10000px").style("opacity",0)}},{key:"zoom_actions",value:function(e){e.attr("transform",o.event.transform)}},{key:"tickActions",value:function(){this.node.attr("cx",function(e){return e.x}).attr("cy",function(e){return e.y}),this.nodeLabel.attr("x",function(e){return e.x}).attr("y",function(e){return e.y}),this.link.attr("d",function(e){var t=e.source.x,n=e.source.y,r=e.target.x,i=e.target.y;return t===r&&n===i?"M"+t+","+n+"L"+(t-10)+","+(n-40)+"A 10,10,0,0,1,"+(t+10)+","+(n-40)+"L"+r+","+i:"M"+t+","+n+"L"+r+","+i}),this.edgepaths.attr("d",function(e){var t=e.source.x,n=e.source.y,r=e.target.x,i=e.target.y;return t===r&&n===i?"M"+t+","+n+"L"+(t-10)+","+(n-40)+"A 10,10,0,0,1,"+(t+10)+","+(n-40)+"L"+r+","+i:"M"+t+","+n+"L"+r+","+i}),this.edgelabels.attr("transform",function(e){if(e.target.x<e.source.x){var t=this.getBBox();return"rotate(180 "+(t.x+t.width/2)+" "+(t.y+t.height/2)+")"}return"rotate(0)"})}},{key:"render",value:function(){return u.default.createElement("div",{className:"graph-2d"},u.default.createElement("div",{id:"graph-div"}),u.default.createElement("div",{className:"header"},this.state.labels.map(function(e,t){return u.default.createElement("span",{key:t,style:{color:s.default.getColorByType(e)}},u.default.createElement("i",{className:"fa fa-circle"}," ")," ",e)})),u.default.createElement("div",{className:"count"},u.default.createElement("span",null,"Neighbors:",this.state.neigborsCount)))}}]),t}();t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=c(n(1)),o=c(n(11)),a=c(n(329)),s=(c(n(10)),c(n(51))),u=c(n(44)),l=c(n(746));function c(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.state={currentVal:0,max:0,min:0,isShow:r.props.isShow,selectNodeIds:Object.keys(u.default.selectNodeIdsMap)},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),r(t,[{key:"componentDidMount",value:function(){this.updateMaxNeighborsLevel(),u.default.on("change",this.updateMaxNeighborsLevel.bind(this),"TraceNeighborsSlider")}},{key:"componentWillReceiveProps",value:function(e){var t=this;this.props.isShow!=e.isShow&&this.setState({isShow:e.isShow},function(){t.updateMaxNeighborsLevel()})}},{key:"componentWillUnmount",value:function(){u.default.on("change",null,"TraceNeighborsSlider"),l.default.highlightWithNodeIds(Object.keys(u.default.selectNodeIdsMap),s.default.instance().graph)}},{key:"getNeighbors",value:function(e,t){return o.default.uniq(o.default.flattenDeep(t.map(function(t){return e.getEdgesToNode(e.nodeSet[t]).map(function(e){return t==e.sourceId?e.targetId:e.sourceId})})).concat(t))}},{key:"updateMaxNeighborsLevel",value:function(){if(this.state.isShow){for(var e=s.default.instance().graph,t=[],n=Object.keys(u.default.selectNodeIdsMap),r=n,i=0;n.length>0&&r.length>t.length;)t=r,r=this.getNeighbors(e,t),i++;this.setState({currentVal:0,max:i,min:0,selectNodeIds:n})}}},{key:"handleSliderChange",value:function(e){var t=this;this.setState({currentVal:e},function(){var n=t.state.selectNodeIds;l.default.updateNodeIds(n,s.default.instance().graph,e,!0)})}},{key:"render",value:function(){var e=this,t=this.props.actions,n=this.state,r=n.currentVal,o=n.max,s=n.min;return n.isShow&&0!==o?i.default.createElement("div",{id:"trace-neighbors-slider"},i.default.createElement("div",{className:"header",onClick:function(){}},i.default.createElement("span",{className:"title"},name),i.default.createElement("span",{className:"close",onClick:function(){t.showNeighborsSlider(!1)}},i.default.createElement("span",{"aria-hidden":"true"},""))),i.default.createElement(a.default,{onChange:function(t){return e.handleSliderChange(t)},min:s,max:o,defaultValue:r,value:r,step:1})):null}}]),t}();t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1),i=n(1),o=n(2308);n(2309);t.default=class extends i.Component{constructor(e){super(e)}onClose(){this.props.onClose&&this.props.onClose()}render(){return r.createElement(o.StyledRoot,{id:"graphxr-dialog-root",className:"modal show"},r.createElement(o.StyledDialog,{className:"modal-dialog"},r.createElement(o.StyledContent,{width:this.props.width,height:this.props.height,className:"modal-content"},r.createElement(o.StyledHeader,{className:"modal-header"},r.createElement(o.StyledTitle,null,this.props.title?this.props.title:"Dialog"),r.createElement(o.StyledSpan,{onClick:this.onClose.bind(this),className:"close"},"")),r.createElement(o.StyledBody,{className:"modal-body"},this.props.children))))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(285);t.StyledWrapper=r.default.div`
   display:flex;
   flex-direction: ${e=>e.direction?e.direction:"column"}; 
   margin-top: ${e=>e.top?e.top:"0"}px; 
`,t.StyledRoot=r.default.div`

`,t.StyledDialog=r.default.div`

`,t.StyledContent=r.default.div`
    width:${e=>e.width}
    height:${e=>e.height}
`,t.StyledBody=r.default.div`

`,t.StyledHeader=r.default.div`

`,t.StyledTitle=r.default.h5`

`,t.StyledButton=r.default.button`

`,t.StyledSpan=r.default.span`
    aria-hidden:true;
`},function(e,t,n){var r=n(2310);"string"==typeof r&&(r=[[e.i,r,""]]);n(251)(r,{});r.locals&&(e.exports=r.locals)},function(e,t,n){(e.exports=n(250)()).push([e.i,"\n #graphxr-dialog-root {\n    background-color: rgb(0, 0, 0, 0.6);\n    pointer-events: none;\n    padding: 1px;\n  }\n \n  #graphxr-dialog-root .modal-dialog {\n    max-width: 80%;\n    min-height: 400px;\n    height: 100%;\n  }\n \n  #graphxr-dialog-root .modal-content {\n    background: black;\n    border: 1px solid gray;\n  }\n \n  #graphxr-dialog-root .modal-header {\n    padding: 10px;\n    color: #DDD;\n    border-bottom: 1px solid gray;\n  }\n \n  #graphxr-dialog-root .modal-header .close {\n    color: #DDD;\n    opacity: 0.5;\n    margin-right: 0px;\n  }\n \n  #graphxr-dialog-root .modal-header .close:focus,\n  #graphxr-dialog-root .modal-header .close:hover {\n    opacity: 1.0;\n  }\n \n  #graphxr-dialog-root .modal-body {\n    padding: 0px;\n  }",""])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=V(n(766)),o=V(n(0)),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(23)),s=n(2312),u=V(n(2344)),l=V(n(10)),c=V(n(2345)),d=n(112),f=V(n(2428)),h=V(n(658)),p=n(90),m=V(n(1282)),g=V(n(1283)),y=V(n(2430)),v=V(n(2431)),b=V(n(2432)),w=(V(n(106)),V(n(2433))),k=V(n(47)),E=V(n(464)),x=V(n(2434)),S=V(n(51)),M=V(n(1273)),T=V(n(94)),C=V(n(102)),A=V(n(2435)),O=V(n(2436)),N=V(n(2441)),L=V(n(2444)),j=V(n(2445)),P=V(n(2446)),D=V(n(2447)),I=V(n(2448)),R=n(1289),F=n(461),Y=V(n(44)),B=V(n(300)),H=n(287),z=(V(n(105)),V(n(745))),W=V(n(1290)),U=V(n(463));function V(e){return e&&e.__esModule?e:{default:e}}window._=_,window._GXR={GraphXR:d.GraphXR,Node:d.Node,Edge:d.Edge,TypeColor:T.default,RelationshipColor:C.default,TaskList:H.TaskList,NodesSelectManager:Y.default,NodesPinManager:B.default,Common:l.default,ColorSchema:d.ColorSchema};var G=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.store=t,this.app=this.store.getState(),this.drawing=null,this.graph=new d.GraphXR;var n=this;S.default.init(this.graph).initConfig().then(function(){n.initConfig(),n.initImportSupport()})}return r(e,[{key:"initImportSupport",value:function(){this.hunchly=new A.default(this.graph,this.drawing),this.maltego=new O.default(this.graph,this.drawing),this.Kmz=new N.default(this.graph,this.drawing),this.kml=new L.default(this.graph,this.drawing),this.gexfFile=new j.default(this.graph,this.drawing),this.csvFile=new P.default(this.graph,this.drawing),this.csvPlainFile=new D.default(this.graph,this.drawing),this.jsonArrayFile=new I.default(this.graph,this.drawing)}},{key:"initConfig",value:function(){var e=this;this.graphController=new f.default(this.graph,this.scene,this.store),this.createDrawing(),this.init(this.drawing.cloudScene),this.nodeController=new x.default.Builder(this.graph).withEdgeCloud(this.drawing.edgeCloud).withNodeCloud(this.drawing.nodeCloud).build(),this.configShortCuts(),this.store.subscribe(function(){e.update()}),this.drawing.layoutController.handleStop=function(){e.store.getState().layout.edgeBundle.isCanOpen||console.log("This is layout  end")},this.drawing.layoutController.handleStart=function(){e.store.getState().layout.edgeBundle.isCanOpen&&console.log("This is layout  start")},new M.default(this.store),window._hd=new h.default(this.drawing.cloudScene,this.drawing.graph)}},{key:"update",value:function(){var e=this,t=this.store.getState();if(_.isEqual(t.layout,this.app.layout)||this.hanleLayoutOption(t.layout),_.isEqual(t.layout.trigger,this.app.layout.trigger)||(t.layout.trigger=!1,this.drawing.startLayout()),_.isEqual(t.ui.axisScale,this.app.ui.axisScale)||this.handleAxisScale(t.ui.axisScale),_.isEqual(t.layout.graphPhysics,this.app.layout.graphPhysics)||_.map(t.layout.graphPhysics,function(t,n){Math.abs(e.app.layout.graphPhysics[n]-t)>=.1&&e.drawing.layoutController.updateLayoutOption(n,t)}),!_.isEqual(t.node.command,this.app.node.command)&&t.node.command.content){console.log("excute command:"+t.node.command.content);var n=t.node.command;n&&n.content.startsWith(":")?(this.app.node.command=t.node.command,this.handleSysCommand(n.content.substr(1,n.content.length))):k.default.excuteCommand(t.node.command.content).then(function(n){if(W.default.handleAPICommandResponse(null,t.node.command.content,n),"TABLE"==n.type)return e.graphController.showTableResultInfo(E.default.formatFromNeo4jTable(n));var r=E.default.format(n).filterNodes(function(e){return(0,F.filterInvisibleLabel)(e)}).filterNodes(function(e){return(0,F.filterInvisibleNodeProperty)(e)}).filterRelationships(function(e){return(0,F.filterInvisibleRelationship)(e)}).filterRelationships(function(e){return(0,F.filterInvisibleRelationshipProperty)(e)}).build();e.handleTempGraphData(r,!0),t.settings.loadInnerRelationship&&e.calculateInternalRelationships(e.graph.nodes,r)},function(n){W.default.handleAPICommandResponse(n.message,t.node.command.content),console.error("error:"+n),e.handleError(n.message)})}if(!_.isEqual(t.node.hideCommand,this.app.node.hideCommand)&&t.node.hideCommand.content&&(console.log("excute hide Command:"+t.node.hideCommand.content),k.default.excuteCommand(t.node.hideCommand.content).then(function(n){var r=E.default.format(n).filterNodes(function(e){return(0,F.filterInvisibleLabel)(e)}).filterNodes(function(e){return(0,F.filterInvisibleNodeProperty)(e)}).filterRelationships(function(e){return(0,F.filterInvisibleRelationship)(e)}).filterRelationships(function(e){return(0,F.filterInvisibleRelationshipProperty)(e)}).build();r.forEach(function(e){return e.isHide=!0}),e.handleTempGraphData(r,!0),t.settings.loadInnerRelationship&&e.calculateInternalRelationships(e.graph.nodes,r)},function(t){console.error("error:"+t),e.handleError(t.message)})),_.isEqual(t.node.clearGraph,this.app.node.clearGraph)||(t.node.clearGraph=0,this.graphController.historyLine.add(),this.clearGraph(),this.graphController.historyLine.add()),_.isEqual(t.node.cleanGraph,this.app.node.cleanGraph)||(t.node.cleanGraph=0,this.graphController.historyLine.add(),this.nodeController.cleanGraph(),this.graphController.historyLine.add()),!_.isEqual(t.node.nodeOperator,this.app.node.nodeOperator))switch(t.node.nodeOperator.operator){case p.Types.NODE_LEAF_TRIMMING:this.drawing.toggleLeaf();break;case p.Types.NODE_FIND_NEIGHBOR:var r=Y.default.singleNode.node||{};this.drawing.highlightNeighbor(r.id);break;case p.Types.NODE_CLEAN_ALL_PIN:this.drawing.clearAllPin();break;case p.Types.NODE_FREEZ:this.drawing.pinAll(t.node.nodeOperator.extraParams.status);break;case p.Types.NODE_UNDO:this.graphController.undo(),this.drawing.startLayout();break;case p.Types.NODE_REDO:this.graphController.redo(),this.drawing.startLayout();break;case p.Types.NODE_SELECT_ALL:var i=t.node.nodeOperator.extraParams;this.graphController.selectAll(i.selectAll)}if(_.isEqual(t.node.timeFilter,this.app.node.timeFilter)||g.default.setCondition(this.graph,t.node.timeFilter),!_.isEqual(t.node.edgeFilter,this.app.node.edgeFilter)){var o=Object.keys(t.node.edgeFilter)[0];v.default.setCondition(this.graph,o,t.node.edgeFilter[o])}if(!_.isEqual(t.node.nodeFilter,this.app.node.nodeFilter)){var a=Object.keys(t.node.nodeFilter)[0];y.default.setCondition(this.graph,a,t.node.nodeFilter[a])}if(_.isEqual(t.node.labeledNodesVisiblity,this.app.node.labeledNodesVisiblity)||(b.default.filter(this.graph,[t.node.labeledNodesVisiblity.label],t.node.labeledNodesVisiblity.visible),this.drawing.startLayout()),_.isEqual(t.node.relationshipVisiblity,this.app.node.relationshipVisiblity)||(w.default.filter(this.graph,[t.node.relationshipVisiblity.relationship],t.node.relationshipVisiblity.visible),this.drawing.startLayout()),!_.isEqual(t.node.newNodes,this.app.node.newNodes)){var s=t.node.newNodes.map(function(e){return e.id}),u=E.default.format(t.node.newNodes,"node").build();t.node.newNodes=[],this.handleTempGraphData(u,!0,!0),Y.default.selectWithNodeIds(s,Y.default.selectTypes.new)}if(_.isEqual(t.node.flyTo,this.app.node.flyTo)||(this.flyToNode(t.node.flyTo),t.node.flyTo=""),_.isEqual(t.node.expandNode,this.app.node.expandNode)||(this.graphController.expandNode(t.node.expandNode.nodeId).then(function(n){e.handleTempGraphData(n,!0),t.settings.loadInnerRelationship&&e.calculateInternalRelationships(e.graph.nodes,n)}),t.node.expandNode.nodeId="",t.node.expandNode.page=0),_.isEqual(t.node.labelNodeProperty,this.app.node.labelNodeProperty)||this.updatePropertyByLabel(t.node.labelNodeProperty.label,t.node.labelNodeProperty.property,t.node.labelNodeProperty.value),_.isEqual(t.settings.iconConfig,this.app.settings.iconConfig)||this.drawing.nodeCloud.updateIcon(t.settings.iconConfig.iconPath,t.settings.iconConfig.iconColumn),_.isEqual(t.settings.autoShowImage,this.app.settings.autoShowImage)||(t.settings.autoShowImage?this.drawing.addImageCloud():this.drawing.removeImageCloud()),_.isEqual(t.settings.hideArrow,this.app.settings.hideArrow)||this.drawing.hideArrow(t.settings.hideArrow),!_.isEqual(t.graph.graph,this.app.graph.graph)){var l=t.graph.graph;(0,R.jsonToGraph)(this.graph,l),this.drawing.startLayout(),l.nodes=[],l.edges=[]}t.node.dataChanging!=this.app.node.dataChanging&&(_app.controller.drawing.worldMap.visible&&this.app.node.nodeNum!=t.node.nodeNum&&H.TaskList.moveLocationsToMap.func(null,!0),_app.controller.graph.visibleNodes.forEach(function(e){e.size=window.currentNodesSize?window.currentNodesSize:e.size}),""!=t.node.labelNodeProperty.property&&this.updatePropertyByLabel(t.node.labelNodeProperty.label,t.node.labelNodeProperty.property,t.node.labelNodeProperty.value)),this.app=t}},{key:"handleSysCommand",value:function(e){var t=this,n=(new s.Command).init(this.store,p.Actions,this.graph).executeSysCommand(e);n instanceof Promise&&n.then(function(e){"graph"==e.type?((0,R.jsonToGraph)(t.graph,e.data),t.drawing.forceStartLayout()):"mysql"==e.type&&t.store.dispatch(p.Actions.showGraphBuilder(!0,"mysql","schemaName",e.data))})}},{key:"updatePropertyByLabel",value:function(e,t,n){void 0==n?this.graphController.updateNodeSizeByProperty(e,t):this.graphController.updatePropertyByLabel(e,t,n)}},{key:"resetCameraAndFly",value:function(e,t){var n=this,r=this.graph.getNode(t),i=new a.Vector3(0,0,3),o=e.position.clone();o.distanceTo(i)>3?(0,u.default)(o,i,1e3,function(t){e.position.copy(t),e.lookAt(r.position)}).then(function(){n.flyToNode(t)}):this.flyToNode(t)}},{key:"clearGraph",value:function(){this.nodeController.clearGraph(),E.default.shareInstance().nodes=[],E.default.shareInstance().relationships=[],this.drawing.clearAllPin(),Y.default.selectWithNodeIds([],Y.default.selectTypes.new)}},{key:"flyToNode",value:function(e){if(!_.isEmpty(e)){var t=this.graph.getNode(e);t&&(this.drawing.graph2DControl.flyToNode(t),Y.default.selectWithNodeIds([t.id],Y.default.selectTypes.new))}}},{key:"handleTempGraphData",value:function(e,t,n){this.graphController.setDataToGraph(e,!0),this.drawing.calculateTimeLine(this.graph),t&&this.drawing.startLayout(),this.store.dispatch(p.Actions.graphDataUpdate(_app.controller.graph.visibleNodes.length))}},{key:"calculateInternalRelationships",value:function(e,t){var n=e.map(function(e){return e.id}),r=t.map(function(e){var t=[];return e.object&&t.push(e.object.uid),e.subject&&t.push(e.subject.uid),t});r=_.uniq(_.flatMap(r)),n=_.uniq(n.concat(r)),this.getInternalRelationships(n,r)}},{key:"getInternalRelationships",value:function(e,t){var n=this;if(e=e.map(function(e){return parseInt(e)}).filter(function(e){return e>=0}),0!==(t=t.map(function(e){return parseInt(e)}).filter(function(e){return e>=0})).length&&0!==e.length){var r="MATCH (a)-[r]->(b) WHERE id(a) IN ["+e.join(",")+"] AND id(b) IN ["+t.join(",")+"] RETURN r";k.default.excuteCommand(r).then(function(e){var t=E.default.format(e).filterRelationships(function(e){return(0,F.filterInvisibleRelationship)(e)}).filterRelationships(function(e){return(0,F.filterInvisibleRelationshipProperty)(e)}).build();n.handleTempGraphData(t,!0,!0)},function(e){console.error("error:"+e),n.handleError(e.message)})}}},{key:"handleError",value:function(e){l.default.showHints(e)}},{key:"handleAxisScale",value:function(e){_hd.setScale(new a.Vector3(e,e,e))}},{key:"hanleLayoutOption",value:function(e){var t=this;_.isEqual(e.degreeFilter,this.app.layout.degreeFilter)||m.default.updateDegreeFilter(e.degreeFilter),_.isEqual(e.graphPhysics,this.app.layout.graphPhysics)||_.map(e.graphPhysics,function(e,n){Math.abs(t.app.layout.graphPhysics[n]-e)>=1e-5&&t.drawing.layoutController.updateLayoutOption(n,e)})}},{key:"createDrawing",value:function(){null==this.drawing?this.drawing=new c.default({layout:"3d",selection:!1,numNodes:300,showStats:!1,showInfo:!0,showLabels:!0},this.store,this.graph,this.graphController):(this.drawing.graph.clear(),this.drawing.loadAndRun()),window._drawing=this.drawing}},{key:"init",value:function(e){console.log("initing Graph Controller"),this.scene=e}},{key:"cleanRemovedNodes",value:function(e){var t=this;if(e.data&&Object.keys(e.data).length<this.graph.nodes.length){var n=Object.keys(e.data);this.graph.nodes.map(function(e){return e.id}).filter(function(e){return!n.includes(e)}).forEach(function(e){t.graph.removeNodeById(e)})}}},{key:"exportGraphXR",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"graphxr",r="kinviz-graphxr "+(0,o.default)(new Date).format("YYYY-MM-HH hh-mm-ss")+"."+n;switch(n){case"csv":case"zip":this.csvFile.export(r.replace(/\.csv$/gi,".zip"));break;default:var i=new JSZip;i.file("graphxr/config.json",JSON.stringify(k.default.neo4jBaseInfo)),i.file("graphxr/nodes.json",JSON.stringify(this.graph.layoutNodes.map(function(e){return e.toJSON()}))),i.file("graphxr/edges.json",JSON.stringify(this.graph.layoutEdges.map(function(e){return e.toJSON()}))),i.file("graphxr/reduxConfig.json",JSON.stringify(this.store.getState())),i.file("graphxr/otherConfig.json",JSON.stringify({worldMap:{enable:!!U.default.enable,show:!!this.drawing.worldMap.visible,zoom:!!this.drawing.worldMap.visible&&this.drawing.worldMap.map.getZoom(),center:!!this.drawing.worldMap.visible&&this.drawing.worldMap.map.getCenter()},scene:{position:{x:_app.controller.scene.position.x,y:_app.controller.scene.position.y,z:_app.controller.scene.position.z},rotation:{x:_app.controller.scene.rotation.x,y:_app.controller.scene.rotation.y,z:_app.controller.scene.rotation.z}}})),i.generateAsync({type:"blob"}).then(function(n){e?e(n,{labels:t.graph.layoutNodes.length,relationships:t.graph.layoutEdges.length}):l.default.saveLink(URL.createObjectURL(n),r)})}}},{key:"_openGraphXR",value:function(e,t){var n=this;try{Promise.all([e.file("graphxr/config.json").async("string"),e.file("graphxr/nodes.json").async("string"),e.file("graphxr/edges.json").async("string"),e.file("graphxr/reduxConfig.json")?e.file("graphxr/reduxConfig.json").async("string"):Promise.resolve("{}"),e.file("graphxr/otherConfig.json")?e.file("graphxr/otherConfig.json").async("string"):Promise.resolve("{}")]).then(function(e){var t={config:JSON.parse(e[0]),nodes:JSON.parse(e[1]),edges:JSON.parse(e[2]),reduxConfig:/[\{\}]/gi.test(e[3])?JSON.parse(e[3]):null,otherConfig:/[\{\}]/gi.test(e[4])?JSON.parse(e[4]):null},r=t.nodes.map(function(e){return new d.Node(e.id).restore(e)}),i=t.edges.map(function(e){return new d.Edge({sourceId:e.sourceId},{targetId:e.targetId}).restore(e)});n.clearGraph(),n.graph.addNodes(r),n.graph.addEdges(i),Y.default.selectWithNodeIds(r.filter(function(e){return e.selected}).map(function(e){return e.id})),z.default.handleGraphExclude(n.graph);var o=r;if(n.drawing.layoutController.enable=!1,n.drawing.forceStartLayout(),B.default.pinNodeIds(o.map(function(e){return e.id}),!1),n.drawing.layoutController.setNodesPositions(o.map(function(e){return e.id}),o.map(function(e){return e.position})),n.drawing.layoutController.enable=!0,t.otherConfig&&t.otherConfig.scene&&(_app.controller.scene.position.x=t.otherConfig.scene.position.x,_app.controller.scene.position.y=t.otherConfig.scene.position.y,_app.controller.scene.position.z=t.otherConfig.scene.position.z,_app.controller.scene.rotation.x=t.otherConfig.scene.rotation.x,_app.controller.scene.rotation.y=t.otherConfig.scene.rotation.y,_app.controller.scene.rotation.z=t.otherConfig.scene.rotation.z),t.otherConfig&&t.otherConfig.worldMap&&t.otherConfig.worldMap.show&&(_app.controller.drawing.layoutController.stop_layout(),_app.controller.drawing.layoutController.enable=!0,_app.controller.drawing.worldMap.show().then(function(){void 0!==t.otherConfig.worldMap.center&&void 0!==t.otherConfig.worldMap.zoom&&_app.controller.drawing.worldMap.adjust({zoom:t.otherConfig.worldMap.zoom,lng:t.otherConfig.worldMap.center.lng,lat:t.otherConfig.worldMap.center.lat})})),t.reduxConfig){var a=n.store.getState(),s=l.default.deepMerge(t.reduxConfig,a);n.store.dispatch(p.Actions.updateAppState(s))}console.log("Found pinNodes :",o.length)})}catch(e){console.error(e),l.default.showHints("GraphXR unrecognized file("+t+")")}}},{key:"importGraphXR",value:function(e){var t=this;if(!e||!e.name)return l.default.showHints("GraphXR unrecognized the file, please try it again.");var n=String(e.name).toLocaleLowerCase();n.endsWith("gexf")?this.gexfFile.import(e,e.name):n.endsWith("csv")?this.csvPlainFile.import(e,e.name):n.endsWith("json")?this.jsonArrayFile.import(e,e.name):n.endsWith("kml")?this.kml.import(e,e.name):n.endsWith("mtgl")?l.default.showHints("Please save Maltego files in the .mgtx format."):JSZip.loadAsync(e,"blob").then(function(n){n.file("graphxr/config.json")&&n.file("graphxr/nodes.json")&&n.file("graphxr/edges.json")?t._openGraphXR(n,e.name):n.file("mapping.json")?t.csvFile.importCSV(n):t.hunchly.isHunchlyZip(n)?t.hunchly.import(n,e.name):t.maltego.isMaltego(n)?t.maltego.import(n,e.name):t.Kmz.isKmz(n)?t.Kmz.import(n,e.name):t.csvFile.import(n,e.name)},function(t){console.error(t),l.default.showHints("GraphXR unrecognized file("+e.name+")")})}},{key:"configShortCuts",value:function(){var e=this;i.default.bind(["ctrl+h"],function(t){e.drawing.helpSlides.toggle()}),i.default.bind(["ctrl+b"],function(t){e.drawing.clearAllPin()}),i.default.bind(["ctrl+n"],function(t){var n=Y.default.singleNode.node||{};e.drawing.highlightNeighbor(n.id)}),i.default.bind(["alt+f","ctrl+alt+f"],function(t){e.store.dispatch(p.Actions.setFullScreen(!e.app.play.isFullscreen))})}}]),e}();t.default=G},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2313);t.Command=r.Command},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2314),i=n(475);class o{constructor(){this.graph=null,this.store=null,this.actions=null}init(e,t,n){return this.graph=n,this.store=e,this.actions=t,this}executeSysCommand(e){let t=r.availableCommands.find(t=>t.match(String(e).toLocaleLowerCase()));if(!t)return console.error(e," not exist"),null;let n={graph:this.graph?this.graph:null,store:this.store,actions:this.actions},o={cmd:e,type:t.name,payload:n},a=i.getFuncParams(e);return t.exec(o,a)}}t.default=o,t.Command=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2315),i=n(2340),o=n(2341),a=n(2343);t.availableCommands=[{name:"run",match:e=>/^run(\s)/gi.test(e),exec:function(e,t){new o.RunHandler(e),console.log("execute run command")}},{name:"openCode",match:e=>/^openCode$/gi.test(e),exec:function(e,t){window._codeWindow.open.apply(window._codeWindow,t),console.log("execute codeview command")}},{name:"openWindow",match:e=>/^openWindow/gi.test(e),exec:function(e,t){window._chartWindow.open.apply(window._chartWindow,t)}},{name:"search",match:e=>/^search/gi.test(e),exec:function(e){return r.handleSearchCommand(e)}},{name:"borehole",match:e=>/^borehole/gi.test(e),exec:function(e){}},{name:"graph",match:e=>/^graph(\s)/gi.test(e),exec:function(e){return i.handleGraphCommand(e)}},{name:"import",match:e=>/^import(\s)/gi.test(e),exec:function(e){}},{name:"export",match:e=>/^export(\s)/gi.test(e),exec:function(e){}},{name:"history",match:e=>/^history$/gi.test(e),exec:function(e){return console.log("execute history command"),!0}},{name:"mysql",match:e=>/^mysql/gi.test(e),exec:function(e){return new a.MySQLHandler(e).run()}}],t.default={commands:t.availableCommands.map(e=>e.name)}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,s)}u((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const i=n(475),o=n(2316);t.handleSearchCommand=function(e){const[t,n]=i.splitStringOnFirst(i.splitStringOnFirst(e.cmd.substr(1)," ")[1]," ");switch(t){case"help":return{company:{},ip:{}};case"company":return function(e){return r(this,void 0,void 0,function*(){let t=new o.CompanyGraph,n=yield t.search(e),r={type:"graph",data:n};return r})}(n.split(" ")[0])}return{company:{},ip:{}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2317);t.CompanyGraph=r.default},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,s)}u((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const i=n(2318),o=n(2339);t.default=class{constructor(){}getCompanyGraph(e,t){return r(this,void 0,void 0,function*(){let n=yield i.default().companies.get(e,t),r=new o.Graph;return r.fromCompany(n),r})}search(e){return r(this,void 0,void 0,function*(){try{let t=yield i.default().companies.search(e),n=new o.Graph;return n.fromSearch(t),n}catch(e){return console.log(e),null}})}}},function(e,t,n){var r=n(2319),i=n(574),o=n(2338),a=console.log.bind(a),s={304:"Not Modified: There was no new data to return.",400:"Bad Request: The request was invalid. An accompanying error message will explain why.",401:"Unauthorized: Authentication credentials were incorrect.",403:"Forbidden: The request is understood, but it has been refused. This is the status code will be returned during rate limiting.",404:"Not Found: The URI requested is invalid or the resource requested, such as a company, does not exists.",406:"Not Acceptable: Returned by the Search API when an invalid format is specified in the request.",500:"Internal Server Error: Something is broken. Please contact us if the situation continues and your request is valid.",502:"Bad Gateway: OpenCorporates is down or being upgraded.",503:"Service Unavailable: The OpenCorporates servers are up, but overloaded with requests. This is also the response code returned if a company's details have been temporarily redacted."};e.exports=function(e){e=e||null;var t=function(e,t){var n=[];return Array.isArray(e)&&e.forEach(function(r,i){n.push(e[i][t])}),n.length>0?n:null},n=async function(t,n){var a=function(t){var n={};return Object.keys(t).forEach(function(e){var r=t[e];Array.isArray(r)&&(r=r.join("|")),n[i.snakeCase(e)]=r}),e&&(n.api_token=e),n}(n=n||{}),u=await r.get("https://api.opencorporates.com/v0.4/"+t).query(a).set("User-Agent","opencorporates.js (https://github.com/mikemaccana/opencorporates)");if(s[u.status])throw new Error(`OpenCorporates error: ${s[u.status]}`);return o(u.body)};return{companies:{get:async function(e,t){return(await n(`companies/${e}/${t}`)).results.company},search:async function(e,r){(r=r||{}).q=e;var i=await n("companies/search",r);return t(i.results.companies,"company")},filings:async function(e,r,i){var o=await n(`companies/${e}/${r}/filings`,i);return t(o.results.filings,"filing")},data:async function(e,r,i){var o=await n(`companies/${e}/${r}/data`,i);return t(o.results.data,"datum")}},officers:{get:async function(e){return(await n(`officers/${e}`)).officer},search:async function(e,r){r.q=e;var i=await n("officers/search",r);return t(i.results.officers,"officer")}},corporateGroupings:{get:async function(e){var r=(await n(`corporate_groupings/${e}`)).results.corporateGrouping;return r&&r.curators&&(r.curators=t(r.curators,"user")),r&&r.memberships&&(r.memberships=t(r.memberships,"membership")),r},search:async function(e,r){r.q=e;var i=await n("corporate_groupings/search",r);return t(i.results.corporateGroupings,"corporateGrouping")}}}}},function(e,t,n){var r;"undefined"!=typeof window?r=window:"undefined"!=typeof self?r=self:(console.warn("Using browser-only version of superagent in non-browser environment"),r=this);var i=n(2320),o=n(2321),a=n(1275),s=n(2322),u=n(2324);function l(){}var c=t=e.exports=function(e,n){return"function"==typeof n?new t.Request("GET",e).end(n):1==arguments.length?new t.Request("GET",e):new t.Request(e,n)};t.Request=y,c.getXHR=function(){if(!(!r.XMLHttpRequest||r.location&&"file:"==r.location.protocol&&r.ActiveXObject))return new XMLHttpRequest;try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(e){}throw Error("Browser-only version of superagent could not find XHR")};var d="".trim?function(e){return e.trim()}:function(e){return e.replace(/(^\s*|\s*$)/g,"")};function f(e){if(!a(e))return e;var t=[];for(var n in e)h(t,n,e[n]);return t.join("&")}function h(e,t,n){if(null!=n)if(Array.isArray(n))n.forEach(function(n){h(e,t,n)});else if(a(n))for(var r in n)h(e,t+"["+r+"]",n[r]);else e.push(encodeURIComponent(t)+"="+encodeURIComponent(n));else null===n&&e.push(encodeURIComponent(t))}function p(e){for(var t,n,r={},i=e.split("&"),o=0,a=i.length;o<a;++o)-1==(n=(t=i[o]).indexOf("="))?r[decodeURIComponent(t)]="":r[decodeURIComponent(t.slice(0,n))]=decodeURIComponent(t.slice(n+1));return r}function m(e){return/[\/+]json($|[^-\w])/.test(e)}function g(e){this.req=e,this.xhr=this.req.xhr,this.text="HEAD"!=this.req.method&&(""===this.xhr.responseType||"text"===this.xhr.responseType)||void 0===this.xhr.responseType?this.xhr.responseText:null,this.statusText=this.req.xhr.statusText;var t=this.xhr.status;1223===t&&(t=204),this._setStatusProperties(t),this.header=this.headers=function(e){for(var t,n,r,i,o=e.split(/\r?\n/),a={},s=0,u=o.length;s<u;++s)-1!==(t=(n=o[s]).indexOf(":"))&&(r=n.slice(0,t).toLowerCase(),i=d(n.slice(t+1)),a[r]=i);return a}(this.xhr.getAllResponseHeaders()),this.header["content-type"]=this.xhr.getResponseHeader("content-type"),this._setHeaderProperties(this.header),null===this.text&&e._responseType?this.body=this.xhr.response:this.body="HEAD"!=this.req.method?this._parseBody(this.text?this.text:this.xhr.response):null}function y(e,t){var n=this;this._query=this._query||[],this.method=e,this.url=t,this.header={},this._header={},this.on("end",function(){var e,t=null,r=null;try{r=new g(n)}catch(e){return(t=new Error("Parser is unable to parse the response")).parse=!0,t.original=e,n.xhr?(t.rawResponse=void 0===n.xhr.responseType?n.xhr.responseText:n.xhr.response,t.status=n.xhr.status?n.xhr.status:null,t.statusCode=t.status):(t.rawResponse=null,t.status=null),n.callback(t)}n.emit("response",r);try{n._isResponseOK(r)||(e=new Error(r.statusText||"Unsuccessful HTTP response"))}catch(t){e=t}e?(e.original=t,e.response=r,e.status=r.status,n.callback(e,r)):n.callback(null,r)})}function v(e,t,n){var r=c("DELETE",e);return"function"==typeof t&&(n=t,t=null),t&&r.send(t),n&&r.end(n),r}c.serializeObject=f,c.parseString=p,c.types={html:"text/html",json:"application/json",xml:"text/xml",urlencoded:"application/x-www-form-urlencoded",form:"application/x-www-form-urlencoded","form-data":"application/x-www-form-urlencoded"},c.serialize={"application/x-www-form-urlencoded":f,"application/json":JSON.stringify},c.parse={"application/x-www-form-urlencoded":p,"application/json":JSON.parse},s(g.prototype),g.prototype._parseBody=function(e){var t=c.parse[this.type];return this.req._parser?this.req._parser(this,e):(!t&&m(this.type)&&(t=c.parse["application/json"]),t&&e&&(e.length||e instanceof Object)?t(e):null)},g.prototype.toError=function(){var e=this.req,t=e.method,n=e.url,r="cannot "+t+" "+n+" ("+this.status+")",i=new Error(r);return i.status=this.status,i.method=t,i.url=n,i},c.Response=g,i(y.prototype),o(y.prototype),y.prototype.type=function(e){return this.set("Content-Type",c.types[e]||e),this},y.prototype.accept=function(e){return this.set("Accept",c.types[e]||e),this},y.prototype.auth=function(e,t,n){1===arguments.length&&(t=""),"object"==typeof t&&null!==t&&(n=t,t=""),n||(n={type:"function"==typeof btoa?"basic":"auto"});return this._auth(e,t,n,function(e){if("function"==typeof btoa)return btoa(e);throw new Error("Cannot use basic auth, btoa is not a function")})},y.prototype.query=function(e){return"string"!=typeof e&&(e=f(e)),e&&this._query.push(e),this},y.prototype.attach=function(e,t,n){if(t){if(this._data)throw Error("superagent can't mix .send() and .attach()");this._getFormData().append(e,t,n||t.name)}return this},y.prototype._getFormData=function(){return this._formData||(this._formData=new r.FormData),this._formData},y.prototype.callback=function(e,t){if(this._shouldRetry(e,t))return this._retry();var n=this._callback;this.clearTimeout(),e&&(this._maxRetries&&(e.retries=this._retries-1),this.emit("error",e)),n(e,t)},y.prototype.crossDomainError=function(){var e=new Error("Request has been terminated\nPossible causes: the network is offline, Origin is not allowed by Access-Control-Allow-Origin, the page is being unloaded, etc.");e.crossDomain=!0,e.status=this.status,e.method=this.method,e.url=this.url,this.callback(e)},y.prototype.buffer=y.prototype.ca=y.prototype.agent=function(){return console.warn("This is not supported in browser version of superagent"),this},y.prototype.pipe=y.prototype.write=function(){throw Error("Streaming is not supported in browser version of superagent")},y.prototype._isHost=function(e){return e&&"object"==typeof e&&!Array.isArray(e)&&"[object Object]"!==Object.prototype.toString.call(e)},y.prototype.end=function(e){return this._endCalled&&console.warn("Warning: .end() was called twice. This is not supported in superagent"),this._endCalled=!0,this._callback=e||l,this._finalizeQueryString(),this._end()},y.prototype._end=function(){var e=this,t=this.xhr=c.getXHR(),n=this._formData||this._data;this._setTimeouts(),t.onreadystatechange=function(){var n=t.readyState;if(n>=2&&e._responseTimeoutTimer&&clearTimeout(e._responseTimeoutTimer),4==n){var r;try{r=t.status}catch(e){r=0}if(!r){if(e.timedout||e._aborted)return;return e.crossDomainError()}e.emit("end")}};var r=function(t,n){n.total>0&&(n.percent=n.loaded/n.total*100),n.direction=t,e.emit("progress",n)};if(this.hasListeners("progress"))try{t.onprogress=r.bind(null,"download"),t.upload&&(t.upload.onprogress=r.bind(null,"upload"))}catch(e){}try{this.username&&this.password?t.open(this.method,this.url,!0,this.username,this.password):t.open(this.method,this.url,!0)}catch(e){return this.callback(e)}if(this._withCredentials&&(t.withCredentials=!0),!this._formData&&"GET"!=this.method&&"HEAD"!=this.method&&"string"!=typeof n&&!this._isHost(n)){var i=this._header["content-type"],o=this._serializer||c.serialize[i?i.split(";")[0]:""];!o&&m(i)&&(o=c.serialize["application/json"]),o&&(n=o(n))}for(var a in this.header)null!=this.header[a]&&this.header.hasOwnProperty(a)&&t.setRequestHeader(a,this.header[a]);return this._responseType&&(t.responseType=this._responseType),this.emit("request",this),t.send(void 0!==n?n:null),this},c.agent=function(){return new u},["GET","POST","OPTIONS","PATCH","PUT","DELETE"].forEach(function(e){u.prototype[e.toLowerCase()]=function(t,n){var r=new c.Request(e,t);return this._setDefaults(r),n&&r.end(n),r}}),u.prototype.del=u.prototype.delete,c.get=function(e,t,n){var r=c("GET",e);return"function"==typeof t&&(n=t,t=null),t&&r.query(t),n&&r.end(n),r},c.head=function(e,t,n){var r=c("HEAD",e);return"function"==typeof t&&(n=t,t=null),t&&r.query(t),n&&r.end(n),r},c.options=function(e,t,n){var r=c("OPTIONS",e);return"function"==typeof t&&(n=t,t=null),t&&r.send(t),n&&r.end(n),r},c.del=v,c.delete=v,c.patch=function(e,t,n){var r=c("PATCH",e);return"function"==typeof t&&(n=t,t=null),t&&r.send(t),n&&r.end(n),r},c.post=function(e,t,n){var r=c("POST",e);return"function"==typeof t&&(n=t,t=null),t&&r.send(t),n&&r.end(n),r},c.put=function(e,t,n){var r=c("PUT",e);return"function"==typeof t&&(n=t,t=null),t&&r.send(t),n&&r.end(n),r}},function(e,t,n){function r(e){if(e)return function(e){for(var t in r.prototype)e[t]=r.prototype[t];return e}(e)}e.exports=r,r.prototype.on=r.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},r.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},r.prototype.off=r.prototype.removeListener=r.prototype.removeAllListeners=r.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks["$"+e];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var i=0;i<r.length;i++)if((n=r[i])===t||n.fn===t){r.splice(i,1);break}return this},r.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),n=this._callbacks["$"+e];if(n)for(var r=0,i=(n=n.slice(0)).length;r<i;++r)n[r].apply(this,t);return this},r.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},r.prototype.hasListeners=function(e){return!!this.listeners(e).length}},function(e,t,n){"use strict";var r=n(1275);function i(e){if(e)return function(e){for(var t in i.prototype)e[t]=i.prototype[t];return e}(e)}e.exports=i,i.prototype.clearTimeout=function(){return clearTimeout(this._timer),clearTimeout(this._responseTimeoutTimer),delete this._timer,delete this._responseTimeoutTimer,this},i.prototype.parse=function(e){return this._parser=e,this},i.prototype.responseType=function(e){return this._responseType=e,this},i.prototype.serialize=function(e){return this._serializer=e,this},i.prototype.timeout=function(e){if(!e||"object"!=typeof e)return this._timeout=e,this._responseTimeout=0,this;for(var t in e)switch(t){case"deadline":this._timeout=e.deadline;break;case"response":this._responseTimeout=e.response;break;default:console.warn("Unknown timeout option",t)}return this},i.prototype.retry=function(e,t){return 0!==arguments.length&&!0!==e||(e=1),e<=0&&(e=0),this._maxRetries=e,this._retries=0,this._retryCallback=t,this};var o=["ECONNRESET","ETIMEDOUT","EADDRINFO","ESOCKETTIMEDOUT"];i.prototype._shouldRetry=function(e,t){if(!this._maxRetries||this._retries++>=this._maxRetries)return!1;if(this._retryCallback)try{var n=this._retryCallback(e,t);if(!0===n)return!0;if(!1===n)return!1}catch(e){console.error(e)}if(t&&t.status&&t.status>=500&&501!=t.status)return!0;if(e){if(e.code&&~o.indexOf(e.code))return!0;if(e.timeout&&"ECONNABORTED"==e.code)return!0;if(e.crossDomain)return!0}return!1},i.prototype._retry=function(){return this.clearTimeout(),this.req&&(this.req=null,this.req=this.request()),this._aborted=!1,this.timedout=!1,this._end()},i.prototype.then=function(e,t){if(!this._fullfilledPromise){var n=this;this._endCalled&&console.warn("Warning: superagent request was sent twice, because both .end() and .then() were called. Never call .end() if you use promises"),this._fullfilledPromise=new Promise(function(e,t){n.end(function(n,r){n?t(n):e(r)})})}return this._fullfilledPromise.then(e,t)},i.prototype.catch=function(e){return this.then(void 0,e)},i.prototype.use=function(e){return e(this),this},i.prototype.ok=function(e){if("function"!=typeof e)throw Error("Callback required");return this._okCallback=e,this},i.prototype._isResponseOK=function(e){return!!e&&(this._okCallback?this._okCallback(e):e.status>=200&&e.status<300)},i.prototype.get=function(e){return this._header[e.toLowerCase()]},i.prototype.getHeader=i.prototype.get,i.prototype.set=function(e,t){if(r(e)){for(var n in e)this.set(n,e[n]);return this}return this._header[e.toLowerCase()]=t,this.header[e]=t,this},i.prototype.unset=function(e){return delete this._header[e.toLowerCase()],delete this.header[e],this},i.prototype.field=function(e,t){if(null===e||void 0===e)throw new Error(".field(name, val) name can not be empty");if(this._data&&console.error(".field() can't be used if .send() is used. Please use only .send() or only .field() & .attach()"),r(e)){for(var n in e)this.field(n,e[n]);return this}if(Array.isArray(t)){for(var i in t)this.field(e,t[i]);return this}if(null===t||void 0===t)throw new Error(".field(name, val) val can not be empty");return"boolean"==typeof t&&(t=""+t),this._getFormData().append(e,t),this},i.prototype.abort=function(){return this._aborted?this:(this._aborted=!0,this.xhr&&this.xhr.abort(),this.req&&this.req.abort(),this.clearTimeout(),this.emit("abort"),this)},i.prototype._auth=function(e,t,n,r){switch(n.type){case"basic":this.set("Authorization","Basic "+r(e+":"+t));break;case"auto":this.username=e,this.password=t;break;case"bearer":this.set("Authorization","Bearer "+e)}return this},i.prototype.withCredentials=function(e){return void 0==e&&(e=!0),this._withCredentials=e,this},i.prototype.redirects=function(e){return this._maxRedirects=e,this},i.prototype.maxResponseSize=function(e){if("number"!=typeof e)throw TypeError("Invalid argument");return this._maxResponseSize=e,this},i.prototype.toJSON=function(){return{method:this.method,url:this.url,data:this._data,headers:this._header}},i.prototype.send=function(e){var t=r(e),n=this._header["content-type"];if(this._formData&&console.error(".send() can't be used if .attach() or .field() is used. Please use only .send() or only .field() & .attach()"),t&&!this._data)Array.isArray(e)?this._data=[]:this._isHost(e)||(this._data={});else if(e&&this._data&&this._isHost(this._data))throw Error("Can't merge these send calls");if(t&&r(this._data))for(var i in e)this._data[i]=e[i];else"string"==typeof e?(n||this.type("form"),n=this._header["content-type"],this._data="application/x-www-form-urlencoded"==n?this._data?this._data+"&"+e:e:(this._data||"")+e):this._data=e;return!t||this._isHost(e)?this:(n||this.type("json"),this)},i.prototype.sortQuery=function(e){return this._sort=void 0===e||e,this},i.prototype._finalizeQueryString=function(){var e=this._query.join("&");if(e&&(this.url+=(this.url.indexOf("?")>=0?"&":"?")+e),this._query.length=0,this._sort){var t=this.url.indexOf("?");if(t>=0){var n=this.url.substring(t+1).split("&");"function"==typeof this._sort?n.sort(this._sort):n.sort(),this.url=this.url.substring(0,t)+"?"+n.join("&")}}},i.prototype._appendQueryString=function(){console.trace("Unsupported")},i.prototype._timeoutError=function(e,t,n){if(!this._aborted){var r=new Error(e+t+"ms exceeded");r.timeout=t,r.code="ECONNABORTED",r.errno=n,this.timedout=!0,this.abort(),this.callback(r)}},i.prototype._setTimeouts=function(){var e=this;this._timeout&&!this._timer&&(this._timer=setTimeout(function(){e._timeoutError("Timeout of ",e._timeout,"ETIME")},this._timeout)),this._responseTimeout&&!this._responseTimeoutTimer&&(this._responseTimeoutTimer=setTimeout(function(){e._timeoutError("Response timeout of ",e._responseTimeout,"ETIMEDOUT")},this._responseTimeout))}},function(e,t,n){"use strict";var r=n(2323);function i(e){if(e)return function(e){for(var t in i.prototype)e[t]=i.prototype[t];return e}(e)}e.exports=i,i.prototype.get=function(e){return this.header[e.toLowerCase()]},i.prototype._setHeaderProperties=function(e){var t=e["content-type"]||"";this.type=r.type(t);var n=r.params(t);for(var i in n)this[i]=n[i];this.links={};try{e.link&&(this.links=r.parseLinks(e.link))}catch(e){}},i.prototype._setStatusProperties=function(e){var t=e/100|0;this.status=this.statusCode=e,this.statusType=t,this.info=1==t,this.ok=2==t,this.redirect=3==t,this.clientError=4==t,this.serverError=5==t,this.error=(4==t||5==t)&&this.toError(),this.created=201==e,this.accepted=202==e,this.noContent=204==e,this.badRequest=400==e,this.unauthorized=401==e,this.notAcceptable=406==e,this.forbidden=403==e,this.notFound=404==e,this.unprocessableEntity=422==e}},function(e,t,n){"use strict";t.type=function(e){return e.split(/ *; */).shift()},t.params=function(e){return e.split(/ *; */).reduce(function(e,t){var n=t.split(/ *= */),r=n.shift(),i=n.shift();return r&&i&&(e[r]=i),e},{})},t.parseLinks=function(e){return e.split(/ *, */).reduce(function(e,t){var n=t.split(/ *; */),r=n[0].slice(1,-1);return e[n[1].split(/ *= */)[1].slice(1,-1)]=r,e},{})},t.cleanHeader=function(e,t){return delete e["content-type"],delete e["content-length"],delete e["transfer-encoding"],delete e.host,t&&(delete e.authorization,delete e.cookie),e}},function(e,t){function n(){this._defaults=[]}["use","on","once","set","query","type","accept","auth","withCredentials","sortQuery","retry","ok","redirects","timeout","buffer","serialize","parse","ca","key","pfx","cert"].forEach(function(e){n.prototype[e]=function(){return this._defaults.push({fn:e,arguments}),this}}),n.prototype._setDefaults=function(e){this._defaults.forEach(function(t){e[t.fn].apply(e,t.arguments)})},e.exports=n},function(e,t,n){var r=n(355);e.exports=function(e,t){return r(e,t,".")}},function(e,t){e.exports=/[^\u0041-\u005A\u0061-\u007A\u00AA\u00B5\u00BA\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC\u0030-\u0039\u00B2\u00B3\u00B9\u00BC-\u00BE\u0660-\u0669\u06F0-\u06F9\u07C0-\u07C9\u0966-\u096F\u09E6-\u09EF\u09F4-\u09F9\u0A66-\u0A6F\u0AE6-\u0AEF\u0B66-\u0B6F\u0B72-\u0B77\u0BE6-\u0BF2\u0C66-\u0C6F\u0C78-\u0C7E\u0CE6-\u0CEF\u0D66-\u0D75\u0E50-\u0E59\u0ED0-\u0ED9\u0F20-\u0F33\u1040-\u1049\u1090-\u1099\u1369-\u137C\u16EE-\u16F0\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1946-\u194F\u19D0-\u19DA\u1A80-\u1A89\u1A90-\u1A99\u1B50-\u1B59\u1BB0-\u1BB9\u1C40-\u1C49\u1C50-\u1C59\u2070\u2074-\u2079\u2080-\u2089\u2150-\u2182\u2185-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2CFD\u3007\u3021-\u3029\u3038-\u303A\u3192-\u3195\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\uA620-\uA629\uA6E6-\uA6EF\uA830-\uA835\uA8D0-\uA8D9\uA900-\uA909\uA9D0-\uA9D9\uAA50-\uAA59\uABF0-\uABF9\uFF10-\uFF19]+/g},function(e,t){e.exports=/([\u0061-\u007A\u00B5\u00DF-\u00F6\u00F8-\u00FF\u0101\u0103\u0105\u0107\u0109\u010B\u010D\u010F\u0111\u0113\u0115\u0117\u0119\u011B\u011D\u011F\u0121\u0123\u0125\u0127\u0129\u012B\u012D\u012F\u0131\u0133\u0135\u0137\u0138\u013A\u013C\u013E\u0140\u0142\u0144\u0146\u0148\u0149\u014B\u014D\u014F\u0151\u0153\u0155\u0157\u0159\u015B\u015D\u015F\u0161\u0163\u0165\u0167\u0169\u016B\u016D\u016F\u0171\u0173\u0175\u0177\u017A\u017C\u017E-\u0180\u0183\u0185\u0188\u018C\u018D\u0192\u0195\u0199-\u019B\u019E\u01A1\u01A3\u01A5\u01A8\u01AA\u01AB\u01AD\u01B0\u01B4\u01B6\u01B9\u01BA\u01BD-\u01BF\u01C6\u01C9\u01CC\u01CE\u01D0\u01D2\u01D4\u01D6\u01D8\u01DA\u01DC\u01DD\u01DF\u01E1\u01E3\u01E5\u01E7\u01E9\u01EB\u01ED\u01EF\u01F0\u01F3\u01F5\u01F9\u01FB\u01FD\u01FF\u0201\u0203\u0205\u0207\u0209\u020B\u020D\u020F\u0211\u0213\u0215\u0217\u0219\u021B\u021D\u021F\u0221\u0223\u0225\u0227\u0229\u022B\u022D\u022F\u0231\u0233-\u0239\u023C\u023F\u0240\u0242\u0247\u0249\u024B\u024D\u024F-\u0293\u0295-\u02AF\u0371\u0373\u0377\u037B-\u037D\u0390\u03AC-\u03CE\u03D0\u03D1\u03D5-\u03D7\u03D9\u03DB\u03DD\u03DF\u03E1\u03E3\u03E5\u03E7\u03E9\u03EB\u03ED\u03EF-\u03F3\u03F5\u03F8\u03FB\u03FC\u0430-\u045F\u0461\u0463\u0465\u0467\u0469\u046B\u046D\u046F\u0471\u0473\u0475\u0477\u0479\u047B\u047D\u047F\u0481\u048B\u048D\u048F\u0491\u0493\u0495\u0497\u0499\u049B\u049D\u049F\u04A1\u04A3\u04A5\u04A7\u04A9\u04AB\u04AD\u04AF\u04B1\u04B3\u04B5\u04B7\u04B9\u04BB\u04BD\u04BF\u04C2\u04C4\u04C6\u04C8\u04CA\u04CC\u04CE\u04CF\u04D1\u04D3\u04D5\u04D7\u04D9\u04DB\u04DD\u04DF\u04E1\u04E3\u04E5\u04E7\u04E9\u04EB\u04ED\u04EF\u04F1\u04F3\u04F5\u04F7\u04F9\u04FB\u04FD\u04FF\u0501\u0503\u0505\u0507\u0509\u050B\u050D\u050F\u0511\u0513\u0515\u0517\u0519\u051B\u051D\u051F\u0521\u0523\u0525\u0527\u0561-\u0587\u1D00-\u1D2B\u1D6B-\u1D77\u1D79-\u1D9A\u1E01\u1E03\u1E05\u1E07\u1E09\u1E0B\u1E0D\u1E0F\u1E11\u1E13\u1E15\u1E17\u1E19\u1E1B\u1E1D\u1E1F\u1E21\u1E23\u1E25\u1E27\u1E29\u1E2B\u1E2D\u1E2F\u1E31\u1E33\u1E35\u1E37\u1E39\u1E3B\u1E3D\u1E3F\u1E41\u1E43\u1E45\u1E47\u1E49\u1E4B\u1E4D\u1E4F\u1E51\u1E53\u1E55\u1E57\u1E59\u1E5B\u1E5D\u1E5F\u1E61\u1E63\u1E65\u1E67\u1E69\u1E6B\u1E6D\u1E6F\u1E71\u1E73\u1E75\u1E77\u1E79\u1E7B\u1E7D\u1E7F\u1E81\u1E83\u1E85\u1E87\u1E89\u1E8B\u1E8D\u1E8F\u1E91\u1E93\u1E95-\u1E9D\u1E9F\u1EA1\u1EA3\u1EA5\u1EA7\u1EA9\u1EAB\u1EAD\u1EAF\u1EB1\u1EB3\u1EB5\u1EB7\u1EB9\u1EBB\u1EBD\u1EBF\u1EC1\u1EC3\u1EC5\u1EC7\u1EC9\u1ECB\u1ECD\u1ECF\u1ED1\u1ED3\u1ED5\u1ED7\u1ED9\u1EDB\u1EDD\u1EDF\u1EE1\u1EE3\u1EE5\u1EE7\u1EE9\u1EEB\u1EED\u1EEF\u1EF1\u1EF3\u1EF5\u1EF7\u1EF9\u1EFB\u1EFD\u1EFF-\u1F07\u1F10-\u1F15\u1F20-\u1F27\u1F30-\u1F37\u1F40-\u1F45\u1F50-\u1F57\u1F60-\u1F67\u1F70-\u1F7D\u1F80-\u1F87\u1F90-\u1F97\u1FA0-\u1FA7\u1FB0-\u1FB4\u1FB6\u1FB7\u1FBE\u1FC2-\u1FC4\u1FC6\u1FC7\u1FD0-\u1FD3\u1FD6\u1FD7\u1FE0-\u1FE7\u1FF2-\u1FF4\u1FF6\u1FF7\u210A\u210E\u210F\u2113\u212F\u2134\u2139\u213C\u213D\u2146-\u2149\u214E\u2184\u2C30-\u2C5E\u2C61\u2C65\u2C66\u2C68\u2C6A\u2C6C\u2C71\u2C73\u2C74\u2C76-\u2C7B\u2C81\u2C83\u2C85\u2C87\u2C89\u2C8B\u2C8D\u2C8F\u2C91\u2C93\u2C95\u2C97\u2C99\u2C9B\u2C9D\u2C9F\u2CA1\u2CA3\u2CA5\u2CA7\u2CA9\u2CAB\u2CAD\u2CAF\u2CB1\u2CB3\u2CB5\u2CB7\u2CB9\u2CBB\u2CBD\u2CBF\u2CC1\u2CC3\u2CC5\u2CC7\u2CC9\u2CCB\u2CCD\u2CCF\u2CD1\u2CD3\u2CD5\u2CD7\u2CD9\u2CDB\u2CDD\u2CDF\u2CE1\u2CE3\u2CE4\u2CEC\u2CEE\u2CF3\u2D00-\u2D25\u2D27\u2D2D\uA641\uA643\uA645\uA647\uA649\uA64B\uA64D\uA64F\uA651\uA653\uA655\uA657\uA659\uA65B\uA65D\uA65F\uA661\uA663\uA665\uA667\uA669\uA66B\uA66D\uA681\uA683\uA685\uA687\uA689\uA68B\uA68D\uA68F\uA691\uA693\uA695\uA697\uA723\uA725\uA727\uA729\uA72B\uA72D\uA72F-\uA731\uA733\uA735\uA737\uA739\uA73B\uA73D\uA73F\uA741\uA743\uA745\uA747\uA749\uA74B\uA74D\uA74F\uA751\uA753\uA755\uA757\uA759\uA75B\uA75D\uA75F\uA761\uA763\uA765\uA767\uA769\uA76B\uA76D\uA76F\uA771-\uA778\uA77A\uA77C\uA77F\uA781\uA783\uA785\uA787\uA78C\uA78E\uA791\uA793\uA7A1\uA7A3\uA7A5\uA7A7\uA7A9\uA7FA\uFB00-\uFB06\uFB13-\uFB17\uFF41-\uFF5A])([\u0041-\u005A\u00C0-\u00D6\u00D8-\u00DE\u0100\u0102\u0104\u0106\u0108\u010A\u010C\u010E\u0110\u0112\u0114\u0116\u0118\u011A\u011C\u011E\u0120\u0122\u0124\u0126\u0128\u012A\u012C\u012E\u0130\u0132\u0134\u0136\u0139\u013B\u013D\u013F\u0141\u0143\u0145\u0147\u014A\u014C\u014E\u0150\u0152\u0154\u0156\u0158\u015A\u015C\u015E\u0160\u0162\u0164\u0166\u0168\u016A\u016C\u016E\u0170\u0172\u0174\u0176\u0178\u0179\u017B\u017D\u0181\u0182\u0184\u0186\u0187\u0189-\u018B\u018E-\u0191\u0193\u0194\u0196-\u0198\u019C\u019D\u019F\u01A0\u01A2\u01A4\u01A6\u01A7\u01A9\u01AC\u01AE\u01AF\u01B1-\u01B3\u01B5\u01B7\u01B8\u01BC\u01C4\u01C7\u01CA\u01CD\u01CF\u01D1\u01D3\u01D5\u01D7\u01D9\u01DB\u01DE\u01E0\u01E2\u01E4\u01E6\u01E8\u01EA\u01EC\u01EE\u01F1\u01F4\u01F6-\u01F8\u01FA\u01FC\u01FE\u0200\u0202\u0204\u0206\u0208\u020A\u020C\u020E\u0210\u0212\u0214\u0216\u0218\u021A\u021C\u021E\u0220\u0222\u0224\u0226\u0228\u022A\u022C\u022E\u0230\u0232\u023A\u023B\u023D\u023E\u0241\u0243-\u0246\u0248\u024A\u024C\u024E\u0370\u0372\u0376\u0386\u0388-\u038A\u038C\u038E\u038F\u0391-\u03A1\u03A3-\u03AB\u03CF\u03D2-\u03D4\u03D8\u03DA\u03DC\u03DE\u03E0\u03E2\u03E4\u03E6\u03E8\u03EA\u03EC\u03EE\u03F4\u03F7\u03F9\u03FA\u03FD-\u042F\u0460\u0462\u0464\u0466\u0468\u046A\u046C\u046E\u0470\u0472\u0474\u0476\u0478\u047A\u047C\u047E\u0480\u048A\u048C\u048E\u0490\u0492\u0494\u0496\u0498\u049A\u049C\u049E\u04A0\u04A2\u04A4\u04A6\u04A8\u04AA\u04AC\u04AE\u04B0\u04B2\u04B4\u04B6\u04B8\u04BA\u04BC\u04BE\u04C0\u04C1\u04C3\u04C5\u04C7\u04C9\u04CB\u04CD\u04D0\u04D2\u04D4\u04D6\u04D8\u04DA\u04DC\u04DE\u04E0\u04E2\u04E4\u04E6\u04E8\u04EA\u04EC\u04EE\u04F0\u04F2\u04F4\u04F6\u04F8\u04FA\u04FC\u04FE\u0500\u0502\u0504\u0506\u0508\u050A\u050C\u050E\u0510\u0512\u0514\u0516\u0518\u051A\u051C\u051E\u0520\u0522\u0524\u0526\u0531-\u0556\u10A0-\u10C5\u10C7\u10CD\u1E00\u1E02\u1E04\u1E06\u1E08\u1E0A\u1E0C\u1E0E\u1E10\u1E12\u1E14\u1E16\u1E18\u1E1A\u1E1C\u1E1E\u1E20\u1E22\u1E24\u1E26\u1E28\u1E2A\u1E2C\u1E2E\u1E30\u1E32\u1E34\u1E36\u1E38\u1E3A\u1E3C\u1E3E\u1E40\u1E42\u1E44\u1E46\u1E48\u1E4A\u1E4C\u1E4E\u1E50\u1E52\u1E54\u1E56\u1E58\u1E5A\u1E5C\u1E5E\u1E60\u1E62\u1E64\u1E66\u1E68\u1E6A\u1E6C\u1E6E\u1E70\u1E72\u1E74\u1E76\u1E78\u1E7A\u1E7C\u1E7E\u1E80\u1E82\u1E84\u1E86\u1E88\u1E8A\u1E8C\u1E8E\u1E90\u1E92\u1E94\u1E9E\u1EA0\u1EA2\u1EA4\u1EA6\u1EA8\u1EAA\u1EAC\u1EAE\u1EB0\u1EB2\u1EB4\u1EB6\u1EB8\u1EBA\u1EBC\u1EBE\u1EC0\u1EC2\u1EC4\u1EC6\u1EC8\u1ECA\u1ECC\u1ECE\u1ED0\u1ED2\u1ED4\u1ED6\u1ED8\u1EDA\u1EDC\u1EDE\u1EE0\u1EE2\u1EE4\u1EE6\u1EE8\u1EEA\u1EEC\u1EEE\u1EF0\u1EF2\u1EF4\u1EF6\u1EF8\u1EFA\u1EFC\u1EFE\u1F08-\u1F0F\u1F18-\u1F1D\u1F28-\u1F2F\u1F38-\u1F3F\u1F48-\u1F4D\u1F59\u1F5B\u1F5D\u1F5F\u1F68-\u1F6F\u1FB8-\u1FBB\u1FC8-\u1FCB\u1FD8-\u1FDB\u1FE8-\u1FEC\u1FF8-\u1FFB\u2102\u2107\u210B-\u210D\u2110-\u2112\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u2130-\u2133\u213E\u213F\u2145\u2183\u2C00-\u2C2E\u2C60\u2C62-\u2C64\u2C67\u2C69\u2C6B\u2C6D-\u2C70\u2C72\u2C75\u2C7E-\u2C80\u2C82\u2C84\u2C86\u2C88\u2C8A\u2C8C\u2C8E\u2C90\u2C92\u2C94\u2C96\u2C98\u2C9A\u2C9C\u2C9E\u2CA0\u2CA2\u2CA4\u2CA6\u2CA8\u2CAA\u2CAC\u2CAE\u2CB0\u2CB2\u2CB4\u2CB6\u2CB8\u2CBA\u2CBC\u2CBE\u2CC0\u2CC2\u2CC4\u2CC6\u2CC8\u2CCA\u2CCC\u2CCE\u2CD0\u2CD2\u2CD4\u2CD6\u2CD8\u2CDA\u2CDC\u2CDE\u2CE0\u2CE2\u2CEB\u2CED\u2CF2\uA640\uA642\uA644\uA646\uA648\uA64A\uA64C\uA64E\uA650\uA652\uA654\uA656\uA658\uA65A\uA65C\uA65E\uA660\uA662\uA664\uA666\uA668\uA66A\uA66C\uA680\uA682\uA684\uA686\uA688\uA68A\uA68C\uA68E\uA690\uA692\uA694\uA696\uA722\uA724\uA726\uA728\uA72A\uA72C\uA72E\uA732\uA734\uA736\uA738\uA73A\uA73C\uA73E\uA740\uA742\uA744\uA746\uA748\uA74A\uA74C\uA74E\uA750\uA752\uA754\uA756\uA758\uA75A\uA75C\uA75E\uA760\uA762\uA764\uA766\uA768\uA76A\uA76C\uA76E\uA779\uA77B\uA77D\uA77E\uA780\uA782\uA784\uA786\uA78B\uA78D\uA790\uA792\uA7A0\uA7A2\uA7A4\uA7A6\uA7A8\uA7AA\uFF21-\uFF3A\u0030-\u0039\u00B2\u00B3\u00B9\u00BC-\u00BE\u0660-\u0669\u06F0-\u06F9\u07C0-\u07C9\u0966-\u096F\u09E6-\u09EF\u09F4-\u09F9\u0A66-\u0A6F\u0AE6-\u0AEF\u0B66-\u0B6F\u0B72-\u0B77\u0BE6-\u0BF2\u0C66-\u0C6F\u0C78-\u0C7E\u0CE6-\u0CEF\u0D66-\u0D75\u0E50-\u0E59\u0ED0-\u0ED9\u0F20-\u0F33\u1040-\u1049\u1090-\u1099\u1369-\u137C\u16EE-\u16F0\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1946-\u194F\u19D0-\u19DA\u1A80-\u1A89\u1A90-\u1A99\u1B50-\u1B59\u1BB0-\u1BB9\u1C40-\u1C49\u1C50-\u1C59\u2070\u2074-\u2079\u2080-\u2089\u2150-\u2182\u2185-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2CFD\u3007\u3021-\u3029\u3038-\u303A\u3192-\u3195\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\uA620-\uA629\uA6E6-\uA6EF\uA830-\uA835\uA8D0-\uA8D9\uA900-\uA909\uA9D0-\uA9D9\uAA50-\uAA59\uABF0-\uABF9\uFF10-\uFF19])/g},function(e,t){e.exports=/([\u0030-\u0039\u00B2\u00B3\u00B9\u00BC-\u00BE\u0660-\u0669\u06F0-\u06F9\u07C0-\u07C9\u0966-\u096F\u09E6-\u09EF\u09F4-\u09F9\u0A66-\u0A6F\u0AE6-\u0AEF\u0B66-\u0B6F\u0B72-\u0B77\u0BE6-\u0BF2\u0C66-\u0C6F\u0C78-\u0C7E\u0CE6-\u0CEF\u0D66-\u0D75\u0E50-\u0E59\u0ED0-\u0ED9\u0F20-\u0F33\u1040-\u1049\u1090-\u1099\u1369-\u137C\u16EE-\u16F0\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1946-\u194F\u19D0-\u19DA\u1A80-\u1A89\u1A90-\u1A99\u1B50-\u1B59\u1BB0-\u1BB9\u1C40-\u1C49\u1C50-\u1C59\u2070\u2074-\u2079\u2080-\u2089\u2150-\u2182\u2185-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2CFD\u3007\u3021-\u3029\u3038-\u303A\u3192-\u3195\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\uA620-\uA629\uA6E6-\uA6EF\uA830-\uA835\uA8D0-\uA8D9\uA900-\uA909\uA9D0-\uA9D9\uAA50-\uAA59\uABF0-\uABF9\uFF10-\uFF19])([^\u0030-\u0039\u00B2\u00B3\u00B9\u00BC-\u00BE\u0660-\u0669\u06F0-\u06F9\u07C0-\u07C9\u0966-\u096F\u09E6-\u09EF\u09F4-\u09F9\u0A66-\u0A6F\u0AE6-\u0AEF\u0B66-\u0B6F\u0B72-\u0B77\u0BE6-\u0BF2\u0C66-\u0C6F\u0C78-\u0C7E\u0CE6-\u0CEF\u0D66-\u0D75\u0E50-\u0E59\u0ED0-\u0ED9\u0F20-\u0F33\u1040-\u1049\u1090-\u1099\u1369-\u137C\u16EE-\u16F0\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1946-\u194F\u19D0-\u19DA\u1A80-\u1A89\u1A90-\u1A99\u1B50-\u1B59\u1BB0-\u1BB9\u1C40-\u1C49\u1C50-\u1C59\u2070\u2074-\u2079\u2080-\u2089\u2150-\u2182\u2185-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2CFD\u3007\u3021-\u3029\u3038-\u303A\u3192-\u3195\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\uA620-\uA629\uA6E6-\uA6EF\uA830-\uA835\uA8D0-\uA8D9\uA900-\uA909\uA9D0-\uA9D9\uAA50-\uAA59\uABF0-\uABF9\uFF10-\uFF19])/g},function(e,t,n){var r=n(356),i=n(476);e.exports=function(e,t){if(null==e)return"";for(var n="",o=0;o<e.length;o++){var a=e[o],s=r(a,t);n+=s===a?i(a,t):s}return n}},function(e,t,n){var r=n(355);e.exports=function(e,t){return r(e,t,"/")}},function(e,t,n){var r=n(356),i=n(355);e.exports=function(e,t){return i(e,t).replace(/^.| ./g,function(e){return r(e,t)})}},function(e,t,n){var r=n(355);e.exports=function(e,t){return r(e,t,"-")}},function(e,t,n){var r=n(1276),i=n(1278);e.exports=function(e,t){return i(r(e,t),t)}},function(e,t,n){var r=n(356),i=n(1277);e.exports=function(e,t){return r(i(e,t),t)}},function(e,t,n){var r=n(356);e.exports=function(e,t){return r(e,t)===e}},function(e,t,n){var r=n(476);e.exports=function(e,t){return r(e,t)===e}},function(e,t,n){var r=n(476);e.exports=function(e,t){return null==e?"":(e=String(e),r(e.charAt(0),t)+e.substr(1))}},function(e,t,n){var r=n(574),i=console.log.bind(i),o=function(e){var t;if(null===e)t="null";else if(void 0===e)t="undefined";else{var n=function(e){return Object.prototype.toString.call(e).slice(8,-1)}(e);t="Number"===n&&isNaN(e)?"NaN":n}return t},a=function(e){return Object.keys(e).forEach(function(t,n){var i=e[t];"Object"===o(i)&&(e[t]=a(i)),"Array"===o(i)&&i.forEach(function(n,r){i=a(e[t][r])}),function(t){if(t.includes("_")){var n=e[t],i=r.camelCase(t);e[i]=n,delete e[t]}}(t)}),e};e.exports=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.Graph=class{constructor(){this.nodes=[],this.edges=[]}fromCompany(e){let t,n={};n.id=Math.floor(1e7*Math.random()),n.properties=this.exactProperty(e),n.type="Company",this.nodes.push(n),t=e.filings.map(e=>{let t={};return t.id=Math.floor(1e7*Math.random()),t.type="FilingItem",t.properties=this.exactProperty(e.filing),t});let r=this.buildNode(e.source,"Source");this.buildEdge(n,[r],"has_source"),this.nodes.push(r);let i=this.buildNode(e.registeredAddress,"RegisteredAddress");this.buildEdge(n,[i],"has_registeredAddress"),this.nodes.push(i);let o=e.data.mostRecent.map(e=>this.buildNode(e.datum,"Datum"));this.nodes=this.nodes.concat(o),this.buildEdge(n,o,"has_datum"),this.nodes=this.nodes.concat(t),this.buildEdge(n,t,"has_filing");let a=e.officers.map(e=>this.buildNode(e.officer,"Officer"));this.nodes=this.nodes.concat(a),this.buildEdge(n,a,"has_officer")}fromSearch(e){let t;t=e.map(e=>{let t={};return t.id=Math.floor(1e7*Math.random()),t.properties=this.exactProperty(e),t.type="Company",t}),this.nodes=this.nodes.concat(t)}buildNode(e,t){let n={};return n.id=Math.floor(1e7*Math.random()),n.type=t,n.properties=this.exactProperty(e),n}exactProperty(e){let t={};return Object.keys(e).forEach(n=>{e[n]instanceof Object||e[n]instanceof Array||(t[n]=e[n])}),t}buildEdge(e,t,n="edge"){let r=t.map(t=>{let r={};return r.id=Math.floor(1e7*Math.random()),r.sourceId=e.id,r.targetId=t.id,r.type=n,r.properties={},r});this.edges=this.edges.concat(r)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(475);t.handleGraphCommand=function(e){const[t,n]=r.splitStringOnFirst(r.splitStringOnFirst(e.cmd.substr(1)," ")[1]," ");let i=e.payload,{graph:o}=i,a=o[t],s=n?n.split(" "):[];a?a.apply(o,s):console.log("command not found"),console.log(o)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2342);t.RunHandler=class extends r.CommandHandler{constructor(e){super(e)}exec(){let e=this.params[0],t=this.action.payload,n=t.actions,r=t.store,i=n[e];if(!i)return void console.error("wrong params");let o=this.params.slice(1,this.params.length);o=o.map(e=>"true"==e||"false"!=e&&e);let a=i.apply(n,o);r.dispatch(a)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(475);t.CommandHandler=class{constructor(e){this.action=e,this.params=null,this.init(e)}init(e){this.cmd=r.getCommand(e.cmd," "),this.params=r.getCommandParams(e.cmd," "),this.funParams=r.getFuncParams(this.params[0]),this.exec()}exec(){}}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,s)}u((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const i=n(475);t.MySQLHandler=class{constructor(e){this.action=e,this.init()}init(){let e=this.action.cmd.split("#");this.module=e[0],this.functions=e.slice(1,e.length)}exec(){}run(){return r(this,void 0,void 0,function*(){let e=this.functions[0],t=this.functions[1],n=i.getFuncParams(e),r=i.getFuncParams(t),o={host:n[0],user:n[1],password:n[2],database:n[3],sql:r[0]};return yield fetch("/api/mysql/query",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(o)}).then(e=>e.json()).then(e=>({type:"mysql",data:e.content.results}))})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(462);t.default=function(e,t,n,i){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:r.Easing.Quadratic.InOut;return new Promise(function(a){new r.Tween(e).to(t,n).start().easing(o).on("update",i).on("complete",a)})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(23)),o=F(n(11)),a=F(n(353)),s=n(1105),u=n(50),l=F(n(636)),c=F(n(2346)),d=F(n(2353)),f=(F(n(2355)),F(n(2357))),h=F(n(2361)),p=F(n(2366)),m=F(n(1280)),g=F(n(2367)),y=F(n(463)),v=F(n(2377)),b=F(n(2378)),_=F(n(2379)),w=F(n(2380)),k=F(n(2381)),E=F(n(2383)),x=n(2399),S=F(n(1282)),M=F(n(2400)),T=F(n(746)),C=F(n(1283)),A=F(n(2401)),O=F(n(2410)),N=F(n(2411)),L=n(2413),j=F(n(2414)),P=F(n(2416)),D=F(n(2421)),I=F(n(44)),R=F(n(300));F(n(2425)),n(574);function F(e){return e&&e.__esModule?e:{default:e}}window._near=2.6;window.TWEEN=a.default,u.Config.canRecord&&(window.performance=o.default.extend(window.performance,new b.default)),window.globalVariable.isVR=!1;var Y=function(){function e(t,n,r,o){var a=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options=t||{},this.updateFuncs=[],this.graph=r,this.nodeCounts=0,this.graphController=o,this.camera,this.camera_local,this.controls,this.scene,this.renderer,this.vehicle=x.VehicleHome.clone(),this.renderObjects=[],this.graph.addFilter(S.default),this.graph.addFilter(C.default),this.graph.addFilter(M.default),this.graph.addFilter(T.default),this.show_stats=!0,this.show_labels=this.options.showLabels||!1,this.selection=this.options.selection||!1,this.nodes_count=this.options.numNodes||20,this.edges_count=this.options.numEdges||10,this.store=n,this.fov=42,this.nodeGeometry=new i.CircleGeometry(2,100),this.headLamp,this.pcScale=1,this.pointCloud,this.stats,this.plane=new i.Plane,this.raycaster=new i.Raycaster,this.raycaster.params.Points.threshold=.2,this.mouse=new i.Vector2,this.mouseRegion=new i.Vector4,this.offset=new i.Vector3,this.intersection=new i.Vector3,this.INTERSECTED=null,this.selectedNodeId=null,this.layoutController=g.default,this.layoutController.init(this.graph,this.getGraphPhysics()),this.initBasicThree(),this.initLighting(),this.helpSlides=new N.default(this.scene,this.camera),this.nodeCloud=new f.default(this.graph,this.cloudScene),this.edgeCloud=new c.default(this.graph,this.cloudScene,this.store.getState().settings.hideArrow),this.textCloud=new D.default(this.graph,this.cloudScene,this.camera),this.mediaGroup=new P.default(this.cloudScene),this.store.getState().settings.autoShowImage&&this.addImageCloud(),this.relationshipCloud=new p.default(this.cloudScene,this.graph,this.camera),this.worldMap=new y.default({debug:u.Config.isDebug,z:-5,scale:.005}),this.cloudScene.add(this.worldMap),y.default.configClick(this.worldMap,this.camera,this.controls),this.dragSelection=new w.default,this.dragSelection.on(this.dragSelection.eventNames.end,function(e,t){a.handleSelectFromRegion(e,t)}),this.stlGroup=new j.default(this.cloudScene),this.updateFuncs.push(this.stlGroup.update.bind(this.stlGroup)),l.default.bindRender(this.renderer,this.camera,this.scene),this.showArrow=!0,this.detailDisplayTime=3e3,this.initVR(),I.default.bindGraph(this.graph),I.default.on("change",function(e){a.highlightNeighbor(null);var t=I.default.singleNode;1==t.selectCount&&t.node?a.store.dispatch(s.Actions.setCurrentNodeId(t.node.id,t.selectCount)):t.selectCount>0?a.store.dispatch(s.Actions.setCurrentNodeId(null,t.selectCount)):a.store.dispatch(s.Actions.setCurrentNodeId(null,0))},"Drawing"),this.initControl(),R.default.bindLayout(this.layoutController),R.default.on("change",function(e){a.layoutController.restart_layout()},"Drawing"),this.animate()}return r(e,[{key:"initData",value:function(){}},{key:"initBasicThree",value:function(){var e=this;this.renderer=new i.WebGLRenderer({alpha:!0,antialias:!0}),this.renderer.setSize(window.innerWidth,window.innerHeight),document.getElementById("canvas-renderContainer").appendChild(this.renderer.domElement),this.renderer.domElement.id="renderer",this.renderer.domElement.tabIndex="9999",this.renderer.domElement.setAttribute("id","renderer"),this.renderer.setClearColor(0),this.renderer.domElement.style.zIndex=999,this.renderer.sortObjects=!1,this.renderer.domElement.oncontextmenu=function(e){e.preventDefault()},this.scene=new i.Scene,this.scene.isGPU=!0,this.cloudScene=new i.Group,this.cloudScene.isGPU=!0,this.scene.add(this.cloudScene),this.camera=new i.PerspectiveCamera(this.fov,window.innerWidth/window.innerHeight,.01,500),this.camera_local=new i.PerspectiveCamera(this.fov,window.innerWidth/window.innerHeight,.01,500),this.camera_local.position.z=.001,this.camera_local.originalPosition=this.camera_local.position.clone();if(window.isDebug){var t=new i.AxesHelper(100);this.scene.add(t)}this.controls=new i.OrbitControls(this.camera_local,this.renderer.domElement),this.show_stats&&window.isDebug&&(this.stats=new Stats,this.stats.domElement.style.position="absolute",this.stats.domElement.style.bottom="0px",this.stats.domElement.style.right="0px",document.body.appendChild(this.stats.domElement)),this.audioManager=new _.default(this.camera),this.keyboardStream=new L.KeyboardStream,this.mouseStream=new L.MouseStream(this.renderer.domElement),this.graph2DControl=new k.default(this.camera,this.cloudScene,this.keyboardStream,this.mouseStream),this.updateFuncs.push(this.graph2DControl.update.bind(this.graph2DControl)),this.vehicleControl=new x.VehicleControl(this.vehicle,this.camera,this.cloudScene,this.keyboardStream),this.updateFuncs.push(this.vehicleControl.update.bind(this.vehicleControl)),window.addEventListener("resize",function(t){return e.resizeRenderer(t)},!0),window.addEventListener("mousedown",function(e){e.toElement&&"canvas"==e.toElement.id&&e.toElement.focus()},!0),this.resizeRenderer()}},{key:"initVR",value:function(){var e=this;this.vr=new A.default(this.renderer,this.camera,this.scene,this.controls,null,this.graph,this.store,this.cloudScene,this.audioManager),this.vr&&this.vr.webVR.isAvailable()&&(this.vr.webVR.on("change",function(){return e.isVRPresenting()},"drawing"),this.vrGraphControl=new O.default.Builder(this.graph).withCamera(this.camera_local).withDrawing(this).withNodeCloud(this.nodeCloud).withGamePad(this.vr.vrGamepad).withLayoutController(this.layoutController).build())}},{key:"addImageCloud",value:function(){this.imageCloud=new d.default(this.graph,this.cloudScene,this.camera),this.cloudScene.add(this.imageCloud)}},{key:"removeImageCloud",value:function(){if(this.imageCloud){var e=this.imageCloud;this.imageCloud=null,e.restoreGraph()}}},{key:"hideArrow",value:function(e){this.edgeCloud.hideArrow(e)}},{key:"initControl",value:function(){this.mouseGraphControl=new m.default.Builder(this.graph).withCamera(this.camera).withRenderer(this.renderer).withScene(this.scene).withCloudScene(this.cloudScene).withCameraControl(this.controls).withMouseStream(this.mouseStream).withKeyboardStream(this.keyboardStream).withNodeCloud(this.nodeCloud).withEdgeCloud(this.edgeCloud).withRelationshipCloud(this.relationshipCloud).withLayoutControler(this.layoutController).withNeighborsCount(u.Config.pageItems).withModelCloud(this.modelCloud).withGraphController(this.graphController).withDragSelection(this.dragSelection).build()}},{key:"addRenderObject",value:function(e){this.renderObjects.push(e)}},{key:"removeRenderObject",value:function(e){this.renderObjects.indexOf(e)>=0&&this.renderObjects.splice(this.renderObjects.indexOf(e),1)}},{key:"handleCleanGraph",value:function(){this.store.dispatch(s.Actions.cleanGraph())}},{key:"addVRComponents",value:function(){this.selectedNodesVRTool||(this.selectedNodesVRTool=new h.default(this.mediaGroup),this.raycasterControl=new v.default(this.camera,this.selectedNodesVRTool.points,this.vr.vrGamepad,this.mouseStream),this.scene.add(this.selectedNodesVRTool),I.default.on("change",this.onVRNodeSelected.bind(this),"vr-node-selected")),this.gridHelperBottom||(this.gridHelperBottom=new i.PolarGridHelper(8,16,8,64,4210752,4210752),this.gridHelperBottom.position.set(0,-3,0),this.scene.add(this.gridHelperBottom))}},{key:"removeVRComponents",value:function(){this.scene.remove(this.selectedNodesVRTool),this.selectedNodesVRTool=null,this.raycasterControl=null,this.scene.remove(this.gridHelperBottom),this.gridHelperBottom=null}},{key:"onVRNodeSelected",value:function(){var e=I.default.singleNode.node;this.mediaGroup.bindNode(e)}},{key:"isVRPresenting",value:function(e){this.vr.webVR.isPresenting()?(this.controls.enabled=!1,window.globalVariable.isVR=!0,this.addVRComponents()):(this.removeVRComponents(),this.controls.enabled=!0,this.controls.object.position.set(0,0,this.camera_local.originalPosition.z),window.globalVariable.isVR=!1)}},{key:"startLayout",value:function(){this.layoutController.init(this.graph,this.getGraphPhysics())}},{key:"forceStartLayout",value:function(){this.graph.update_degree(),this.calculateTimeLine(this.graph),this.startLayout(),this.store.dispatch(s.Actions.graphDataUpdate(this.graph.visibleNodes.length))}},{key:"getGraphPhysics",value:function(){return this.store?this.store.getState().layout.graphPhysics:{}}},{key:"resizeRenderer",value:function(e){var t=window.innerWidth,n=window.innerHeight;this.camera.aspect=t/n,this.camera.updateProjectionMatrix(),this.renderer.setSize(t,n),this.mouseGraphControl&&this.mouseGraphControl.gpuPicker&&(this.mouseGraphControl.gpuPicker.resizeTexture(window.innerWidth,window.innerHeight),this.mouseGraphControl.gpuPicker.needUpdate=!0)}},{key:"initLighting",value:function(){var e=new i.AmbientLight(10274020);this.scene.add(e),this.headLamp=new i.SpotLight(16777215,4,40),this.headLamp.position.set(0,0,1),this.headLamp.target=this.camera,this.camera.add(this.headLamp)}},{key:"animate",value:function(){u.Config.canRecord&&window.performance.advance&&window.performance.advance();var e=window.performance.now();u.Config.canRecord?requestAnimationFrame(this.animate.bind(this)):this.renderer.setAnimationLoop(this.animate.bind(this)),a.default.update(e),this.render(),this.controls.enabled&&this.controls.update(),l.default.update(this.scene,this.camera)}},{key:"updateControlCenter",value:function(){var e=this.controls.target.clone().sub(this.controls.object.position).normalize();this.controls.target.copy(this.controls.object.position.clone().add(e.multiplyScalar(.5)))}},{key:"showTerrainMap",value:function(e){void 0==this.terrainMap?(this.terrainMap=new E.default(e),this.cloudScene.add(this.terrainMap)):this.terrainMap.redraw(e)}},{key:"render",value:function(){var e=this;if(this.updateControlCenter(),this.camera.position.copy(this.camera_local.position.clone().add(this.vehicle)),this.camera.quaternion.copy(this.camera_local.quaternion),this.updateFuncs.forEach(function(e){return e()}),this.layoutController.render(),this.graph.applyFilters(),this.relationshipCloud.update(),this.nodeCloud.update(),this.edgeCloud.update(),this.imageCloud&&this.imageCloud.update(),this.textCloud.update(),this.mediaGroup.update(),this.GUI&&this.GUI.update(),this.helpSlides.update(),this.show_stats&&this.stats&&this.stats.update(),this.vr){if(this.renderer.vr.enabled){var t=this.vr.webVR.getDisplay();if(t.stageParameters&&t.stageParameters.sittingToStandingTransform){var n=t.stageParameters.sittingToStandingTransform;n[12]=this.vehicle.x,n[13]=this.vehicle.y,n[14]=this.vehicle.z}}this.vr.render()}this.renderObjects.forEach(function(t){t.update&&t.update(e.scene,e.camera)}),this.renderer.render(this.scene,this.camera)}},{key:"removeNode",value:function(e){void 0!=e.data.label_object&&(this.cloudScene.remove(e.data.label_object),e.data.label_object=null)}},{key:"removeEdge",value:function(e){void 0!=e.data.arrow_object&&(this.cloudScene.remove(e.data.arrow_object),e.data.arrow_object=null)}},{key:"pinAll",value:function(e){this.layoutController.pinAll(e)}},{key:"clearAllPin",value:function(){this.layoutController.clean_graph(),this.startLayout&&this.startLayout()}},{key:"toggleLeaf",value:function(){this.hideLeaf?this.hideLeaf=!1:this.hideLeaf=!0,this.graph.updateVisibleAndLayoutElements(this.hideLeaf),I.default.selectWithNodeIds([],I.default.selectTypes.new),this.store.dispatch(s.Actions.graphDataUpdate(_app.controller.graph.visibleNodes.length)),this.startLayout&&this.startLayout()}},{key:"highlightNeighbor",value:function(e){T.default.updateNodeIds([e],this.graph)}},{key:"calculateTimeLine",value:function(e){var t={};e.visibleNodes.forEach(function(e){var n=e.data.detail.type,r=e.data.detail.data;Object.keys(r).forEach(function(e){if(/^\d{4}[-\/]\d{2}[-\/]\d{2}/gi.test(r[e])&&Date.parse(r[e])>0||/create_at|created_at|date|time|hasfunded_at/i.test(e)){if(!t[n]||!t[n][e]){var i={};t[n]=t[n]?t[n]:{},(i={}).min=0,i.max=0,i.duration=!1,i.duration_min=0,i.duration_max=0,i.duration_unit=0,t[n][e]=i}var o=null;try{(o=new Date(r[e]).getTime())||(o=parseInt(r[e]))}catch(e){}0==t[n][e].min&&o&&(t[n][e].min=o),o&&o<=t[n][e].min&&(t[n][e].min=o-o%864e5),o&&o>t[n][e].max&&(t[n][e].max=o+(864e5-o%864e5))}})}),o.default.isEmpty(t)||this.store.dispatch(s.Actions.setTimeRange(t))}},{key:"convertScreenPoint",value:function(e){var t=this.camera.position.clone(),n=(e=e.unproject(this.camera)).sub(t).normalize(),r=-t.z/n.z;return t.clone().add(n.multiplyScalar(r))}},{key:"convertCloudPoint",value:function(e){var t=.5*this.renderer.context.canvas.width,n=.5*this.renderer.context.canvas.height,r=this.cloudScene.localToWorld(e.clone());return this.camera.updateMatrixWorld(),r.project(this.camera),r.x=r.x*t+t,r.y=-r.y*n+n,{x:r.x,y:r.y}}},{key:"handleSelectFromRegion",value:function(e,t){var n=this,r=e.left/window.innerWidth*2-1,o=(e.left+e.width)/window.innerWidth*2-1,a=-e.top/window.innerHeight*2+1,s=-(e.top+e.height)/window.innerHeight*2+1;r*=window.innerWidth/window.innerHeight,o*=window.innerWidth/window.innerHeight;var u=new i.Vector3(r,a,.5),l=new i.Vector3(o,s,.5),c=new i.Matrix4;c.makePerspective(.1*u.x,.1*l.x,.1*u.y,.1*l.y,.1*window._near,this.camera.far),this.camera.updateMatrixWorld(),this.camera.matrixWorldInverse.getInverse(this.camera.matrixWorld.clone());var d=new i.Matrix4;d.multiplyMatrices(c,this.camera.matrixWorldInverse.clone());var f=new i.Frustum;f.setFromMatrix(d);var h=[];if(this.graph.visibleNodes.forEach(function(e){f.containsPoint(n.cloudScene.localToWorld(e.position.clone()))&&h.push(e.id)}),I.default.selectWithNodeIds(h),window.isDebug){this.tmpMatrixHelper&&this.scene.remove(this.tmpMatrixHelper);var p=new i.Camera;p.projectionMatrix.copy(d),this.tmpMatrixHelper=new i.CameraHelper(p),this.scene.add(this.tmpMatrixHelper)}}}]),e}();t.default=Y},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(23)),a=n(767);(r=a)&&r.__esModule,n(2347);new o.Vector3(0,0,0),new o.Color(0);var s=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.graph=t,this.group=n,this._hideArrow=r,this.maxNumEdge=1e5,this.lineSegments=null,this.geometry=null,this.numEdge=0,this.points=[],this.init()}return i(e,[{key:"createEdgeAttributesToGeometry",value:function(e,t){var n={position:new Float32Array(2*t*3),color:new Float32Array(2*t*3),opacity:new Float32Array(2*t)};return e.addAttribute("position",new o.BufferAttribute(n.position,3)),e.addAttribute("color",new o.BufferAttribute(n.color,3)),e.addAttribute("opacity",new o.BufferAttribute(n.opacity,1)),e}},{key:"createArrowAttributesToGeometry",value:function(e,t){var n=new Float32Array(3*t),r=new Float32Array(4*t),i=new Float32Array(3*t),a=new Float32Array(3*t),s=new Float32Array(t);return e.addAttribute("translation",new o.InstancedBufferAttribute(n,3,1)),e.addAttribute("rotation",new o.InstancedBufferAttribute(r,4,1)),e.addAttribute("scale",new o.InstancedBufferAttribute(i,3,1)),e.addAttribute("color",new o.InstancedBufferAttribute(a,3,1)),e.addAttribute("alpha",new o.InstancedBufferAttribute(s,1,1)),e}},{key:"init",value:function(){var e=new o.BufferGeometry,t=new o.ShaderMaterial({vertexShader:n(2349),fragmentShader:n(2350),blending:o.AdditiveBlending,depthTest:!1,transparent:!0});this.createEdgeAttributesToGeometry(e,0),e.computeBoundingSphere(),e.name="edge-geometry",e.boundingSphere.radius=1,this.geometry=e,this.lineSegments=new o.LineSegments(e,t),this.lineSegments.frustumCulled=!1,this.lineSegments.visible=!0,this.lineSegments.name="edge",this.lineSegments.userData.isGPU=!0,this.group.add(this.lineSegments),this.initArrow()}},{key:"initArrow",value:function(){var e=new o.ConeBufferGeometry(4,20,10),t=new o.InstancedBufferGeometry;t.index=e.index,t.attributes.position=e.attributes.position;var r=new o.RawShaderMaterial({vertexShader:n(2351),fragmentShader:n(2352),side:o.DoubleSide,transparent:!0,alphaTest:.01});this.arrows=new o.Mesh(t,r),this.arrows.name="arrows",this.group.add(this.arrows)}},{key:"clear",value:function(){this.clearEdges(0,this.numEdge)}},{key:"hide",value:function(){this.lineSegments.visible=!1}},{key:"show",value:function(){this.lineSegments.visible=!0}},{key:"hideArrow",value:function(e){this._hideArrow=e}},{key:"clearEdges",value:function(e,t){this.updateFromGraph([])}},{key:"updateFromGraph",value:function(e){var t=this,n=this.numEdge;this.numEdge=e.length,this.numEdge>this.maxNumEdge&&(console.log("!!!!!Max num edge exceeded"),this.numEdge=this.maxNumEdge),this.numEdge!=n&&(this.createEdgeAttributesToGeometry(this.geometry,this.numEdge),this.createArrowAttributesToGeometry(this.arrows.geometry,this.numEdge));var r=this.geometry.attributes;e.forEach(function(e,n){var i=2*n,o=2*n+1;t.points[i]=e.source.position,t.points[o]=e.target.position,e.source.position.toArray(r.position.array,3*i),e.target.position.toArray(r.position.array,3*o),e.color.toArray(r.color.array,3*i),e.color.toArray(r.color.array,3*o),r.opacity.array[i]=e.alpha,r.opacity.array[o]=e.alpha}),r.position.needsUpdate=!0,r.color.needsUpdate=!0,r.opacity.needsUpdate=!0,this.updateArrowAttribute(e)}},{key:"updateArrowAttribute",value:function(e){if(0!=e.length&&this.arrows){for(var t=e.length,n=0,r=0,i=0,o=0,a=0,s=this.arrows.geometry.attributes.translation.array,u=this.arrows.geometry.attributes.rotation.array,l=this.arrows.geometry.attributes.scale.array,c=this.arrows.geometry.attributes.color.array,d=this.arrows.geometry.attributes.alpha.array,f=0;f<t;f++){var h=e[f],p=h.source.position,m=h.target.position.clone().sub(p),g=this.getDirection(m.normalize()),y=h.target.position.x,v=h.target.position.y,b=h.target.position.z;s[n++]=y,s[n++]=v,s[n++]=b,u[r++]=g.x,u[r++]=g.y,u[r++]=g.z,u[r++]=g.w,l[i++]=.002,l[i++]=.002,l[i++]=.002,c[o++]=h.color.r,c[o++]=h.color.g,c[o++]=h.color.b,d[a++]=h.alpha}var _=this.arrows.geometry.attributes;this.arrows.geometry.maxInstancedCount=this._hideArrow?0:t,_.translation&&(_.translation.needsUpdate=!0),_.rotation&&(_.rotation.needsUpdate=!0),_.scale&&(_.scale.needsUpdate=!0),_.color&&(_.color.needsUpdate=!0),_.position&&(_.position.needsUpdate=!0),_.alpha&&(_.alpha.needsUpdate=!0)}}},{key:"getDirection",value:function(e){var t=new o.Vector3,n=void 0,r=new o.Quaternion;return e.y>.99999?r.set(0,0,0,1):e.y<-.99999?r.set(1,0,0,0):(t.set(e.z,0,-e.x).normalize(),n=Math.acos(e.y),r.setFromAxisAngle(t,n)),r}},{key:"update",value:function(){this.updateFromGraph(this.graph.visibleEdges)}}]),e}();t.default=s},function(e,t,n){"use strict";(function(t){
/*!
 * window-size <https://github.com/jonschlinkert/window-size>
 *
 * Copyright (c) 2014-2015 Jon Schlinkert
 * Licensed under the MIT license.
 */
var r,i,o=n(2348);e.exports=(o.isatty(1)&&o.isatty(2)?t.stdout.getWindowSize?(r=t.stdout.getWindowSize(1)[0],i=t.stdout.getWindowSize(1)[1]):o.getWindowSize?(r=o.getWindowSize()[1],i=o.getWindowSize()[0]):t.stdout.columns&&t.stdout.rows&&(i=t.stdout.rows,r=t.stdout.columns):Error("window-size could not get size with tty or process.stdout."),{height:i,width:r})}).call(t,n(59))},function(e,t){t.isatty=function(){return!1},t.ReadStream=function(){throw new Error("tty.ReadStream is not implemented")},t.WriteStream=function(){throw new Error("tty.ReadStream is not implemented")}},function(e,t){e.exports="attribute vec3 color;\nattribute float opacity;\nvarying vec3 vColor;\nvarying float vOpacity;\nvoid main() {\n    vec3 newPosition = position;\n    vColor = color;\n    vOpacity = opacity;\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( newPosition,1.0 );\n}\n"},function(e,t){e.exports="\nvarying vec3 vColor;\nvarying float vOpacity;\nvoid main() {\n    gl_FragColor = vec4(vColor,vOpacity);\n}"},function(e,t){e.exports="\n\n  precision highp float;\n  uniform mat4 modelViewMatrix;\n  uniform mat4 projectionMatrix;\n  uniform mat3 normalMatrix;\n\n  attribute vec3 position;\n\n  // instances\n  attribute vec3 translation;\n  attribute vec4 rotation;\n  attribute vec3 scale;\n  attribute vec3 color;\n  attribute float alpha;\n\n  varying vec3 vColor;\n  varying float vAlpha;\n\n  vec3 transform( inout vec3 position, vec3 T, vec4 R, vec3 S ) {\n    // applies the scale\n    position *= S;\n    //offset the arrow\n    position += vec3(0,-0.06,0);\n    // computes the rotation where R is a (vec4) quaternion\n    position += 2.0 * cross( R.xyz, cross( R.xyz, position ) + R.w * position );\n    position += T;\n    return position;\n  }\n\n  vec3 rotate(inout vec3 position, const vec4 q) {\n      vec3 t = 2.0 * cross(q.xyz, position);\n      return position + q.w * t + cross(q.xyz, t);\n  }\n  // re-use position for shading\n  varying vec3 vPos;\n\n  void main() {\n    \n    vec3 pos = position;\n    vColor = color;\n    vAlpha = alpha;\n    transform( pos, translation, rotation, scale );\n    gl_Position = projectionMatrix * modelViewMatrix * vec4( pos, 1.0 );\n    vPos = pos;\n  }"},function(e,t){e.exports="\n\n  precision highp float;\n  varying vec3 vColor;\n  varying float vAlpha;\n  void main() {\n    gl_FragColor = vec4(vColor, vAlpha );\n    if ( gl_FragColor.a < 0.01 ) discard;\n  }"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(23)),o=d(n(11)),a=n(462),s=d(n(50)),u=n(2354),l=d(n(51)),c=d(n(106));d(n(10));function d(e){return e&&e.__esModule?e:{default:e}}var f=function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:a.Easing.Quadratic.InOut;return new Promise(function(o){new a.Tween(e).to(t,n).start().easing(i).on("update",r).on("complete",o)})},h=function(e){function t(e,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return i.graph=e,l.default.instance().config,i.cloudScene=n,i.camera=r,i.nearbyNodes=[],i.init(),i._updateF=o.default.throttle(function(){i._update()},300),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Group),r(t,[{key:"init",value:function(){}},{key:"getTitle",value:function(e,t){var n=c.default.instance().getLabelConfig(e),r="";return n&&n.caption_property&&(r=t[n.caption_property]),r?String(r):""}},{key:"isImageLink",value:function(e,t){return/^(image|photo|avatar)/gi.test(t)||/^data\:image\/(jpg|jpeg|png|gif|bmp)\;base64/gi.test(e)||/^(http(s)?|ftp):\/\/.+\.(jpg|jpeg|png|gif|bmp)/i.test(e)}},{key:"getAvatar",value:function(e){for(var t=/Photo|Avatar|Image|Picture|icon/i,n=Object.keys(e),r="",i="",o=0;o<n.length;o++){var a=n[o];if(t.test(a)&&this.isImageLink(e[a],a)){r=String(e[a]).trim();break}this.isImageLink(e[a],a)&&(i=String(e[a]).trim())}return""==r&&""!==i.trim()&&(r=i),r}},{key:"parseColor",value:function(e){return"number"==typeof e&&(e="#"+("00000"+(0|e).toString(16)).substr(-6)),e}},{key:"restoreGraph",value:function(){var e=this;this.graph.visibleNodes.forEach(function(t){if(t.image){var n=t.image;delete t.image,t.alpha=1,n.material.map.dispose(),n.material.dispose(),e.remove(n)}}),this.graph=null,this.cloudScene=null,this.camera=null,this.parent.remove(this)}},{key:"_update",value:function(){var e=this;if(this.graph){var t=this,n=[];this.graph.visibleNodes.forEach(function(e){var r=e.position.distanceTo(t.worldToLocal(t.camera.position.clone()));r<5*t.cloudScene.scale.x&&n.push({distanceToCamera:r,node:e})}),n=o.default.uniq(n),n=o.default.orderBy(n,["distanceToCamera"],["asc"]),n=o.default.map(n,"node").slice(0,50),t.nearbyNodes.filter(function(e){return!o.default.includes(n,e)}).forEach(function(e){Promise.resolve().then(function(){return f({alpha:1},{alpha:1e-4},500,function(t){e.image&&(e.image.material.opacity=t.alpha)})}).then(function(){return e.image&&(e.image.material.map.dispose(),e.image.material.dispose(),t.remove(e.image),delete e.image),Promise.resolve()}).then(function(){return f({alpha:1e-4},{alpha:1},500,function(t){e.alpha=t.alpha})})});this.children.filter(function(t){return!o.default.map(e.nearbyNodes,"id").includes(t.name)}).forEach(function(n){e.graph.getNodeById(n.name)&&(e.graph.getNodeById(n.name).alpha=1),n&&(n.material.map.dispose(),n.material.dispose(),t.remove(n))});n.filter(function(t){return!o.default.includes(e.nearbyNodes,t)}).forEach(function(n){Promise.resolve().then(function(){var r=e.getAvatar(n.data.detail.data),i=null;r&&(i=(0,u.createHexagonSpriteFromUrl)(r)),i&&i.then(function(e){return t.graph?(e.name=n.id,n.image=e,n.image.position.copy(n.position),n.image.scale.multiplyScalar(.05),n.alpha=.001,t.add(n.image),Promise.resolve()):Promise.reject()}).then(function(){return f({alpha:1e-4},{alpha:1},500,function(e){t.graph&&n.image?(n.image.scale.set(.05*e.alpha,.05*e.alpha,.05*e.alpha),n.image.material.opacity=e.alpha*n.imageAlpha,n.alpha=1e-4):n.alpha=1})}).catch(function(e){})})}),this.nearbyNodes=n}}},{key:"updateSelectedNodes",value:function(){var e=this.nearbyNodes.filter(function(e){return 1==e.selected}),t=this.nearbyNodes.filter(function(e){return 0==e.selected});e.forEach(function(e){if(e.image){var t=Math.abs(Math.sin(.003*Date.now())),n=s.default.config.nodeSizeScale*(1+t)*.04||1e-4;e.image.scale.set(n,n,n)}}),t.forEach(function(e){e.image&&(e.image.material.color=new i.Color(16777215),e.image.scale.set(.05,.05,.05))})}},{key:"update",value:function(){if(this.graph){var e=this;e.nearbyNodes.forEach(function(t){t.image&&(t.image.position.copy(t.position.clone()),t.image.material.opacity=t.imageAlpha,t.image.lookAt(e.worldToLocal(e.camera.position.clone())))}),this.updateSelectedNodes(),this._updateF()}}}]),t}();t.default=h},function(e,t,n){"use strict";var r,i=n(11),o=(r=i)&&r.__esModule?r:{default:r},a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(23));var s=function(e,t,n,r,i){var o=e.attributes;new a.Color(t,n,r).toArray(o.customColor.array,3*i),o.customColor.needsUpdate=!0},u=o.default.throttle(function(e,t,n,r,i,o){e.forEach(function(a,u){a.g===o&&(e[u].plane||s(t,n,r,i,u))})},100);e.exports={updateNodeColor:s,updateGroupColor:u,groupOpacFunction:function(e,t,n,r){return function(){var i=this;o.default.each(n,function(o,a){if(o!==r){var s=o.color;u(e,t,s.r*i.f,s.g*i.f,s.b*i.f,parseInt(a,10)),o.lineMaterial.opacity=.3*i.f,n[a].sprite.material.opacity=1*i.f}})}},createTextSprite:function(e){var t=document.createElement("canvas");t.width=512,t.height=512;var n=t.getContext("2d");n.textAlign="center",n.textBaseline="middle",n.fillStyle="#bbbbbb",n.font="60px Roboto",n.fillText(e,t.width/2,t.height/2);var r=new a.Texture(t);r.needsUpdate=!0;var i=new a.SpriteMaterial({color:14540253,transparent:!0,opacity:1,map:r});return new a.Sprite(i)},createSpriteFromText:function(e,t,n){return new Promise(function(r){var i=document.createElement("canvas");i.width=300,i.height=300;var o=i.getContext("2d"),s=i.width/2;o.arc(s,s,s,0,2*Math.PI),o.fillStyle=t,o.fill(),o.lineWidth=25,o.strokeStyle="white",o.stroke(),o.textAlign="center",o.font="64px Calibri",o.fillStyle=n,function(e,t,n,r,i,o){if("string"==typeof t&&"number"==typeof n&&"number"==typeof r){var a=e,s=a.canvas;void 0===i&&(i=s&&s.width||300),void 0===o&&(o=s&&parseInt(window.getComputedStyle(s).lineHeight)||parseInt(window.getComputedStyle(document.body).lineHeight));var u=t.split(/[\s,\n]+/),l="",c=[],d=0;u.length>5&&(u=u.slice(0,5)).push("...");for(var f=0;f<u.length;f++){var h=l+" "+u[f];a.measureText(h).width>i&&f>0?(c.push(l),l=u[f],d+=o):l=h}c.push(l);var p=(s.height-d)/2;c.forEach(function(e,t){a.fillText(e,n,p+t*o)})}}(o,e,i.width/2,15,270,64);var u=new a.Texture(i);u.needsUpdate=!0;var l=new a.MeshBasicMaterial({color:13421772,transparent:!0,opacity:0,map:u}),c=new a.Mesh(new a.CircleGeometry(1,64,64),l);c.scale.set(.001,.001,.001),r(c)})},createHexagonSpriteFromUrl:function(e){return new Promise(function(t){var n=document.createElement("canvas"),r=n.getContext("2d");n.width=200,n.height=200;var i=new a.Texture(n);i.minFilter=a.LinearFilter,i.magFilter=a.LinearFilter,i.format=a.RGBFormat;var o=new a.MeshBasicMaterial({color:16777215,transparent:!0,opacity:0,map:i}),s=new a.Mesh(new a.CircleGeometry(1,64,64),o);s.scale.set(.001,.001,.001),(new a.ImageLoader).setCrossOrigin("anonymous").load(/^data\:image/.test(e)?e:"/api/proxy/image?url="+e,function(e){var o=e.width<e.height?e.width:e.height;n.width=o,n.height=o;var a=o/2;r.beginPath(),r.arc(o/2,o/2,o/2,0,2*Math.PI,!0),r.closePath(),r.clip(),r.drawImage(e,0,0,o,o),r.lineWidth=10,r.strokeStyle="#81ecec",r.beginPath(),r.arc(a,a,a-2,0,2*Math.PI,!0),r.stroke(),i.needsUpdate=!0,t(s)})})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=u(n(2356)),o=u(n(11)),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(23)),s=u(n(767));function u(e){return e&&e.__esModule?e:{default:e}}var l=0,c=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return r.graph=e,r.nodesWithModel=[],r.mode=l,r.key="",r.visible=!1,r.currentSelectedNodeId,n.add(r),r.init(),r._updateF=o.default.throttle(function(){r._update()},300),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Group),r(t,[{key:"init",value:function(){}},{key:"updateCurrentSelectedMenu",value:function(e){this.currentNodeIds=e}},{key:"showCurrentModel",value:function(e,t){this.key=e,!this.graph.nodeSet[t]&&this.nodesWithModel.includes(this.graph.nodeSet[t])||(this.mode==l?(this.visible=!this.visible,this.nodesWithModel.push(this.graph.nodeSet[t])):this.nodesWithModel.push(this.graph.nodeSet[t]),this.currentNodeIds=t)}},{key:"cleanModel",value:function(){var e=this,t=this.nodesWithModel.map(function(e){return e.id});0!=t.length&&(this.mode==l&&this.currentNodeIds&&!t.includes(this.currentNodeIds)&&(this.children.forEach(function(e){s.default.releaseMesh(e)}),this.children=[],this.graph.nodeSet[t[0]]&&this.graph.nodeSet[t[0]].model&&delete this.graph.nodeSet[t[0]].model,this.nodesWithModel=[],this.visible=!1),this.children.forEach(function(n){var r=n.userData.nodeId;t.includes(r)&&e.graph.nodeIdExist(r)||(e.graph.nodeSet[r]&&delete e.graph.nodeSet[r].model,s.default.releaseMesh(n))}))}},{key:"_update",value:function(){var e=this;this.cleanModel(),this.nodesWithModel.forEach(function(t){void 0===t.model&&t.data.detail.data[e.key]&&i.default.instance().load(t.data.detail.data[e.key]).then(function(n){e.add(n),n.scale.set(.001,.001,.001);var r=new a.Vector3(0,.3,0).add(t.position);n.position.copy(r),n.userData.position=t.position,n.userData.nodeId=t.id,t.model=!0})})}},{key:"update",value:function(){this.children.forEach(function(e){e.rotateY(.01);var t=new a.Vector3(0,.3,0).add(e.userData.position);e.position.copy(t)}),this._updateF()}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(23));n(1279);var o=null,a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.material=new i.MeshPhongMaterial({color:925765,specular:1118481,shininess:200}),this.loader=new i.STLLoader}return r(e,[{key:"load",value:function(e,t){var n=o;return new Promise(function(r,o){n.loader.load(e,function(e){console.log("success");var o=new i.Mesh(e,n.material);o.castShadow=!0,o.receiveShadow=!0,t&&t.scale&&o.scale.set(t.scale,t.scale,t.scale),r(o)},function(e){console.log(e)})})}}],[{key:"instance",value:function(){return null==o&&(o=new this),o}}]),e}();t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=c(n(23)),o=(c(n(2358)),l(n(11)),l(n(51))),a=n(112),s=l(n(50)),u=(l(n(44)),n(462));function l(e){return e&&e.__esModule?e:{default:e}}function c(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}var d=1e5,f=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.graph=t,this.parent=n,this.points=null,this.nodePostions=new Float32Array(3*d),this.nodeColors=new Float32Array(3*d),this.nodeBorderColors=new Float32Array(3*d),this.nodeSize=new Float32Array(d),this.nodeAlpha=new Float32Array(d),this.icon=new Float32Array(d),this.init()}return r(e,[{key:"updateIcon",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4;this.setDefaultIcon(),this.material.uniforms.texture.value=(new i.TextureLoader).load(e),this.material.uniforms.texture.needsUpdate=!0,this.material.uniforms.iconColunm.value=t,this.material.uniforms.iconColunm.needsUpdate=!0}},{key:"setDefaultIcon",value:function(){this.graph.nodes.forEach(function(e){e.icon=0})}},{key:"init",value:function(){var e=o.default.instance().icon,t=o.default.instance().iconColumn;this.material=new i.ShaderMaterial({uniforms:{color:{type:"c",value:new i.Color(16777215)},time:{type:"f",value:1},iconColunm:{type:"f",value:t},texture:{type:"t",value:(new i.TextureLoader).load(e)}},vertexShader:n(2359),fragmentShader:n(2360),transparent:!0,alphaTest:.1});for(var r=0;r<d;r++)this.nodePostions[3*r]=1e4,this.nodePostions[3*r+1]=1e4,this.nodePostions[3*r+2]=1e4;this.geometry=new i.BufferGeometry,this.geometry.addAttribute("position",new i.BufferAttribute(this.nodePostions,3)),this.geometry.addAttribute("customColor",new i.BufferAttribute(this.nodeColors,3)),this.geometry.addAttribute("ringColor",new i.BufferAttribute(this.nodeBorderColors,3)),this.geometry.addAttribute("size",new i.BufferAttribute(this.nodeSize,1)),this.geometry.addAttribute("alpha",new i.BufferAttribute(this.nodeAlpha,1)),this.geometry.addAttribute("icon",new i.BufferAttribute(this.icon,1)),this.geometry.__dirtyVertices=!0,this.geometry.__dirtyElements=!0,this.geometry.name="node-geometry",this.geometry.computeBoundingSphere(),this.geometry.boundingSphere.radius=1e7,this.points=new i.Points(this.geometry,this.material),this.points.frustumCulled=!1,this.points.visible=!0,this.points.name="NodeCloud",this.parent.add(this.points)}},{key:"removeNodeById",value:function(e){var t=this.geometry.attributes,n=this.graph.visibleNodes.find(function(t){return t.id==e});if(n){var r=n.index;t.position.array[3*r]=0,t.position.array[3*r+1]=0,t.position.array[3*r+2]=0,t.size.array[r]=0,t.alpha.array[r]=0,t.icon.array[r]=0;var o=new i.Color(16711680);t.customColor.array[3*r]=o.r,t.customColor.array[3*r+1]=o.g,t.customColor.array[3*r+2]=o.b,t.position.needsUpdate=!0,t.size.needsUpdate=!0,t.customColor.needsUpdate=!0,t.icon.needsUpdate=!0,this.geometry.verticesNeedUpdate=!0}}},{key:"clearNodes",value:function(e,t){e=e||0,t=t||this.nodesCount;for(var n=this.geometry.attributes,r=e;r<t;r++)n.position.array[3*r]=0,n.position.array[3*r+1]=0,n.position.array[3*r+2]=0,n.size.array[r]=0,n.alpha.array[r]=0,n.icon.array[r]=0,n.customColor.array[3*r]=0,n.customColor.array[3*r+1]=0,n.customColor.array[3*r+2]=0;n.position.needsUpdate=!0,n.size.needsUpdate=!0,n.customColor.needsUpdate=!0,n.icon.needsUpdate=!0,this.geometry.verticesNeedUpdate=!0}},{key:"removeAllNodes",value:function(){this.clearNodes(0,this.nodesCount)}},{key:"updateNodeInfo",value:function(){var e=this,t=this.graph.colorSchema;this.graph.visibleNodes.forEach(function(n,r){n.index=r,n.position.toArray(e.nodePostions,3*r);var o=new i.Color(n.color);switch(t){case a.ColorSchema.LABEL:break;case a.ColorSchema.TAG:o=new i.Color(n.tagColor);break;case a.ColorSchema.PROPERTY:}o.toArray(e.nodeColors,3*r),e.nodeSize[r]=n.size*s.default.config.nodeSizeScale,e.nodeAlpha[r]=n.alpha,e.icon[r]=1*n.icon});var n=this.geometry.attributes;n.position.needsUpdate=!0,n.ringColor.needsUpdate=!0,n.customColor.needsUpdate=!0,n.size.needsUpdate=!0,n.alpha.needsUpdate=!0,n.icon.needsUpdate=!0,this.geometry.verticesNeedUpdate=!0}},{key:"tweenNode",value:function(){var e=this;!function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:u.Easing.Quadratic.InOut;new Promise(function(o){new u.Tween(e).to(t,n).start().easing(i).on("update",r).on("complete",o)})}({time:.1},{time:1},1e3,function(t){e.material&&(e.material.uniforms.time.value=t.time,e.material.uniforms.time.needsUpdate=!0)})}},{key:"update",value:function(){this.graph.visibleNodes.length<this.nodesCount&&this.clearNodes(this.graph.visibleNodes.length,this.nodesCount),this.nodesCount!=this.graph.visibleNodes.length&&(this.nodesCount=this.graph.visibleNodes.length),this.updateNodeInfo()}}]),e}();t.default=f},function(e,t,n){var r;r=function(){"use strict";var e=Array.prototype.slice;function t(e,t){t&&(e.prototype=Object.create(t.prototype)),e.prototype.constructor=e}function n(e){return a(e)?e:G(e)}function r(e){return s(e)?e:q(e)}function i(e){return u(e)?e:K(e)}function o(e){return a(e)&&!l(e)?e:$(e)}function a(e){return!(!e||!e[d])}function s(e){return!(!e||!e[f])}function u(e){return!(!e||!e[h])}function l(e){return s(e)||u(e)}function c(e){return!(!e||!e[p])}t(r,n),t(i,n),t(o,n),n.isIterable=a,n.isKeyed=s,n.isIndexed=u,n.isAssociative=l,n.isOrdered=c,n.Keyed=r,n.Indexed=i,n.Set=o;var d="@@__IMMUTABLE_ITERABLE__@@",f="@@__IMMUTABLE_KEYED__@@",h="@@__IMMUTABLE_INDEXED__@@",p="@@__IMMUTABLE_ORDERED__@@",m=5,g=1<<m,y=g-1,v={},b={value:!1},_={value:!1};function w(e){return e.value=!1,e}function k(e){e&&(e.value=!0)}function E(){}function x(e,t){t=t||0;for(var n=Math.max(0,e.length-t),r=new Array(n),i=0;i<n;i++)r[i]=e[i+t];return r}function S(e){return void 0===e.size&&(e.size=e.__iterate(T)),e.size}function M(e,t){if("number"!=typeof t){var n=t>>>0;if(""+n!==t||4294967295===n)return NaN;t=n}return t<0?S(e)+t:t}function T(){return!0}function C(e,t,n){return(0===e||void 0!==n&&e<=-n)&&(void 0===t||void 0!==n&&t>=n)}function A(e,t){return N(e,t,0)}function O(e,t){return N(e,t,t)}function N(e,t,n){return void 0===e?n:e<0?Math.max(0,t+e):void 0===t?e:Math.min(t,e)}var L=0,j=1,P=2,D="function"==typeof Symbol&&Symbol.iterator,I="@@iterator",R=D||I;function F(e){this.next=e}function Y(e,t,n,r){var i=0===e?t:1===e?n:[t,n];return r?r.value=i:r={value:i,done:!1},r}function B(){return{value:void 0,done:!0}}function H(e){return!!U(e)}function z(e){return e&&"function"==typeof e.next}function W(e){var t=U(e);return t&&t.call(e)}function U(e){var t=e&&(D&&e[D]||e[I]);if("function"==typeof t)return t}function V(e){return e&&"number"==typeof e.length}function G(e){return null===e||void 0===e?oe():a(e)?e.toSeq():function(e){var t=ue(e)||"object"==typeof e&&new te(e);if(!t)throw new TypeError("Expected Array or iterable object of values, or keyed object: "+e);return t}(e)}function q(e){return null===e||void 0===e?oe().toKeyedSeq():a(e)?s(e)?e.toSeq():e.fromEntrySeq():ae(e)}function K(e){return null===e||void 0===e?oe():a(e)?s(e)?e.entrySeq():e.toIndexedSeq():se(e)}function $(e){return(null===e||void 0===e?oe():a(e)?s(e)?e.entrySeq():e:se(e)).toSetSeq()}F.prototype.toString=function(){return"[Iterator]"},F.KEYS=L,F.VALUES=j,F.ENTRIES=P,F.prototype.inspect=F.prototype.toSource=function(){return this.toString()},F.prototype[R]=function(){return this},t(G,n),G.of=function(){return G(arguments)},G.prototype.toSeq=function(){return this},G.prototype.toString=function(){return this.__toString("Seq {","}")},G.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},G.prototype.__iterate=function(e,t){return le(this,e,t,!0)},G.prototype.__iterator=function(e,t){return ce(this,e,t,!0)},t(q,G),q.prototype.toKeyedSeq=function(){return this},t(K,G),K.of=function(){return K(arguments)},K.prototype.toIndexedSeq=function(){return this},K.prototype.toString=function(){return this.__toString("Seq [","]")},K.prototype.__iterate=function(e,t){return le(this,e,t,!1)},K.prototype.__iterator=function(e,t){return ce(this,e,t,!1)},t($,G),$.of=function(){return $(arguments)},$.prototype.toSetSeq=function(){return this},G.isSeq=ie,G.Keyed=q,G.Set=$,G.Indexed=K;var X,J,Q,Z="@@__IMMUTABLE_SEQ__@@";function ee(e){this._array=e,this.size=e.length}function te(e){var t=Object.keys(e);this._object=e,this._keys=t,this.size=t.length}function ne(e){this._iterable=e,this.size=e.length||e.size}function re(e){this._iterator=e,this._iteratorCache=[]}function ie(e){return!(!e||!e[Z])}function oe(){return X||(X=new ee([]))}function ae(e){var t=Array.isArray(e)?new ee(e).fromEntrySeq():z(e)?new re(e).fromEntrySeq():H(e)?new ne(e).fromEntrySeq():"object"==typeof e?new te(e):void 0;if(!t)throw new TypeError("Expected Array or iterable object of [k, v] entries, or keyed object: "+e);return t}function se(e){var t=ue(e);if(!t)throw new TypeError("Expected Array or iterable object of values: "+e);return t}function ue(e){return V(e)?new ee(e):z(e)?new re(e):H(e)?new ne(e):void 0}function le(e,t,n,r){var i=e._cache;if(i){for(var o=i.length-1,a=0;a<=o;a++){var s=i[n?o-a:a];if(!1===t(s[1],r?s[0]:a,e))return a+1}return a}return e.__iterateUncached(t,n)}function ce(e,t,n,r){var i=e._cache;if(i){var o=i.length-1,a=0;return new F(function(){var e=i[n?o-a:a];return a++>o?{value:void 0,done:!0}:Y(t,r?e[0]:a-1,e[1])})}return e.__iteratorUncached(t,n)}function de(e,t){return t?function e(t,n,r,i){if(Array.isArray(n))return t.call(i,r,K(n).map(function(r,i){return e(t,r,i,n)}));if(he(n))return t.call(i,r,q(n).map(function(r,i){return e(t,r,i,n)}));return n}(t,e,"",{"":e}):fe(e)}function fe(e){return Array.isArray(e)?K(e).map(fe).toList():he(e)?q(e).map(fe).toMap():e}function he(e){return e&&(e.constructor===Object||void 0===e.constructor)}function pe(e,t){if(e===t||e!=e&&t!=t)return!0;if(!e||!t)return!1;if("function"==typeof e.valueOf&&"function"==typeof t.valueOf){if((e=e.valueOf())===(t=t.valueOf())||e!=e&&t!=t)return!0;if(!e||!t)return!1}return!("function"!=typeof e.equals||"function"!=typeof t.equals||!e.equals(t))}function me(e,t){if(e===t)return!0;if(!a(t)||void 0!==e.size&&void 0!==t.size&&e.size!==t.size||void 0!==e.__hash&&void 0!==t.__hash&&e.__hash!==t.__hash||s(e)!==s(t)||u(e)!==u(t)||c(e)!==c(t))return!1;if(0===e.size&&0===t.size)return!0;var n=!l(e);if(c(e)){var r=e.entries();return t.every(function(e,t){var i=r.next().value;return i&&pe(i[1],e)&&(n||pe(i[0],t))})&&r.next().done}var i=!1;if(void 0===e.size)if(void 0===t.size)"function"==typeof e.cacheResult&&e.cacheResult();else{i=!0;var o=e;e=t,t=o}var d=!0,f=t.__iterate(function(t,r){if(n?!e.has(t):i?!pe(t,e.get(r,v)):!pe(e.get(r,v),t))return d=!1,!1});return d&&e.size===f}function ge(e,t){if(!(this instanceof ge))return new ge(e,t);if(this._value=e,this.size=void 0===t?1/0:Math.max(0,t),0===this.size){if(J)return J;J=this}}function ye(e,t){if(!e)throw new Error(t)}function ve(e,t,n){if(!(this instanceof ve))return new ve(e,t,n);if(ye(0!==n,"Cannot step a Range by 0"),e=e||0,void 0===t&&(t=1/0),n=void 0===n?1:Math.abs(n),t<e&&(n=-n),this._start=e,this._end=t,this._step=n,this.size=Math.max(0,Math.ceil((t-e)/n-1)+1),0===this.size){if(Q)return Q;Q=this}}function be(){throw TypeError("Abstract")}function _e(){}function we(){}function ke(){}G.prototype[Z]=!0,t(ee,K),ee.prototype.get=function(e,t){return this.has(e)?this._array[M(this,e)]:t},ee.prototype.__iterate=function(e,t){for(var n=this._array,r=n.length-1,i=0;i<=r;i++)if(!1===e(n[t?r-i:i],i,this))return i+1;return i},ee.prototype.__iterator=function(e,t){var n=this._array,r=n.length-1,i=0;return new F(function(){return i>r?{value:void 0,done:!0}:Y(e,i,n[t?r-i++:i++])})},t(te,q),te.prototype.get=function(e,t){return void 0===t||this.has(e)?this._object[e]:t},te.prototype.has=function(e){return this._object.hasOwnProperty(e)},te.prototype.__iterate=function(e,t){for(var n=this._object,r=this._keys,i=r.length-1,o=0;o<=i;o++){var a=r[t?i-o:o];if(!1===e(n[a],a,this))return o+1}return o},te.prototype.__iterator=function(e,t){var n=this._object,r=this._keys,i=r.length-1,o=0;return new F(function(){var a=r[t?i-o:o];return o++>i?{value:void 0,done:!0}:Y(e,a,n[a])})},te.prototype[p]=!0,t(ne,K),ne.prototype.__iterateUncached=function(e,t){if(t)return this.cacheResult().__iterate(e,t);var n=W(this._iterable),r=0;if(z(n))for(var i;!(i=n.next()).done&&!1!==e(i.value,r++,this););return r},ne.prototype.__iteratorUncached=function(e,t){if(t)return this.cacheResult().__iterator(e,t);var n=W(this._iterable);if(!z(n))return new F(B);var r=0;return new F(function(){var t=n.next();return t.done?t:Y(e,r++,t.value)})},t(re,K),re.prototype.__iterateUncached=function(e,t){if(t)return this.cacheResult().__iterate(e,t);for(var n,r=this._iterator,i=this._iteratorCache,o=0;o<i.length;)if(!1===e(i[o],o++,this))return o;for(;!(n=r.next()).done;){var a=n.value;if(i[o]=a,!1===e(a,o++,this))break}return o},re.prototype.__iteratorUncached=function(e,t){if(t)return this.cacheResult().__iterator(e,t);var n=this._iterator,r=this._iteratorCache,i=0;return new F(function(){if(i>=r.length){var t=n.next();if(t.done)return t;r[i]=t.value}return Y(e,i,r[i++])})},t(ge,K),ge.prototype.toString=function(){return 0===this.size?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"},ge.prototype.get=function(e,t){return this.has(e)?this._value:t},ge.prototype.includes=function(e){return pe(this._value,e)},ge.prototype.slice=function(e,t){var n=this.size;return C(e,t,n)?this:new ge(this._value,O(t,n)-A(e,n))},ge.prototype.reverse=function(){return this},ge.prototype.indexOf=function(e){return pe(this._value,e)?0:-1},ge.prototype.lastIndexOf=function(e){return pe(this._value,e)?this.size:-1},ge.prototype.__iterate=function(e,t){for(var n=0;n<this.size;n++)if(!1===e(this._value,n,this))return n+1;return n},ge.prototype.__iterator=function(e,t){var n=this,r=0;return new F(function(){return r<n.size?Y(e,r++,n._value):{value:void 0,done:!0}})},ge.prototype.equals=function(e){return e instanceof ge?pe(this._value,e._value):me(e)},t(ve,K),ve.prototype.toString=function(){return 0===this.size?"Range []":"Range [ "+this._start+"..."+this._end+(1!==this._step?" by "+this._step:"")+" ]"},ve.prototype.get=function(e,t){return this.has(e)?this._start+M(this,e)*this._step:t},ve.prototype.includes=function(e){var t=(e-this._start)/this._step;return t>=0&&t<this.size&&t===Math.floor(t)},ve.prototype.slice=function(e,t){return C(e,t,this.size)?this:(e=A(e,this.size),(t=O(t,this.size))<=e?new ve(0,0):new ve(this.get(e,this._end),this.get(t,this._end),this._step))},ve.prototype.indexOf=function(e){var t=e-this._start;if(t%this._step==0){var n=t/this._step;if(n>=0&&n<this.size)return n}return-1},ve.prototype.lastIndexOf=function(e){return this.indexOf(e)},ve.prototype.__iterate=function(e,t){for(var n=this.size-1,r=this._step,i=t?this._start+n*r:this._start,o=0;o<=n;o++){if(!1===e(i,o,this))return o+1;i+=t?-r:r}return o},ve.prototype.__iterator=function(e,t){var n=this.size-1,r=this._step,i=t?this._start+n*r:this._start,o=0;return new F(function(){var a=i;return i+=t?-r:r,o>n?{value:void 0,done:!0}:Y(e,o++,a)})},ve.prototype.equals=function(e){return e instanceof ve?this._start===e._start&&this._end===e._end&&this._step===e._step:me(this,e)},t(be,n),t(_e,be),t(we,be),t(ke,be),be.Keyed=_e,be.Indexed=we,be.Set=ke;var Ee="function"==typeof Math.imul&&-2===Math.imul(4294967295,2)?Math.imul:function(e,t){var n=65535&(e|=0),r=65535&(t|=0);return n*r+((e>>>16)*r+n*(t>>>16)<<16>>>0)|0};function xe(e){return e>>>1&1073741824|3221225471&e}function Se(e){if(!1===e||null===e||void 0===e)return 0;if("function"==typeof e.valueOf&&(!1===(e=e.valueOf())||null===e||void 0===e))return 0;if(!0===e)return 1;var t=typeof e;if("number"===t){if(e!=e||e===1/0)return 0;var n=0|e;for(n!==e&&(n^=4294967295*e);e>4294967295;)n^=e/=4294967295;return xe(n)}if("string"===t)return e.length>je?function(e){var t=Ie[e];void 0===t&&(t=Me(e),De===Pe&&(De=0,Ie={}),De++,Ie[e]=t);return t}(e):Me(e);if("function"==typeof e.hashCode)return e.hashCode();if("object"===t)return function(e){var t;if(Oe&&void 0!==(t=Ae.get(e)))return t;if(void 0!==(t=e[Le]))return t;if(!Ce){if(void 0!==(t=e.propertyIsEnumerable&&e.propertyIsEnumerable[Le]))return t;if(void 0!==(t=function(e){if(e&&e.nodeType>0)switch(e.nodeType){case 1:return e.uniqueID;case 9:return e.documentElement&&e.documentElement.uniqueID}}(e)))return t}t=++Ne,1073741824&Ne&&(Ne=0);if(Oe)Ae.set(e,t);else{if(void 0!==Te&&!1===Te(e))throw new Error("Non-extensible objects are not allowed as keys.");if(Ce)Object.defineProperty(e,Le,{enumerable:!1,configurable:!1,writable:!1,value:t});else if(void 0!==e.propertyIsEnumerable&&e.propertyIsEnumerable===e.constructor.prototype.propertyIsEnumerable)e.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},e.propertyIsEnumerable[Le]=t;else{if(void 0===e.nodeType)throw new Error("Unable to set a non-enumerable property on object.");e[Le]=t}}return t}(e);if("function"==typeof e.toString)return Me(e.toString());throw new Error("Value type "+t+" cannot be hashed.")}function Me(e){for(var t=0,n=0;n<e.length;n++)t=31*t+e.charCodeAt(n)|0;return xe(t)}var Te=Object.isExtensible,Ce=function(){try{return Object.defineProperty({},"@",{}),!0}catch(e){return!1}}();var Ae,Oe="function"==typeof WeakMap;Oe&&(Ae=new WeakMap);var Ne=0,Le="__immutablehash__";"function"==typeof Symbol&&(Le=Symbol(Le));var je=16,Pe=255,De=0,Ie={};function Re(e){ye(e!==1/0,"Cannot perform this action with an infinite size.")}function Fe(e){return null===e||void 0===e?Qe():Ye(e)&&!c(e)?e:Qe().withMutations(function(t){var n=r(e);Re(n.size),n.forEach(function(e,n){return t.set(n,e)})})}function Ye(e){return!(!e||!e[He])}t(Fe,_e),Fe.of=function(){var t=e.call(arguments,0);return Qe().withMutations(function(e){for(var n=0;n<t.length;n+=2){if(n+1>=t.length)throw new Error("Missing value for key: "+t[n]);e.set(t[n],t[n+1])}})},Fe.prototype.toString=function(){return this.__toString("Map {","}")},Fe.prototype.get=function(e,t){return this._root?this._root.get(0,void 0,e,t):t},Fe.prototype.set=function(e,t){return Ze(this,e,t)},Fe.prototype.setIn=function(e,t){return this.updateIn(e,v,function(){return t})},Fe.prototype.remove=function(e){return Ze(this,e,v)},Fe.prototype.deleteIn=function(e){return this.updateIn(e,function(){return v})},Fe.prototype.update=function(e,t,n){return 1===arguments.length?e(this):this.updateIn([e],t,n)},Fe.prototype.updateIn=function(e,t,n){n||(n=t,t=void 0);var r=function e(t,n,r,i){var o=t===v;var a=n.next();if(a.done){var s=o?r:t,u=i(s);return u===s?t:u}ye(o||t&&t.set,"invalid keyPath");var l=a.value;var c=o?v:t.get(l,v);var d=e(c,n,r,i);return d===c?t:d===v?t.remove(l):(o?Qe():t).set(l,d)}(this,nn(e),t,n);return r===v?void 0:r},Fe.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):Qe()},Fe.prototype.merge=function(){return rt(this,void 0,arguments)},Fe.prototype.mergeWith=function(t){return rt(this,t,e.call(arguments,1))},Fe.prototype.mergeIn=function(t){var n=e.call(arguments,1);return this.updateIn(t,Qe(),function(e){return"function"==typeof e.merge?e.merge.apply(e,n):n[n.length-1]})},Fe.prototype.mergeDeep=function(){return rt(this,it,arguments)},Fe.prototype.mergeDeepWith=function(t){var n=e.call(arguments,1);return rt(this,ot(t),n)},Fe.prototype.mergeDeepIn=function(t){var n=e.call(arguments,1);return this.updateIn(t,Qe(),function(e){return"function"==typeof e.mergeDeep?e.mergeDeep.apply(e,n):n[n.length-1]})},Fe.prototype.sort=function(e){return At(Vt(this,e))},Fe.prototype.sortBy=function(e,t){return At(Vt(this,t,e))},Fe.prototype.withMutations=function(e){var t=this.asMutable();return e(t),t.wasAltered()?t.__ensureOwner(this.__ownerID):this},Fe.prototype.asMutable=function(){return this.__ownerID?this:this.__ensureOwner(new E)},Fe.prototype.asImmutable=function(){return this.__ensureOwner()},Fe.prototype.wasAltered=function(){return this.__altered},Fe.prototype.__iterator=function(e,t){return new Ke(this,e,t)},Fe.prototype.__iterate=function(e,t){var n=this,r=0;return this._root&&this._root.iterate(function(t){return r++,e(t[1],t[0],n)},t),r},Fe.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?Je(this.size,this._root,e,this.__hash):(this.__ownerID=e,this.__altered=!1,this)},Fe.isMap=Ye;var Be,He="@@__IMMUTABLE_MAP__@@",ze=Fe.prototype;function We(e,t){this.ownerID=e,this.entries=t}function Ue(e,t,n){this.ownerID=e,this.bitmap=t,this.nodes=n}function Ve(e,t,n){this.ownerID=e,this.count=t,this.nodes=n}function Ge(e,t,n){this.ownerID=e,this.keyHash=t,this.entries=n}function qe(e,t,n){this.ownerID=e,this.keyHash=t,this.entry=n}function Ke(e,t,n){this._type=t,this._reverse=n,this._stack=e._root&&Xe(e._root)}function $e(e,t){return Y(e,t[0],t[1])}function Xe(e,t){return{node:e,index:0,__prev:t}}function Je(e,t,n,r){var i=Object.create(ze);return i.size=e,i._root=t,i.__ownerID=n,i.__hash=r,i.__altered=!1,i}function Qe(){return Be||(Be=Je(0))}function Ze(e,t,n){var r,i;if(e._root){var o=w(b),a=w(_);if(r=et(e._root,e.__ownerID,0,void 0,t,n,o,a),!a.value)return e;i=e.size+(o.value?n===v?-1:1:0)}else{if(n===v)return e;i=1,r=new We(e.__ownerID,[[t,n]])}return e.__ownerID?(e.size=i,e._root=r,e.__hash=void 0,e.__altered=!0,e):r?Je(i,r):Qe()}function et(e,t,n,r,i,o,a,s){return e?e.update(t,n,r,i,o,a,s):o===v?e:(k(s),k(a),new qe(t,r,[i,o]))}function tt(e){return e.constructor===qe||e.constructor===Ge}function nt(e,t,n,r,i){if(e.keyHash===r)return new Ge(t,r,[e.entry,i]);var o,a=(0===n?e.keyHash:e.keyHash>>>n)&y,s=(0===n?r:r>>>n)&y;return new Ue(t,1<<a|1<<s,a===s?[nt(e,t,n+m,r,i)]:(o=new qe(t,r,i),a<s?[e,o]:[o,e]))}function rt(e,t,n){for(var i=[],o=0;o<n.length;o++){var s=n[o],u=r(s);a(s)||(u=u.map(function(e){return de(e)})),i.push(u)}return at(e,t,i)}function it(e,t,n){return e&&e.mergeDeep&&a(t)?e.mergeDeep(t):pe(e,t)?e:t}function ot(e){return function(t,n,r){if(t&&t.mergeDeepWith&&a(n))return t.mergeDeepWith(e,n);var i=e(t,n,r);return pe(t,i)?t:i}}function at(e,t,n){return 0===(n=n.filter(function(e){return 0!==e.size})).length?e:0!==e.size||e.__ownerID||1!==n.length?e.withMutations(function(e){for(var r=t?function(n,r){e.update(r,v,function(e){return e===v?n:t(e,n,r)})}:function(t,n){e.set(n,t)},i=0;i<n.length;i++)n[i].forEach(r)}):e.constructor(n[0])}function st(e){return e=(e=(858993459&(e-=e>>1&1431655765))+(e>>2&858993459))+(e>>4)&252645135,e+=e>>8,127&(e+=e>>16)}function ut(e,t,n,r){var i=r?e:x(e);return i[t]=n,i}ze[He]=!0,ze.delete=ze.remove,ze.removeIn=ze.deleteIn,We.prototype.get=function(e,t,n,r){for(var i=this.entries,o=0,a=i.length;o<a;o++)if(pe(n,i[o][0]))return i[o][1];return r},We.prototype.update=function(e,t,n,r,i,o,a){for(var s=i===v,u=this.entries,l=0,c=u.length;l<c&&!pe(r,u[l][0]);l++);var d=l<c;if(d?u[l][1]===i:s)return this;if(k(a),(s||!d)&&k(o),!s||1!==u.length){if(!d&&!s&&u.length>=lt)return function(e,t,n,r){e||(e=new E);for(var i=new qe(e,Se(n),[n,r]),o=0;o<t.length;o++){var a=t[o];i=i.update(e,0,void 0,a[0],a[1])}return i}(e,u,r,i);var f=e&&e===this.ownerID,h=f?u:x(u);return d?s?l===c-1?h.pop():h[l]=h.pop():h[l]=[r,i]:h.push([r,i]),f?(this.entries=h,this):new We(e,h)}},Ue.prototype.get=function(e,t,n,r){void 0===t&&(t=Se(n));var i=1<<((0===e?t:t>>>e)&y),o=this.bitmap;return 0==(o&i)?r:this.nodes[st(o&i-1)].get(e+m,t,n,r)},Ue.prototype.update=function(e,t,n,r,i,o,a){void 0===n&&(n=Se(r));var s=(0===t?n:n>>>t)&y,u=1<<s,l=this.bitmap,c=0!=(l&u);if(!c&&i===v)return this;var d=st(l&u-1),f=this.nodes,h=c?f[d]:void 0,p=et(h,e,t+m,n,r,i,o,a);if(p===h)return this;if(!c&&p&&f.length>=ct)return function(e,t,n,r,i){for(var o=0,a=new Array(g),s=0;0!==n;s++,n>>>=1)a[s]=1&n?t[o++]:void 0;return a[r]=i,new Ve(e,o+1,a)}(e,f,l,s,p);if(c&&!p&&2===f.length&&tt(f[1^d]))return f[1^d];if(c&&p&&1===f.length&&tt(p))return p;var b=e&&e===this.ownerID,_=c?p?l:l^u:l|u,w=c?p?ut(f,d,p,b):function(e,t,n){var r=e.length-1;if(n&&t===r)return e.pop(),e;for(var i=new Array(r),o=0,a=0;a<r;a++)a===t&&(o=1),i[a]=e[a+o];return i}(f,d,b):function(e,t,n,r){var i=e.length+1;if(r&&t+1===i)return e[t]=n,e;for(var o=new Array(i),a=0,s=0;s<i;s++)s===t?(o[s]=n,a=-1):o[s]=e[s+a];return o}(f,d,p,b);return b?(this.bitmap=_,this.nodes=w,this):new Ue(e,_,w)},Ve.prototype.get=function(e,t,n,r){void 0===t&&(t=Se(n));var i=(0===e?t:t>>>e)&y,o=this.nodes[i];return o?o.get(e+m,t,n,r):r},Ve.prototype.update=function(e,t,n,r,i,o,a){void 0===n&&(n=Se(r));var s=(0===t?n:n>>>t)&y,u=i===v,l=this.nodes,c=l[s];if(u&&!c)return this;var d=et(c,e,t+m,n,r,i,o,a);if(d===c)return this;var f=this.count;if(c){if(!d&&--f<dt)return function(e,t,n,r){for(var i=0,o=0,a=new Array(n),s=0,u=1,l=t.length;s<l;s++,u<<=1){var c=t[s];void 0!==c&&s!==r&&(i|=u,a[o++]=c)}return new Ue(e,i,a)}(e,l,f,s)}else f++;var h=e&&e===this.ownerID,p=ut(l,s,d,h);return h?(this.count=f,this.nodes=p,this):new Ve(e,f,p)},Ge.prototype.get=function(e,t,n,r){for(var i=this.entries,o=0,a=i.length;o<a;o++)if(pe(n,i[o][0]))return i[o][1];return r},Ge.prototype.update=function(e,t,n,r,i,o,a){void 0===n&&(n=Se(r));var s=i===v;if(n!==this.keyHash)return s?this:(k(a),k(o),nt(this,e,t,n,[r,i]));for(var u=this.entries,l=0,c=u.length;l<c&&!pe(r,u[l][0]);l++);var d=l<c;if(d?u[l][1]===i:s)return this;if(k(a),(s||!d)&&k(o),s&&2===c)return new qe(e,this.keyHash,u[1^l]);var f=e&&e===this.ownerID,h=f?u:x(u);return d?s?l===c-1?h.pop():h[l]=h.pop():h[l]=[r,i]:h.push([r,i]),f?(this.entries=h,this):new Ge(e,this.keyHash,h)},qe.prototype.get=function(e,t,n,r){return pe(n,this.entry[0])?this.entry[1]:r},qe.prototype.update=function(e,t,n,r,i,o,a){var s=i===v,u=pe(r,this.entry[0]);return(u?i===this.entry[1]:s)?this:(k(a),s?void k(o):u?e&&e===this.ownerID?(this.entry[1]=i,this):new qe(e,this.keyHash,[r,i]):(k(o),nt(this,e,t,Se(r),[r,i])))},We.prototype.iterate=Ge.prototype.iterate=function(e,t){for(var n=this.entries,r=0,i=n.length-1;r<=i;r++)if(!1===e(n[t?i-r:r]))return!1},Ue.prototype.iterate=Ve.prototype.iterate=function(e,t){for(var n=this.nodes,r=0,i=n.length-1;r<=i;r++){var o=n[t?i-r:r];if(o&&!1===o.iterate(e,t))return!1}},qe.prototype.iterate=function(e,t){return e(this.entry)},t(Ke,F),Ke.prototype.next=function(){for(var e=this._type,t=this._stack;t;){var n,r=t.node,i=t.index++;if(r.entry){if(0===i)return $e(e,r.entry)}else if(r.entries){if(i<=(n=r.entries.length-1))return $e(e,r.entries[this._reverse?n-i:i])}else if(i<=(n=r.nodes.length-1)){var o=r.nodes[this._reverse?n-i:i];if(o){if(o.entry)return $e(e,o.entry);t=this._stack=Xe(o,t)}continue}t=this._stack=this._stack.__prev}return{value:void 0,done:!0}};var lt=g/4,ct=g/2,dt=g/4;function ft(e){var t=kt();if(null===e||void 0===e)return t;if(ht(e))return e;var n=i(e),r=n.size;return 0===r?t:(Re(r),r>0&&r<g?wt(0,r,m,null,new gt(n.toArray())):t.withMutations(function(e){e.setSize(r),n.forEach(function(t,n){return e.set(n,t)})}))}function ht(e){return!(!e||!e[pt])}t(ft,we),ft.of=function(){return this(arguments)},ft.prototype.toString=function(){return this.__toString("List [","]")},ft.prototype.get=function(e,t){if((e=M(this,e))>=0&&e<this.size){var n=St(this,e+=this._origin);return n&&n.array[e&y]}return t},ft.prototype.set=function(e,t){return function(e,t,n){if((t=M(e,t))!=t)return e;if(t>=e.size||t<0)return e.withMutations(function(e){t<0?Mt(e,t).set(0,n):Mt(e,0,t+1).set(t,n)});t+=e._origin;var r=e._tail,i=e._root,o=w(_);t>=Ct(e._capacity)?r=Et(r,e.__ownerID,0,t,n,o):i=Et(i,e.__ownerID,e._level,t,n,o);if(!o.value)return e;if(e.__ownerID)return e._root=i,e._tail=r,e.__hash=void 0,e.__altered=!0,e;return wt(e._origin,e._capacity,e._level,i,r)}(this,e,t)},ft.prototype.remove=function(e){return this.has(e)?0===e?this.shift():e===this.size-1?this.pop():this.splice(e,1):this},ft.prototype.insert=function(e,t){return this.splice(e,0,t)},ft.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=m,this._root=this._tail=null,this.__hash=void 0,this.__altered=!0,this):kt()},ft.prototype.push=function(){var e=arguments,t=this.size;return this.withMutations(function(n){Mt(n,0,t+e.length);for(var r=0;r<e.length;r++)n.set(t+r,e[r])})},ft.prototype.pop=function(){return Mt(this,0,-1)},ft.prototype.unshift=function(){var e=arguments;return this.withMutations(function(t){Mt(t,-e.length);for(var n=0;n<e.length;n++)t.set(n,e[n])})},ft.prototype.shift=function(){return Mt(this,1)},ft.prototype.merge=function(){return Tt(this,void 0,arguments)},ft.prototype.mergeWith=function(t){return Tt(this,t,e.call(arguments,1))},ft.prototype.mergeDeep=function(){return Tt(this,it,arguments)},ft.prototype.mergeDeepWith=function(t){var n=e.call(arguments,1);return Tt(this,ot(t),n)},ft.prototype.setSize=function(e){return Mt(this,0,e)},ft.prototype.slice=function(e,t){var n=this.size;return C(e,t,n)?this:Mt(this,A(e,n),O(t,n))},ft.prototype.__iterator=function(e,t){var n=0,r=_t(this,t);return new F(function(){var t=r();return t===bt?{value:void 0,done:!0}:Y(e,n++,t)})},ft.prototype.__iterate=function(e,t){for(var n,r=0,i=_t(this,t);(n=i())!==bt&&!1!==e(n,r++,this););return r},ft.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?wt(this._origin,this._capacity,this._level,this._root,this._tail,e,this.__hash):(this.__ownerID=e,this)},ft.isList=ht;var pt="@@__IMMUTABLE_LIST__@@",mt=ft.prototype;function gt(e,t){this.array=e,this.ownerID=t}mt[pt]=!0,mt.delete=mt.remove,mt.setIn=ze.setIn,mt.deleteIn=mt.removeIn=ze.removeIn,mt.update=ze.update,mt.updateIn=ze.updateIn,mt.mergeIn=ze.mergeIn,mt.mergeDeepIn=ze.mergeDeepIn,mt.withMutations=ze.withMutations,mt.asMutable=ze.asMutable,mt.asImmutable=ze.asImmutable,mt.wasAltered=ze.wasAltered,gt.prototype.removeBefore=function(e,t,n){if(n===t?1<<t:0===this.array.length)return this;var r=n>>>t&y;if(r>=this.array.length)return new gt([],e);var i,o=0===r;if(t>0){var a=this.array[r];if((i=a&&a.removeBefore(e,t-m,n))===a&&o)return this}if(o&&!i)return this;var s=xt(this,e);if(!o)for(var u=0;u<r;u++)s.array[u]=void 0;return i&&(s.array[r]=i),s},gt.prototype.removeAfter=function(e,t,n){if(n===(t?1<<t:0)||0===this.array.length)return this;var r,i=n-1>>>t&y;if(i>=this.array.length)return this;if(t>0){var o=this.array[i];if((r=o&&o.removeAfter(e,t-m,n))===o&&i===this.array.length-1)return this}var a=xt(this,e);return a.array.splice(i+1),r&&(a.array[i]=r),a};var yt,vt,bt={};function _t(e,t){var n=e._origin,r=e._capacity,i=Ct(r),o=e._tail;return a(e._root,e._level,0);function a(e,s,u){return 0===s?function(e,a){var s=a===i?o&&o.array:e&&e.array,u=a>n?0:n-a,l=r-a;l>g&&(l=g);return function(){if(u===l)return bt;var e=t?--l:u++;return s&&s[e]}}(e,u):function(e,i,o){var s,u=e&&e.array,l=o>n?0:n-o>>i,c=1+(r-o>>i);c>g&&(c=g);return function(){for(;;){if(s){var e=s();if(e!==bt)return e;s=null}if(l===c)return bt;var n=t?--c:l++;s=a(u&&u[n],i-m,o+(n<<i))}}}(e,s,u)}}function wt(e,t,n,r,i,o,a){var s=Object.create(mt);return s.size=t-e,s._origin=e,s._capacity=t,s._level=n,s._root=r,s._tail=i,s.__ownerID=o,s.__hash=a,s.__altered=!1,s}function kt(){return yt||(yt=wt(0,0,m))}function Et(e,t,n,r,i,o){var a,s=r>>>n&y,u=e&&s<e.array.length;if(!u&&void 0===i)return e;if(n>0){var l=e&&e.array[s],c=Et(l,t,n-m,r,i,o);return c===l?e:((a=xt(e,t)).array[s]=c,a)}return u&&e.array[s]===i?e:(k(o),a=xt(e,t),void 0===i&&s===a.array.length-1?a.array.pop():a.array[s]=i,a)}function xt(e,t){return t&&e&&t===e.ownerID?e:new gt(e?e.array.slice():[],t)}function St(e,t){if(t>=Ct(e._capacity))return e._tail;if(t<1<<e._level+m){for(var n=e._root,r=e._level;n&&r>0;)n=n.array[t>>>r&y],r-=m;return n}}function Mt(e,t,n){void 0!==t&&(t|=0),void 0!==n&&(n|=0);var r=e.__ownerID||new E,i=e._origin,o=e._capacity,a=i+t,s=void 0===n?o:n<0?o+n:i+n;if(a===i&&s===o)return e;if(a>=s)return e.clear();for(var u=e._level,l=e._root,c=0;a+c<0;)l=new gt(l&&l.array.length?[void 0,l]:[],r),c+=1<<(u+=m);c&&(a+=c,i+=c,s+=c,o+=c);for(var d=Ct(o),f=Ct(s);f>=1<<u+m;)l=new gt(l&&l.array.length?[l]:[],r),u+=m;var h=e._tail,p=f<d?St(e,s-1):f>d?new gt([],r):h;if(h&&f>d&&a<o&&h.array.length){for(var g=l=xt(l,r),v=u;v>m;v-=m){var b=d>>>v&y;g=g.array[b]=xt(g.array[b],r)}g.array[d>>>m&y]=h}if(s<o&&(p=p&&p.removeAfter(r,0,s)),a>=f)a-=f,s-=f,u=m,l=null,p=p&&p.removeBefore(r,0,a);else if(a>i||f<d){for(c=0;l;){var _=a>>>u&y;if(_!==f>>>u&y)break;_&&(c+=(1<<u)*_),u-=m,l=l.array[_]}l&&a>i&&(l=l.removeBefore(r,u,a-c)),l&&f<d&&(l=l.removeAfter(r,u,f-c)),c&&(a-=c,s-=c)}return e.__ownerID?(e.size=s-a,e._origin=a,e._capacity=s,e._level=u,e._root=l,e._tail=p,e.__hash=void 0,e.__altered=!0,e):wt(a,s,u,l,p)}function Tt(e,t,n){for(var r=[],o=0,s=0;s<n.length;s++){var u=n[s],l=i(u);l.size>o&&(o=l.size),a(u)||(l=l.map(function(e){return de(e)})),r.push(l)}return o>e.size&&(e=e.setSize(o)),at(e,t,r)}function Ct(e){return e<g?0:e-1>>>m<<m}function At(e){return null===e||void 0===e?Lt():Ot(e)?e:Lt().withMutations(function(t){var n=r(e);Re(n.size),n.forEach(function(e,n){return t.set(n,e)})})}function Ot(e){return Ye(e)&&c(e)}function Nt(e,t,n,r){var i=Object.create(At.prototype);return i.size=e?e.size:0,i._map=e,i._list=t,i.__ownerID=n,i.__hash=r,i}function Lt(){return vt||(vt=Nt(Qe(),kt()))}function jt(e,t,n){var r,i,o=e._map,a=e._list,s=o.get(t),u=void 0!==s;if(n===v){if(!u)return e;a.size>=g&&a.size>=2*o.size?(r=(i=a.filter(function(e,t){return void 0!==e&&s!==t})).toKeyedSeq().map(function(e){return e[0]}).flip().toMap(),e.__ownerID&&(r.__ownerID=i.__ownerID=e.__ownerID)):(r=o.remove(t),i=s===a.size-1?a.pop():a.set(s,void 0))}else if(u){if(n===a.get(s)[1])return e;r=o,i=a.set(s,[t,n])}else r=o.set(t,a.size),i=a.set(a.size,[t,n]);return e.__ownerID?(e.size=r.size,e._map=r,e._list=i,e.__hash=void 0,e):Nt(r,i)}function Pt(e,t){this._iter=e,this._useKeys=t,this.size=e.size}function Dt(e){this._iter=e,this.size=e.size}function It(e){this._iter=e,this.size=e.size}function Rt(e){this._iter=e,this.size=e.size}function Ft(e){var t=Zt(e);return t._iter=e,t.size=e.size,t.flip=function(){return e},t.reverse=function(){var t=e.reverse.apply(this);return t.flip=function(){return e.reverse()},t},t.has=function(t){return e.includes(t)},t.includes=function(t){return e.has(t)},t.cacheResult=en,t.__iterateUncached=function(t,n){var r=this;return e.__iterate(function(e,n){return!1!==t(n,e,r)},n)},t.__iteratorUncached=function(t,n){if(t===P){var r=e.__iterator(t,n);return new F(function(){var e=r.next();if(!e.done){var t=e.value[0];e.value[0]=e.value[1],e.value[1]=t}return e})}return e.__iterator(t===j?L:j,n)},t}function Yt(e,t,n){var r=Zt(e);return r.size=e.size,r.has=function(t){return e.has(t)},r.get=function(r,i){var o=e.get(r,v);return o===v?i:t.call(n,o,r,e)},r.__iterateUncached=function(r,i){var o=this;return e.__iterate(function(e,i,a){return!1!==r(t.call(n,e,i,a),i,o)},i)},r.__iteratorUncached=function(r,i){var o=e.__iterator(P,i);return new F(function(){var i=o.next();if(i.done)return i;var a=i.value,s=a[0];return Y(r,s,t.call(n,a[1],s,e),i)})},r}function Bt(e,t){var n=Zt(e);return n._iter=e,n.size=e.size,n.reverse=function(){return e},e.flip&&(n.flip=function(){var t=Ft(e);return t.reverse=function(){return e.flip()},t}),n.get=function(n,r){return e.get(t?n:-1-n,r)},n.has=function(n){return e.has(t?n:-1-n)},n.includes=function(t){return e.includes(t)},n.cacheResult=en,n.__iterate=function(t,n){var r=this;return e.__iterate(function(e,n){return t(e,n,r)},!n)},n.__iterator=function(t,n){return e.__iterator(t,!n)},n}function Ht(e,t,n,r){var i=Zt(e);return r&&(i.has=function(r){var i=e.get(r,v);return i!==v&&!!t.call(n,i,r,e)},i.get=function(r,i){var o=e.get(r,v);return o!==v&&t.call(n,o,r,e)?o:i}),i.__iterateUncached=function(i,o){var a=this,s=0;return e.__iterate(function(e,o,u){if(t.call(n,e,o,u))return s++,i(e,r?o:s-1,a)},o),s},i.__iteratorUncached=function(i,o){var a=e.__iterator(P,o),s=0;return new F(function(){for(;;){var o=a.next();if(o.done)return o;var u=o.value,l=u[0],c=u[1];if(t.call(n,c,l,e))return Y(i,r?l:s++,c,o)}})},i}function zt(e,t,n,r){var i=e.size;if(void 0!==t&&(t|=0),void 0!==n&&(n===1/0?n=i:n|=0),C(t,n,i))return e;var o=A(t,i),a=O(n,i);if(o!=o||a!=a)return zt(e.toSeq().cacheResult(),t,n,r);var s,u=a-o;u==u&&(s=u<0?0:u);var l=Zt(e);return l.size=0===s?s:e.size&&s||void 0,!r&&ie(e)&&s>=0&&(l.get=function(t,n){return(t=M(this,t))>=0&&t<s?e.get(t+o,n):n}),l.__iterateUncached=function(t,n){var i=this;if(0===s)return 0;if(n)return this.cacheResult().__iterate(t,n);var a=0,u=!0,l=0;return e.__iterate(function(e,n){if(!u||!(u=a++<o))return l++,!1!==t(e,r?n:l-1,i)&&l!==s}),l},l.__iteratorUncached=function(t,n){if(0!==s&&n)return this.cacheResult().__iterator(t,n);var i=0!==s&&e.__iterator(t,n),a=0,u=0;return new F(function(){for(;a++<o;)i.next();if(++u>s)return{value:void 0,done:!0};var e=i.next();return r||t===j?e:Y(t,u-1,t===L?void 0:e.value[1],e)})},l}function Wt(e,t,n,r){var i=Zt(e);return i.__iterateUncached=function(i,o){var a=this;if(o)return this.cacheResult().__iterate(i,o);var s=!0,u=0;return e.__iterate(function(e,o,l){if(!s||!(s=t.call(n,e,o,l)))return u++,i(e,r?o:u-1,a)}),u},i.__iteratorUncached=function(i,o){var a=this;if(o)return this.cacheResult().__iterator(i,o);var s=e.__iterator(P,o),u=!0,l=0;return new F(function(){var e,o,c;do{if((e=s.next()).done)return r||i===j?e:Y(i,l++,i===L?void 0:e.value[1],e);var d=e.value;o=d[0],c=d[1],u&&(u=t.call(n,c,o,a))}while(u);return i===P?e:Y(i,o,c,e)})},i}function Ut(e,t,n){var r=Zt(e);return r.__iterateUncached=function(r,i){var o=0,s=!1;return function e(u,l){var c=this;u.__iterate(function(i,u){return(!t||l<t)&&a(i)?e(i,l+1):!1===r(i,n?u:o++,c)&&(s=!0),!s},i)}(e,0),o},r.__iteratorUncached=function(r,i){var o=e.__iterator(r,i),s=[],u=0;return new F(function(){for(;o;){var e=o.next();if(!1===e.done){var l=e.value;if(r===P&&(l=l[1]),t&&!(s.length<t)||!a(l))return n?e:Y(r,u++,l,e);s.push(o),o=l.__iterator(r,i)}else o=s.pop()}return{value:void 0,done:!0}})},r}function Vt(e,t,n){t||(t=tn);var r=s(e),i=0,o=e.toSeq().map(function(t,r){return[r,t,i++,n?n(t,r,e):t]}).toArray();return o.sort(function(e,n){return t(e[3],n[3])||e[2]-n[2]}).forEach(r?function(e,t){o[t].length=2}:function(e,t){o[t]=e[1]}),r?q(o):u(e)?K(o):$(o)}function Gt(e,t,n){if(t||(t=tn),n){var r=e.toSeq().map(function(t,r){return[t,n(t,r,e)]}).reduce(function(e,n){return qt(t,e[1],n[1])?n:e});return r&&r[0]}return e.reduce(function(e,n){return qt(t,e,n)?n:e})}function qt(e,t,n){var r=e(n,t);return 0===r&&n!==t&&(void 0===n||null===n||n!=n)||r>0}function Kt(e,t,r){var i=Zt(e);return i.size=new ee(r).map(function(e){return e.size}).min(),i.__iterate=function(e,t){for(var n,r=this.__iterator(j,t),i=0;!(n=r.next()).done&&!1!==e(n.value,i++,this););return i},i.__iteratorUncached=function(e,i){var o=r.map(function(e){return e=n(e),W(i?e.reverse():e)}),a=0,s=!1;return new F(function(){var n;return s||(n=o.map(function(e){return e.next()}),s=n.some(function(e){return e.done})),s?{value:void 0,done:!0}:Y(e,a++,t.apply(null,n.map(function(e){return e.value})))})},i}function $t(e,t){return ie(e)?t:e.constructor(t)}function Xt(e){if(e!==Object(e))throw new TypeError("Expected [K, V] tuple: "+e)}function Jt(e){return Re(e.size),S(e)}function Qt(e){return s(e)?r:u(e)?i:o}function Zt(e){return Object.create((s(e)?q:u(e)?K:$).prototype)}function en(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):G.prototype.cacheResult.call(this)}function tn(e,t){return e>t?1:e<t?-1:0}function nn(e){var t=W(e);if(!t){if(!V(e))throw new TypeError("Expected iterable or array-like: "+e);t=W(n(e))}return t}function rn(e,t){var n,r=function(o){if(o instanceof r)return o;if(!(this instanceof r))return new r(o);if(!n){n=!0;var a=Object.keys(e);!function(e,t){try{t.forEach(function(e,t){Object.defineProperty(e,t,{get:function(){return this.get(t)},set:function(e){ye(this.__ownerID,"Cannot set on an immutable record."),this.set(t,e)}})}.bind(void 0,e))}catch(e){}}(i,a),i.size=a.length,i._name=t,i._keys=a,i._defaultValues=e}this._map=Fe(o)},i=r.prototype=Object.create(on);return i.constructor=r,r}t(At,Fe),At.of=function(){return this(arguments)},At.prototype.toString=function(){return this.__toString("OrderedMap {","}")},At.prototype.get=function(e,t){var n=this._map.get(e);return void 0!==n?this._list.get(n)[1]:t},At.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this):Lt()},At.prototype.set=function(e,t){return jt(this,e,t)},At.prototype.remove=function(e){return jt(this,e,v)},At.prototype.wasAltered=function(){return this._map.wasAltered()||this._list.wasAltered()},At.prototype.__iterate=function(e,t){var n=this;return this._list.__iterate(function(t){return t&&e(t[1],t[0],n)},t)},At.prototype.__iterator=function(e,t){return this._list.fromEntrySeq().__iterator(e,t)},At.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map.__ensureOwner(e),n=this._list.__ensureOwner(e);return e?Nt(t,n,e,this.__hash):(this.__ownerID=e,this._map=t,this._list=n,this)},At.isOrderedMap=Ot,At.prototype[p]=!0,At.prototype.delete=At.prototype.remove,t(Pt,q),Pt.prototype.get=function(e,t){return this._iter.get(e,t)},Pt.prototype.has=function(e){return this._iter.has(e)},Pt.prototype.valueSeq=function(){return this._iter.valueSeq()},Pt.prototype.reverse=function(){var e=this,t=Bt(this,!0);return this._useKeys||(t.valueSeq=function(){return e._iter.toSeq().reverse()}),t},Pt.prototype.map=function(e,t){var n=this,r=Yt(this,e,t);return this._useKeys||(r.valueSeq=function(){return n._iter.toSeq().map(e,t)}),r},Pt.prototype.__iterate=function(e,t){var n,r=this;return this._iter.__iterate(this._useKeys?function(t,n){return e(t,n,r)}:(n=t?Jt(this):0,function(i){return e(i,t?--n:n++,r)}),t)},Pt.prototype.__iterator=function(e,t){if(this._useKeys)return this._iter.__iterator(e,t);var n=this._iter.__iterator(j,t),r=t?Jt(this):0;return new F(function(){var i=n.next();return i.done?i:Y(e,t?--r:r++,i.value,i)})},Pt.prototype[p]=!0,t(Dt,K),Dt.prototype.includes=function(e){return this._iter.includes(e)},Dt.prototype.__iterate=function(e,t){var n=this,r=0;return this._iter.__iterate(function(t){return e(t,r++,n)},t)},Dt.prototype.__iterator=function(e,t){var n=this._iter.__iterator(j,t),r=0;return new F(function(){var t=n.next();return t.done?t:Y(e,r++,t.value,t)})},t(It,$),It.prototype.has=function(e){return this._iter.includes(e)},It.prototype.__iterate=function(e,t){var n=this;return this._iter.__iterate(function(t){return e(t,t,n)},t)},It.prototype.__iterator=function(e,t){var n=this._iter.__iterator(j,t);return new F(function(){var t=n.next();return t.done?t:Y(e,t.value,t.value,t)})},t(Rt,q),Rt.prototype.entrySeq=function(){return this._iter.toSeq()},Rt.prototype.__iterate=function(e,t){var n=this;return this._iter.__iterate(function(t){if(t){Xt(t);var r=a(t);return e(r?t.get(1):t[1],r?t.get(0):t[0],n)}},t)},Rt.prototype.__iterator=function(e,t){var n=this._iter.__iterator(j,t);return new F(function(){for(;;){var t=n.next();if(t.done)return t;var r=t.value;if(r){Xt(r);var i=a(r);return Y(e,i?r.get(0):r[0],i?r.get(1):r[1],t)}}})},Dt.prototype.cacheResult=Pt.prototype.cacheResult=It.prototype.cacheResult=Rt.prototype.cacheResult=en,t(rn,_e),rn.prototype.toString=function(){return this.__toString(sn(this)+" {","}")},rn.prototype.has=function(e){return this._defaultValues.hasOwnProperty(e)},rn.prototype.get=function(e,t){if(!this.has(e))return t;var n=this._defaultValues[e];return this._map?this._map.get(e,n):n},rn.prototype.clear=function(){if(this.__ownerID)return this._map&&this._map.clear(),this;var e=this.constructor;return e._empty||(e._empty=an(this,Qe()))},rn.prototype.set=function(e,t){if(!this.has(e))throw new Error('Cannot set unknown key "'+e+'" on '+sn(this));if(this._map&&!this._map.has(e)&&t===this._defaultValues[e])return this;var n=this._map&&this._map.set(e,t);return this.__ownerID||n===this._map?this:an(this,n)},rn.prototype.remove=function(e){if(!this.has(e))return this;var t=this._map&&this._map.remove(e);return this.__ownerID||t===this._map?this:an(this,t)},rn.prototype.wasAltered=function(){return this._map.wasAltered()},rn.prototype.__iterator=function(e,t){var n=this;return r(this._defaultValues).map(function(e,t){return n.get(t)}).__iterator(e,t)},rn.prototype.__iterate=function(e,t){var n=this;return r(this._defaultValues).map(function(e,t){return n.get(t)}).__iterate(e,t)},rn.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map&&this._map.__ensureOwner(e);return e?an(this,t,e):(this.__ownerID=e,this._map=t,this)};var on=rn.prototype;function an(e,t,n){var r=Object.create(Object.getPrototypeOf(e));return r._map=t,r.__ownerID=n,r}function sn(e){return e._name||e.constructor.name||"Record"}function un(e){return null===e||void 0===e?mn():ln(e)&&!c(e)?e:mn().withMutations(function(t){var n=o(e);Re(n.size),n.forEach(function(e){return t.add(e)})})}function ln(e){return!(!e||!e[dn])}on.delete=on.remove,on.deleteIn=on.removeIn=ze.removeIn,on.merge=ze.merge,on.mergeWith=ze.mergeWith,on.mergeIn=ze.mergeIn,on.mergeDeep=ze.mergeDeep,on.mergeDeepWith=ze.mergeDeepWith,on.mergeDeepIn=ze.mergeDeepIn,on.setIn=ze.setIn,on.update=ze.update,on.updateIn=ze.updateIn,on.withMutations=ze.withMutations,on.asMutable=ze.asMutable,on.asImmutable=ze.asImmutable,t(un,ke),un.of=function(){return this(arguments)},un.fromKeys=function(e){return this(r(e).keySeq())},un.prototype.toString=function(){return this.__toString("Set {","}")},un.prototype.has=function(e){return this._map.has(e)},un.prototype.add=function(e){return hn(this,this._map.set(e,!0))},un.prototype.remove=function(e){return hn(this,this._map.remove(e))},un.prototype.clear=function(){return hn(this,this._map.clear())},un.prototype.union=function(){var t=e.call(arguments,0);return 0===(t=t.filter(function(e){return 0!==e.size})).length?this:0!==this.size||this.__ownerID||1!==t.length?this.withMutations(function(e){for(var n=0;n<t.length;n++)o(t[n]).forEach(function(t){return e.add(t)})}):this.constructor(t[0])},un.prototype.intersect=function(){var t=e.call(arguments,0);if(0===t.length)return this;t=t.map(function(e){return o(e)});var n=this;return this.withMutations(function(e){n.forEach(function(n){t.every(function(e){return e.includes(n)})||e.remove(n)})})},un.prototype.subtract=function(){var t=e.call(arguments,0);if(0===t.length)return this;t=t.map(function(e){return o(e)});var n=this;return this.withMutations(function(e){n.forEach(function(n){t.some(function(e){return e.includes(n)})&&e.remove(n)})})},un.prototype.merge=function(){return this.union.apply(this,arguments)},un.prototype.mergeWith=function(t){var n=e.call(arguments,1);return this.union.apply(this,n)},un.prototype.sort=function(e){return gn(Vt(this,e))},un.prototype.sortBy=function(e,t){return gn(Vt(this,t,e))},un.prototype.wasAltered=function(){return this._map.wasAltered()},un.prototype.__iterate=function(e,t){var n=this;return this._map.__iterate(function(t,r){return e(r,r,n)},t)},un.prototype.__iterator=function(e,t){return this._map.map(function(e,t){return t}).__iterator(e,t)},un.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map.__ensureOwner(e);return e?this.__make(t,e):(this.__ownerID=e,this._map=t,this)},un.isSet=ln;var cn,dn="@@__IMMUTABLE_SET__@@",fn=un.prototype;function hn(e,t){return e.__ownerID?(e.size=t.size,e._map=t,e):t===e._map?e:0===t.size?e.__empty():e.__make(t)}function pn(e,t){var n=Object.create(fn);return n.size=e?e.size:0,n._map=e,n.__ownerID=t,n}function mn(){return cn||(cn=pn(Qe()))}function gn(e){return null===e||void 0===e?wn():yn(e)?e:wn().withMutations(function(t){var n=o(e);Re(n.size),n.forEach(function(e){return t.add(e)})})}function yn(e){return ln(e)&&c(e)}fn[dn]=!0,fn.delete=fn.remove,fn.mergeDeep=fn.merge,fn.mergeDeepWith=fn.mergeWith,fn.withMutations=ze.withMutations,fn.asMutable=ze.asMutable,fn.asImmutable=ze.asImmutable,fn.__empty=mn,fn.__make=pn,t(gn,un),gn.of=function(){return this(arguments)},gn.fromKeys=function(e){return this(r(e).keySeq())},gn.prototype.toString=function(){return this.__toString("OrderedSet {","}")},gn.isOrderedSet=yn;var vn,bn=gn.prototype;function _n(e,t){var n=Object.create(bn);return n.size=e?e.size:0,n._map=e,n.__ownerID=t,n}function wn(){return vn||(vn=_n(Lt()))}function kn(e){return null===e||void 0===e?Cn():En(e)?e:Cn().unshiftAll(e)}function En(e){return!(!e||!e[Sn])}bn[p]=!0,bn.__empty=wn,bn.__make=_n,t(kn,we),kn.of=function(){return this(arguments)},kn.prototype.toString=function(){return this.__toString("Stack [","]")},kn.prototype.get=function(e,t){var n=this._head;for(e=M(this,e);n&&e--;)n=n.next;return n?n.value:t},kn.prototype.peek=function(){return this._head&&this._head.value},kn.prototype.push=function(){if(0===arguments.length)return this;for(var e=this.size+arguments.length,t=this._head,n=arguments.length-1;n>=0;n--)t={value:arguments[n],next:t};return this.__ownerID?(this.size=e,this._head=t,this.__hash=void 0,this.__altered=!0,this):Tn(e,t)},kn.prototype.pushAll=function(e){if(0===(e=i(e)).size)return this;Re(e.size);var t=this.size,n=this._head;return e.reverse().forEach(function(e){t++,n={value:e,next:n}}),this.__ownerID?(this.size=t,this._head=n,this.__hash=void 0,this.__altered=!0,this):Tn(t,n)},kn.prototype.pop=function(){return this.slice(1)},kn.prototype.unshift=function(){return this.push.apply(this,arguments)},kn.prototype.unshiftAll=function(e){return this.pushAll(e)},kn.prototype.shift=function(){return this.pop.apply(this,arguments)},kn.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):Cn()},kn.prototype.slice=function(e,t){if(C(e,t,this.size))return this;var n=A(e,this.size);if(O(t,this.size)!==this.size)return we.prototype.slice.call(this,e,t);for(var r=this.size-n,i=this._head;n--;)i=i.next;return this.__ownerID?(this.size=r,this._head=i,this.__hash=void 0,this.__altered=!0,this):Tn(r,i)},kn.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?Tn(this.size,this._head,e,this.__hash):(this.__ownerID=e,this.__altered=!1,this)},kn.prototype.__iterate=function(e,t){if(t)return this.reverse().__iterate(e);for(var n=0,r=this._head;r&&!1!==e(r.value,n++,this);)r=r.next;return n},kn.prototype.__iterator=function(e,t){if(t)return this.reverse().__iterator(e);var n=0,r=this._head;return new F(function(){if(r){var t=r.value;return r=r.next,Y(e,n++,t)}return{value:void 0,done:!0}})},kn.isStack=En;var xn,Sn="@@__IMMUTABLE_STACK__@@",Mn=kn.prototype;function Tn(e,t,n,r){var i=Object.create(Mn);return i.size=e,i._head=t,i.__ownerID=n,i.__hash=r,i.__altered=!1,i}function Cn(){return xn||(xn=Tn(0))}function An(e,t){var n=function(n){e.prototype[n]=t[n]};return Object.keys(t).forEach(n),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(t).forEach(n),e}Mn[Sn]=!0,Mn.withMutations=ze.withMutations,Mn.asMutable=ze.asMutable,Mn.asImmutable=ze.asImmutable,Mn.wasAltered=ze.wasAltered,n.Iterator=F,An(n,{toArray:function(){Re(this.size);var e=new Array(this.size||0);return this.valueSeq().__iterate(function(t,n){e[n]=t}),e},toIndexedSeq:function(){return new Dt(this)},toJS:function(){return this.toSeq().map(function(e){return e&&"function"==typeof e.toJS?e.toJS():e}).__toJS()},toJSON:function(){return this.toSeq().map(function(e){return e&&"function"==typeof e.toJSON?e.toJSON():e}).__toJS()},toKeyedSeq:function(){return new Pt(this,!0)},toMap:function(){return Fe(this.toKeyedSeq())},toObject:function(){Re(this.size);var e={};return this.__iterate(function(t,n){e[n]=t}),e},toOrderedMap:function(){return At(this.toKeyedSeq())},toOrderedSet:function(){return gn(s(this)?this.valueSeq():this)},toSet:function(){return un(s(this)?this.valueSeq():this)},toSetSeq:function(){return new It(this)},toSeq:function(){return u(this)?this.toIndexedSeq():s(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return kn(s(this)?this.valueSeq():this)},toList:function(){return ft(s(this)?this.valueSeq():this)},toString:function(){return"[Iterable]"},__toString:function(e,t){return 0===this.size?e+t:e+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+t},concat:function(){return $t(this,function(e,t){var n=s(e),i=[e].concat(t).map(function(e){return a(e)?n&&(e=r(e)):e=n?ae(e):se(Array.isArray(e)?e:[e]),e}).filter(function(e){return 0!==e.size});if(0===i.length)return e;if(1===i.length){var o=i[0];if(o===e||n&&s(o)||u(e)&&u(o))return o}var l=new ee(i);return n?l=l.toKeyedSeq():u(e)||(l=l.toSetSeq()),(l=l.flatten(!0)).size=i.reduce(function(e,t){if(void 0!==e){var n=t.size;if(void 0!==n)return e+n}},0),l}(this,e.call(arguments,0)))},includes:function(e){return this.some(function(t){return pe(t,e)})},entries:function(){return this.__iterator(P)},every:function(e,t){Re(this.size);var n=!0;return this.__iterate(function(r,i,o){if(!e.call(t,r,i,o))return n=!1,!1}),n},filter:function(e,t){return $t(this,Ht(this,e,t,!0))},find:function(e,t,n){var r=this.findEntry(e,t);return r?r[1]:n},forEach:function(e,t){return Re(this.size),this.__iterate(t?e.bind(t):e)},join:function(e){Re(this.size),e=void 0!==e?""+e:",";var t="",n=!0;return this.__iterate(function(r){n?n=!1:t+=e,t+=null!==r&&void 0!==r?r.toString():""}),t},keys:function(){return this.__iterator(L)},map:function(e,t){return $t(this,Yt(this,e,t))},reduce:function(e,t,n){var r,i;return Re(this.size),arguments.length<2?i=!0:r=t,this.__iterate(function(t,o,a){i?(i=!1,r=t):r=e.call(n,r,t,o,a)}),r},reduceRight:function(e,t,n){var r=this.toKeyedSeq().reverse();return r.reduce.apply(r,arguments)},reverse:function(){return $t(this,Bt(this,!0))},slice:function(e,t){return $t(this,zt(this,e,t,!0))},some:function(e,t){return!this.every(Pn(e),t)},sort:function(e){return $t(this,Vt(this,e))},values:function(){return this.__iterator(j)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return void 0!==this.size?0===this.size:!this.some(function(){return!0})},count:function(e,t){return S(e?this.toSeq().filter(e,t):this)},countBy:function(e,t){return function(e,t,n){var r=Fe().asMutable();return e.__iterate(function(i,o){r.update(t.call(n,i,o,e),0,function(e){return e+1})}),r.asImmutable()}(this,e,t)},equals:function(e){return me(this,e)},entrySeq:function(){var e=this;if(e._cache)return new ee(e._cache);var t=e.toSeq().map(jn).toIndexedSeq();return t.fromEntrySeq=function(){return e.toSeq()},t},filterNot:function(e,t){return this.filter(Pn(e),t)},findEntry:function(e,t,n){var r=n;return this.__iterate(function(n,i,o){if(e.call(t,n,i,o))return r=[i,n],!1}),r},findKey:function(e,t){var n=this.findEntry(e,t);return n&&n[0]},findLast:function(e,t,n){return this.toKeyedSeq().reverse().find(e,t,n)},findLastEntry:function(e,t,n){return this.toKeyedSeq().reverse().findEntry(e,t,n)},findLastKey:function(e,t){return this.toKeyedSeq().reverse().findKey(e,t)},first:function(){return this.find(T)},flatMap:function(e,t){return $t(this,function(e,t,n){var r=Qt(e);return e.toSeq().map(function(i,o){return r(t.call(n,i,o,e))}).flatten(!0)}(this,e,t))},flatten:function(e){return $t(this,Ut(this,e,!0))},fromEntrySeq:function(){return new Rt(this)},get:function(e,t){return this.find(function(t,n){return pe(n,e)},void 0,t)},getIn:function(e,t){for(var n,r=this,i=nn(e);!(n=i.next()).done;){var o=n.value;if((r=r&&r.get?r.get(o,v):v)===v)return t}return r},groupBy:function(e,t){return function(e,t,n){var r=s(e),i=(c(e)?At():Fe()).asMutable();e.__iterate(function(o,a){i.update(t.call(n,o,a,e),function(e){return(e=e||[]).push(r?[a,o]:o),e})});var o=Qt(e);return i.map(function(t){return $t(e,o(t))})}(this,e,t)},has:function(e){return this.get(e,v)!==v},hasIn:function(e){return this.getIn(e,v)!==v},isSubset:function(e){return e="function"==typeof e.includes?e:n(e),this.every(function(t){return e.includes(t)})},isSuperset:function(e){return(e="function"==typeof e.isSubset?e:n(e)).isSubset(this)},keyOf:function(e){return this.findKey(function(t){return pe(t,e)})},keySeq:function(){return this.toSeq().map(Ln).toIndexedSeq()},last:function(){return this.toSeq().reverse().first()},lastKeyOf:function(e){return this.toKeyedSeq().reverse().keyOf(e)},max:function(e){return Gt(this,e)},maxBy:function(e,t){return Gt(this,t,e)},min:function(e){return Gt(this,e?Dn(e):Fn)},minBy:function(e,t){return Gt(this,t?Dn(t):Fn,e)},rest:function(){return this.slice(1)},skip:function(e){return this.slice(Math.max(0,e))},skipLast:function(e){return $t(this,this.toSeq().reverse().skip(e).reverse())},skipWhile:function(e,t){return $t(this,Wt(this,e,t,!0))},skipUntil:function(e,t){return this.skipWhile(Pn(e),t)},sortBy:function(e,t){return $t(this,Vt(this,t,e))},take:function(e){return this.slice(0,Math.max(0,e))},takeLast:function(e){return $t(this,this.toSeq().reverse().take(e).reverse())},takeWhile:function(e,t){return $t(this,function(e,t,n){var r=Zt(e);return r.__iterateUncached=function(r,i){var o=this;if(i)return this.cacheResult().__iterate(r,i);var a=0;return e.__iterate(function(e,i,s){return t.call(n,e,i,s)&&++a&&r(e,i,o)}),a},r.__iteratorUncached=function(r,i){var o=this;if(i)return this.cacheResult().__iterator(r,i);var a=e.__iterator(P,i),s=!0;return new F(function(){if(!s)return{value:void 0,done:!0};var e=a.next();if(e.done)return e;var i=e.value,u=i[0],l=i[1];return t.call(n,l,u,o)?r===P?e:Y(r,u,l,e):(s=!1,{value:void 0,done:!0})})},r}(this,e,t))},takeUntil:function(e,t){return this.takeWhile(Pn(e),t)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=function(e){if(e.size===1/0)return 0;var t=c(e),n=s(e),r=t?1:0;return function(e,t){return t=Ee(t,3432918353),t=Ee(t<<15|t>>>-15,461845907),t=Ee(t<<13|t>>>-13,5),t=Ee((t=(t+3864292196|0)^e)^t>>>16,2246822507),t=xe((t=Ee(t^t>>>13,3266489909))^t>>>16)}(e.__iterate(n?t?function(e,t){r=31*r+Yn(Se(e),Se(t))|0}:function(e,t){r=r+Yn(Se(e),Se(t))|0}:t?function(e){r=31*r+Se(e)|0}:function(e){r=r+Se(e)|0}),r)}(this))}});var On=n.prototype;On[d]=!0,On[R]=On.values,On.__toJS=On.toArray,On.__toStringMapper=In,On.inspect=On.toSource=function(){return this.toString()},On.chain=On.flatMap,On.contains=On.includes,An(r,{flip:function(){return $t(this,Ft(this))},mapEntries:function(e,t){var n=this,r=0;return $t(this,this.toSeq().map(function(i,o){return e.call(t,[o,i],r++,n)}).fromEntrySeq())},mapKeys:function(e,t){var n=this;return $t(this,this.toSeq().flip().map(function(r,i){return e.call(t,r,i,n)}).flip())}});var Nn=r.prototype;function Ln(e,t){return t}function jn(e,t){return[t,e]}function Pn(e){return function(){return!e.apply(this,arguments)}}function Dn(e){return function(){return-e.apply(this,arguments)}}function In(e){return"string"==typeof e?JSON.stringify(e):String(e)}function Rn(){return x(arguments)}function Fn(e,t){return e<t?1:e>t?-1:0}function Yn(e,t){return e^t+2654435769+(e<<6)+(e>>2)|0}return Nn[f]=!0,Nn[R]=On.entries,Nn.__toJS=On.toObject,Nn.__toStringMapper=function(e,t){return JSON.stringify(t)+": "+In(e)},An(i,{toKeyedSeq:function(){return new Pt(this,!1)},filter:function(e,t){return $t(this,Ht(this,e,t,!1))},findIndex:function(e,t){var n=this.findEntry(e,t);return n?n[0]:-1},indexOf:function(e){var t=this.keyOf(e);return void 0===t?-1:t},lastIndexOf:function(e){var t=this.lastKeyOf(e);return void 0===t?-1:t},reverse:function(){return $t(this,Bt(this,!1))},slice:function(e,t){return $t(this,zt(this,e,t,!1))},splice:function(e,t){var n=arguments.length;if(t=Math.max(0|t,0),0===n||2===n&&!t)return this;e=A(e,e<0?this.count():this.size);var r=this.slice(0,e);return $t(this,1===n?r:r.concat(x(arguments,2),this.slice(e+t)))},findLastIndex:function(e,t){var n=this.findLastEntry(e,t);return n?n[0]:-1},first:function(){return this.get(0)},flatten:function(e){return $t(this,Ut(this,e,!1))},get:function(e,t){return(e=M(this,e))<0||this.size===1/0||void 0!==this.size&&e>this.size?t:this.find(function(t,n){return n===e},void 0,t)},has:function(e){return(e=M(this,e))>=0&&(void 0!==this.size?this.size===1/0||e<this.size:-1!==this.indexOf(e))},interpose:function(e){return $t(this,function(e,t){var n=Zt(e);return n.size=e.size&&2*e.size-1,n.__iterateUncached=function(n,r){var i=this,o=0;return e.__iterate(function(e,r){return(!o||!1!==n(t,o++,i))&&!1!==n(e,o++,i)},r),o},n.__iteratorUncached=function(n,r){var i,o=e.__iterator(j,r),a=0;return new F(function(){return(!i||a%2)&&(i=o.next()).done?i:a%2?Y(n,a++,t):Y(n,a++,i.value,i)})},n}(this,e))},interleave:function(){var e=[this].concat(x(arguments)),t=Kt(this.toSeq(),K.of,e),n=t.flatten(!0);return t.size&&(n.size=t.size*e.length),$t(this,n)},keySeq:function(){return ve(0,this.size)},last:function(){return this.get(-1)},skipWhile:function(e,t){return $t(this,Wt(this,e,t,!1))},zip:function(){return $t(this,Kt(this,Rn,[this].concat(x(arguments))))},zipWith:function(e){var t=x(arguments);return t[0]=this,$t(this,Kt(this,e,t))}}),i.prototype[h]=!0,i.prototype[p]=!0,An(o,{get:function(e,t){return this.has(e)?e:t},includes:function(e){return this.has(e)},keySeq:function(){return this.valueSeq()}}),o.prototype.has=On.includes,o.prototype.contains=o.prototype.includes,An(q,r.prototype),An(K,i.prototype),An($,o.prototype),An(_e,r.prototype),An(we,i.prototype),An(ke,o.prototype),{Iterable:n,Seq:G,Collection:be,Map:Fe,OrderedMap:At,List:ft,Stack:kn,Set:un,OrderedSet:gn,Record:rn,Range:ve,Repeat:ge,is:pe,fromJS:de}},e.exports=r()},function(e,t){e.exports="attribute float size;\nattribute float alpha;\nattribute float icon;\nattribute vec3 customColor;\nattribute vec3 ringColor;\nvarying vec3 vColor;\nvarying vec3 rColor;\nvarying float vAlpha;\nvarying float vSize;\nvarying float vIcon;\nuniform float time;\nuniform  float iconColunm;\nvoid main() {\n    vColor = customColor;\n    rColor = ringColor;\n    vAlpha = alpha * time;\n    vIcon = icon;\n    vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n    vSize = size * ( 50.0 / -mvPosition.z ); \n    gl_PointSize = vSize * time;\n    gl_Position = projectionMatrix * mvPosition;\n} "},function(e,t){e.exports="uniform vec3 color;\nuniform float time;\nuniform sampler2D texture;\nuniform  float iconColunm;\nvarying vec3 vColor;\nvarying vec3 rColor;\nvarying float vAlpha;\nvarying float vSize;\nvarying float vIcon;//vIcon value 0.0 1.0 2.0 ...\nvoid main() {\n        gl_FragColor = vec4(vColor, vAlpha );\n        vec2 coord = vec2(gl_PointCoord.s,gl_PointCoord.t);\n        vec2 newCoord = coord/iconColunm;\n        float len = length(gl_PointCoord- vec2(0.5, 0.5));\n        float row = floor((vIcon + 1.0)/iconColunm-0.01);\n        float colum = mod(vIcon,iconColunm);\n        float divition = 1.0/iconColunm;\n        if(vColor.r == rColor.r && vColor.g == rColor.g && vColor.b == rColor.b)\n        {\n                //not set icon\n                if(vIcon == 0.0)\n                {\n                   gl_FragColor = gl_FragColor * texture2D( texture,vec2(newCoord.s,1.0-newCoord.t) + vec2(colum*divition, -row*divition) );\n                }\n                else\n                {\n                    gl_FragColor = gl_FragColor * texture2D( texture,vec2(newCoord.s,1.0-newCoord.t) + vec2(colum*divition, -row*divition) ) * vec4(1.0,1.0,1.0,vAlpha);\n                }\n        }\n        else\n        { \n                //selected color\n                if(vIcon == 0.0)\n                {\n                    gl_FragColor = gl_FragColor * texture2D( texture,vec2(newCoord.s,1.0-newCoord.t) + vec2(colum*divition, -row*divition) );\n                }\n                else\n                {\n                   gl_FragColor = gl_FragColor * texture2D( texture,vec2(newCoord.s,1.0-newCoord.t) + vec2(colum*divition, -row*divition) );\n                }\n        }\n\n        if ( gl_FragColor.a < ALPHATEST ) discard;\n}"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(23)),o=n(1272),a=n(2362),s=n(2363),u=f(n(44)),l=f(n(300)),c=f(n(287)),d=n(90);function f(e){return e&&e.__esModule?e:{default:e}}var h=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.toolType=o.TOOL_TYPES.None,n.mediaGroup=e,n.iconMap=[].concat(a.defaultIconMap),n.init(),n.updateToolsType(),u.default.on("change",n.updateToolsType.bind(n),"SelectedNodesVRTool"),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Group),r(t,[{key:"init",value:function(){var e=this;this.position.copy(new i.Vector3(-1,-1,2)),this.iconPostions=new Float32Array(45),this.icon=new Float32Array(15),this.iconEnable=new Float32Array(15),this.iconSelected=new Float32Array(15),this.iconOpacity=new Float32Array(15),this.geometry=new i.BufferGeometry,this.material=new i.ShaderMaterial({uniforms:{texture:{type:"t",value:(new i.TextureLoader).load("/public/images/tool-icons-sprites.png")}},vertexShader:n(2364),fragmentShader:n(2365),transparent:!0,alphaTest:.1}),this.geometry.addAttribute("position",new i.BufferAttribute(this.iconPostions,3)),this.geometry.addAttribute("icon",new i.BufferAttribute(this.icon,1)),this.geometry.addAttribute("iconEnable",new i.BufferAttribute(this.iconEnable,1)),this.geometry.addAttribute("iconSelected",new i.BufferAttribute(this.iconSelected,1)),this.geometry.addAttribute("iconOpacity",new i.BufferAttribute(this.iconOpacity,1)),this.points=new i.Points(this.geometry,this.material),this.points.frustumCulled=!1,this.points.visible=!0,this.points.name="navigation",a.menuIconMap.forEach(function(t,n){e.icon[n]=n}),this.add(this.points)}},{key:"updateToolsType",value:function(){var e=o.TOOL_TYPES.Default,t=u.default.singleNode;0==t.total?e=o.TOOL_TYPES.None:0==t.selectCount?e=o.TOOL_TYPES.Default:1==t.selectCount?e=o.TOOL_TYPES.SingleNode:t.selectCount>1&&(e=o.TOOL_TYPES.SelectNodes),this.toolType=e,this.updateToolBar(this.toolType),this.updateIconPosition(),this.updateAtrribute()}},{key:"updateIconPosition",value:function(){var e=this;this.icon.filter(function(t,n){return e.iconEnable[n]}).forEach(function(t,n){e.iconPostions[3*n]=.3*n,e.iconPostions[3*n+1]=0,e.iconPostions[3*n+2]=0})}},{key:"updateToolBar",value:function(e){switch(e){case o.TOOL_TYPES.Default:this.setDefautIcons();break;case o.TOOL_TYPES.SelectNodes:this.setSelectNodesIcons();break;case o.TOOL_TYPES.SingleNode:this.setSingleNodeIcons();break;default:this.disableAllIcons()}}},{key:"setDefautIcons",value:function(){var e=this;this.disableAllIcons(),this.iconMap=[].concat(a.defaultIconMap),this.iconMap.map(function(e){return a.menuIconMap.indexOf(e)}).forEach(function(t,n){e.icon[n]=t,e.iconEnable[n]=1,e.iconSelected[n]=0,e.iconOpacity[n]=1})}},{key:"disableAllIcons",value:function(){var e=this;this.iconEnable.forEach(function(t,n){e.iconEnable[n]=0,e.iconOpacity[n]=1,e.iconSelected[n]=0,e.iconPostions[3*n]=1e4,e.iconPostions[3*n+1]=1e4,e.iconPostions[3*n+2]=1e4})}},{key:"setSelectNodesIcons",value:function(){var e=this;this.disableAllIcons(),this.iconMap=[].concat(a.selectNodeIconMap),this.iconMap.map(function(e){return a.menuIconMap.indexOf(e)}).forEach(function(t,n){e.icon[n]=t,e.iconEnable[n]=1,e.iconSelected[n]=0,e.iconOpacity[n]=1})}},{key:"setSingleNodeIcons",value:function(){var e=this;this.disableAllIcons();var t=0;this.iconMap=[].concat(a.singleNodeIconMap),this.iconMap.map(function(e){return a.menuIconMap.indexOf(e)}).forEach(function(n,r){e.icon[r]=n,e.iconEnable[r]=1,e.iconSelected[t]=0,e.iconOpacity[r]=1,t++});var n=u.default.singleNode.node.data.detail.data,r=!1;(0,s.videoCheck)(n)&&(this.icon[t]=13,this.iconEnable[t]=1,this.iconSelected[t]=0,this.iconOpacity[t]=1,this.iconMap.push("video"),r=!0,t++),(0,s.imageCheck)(n)&&(this.icon[t]=5,this.iconEnable[t]=1,this.iconSelected[t]=0,this.iconOpacity[t]=1,this.iconMap.push("image"),r=!0,t++),(0,s.webLinkCheck)(n)&&!r&&(this.icon[t]=10,this.iconEnable[t]=1,this.iconSelected[t]=0,this.iconOpacity[t]=1,this.iconMap.push("link"),t++)}},{key:"updateAtrribute",value:function(){var e=this.geometry.attributes;e.position.needsUpdate=!0,e.icon.needsUpdate=!0,e.iconEnable.needsUpdate=!0,e.iconSelected.needsUpdate=!0,e.iconOpacity.needsUpdate=!0}},{key:"onPerformClick",value:function(e){var t=this.iconMap[e];this.onIntersectMenu(e),this.handleToolClick(t)}},{key:"onNotIntersectMenu",value:function(){this.cleanSelectedState()}},{key:"onIntersectMenu",value:function(e){this.updateSelectedMenu(e)}},{key:"updateSelectedMenu",value:function(e){this.iconSelected[e]=1,this.updateAtrribute()}},{key:"cleanSelectedState",value:function(){var e=this;this.iconSelected.forEach(function(t,n){e.iconSelected[n]=0}),this.updateAtrribute()}},{key:"handleToolClick",value:function(e){console.log("click vrtool:",e);switch(e){case o.TOOL_ITEMS.Clean:_app.store.dispatch(d.Actions.cleanGraph());break;case o.TOOL_ITEMS.Clear:break;case o.TOOL_ITEMS.LeafTrimming:_app.controller.drawing.toggleLeaf();break;case o.TOOL_ITEMS.Unpin:l.default.pinNodeIds(this.getSelectNodeIdsForPin(),!0);break;case o.TOOL_ITEMS.Pin:l.default.pinNodeIds(this.getSelectNodeIdsForPin(),!1);break;case o.TOOL_ITEMS.Inverse:c.default.inverseSelection.func();break;case o.TOOL_ITEMS.Expand:c.default.expandSelectedNodes.func();break;case o.TOOL_ITEMS.Delete:c.default.deleteSelectedNodes.func();break;case o.TOOL_ITEMS.FlyTo:var t=u.default.singleNode;t.node&&_app.store.dispatch(d.Actions.flyToNode(t.node.id));break;case o.TOOL_ITEMS.Info:var n=u.default.singleNode.node;if(!n)return void this.mediaGroup.closeMedia();this.mediaGroup.showInfo(n);break;case o.TOOL_ITEMS.TraceNeighbor:c.default.highlightSelectedNodeNeighbor.func();break;case o.TOOL_ITEMS.WebLink:var r=u.default.singleNode.node;if(!r)return void this.mediaGroup.closeMedia();var i=(0,s.webLinkCheck)(r.data.detail.data);this.mediaGroup.showWebLink(i);break;case o.TOOL_ITEMS.Image:var a=u.default.singleNode.node;if(!a)return void this.mediaGroup.closeMedia();var f=(0,s.imageCheck)(a.data.detail.data);this.mediaGroup.showImage(f);break;case o.TOOL_ITEMS.Video:var h=u.default.singleNode.node;if(!h)return void this.mediaGroup.closeMedia();var p=(0,s.videoCheck)(h.data.detail.data);this.mediaGroup.showVideo(p)}}},{key:"getSelectNodeIdsForPin",value:function(){var e=Object.keys(u.default.selectNodeIdsMap);return 0==_.size(e)&&(e=u.default.layoutNodeIds),e}}]),t}();t.default=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.menuIconMap=["delete","clean","tag","pin","expand","image","info","un-pin","inverse","leaf-trimming","link","fly-to","trace-neighbor","video","annotate"],t.defaultIconMap=["pin","leaf-trimming","clean"],t.singleNodeIconMap=["pin","un-pin","delete","clean","expand","info","inverse","fly-to","leaf-trimming","trace-neighbor"],t.selectNodeIconMap=["delete","clean","pin","un-pin","expand","inverse","leaf-trimming"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.webLinkCheck=function(e){return _.find(e,function(e,t){return/url|link/i.test(t)||/^(http(s)?:\/\/|www\.).+\..+/i.test(e)})},t.videoCheck=function(e){return _.find(e,function(e,t){return/video/i.test(t)||/^(http(s)|ftp)?:\/\/.+\.mp4/i.test(e)||/^(http(s):\/\/)?(www\.)?youtu(be.com\/watch\?v\=|\.be\/).+/i.test(e)})},t.imageCheck=function(e){return _.find(e,function(e,t){return/img|image|picture|avatar|photo/i.test(t)||/^(http(s)?|ftp):\/\/.+\.(jpg|jpeg|png|gif|bmp)/i.test(e)})},t.MediaType={NONE:0,WEBLINK:1,VIDEO:2,IMAGE:3}},function(e,t){e.exports="\nattribute float icon;\nattribute float iconEnable;\nattribute float iconOpacity;\nattribute float iconSelected;\n\nvarying float vIcon;\nvarying float vIconEnable;\nvarying float vIconOpacity;\nvarying float vIconSelected;\n\nvoid main() {\n\n    vIcon = icon;\n    vIconEnable = iconEnable;\n    vIconOpacity = iconOpacity;\n    vIconSelected = iconSelected;\n    vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n    gl_PointSize = 50.0;\n    gl_Position = projectionMatrix * mvPosition;\n} "},function(e,t){e.exports="uniform sampler2D texture;\nvarying float vIcon;//vIcon value 0.0 1.0 2.0 ..\nvarying float vIconEnable;\nvarying float vIconOpacity;\nvarying float vIconSelected;\nfloat kmod(float a,float b)\n{\n    return a - (b * (a/b));\n}\n\nvoid main() {\n        gl_FragColor = vec4(1.0,1.0,1.0,vIconOpacity);\n        vec2 coord = vec2(gl_PointCoord.s,gl_PointCoord.t);\n        vec2 newCoord = coord/4.0;\n        float len = length(gl_PointCoord- vec2(0.5, 0.5));\n        //add 0.001 to make row get right when vIcon == 4.0,otherwise it will get a strange problem\n        float row = floor((vIcon + 0.001)/4.0) * 1.0;\n        float colum = mod((vIcon + 0.001),4.0) * 1.0;\n\n        gl_FragColor = gl_FragColor * texture2D( texture,vec2(newCoord.s,1.0-newCoord.t) + vec2(colum*0.25, -row*0.25) );\n        //not used \n        if(vIconEnable == 0.0){\n                gl_FragColor = gl_FragColor * vec4(0.5,0.5,0.5,0.5);\n        }\n        if(vIconSelected == 1.0){\n                gl_FragColor = gl_FragColor * vec4(1.0,0.0,0.0,1.0);\n        } \n\n        if ( gl_FragColor.a < ALPHATEST ) discard;\n}"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(23)),o=n(660),a=u(n(1163)),s=u(n(1166));function u(e){return e&&e.__esModule?e:{default:e}}var l=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.parent=t,this.graph=n,this.camera=r,this.relationshipPositions={},this.relationships=[],this.relationshipsAlpha=[],this.relationshipNames=[],this.texts={},this.relationEdges=[],this.showEdges=[],this.updateGraph(this.graph)}return r(e,[{key:"updateHighlightNodeId",value:function(e){this.updateHighlightEdges(this.relationEdges.filter(function(e){return e.alpha>0}),!0),e?(this.relationEdges=this.graph.getEdgesToNode(this.graph.nodeSet[e]).filter(function(e){return e.alpha>0}),this.updateHighlightEdges(this.relationEdges),this.showEdges=this.relationEdges,this.showEdges.length>50&&(this.showEdges=this.showEdges.slice(0,50))):(this.showEdges=[],this.relationEdges=[])}},{key:"updateHighlightEdges",value:function(e,t){e&&Array.isArray(e)&&0!=e.length&&e.forEach(function(e){e.alpha=t?window.edgeAppha?window.edgeAppha:e.defaultAlpha:10})}},{key:"updateGraph",value:function(e){var t=this,n=this;this.relationships.forEach(function(e,r){var i=n.texts[e];if(i){var o=n.relationshipPositions[e],a=n.parent.worldToLocal(n.camera.position.clone());i.lookAt(a),i.position.copy(o),i.children.forEach(function(e){e.material.uniforms.opacity.value=t.relationshipsAlpha[r],e.material.uniforms.needsUpdate=!0,e.material.uniformsNeedUpdate=!0,e.material.needsUpdate=!0})}else n.createText(t.relationshipNames[r],500,function(t,r){var i=n.relationshipPositions[e];t.position.copy(i),n.texts[e]=t,n.parent.add(t)})})}},{key:"update",value:function(){var e=this;this.showEdges=this.showEdges.filter(function(t){return e.graph.visibleEdges.includes(t)}),this.showEdges.forEach(function(t){e.relationshipPositions[t.id]=t.source.position.clone().lerp(t.target.position,.5)}),this.relationships=this.showEdges.map(function(e){return e.id}),this.relationshipsAlpha=this.showEdges.map(function(e){return e.alpha}),this.relationshipNames=this.showEdges.map(function(e){return e.name?e.name:""}),this.clean()}},{key:"clean",value:function(){var e=this,t=this;Object.keys(this.texts).forEach(function(n){t.relationships.indexOf(n)<0&&(t.parent.remove(e.texts[n]),delete e.texts[n])})}},{key:"createText",value:function(e,t,n){if(e){var r=e.split(/[\s,\n]+/);r.length>2&&(r=r.slice(0,2)).push("..."),e=r.join(" ");var i=o.Font.getFont(),a=i.font,s=i.texure;this.createMesh(e,t,a,s,n)}}},{key:"createMesh",value:function(e,t,n,r,o){var u=(0,a.default)({text:e,font:n,flipY:!0,align:"center",width:t}),l=new i.RawShaderMaterial((0,s.default)({map:r,side:i.DoubleSide,transparent:!0,opacity:1,color:16777215})),c=u.layout,d=new i.Mesh(u,l);d.rotation.x=-Math.PI,d.position.x=-c._width/2,d.position.y=c.height/2;var f=new i.Object3D;f.scale.set(8e-4,8e-4,8e-4),f.add(d),f.userData.text=e,o(f,c)}}]),e}();t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={};switch(n(50).Config.layoutEngine){case"cpu":r=n(2368),console.log("Layout using CPU");break;case"worker":r=n(2370),console.log("Layout using Web Worker");break;case"cl":r=n(2372),console.log("Layout using openCL");break;case"d3-3D":r=n(2373),console.log("Layout using d3-3D");break;default:r=n(2376),console.log("Layout using d3")}t.default=r.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(2369),o=(r=i)&&r.__esModule?r:{default:r};var a={graph:null,layout_options:{},layout:null,init:function(e,t){this.graph=e,this.layout_options=t,console.log("Starting Layout..."),this.layout=null==this.layout?new o.default.ForceDirected(this.graph,this.layout_options):this.layout},updateLayoutOption:function(e,t){this.layout[e]=t,this.restart_layout()},render:function(){this.layout.finished||this.layout.generate()},start_layout:function(){this.layout.start()},stop_layout:function(){console.log("Stopping Layout..."),this.layout.stop_calculating()},restart_layout:function(){this.layout.restart_layout()},reset_graph_restart_layout:function(){this.layout.restart_layout()},set_node_position:function(e,t){this.graph.nodes[e].position.copy(t)},pin_node:function(e){this.graph.nodes[e].pinned=!0},unpin_node:function(e){this.graph.nodes[e].pinned=!1}};t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(23),i=i||{};i.ForceDirected=function(e,t){t=t||{},this.graph=e,this.width=t.width||200,this.height=t.height||200,this.finished=!1;var n=t.positionUpdated,i=void 0,o=void 0,a=void 0,s=0,u=0,l=void 0,c=void 0,d=0;this.set_options=function(e){this.force2d=void 0!=e.force2d&&e.force2d,this.attraction_multiplier=e.attraction||5,this.repulsion_multiplier=e.repulsion||.75,this.gravity_multiplier=e.gravity||1,this.gravity_center=new r.Vector3(0,0,0),void 0!=e.gravity_center&&this.gravity_center.copy(e.gravity_center),this.max_iterations=e.iterations||1e3,this.skip=e.skip||0},this.set_options(t),this.start=function(){this.finished=!1,s=0,u=this.width/10,l=this.graph.nodes.length,c=this.graph.edges.length,a=Math.sqrt(this.height*this.width/l),i=this.attraction_multiplier*a,o=this.repulsion_multiplier*a/Math.sqrt(1-this.skip),this.gravity_multiplier*a},this.restart_layout=function(){this.start()},this.reset_temperature=function(){u=this.width/10},this.generate=function(){if(!(s<this.max_iterations&&u>1e-6))return this.finished||console.log("Average time: "+d/s+" ms"),this.finished=!0,!1;for(var t=(new Date).getTime(),a=0;a<l;a++){var f=e.nodes[a];f.layout=f.layout||{},0==a&&(f.layout.offset=f.layout.offset||new r.Vector3(0,0,0),f.layout.offset.set(0,0,0)),f.layout.tmp_pos=f.layout.tmp_pos||f.position.clone(),void 0!==f.pinned&&1==f.pinned&&f.layout.tmp_pos.copy(f.position);for(var h=a+1;h<l;h++)if(!(a>0&&Math.random()>1-this.skip)){var p=e.nodes[h];if(a!=h){p.layout=p.layout||{},p.layout.tmp_pos=p.layout.tmp_pos||p.position.clone();var m=f.layout.tmp_pos.clone().sub(p.layout.tmp_pos),g=o*o/m.length(),y=m.normalize().multiplyScalar(g);f.layout.offset.add(y),0==a&&(p.layout.offset=p.layout.offset||new r.Vector3(0,0,0),p.layout.offset.set(0,0,0)),p.layout.offset.sub(y)}}}for(var v=0;v<l;v++){var b=e.nodes[v],_=this.gravity_center.clone().sub(b.position),w=_.clone().normalize().multiplyScalar(Math.sqrt(_.length())*this.gravity_multiplier);b.layout.offset.add(w)}for(var k=0;k<c;k++){var E=e.edges[k];void 0!=E.source.layout&&void 0!=E.target.layout||console.log("some nodes are loose, check it");var x=E.source.layout.tmp_pos.clone().sub(E.target.layout.tmp_pos),S=Math.max(1e-6,x.length()),M=S*S/i,T=x.divideScalar(S).multiplyScalar(M);E.source.layout.offset.sub(T),E.target.layout.offset.add(T)}for(var C=0;C<l;C++){var A=e.nodes[C];if(void 0===A.pinned||1!=A.pinned){var O=Math.max(1e-6,A.layout.offset.length());A.layout.tmp_pos.add(A.layout.offset.divideScalar(O).multiplyScalar(Math.min(O,u)));this.force2d&&(A.layout.tmp_pos.z=0);var N=A.position.clone().sub(A.layout.tmp_pos).divideScalar(10);A.position.sub(N),"function"==typeof n&&n(A)}}u*=1-s/this.max_iterations,s++;var L=(new Date).getTime();return d+=L-t,!0},this.stop_calculating=function(){this.finished=!0,s=this.max_iterations},this.iteration_count=function(){return s}},t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2371);window.addEventListener("beforeunload",function(e){r&&r.terminate&&r.terminate()});var i={workerLayout:new r,graph:null,options:null,isFinish:!1,_enable:!0,cacheResLayoutNodes:null,pinNodes:{},init:function(e,t){var n=this;this.graph=e,this.options=t,this.workerLayout.onmessage||(this.workerLayout.onmessage=function(e){return n.handleMessage(e)}),this.workerLayout.postMessage({command:"init_graph",payload:{graph:this.graph.serialize(),options:this.options}})},initOrContinue:function(e,t){this.graph=e,this.options=t,this.workerLayout.onmessage||(this.workerLayout.onmessage=this.handleMessage.bind(this)),console.log("Init or continue Layout... with graph of "+this.graph.nodes.length+" nodes and "+this.graph.edges.length+" edges."),this.workerLayout.postMessage({command:"init_or_continue_graph",payload:{graph:this.graph.serialize(),options:this.options}})},handleMessage:function(e){var t=e.data,n=t.command,r=t.payload,i=t.isFinish;switch(n){case"new_position":this.cacheResLayoutNodes=r.layoutNodes,this.isFinish=i;break;case"new_stats":r.isStart&&this.handleStart?(this.handleStart(),this.isFinish=!1):r.isFinish&&this.handleStop&&(this.handleStop(),this.isFinish=!0);break;default:console.log(n,"not recognized")}},get enable(){return this._enable},set enable(e){this._enable=e,this.workerLayout.postMessage({command:"enable",payload:{enable:e}})},updateEnableWithNoLayout:function(e){this._enable=e,this.workerLayout.postMessage({command:"updateEnableWithNoLayout",payload:{enable:e}})},updateSeparateRegion:function(e){this.workerLayout.postMessage({command:"update_separate_region",payload:{separateRegion:e}})},updateRegionXScale:function(e){this.workerLayout.postMessage({command:"update_region_x_scale",payload:{regionXScale:e}})},updateLayoutOption:function(e,t){this.workerLayout.postMessage({command:"update_layout_option",payload:{id:e,value:t}})},updateRegionCenter:function(e,t){this.workerLayout.postMessage({command:"updateRegionCenter",payload:{regionCenter:e,defaultRegion:t}})},render:function(){if(this.cacheResLayoutNodes){var e=this.cacheResLayoutNodes;this.cacheResLayoutNodes=null,this.graph.updatePositionFromArray(e),this.graph.renderNeedsUpdate=!0}},start_layout:function(){this.workerLayout.postMessage({command:"start_layout",payload:{}})},stop_layout:function(){this.workerLayout.postMessage({command:"stop_layout",payload:{}})},restart_layout:function(){this.workerLayout.postMessage({command:"restart_layout",payload:{}})},set_node_position:function(e,t){t&&this.workerLayout.postMessage({command:"set_node_position",payload:{id:e,position:t}})},setNodesPositions:function(e,t){this.workerLayout.postMessage({command:"setNodesPositions",payload:{nodeIds:e,positions:t}})},pinNodeIds:function(e,t){var n=this;(e=!Array.isArray(e)&&this.id_map[e]>=0?[e]:e||[]).forEach(function(e){t||n.pinNodes[e]||!n.graph.nodeSet[e]?t&&n.pinNodes[e]&&delete n.pinNodes[e]:n.pinNodes[e]=n.graph.nodeSet[e].position.clone()}),this.workerLayout.postMessage({command:"pinNodeIds",payload:{nodeIds:e,isUnPin:t}})},pin_node:function(e){this.graph.nodeSet[e]&&(this.pinNodes[e]=this.graph.nodeSet[e].position.clone()),this.workerLayout.postMessage({command:"pin_node",payload:{id:e}})},pinAll:function(e){var t=this;e?this.graph.layoutNodes.forEach(function(e){t.pinNodes[e.id]=e.position.clone()}):this.pinNodes={},this.workerLayout.postMessage({command:"pin_all",payload:{isPin:e}})},unpin_node:function(e){this.pinNodes[e]&&delete this.pinNodes[e],this.workerLayout.postMessage({command:"unpin_node",payload:{id:e}})},clean_graph:function(){this.pinNodes={},this.workerLayout.postMessage({command:"clean_graph",payload:{}})},fix:function(e,t){this.workerLayout.postMessage({command:"fix",payload:{id:e,position:t}})},reset_graph_restart_layout:function(e){e&&(this.graph=e),this.workerLayout.postMessage({command:"reset_graph_restart_layout",payload:{graph:this.graph.serialize()}})}};t.default=i},function(e,t,n){e.exports=function(){return new Worker(n.p+"layoutWorker.worker.js")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=io();r.on("result",function(e){window.gResult=e,RootObj.drawing.graph.updatePositionFromArray(e.position),r.emit("ready",{})});t.default={}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(50),o=n(2374),a=(r=o)&&r.__esModule?r:{default:r};var s={handleStart:null,handleStop:null,graphD3Layout:{linkStrength:i.D3Sliders.linkStrength.defaultValue,linkDistance:i.D3Sliders.linkDistance.defaultValue,charge:i.D3Sliders.charge.defaultValue,gravity:i.D3Sliders.gravity.defaultValue,friction:i.D3Sliders.friction.defaultValue,heightCompress:i.D3Sliders.heightCompress.defaultValue},isDateChage:!1,isFinish:!1,force:null,nodes:[],links:[],graph:null,idMap:{},pinNodes:{},enable:!0,init:function(e,t){var n=this;this.graph=e,this.graphD3Layout=Object.assign({},this.graphD3Layout,t||{}),this.isDateChage=!1,this.isFinish=!1,this.nodes.length=0,this.idMap={},this.graph.layoutNodes.forEach(function(e,t){n.nodes.push({id:e.id,x:e.position.x,y:e.position.y,z:e.position.z}),n.idMap[e.id]=t}),this.links.length=0,this.links=this.graph.layoutEdges.map(function(e){return{source:n.idMap[e.sourceId],target:n.idMap[e.targetId]}}),console.log("initialize Layout..."),this.force&&(this.force.on("tick",null),this.force.on("end",null));var r=this.graphD3Layout.heightCompress;this.force?this.force.alpha()<=.5&&this.force.alpha(.6):(this.force=a.default.layout.force3D(),this.force.size([0,0,-1])),this.force.stop(),this.force.nodes(this.nodes).links(this.links).linkStrength(this.graphD3Layout.linkStrength).linkDistance(this.graphD3Layout.linkDistance).charge(this.graphD3Layout.charge).gravity(this.graphD3Layout.gravity).heightCompress(r).friction(this.graphD3Layout.friction).on("tick",function(){_.size(n.pinNodes)>0&&_.forEach(n.pinNodes,function(e,t){n.idMap[t]>=0&&n.idMap[t]<n.nodes.length&&(n.nodes[n.idMap[t]].x=e.x,n.nodes[n.idMap[t]].y=e.y,n.nodes[n.idMap[t]].z=e.z)}),n.isDateChage=!0,n.isFinish=!1}),this.enable?this.force.start():this.force.stop(),this.force.on("end",function(){n.isFinish=!0,n.handleStop&&n.handleStop()}),this.last_time_set=0},updateLayoutOption:function(e,t){this.graphD3Layout[e]=t,this.force[e](t),this.start_layout()},render:function(e){var t=this;this.enable&&(this.isDateChage||e)&&(this.isDateChage=!1,this.graph.layoutNodes.length>0&&this.nodes.forEach(function(e,n){t.graph.layoutNodes[n]&&(t.pinNodes[e.id]?(t.graph.layoutNodes[n].position.x=t.pinNodes[e.id].x,t.graph.layoutNodes[n].position.y=t.pinNodes[e.id].y,t.graph.layoutNodes[n].position.z=t.pinNodes[e.id].z):(t.graph.layoutNodes[n].position.x=e.x,t.graph.layoutNodes[n].position.y=e.y,t.graph.layoutNodes[n].position.z=e.z))}),null!==this.graph&&(this.graph.renderNeedsUpdate=!0))},start_layout:function(){this.handleStart&&this.handleStart(),this.isFinish=!1,this.isDateChage=!0,this.force&&(this.force.alpha(.1),this.force.start())},resume:function(){this.force&&this.force.resume()},stop_layout:function(){this.force&&(this.force.alpha(0),this.force.stop())},restart_layout:function(){this.isFinish=!1,this.force.alpha(.6),this.force.start(),this.render(!0)},reset_graph_restart_layout:function(e){var t=this;this.stop_layout(),this.isFinish=!1,e&&(this.graph=e);var n=this.nodes;this.nodes=[],this.graph.layoutNodes.forEach(function(e,r){t.idMap[e.id]<n.length&&n[t.idMap[e.id]]&&n[t.idMap[e.id]].id==e.id?t.nodes.push(n[t.idMap[e.id]]):(t.nodes.push({x:e.position.x,y:e.position.y,z:e.position.z}),t.idMap[e.id]=r)}),this.links=this.graph.layoutEdges.map(function(e){return{source:t.idMap[e.sourceId],target:t.idMap[e.targetId]}}),this.force.nodes(this.nodes).links(this.links).start()},setNodesPositions:function(e,t){var n=this;Array.isArray(e)&&Array.isArray(t)&&e.map(function(r,i){n.set_node_position(r,t[i],i!=e.length-1)})},set_node_position:function(e,t,n){t&&e&&(this.pinNodes[e]&&(this.pinNodes[e].x=t.x,this.pinNodes[e].y=t.y,this.pinNodes[e].z=t.z),this.idMap[e]>=0&&this.idMap[e]<this.nodes.length?(this.nodes[this.idMap[e]].x=t.x,this.nodes[this.idMap[e]].y=t.y,this.nodes[this.idMap[e]].z=t.z):console.warn("Ignore the node set_node_postion :",e,t),!n&&this.enable&&performance.now()-this.last_time_set>500&&(this.last_time_set=performance.now(),this.stop_layout(),this.start_layout()))},pinNodeIds:function(e,t){var n=this;(e=!Array.isArray(e)&&this.idMap[e]>=0?[e]:e||[]).forEach(function(e){!t&&!n.pinNodes[e]&&n.idMap[e]>=0&&n.idMap[e]<n.nodes.length?n.pinNodes[e]={x:n.nodes[n.idMap[e]].x,y:n.nodes[n.idMap[e]].y,z:n.nodes[n.idMap[e]].z}:t&&n.pinNodes[e]&&delete n.pinNodes[e]})},pin_node:function(e){e<0||""==e?console.log("will ignore the node :",e):this.pinNodes[e]?console.log("already pin the node :",e):this.idMap[e]>=0&&this.idMap[e]<this.nodes.length?(console.log("pin-node:",e),this.pinNodes[e]={x:this.nodes[this.idMap[e]].x,y:this.nodes[this.idMap[e]].y,z:this.nodes[this.idMap[e]].z}):console.warn("Ignore the node set_node_postion :",e)},pinAll:function(e){var t=this;e?this.nodes.forEach(function(e,n){t.pinNodes[e.id]={x:e.x,y:e.y,z:e.z}}):this.pinNodes={}},unpin_node:function(e){this.pinNodes[e]&&(console.log("unpin-node:",e),delete this.pinNodes[e])},clean_graph:function(){this.pinNodes={}},fix:function(e,t){void 0!==t&&console.log("fix to current graph position")},set_weight:function(e,t){this.nodes[e].weight=t},getLayout:function(){return this.force},updateDataChange:function(e){this.isDateChage=e}};t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(297)),o=n(2375),a=(r=o)&&r.__esModule?r:{default:r};if(!i)throw"force3D: Unable to inject d3.layout.force3D into d3.js . Be sure to load D3js beforehand.";i.layout||i.geom||(i.layout={},i.geom={});var s=Math.abs,u=0;function l(e){return e[0]}function c(e){return e[1]}function d(e){return e[2]}function f(e){return"function"==typeof e?e:function(){return e}}function h(e){return e.x}function p(e){return e.y}function m(e){return e.z}function g(e,t,n,r,i,o,a,s,u,l){var c=1/0,d=void 0;return function e(f,h,p,m,g,y,v){if(!(h>s||p>u||m>l||g<i||y<o||v<a)){if(point=f.point){var b=t-f.x,_=n-f.y,w=r-f.z,k=b*b+_*_+w*w;if(k<c){var E=Math.sqrt(c=k);i=t-E,o=n-E,a=r-E,s=t+E,u=n+E,l=r+E,d=void 0}}for(var x=f.nodes,S=.5*(h+g),M=.5*(p+y),T=.5*(m+v),C=(r>=T)<<2|(n>=M)<<1|t>=S,A=C+8;C<A;++C)if(f=x[7&C])switch(7&C){case 0:e(f,h,p,m,S,M,T);break;case 1:e(f,S,p,m,g,M,T);break;case 2:e(f,h,M,m,S,y,T);break;case 3:e(f,S,M,m,g,y,T);break;case 4:e(f,h,p,T,S,M,v);break;case 5:e(f,S,p,T,g,M,v);break;case 6:e(f,h,M,T,S,y,v);break;case 7:e(f,S,M,T,g,y,v)}}}(e,i,o,a,s,u,l),d}a.default.clear(),i.geom.octree=function(e,t,n,r,i,o,y){var v=l,b=c,_=d,w=void 0;if(w=arguments.length)return v=h,b=p,_=m,4===w&&(o=n,i=t,y=r,r=n=t=0),k(e);function k(e){var l=void 0,c=void 0,d=void 0,h=f(v),p=f(b),m=f(_),k=void 0,E=void 0,x=void 0,S=void 0,M=void 0,T=void 0,C=void 0,A=void 0,O=void 0;if(null!=t)S=t,M=n,T=r,C=i,A=o,O=y;else if(C=A=O=-(S=M=T=1/0),k=[],E=[],x=[],d=e.length,w)for(c=0;c<d;++c)(l=e[c]).x<S&&(S=l.x),l.y<M&&(M=l.y),l.z<T&&(T=l.z),l.x>C&&(C=l.x),l.y>A&&(A=l.y),l.z>O&&(O=l.z),k.push(l.x),E.push(l.y),x.push(l.z);else for(c=0;c<d;++c){var N=+h(l=e[c],c),L=+p(l,c),j=+m(l,c);N<S&&(S=N),L<M&&(M=L),j<T&&(T=j),N>C&&(C=N),L>A&&(A=L),j>O&&(O=j),k.push(N),E.push(L),x.push(j)}var P=C-S,D=A-M,I=O-T;function R(e,t,n,r,i,o,a,u,l,c,d){if(!(isNaN(n)||isNaN(r)||isNaN(i)))if(e.leaf){var f=e.x,h=e.y,p=e.z;if(null!=f)if(s(f-n)+s(h-r)+s(p-i)<.01)F(e,t,n,r,i,o,a,u,l,c,d);else{var m=e.point;e.x=e.y=e.z=e.point=null,F(e,m,f,h,p,o,a,u,l,c,d),F(e,t,n,r,i,o,a,u,l,c,d)}else e.x=n,e.y=r,e.z=i,e.point=t}else F(e,t,n,r,i,o,a,u,l,c,d)}function F(e,t,n,r,i,o,s,l,c,d,f){var h=.5*(o+c),p=.5*(s+d),m=.5*(l+f),g=n>=h,y=r>=p,v=i>=m,b=v<<2|y<<1|g;e.leaf=!1,e=e.nodes[b]||(e.nodes[b]={leaf:!0,nodes:[],point:null,x:null,y:null,z:null,add:function(e){R(Y,e,+h(e,++c),+p(e,c),+m(e,c),S,M,T,C,A,O)}}),g?o=h:c=h,y?s=p:d=p,v?l=m:f=m,++u>500?(u=0,a.default.runWithImmediate(function(){R(e,t,n,r,i,o,s,l,c,d,f)})):R(e,t,n,r,i,o,s,l,c,d,f)}P>=D&&P>=I?(A=M+P,O=T+P):D>=I&&D>=P?(C=S+D,O=T+D):(C=S+I,A=M+I);var Y={leaf:!0,nodes:[],point:null,x:null,y:null,z:null,add:function(e){R(Y,e,+h(e,++c),+p(e,c),+m(e,c),S,M,T,C,A,O)}};if(Y.visit=function(e){!function e(t,n,r,i,o,a,s,u){if(!t(n,r,i,o,a,s,u)){var l=.5*(r+a),c=.5*(i+s),d=.5*(o+u),f=n.nodes;f[0]&&e(t,f[0],r,i,o,l,c,d),f[1]&&e(t,f[1],l,i,o,a,c,d),f[2]&&e(t,f[2],r,c,o,l,s,d),f[3]&&e(t,f[3],l,c,o,a,s,d),f[4]&&e(t,f[4],r,i,d,l,c,u),f[5]&&e(t,f[5],l,i,d,a,c,u),f[6]&&e(t,f[6],r,c,d,l,s,u),f[7]&&e(t,f[7],l,c,d,a,s,u)}}(e,Y,S,M,T,C,A,O)},Y.find=function(e){return g(Y,e[0],e[1],e[2],S,M,T,C,A,O)},c=-1,null==t){for(;++c<d;)R(Y,e[c],k[c],E[c],x[c],S,M,T,C,A,O);--c}else e.forEach(Y.add);return k=E=x=e=l=null,Y}return k.x=function(e){return arguments.length?(v=e,k):v},k.y=function(e){return arguments.length?(b=e,k):b},k.z=function(e){return arguments.length?(_=e,k):_},k.extent=function(e){return arguments.length?(null==e?t=n=r=i=o=y=null:(t=+e[0][0],n=+e[0][1],r=+e[0][2],i=+e[1][0],o=+e[1][1],y=+e[1][2]),k):null==t?null:[[t,n,r],[i,o,y]]},k.size=function(e){return arguments.length?(null==e?t=n=r=i=o=y=null:(t=n=r=0,i=+e[0],o=+e[1],y=+e[1]),k):null==t?null:[i-t,o-n,y-r]},k};i.layout.force3D=function(){var e={},t=i.dispatch("start","tick","end"),n=[0,0,-1],r=void 0,o=.9,s=20,l=1,c=-30,d=1/0,f=.1,h=1,p=.64,m=[],g=[],y=void 0,v=void 0,b=void 0;function _(e){return function(t,n,r,i,o){if(t.point!==e){var a=t.cx-e.x,s=t.cy-e.y,u=t.cz-e.z,l=o-n,c=a*a+s*s+u*u;if(l*l/p<c){if(c<d){var f=t.charge/c;e.px-=a*f,e.py-=s*f,e.pz-=u*f}return!0}if(t.point&&c&&c<d){var h=t.pointCharge/c;e.px-=a*h,e.py-=s*h,e.pz-=u*h}}return!t.charge}}return e.tick=function(){if(0===r)return!0;if((r*=.99)<(m.length>2e3?.05:.005))return t.call("end",{type:"end",alpha:r=0}),u=0,!0;var e=m.length,a=g.length,s=void 0,l=void 0,d=void 0,p=void 0,w=void 0,k=void 0,E=void 0,x=void 0,S=void 0,M=void 0;for(l=0;l<a;++l)p=(d=g[l]).source,(k=(x=(w=d.target).x-p.x)*x+(S=w.y-p.y)*S+(M=w.z-p.z)*M)&&(x*=k=r*v[l]*((k=Math.sqrt(k))-y[l])/k,S*=k,M*=k,w.x-=x*(E=p.weight/(w.weight+p.weight)),w.y-=S*E,w.z-=M*E,p.x+=x*(E=1-E),p.y+=S*E,p.z+=M*E);if((E=r*f)&&(x=n[0]/2,S=n[1]/2,M=n[2]/2,l=-1,E))for(;++l<e;)(d=m[l]).x+=(x-d.x)*E,d.y+=(S-d.y)*E,d.z+=(M-d.z)*E*h;if(c)for(!function e(t,n,r){var i=0,o=0,a=0;if(t.charge=0,!t.leaf)for(var s=t.nodes,u=s.length,l=-1,c=void 0;++l<u;)null!=(c=s[l])&&(e(c,n,r),t.charge+=c.charge,i+=c.charge*c.cx,o+=c.charge*c.cy,a+=c.charge*c.cz);if(t.point){t.leaf||(t.point.x+=Math.random()-.5,t.point.y+=Math.random()-.5,t.point.z+=Math.random()-.5);var d=n*r[t.point.index];t.charge+=t.pointCharge=d,i+=d*t.point.x,o+=d*t.point.y,a+=d*t.point.z}t.cx=i/t.charge,t.cy=o/t.charge,t.cz=a/t.charge}(s=i.geom.octree(m),r,b),l=-1;++l<e;)(d=m[l]).fixed||s.visit(_(d));for(l=-1;++l<e;)(d=m[l]).fixed?(d.x=d.px,d.y=d.py,d.z=d.pz):(d.x-=(d.px-(d.px=d.x))*o,d.y-=(d.py-(d.py=d.y))*o,d.z-=(d.pz-(d.pz=d.z))*o);t.call("tick",{type:"tick",alpha:r})},e.nodes=function(t){return arguments.length?(m=t,e):m},e.links=function(t){return arguments.length?(g=t,e):g},e.size=function(t){return arguments.length?(n=t,e):n},e.on=function(n,r){return"function"==typeof r?t.on(n,function(e){r(e)}):t.on(n,null),e},e.linkDistance=function(t){return arguments.length?(s="function"==typeof t?t:+t,e):s},e.distance=e.linkDistance,e.linkStrength=function(t){return arguments.length?(l="function"==typeof t?t:+t,e):l},e.friction=function(t){return arguments.length?(o=+t,e):o},e.charge=function(t){return arguments.length?(c="function"==typeof t?t:+t,e):c},e.chargeDistance=function(t){return arguments.length?(d=t*t,e):Math.sqrt(d)},e.gravity=function(t){return arguments.length?(f=+t,e):f},e.heightCompress=function(t){return arguments.length?(h=+t,e):h},e.theta=function(t){return arguments.length?(p=t*t,e):Math.sqrt(p)},e.alpha=function(n){return arguments.length?(n=+n,r?r=n>0?n:0:n>0&&(t.call("start",{type:"start",alpha:r=n}),i.timer(e.tick)),e):r},e.start=function(){a.default.clear(),u=0;var t=void 0,r=m.length,i=g.length,o=n[0],d=n[1],f=n[2],h=void 0,p=void 0;for(t=0;t<r;++t)(p=m[t]).index=t,p.weight=0;for(t=0;t<i;++t)"number"==typeof(p=g[t]).source&&(p.source=m[p.source]),"number"==typeof p.target&&(p.target=m[p.target]),++p.source.weight,++p.target.weight;for(t=0;t<r;++t)p=m[t],isNaN(p.x)&&(p.x=_("x",o)),isNaN(p.y)&&(p.y=_("y",d)),isNaN(p.z)&&(p.z=_("z",f)),isNaN(p.px)&&(p.px=p.x),isNaN(p.py)&&(p.py=p.y),isNaN(p.pz)&&(p.pz=p.z);if(y=[],"function"==typeof s)for(t=0;t<i;++t)y[t]=+s.call(this,g[t],t);else for(t=0;t<i;++t)y[t]=s;if(v=[],"function"==typeof l)for(t=0;t<i;++t)v[t]=+l.call(this,g[t],t);else for(t=0;t<i;++t)v[t]=l;if(b=[],"function"==typeof c)for(t=0;t<r;++t)b[t]=+c.call(this,m[t],t);else for(t=0;t<r;++t)b[t]=c;function _(e,n){if(!h){for(h=new Array(r),s=0;s<r;++s)h[s]=[];for(s=0;s<i;++s){var o=g[s];h[o.source.index].push(o.target),h[o.target.index].push(o.source)}}for(var a=h[t],s=-1,u=a.length,l=void 0;++s<u;)if(!isNaN(l=a[s][e]))return l;return Math.random()*n}return e.resume()},e.resume=function(){return a.default.clear(),e.alpha(.1)},e.stop=function(){return a.default.clear(),e.alpha(0)},e},t.default=i},function(e,t,n){"use strict";(function(e,n){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var i=null,o=function(){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.cursor=0,this.timers={},this.immediates={}}return r(t,null,[{key:"shareInstance",value:function(){return i||(i=new this),i}},{key:"runWithTimer",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.shareInstance().runWithTimer(e,t)}},{key:"runWithImmediate",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){};this.shareInstance().runWithImmediate(e)}},{key:"clear",value:function(){this.shareInstance().clear()}}]),r(t,[{key:"removeImmediate",value:function(t){this.immediates[t]&&(e(this.immediates[t]),delete this.immediates[t])}},{key:"removeTimer",value:function(){this.timers[currentCursor]&&(clearTimer(this.timers[currentCursor]),delete this.timers[currentCursor])}},{key:"runWithImmediate",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){};this.cursor+=1;var r=this.cursor;this.immediates[r]=n(function(){e.removeImmediate(r),t()})}},{key:"runWithTimer",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.cursor+=1;var r=this.cursor;this.timers[r]=setTimeout(function(){e.removeTimer(r),t()},n)}},{key:"clear",value:function(){var e=this;Object.keys(this.timers).forEach(function(t){e.removeTimer(t)}),Object.keys(this.immediates).forEach(function(t){e.removeImmediate(t)})}}]),t}();t.default=o}).call(t,n(255).clearImmediate,n(255).setImmediate)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(50),i=void 0,o=[],a=[],s=void 0,u=void 0,l=!0,c=null,d=null,f=-1,h={x:0,y:0,z:0},p={handleStart:null,handleStop:null,init:function(e,t){var n=this;s=(c=e).layoutNodes,u=c.layoutEdges,o=s.map(function(e){return{x:e.position.x,y:e.position.y,z:0}}),d={},s.forEach(function(e,t){d[e.id]=t}),a=u.map(function(e){return{source:d[e.sourceId],target:d[e.targetId]}}),console.log("initialize Layout..."),i&&(i.on("tick",null),i.on("end",null)),(i=d3.layout.force().nodes(o).links(a).linkStrength(r.D3Sliders.linkStrength.defaultValue).linkDistance(r.D3Sliders.linkDistance.defaultValue).charge(r.D3Sliders.charge.defaultValue).gravity(r.D3Sliders.gravity.defaultValue).friction(r.D3Sliders.friction.defaultValue).on("tick",function(){f>-1&&(o[f].x=h.x,o[f].y=h.y),l=!1}).start()).on("end",function(){n.handleStop&&n.handleStop()}),window.force=i},updateLayoutOption:function(e,t){this.stop_layout(),i[e](t),this.start_layout()},render:function(){if(!l){l=!0;for(var e=0;e<o.length;e++){var t=o[e];s[e].position.set(t.x,t.y,t.z)}}},start_layout:function(){this.handleStart&&this.handleStart(),i.start()},stop_layout:function(){i.stop()},restart_layout:function(){},reset_graph_restart_layout:function(){var e=this;this.stop_layout();for(var t=[],n=0;n<o.length;n++)o[n].fixed&&t.push(n);o=c.layoutNodes.map(function(e){return{x:e.position.x,y:e.position.y,z:0}}),d={},c.layoutNodes.forEach(function(e,t){d[e.id]=t}),a=c.layoutEdges.map(function(e){return{source:d[e.sourceId],target:d[e.targetId]}}),i.nodes(o).links(a).start(),t.forEach(function(t){e.fix(t)})},set_node_position:function(e,t){this.stop_layout(),o[e].x=t.x,o[e].y=t.y,h.x=t.x,h.y=t.y,this.start_layout()},pin_node:function(e){o[e].fixed=!1,f=e,h.x=o[e].x,h.y=o[e].y},unpin_node:function(e){f=-1},fix:function(e,t){void 0!==o[e]&&(o[e].fixed=!0),void 0!==t&&(console.log("fix to current graph position"),o[e].px=t.x,o[e].py=t.y)},set_weight:function(e,t){o[e].weight=t},getLayout:function(){return i}};t.default=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(50);(r=o)&&r.__esModule;var a=function(){function e(t,n,r,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.camera=t,this.cloud=n,this.gamepad=r,this.mouseStream=i,this.mouseClickTest(),this.init()}return i(e,[{key:"init",value:function(){var e=this;this.gamepad.addSearchObject(this.cloud);var t=this.gamepad.intersectingSteam.do(function(t){0==t.length&&e.gamepad.updateLineLength(e.gamepad.rightController)}).filter(function(e){return e.length>0}).distinctUntilChanged().map(function(e){return e[0]}).filter(function(e){return e&&"navigation"==e.object.name}).do(function(e){}),n=this;this.gamepad.rightTriggerStream.filter(function(e){return"up"==e}).subscribe(function(){n.cloud.parent&&n.cloud.parent.onNotIntersectMenu&&n.cloud.parent.onNotIntersectMenu()}),this.gamepad.rightTriggerStream.filter(function(e){return"down"==e}).flatMap(function(n){return t.distinctUntilChanged(function(e,t){return e.index===t.index}).takeUntil(e.gamepad.rightTriggerStream)}).subscribe(function(e){var t=e.object.parent;t&&t.onPerformClick&&(console.log("menu index:",e.index),t.onPerformClick(e.index))})}},{key:"mouseClickTest",value:function(){var e=this;this.mouseStream.down.map(function(t){var n=new THREE.Vector3(t.x,t.y,.5);n.unproject(e.camera),n.sub(e.camera.position);var r=new THREE.Raycaster(e.camera.position,n.normalize());r.params.Points.threshold=.1;var i=r.intersectObject(e.cloud);return i.length>0?i[0]:null}).filter(function(e){return e}).subscribe(function(e){var t=e.object.parent;t&&t.onPerformClick&&t.onPerformClick(e.index)})}}]),e}();t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.time=0,this.fps=30}return r(e,[{key:"report",value:function(){console.log("this is alternative performance implementation")}},{key:"set",value:function(e){this.time=e}},{key:"advance",value:function(){this.time+=1e3/this.fps}},{key:"now",value:function(){return this.time}}]),e}();t.default=i,t.AlternativePerformance=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(23)),a=n(353),s=(r=a)&&r.__esModule?r:{default:r};var u=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.listener=new o.AudioListener,t.add(this.listener),window.sounds=this.sounds=[]}return i(e,[{key:"createAudio",value:function(e){switch(e.type){case"ambient":return this.createAmbientAudio(e);case"positional":return this.createPositionalAudio(e)}}},{key:"createAmbientAudio",value:function(e){var t=null,n=n=new o.AudioLoader;(t=new o.Audio(this.listener)).name=e.name,t.options=e,void 0!==e.playOverwrite&&1==e.playOverwrite&&(t.play=this.playOverwrite),t.fadeIn=this.fadeIn,t.fadeOut=this.fadeOut,n.load(e.source,function(n){t.setBuffer(n),t.setLoop(e.loop),t.setVolume(e.volume),1==e.autoplay&&t.play()});var r={type:e.type,name:e.name,source:e.source,sound:t};return this.sounds.push(r),t}},{key:"createPositionalAudio",value:function(e){var t=null,n=n=new o.AudioLoader;(t=new o.PositionalAudio(this.listener)).name=e.name,t.options=e,void 0!==e.playOverwrite&&1==e.playOverwrite&&(t.play=this.playOverwrite),t.fadeIn=this.fadeIn,t.fadeOut=this.fadeOut,n.load(e.source,function(n){t.setBuffer(n),t.setLoop(e.loop),t.setVolume(e.volume),t.setRefDistance(e.refDistance),1==e.autoplay&&t.play()});var r={type:e.type,name:e.name,source:e.source,sound:t};return this.sounds.push(r),t}},{key:"playOverwrite",value:function(){this.isPlaying&&this.stop(),this.play()}},{key:"stopAll",value:function(){_.each(this.sounds,function(e){e.isPlaying&&e.stop()})}},{key:"fadeIn",value:function(e,t){var n=this;new s.default.Tween({val:n.getVolume()}).to({val:void 0==t?n.options.volume:t},e).easing(s.default.Easing.Cubic.Out).onUpdate(function(){n.setVolume(this.val)}).onComplete(function(){return!0}).start(window.performance.now())}},{key:"fadeOut",value:function(e,t){var n=this;new s.default.Tween({val:n.getVolume()}).to({val:void 0==t?0:t},e).easing(s.default.Easing.Cubic.Out).onUpdate(function(){n.setVolume(this.val)}).onComplete(function(){return!0}).start(window.performance.now())}},{key:"destroy",value:function(e){null!==e.parent&&e.parent.remove(e),this.removeSound(e.options.name)}},{key:"removeSound",value:function(e){this.sounds=_.remove(this.sounds,["name",e])}}]),e}();t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var i=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options={enable:!0,autoBindDom:!0,domId:null},this.eventNames={end:"end",keyChange:"keyChange"},this.keyboard=new THREEx.KeyboardState,this.options=Object.assign(this.options,t||{}),this.wId="w",this.index=0,this.startX=0,this.startY=0,this.combineKey="",this.dragRect={left:0,top:0,height:0,width:0},this.bindDom=this.bindDom.bind(this),(this.options.autoBindDom||this.options.domId)&&this.bindDom(document.getElementById(this.options.domId)||document),this.events={},Object.keys(this.eventNames).forEach(function(e){n.events[e]=[]},this),document.addEventListener("keydown",this._handleKeyDown.bind(this),!1),document.addEventListener("keyup",this._handleKeyUp.bind(this),!1)}return r(e,[{key:"on",value:function(e,t){if(this.events[e]&&t){var n=this.events[e].filter(function(e){return e.toString()==t.toString()});n&&n.length>0?console.log("Already exsit the  :",t," on ",e):this.events[e].push(t)}else console.warn("Only support the events :",Object.keys(this.events))}},{key:"_handleEvent",value:function(e,t){var n=this;this.enable&&this.events[e]&&this.events[e].length>0&&this.events[e].forEach(function(e){e(t,n.combineKey)})}},{key:"getDragRect",value:function(){return this.dragRect}},{key:"getRect",value:function(){return{x1:this.dragRect.left,y1:this.dragRect.top,x2:this.dragRect.left+this.dragRect.width,y2:this.dragRect.top+this.dragRect.height}}},{key:"clear",value:function(){try{this.getDomById(this.wId+this.index)&&(this.dragRect={left:0,top:0,height:0,width:0},document.body.removeChild(this.getDomById(this.wId+this.index)))}catch(e){console.error(e)}}},{key:"getDomById",value:function(e){return e=e||this.getID(),document.getElementById(e)}},{key:"getID",value:function(){return this.wId+this.index}},{key:"bindDom",value:function(e){var t=this;window.addEventListener("mousedown",function(e){t.clear();e.shiftKey||e.altKey;var n=e.which&&3==e.which||e.button&&2==e.button,r=e.fromReact&&(e.target.onclick||e.target.onchange||e.target.onmousedown||$(e.target).parents(".modal").length>0||$(e.target).parents(".CodeMirror").length>0||$(e.target).parents(".rc-slider").length>0||$(e.target).parents(".ui-draggable-handle").length>0||$(e.target).hasClass("ui-resizable-handle")||["input","button","a","select","option","textarea","label","span","i","td"].includes(e.target.tagName.toLocaleLowerCase())>0);!t.enable||e.fromControl||t.keyboard.pressed("3")||!e.fromReact&&"renderer"!=e.target.id||r||n||(t._mouseDown=!0,t._mouseMove=!1,t._handleMouseDown(e))}.bind(this),!1),window.addEventListener("mouseup",function(e){if(t._mouseDown){var n=t.getDragRect();t._mouseMove&&n.width>10&&n.height>10&&t._handleEvent(t.eventNames.end,n),e.preventDefault(),t.clear()}t._mouseDown=!1,t._mouseMove=!1}.bind(this),!1),e.addEventListener("mousemove",function(e){t.enable&&t._mouseDown&&(t._mouseMove=!0,t._handleMouseMove(e))}.bind(this),!1),this.enable||this.clear()}},{key:"_handleMouseDown",value:function(e){try{var t=window.event||e;if(!this.options.enable)return;var n=document.body.scrollTop||document.documentElement.scrollTop,r=document.body.scrollLeft||document.documentElement.scrollLeft;this.startX=t.clientX+r,this.startY=t.clientY+n}catch(e){console.error(e)}}},{key:"_handleKeyDown",value:function(e){"Control"!=e.key&&"Shift"!=e.key&&"Alt"!=e.key||(this.enable?this.combineKey=e.key:this.combineKey="",this._handleEvent(this.eventNames.keyChange,this.combineKey))}},{key:"_handleKeyUp",value:function(e){"Control"!=e.key&&"Shift"!=e.key&&"Alt"!=e.key||(this.combineKey="",this._handleEvent(this.eventNames.keyChange,this.combineKey))}},{key:"_handleMouseMove",value:function(e){try{var t=window.event||e;e.preventDefault();var n=this.getDomById();n||((n=document.createElement("div")).id=this.getID(),n.className="drag-selection",n.style.marginLeft=this.startX+"px",n.style.marginTop=this.startY+"px",n.style.position="absolute",n.style.border="1px dashed gray",n.style.width="0px",n.style.height="0px",n.style.left="0px",n.style.top="0px",n.style.overflow="hidden",n.style.pointerEvents="none",n.style.zIndex="9999",document.body.appendChild(n));var r=document.body.scrollTop||document.documentElement.scrollTop,i=document.body.scrollLeft||document.documentElement.scrollLeft;this.dragRect.left=this.startX-t.clientX-i>0?t.clientX+i:this.startX,this.dragRect.top=this.startY-t.clientY-r>0?t.clientY+r:this.startY,this.dragRect.height=Math.abs(this.startY-t.clientY-r),this.dragRect.width=Math.abs(this.startX-t.clientX-i),n.style.marginLeft=this.dragRect.left+"px",n.style.marginTop=this.dragRect.top+"px",n.style.width=this.dragRect.width+"px",n.style.height=this.dragRect.height+"px"}catch(e){console.error(e)}}},{key:"enable",get:function(){return this.options.enable},set:function(e){this.options.enable=e,this.options.enable||this.clear()}}]),e}();t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=h(n(353)),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(23)),a=h(n(301)),s=n(44),u=h(s),l=n(1280),c=h(n(767)),d=h(n(2382)),f=n(90);function h(e){return e&&e.__esModule?e:{default:e}}var p=function(){function e(t,n,r,i){var a=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.camera=t,this.object=n,this.keyboardStream=r,this.mouseStream=i,this.rotating=!1,this.speed=1,this.sign=1,this.lastX=0,this.lastY=0,window.moveActionTween=null,this.objectOriginal={position:this.object.position.clone(),rotation:this.object.rotation.clone(),quaternion:this.object.quaternion.clone()},this.keyboardStream.down.filter(function(e){return"Shift"==e}).subscribe(function(){a.speed=10}),this.keyboardStream.up.filter(function(e){return"Shift"==e}).subscribe(function(){return a.speed=1}),this.keyboardStream.down.filter(function(e){return"Alt"==e}).subscribe(function(){a.sign=-1}),this.keyboardStream.up.filter(function(e){return"Alt"==e}).subscribe(function(){return a.sign=1}),this.velocity=new o.Vector3,this.raycaster=new o.Raycaster,this.raycaster.params.Points.threshold=.05,this.mouseStream.down.subscribe(function(e){a.lastX=e.x,a.lastY=e.y}),this.mouseStream.up.subscribe(function(e){a.mouseStream.enable&&_app.controller.drawing&&_app.controller.drawing.dragSelection&&(_app.controller.drawing.dragSelection.enable=!0),a.showAxes(!1)}),this.initMoveStream(),this.initRotateStream(),this.initZoomStream()}return r(e,[{key:"showAxes",value:function(e,t){e?(this._axesHelper||(this._axesHelper=new d.default(1),this.object.add(this._axesHelper)),this._axesHelper.position.copy(t.clone())):this._axesHelper&&(c.default.releaseMesh(this.axesHelper),this.object.remove(this._axesHelper),this._axesHelper=null)}},{key:"initMoveStream",value:function(){var e=this;this.keyboardStream.down.filter(function(e){return"1"==e}).subscribe(function(){(0,l.UpdateMoveCursor)(!0,!1,!1,!1)}),this.mousePanStream=this.mouseStream.down.filter(function(e){return!e.right}).flatMap(function(t){var n=null;if(["ctrl","shift","alt","2","3","4","5"].map(function(e){return s.KeyboardState.pressed(e)}).filter(function(e){return e}).length>0)return a.default.Observable.empty();var r=new o.Vector2(t.x,t.y);e.raycaster.setFromCamera(r,e.camera);var i=e.raycaster.intersectObject(e.object.getObjectByName("NodeCloud"));return(n=i.length>0?i[0]:null)?a.default.Observable.empty():((0,l.UpdateMoveCursor)(!0,!1,!1,!1),e.mouseStream.move.map(function(e){return{selected:n,point:e}}).takeUntil(e.mouseStream.up))}),this.mousePanStream.subscribe(function(t){var n=t.point,r=_app.store.getState().node.moveBorder;n.x>.9&&"right"!=r&&_app.store.dispatch(f.Actions.showMoveBorder("right")),n.x<-.9&&"left"!=r&&_app.store.dispatch(f.Actions.showMoveBorder("left")),n.y>.9&&"top"!=r&&_app.store.dispatch(f.Actions.showMoveBorder("top")),n.y<-.9&&"bottom"!=r&&_app.store.dispatch(f.Actions.showMoveBorder("bottom")),.9>=n.y&&n.y>=-.9&&.9>=n.x&&n.x>=-.9&&""!=r&&_app.store.dispatch(f.Actions.showMoveBorder("")),_app.controller.drawing.dragSelection.enable=!1,""==r?(window.moveActionTween&&(window.moveActionTween.stop(),window.moveActionTween=null),e.moveWithPoint(new o.Vector3(e.lastX,e.lastY,-0),new o.Vector3(n.x,n.y,-0))):window.moveActionTween||(window.moveActionTween=new i.default.Tween({t:0}).to({t:1},1e3).onUpdate(function(t){switch(r){case"left":e.moveLeft(-.01);break;case"top":e.moveUp(.01);break;case"right":e.moveRight(.01);break;case"bottom":e.moveDown(-.01)}}).start().repeat(1/0)),e.lastX=n.x,e.lastY=n.y});this.keyboardStream.down.filter(function(e){return String(e).includes("Arrow")}).subscribe(function(t){switch(t){case"ArrowLeft":e.moveLeft(.03);break;case"ArrowUp":e.moveUp(-.03);break;case"ArrowRight":e.moveRight(-.03);break;case"ArrowDown":e.moveDown(.03)}})}},{key:"initRotateStream",value:function(){var e=this;this.rotateStream=this.keyboardStream.down.filter(function(e){return"3"==e}).flatMap(function(t){return(0,l.UpdateMoveCursor)(!1,!0,!1,!1),e.mouseStream.drag.takeUntil(e.keyboardStream.up.filter(function(e){return"3"==e}))}).subscribe(function(t){var n=_app.store.getState().node.moveBorder;t.x>.9&&"right"!=n&&_app.store.dispatch(f.Actions.showMoveBorder("right")),t.x<-.9&&"left"!=n&&_app.store.dispatch(f.Actions.showMoveBorder("left")),t.y>.9&&"top"!=n&&_app.store.dispatch(f.Actions.showMoveBorder("top")),t.y<-.9&&"bottom"!=n&&_app.store.dispatch(f.Actions.showMoveBorder("bottom")),.9>=t.y&&t.y>=-.9&&.9>=t.x&&t.x>=-.9&&""!=n&&_app.store.dispatch(f.Actions.showMoveBorder("")),e.handleRotate(t)}),this.mouseStream.down.filter(function(e){return e.right}).flatMap(function(t){(0,l.UpdateMoveCursor)(!1,!0,!1,!1),window.isRightClick=!0;var n=_app.store.getState().node.moveBorder;return t.x>.9&&"right"!=n&&_app.store.dispatch(f.Actions.showMoveBorder("right")),t.x<-.9&&"left"!=n&&_app.store.dispatch(f.Actions.showMoveBorder("left")),t.y>.9&&"top"!=n&&_app.store.dispatch(f.Actions.showMoveBorder("top")),t.y<-.9&&"bottom"!=n&&_app.store.dispatch(f.Actions.showMoveBorder("bottom")),.9>=t.y&&t.y>=-.9&&.9>=t.x&&t.x>=-.9&&""!=n&&_app.store.dispatch(f.Actions.showMoveBorder("")),e.mouseStream.move.takeUntil(e.mouseStream.up)}).subscribe(function(t){e.handleRotate(t)})}},{key:"handleRotate",value:function(e,t){var n=this;_app.controller.drawing.dragSelection.enable=!1,""==_app.store.getState().node.moveBorder?(window.rotateActionTween&&(window.rotateActionTween.stop(),window.rotateActionTween=null),this.rotateAroundSelectedNode(1*(e.x-this.lastX),1*(e.y-this.lastY),e.x,e.y,t),(Math.abs(e.x-this.lastX)>0||Math.abs(e.y-this.lastY)>0)&&(this.lastRotate={x:1*(e.x-this.lastX),y:1*(e.y-this.lastY),xPoint:e.x,yPoint:e.y,type:t})):window.rotateActionTween||(window.rotateActionTween=new i.default.Tween({t:0}).to({t:1},1e3).onUpdate(function(e){n.rotateAroundSelectedNode(n.lastRotate.x,n.lastRotate.y,n.lastRotate.xPoint.x,n.lastRotate.yPoint.y,n.lastRotate.type)}).start().repeat(1/0)),this.lastX=e.x,this.lastY=e.y}},{key:"handleZoom",value:function(e){var t=this;_app.controller.drawing.dragSelection.enable=!1;var n=_app.store.getState().node.moveBorder,r=(e.x,this.lastX,e.y-this.lastY);r=-1*r*2;var a=e.startPos,s=new o.Vector3(a.x,a.y,.5);s.unproject(this.camera),s.sub(this.camera.position).normalize(),""==n?(window.zoomActionTween&&(window.zoomActionTween.stop(),window.zoomActionTween=null),r>=0?this.moveBackward(r):this.moveForward(r),0!=r&&(this.lastRotate={deltaY:r,vec:s})):window.zoomActionTween||(window.zoomActionTween=new i.default.Tween({t:0}).to({t:1},1e3).onUpdate(function(e){t.lastRotate.deltaY>=0?t.moveBackward(t.lastRotate.deltaY):t.moveForward(t.lastRotate.deltaY)}).start().repeat(1/0)),this.lastX=e.x,this.lastY=e.y}},{key:"initZoomStream",value:function(){var e=this;this.zoomStream=this.keyboardStream.down.filter(function(e){return"2"==e}).flatMap(function(t){return e.mouseStream.drag.takeUntil(e.keyboardStream.up.filter(function(e){return"2"==e}))}),this.zoomStream.subscribe(function(t){var n=_app.store.getState().node.moveBorder;t.x>.9&&"right"!=n&&_app.store.dispatch(f.Actions.showMoveBorder("right")),t.x<-.9&&"left"!=n&&_app.store.dispatch(f.Actions.showMoveBorder("left")),t.y>.9&&"top"!=n&&_app.store.dispatch(f.Actions.showMoveBorder("top")),t.y<-.9&&"bottom"!=n&&_app.store.dispatch(f.Actions.showMoveBorder("bottom")),.9>=t.y&&t.y>=-.9&&.9>=t.x&&t.x>=-.9&&""!=n&&_app.store.dispatch(f.Actions.showMoveBorder("")),e.handleZoom(t)}),this.mouseStream.wheel.subscribe(function(t){var n=-1*t.deltaY*2/1e3,r=new o.Vector3(t.x,t.y,.5);r.unproject(e.camera),r.sub(e.camera.position).normalize(),n>0?e.moveBackward(n,r):e.moveForward(n,r),e.lastY=t.deltaY})}},{key:"moveForward",value:function(e,t){(0,l.UpdateMoveCursor)(!1,!1,!0,!1);var n=new o.Vector3;this.camera.getWorldDirection(n),void 0!==t&&(n=t),this.object.position.add(n.clone().multiplyScalar(-1*e))}},{key:"moveBackward",value:function(e,t){(0,l.UpdateMoveCursor)(!1,!1,!1,!0);var n=new o.Vector3;this.camera.getWorldDirection(n),void 0!==t&&(n=t),this.object.position.add(n.multiplyScalar(-1*e))}},{key:"convertPointToPosition",value:function(e){var t=this.camera.position.clone(),n=(e=e.unproject(this.camera)).sub(t).normalize(),r=-t.z/n.z;return t.clone().add(n.multiplyScalar(r))}},{key:"moveWithPoint",value:function(e,t){var n=this.convertPointToPosition(e),r=this.convertPointToPosition(t);this.object.position.add(r.sub(n))}},{key:"moveLeft",value:function(e){var t=new o.Vector3;this.camera.getWorldDirection(t),t.cross(this.camera.up).normalize(),this.object.position.add(t.clone().multiplyScalar(1*e))}},{key:"moveRight",value:function(e){var t=new o.Vector3;this.camera.getWorldDirection(t);var n=t.clone().cross(this.camera.up).normalize();this.object.position.add(n.clone().multiplyScalar(1*e))}},{key:"moveUp",value:function(e){var t=new o.Vector3;this.camera.getWorldDirection(t);var n=t.clone().cross(this.camera.up).cross(t.clone()).normalize();this.object.position.add(n.multiplyScalar(1*e))}},{key:"moveDown",value:function(e){var t=new o.Vector3;this.camera.getWorldDirection(t);var n=t.clone().cross(this.camera.up).cross(t).normalize();this.object.position.add(n.multiplyScalar(1*e))}},{key:"flyToNode",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3e3;this.flyToPosition(e?e.position:u.default.center,t,n)}},{key:"flyToPosition",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3e3,r=e,i=this.object.localToWorld(r.clone()).clone(),a=this.object.position.clone().sub(i).add(new o.Vector3(0,0,t));this.moveScene(a,n)}},{key:"reset",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3e3,n={t:0},r=this.object.position.clone(),a=this.object.quaternion.clone(),s=this.objectOriginal.quaternion.clone();new i.default.Tween(n).to({t:1},t).onUpdate(function(){var t=r.clone().multiplyScalar(1-n.t).add(e.objectOriginal.position.clone().multiplyScalar(n.t));e.object.position.copy(t),o.Quaternion.slerp(a,s,e.object.quaternion,n.t)}).easing(i.default.Easing.Quadratic.InOut).start(window.performance.now())}},{key:"moveScene",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3e3,r=this.object.position.clone(),o={t:0};new i.default.Tween(o).to({t:1},n).onUpdate(function(){var n=r.clone().multiplyScalar(1-o.t).add(e.clone().multiplyScalar(o.t));t.object.position.copy(n)}).easing(i.default.Easing.Quadratic.InOut).start(window.performance.now())}},{key:"rotateScene",value:function(e){var t=new o.Vector3(0,0,0),n=this.object.worldToLocal(t.clone());this.rotateAroundSelectedNode(e,0,n)}},{key:"rotateAroundSelectedNode",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;arguments.length>2&&void 0!==arguments[2]&&arguments[2],arguments.length>3&&void 0!==arguments[3]&&arguments[3],arguments[4];window.isRightClick=!1;var n=u.default.center,r=this.object.localToWorld(n.clone()),i=e*Math.PI,a=-1*t*Math.PI;this.object.rotateY(i),this.object.rotateOnWorldAxis(new o.Vector3(1,0,0),a),this.object.updateMatrixWorld();var s=this.object.localToWorld(n.clone()).sub(r);this.object.position.sub(s),this.showAxes(!0,n)}},{key:"convertToAxisAndAngle",value:function(e,t,n,r){var i=new o.Vector3,a=function(e,t,n){return Math.min(Math.max(e,t),n)},s=a(1-1.2*Math.sqrt(n*n+r*r),0,1),u=new o.Vector3(n,r,s).normalize(),l=new o.Vector3(a(e,-1,1)+u.x,a(-t,-1,1)+u.y,u.z);l.normalize();var c=Math.acos(a(u.dot(l)/u.length()/l.length(),-1,1));return isNaN(c),c&&i.crossVectors(u,l).normalize(),{axis:i,angle:c}}},{key:"update",value:function(){this.rotating&&this.rotateAroundSelectedNode(.002*this.speed*this.sign,0)}}]),e}();t.default=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AXISES=t.AxisHelper=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(23)),o=s(n(11)),a=s(n(1161));function s(e){return e&&e.__esModule?e:{default:e}}var u={x:{color:16711680,label:"X",key:"x"},y:{color:65280,label:"Y",key:"y"},z:{color:255,label:"Z",key:"z"}},l=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.axises={x:n.addAxis(u.x),y:n.addAxis(u.y),z:n.addAxis(u.z)},n.length=e||2,o.default.forEach(n.axises,function(e){n.add(e)}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Object3D),r(t,[{key:"addAxis",value:function(e){var t=new i.Vector3(0,0,0);t[e.key]=1;var n=new i.Vector3(0,0,0),r=new i.ArrowHelper(t,n,this.length,e.color);return this.updateLabel(e,r),r}},{key:"updateLabel",value:function(e,t){var n=e.key;(t=t||this.axises[n]).label&&(t.remove(t.label),t.label=null);var r=new a.default({text:e.label,width:220});"z"==n?(r.rotateX(-Math.PI/2),r.rotateY(Math.PI/2)):r.rotateZ(Math.PI/2);r.scale.set(.004,.004,.004),r.position.copy(t.cone.position.clone()),t.add(r),t.label=r}}]),t}();t.default=l,t.AxisHelper=l,t.AXISES=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(23),i=n(2384),o=n(2385),a=n(11),s=n(2397),u=n(2398);let l=[],c=65024,d=new i({size:c});const f=20,h=30,p=12;function m(e){return e.join("/")}function g(e,t){let n=e?"mapbox.streets-satellite":"mapbox.terrain-rgb",r=e?"@2x.png":"@2x.pngraw";return"https://"+["a","b","c","d"][t[1]%2*2+t[2]%2]+".tiles.mapbox.com/v4/"+n+"/"+m(t)+r+"?access_token=pk.eyJ1IjoicGV0ZXJxbGl1IiwiYSI6ImNqdHJqdG92OTBkNTg0M3BsNDY0d3NudWcifQ.0z4ov_viFE-yBMSijQpOhQ"}window.mercator=d;t.default=class extends r.Group{constructor(e){super(),this.lat=+e.lat,this.lng=+e.lng,this.range_lat=e.range_lat?+e.range_lat:f,this.range_lng=e.range_lng?+e.range_lng:h,this.zoom=e.zoom?+e.zoom:p,this.tileDimX=0,this.tileDimY=0,this.planes=[],this.offset=new r.Vector2(0,0),this.init()}handleMessage(e){let t=e.data;t.getTiles[0].length>0&&this.getTiles(t.getTiles)}project(e,t){let n=d.px(e,t).map(e=>e/Math.pow(2,t));return n={x:n[0]-c/2,y:0,z:n[1]-c/2}}unproject(e){let t=e.map(e=>e+c/2);return d.ll(t,0)}setBoundingBox(){let e=this.project([this.lng,this.lat],0);this.offset.x=e.x,this.offset.y=e.z;let t=[[-1,-1],[1,-1],[1,1],[-1,1],[-1,-1]].map(e=>[this.lng+e[0]*this.range_lng,this.lat+e[1]*this.range_lat]).map(e=>this.project(e,0)),n=Math.abs(t[1].x-t[0].x),r=Math.abs(t[2].z-t[1].z),i=a.max([n,r]);this.zoom=Math.round(19.5-Math.log(i)/Math.log(2)),this.zoom=this.zoom>16?16:this.zoom,this.zoom=this.zoom<1?1:this.zoom,this.z_scale=Math.pow(2,this.zoom-16),this.updateTileWorker.postMessage([this.zoom,t])}setCenter(e){this.children.forEach(e=>{this.remove(e)}),this.children=[];let t=this.project(e,0);this.offset.x=t.x,this.offset.y=t.z;let n={x:-1,y:-1,z:-1},r=[n,{x:1,y:-1,z:-1},{x:1,y:1,z:1},{x:-1,y:1,z:1},n].map(e=>({x:e.x*this.range_lng+t.x,y:0,z:e.z*this.range_lat+t.z}));this.updateTileWorker.postMessage([this.zoom,r])}getTiles([e,t]){e=e.map(function(e){return m(e)}),t.forEach(function(t){o(g(null,t),function(n,r){n&&(r=null);let i=t[1]%2*2+t[2]%2;l[i]&&l[i].postMessage([r,t,e,i])})})}scaleTile(e,t,n,r,i){let o=(e-t)*(i-r)/(n-t);return o=(o=o<r?r:o)>i?i:o}makeMesh([e,[t,n,i]]){let o=c/Math.pow(2,t),s=(new r.TextureLoader).load(g(!0,[t,n,i]),function(e){},null,null),u=new r.MeshBasicMaterial({map:s,side:r.DoubleSide,transparent:!0,opacity:1}),l=new r.PlaneBufferGeometry(o,o,128,128),d=a.chunk(e,3),f=[],h=[];a.range(3).forEach(e=>{f[e]=a.min(d.map(t=>t[e])),h[e]=a.max(d.map(t=>t[e]))});let p={min:f,max:h};f[1]=.7,h[1]=1.5,this.tileDimX=h[0]-f[0],this.tileDimY=h[2]-f[2],console.log(t,n,i,this.tileDimX,this.tileDimY);let m=function(e,t){let n=new Float32Array((e+1)*(e+1)*3);for(let r=0;r<e+1-1;r++){for(let i=0;i<e+1-1;i++){let o=3*(r*e+i),a=3*(r*(e+1)+i);n[a]=t[o],n[a+1]=t[o+1],n[a+2]=t[o+2]}let i=3*(r*e+e-1),o=3*(r*e+e-2),a=3*(r*(e+1)+e);n[a]=1,n[a+1]=t[i+1],n[a+2]=t[i+2]+1*(t[i+2]-t[o+2])}let r=e;for(let i=0;i<e;i++){let o=3*((r-1)*e+i),a=3*((r-2)*e+i),s=3*(r*(e+1)+i);n[s]=t[o],n[s+1]=-1,n[s+2]=t[o+2]+1*(t[o+2]-t[a+2])}let i=3*((r-1)*e+e-1),o=3*((r-1)*e+e-2),a=3*(r*(e+1)+e);return n[a]=1,n[a+1]=-1,n[a+2]=t[i+2]+1*(t[i+2]-t[o+2]),n}(128,a.flatten(d.map(e=>e.map((e,t)=>1==t?e*this.z_scale:this.scaleTile(e,f[t],h[t],0,127/128))).map(e=>[e[0],-e[2],e[1]])));l.attributes.position.array=m;let y=new r.Mesh(l,u);return this.planes.push({plane:y,data:e,range:p}),y.position.set((f[0]-this.offset.x)/this.tileDimX,-(f[2]-this.offset.y)/this.tileDimY,0),y}buildBoreHole(e){let t=e.map(e=>[e.data.detail.data.lng,e.data.detail.data.lat]).map(e=>this.project([e[0],e[1]],this.zoom)),n=a.maxBy(t,"x").x-a.minBy(t,"x").x,i=a.maxBy(t,"z").z-a.minBy(t,"z").z;(t=t.map(e=>new r.Vector3((e.x-this.offset.x)/n,e.y,(e.z-this.offset.y)/i))).forEach(e=>{let t=new r.CylinderBufferGeometry(.02,.02,.5,16),n=new r.MeshBasicMaterial({color:16776960}),i=new r.Mesh(t,n);i.rotation.x=Math.PI/2,i.position.copy(e),this.add(i)})}lnglatToElevation(e){let t=this.project(e,this.zoom),n=this.planes.filter(e=>e.range.max[0]>=t.x&&e.range.min[0]<=t.x&&e.range.max[2]>=t.z&&e.range.min[2]<=t.z);if(n.length>0){let e=n[0],r=Math.round(128*(t.x-e.range.min[0])/(e.range.max[0]-e.range.min[0]))+128*Math.round(128*(t.z-e.range.min[2])/(e.range.max[2]-e.range.min[2]));return r=(r=r<0?0:r)>16383?16383:r,e.data[3*r+1]*this.z_scale}return 0}lnglatHToXYZ(e){let t=this.project(e,this.zoom),n=this.lnglatToElevation(e);return new r.Vector3((t.x-this.offset.x)/this.tileDimX,-(t.z-this.offset.y)/this.tileDimY,n)}XYZToLnglat(e){}moveNodeToTerrain(e){let t=[e.data.detail.data.lng,e.data.detail.data.lat];this.lnglatHToXYZ(t)}init(){this.rotateX(-.5*Math.PI),this.updateTileWorker=new s,this.updateTileWorker.onmessage=(e=>this.handleMessage(e));let e=this;for(let t=0;t<4;t++){const t=new u;t.addEventListener("message",function(t){let n=t.data;if(n.makeMesh){let t=e.makeMesh(n.makeMesh);e.add(t)}},!1),l.push(t)}this.lat&&this.lng&&(this.lng,this.lat,this.setBoundingBox())}redraw(e){this.lat=+e.lat,this.lng=+e.lng,this.range_lat=e.range_lat?+e.range_lat:f,this.range_lng=e.range_lng?+e.range_lng:h,this.zoom=e.zoom?+e.zoom:p,this.lat&&this.lng&&(this.lng,this.lat,this.setBoundingBox())}clear(){this.planes.forEach(e=>this.remove(e.plane)),this.planes=[]}toggleVisible(){this.planes.forEach(e=>e.plane.visible=!e.plane.visible)}}},function(e,t,n){var r=function(){var e={},t=Math.PI/180,n=180/Math.PI,r=6378137,i=20037508.342789244;function o(e){return Number(e)===e&&e%1!=0}function a(t){if(t=t||{},this.size=t.size||256,!e[this.size]){var n=this.size,r=e[this.size]={};r.Bc=[],r.Cc=[],r.zc=[],r.Ac=[];for(var i=0;i<30;i++)r.Bc.push(n/360),r.Cc.push(n/(2*Math.PI)),r.zc.push(n/2),r.Ac.push(n),n*=2}this.Bc=e[this.size].Bc,this.Cc=e[this.size].Cc,this.zc=e[this.size].zc,this.Ac=e[this.size].Ac}return a.prototype.px=function(e,n){if(o(n)){var r=this.size*Math.pow(2,n),i=r/2,a=r/360,s=r/(2*Math.PI),u=r,l=Math.min(Math.max(Math.sin(t*e[1]),-.9999),.9999),c=i+e[0]*a,d=i+.5*Math.log((1+l)/(1-l))*-s;return c>u&&(c=u),d>u&&(d=u),[c,d]}i=this.zc[n],l=Math.min(Math.max(Math.sin(t*e[1]),-.9999),.9999),c=Math.round(i+e[0]*this.Bc[n]),d=Math.round(i+.5*Math.log((1+l)/(1-l))*-this.Cc[n]);return c>this.Ac[n]&&(c=this.Ac[n]),d>this.Ac[n]&&(d=this.Ac[n]),[c,d]},a.prototype.ll=function(e,t){if(o(t)){var r=this.size*Math.pow(2,t),i=r/360,a=r/(2*Math.PI),s=r/2,u=(e[1]-s)/-a;return[(e[0]-s)/i,n*(2*Math.atan(Math.exp(u))-.5*Math.PI)]}u=(e[1]-this.zc[t])/-this.Cc[t];return[(e[0]-this.zc[t])/this.Bc[t],n*(2*Math.atan(Math.exp(u))-.5*Math.PI)]},a.prototype.bbox=function(e,t,n,r,i){r&&(t=Math.pow(2,n)-1-t);var o=[e*this.size,(+t+1)*this.size],a=[(+e+1)*this.size,t*this.size],s=this.ll(o,n).concat(this.ll(a,n));return"900913"===i?this.convert(s,"900913"):s},a.prototype.xyz=function(e,t,n,r){"900913"===r&&(e=this.convert(e,"WGS84"));var i=[e[0],e[1]],o=[e[2],e[3]],a=this.px(i,t),s=this.px(o,t),u=[Math.floor(a[0]/this.size),Math.floor((s[0]-1)/this.size)],l=[Math.floor(s[1]/this.size),Math.floor((a[1]-1)/this.size)],c={minX:Math.min.apply(Math,u)<0?0:Math.min.apply(Math,u),minY:Math.min.apply(Math,l)<0?0:Math.min.apply(Math,l),maxX:Math.max.apply(Math,u),maxY:Math.max.apply(Math,l)};if(n){var d={minY:Math.pow(2,t)-1-c.maxY,maxY:Math.pow(2,t)-1-c.minY};c.minY=d.minY,c.maxY=d.maxY}return c},a.prototype.convert=function(e,t){return"900913"===t?this.forward(e.slice(0,2)).concat(this.forward(e.slice(2,4))):this.inverse(e.slice(0,2)).concat(this.inverse(e.slice(2,4)))},a.prototype.forward=function(e){var n=[r*e[0]*t,r*Math.log(Math.tan(.25*Math.PI+.5*e[1]*t))];return n[0]>i&&(n[0]=i),n[0]<-i&&(n[0]=-i),n[1]>i&&(n[1]=i),n[1]<-i&&(n[1]=-i),n},a.prototype.inverse=function(e){return[e[0]*n/r,(.5*Math.PI-2*Math.atan(Math.exp(-e[1]/r)))*n]},a}();e.exports=r},function(e,t,n){"use strict";(function(t,r){var i=n(2386),o=n(1281),a=n(2388).GifReader,s=(n(2389),n(2395),n(2396));function u(e,t){var n;try{n=new a(e)}catch(e){return void t(e)}if(n.numFrames()>0){var r=[n.numFrames(),n.height,n.width,4],i=new Uint8Array(r[0]*r[1]*r[2]*r[3]),s=o(i,r);try{for(var u=0;u<n.numFrames();++u)n.decodeAndBlitFrameRGBA(u,i.subarray(s.index(u,0,0,0),s.index(u+1,0,0,0)))}catch(e){return void t(e)}t(null,s.transpose(0,2,1))}else{r=[n.height,n.width,4],i=new Uint8Array(r[0]*r[1]*r[2]),s=o(i,r);try{n.decodeAndBlitFrameRGBA(0,i)}catch(e){return void t(e)}t(null,s.transpose(1,0))}}function l(e,n){t.nextTick(function(){try{var t=s(e);t?u(function(e){if(void 0===e[0]){for(var t=e.length,n=new Uint8Array(t),r=0;r<t;++r)n[r]=e.get(r);return n}return new Uint8Array(e)}(t),n):n(new Error("Error parsing data URI"))}catch(e){n(e)}})}e.exports=function(e,t,n){n||(n=t,t="");var a=i.extname(e);switch(t||a.toUpperCase()){case".GIF":!function(e,t){var n=new XMLHttpRequest;n.open("GET",e,!0),n.responseType="arraybuffer",n.overrideMimeType&&n.overrideMimeType("application/binary"),n.onerror=function(e){t(e)},n.onload=function(){4===n.readyState&&u(new Uint8Array(n.response),t)},n.send()}(e,n);break;default:r.isBuffer(e)&&(e="data:"+t+";base64,"+e.toString("base64")),0===e.indexOf("data:image/gif;")?l(e,n):function(e,t){var n=new Image;n.crossOrigin="Anonymous",n.onload=function(){var e=document.createElement("canvas");e.width=n.width,e.height=n.height;var r=e.getContext("2d");r.drawImage(n,0,0);var i=r.getImageData(0,0,n.width,n.height);t(null,o(new Uint8Array(i.data),[n.width,n.height,4],[4,4*n.width,1],0))},n.onerror=function(e){t(e)},n.src=e}(e,n)}}}).call(t,n(59),n(71).Buffer)},function(e,t,n){(function(e){function n(e,t){for(var n=0,r=e.length-1;r>=0;r--){var i=e[r];"."===i?e.splice(r,1):".."===i?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}var r=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,i=function(e){return r.exec(e).slice(1)};function o(e,t){if(e.filter)return e.filter(t);for(var n=[],r=0;r<e.length;r++)t(e[r],r,e)&&n.push(e[r]);return n}t.resolve=function(){for(var t="",r=!1,i=arguments.length-1;i>=-1&&!r;i--){var a=i>=0?arguments[i]:e.cwd();if("string"!=typeof a)throw new TypeError("Arguments to path.resolve must be strings");a&&(t=a+"/"+t,r="/"===a.charAt(0))}return t=n(o(t.split("/"),function(e){return!!e}),!r).join("/"),(r?"/":"")+t||"."},t.normalize=function(e){var r=t.isAbsolute(e),i="/"===a(e,-1);return(e=n(o(e.split("/"),function(e){return!!e}),!r).join("/"))||r||(e="."),e&&i&&(e+="/"),(r?"/":"")+e},t.isAbsolute=function(e){return"/"===e.charAt(0)},t.join=function(){var e=Array.prototype.slice.call(arguments,0);return t.normalize(o(e,function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e}).join("/"))},t.relative=function(e,n){function r(e){for(var t=0;t<e.length&&""===e[t];t++);for(var n=e.length-1;n>=0&&""===e[n];n--);return t>n?[]:e.slice(t,n-t+1)}e=t.resolve(e).substr(1),n=t.resolve(n).substr(1);for(var i=r(e.split("/")),o=r(n.split("/")),a=Math.min(i.length,o.length),s=a,u=0;u<a;u++)if(i[u]!==o[u]){s=u;break}var l=[];for(u=s;u<i.length;u++)l.push("..");return(l=l.concat(o.slice(s))).join("/")},t.sep="/",t.delimiter=":",t.dirname=function(e){var t=i(e),n=t[0],r=t[1];return n||r?(r&&(r=r.substr(0,r.length-1)),n+r):"."},t.basename=function(e,t){var n=i(e)[2];return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},t.extname=function(e){return i(e)[3]};var a="b"==="ab".substr(-1)?function(e,t,n){return e.substr(t,n)}:function(e,t,n){return t<0&&(t=e.length+t),e.substr(t,n)}}).call(t,n(59))},function(e,t,n){"use strict";e.exports=function(e){for(var t=new Array(e),n=0;n<e;++n)t[n]=n;return t}},function(e,t,n){"use strict";function r(e,t,n,r){for(var i=e[t++],o=1<<i,a=o+1,s=a+1,u=i+1,l=(1<<u)-1,c=0,d=0,f=0,h=e[t++],p=new Int32Array(4096),m=null;;){for(;c<16&&0!==h;)d|=e[t++]<<c,c+=8,1===h?h=e[t++]:--h;if(c<u)break;var g=d&l;if(d>>=u,c-=u,g!==o){if(g===a)break;for(var y=g<s?g:m,v=0,b=y;b>o;)b=p[b]>>8,++v;var _=b;if(f+v+(y!==g?1:0)>r)return void console.log("Warning, gif stream longer than expected.");n[f++]=_;var w=f+=v;for(y!==g&&(n[f++]=_),b=y;v--;)b=p[b],n[--w]=255&b,b>>=8;null!==m&&s<4096&&(p[s++]=m<<8|_,s>=l+1&&u<12&&(++u,l=l<<1|1)),m=g}else s=a+1,l=(1<<(u=i+1))-1,m=null}return f!==r&&console.log("Warning, gif stream shorter than expected."),n}try{t.GifWriter=function(e,t,n,r){var i=0,o=void 0===(r=void 0===r?{}:r).loop?null:r.loop,a=void 0===r.palette?null:r.palette;if(t<=0||n<=0||t>65535||n>65535)throw new Error("Width/Height invalid.");function s(e){var t=e.length;if(t<2||t>256||t&t-1)throw new Error("Invalid code/color length, must be power of 2 and 2 .. 256.");return t}e[i++]=71,e[i++]=73,e[i++]=70,e[i++]=56,e[i++]=57,e[i++]=97;var u=0,l=0;if(null!==a){for(var c=s(a);c>>=1;)++u;if(c=1<<u,--u,void 0!==r.background){if((l=r.background)>=c)throw new Error("Background index out of range.");if(0===l)throw new Error("Background index explicitly passed as 0.")}}if(e[i++]=255&t,e[i++]=t>>8&255,e[i++]=255&n,e[i++]=n>>8&255,e[i++]=(null!==a?128:0)|u,e[i++]=l,e[i++]=0,null!==a)for(var d=0,f=a.length;d<f;++d){var h=a[d];e[i++]=h>>16&255,e[i++]=h>>8&255,e[i++]=255&h}if(null!==o){if(o<0||o>65535)throw new Error("Loop count invalid.");e[i++]=33,e[i++]=255,e[i++]=11,e[i++]=78,e[i++]=69,e[i++]=84,e[i++]=83,e[i++]=67,e[i++]=65,e[i++]=80,e[i++]=69,e[i++]=50,e[i++]=46,e[i++]=48,e[i++]=3,e[i++]=1,e[i++]=255&o,e[i++]=o>>8&255,e[i++]=0}var p=!1;this.addFrame=function(t,n,r,o,u,l){if(!0===p&&(--i,p=!1),l=void 0===l?{}:l,t<0||n<0||t>65535||n>65535)throw new Error("x/y invalid.");if(r<=0||o<=0||r>65535||o>65535)throw new Error("Width/Height invalid.");if(u.length<r*o)throw new Error("Not enough pixels for the frame size.");var c=!0,d=l.palette;if(void 0!==d&&null!==d||(c=!1,d=a),void 0===d||null===d)throw new Error("Must supply either a local or global palette.");for(var f=s(d),h=0;f>>=1;)++h;f=1<<h;var m=void 0===l.delay?0:l.delay,g=void 0===l.disposal?0:l.disposal;if(g<0||g>3)throw new Error("Disposal out of range.");var y=!1,v=0;if(void 0!==l.transparent&&null!==l.transparent&&(y=!0,(v=l.transparent)<0||v>=f))throw new Error("Transparent color index.");if((0!==g||y||0!==m)&&(e[i++]=33,e[i++]=249,e[i++]=4,e[i++]=g<<2|(!0===y?1:0),e[i++]=255&m,e[i++]=m>>8&255,e[i++]=v,e[i++]=0),e[i++]=44,e[i++]=255&t,e[i++]=t>>8&255,e[i++]=255&n,e[i++]=n>>8&255,e[i++]=255&r,e[i++]=r>>8&255,e[i++]=255&o,e[i++]=o>>8&255,e[i++]=!0===c?128|h-1:0,!0===c)for(var b=0,_=d.length;b<_;++b){var w=d[b];e[i++]=w>>16&255,e[i++]=w>>8&255,e[i++]=255&w}return i=function(e,t,n,r){e[t++]=n;var i=t++,o=1<<n,a=o-1,s=o+1,u=s+1,l=n+1,c=0,d=0;function f(n){for(;c>=n;)e[t++]=255&d,d>>=8,c-=8,t===i+256&&(e[i]=255,i=t++)}function h(e){d|=e<<c,c+=l,f(8)}var p=r[0]&a,m={};h(o);for(var g=1,y=r.length;g<y;++g){var v=r[g]&a,b=p<<8|v,_=m[b];if(void 0===_){for(d|=p<<c,c+=l;c>=8;)e[t++]=255&d,d>>=8,c-=8,t===i+256&&(e[i]=255,i=t++);4096===u?(h(o),u=s+1,l=n+1,m={}):(u>=1<<l&&++l,m[b]=u++),p=v}else p=_}return h(p),h(s),f(1),i+1===t?e[i]=0:(e[i]=t-i-1,e[t++]=0),t}(e,i,h<2?2:h,u)},this.end=function(){return!1===p&&(e[i++]=59,p=!0),i},this.getOutputBuffer=function(){return e},this.setOutputBuffer=function(t){e=t},this.getOutputBufferPosition=function(){return i},this.setOutputBufferPosition=function(e){i=e}},t.GifReader=function(e){var t=0;if(71!==e[t++]||73!==e[t++]||70!==e[t++]||56!==e[t++]||56!=(e[t++]+1&253)||97!==e[t++])throw new Error("Invalid GIF 87a/89a header.");var n=e[t++]|e[t++]<<8,i=e[t++]|e[t++]<<8,o=e[t++],a=o>>7,s=1<<1+(7&o);e[t++],e[t++];var u=null,l=null;a&&(u=t,l=s,t+=3*s);var c=!0,d=[],f=0,h=null,p=0,m=null;for(this.width=n,this.height=i;c&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(11!==e[t]||78==e[t+1]&&69==e[t+2]&&84==e[t+3]&&83==e[t+4]&&67==e[t+5]&&65==e[t+6]&&80==e[t+7]&&69==e[t+8]&&50==e[t+9]&&46==e[t+10]&&48==e[t+11]&&3==e[t+12]&&1==e[t+13]&&0==e[t+16])t+=14,m=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((C=e[t++])>=0))throw Error("Invalid block size");if(0===C)break;t+=C}break;case 249:if(4!==e[t++]||0!==e[t+4])throw new Error("Invalid graphics extension block.");var g=e[t++];f=e[t++]|e[t++]<<8,h=e[t++],0==(1&g)&&(h=null),p=g>>2&7,t++;break;case 254:for(;;){if(!((C=e[t++])>=0))throw Error("Invalid block size");if(0===C)break;t+=C}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var y=e[t++]|e[t++]<<8,v=e[t++]|e[t++]<<8,b=e[t++]|e[t++]<<8,_=e[t++]|e[t++]<<8,w=e[t++],k=w>>6&1,E=1<<1+(7&w),x=u,S=l,M=!1;w>>7&&(M=!0,x=t,S=E,t+=3*E);var T=t;for(t++;;){var C;if(!((C=e[t++])>=0))throw Error("Invalid block size");if(0===C)break;t+=C}d.push({x:y,y:v,width:b,height:_,has_local_palette:M,palette_offset:x,palette_size:S,data_offset:T,data_length:t-T,transparent_index:h,interlaced:!!k,delay:f,disposal:p});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return d.length},this.loopCount=function(){return m},this.frameInfo=function(e){if(e<0||e>=d.length)throw new Error("Frame index out of range.");return d[e]},this.decodeAndBlitFrameBGRA=function(t,i){var o=this.frameInfo(t),a=o.width*o.height,s=new Uint8Array(a);r(e,o.data_offset,s,a);var u=o.palette_offset,l=o.transparent_index;null===l&&(l=256);var c=o.width,d=n-c,f=c,h=4*(o.y*n+o.x),p=4*((o.y+o.height)*n+o.x),m=h,g=4*d;!0===o.interlaced&&(g+=4*n*7);for(var y=8,v=0,b=s.length;v<b;++v){var _=s[v];if(0===f&&(f=c,(m+=g)>=p&&(g=4*d+4*n*(y-1),m=h+(c+d)*(y<<1),y>>=1)),_===l)m+=4;else{var w=e[u+3*_],k=e[u+3*_+1],E=e[u+3*_+2];i[m++]=E,i[m++]=k,i[m++]=w,i[m++]=255}--f}},this.decodeAndBlitFrameRGBA=function(t,i){var o=this.frameInfo(t),a=o.width*o.height,s=new Uint8Array(a);r(e,o.data_offset,s,a);var u=o.palette_offset,l=o.transparent_index;null===l&&(l=256);var c=o.width,d=n-c,f=c,h=4*(o.y*n+o.x),p=4*((o.y+o.height)*n+o.x),m=h,g=4*d;!0===o.interlaced&&(g+=4*n*7);for(var y=8,v=0,b=s.length;v<b;++v){var _=s[v];if(0===f&&(f=c,(m+=g)>=p&&(g=4*d+4*n*(y-1),m=h+(c+d)*(y<<1),y>>=1)),_===l)m+=4;else{var w=e[u+3*_],k=e[u+3*_+1],E=e[u+3*_+2];i[m++]=w,i[m++]=k,i[m++]=E,i[m++]=255}--f}}}}catch(e){}},function(e,t,n){"use strict";var r=n(1281),i=n(2390);e.exports=function(e,t){for(var n=[],o=e,a=1;Array.isArray(o);)n.push(o.length),a*=o.length,o=o[0];return 0===n.length?r():(t||(t=r(new Float64Array(a),n)),i(t,e),t)}},function(e,t,n){e.exports=n(2391)({args:["array","scalar","index"],pre:{body:"{}",args:[],thisVars:[],localVars:[]},body:{body:"{\nvar _inline_1_v=_inline_1_arg1_,_inline_1_i\nfor(_inline_1_i=0;_inline_1_i<_inline_1_arg2_.length-1;++_inline_1_i) {\n_inline_1_v=_inline_1_v[_inline_1_arg2_[_inline_1_i]]\n}\n_inline_1_arg0_=_inline_1_v[_inline_1_arg2_[_inline_1_arg2_.length-1]]\n}",args:[{name:"_inline_1_arg0_",lvalue:!0,rvalue:!1,count:1},{name:"_inline_1_arg1_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_1_arg2_",lvalue:!1,rvalue:!0,count:4}],thisVars:[],localVars:["_inline_1_i","_inline_1_v"]},post:{body:"{}",args:[],thisVars:[],localVars:[]},funcName:"convert",blockSize:64})},function(e,t,n){"use strict";var r=n(2392);e.exports=function(e){var t=new function(){this.argTypes=[],this.shimArgs=[],this.arrayArgs=[],this.arrayBlockIndices=[],this.scalarArgs=[],this.offsetArgs=[],this.offsetArgIndex=[],this.indexArgs=[],this.shapeArgs=[],this.funcName="",this.pre=null,this.body=null,this.post=null,this.debug=!1};t.pre=e.pre,t.body=e.body,t.post=e.post;var n=e.args.slice(0);t.argTypes=n;for(var i=0;i<n.length;++i){var o=n[i];if("array"===o||"object"==typeof o&&o.blockIndices){if(t.argTypes[i]="array",t.arrayArgs.push(i),t.arrayBlockIndices.push(o.blockIndices?o.blockIndices:0),t.shimArgs.push("array"+i),i<t.pre.args.length&&t.pre.args[i].count>0)throw new Error("cwise: pre() block may not reference array args");if(i<t.post.args.length&&t.post.args[i].count>0)throw new Error("cwise: post() block may not reference array args")}else if("scalar"===o)t.scalarArgs.push(i),t.shimArgs.push("scalar"+i);else if("index"===o){if(t.indexArgs.push(i),i<t.pre.args.length&&t.pre.args[i].count>0)throw new Error("cwise: pre() block may not reference array index");if(i<t.body.args.length&&t.body.args[i].lvalue)throw new Error("cwise: body() block may not write to array index");if(i<t.post.args.length&&t.post.args[i].count>0)throw new Error("cwise: post() block may not reference array index")}else if("shape"===o){if(t.shapeArgs.push(i),i<t.pre.args.length&&t.pre.args[i].lvalue)throw new Error("cwise: pre() block may not write to array shape");if(i<t.body.args.length&&t.body.args[i].lvalue)throw new Error("cwise: body() block may not write to array shape");if(i<t.post.args.length&&t.post.args[i].lvalue)throw new Error("cwise: post() block may not write to array shape")}else{if("object"!=typeof o||!o.offset)throw new Error("cwise: Unknown argument type "+n[i]);t.argTypes[i]="offset",t.offsetArgs.push({array:o.array,offset:o.offset}),t.offsetArgIndex.push(i)}}if(t.arrayArgs.length<=0)throw new Error("cwise: No array arguments specified");if(t.pre.args.length>n.length)throw new Error("cwise: Too many arguments in pre() block");if(t.body.args.length>n.length)throw new Error("cwise: Too many arguments in body() block");if(t.post.args.length>n.length)throw new Error("cwise: Too many arguments in post() block");return t.debug=!!e.printCode||!!e.debug,t.funcName=e.funcName||"cwise",t.blockSize=e.blockSize||64,r(t)}},function(e,t,n){"use strict";var r=n(2393);e.exports=function(e){var t=["'use strict'","var CACHED={}"],n=[],i=e.funcName+"_cwise_thunk";t.push(["return function ",i,"(",e.shimArgs.join(","),"){"].join(""));for(var o=[],a=[],s=[["array",e.arrayArgs[0],".shape.slice(",Math.max(0,e.arrayBlockIndices[0]),e.arrayBlockIndices[0]<0?","+e.arrayBlockIndices[0]+")":")"].join("")],u=[],l=[],c=0;c<e.arrayArgs.length;++c){var d=e.arrayArgs[c];n.push(["t",d,"=array",d,".dtype,","r",d,"=array",d,".order"].join("")),o.push("t"+d),o.push("r"+d),a.push("t"+d),a.push("r"+d+".join()"),s.push("array"+d+".data"),s.push("array"+d+".stride"),s.push("array"+d+".offset|0"),c>0&&(u.push("array"+e.arrayArgs[0]+".shape.length===array"+d+".shape.length+"+(Math.abs(e.arrayBlockIndices[0])-Math.abs(e.arrayBlockIndices[c]))),l.push("array"+e.arrayArgs[0]+".shape[shapeIndex+"+Math.max(0,e.arrayBlockIndices[0])+"]===array"+d+".shape[shapeIndex+"+Math.max(0,e.arrayBlockIndices[c])+"]"))}for(e.arrayArgs.length>1&&(t.push("if (!("+u.join(" && ")+")) throw new Error('cwise: Arrays do not all have the same dimensionality!')"),t.push("for(var shapeIndex=array"+e.arrayArgs[0]+".shape.length-"+Math.abs(e.arrayBlockIndices[0])+"; shapeIndex--\x3e0;) {"),t.push("if (!("+l.join(" && ")+")) throw new Error('cwise: Arrays do not all have the same shape!')"),t.push("}")),c=0;c<e.scalarArgs.length;++c)s.push("scalar"+e.scalarArgs[c]);return n.push(["type=[",a.join(","),"].join()"].join("")),n.push("proc=CACHED[type]"),t.push("var "+n.join(",")),t.push(["if(!proc){","CACHED[type]=proc=compile([",o.join(","),"])}","return proc(",s.join(","),")}"].join("")),e.debug&&console.log("-----Generated thunk:\n"+t.join("\n")+"\n----------"),new Function("compile",t.join("\n"))(r.bind(void 0,e))}},function(e,t,n){"use strict";var r=n(2394);function i(e,t,n){var r,i,o=e.length,a=t.arrayArgs.length,s=t.indexArgs.length>0,u=[],l=[],c=0,d=0;for(r=0;r<o;++r)l.push(["i",r,"=0"].join(""));for(i=0;i<a;++i)for(r=0;r<o;++r)d=c,c=e[r],0===r?l.push(["d",i,"s",r,"=t",i,"p",c].join("")):l.push(["d",i,"s",r,"=(t",i,"p",c,"-s",d,"*t",i,"p",d,")"].join(""));for(l.length>0&&u.push("var "+l.join(",")),r=o-1;r>=0;--r)c=e[r],u.push(["for(i",r,"=0;i",r,"<s",c,";++i",r,"){"].join(""));for(u.push(n),r=0;r<o;++r){for(d=c,c=e[r],i=0;i<a;++i)u.push(["p",i,"+=d",i,"s",r].join(""));s&&(r>0&&u.push(["index[",d,"]-=s",d].join("")),u.push(["++index[",c,"]"].join(""))),u.push("}")}return u.join("\n")}function o(e,t,n){for(var r=e.body,i=[],o=[],a=0;a<e.args.length;++a){var s=e.args[a];if(!(s.count<=0)){var u=new RegExp(s.name,"g"),l="",c=t.arrayArgs.indexOf(a);switch(t.argTypes[a]){case"offset":var d=t.offsetArgIndex.indexOf(a);c=t.offsetArgs[d].array,l="+q"+d;case"array":l="p"+c+l;var f="l"+a,h="a"+c;if(0===t.arrayBlockIndices[c])1===s.count?"generic"===n[c]?s.lvalue?(i.push(["var ",f,"=",h,".get(",l,")"].join("")),r=r.replace(u,f),o.push([h,".set(",l,",",f,")"].join(""))):r=r.replace(u,[h,".get(",l,")"].join("")):r=r.replace(u,[h,"[",l,"]"].join("")):"generic"===n[c]?(i.push(["var ",f,"=",h,".get(",l,")"].join("")),r=r.replace(u,f),s.lvalue&&o.push([h,".set(",l,",",f,")"].join(""))):(i.push(["var ",f,"=",h,"[",l,"]"].join("")),r=r.replace(u,f),s.lvalue&&o.push([h,"[",l,"]=",f].join("")));else{for(var p=[s.name],m=[l],g=0;g<Math.abs(t.arrayBlockIndices[c]);g++)p.push("\\s*\\[([^\\]]+)\\]"),m.push("$"+(g+1)+"*t"+c+"b"+g);if(u=new RegExp(p.join(""),"g"),l=m.join("+"),"generic"===n[c])throw new Error("cwise: Generic arrays not supported in combination with blocks!");r=r.replace(u,[h,"[",l,"]"].join(""))}break;case"scalar":r=r.replace(u,"Y"+t.scalarArgs.indexOf(a));break;case"index":r=r.replace(u,"index");break;case"shape":r=r.replace(u,"shape")}}}return[i.join("\n"),r,o.join("\n")].join("\n").trim()}e.exports=function(e,t){for(var n=t[1].length-Math.abs(e.arrayBlockIndices[0])|0,a=new Array(e.arrayArgs.length),s=new Array(e.arrayArgs.length),u=0;u<e.arrayArgs.length;++u)s[u]=t[2*u],a[u]=t[2*u+1];var l=[],c=[],d=[],f=[],h=[];for(u=0;u<e.arrayArgs.length;++u){e.arrayBlockIndices[u]<0?(d.push(0),f.push(n),l.push(n),c.push(n+e.arrayBlockIndices[u])):(d.push(e.arrayBlockIndices[u]),f.push(e.arrayBlockIndices[u]+n),l.push(0),c.push(e.arrayBlockIndices[u]));for(var p=[],m=0;m<a[u].length;m++)d[u]<=a[u][m]&&a[u][m]<f[u]&&p.push(a[u][m]-d[u]);h.push(p)}var g=["SS"],y=["'use strict'"],v=[];for(m=0;m<n;++m)v.push(["s",m,"=SS[",m,"]"].join(""));for(u=0;u<e.arrayArgs.length;++u){for(g.push("a"+u),g.push("t"+u),g.push("p"+u),m=0;m<n;++m)v.push(["t",u,"p",m,"=t",u,"[",d[u]+m,"]"].join(""));for(m=0;m<Math.abs(e.arrayBlockIndices[u]);++m)v.push(["t",u,"b",m,"=t",u,"[",l[u]+m,"]"].join(""))}for(u=0;u<e.scalarArgs.length;++u)g.push("Y"+u);if(e.shapeArgs.length>0&&v.push("shape=SS.slice(0)"),e.indexArgs.length>0){var b=new Array(n);for(u=0;u<n;++u)b[u]="0";v.push(["index=[",b.join(","),"]"].join(""))}for(u=0;u<e.offsetArgs.length;++u){var _=e.offsetArgs[u],w=[];for(m=0;m<_.offset.length;++m)0!==_.offset[m]&&(1===_.offset[m]?w.push(["t",_.array,"p",m].join("")):w.push([_.offset[m],"*t",_.array,"p",m].join("")));0===w.length?v.push("q"+u+"=0"):v.push(["q",u,"=",w.join("+")].join(""))}var k=r([].concat(e.pre.thisVars).concat(e.body.thisVars).concat(e.post.thisVars));for((v=v.concat(k)).length>0&&y.push("var "+v.join(",")),u=0;u<e.arrayArgs.length;++u)y.push("p"+u+"|=0");e.pre.body.length>3&&y.push(o(e.pre,e,s));var E=o(e.body,e,s),x=function(e){for(var t=0,n=e[0].length;t<n;){for(var r=1;r<e.length;++r)if(e[r][t]!==e[0][t])return t;++t}return t}(h);x<n?y.push(function(e,t,n,r){for(var o=t.length,a=n.arrayArgs.length,s=n.blockSize,u=n.indexArgs.length>0,l=[],c=0;c<a;++c)l.push(["var offset",c,"=p",c].join(""));for(c=e;c<o;++c)l.push(["for(var j"+c+"=SS[",t[c],"]|0;j",c,">0;){"].join("")),l.push(["if(j",c,"<",s,"){"].join("")),l.push(["s",t[c],"=j",c].join("")),l.push(["j",c,"=0"].join("")),l.push(["}else{s",t[c],"=",s].join("")),l.push(["j",c,"-=",s,"}"].join("")),u&&l.push(["index[",t[c],"]=j",c].join(""));for(c=0;c<a;++c){for(var d=["offset"+c],f=e;f<o;++f)d.push(["j",f,"*t",c,"p",t[f]].join(""));l.push(["p",c,"=(",d.join("+"),")"].join(""))}for(l.push(i(t,n,r)),c=e;c<o;++c)l.push("}");return l.join("\n")}(x,h[0],e,E)):y.push(i(h[0],e,E)),e.post.body.length>3&&y.push(o(e.post,e,s)),e.debug&&console.log("-----Generated cwise routine for ",t,":\n"+y.join("\n")+"\n----------");var S=[e.funcName||"unnamed","_cwise_loop_",a[0].join("s"),"m",x,function(e){for(var t=new Array(e.length),n=!0,r=0;r<e.length;++r){var i=e[r],o=i.match(/\d+/);o=o?o[0]:"",0===i.charAt(0)?t[r]="u"+i.charAt(1)+o:t[r]=i.charAt(0)+o,r>0&&(n=n&&t[r]===t[r-1])}return n?t[0]:t.join("")}(s)].join("");return new Function(["function ",S,"(",g.join(","),"){",y.join("\n"),"} return ",S].join(""))()}},function(e,t,n){"use strict";e.exports=function(e,t,n){return 0===e.length?e:t?(n||e.sort(t),function(e,t){for(var n=1,r=e.length,i=e[0],o=e[0],a=1;a<r;++a)if(o=i,t(i=e[a],o)){if(a===n){n++;continue}e[n++]=i}return e.length=n,e}(e,t)):(n||e.sort(),function(e){for(var t=1,n=e.length,r=e[0],i=e[0],o=1;o<n;++o,i=r)if(i=r,(r=e[o])!==i){if(o===t){t++;continue}e[t++]=r}return e.length=t,e}(e))}},function(e,t,n){(function(r){var i=n(431);function o(e,t,n){e=e||function(e){this.queue(e)},t=t||function(){this.queue(null)};var o=!1,a=!1,s=[],u=!1,l=new i;function c(){for(;s.length&&!l.paused;){var e=s.shift();if(null===e)return l.emit("end");l.emit("data",e)}}return l.readable=l.writable=!0,l.paused=!1,l.autoDestroy=!(n&&!1===n.autoDestroy),l.write=function(t){return e.call(this,t),!l.paused},l.queue=l.push=function(e){return u?l:(null===e&&(u=!0),s.push(e),c(),l)},l.on("end",function(){l.readable=!1,!l.writable&&l.autoDestroy&&r.nextTick(function(){l.destroy()})}),l.end=function(e){if(!o)return o=!0,arguments.length&&l.write(e),l.writable=!1,t.call(l),!l.readable&&l.autoDestroy&&l.destroy(),l},l.destroy=function(){if(!a)return a=!0,o=!0,s.length=0,l.writable=l.readable=!1,l.emit("close"),l},l.pause=function(){if(!l.paused)return l.paused=!0,l},l.resume=function(){return l.paused&&(l.paused=!1,l.emit("resume")),c(),l.paused||l.emit("drain"),l},l}t=e.exports=o,o.through=o}).call(t,n(59))},function(e,t,n){(function(t){e.exports=function(e){if(!/^data\:/i.test(e))throw new TypeError('`uri` does not appear to be a Data URI (must begin with "data:")');var n=(e=e.replace(/\r?\n/g,"")).indexOf(",");if(-1===n||n<=4)throw new TypeError("malformed data: URI");for(var r=e.substring(5,n).split(";"),i=!1,o="US-ASCII",a=0;a<r.length;a++)"base64"==r[a]?i=!0:0==r[a].indexOf("charset=")&&(o=r[a].substring(8));var s=unescape(e.substring(n+1)),u=new t(s,i?"base64":"ascii");return u.type=r[0]||"text/plain",u.charset=o,u}}).call(t,n(71).Buffer)},function(e,t,n){e.exports=function(){return new Worker(n.p+"updateTile.js")}},function(e,t,n){e.exports=function(){return new Worker(n.p+"elevation.js")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VehicleControl=t.VehicleHome=void 0;var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(353),a=(r=o)&&r.__esModule?r:{default:r};var s=new THREE.Vector3(0,0,3),u=new THREE.Vector3(0,0,1.5),l=new THREE.Vector3(0,0,6),c=function(){function e(t,n,r,i){var o=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.vehicle=t,this.camera=n,this.cloudScene=r,this.keyboardStream=i,this.velocity=new THREE.Vector3,this.speed=1,this.driveStream=this.keyboardStream.down,this.keyboardStream.down.filter(function(e){return"Shift"==e}).subscribe(function(){o.speed=10}),this.keyboardStream.up.filter(function(e){return"Shift"==e}).subscribe(function(){return o.speed=1})}return i(e,[{key:"flyToNode",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1.5,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3e3,r=e?e.position:s,i=this.cloudScene.localToWorld(r.clone());this.drive_to(i,t,n)}},{key:"drive_to",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1.5,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3e3,i=this.vehicle.clone(),o={t:0};new a.default.Tween(o).to({t:1},r).onUpdate(function(){var r=new THREE.Vector3;t.camera.getWorldDirection(r);var a=e.clone().sub(r.multiplyScalar(n)).sub(_drawing.camera_local.position),s=i.clone().multiplyScalar(1-o.t).add(a.clone().multiplyScalar(o.t));t.vehicle.copy(s)}).easing(a.default.Easing.Quadratic.InOut).start(window.performance.now())}},{key:"lookat_node",value:function(e){var t=this.cloudScene.localToWorld(e.position.clone());this.lookat(t,3e3)}},{key:"lookat",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3e3,n=_drawing.controls.target.clone(),r={t:0};new a.default.Tween(r).to({t:1},t).onUpdate(function(){var t=n.clone().multiplyScalar(1-r.t).add(e.clone().sub(_drawing.vehicle).multiplyScalar(r.t));_drawing.controls.target.copy(t)}).easing(a.default.Easing.Quadratic.InOut).start(window.performance.now())}},{key:"home",value:function(){this.drive_to(s)}},{key:"middle",value:function(){this.drive_to(u)}},{key:"far",value:function(){this.drive_to(l)}},{key:"lookatHome",value:function(){this.lookat(new THREE.Vector3(0,0,-1e4))}},{key:"update",value:function(){this.velocity.length()>.001&&(this.velocity.multiplyScalar(.97),this.vehicle.add(this.velocity.clone().multiplyScalar(this.speed)))}}]),e}();t.VehicleHome=s,t.VehicleControl=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(11),o=(r=i)&&r.__esModule?r:{default:r};var a={updateEdgeIds:function(e){this.edgeIds=e,this.edgeIds&&Array.isArray(this.edgeIds)&&this.edgeIds.length>=0?(this.edgeIds=this.edgeIds.map(function(e){return e+""}),this.nodeIds=o.default.uniq(o.default.flatten(this.edgeIds.map(function(e){return e.split("-")}))).map(function(e){return e+""})):this.nodeIds=null},apply:function(e){var t=this;this.edgeIds&&Array.isArray(this.edgeIds)&&this.edgeIds.length>=0&&e.visibleEdges.forEach(function(e){t.edgeIds.indexOf(""+e.id)<0&&(e.alpha=.2)}),this.nodeIds&&e.visibleNodes.forEach(function(e){t.nodeIds.indexOf(""+e.id)<0&&(e.alpha=.2)})}};t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(23)),s(n(11)),n(90),n(768)),o=s(n(2402)),a=(s(n(2407)),s(n(2409)));function s(e){return e&&e.__esModule?e:{default:e}}var u=function(){function e(t,n,r,s,u,l,c,d,f){var h=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.renderer=t,this.camera=n,this.scene=r,this.cloudScene=d,this.audioManager=f,this.controls=s,this.graphMenu=u,this.graph=l,this.store=c,this.app=this.store.getState(),this.webVR=new i.WebVR(this.renderer),this.controllers={},this.webVR.isAvailable()&&(this.vrGamepad=new o.default(this.scene,this.camera,this.audioManager,this.renderer),this.vrPoseControl=new a.default(this.cloudScene,this.vrGamepad),this.webVR.on("change",function(){h.vrGamepad.hanldeVRDisplayPresentChange(h.webVR.isPresenting())},"vr"),this.initVRButton())}return r(e,[{key:"initVRButton",value:function(){var e=this,t=this.webVR.getButton();t.onclick=null,t.addEventListener("mousedown",function(t){console.log("Click the Enter VR button (VR.js)"),e.enterVR(!e.webVR.isPresenting())},!0)}},{key:"enterVR",value:function(e){this.webVR?this.webVR.enterVR(e):console.warn("WebVR not ready now, Please check the file logic")}},{key:"sendAction",value:function(e){this.store.dispatch(e)}},{key:"clear",value:function(){this.vrGamepad&&this.VRGampad.clear()}},{key:"render",value:function(){this.vrGamepad&&this.webVR.isPresenting()&&(this.vrGamepad.update(),this.vrSearch&&this.vrSearch.update())}},{key:"on",value:function(e,t){this.vrGamepad&&this.vrGamepad.on(e,t)}},{key:"trigger",value:function(e,t){this.vrGamepad&&this.vrGamepad.trigger(e,t)}}]),e}();t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VRGampad=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=c(n(11)),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(23)),a=c(n(301)),s=c(n(2403)),u=n(2406),l=c(n(50));function c(e){return e&&e.__esModule?e:{default:e}}var d=function(){function e(t,n,r,i){var s=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scene=t,this.camera=n,this.renderer=i,this.audioManager=r,this.rightControllerPoseStream=new a.default.Subject,this.rightGripStream=new a.default.Subject,this.rightTriggerStream=new a.default.Subject,this.buttonAStream=new a.default.Subject,this.buttonBStream=new a.default.Subject,this.rightThumbpadStream=new a.default.Subject,this.rightAxischangedStream=new a.default.Subject,this.leftControllerPoseStream=new a.default.Subject,this.leftGripStream=new a.default.Subject,this.leftTriggerStream=new a.default.Subject,this.buttonXStream=new a.default.Subject,this.buttonYStream=new a.default.Subject,this.leftThumbpadStream=new a.default.Subject,this.leftAxischangedStream=new a.default.Subject,this.triggerMoveStream=new a.default.Subject,this.raycaster=new o.Raycaster,this.raycaster.near=.1,this.raycaster.far=4,this.raycaster.params.Points.threshold=.05,this.tempMatrix=new o.Matrix4,this.searchingObjects=[],this.searchLine=this.rightAxischangedStream.distinctUntilChanged().filter(function(e){return"bottom"==e}).flatMap(function(){return s.pointerOn(),s.rightControllerPoseStream.takeUntil(s.rightAxischangedStream.distinctUntilChanged().filter(function(e){return"bottom"!==e}))}),this.rightAxischangedStream.distinctUntilChanged().filter(function(e){return"bottom"!==e}).subscribe(function(){s.pointerOff()}),this.standingMatrix=this.renderer.vr.getStandingMatrix(),this.controllerNames=["left","right","camera"],this.events=[],this.leftController=null,this.rightController=null,this.scangamepads(),window.addEventListener("gamepadconnected",function(e){console.log("Gamepad connected at index %d: %s. %d buttons, %d axes.",e.gamepad.index,e.gamepad.id,e.gamepad.buttons.length,e.gamepad.axes.length),s.addGamepad(e.gamepad)}),window.addEventListener("gamepaddisconnected",function(e){s.removeGamePad(e.gamepad)})}return r(e,[{key:"pointerOn",value:function(){null!==this.rightController&&(this.rightController.pointerLine.visible=!0,this.updateLineLength(this.rightController))}},{key:"pointerOff",value:function(){null!==this.rightController&&(this.rightController.pointerLine.visible=!1)}},{key:"hanldeVRDisplayPresentChange",value:function(e){e?(console.log("===Entering VR==="),this.scangamepads(),this.rightController&&(this.rightController.visible=!0),this.leftController&&(this.leftController.visible=!0)):(console.log("===Leaving VR==="),this.clear(),this.rightController&&(this.rightController.visible=!1),this.leftController&&(this.leftController.visible=!1)),this.trigger("isPresenting",event)}},{key:"getGamepadLine",value:function(){var e=new o.Geometry;e.vertices.push(new o.Vector3(0,0,0)),e.vertices.push(new o.Vector3(0,0,-1));var t=new o.Line(e);return t.name="gamepad-line",t.scale.z=l.default.config.pointerReachDistance,t}},{key:"addSearchObject",value:function(e){this.searchingObjects.includes(e)||this.searchingObjects.push(e)}},{key:"updateLineLength",value:function(e,t){var n=e.getObjectByName("gamepad-line");n.scale.z=t||l.default.config.pointerReachDistance}},{key:"getControllers",value:function(){return{left:this.leftController,right:this.rightController}}},{key:"getIntersections",value:function(e){return this.tempMatrix.identity().extractRotation(e.matrixWorld),this.raycaster.ray.origin.setFromMatrixPosition(e.matrixWorld),this.raycaster.ray.direction.set(0,0,-1).applyMatrix4(this.tempMatrix),this.raycaster.intersectObjects(this.searchingObjects)}},{key:"removeGameController",value:function(e){e&&(this.scene.remove(e),this.bindControllerEvents(e,null,!0),this.scene.remove(e),this.bindGripsAndTriggerEvents(e,!0))}},{key:"removeGamePad",value:function(e){var t=null;this.leftController&&this.leftController.type==e.id?(t=this.leftController,this.leftController=null):this.rightController&&this.rightController.type==e.id&&(t=this.rightController,this.rightController=null),this.removeGameController(t)}},{key:"addGamepad",value:function(e){if(e&&(0,u.isVRGamePad)(e)){console.log("Current gamepad is:",e.id,e.index,e.displayId),!e.hand&&/oculus touch/gi.test(e.id)&&(e.hand=/Left/gi.test(e.id)?"left":"right");var t=null;if(/openvr/gi.test(e.id)||/oculus touch/gi.test(e.id)||/spatial/gi.test(e.id)&&/edge/gi.test(window.navigator.userAgent)?t=this.initController(e):console.warn("Unable to recognize gamepad :",e),t)if(t.visible=!1,t.userData.vrui={},t.userData.vrui.pressed=!1,t.type=e.id,t.isOculus=/Oculus/gi.test(e.id),t.name=e.hand,this.bindControllerEvents(t,t.name),t.standingMatrix=this.renderer.vr.getStandingMatrix(),t.userData.points=[new o.Vector3,new o.Vector3],t.userData.matrices=[new o.Matrix4,new o.Matrix4],t.audio=this.audioManager.createAudio({name:"click_"+e.hand,type:"positional",source:"/public/audio/click_"+("left"==e.hand?0:1)+".mp3",refDistance:.1,volume:1}),this.scene.add(t),"left"==e.hand)this.leftController&&this.removeGameController(this.leftController),this.leftController=t;else{this.rightController&&this.removeGameController(this.rightController),this.rightController=t;var n=this.getGamepadLine();t.add(n),t.pointerLine=n,t.pointerLine.visible=!1}this.bindGripsAndTriggerEvents(t)}}},{key:"scangamepads",value:function(){var e=this;if(!this.leftController||!this.rightController){var t=i.default.filter(navigator.getGamepads(),function(e){return null!==e});console.log("Current gamepads:",t),i.default.each(t,function(t){e.addGamepad(t)})}}},{key:"bindGripsAndTriggerEvents",value:function(e,t){var n=this;this.__eventsCacheForGripsTriggerHandler||(this.__eventsCacheForGripsTriggerHandler={right:{gripsdown:function(e){return n.rightGripStream.next("down")},gripsup:function(e){return n.rightGripStream.next("up")},triggerdown:function(e){return n.rightTriggerStream.next("down")},triggerup:function(e){return n.rightTriggerStream.next("up")},menudown:function(e){return n.buttonAStream.next(!0)},menuup:function(e){return n.buttonAStream.next(!1)},"4down":function(e){return n.buttonBStream.next(!0)},"4up":function(e){return n.buttonBStream.next(!1)},thumbpaddown:function(e){return n.rightThumbpadStream.next("down")},thumbpadup:function(e){return n.rightThumbpadStream.next("up")},axischanged:function(e){n.rightAxischangedStream.next(e.action)}},left:{gripsdown:function(e){return n.leftGripStream.next("down")},gripsup:function(e){return n.leftGripStream.next("up")},triggerdown:function(e){return n.leftTriggerStream.next("down")},triggerup:function(e){return n.leftTriggerStream.next("up")},menudown:function(e){return n.buttonXStream.next(!0)},menuup:function(e){return n.buttonXStream.next(!1)},"4down":function(e){return n.buttonYStream.next(!0)},"4up":function(e){return n.buttonYStream.next(!1)},thumbpaddown:function(e){return n.leftThumbpadStream.next(!0)},thumbpadup:function(e){return n.leftThumbpadStream.next(!1)},axischanged:function(e){n.leftAxischangedStream.next(e.action)}}}),e&&(i.default.map(this.__eventsCacheForGripsTriggerHandler[e.name],function(n,r){e.removeEventListener(r,n),t||e.addEventListener(r,n)}),console.warn((t?"remove":"add")+" the gamepad("+e.name+")"))}},{key:"bindControllerEvents",value:function(e,t,n){var r=this;if(!e)return console.warn("Miss controller, can't bind the events,");t=t||e.name,this._eventsCacheHandler||(this._eventsCacheHandler={}),this._eventsCacheHandler[t]||(this._eventsCacheHandler[t]={});["axischanged","thumbpaddown","thumbpadup","triggerdown","triggerup","gripsdown","gripsup","menudown","menuup","4down","4up"].map(function(i){r._eventsCacheHandler[t][i]||(r._eventsCacheHandler[t][i]=function(e){r.trigger(i,e)}),n?e.removeEventListener(i,r._eventsCacheHandler[t][i],!1):e.addEventListener(i,r._eventsCacheHandler[t][i],!1)})}},{key:"clear",value:function(){var e=this;i.default.each(this.getControllers(),function(t,n){t&&(e.bindControllerEvents(t,null,!0),e.scene.remove(t))}),this.bindGripsAndTriggerEvents(this.rightController,!0),this.bindGripsAndTriggerEvents(this.leftController,!0),this.rightController=null,this.leftController=null}},{key:"update",value:function(){var e=this;i.default.each(this.getControllers(),function(t){if(t&&(t.update(),t.getGamepad())){var n=t.getGamepad();"left"==t.name?e.leftControllerPoseStream.next(n.pose):"right"==t.name&&e.rightControllerPoseStream.next(n.pose),n=null}})}},{key:"on",value:function(e,t){this.events[e]=t}},{key:"trigger",value:function(e,t){/down$/gi.test(e)&&t.target.audio&&t.target.audio.play&&t.target.audio.play(),this.events[e]&&this.events[e](t)}},{key:"initController",value:function(e){var t=e.id+"-"+e.index,n=new u.VRController(t);return s.default.getVRModel(t,e.hand).then(function(e){n.add(e.clone())}),n}},{key:"intersectingSteam",get:function(){var e=this;return this.searchLine.map(function(t){return e.getIntersections(e.rightController)})}}]),e}();t.default=d,t.VRGampad=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(23));n(2404),n(2405);var o=null,a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._caches={vive:null,rift:{left:null,right:null}}}return r(e,null,[{key:"getShareInstance",value:function(){return o||(o=new e),o}},{key:"getVRModel",value:function(e,t){var n=this,r=/OpenVR/gi.test(e)?"vive":/Spatial/gi.test(e)?"mixed":"oculus";return new Promise(function(e,i){"vive"==r?n.getShareInstance().getViveControllerModel(function(t){e(t)}):"mixed"==r?n.getShareInstance().getMotionControllerModel(t,function(t){e(t)}):n.getShareInstance().getRiftControllerModel(t,function(t){e(t)})})}}]),r(e,[{key:"getViveControllerModel",value:function(e){var t=this;if(this._caches.vive)return e(this._caches.vive.clone());var n=new i.OBJLoader;n.setPath("/public/models/viveController/"),n.load("vr_controller_vive_1_5.obj",function(n){var r=new i.TextureLoader;return r.setPath("/public/models/viveController/"),n.children[0].material.map=r.load("onepointfive_texture.png"),n.children[0].material.specularMap=r.load("onepointfive_spec.png"),n.children[0].castShadow=!0,n.name="vive",t._caches.vive=n,e(t._caches.vive.clone())})}},{key:"getMotionControllerModel",value:function(e,t,n){var r=this;e=String(e).toLocaleLowerCase(),console.log("Get the mixed Motion Controller [",e,"] ");var o=new i.MeshBasicMaterial({color:16777215,wireframe:!1,transparent:!0,opacity:.8});if(this._caches.rift[e])return t(this._caches.rift[e].clone());switch(e){case"left":var a=new i.OBJLoader;a.setPath("/public/models/motionController/"),a.load("mixed-motion-controller-left.obj",function(n){n.children[0].castShadow=!1,n.traverse(function(e){e instanceof i.Mesh&&(e.material=o)}),n.name="rift-"+e,r._caches.rift[e]=n,t(r._caches.rift[e].clone())});break;case"right":var s=new i.OBJLoader;s.setPath("/public/models/motionController/"),s.load("mixed-motion-controller-right.obj",function(n){n.children[0].castShadow=!1,n.traverse(function(e){e instanceof i.Mesh&&(e.material=o)}),n.name="rift-"+e,r._caches.rift[e]=n,t(r._caches.rift[e].clone())})}}},{key:"getRiftControllerModel",value:function(e,t,n){var r=this;e=String(e).toLocaleLowerCase();var o=new i.MeshBasicMaterial({color:1056864,wireframe:!0});if(this._caches.rift[e])return t(this._caches.rift[e]);switch(e){case"left":var a=new i.OBJLoader;a.setPath("/public/models/riftController/"),a.load("oculus-touch-controller-left.obj",function(n){n.children[0].castShadow=!1,n.traverse(function(e){e instanceof i.Mesh&&(e.material=o)}),n.name="rift-"+e,r._caches.rift[e]=n,t(r._caches.rift[e].clone())});break;case"right":var s=new i.OBJLoader;s.setPath("/public/models/riftController/"),s.load("oculus-touch-controller-right.obj",function(n){n.children[0].castShadow=!1,n.traverse(function(e){e instanceof i.Mesh&&(e.material=o)}),n.name="rift-"+e,r._caches.rift[e]=n,t(r._caches.rift[e].clone())})}}}]),e}();t.default=a},function(e,t,n){"use strict";THREE.OBJLoader=function(){var e=/^[og]\s*(.+)?/,t=/^mtllib /,n=/^usemtl /;function r(e){this.manager=void 0!==e?e:THREE.DefaultLoadingManager,this.materials=null}return r.prototype={constructor:r,load:function(e,t,n,r){var i=this,o=new THREE.FileLoader(i.manager);o.setPath(this.path),o.load(e,function(e){t(i.parse(e))},n,r)},setPath:function(e){this.path=e},setMaterials:function(e){return this.materials=e,this},parse:function(r){console.time("OBJLoader");var i=new function(){var e={objects:[],object:{},vertices:[],normals:[],colors:[],uvs:[],materialLibraries:[],startObject:function(e,t){if(this.object&&!1===this.object.fromDeclaration)return this.object.name=e,void(this.object.fromDeclaration=!1!==t);var n=this.object&&"function"==typeof this.object.currentMaterial?this.object.currentMaterial():void 0;if(this.object&&"function"==typeof this.object._finalize&&this.object._finalize(!0),this.object={name:e||"",fromDeclaration:!1!==t,geometry:{vertices:[],normals:[],colors:[],uvs:[]},materials:[],smooth:!0,startMaterial:function(e,t){var n=this._finalize(!1);n&&(n.inherited||n.groupCount<=0)&&this.materials.splice(n.index,1);var r={index:this.materials.length,name:e||"",mtllib:Array.isArray(t)&&t.length>0?t[t.length-1]:"",smooth:void 0!==n?n.smooth:this.smooth,groupStart:void 0!==n?n.groupEnd:0,groupEnd:-1,groupCount:-1,inherited:!1,clone:function(e){var t={index:"number"==typeof e?e:this.index,name:this.name,mtllib:this.mtllib,smooth:this.smooth,groupStart:0,groupEnd:-1,groupCount:-1,inherited:!1};return t.clone=this.clone.bind(t),t}};return this.materials.push(r),r},currentMaterial:function(){if(this.materials.length>0)return this.materials[this.materials.length-1]},_finalize:function(e){var t=this.currentMaterial();if(t&&-1===t.groupEnd&&(t.groupEnd=this.geometry.vertices.length/3,t.groupCount=t.groupEnd-t.groupStart,t.inherited=!1),e&&this.materials.length>1)for(var n=this.materials.length-1;n>=0;n--)this.materials[n].groupCount<=0&&this.materials.splice(n,1);return e&&0===this.materials.length&&this.materials.push({name:"",smooth:this.smooth}),t}},n&&n.name&&"function"==typeof n.clone){var r=n.clone(0);r.inherited=!0,this.object.materials.push(r)}this.objects.push(this.object)},finalize:function(){this.object&&"function"==typeof this.object._finalize&&this.object._finalize(!0)},parseVertexIndex:function(e,t){var n=parseInt(e,10);return 3*(n>=0?n-1:n+t/3)},parseNormalIndex:function(e,t){var n=parseInt(e,10);return 3*(n>=0?n-1:n+t/3)},parseUVIndex:function(e,t){var n=parseInt(e,10);return 2*(n>=0?n-1:n+t/2)},addVertex:function(e,t,n){var r=this.vertices,i=this.object.geometry.vertices;i.push(r[e+0],r[e+1],r[e+2]),i.push(r[t+0],r[t+1],r[t+2]),i.push(r[n+0],r[n+1],r[n+2])},addVertexLine:function(e){var t=this.vertices;this.object.geometry.vertices.push(t[e+0],t[e+1],t[e+2])},addNormal:function(e,t,n){var r=this.normals,i=this.object.geometry.normals;i.push(r[e+0],r[e+1],r[e+2]),i.push(r[t+0],r[t+1],r[t+2]),i.push(r[n+0],r[n+1],r[n+2])},addColor:function(e,t,n){var r=this.colors,i=this.object.geometry.colors;i.push(r[e+0],r[e+1],r[e+2]),i.push(r[t+0],r[t+1],r[t+2]),i.push(r[n+0],r[n+1],r[n+2])},addUV:function(e,t,n){var r=this.uvs,i=this.object.geometry.uvs;i.push(r[e+0],r[e+1]),i.push(r[t+0],r[t+1]),i.push(r[n+0],r[n+1])},addUVLine:function(e){var t=this.uvs;this.object.geometry.uvs.push(t[e+0],t[e+1])},addFace:function(e,t,n,r,i,o,a,s,u){var l=this.vertices.length,c=this.parseVertexIndex(e,l),d=this.parseVertexIndex(t,l),f=this.parseVertexIndex(n,l);if(this.addVertex(c,d,f),void 0!==r){var h=this.uvs.length;c=this.parseUVIndex(r,h),d=this.parseUVIndex(i,h),f=this.parseUVIndex(o,h),this.addUV(c,d,f)}if(void 0!==a){var p=this.normals.length;c=this.parseNormalIndex(a,p),d=a===s?c:this.parseNormalIndex(s,p),f=a===u?c:this.parseNormalIndex(u,p),this.addNormal(c,d,f)}this.colors.length>0&&this.addColor(c,d,f)},addLineGeometry:function(e,t){this.object.geometry.type="Line";for(var n=this.vertices.length,r=this.uvs.length,i=0,o=e.length;i<o;i++)this.addVertexLine(this.parseVertexIndex(e[i],n));for(var a=0,s=t.length;a<s;a++)this.addUVLine(this.parseUVIndex(t[a],r))}};return e.startObject("",!1),e};-1!==r.indexOf("\r\n")&&(r=r.replace(/\r\n/g,"\n")),-1!==r.indexOf("\\\n")&&(r=r.replace(/\\\n/g,""));for(var o=r.split("\n"),a="",s="",u=[],l="function"==typeof"".trimLeft,c=0,d=o.length;c<d;c++)if(a=o[c],0!==(a=l?a.trimLeft():a.trim()).length&&"#"!==(s=a.charAt(0)))if("v"===s){var f=a.split(/\s+/);switch(f[0]){case"v":i.vertices.push(parseFloat(f[1]),parseFloat(f[2]),parseFloat(f[3])),8===f.length&&i.colors.push(parseFloat(f[4]),parseFloat(f[5]),parseFloat(f[6]));break;case"vn":i.normals.push(parseFloat(f[1]),parseFloat(f[2]),parseFloat(f[3]));break;case"vt":i.uvs.push(parseFloat(f[1]),parseFloat(f[2]))}}else if("f"===s){for(var h=a.substr(1).trim().split(/\s+/),p=[],m=0,g=h.length;m<g;m++){var y=h[m];if(y.length>0){var v=y.split("/");p.push(v)}}for(var b=p[0],_=1,w=p.length-1;_<w;_++){var k=p[_],E=p[_+1];i.addFace(b[0],k[0],E[0],b[1],k[1],E[1],b[2],k[2],E[2])}}else if("l"===s){var x=a.substring(1).trim().split(" "),S=[],M=[];if(-1===a.indexOf("/"))S=x;else for(var T=0,C=x.length;T<C;T++){var A=x[T].split("/");""!==A[0]&&S.push(A[0]),""!==A[1]&&M.push(A[1])}i.addLineGeometry(S,M)}else if(null!==(u=e.exec(a))){var O=(" "+u[0].substr(1).trim()).substr(1);i.startObject(O)}else if(n.test(a))i.object.startMaterial(a.substring(7).trim(),i.materialLibraries);else if(t.test(a))i.materialLibraries.push(a.substring(7).trim());else{if("s"!==s){if("\0"===a)continue;throw new Error('THREE.OBJLoader: Unexpected line: "'+a+'"')}if((u=a.split(" ")).length>1){var N=u[1].trim().toLowerCase();i.object.smooth="0"!==N&&"off"!==N}else i.object.smooth=!0;var L=i.object.currentMaterial();L&&(L.smooth=i.object.smooth)}i.finalize();var j=new THREE.Group;j.materialLibraries=[].concat(i.materialLibraries);for(var P=0,D=i.objects.length;P<D;P++){var I=i.objects[P],R=I.geometry,F=I.materials,Y="Line"===R.type;if(0!==R.vertices.length){var B=new THREE.BufferGeometry;B.addAttribute("position",new THREE.Float32BufferAttribute(R.vertices,3)),R.normals.length>0?B.addAttribute("normal",new THREE.Float32BufferAttribute(R.normals,3)):B.computeVertexNormals(),R.colors.length>0&&B.addAttribute("color",new THREE.Float32BufferAttribute(R.colors,3)),R.uvs.length>0&&B.addAttribute("uv",new THREE.Float32BufferAttribute(R.uvs,2));for(var H=[],z=0,W=F.length;z<W;z++){var U=F[z],V=void 0;if(null!==this.materials&&(V=this.materials.create(U.name),Y&&V&&!(V instanceof THREE.LineBasicMaterial))){var G=new THREE.LineBasicMaterial;G.copy(V),V=G}V||((V=Y?new THREE.LineBasicMaterial:new THREE.MeshPhongMaterial).name=U.name),V.flatShading=!U.smooth,H.push(V)}var q=void 0;if(H.length>1){for(var K=0,$=F.length;K<$;K++){var X=F[K];B.addGroup(X.groupStart,X.groupCount,K)}q=Y?new THREE.LineSegments(B,H):new THREE.Mesh(B,H)}else q=Y?new THREE.LineSegments(B,H[0]):new THREE.Mesh(B,H[0]);q.name=I.name,j.add(q)}}return console.timeEnd("OBJLoader"),j}},r}()},function(e,t,n){"use strict";THREE.MTLLoader=function(e){this.manager=void 0!==e?e:THREE.DefaultLoadingManager},THREE.MTLLoader.prototype={constructor:THREE.MTLLoader,load:function(e,t,n,r){var i=this,o=new THREE.FileLoader(this.manager);o.setPath(this.path),o.load(e,function(e){t(i.parse(e))},n,r)},setPath:function(e){this.path=e},setTexturePath:function(e){this.texturePath=e},setBaseUrl:function(e){console.warn("THREE.MTLLoader: .setBaseUrl() is deprecated. Use .setTexturePath( path ) for texture path or .setPath( path ) for general base path instead."),this.setTexturePath(e)},setCrossOrigin:function(e){this.crossOrigin=e},setMaterialOptions:function(e){this.materialOptions=e},parse:function(e){for(var t=e.split("\n"),n={},r=/\s+/,i={},o=0;o<t.length;o++){var a=t[o];if(0!==(a=a.trim()).length&&"#"!==a.charAt(0)){var s=a.indexOf(" "),u=s>=0?a.substring(0,s):a;u=u.toLowerCase();var l=s>=0?a.substring(s+1):"";if(l=l.trim(),"newmtl"===u)n={name:l},i[l]=n;else if(n)if("ka"===u||"kd"===u||"ks"===u){var c=l.split(r,3);n[u]=[parseFloat(c[0]),parseFloat(c[1]),parseFloat(c[2])]}else n[u]=l}}var d=new THREE.MTLLoader.MaterialCreator(this.texturePath||this.path,this.materialOptions);return d.setCrossOrigin(this.crossOrigin),d.setManager(this.manager),d.setMaterials(i),d}},THREE.MTLLoader.MaterialCreator=function(e,t){this.baseUrl=e||"",this.options=t,this.materialsInfo={},this.materials={},this.materialsArray=[],this.nameLookup={},this.side=this.options&&this.options.side?this.options.side:THREE.FrontSide,this.wrap=this.options&&this.options.wrap?this.options.wrap:THREE.RepeatWrapping},THREE.MTLLoader.MaterialCreator.prototype={constructor:THREE.MTLLoader.MaterialCreator,crossOrigin:"Anonymous",setCrossOrigin:function(e){this.crossOrigin=e},setManager:function(e){this.manager=e},setMaterials:function(e){this.materialsInfo=this.convert(e),this.materials={},this.materialsArray=[],this.nameLookup={}},convert:function(e){if(!this.options)return e;var t={};for(var n in e){var r=e[n],i={};for(var o in t[n]=i,r){var a=!0,s=r[o],u=o.toLowerCase();switch(u){case"kd":case"ka":case"ks":this.options&&this.options.normalizeRGB&&(s=[s[0]/255,s[1]/255,s[2]/255]),this.options&&this.options.ignoreZeroRGBs&&0===s[0]&&0===s[1]&&0===s[2]&&(a=!1)}a&&(i[u]=s)}}return t},preload:function(){for(var e in this.materialsInfo)this.create(e)},getIndex:function(e){return this.nameLookup[e]},getAsArray:function(){var e=0;for(var t in this.materialsInfo)this.materialsArray[e]=this.create(t),this.nameLookup[t]=e,e++;return this.materialsArray},create:function(e){return void 0===this.materials[e]&&this.createMaterial_(e),this.materials[e]},createMaterial_:function(e){var t=this,n=this.materialsInfo[e],r={name:e,side:this.side};function i(e,n){if(!r[e]){var i,o,a=t.getTextureParams(n,r),s=t.loadTexture((i=t.baseUrl,"string"!=typeof(o=a.url)||""===o?"":/^https?:\/\//i.test(o)?o:i+o));s.repeat.copy(a.scale),s.offset.copy(a.offset),s.wrapS=t.wrap,s.wrapT=t.wrap,r[e]=s}}for(var o in n){var a=n[o],s=void 0;if(""!==a)switch(o.toLowerCase()){case"kd":r.color=(new THREE.Color).fromArray(a);break;case"ks":r.specular=(new THREE.Color).fromArray(a);break;case"map_kd":i("map",a);break;case"map_ks":i("specularMap",a);break;case"norm":i("normalMap",a);break;case"map_bump":case"bump":i("bumpMap",a);break;case"ns":r.shininess=parseFloat(a);break;case"d":(s=parseFloat(a))<1&&(r.opacity=s,r.transparent=!0);break;case"tr":(s=parseFloat(a))>0&&(r.opacity=1-s,r.transparent=!0)}}return this.materials[e]=new THREE.MeshPhongMaterial(r),this.materials[e]},getTextureParams:function(e,t){var n={scale:new THREE.Vector2(1,1),offset:new THREE.Vector2(0,0)},r=e.split(/\s+/),i=void 0;return(i=r.indexOf("-bm"))>=0&&(t.bumpScale=parseFloat(r[i+1]),r.splice(i,2)),(i=r.indexOf("-s"))>=0&&(n.scale.set(parseFloat(r[i+1]),parseFloat(r[i+2])),r.splice(i,4)),(i=r.indexOf("-o"))>=0&&(n.offset.set(parseFloat(r[i+1]),parseFloat(r[i+2])),r.splice(i,4)),n.url=r.join(" ").trim(),n},loadTexture:function(e,t,n,r,i){var o=void 0,a=THREE.Loader.Handlers.get(e),s=void 0!==this.manager?this.manager:THREE.DefaultLoadingManager;return null===a&&(a=new THREE.TextureLoader(s)),a.setCrossOrigin&&a.setCrossOrigin(this.crossOrigin),o=a.load(e,n,r,i),void 0!==t&&(o.mapping=t),o}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isVRGamePad=t.VRController=void 0;var r,i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(23)),o=n(11),a=(r=o)&&r.__esModule?r:{default:r};var s=function(e){return e.displayId&&(!/Oculus Remote/gi.test(e.id)||/Oculus Touch/gi.test(e.id))};i.VRController=function(e,t){i.Object3D.call(this);var n=this,r=void 0,o=[0,0],u={0:!1,1:!1,2:!1,3:!1,4:!1},l={0:"thumbpad",1:"trigger",2:"grips",3:"menu",4:"axis"},c=new i.Vector3;this.standingMatrix=new i.Matrix4,this.matrixAutoUpdate=!1,this.getGamepad=function(){return r},this.getPosePosition=function(){return c.clone()},this.getButtonState=function(e){return void 0!==u[e]?u[e]||!1:u[Object.keys(l).findIndex(function(t){return l[t]===e})]||!1},this.update=function(){if(void 0!==(r=function(e){var t=navigator.getGamepads&&navigator.getGamepads();t=a.default.filter(t,function(e){return null!==e&&/OpenVR|Oculus|Spatial/gi.test(e.id)});for(var n=0;n<a.default.size(t);n++){var r=t[n],i=r.id+"-"+r.index;if(r&&s(r)&&i==e)return r}}(e))){if(!r.pose)return;var t=r.pose;if(null!==t.position&&(n.position.fromArray(t.position),c.fromArray(t.position)),null!==t.orientation&&n.quaternion.fromArray(t.orientation),t=null,n.matrix.compose(n.position,n.quaternion,n.scale),n.matrix.premultiply(n.standingMatrix),n.matrixWorldNeedsUpdate=!0,n.visible=!0,a.default.isEqual(o,r.axes))u.axis=!1;else{u.axis=!0;var i="";0===(o=r.axes.map(function(e){return e}))[0]&&0===o[1]?i="up":Math.abs(o[0])>Math.abs(o[1])&&Math.abs(o[0])>.5?i=o[0]>0?"right":"left":Math.abs(o[1])>.5&&(i=o[1]>0?"top":"bottom"),n.dispatchEvent({type:"axischanged",axes:o,action:i})}r.buttons.forEach(function(e,t){if(u[t]!==e.pressed){u[t]=e.pressed;var r=u[t]?"down":"up";l[t]&&n.dispatchEvent({type:l[t]+r,axes:o,index:t,pressed:u[t],action:r}),n.dispatchEvent({type:t+r,index:t,axes:o,pressed:u[t],action:r})}})}else n.visible=!1}},i.VRController.prototype=Object.create(i.Object3D.prototype),i.VRController.prototype.constructor=i.VRController;var u=i.VRController;t.VRController=u,t.isVRGamePad=s,t.default=i.VRController},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(23)),o=n(2408);var a=function(){function e(t,n,r,a,s){var u=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.searchHandle=s,this.camera=n,this.searchGroup=new i.Group;var l=.003;this.searchGroup.scale.set(l,l,l),this.searchGroup.position.set(0,0,0),this.searchGroup.rotation.x=-Math.PI/4,this.searchGroup.position.applyMatrix4(a.standingMatrix),t.add(this.searchGroup),this.raycaster=new i.Raycaster,this.tempMatrix=new i.Matrix4,this.vrKeyboard=new o.VRKeyboard(this.searchGroup,n,r),this.searchInput=new o.VRTextInput,this.searchInput.width=400,this.searchInput.placeholder="Please enter the node title or name",this.searchInput.position.set(0,200,0),this.vrKeyboard.addEventListener("keydown",function(e){u.vrKeyboard.target=u.searchInput,console.log(u.searchInput.value),u.searchHandle&&u.searchGroup.visible&&u.searchHandle(u.searchInput.value),u.searchGroup.visible||(u.vrKeyboard.referenceText="",u.searchInput.value="")}),this.vrKeyboard.addField(this.searchInput),this.vrKeyboard.target=this.searchInput,this.searchGroup.visible=!1,a.rightTriggerStream.filter(function(e){return"down"==e&&u.searchGroup.visible}).subscribe(function(e){var t=u.getIntersections(a.rightController),n=u.vrKeyboard.getVRInput(t&&t.length>0?t[0]:null);n&&u.vrKeyboard.onKeyDown(n)}),a.rightTriggerStream.filter(function(e){return"up"==e&&u.searchGroup.visible}).subscribe(function(e){var t=u.getIntersections(a.rightController),n=u.vrKeyboard.getVRInput(t&&t.length>0?t[0]:null);n&&u.vrKeyboard.onKeyUp(n)})}return r(e,[{key:"show",value:function(e){this.visible=!!e}},{key:"getIntersections",value:function(e){return this.tempMatrix.identity().extractRotation(e.matrixWorld),this.raycaster.ray.origin.setFromMatrixPosition(e.matrixWorld),this.raycaster.ray.direction.set(0,0,-1).applyMatrix4(this.tempMatrix),this.raycaster.intersectObject(this.vrKeyboard,!0)}},{key:"update",value:function(){this.visible&&(this.searchGroup.lookAt(this.camera.position.clone()),this.vrKeyboard.update())}},{key:"visible",set:function(e){this.searchGroup.visible=!!e,this.searchGroup.visible=this.searchGroup.visible,this.vrKeyboard.enabled=this.searchGroup.visible,this.searchGroup.visible&&(this.vrKeyboard.target=this.searchInput,this.searchInput.focus())},get:function(){return this.searchGroup.visible}}]),e}();t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t,n){switch(this.code=e.c,this.x=t,this.y=n,e.type){case"standard":this.width=70,this.height=60;break;case"delete":this.width=80,this.height=60;break;case"space":this.width=315,this.height=60;break;case"enter":this.width=150,this.height=60;break;case"shift":case"alt":case"tab":this.width=80,this.height=60;break;case"abc":this.width=100,this.height=60;break;case"shift":this.width=80,this.height=60;break;case"num":this.width=100,this.height=50;break;default:this.width=70,this.height=60}this.collides=function(e){return e.x>this.getBounds().left&&e.x<this.getBounds().right&&e.y>this.getBounds().top&&e.y<this.getBounds().bottom},this.getBounds=function(){return{top:this.y,left:this.x,bottom:this.y+this.height,right:this.x+this.width}}},i={DELETE:"",ENTER:"",SHIFT:"",SPACE:"",TAB:""},o=function e(t,n,o){THREE.Group.apply(this);var a=void 0,s=void 0,u=void 0;this.camera=n,this.scene=t,this.renderer=o,this.raycaster=new THREE.Raycaster,this.pointerX=0,this.pointerY=0,this.fields=[],this.referenceText="",this._keyColor="#666666",Object.defineProperty(e.prototype,"keyColor",{enumerable:!0,configurable:!0,get:function(){return this._keyColor},set:function(e){this._keyColor=e,this.build(this.currentType)}}),this._keyDownColor="#333333",Object.defineProperty(e.prototype,"keyDownColor",{enumerable:!0,configurable:!0,get:function(){return this._keyDownColor},set:function(e){this._keyDownColor=e,this.build(this.currentType)}}),this._labelColor="#99FF33",Object.defineProperty(e.prototype,"labelColor",{enumerable:!0,configurable:!0,get:function(){return this._labelColor},set:function(e){this._labelColor=e,this.build(this.currentType)}}),this._labelDownColor="#99FF33",Object.defineProperty(e.prototype,"labelDownColor",{enumerable:!0,configurable:!0,get:function(){return this._labelDownColor},set:function(e){this._labelDownColor=e,this.build(this.currentType)}}),this._borderColor="#333333",Object.defineProperty(e.prototype,"borderColor",{enumerable:!0,configurable:!0,get:function(){return this._borderColor},set:function(e){this._borderColor=e,this.build(this.currentType)}}),this._borderDownColor="#99FF33",Object.defineProperty(e.prototype,"borderDownColor",{enumerable:!0,configurable:!0,get:function(){return this._borderDownColor},set:function(e){this._borderDownColor=e,this.build(this.currentType)}}),this._borderRadius=26,Object.defineProperty(e.prototype,"borderRadius",{enumerable:!0,configurable:!0,get:function(){return this._borderRadius},set:function(e){this._borderRadius=e,this.build(this.currentType)}}),this._target=null,Object.defineProperty(e.prototype,"target",{enumerable:!0,configurable:!0,get:function(){return this._target},set:function(e){for(var t in this.fields)this.fields[t].blur();e?(this._target=e,this.referenceText=this.target.value,this._target.focus()):(this._target=null,this.referenceText="")}}),this._enabled=!0,Object.defineProperty(e.prototype,"enabled",{enumerable:!0,configurable:!0,get:function(){return this._enabled},set:function(e){this._enabled=e,this.build(this.currentType)}});var l="number_pad",c="numeric",d="numeric_alt",f="alphabets_lower",h="alphabets_upper",p=[[{c:"1",type:"standard"},{c:"2",type:"standard"},{c:"3",type:"standard"},{c:"4",type:"standard"},{c:"5",type:"standard"},{c:"6",type:"standard"},{c:"7",type:"standard"},{c:"8",type:"standard"},{c:"9",type:"standard"},{c:"0",type:"standard"}],[{c:"@",type:"standard"},{c:"#",type:"standard"},{c:"$",type:"standard"},{c:"%",type:"standard"},{c:"*",type:"standard"},{c:"-",type:"standard"},{c:"+",type:"standard"},{c:"(",type:"standard"},{c:")",type:"standard"}],[{c:"#+=",type:"alt"},{c:"!",type:"standard"},{c:'"',type:"standard"},{c:"'",type:"standard"},{c:":",type:"standard"},{c:";",type:"standard"},{c:",",type:"standard"},{c:"?",type:"standard"},{c:i.DELETE,type:"delete"}],[{c:"ABC",type:"abc"},{c:"/",type:"standard"},{c:i.SPACE,type:"space"},{c:".",type:"standard"},{c:i.ENTER,type:"enter"}]],m=[[{c:"1",type:"num"},{c:"2",type:"num"},{c:"3",type:"num"}],[{c:"4",type:"num"},{c:"5",type:"num"},{c:"6",type:"num"}],[{c:"7",type:"num"},{c:"8",type:"num"},{c:"9",type:"num"}],[{c:"*",type:"num"},{c:"0",type:"num"},{c:"#",type:"num"}],[{c:i.DELETE,type:"delete"},{c:i.ENTER,type:"enter"}]],g=[[{c:"~",type:"standard"},{c:"`",type:"standard"},{c:"|",type:"standard"},{c:"",type:"standard"},{c:"",type:"standard"},{c:"",type:"standard"},{c:"",type:"standard"},{c:"x",type:"standard"},{c:"{",type:"standard"},{c:"}",type:"standard"}],[{c:"",type:"standard"},{c:"#",type:"standard"},{c:"",type:"standard"},{c:"",type:"standard"},{c:"^",type:"standard"},{c:"_",type:"standard"},{c:"=",type:"standard"},{c:"[",type:"standard"},{c:"]",type:"standard"}],[{c:"123",type:"alt"},{c:"",type:"standard"},{c:"",type:"standard"},{c:"",type:"standard"},{c:"",type:"standard"},{c:"/",type:"standard"},{c:"<",type:"standard"},{c:">",type:"standard"},{c:i.DELETE,type:"delete"}],[{c:"ABC",type:"abc"},{c:",",type:"standard"},{c:i.SPACE,type:"space"},{c:".",type:"standard"},{c:i.ENTER,type:"enter"}]],y=[[{c:"q",type:"standard"},{c:"w",type:"standard"},{c:"e",type:"standard"},{c:"r",type:"standard"},{c:"t",type:"standard"},{c:"y",type:"standard"},{c:"u",type:"standard"},{c:"i",type:"standard"},{c:"o",type:"standard"},{c:"p",type:"standard"}],[{c:"a",type:"standard"},{c:"s",type:"standard"},{c:"d",type:"standard"},{c:"f",type:"standard"},{c:"g",type:"standard"},{c:"h",type:"standard"},{c:"j",type:"standard"},{c:"k",type:"standard"},{c:"l",type:"standard"}],[{c:i.SHIFT,type:"shift"},{c:"z",type:"standard"},{c:"x",type:"standard"},{c:"c",type:"standard"},{c:"v",type:"standard"},{c:"b",type:"standard"},{c:"n",type:"standard"},{c:"m",type:"standard"},{c:i.DELETE,type:"delete"}],[{c:"?123",type:"abc"},{c:"/",type:"standard"},{c:i.SPACE,type:"space"},{c:".",type:"standard"},{c:i.ENTER,type:"enter"}]],v=[[{c:"Q",type:"standard"},{c:"W",type:"standard"},{c:"E",type:"standard"},{c:"R",type:"standard"},{c:"T",type:"standard"},{c:"Y",type:"standard"},{c:"U",type:"standard"},{c:"I",type:"standard"},{c:"O",type:"standard"},{c:"P",type:"standard"}],[{c:"A",type:"standard"},{c:"S",type:"standard"},{c:"D",type:"standard"},{c:"F",type:"standard"},{c:"G",type:"standard"},{c:"H",type:"standard"},{c:"J",type:"standard"},{c:"K",type:"standard"},{c:"L",type:"standard"}],[{c:i.SHIFT,type:"shift"},{c:"Z",type:"standard"},{c:"X",type:"standard"},{c:"C",type:"standard"},{c:"V",type:"standard"},{c:"B",type:"standard"},{c:"N",type:"standard"},{c:"M",type:"standard"},{c:i.DELETE,type:"delete"}],[{c:"?123",type:"abc"},{c:"/",type:"standard"},{c:i.SPACE,type:"space"},{c:".",type:"standard"},{c:i.ENTER,type:"enter"}]];this.init=function(){var e=this;this.padding=20,this.spacing=10,this.layouts={},this.currentType=f,this.layouts[l]=m,this.layouts[c]=p,this.layouts[d]=g,this.layouts[f]=y,this.layouts[h]=v,this.keys=[],this.rows=[],this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.width=0,this.height=0,a=function(t){if(e.enabled){e.pointerX=t.clientX,e.pointerY=t.clientY;var n=e.getInput(e.pointerX,e.pointerY);n&&e.onKeyDown(n)}},s=function(t){e.enabled&&(e.pointerX=t.clientX,e.pointerY=t.clientY)},u=function(t){if(e.enabled){e.pointerX=t.clientX,e.pointerY=t.clientY;var n=e.getInput(e.pointerX,e.pointerY);n&&e.onKeyUp(n)}},document.addEventListener("mousedown",a,!0),document.addEventListener("mousemove",s,!1),document.addEventListener("mouseup",u,!1),this.build()},this.dispose=function(){for(var e in document.removeEventListener("mousedown",a,!0),document.removeEventListener("mousemove",s,!1),document.removeEventListener("mouseup",u,!1),this.fields)this.fields.hasOwnProperty(e)&&this.fields[e].dispose()},this.clear=function(){for(var e=this.children.length-1;e>=0;e--)this.children[e].geometry.dispose(),this.children[e].material.dispose(),this.remove(this.children[e]);this.context.clearRect(0,0,this.width,this.height),this.width=0,this.height=0},this.build=function(e){this.clear(),this.keys=[],null!=e&&(this.currentType=e),this.currentLayout=this.layouts[this.currentType];var t=0,n=0;this.rows=[];for(var i=0;i<this.currentLayout.length;i++){for(var o={keys:[],width:0},a={height:0},s=0;s<this.currentLayout[i].length;s++){var u=this.currentLayout[i][s];a=new r(u,t,n),o.keys.push(a),t+=a.width+this.spacing,o.width=t-this.spacing,o.width>this.width&&(this.width=o.width)}t=0,n+=a.height+this.spacing,this.height+=a.height,i<this.currentLayout.length-1&&(this.height+=this.spacing),this.rows.push(o)}this.width+=2*this.padding,this.height+=2*this.padding,this.canvas.width=this.width,this.canvas.height=this.height,this.drawKeys(this.rows),this.texture=new THREE.Texture(this.canvas),this.texture.minFilter=THREE.LinearFilter,this.texture.needsUpdate=!0;var l=new THREE.MeshBasicMaterial({map:this.texture});l.transparent=!0;var c=new THREE.Mesh(new THREE.PlaneGeometry(this.canvas.width,this.canvas.height),l);c.position.set(0,0,0),this.add(c)},this.getInput=function(e,t){var n=new THREE.Vector3(e/this.renderer.domElement.width*2-1,-t/this.renderer.domElement.height*2+1,.5);n.unproject(this.camera),this.raycaster=new THREE.Raycaster(this.camera.position,n.sub(this.camera.position).normalize());var r=this.raycaster.intersectObject(this,!0);if(r.length>0){var i=(new THREE.Vector3).copy(r[0].point);for(var o in r[0].object.worldToLocal(i),i.x+=this.width/2,i.y=Math.abs(i.y-this.height/2),this.keys)if(this.keys.hasOwnProperty(o)&&this.keys[o].collides(i))return this.keys[o]}return null},this.getVRInput=function(e){if(e){var t=(new THREE.Vector3).copy(e.point);for(var n in e.object.worldToLocal(t),t.x+=this.width/2,t.y=Math.abs(t.y-this.height/2),this.keys)if(this.keys.hasOwnProperty(n)&&this.keys[n].collides(t))return this.keys[n]}return null},this.drawKeys=function(e){for(var t in e)if(e.hasOwnProperty(t)){var n=(this.width-this.rows[t].width)/2;for(var r in e[t].keys)e[t].keys.hasOwnProperty(r)&&(e[t].keys[r].x+=n,e[t].keys[r].y+=this.padding,this.drawKey(e[t].keys[r]),this.keys.push(e[t].keys[r]))}},this.drawCase=function(e,t){this.context.beginPath(),this.context.rect(0,0,e,t),this.context.fillStyle="rgba(255,0,0,0.4)",this.context.fill(),this.context.lineWidth=1,this.context.strokeStyle="red",this.context.stroke()},this.setStyle=function(){},this.drawKey=function(e){this.context.clearRect(e.x-2,e.y-2,e.width+4,e.height+4),e.down?(this.context.strokeStyle=this.borderDownColor,this.context.fillStyle=this.keyDownColor,this.context.beginPath(),this.context.roundRect(e.x,e.y,e.width,e.height,this.borderRadius),this.context.fill(),this.context.stroke(),this.context.textAlign="center",this.context.font="Normal 18px Arial",this.context.fillStyle=this.labelDownColor,this.context.fillText(e.code,e.x+e.width/2,e.y+e.height/2+4)):(this.context.strokeStyle=this.borderColor,this.context.fillStyle=this.keyColor,this.context.beginPath(),this.context.roundRect(e.x,e.y,e.width,e.height,this.borderRadius),this.context.fill(),this.context.stroke(),this.context.textAlign="center",this.context.font="Normal 18px Arial",this.context.fillStyle=this.labelColor,this.context.fillText(e.code,e.x+e.width/2,e.y+e.height/2+4))},this.onKeyDown=function(e){var t=this;switch(this.hold=window.setTimeout(function(){t.dispatchEvent({type:"keyhold",code:e.code}),clearTimeout(this.hold)},1e3),e.code){case"?123":case"123":this.build(c);break;case"#+=":this.build(d);break;case"ABC":this.build(f);break;case i.TAB:this.build(d);break;case i.SHIFT:this.build(this.currentType==f?h:f);break;default:this.updateText(e)}this.dispatchEvent({type:"keydown",code:e.code}),e.down=!0,this.drawKey(e)},this.onKeyOver=function(e){e.over||(e.over=!0,this.dispatchEvent({type:"keyover",code:e.code}),this.drawKey(e))},this.onKeyOut=function(e){e.over&&(e.over=!1,this.dispatchEvent({type:"keyout",code:e.code}),this.drawKey(e))},this.onKeyUp=function(e){e.down=!1,clearTimeout(this.hold),this.dispatchEvent({type:"keyup",code:e.code}),this.drawKey(e)},this.updateText=function(e){switch(e.code){case i.DELETE:this.referenceText=this.referenceText.substr(0,this.referenceText.length-1);break;case i.ENTER:return void(this.referenceText+="\n");case i.TAB:break;case i.SPACE:this.referenceText+=" ";break;default:this.referenceText+=e.code}null!=this.target&&(this.target.focus(),this.target.value=this.referenceText),this.dispatchEvent({type:"update",code:e.code})},this.addField=function(e){var t=this;e.addEventListener("mousedown",function(n){t.target=e}),e.addEventListener("mousedownoutside",function(n){setTimeout(function(){var n=new THREE.Vector3(t.pointerX/t.renderer.domElement.width*2-1,-t.pointerY/t.renderer.domElement.height*2+1,.5);n.unproject(t.camera),t.raycaster=new THREE.Raycaster(t.camera.position,n.sub(t.camera.position).normalize()),t.raycaster.intersectObject(t,!0).length>0||e===t.target&&(t.target=null)},100)}),e.scene=this.scene,e.camera=this.camera,e.renderer=this.renderer,this.fields.push(e),this.scene.add(e)},this.update=function(){for(var e in this.texture.needsUpdate=!0,this.keys)this.keys.hasOwnProperty(e)&&(this.keys[e]==this.getInput(this.pointerX,this.pointerY)?this.onKeyOver(this.keys[e]):(this.onKeyOut(this.keys[e]),this.keys[e].down&&this.onKeyUp(this.keys[e])));for(var t in this.fields)this.fields.hasOwnProperty(t)&&this.fields[t].update()},this.init(),this.scene.add(this)};o.prototype=Object.assign(Object.create(THREE.Group.prototype),{constructor:o});var a=function e(){THREE.Group.apply(this),this.pointerX=0,this.pointerY=0;var t=void 0,n=void 0,r=void 0;this._backgroundColor="#666666",Object.defineProperty(e.prototype,"backgroundColor",{enumerable:!0,configurable:!0,get:function(){return this._backgroundColor},set:function(e){this._backgroundColor=e,this.draw()}}),this._textColor="#99FF33",Object.defineProperty(e.prototype,"textColor",{enumerable:!0,configurable:!0,get:function(){return this._textColor},set:function(e){this._textColor=e,this.draw()}}),this._backgroundFocusColor="#333333",Object.defineProperty(e.prototype,"backgroundFocusColor",{enumerable:!0,configurable:!0,get:function(){return this._backgroundFocusColor},set:function(e){this._backgroundFocusColor=e,this.draw()}}),this._textFocusColor="#99FF33",Object.defineProperty(e.prototype,"textFocusColor",{enumerable:!0,configurable:!0,get:function(){return this._textFocusColor},set:function(e){this._textFocusColor=e,this.draw()}}),this._borderColor="#333333",Object.defineProperty(e.prototype,"borderColor",{enumerable:!0,configurable:!0,get:function(){return this._borderColor},set:function(e){this._borderColor=e,this.draw()}}),this._borderFocusColor="#99FF33",Object.defineProperty(e.prototype,"borderFocusColor",{enumerable:!0,configurable:!0,get:function(){return this._borderFocusColor},set:function(e){this._borderFocusColor=e,this.draw()}}),this._borderRadius=26,Object.defineProperty(e.prototype,"borderRadius",{enumerable:!0,configurable:!0,get:function(){return this._borderRadius},set:function(e){this._borderRadius=e,this.draw()}}),this._value="",Object.defineProperty(e.prototype,"value",{enumerable:!0,configurable:!0,get:function(){return this._value},set:function(e){this._value=e,this.draw()}}),this._displayAsPassword=!1,Object.defineProperty(e.prototype,"displayAsPassword",{enumerable:!0,configurable:!0,get:function(){return this._displayAsPassword},set:function(e){this._displayAsPassword=e,this.draw()}}),this._width=400,Object.defineProperty(e.prototype,"width",{enumerable:!0,configurable:!0,get:function(){return this._width},set:function(e){this._width=e,this.build()}}),this._placeholder="",Object.defineProperty(e.prototype,"placeholder",{enumerable:!0,configurable:!0,get:function(){return this._placeholder},set:function(e){this._placeholder=e,this.build()}}),this.collides=function(e,t){if(this.scene){var n=new THREE.Vector3(e/this.renderer.domElement.width*2-1,-t/this.renderer.domElement.height*2+1,.5);return n.unproject(this.camera),this.raycaster=new THREE.Raycaster(this.camera.position,n.sub(this.camera.position).normalize()),this.raycaster.intersectObject(this,!0).length>0}},this.clear=function(){this.context.clearRect(0,0,this.width,this.height)},this.dispose=function(){document.removeEventListener("mousedown",t,!0),document.removeEventListener("mousemove",n,!1),document.removeEventListener("mouseup",r,!1)},this.init=function(){var e=this;this.padding=20,this.hasFocus=!1,this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),t=function(t){e.pointerX=t.clientX,e.pointerY=t.clientY,e.collides(e.pointerX,e.pointerY)?e.dispatchEvent({type:"mousedown"}):e.dispatchEvent({type:"mousedownoutside"})},n=function(t){e.pointerX=t.clientX,e.pointerY=t.clientY},r=function(t){e.pointerX=t.clientX,e.pointerY=t.clientY},document.addEventListener("mousedown",t,!0),document.addEventListener("mousemove",n,!1),document.addEventListener("mouseup",r,!1),this.build()},this.draw=function(){clearInterval(this.blink),this.clear(),this.context.beginPath(),this.context.roundRect(1,1,this.width-2,this.height-2,this.borderRadius),this.context.fillStyle=this.hasFocus?this.backgroundFocusColor:this.backgroundColor,this.context.fill(),this.context.textAlign="left",this.context.font="Normal 18px Arial";var e="",t=0;if(this.hasFocus){if(this.displayAsPassword)for(var n=0;n<this.value.length;n++)e+="*";else e=this.value;var r=this;this.blink=setInterval(function(){r.cursor=!r.cursor,r.draw()},500);var i=this.context.measureText(e+"|");this.cursor&&(e+="|");var o=i.width;o>this.width-2*this.padding&&(t=o-(this.width-2*this.padding))}else if(this.displayAsPassword)for(var a=0;a<this.value.length;a++)e+="*";else e=this.value;this.placeholder&&!this.value?(this.context.fillStyle=this.hasFocus?"rgba("+s(this.textFocusColor).r+","+s(this.textFocusColor).g+","+s(this.textFocusColor).b+", 0.4)":"rgba("+s(this.textColor).r+","+s(this.textColor).g+","+s(this.textColor).b+", 0.4)",this.context.fillText(this.placeholder,this.padding-t,this.height/2+6),this.context.fillStyle=this.hasFocus?this.textFocusColor:this.textColor,this.context.fillText(e,this.padding-t,this.height/2+6)):(this.context.fillStyle=this.hasFocus?this.textFocusColor:this.textColor,this.context.fillText(e,this.padding-t,this.height/2+6)),this.context.beginPath(),this.context.rect(1,20,this.padding-1,24),this.context.rect(this.width-1-this.padding,20,this.padding-1,24),this.context.fillStyle=this.hasFocus?this.backgroundFocusColor:this.backgroundColor,this.context.fill(),this.context.lineWidth=2,this.context.strokeStyle=this.hasFocus?this.borderFocusColor:this.borderColor,this.context.fillStyle="rgba(255,0,0,0)",this.context.roundRect(1,1,this.width-2,this.height-2,this.borderRadius),this.context.stroke(),this.context.fill()},this.build=function(){for(var e=this.children.length-1;e>=0;e--)this.children[e].geometry.dispose(),this.children[e].material.dispose(),this.remove(this.children[e]);this.canvas.width=this.width,this.canvas.height=this.height=60,this.draw(),this.texture=new THREE.Texture(this.canvas),this.texture.minFilter=THREE.LinearFilter,this.texture.needsUpdate=!0;var t=new THREE.MeshBasicMaterial({map:this.texture});t.transparent=!0;var n=new THREE.Mesh(new THREE.PlaneGeometry(this.canvas.width,this.canvas.height),t);n.position.set(0,0,0),this.add(n)},this.blur=function(){this.hasFocus=!1,this.draw(),this.dispatchEvent({type:"blur"})},this.focus=function(){this.hasFocus=!0,this.draw(),this.dispatchEvent({type:"focus"})},this.update=function(){this.texture.needsUpdate=!0},this.init()};a.prototype=Object.assign(Object.create(THREE.Group.prototype),{constructor:a});var s=function(e){var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}:null};CanvasRenderingContext2D.prototype.roundRect=function(e,t,n,r,i){this.beginPath(),this.moveTo(e+i,t),this.lineTo(e+n-i,t),this.quadraticCurveTo(e+n,t,e+n,t+i),this.lineTo(e+n,t+r-i),this.quadraticCurveTo(e+n,t+r,e+n-i,t+r),this.lineTo(e+i,t+r),this.quadraticCurveTo(e,t+r,e,t+r-i),this.lineTo(e,t+i),this.quadraticCurveTo(e,t,e+i,t),this.fill()},t.default=o,t.VRKeyboard=o,t.VRTextInput=a,t.Unicode=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=a(n(50)),o=a(n(301));function a(e){return e&&e.__esModule?e:{default:e}}function s(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var u=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scene=t,this.vrGamepad=n,this.startPoseControl()}return r(e,[{key:"startPoseControl",value:function(){var e=this,t=this.vrGamepad.leftGripStream,n=this.vrGamepad.rightGripStream,r=this.vrGamepad.leftControllerPoseStream,a=this.vrGamepad.rightControllerPoseStream,u=o.default.Observable.combineLatest(t,n).debounce(function(e){return o.default.Observable.interval(0)}).map(function(e){return e[0]==e[1]&&"down"==e[1]});u.filter(function(e){return e}).flatMap(function(t){var n=e.vrGamepad.leftController.getPosePosition(),l=e.vrGamepad.rightController.getPosePosition(),c={L:n,R:l,scenePos:e.scene.position.clone(),sceneScale:e.scene.scale.clone(),nodeSizeScale:i.default.config.nodeSizeScale,offsetDir:l.clone().sub(n).multiply(new THREE.Vector3(1,0,1)).normalize(),quaternion:e.scene.quaternion.clone()};return o.default.Observable.combineLatest(a,r).map(function(e){return[e[0].position,e[1].position]}).map(function(e){return e&&2==e.length&&e[1]&&e[0]?{start:c,current:{L:new(Function.prototype.bind.apply(THREE.Vector3,[null].concat(s(e[1])))),R:new(Function.prototype.bind.apply(THREE.Vector3,[null].concat(s(e[0]))))}}:null}).takeUntil(u)}).subscribe(this.poseChange.bind(this))}},{key:"poseChange",value:function(e){if(e){var t=e.start,n=e.current,r=t.L.clone().add(t.R).divideScalar(2),o=n.L.clone().add(n.R).divideScalar(2).clone().sub(r).multiplyScalar(5),a=t.L.distanceTo(t.R),s=n.L.distanceTo(n.R),u=t.sceneScale,l=s/a;this.scene.scale.set(u.x*l,u.y*l,u.z*l);var c=r.clone().sub(t.scenePos).applyMatrix4(this.vrGamepad.rightController.standingMatrix);o.sub(c.clone().multiplyScalar(l-1));var d=n.R.clone().sub(n.L).multiply(new THREE.Vector3(1,0,1)).normalize(),f=new THREE.Quaternion;f.setFromUnitVectors(t.offsetDir,d),this.scene.quaternion.copy(f.clone().multiply(t.quaternion)),i.default.config.nodeSizeScale=t.nodeSizeScale*s/a,this.scene.position.copy(t.scenePos.clone().add(o))}}},{key:"addFakeControllers",value:function(){var e=this,t=new THREE.BoxGeometry(.5,1,.5),n=new THREE.MeshBasicMaterial({color:65280,wireframe:!1});this.lBox=new THREE.Mesh(t,n),this.cloudScene.add(this.lBox),this.vrGamepad.leftControllerPoseStream.map(function(t){var n=e.vrGamepad.leftController.standingMatrix,r=new(Function.prototype.bind.apply(THREE.Vector3,[null].concat(s(t.position))));return e.cloudScene.worldToLocal(r.applyMatrix4(n))}).subscribe(function(t){e.lBox.position.copy(t);var n=1/e.cloudScene.scale.x/10;e.lBox.scale.set(n,n,n)}),this.rBox=new THREE.Mesh(t,n),this.cloudScene.add(this.rBox),this.vrGamepad.rightControllerPoseStream.map(function(t){var n=e.vrGamepad.rightController.standingMatrix,r=new(Function.prototype.bind.apply(THREE.Vector3,[null].concat(s(t.position))));return e.cloudScene.worldToLocal(r.applyMatrix4(n))}).subscribe(function(t){e.rBox.position.copy(t);var n=1/e.cloudScene.scale.x/10;e.rBox.scale.set(n,n,n)})}}]),e}();t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=(n(90),u(n(50))),o=u(n(301)),a=u(n(44)),s=u(n(300));function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var c=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Builder;l(this,e),this.graph=t.graph,this.gamepad=t.gamepad,this.camera=t.camera,this.drawing=t.drawing,this.nodeCloud=t.nodeCloud,this.layoutController=t.layoutController,this.plane=new THREE.Plane(new THREE.Vector3(0,1,0)),this.raycaster=new THREE.Raycaster,this.raycaster.near=.5,this.raycaster.far=i.default.config.pointerReachDistance,this.raycaster.params.Points.threshold=.05,this.tempMatrix=new THREE.Matrix4,this.multiSelect=!1,this.newRelationshipNodes=[],this.isDragging=!1,this.initPointerControl(),this.initNormalControl()}return r(e,[{key:"initNormalControl",value:function(){var e=this;this.gamepad.buttonYStream.distinctUntilChanged().filter(function(e){return e}).subscribe(function(t){e.drawing.toggleLeaf()}),this.gamepad.buttonAStream.distinctUntilChanged().filter(function(e){return e}).subscribe(function(t){var n=a.default.singleNode.node||{};e.drawing.highlightNeighbor(n.id)}),this.gamepad.buttonBStream.distinctUntilChanged().filter(function(e){return e}).subscribe(function(t){e.drawing.clearAllPin()}),this.gamepad.rightAxischangedStream.distinctUntilChanged().filter(function(e){return"top"==e}).subscribe(function(e){}),this.gamepad.rightAxischangedStream.distinctUntilChanged().filter(function(e){return"left"==e||"right"==e}).subscribe(function(t){e.drawing.helpSlides.toggle()})}},{key:"togglePointer",value:function(){this.gamepad.rightController.pointerLine.visible=!this.gamepad.rightController.pointerLine.visible}},{key:"doDragDrop",value:function(e){var t=this.gamepad.rightController,n=t.position.clone();n.add(t.getWorldDirection(n.clone().normalize()).multiplyScalar(-1*e.dist)),n.applyMatrix4(t.standingMatrix);var r=this.nodeCloud.parent.worldToLocal(n);this.layoutController.set_node_position(e.nodeId,r),this.layoutController.restart_layout()}},{key:"initPointerControl",value:function(){var e=this;this.gamepad.addSearchObject(this.nodeCloud.points),this.gamepad.intersectingSteam.do(function(t){0==t.length&&e.gamepad.updateLineLength(e.gamepad.rightController)}).filter(function(e){return e.length>0}).map(function(e){return e[0]}).filter(function(e){return e&&"node"==e.object.name}).map(function(t){return e.graph.visibleNodes[t.index]}).filter(function(e){return e}).do(function(t){var n=e.gamepad.rightController,r=e.nodeCloud.parent.localToWorld(t.position.clone()).distanceTo(n.position.clone().applyMatrix4(n.standingMatrix));e.gamepad.updateLineLength(n,r)}).subscribe(function(e){a.default.selectWithNodeIds([e.id])}),this.gamepad.rightTriggerStream.map(function(e){return"down"==e}).filter(function(e){return e}).flatMap(function(){var t=e.gamepad.rightController,n=e.gamepad.getIntersections(t);if(n.length>0&&"node"==n[0].object.name){var r=e.graph.visibleNodes[n[0].index],i=r.id;s.default.pinNodeIds([i]);var a=r.position.clone(),u=e.nodeCloud.parent.localToWorld(a).distanceTo(t.position.clone().applyMatrix4(t.standingMatrix));return e.gamepad.updateLineLength(t,u),e.gamepad.rightControllerPoseStream.map(function(e){return{dist:u,nodeId:i}}).takeUntil(e.gamepad.rightTriggerStream)}return o.default.Observable.empty()}).subscribe(function(t){e.doDragDrop(t),e.isDragging=!0}),this.gamepad.rightTriggerStream.map(function(t){return"up"==t&&e.isDragging}).subscribe(function(){e.isDragging=!1,e.layoutController.restart_layout()})}}],[{key:"Builder",get:function(){return function(){function t(e){l(this,t),this.graph=e}return r(t,[{key:"withGraph",value:function(e){return this.graph=e,this}},{key:"withCamera",value:function(e){return this.camera=e,this}},{key:"withLayoutController",value:function(e){return this.layoutController=e,this}},{key:"withGamePad",value:function(e){return this.gamepad=e,this}},{key:"withNodeCloud",value:function(e){return this.nodeCloud=e,this}},{key:"withDrawing",value:function(e){return this.drawing=e,this}},{key:"build",value:function(){return new e(this)}}]),t}()}}]),e}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=(o(n(2412)),o(n(11)),o(n(353)),function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(23)));function o(e){return e&&e.__esModule?e:{default:e}}var a=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scene=t,this.camera=n;var r=new i.PlaneGeometry(2,1),o=new i.MeshBasicMaterial({color:16777215,side:i.DoubleSide,transparent:!0,map:(new i.TextureLoader).load("/static/images/GraphXR_Help.png")});this.slide=new i.Mesh(r,o),this.slide.position.set(0,.7,-1.5),this.slide.rotateX(-Math.PI/4),this.slide.visible=!1,t.add(this.slide)}return r(e,[{key:"toggle",value:function(){this.slide.visible=!this.slide.visible}},{key:"update",value:function(){this.slide.visible&&this.slide.lookAt(this.camera.position.clone())}}]),e}();t.default=a},function(e,t,n){(function(t,n){
/*!
 *
 * Copyright 2009-2017 Kris Kowal under the terms of the MIT
 * license found at https://github.com/kriskowal/q/blob/v1/LICENSE
 *
 * With parts by Tyler Close
 * Copyright 2007-2009 Tyler Close under the terms of the MIT X license found
 * at http://www.opensource.org/licenses/mit-license.html
 * Forked at ref_send.js version: 2009-05-11
 *
 * With parts by Mark Miller
 * Copyright (C) 2011 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 */
!function(t){"use strict";"function"==typeof bootstrap?bootstrap("promise",t):e.exports=t()}(function(){"use strict";var e=!1;try{throw new Error}catch(t){e=!!t.stack}var r,i=E(),o=function(){},a=function(){var e={task:void 0,next:null},r=e,i=!1,o=void 0,s=!1,u=[];function l(){for(var t,n;e.next;)t=(e=e.next).task,e.task=void 0,(n=e.domain)&&(e.domain=void 0,n.enter()),c(t,n);for(;u.length;)c(t=u.pop());i=!1}function c(e,t){try{e()}catch(e){if(s)throw t&&t.exit(),setTimeout(l,0),t&&t.enter(),e;setTimeout(function(){throw e},0)}t&&t.exit()}if(a=function(e){r=r.next={task:e,domain:s&&t.domain,next:null},i||(i=!0,o())},"object"==typeof t&&"[object process]"===t.toString()&&t.nextTick)s=!0,o=function(){t.nextTick(l)};else if("function"==typeof n)o="undefined"!=typeof window?n.bind(window,l):function(){n(l)};else if("undefined"!=typeof MessageChannel){var d=new MessageChannel;d.port1.onmessage=function(){o=f,d.port1.onmessage=l,l()};var f=function(){d.port2.postMessage(0)};o=function(){setTimeout(l,0),f()}}else o=function(){setTimeout(l,0)};return a.runAfter=function(e){u.push(e),i||(i=!0,o())},a}(),s=Function.call;function u(e){return function(){return s.apply(e,arguments)}}var l,c=u(Array.prototype.slice),d=u(Array.prototype.reduce||function(e,t){var n=0,r=this.length;if(1===arguments.length)for(;;){if(n in this){t=this[n++];break}if(++n>=r)throw new TypeError}for(;n<r;n++)n in this&&(t=e(t,this[n],n));return t}),f=u(Array.prototype.indexOf||function(e){for(var t=0;t<this.length;t++)if(this[t]===e)return t;return-1}),h=u(Array.prototype.map||function(e,t){var n=this,r=[];return d(n,function(i,o,a){r.push(e.call(t,o,a,n))},void 0),r}),p=Object.create||function(e){function t(){}return t.prototype=e,new t},m=Object.defineProperty||function(e,t,n){return e[t]=n.value,e},g=u(Object.prototype.hasOwnProperty),y=Object.keys||function(e){var t=[];for(var n in e)g(e,n)&&t.push(n);return t},v=u(Object.prototype.toString);l="undefined"!=typeof ReturnValue?ReturnValue:function(e){this.value=e};var b="From previous event:";function _(t,n){if(e&&n.stack&&"object"==typeof t&&null!==t&&t.stack){for(var r=[],i=n;i;i=i.source)i.stack&&(!t.__minimumStackCounter__||t.__minimumStackCounter__>i.stackCounter)&&(m(t,"__minimumStackCounter__",{value:i.stackCounter,configurable:!0}),r.unshift(i.stack));r.unshift(t.stack);var o=function(e){for(var t=e.split("\n"),n=[],r=0;r<t.length;++r){var i=t[r];!k(i)&&(-1===(o=i).indexOf("(module.js:")&&-1===o.indexOf("(node.js:"))&&i&&n.push(i)}var o;return n.join("\n")}(r.join("\n"+b+"\n"));m(t,"stack",{value:o,configurable:!0})}}function w(e){var t=/at .+ \((.+):(\d+):(?:\d+)\)$/.exec(e);if(t)return[t[1],Number(t[2])];var n=/at ([^ ]+):(\d+):(?:\d+)$/.exec(e);if(n)return[n[1],Number(n[2])];var r=/.*@(.+):(\d+)$/.exec(e);return r?[r[1],Number(r[2])]:void 0}function k(e){var t=w(e);if(!t)return!1;var n=t[0],o=t[1];return n===r&&o>=i&&o<=$}function E(){if(e)try{throw new Error}catch(e){var t=e.stack.split("\n"),n=w(t[0].indexOf("@")>0?t[1]:t[2]);if(!n)return;return r=n[0],n[1]}}function x(e){return e instanceof A?e:j(e)?(t=e,n=M(),x.nextTick(function(){try{t.then(n.resolve,n.reject,n.notify)}catch(e){n.reject(e)}}),n.promise):W(e);var t,n}x.resolve=x,x.nextTick=a,x.longStackSupport=!1;var S=1;function M(){var t,n=[],r=[],i=p(M.prototype),o=p(A.prototype);if(o.promiseDispatch=function(e,i,o){var a=c(arguments);n?(n.push(a),"when"===i&&o[1]&&r.push(o[1])):x.nextTick(function(){t.promiseDispatch.apply(t,a)})},o.valueOf=function(){if(n)return o;var e=N(t);return L(e)&&(t=e),e},o.inspect=function(){return t?t.inspect():{state:"pending"}},x.longStackSupport&&e)try{throw new Error}catch(e){o.stack=e.stack.substring(e.stack.indexOf("\n")+1),o.stackCounter=S++}function a(i){t=i,x.longStackSupport&&e&&(o.source=i),d(n,function(e,t){x.nextTick(function(){i.promiseDispatch.apply(i,t)})},void 0),n=void 0,r=void 0}return i.promise=o,i.resolve=function(e){t||a(x(e))},i.fulfill=function(e){t||a(W(e))},i.reject=function(e){t||a(z(e))},i.notify=function(e){t||d(r,function(t,n){x.nextTick(function(){n(e)})},void 0)},i}function T(e){if("function"!=typeof e)throw new TypeError("resolver must be a function.");var t=M();try{e(t.resolve,t.reject,t.notify)}catch(e){t.reject(e)}return t.promise}function C(e){return T(function(t,n){for(var r=0,i=e.length;r<i;r++)x(e[r]).then(t,n)})}function A(e,t,n){void 0===t&&(t=function(e){return z(new Error("Promise does not support operation: "+e))}),void 0===n&&(n=function(){return{state:"unknown"}});var r=p(A.prototype);if(r.promiseDispatch=function(n,i,o){var a;try{a=e[i]?e[i].apply(r,o):t.call(r,i,o)}catch(e){a=z(e)}n&&n(a)},r.inspect=n,n){var i=n();"rejected"===i.state&&(r.exception=i.reason),r.valueOf=function(){var e=n();return"pending"===e.state||"rejected"===e.state?r:e.value}}return r}function O(e,t,n,r){return x(e).then(t,n,r)}function N(e){if(L(e)){var t=e.inspect();if("fulfilled"===t.state)return t.value}return e}function L(e){return e instanceof A}function j(e){return(t=e)===Object(t)&&"function"==typeof e.then;var t}"object"==typeof t&&t&&Object({NODE_ENV:"production"})&&Object({NODE_ENV:"production"}).Q_DEBUG&&(x.longStackSupport=!0),x.defer=M,M.prototype.makeNodeResolver=function(){var e=this;return function(t,n){t?e.reject(t):arguments.length>2?e.resolve(c(arguments,1)):e.resolve(n)}},x.Promise=T,x.promise=T,T.race=C,T.all=G,T.reject=z,T.resolve=x,x.passByCopy=function(e){return e},A.prototype.passByCopy=function(){return this},x.join=function(e,t){return x(e).join(t)},A.prototype.join=function(e){return x([this,e]).spread(function(e,t){if(e===t)return e;throw new Error("Q can't join: not the same: "+e+" "+t)})},x.race=C,A.prototype.race=function(){return this.then(x.race)},x.makePromise=A,A.prototype.toString=function(){return"[object Promise]"},A.prototype.then=function(e,t,n){var r=this,i=M(),o=!1;return x.nextTick(function(){r.promiseDispatch(function(t){o||(o=!0,i.resolve(function(t){try{return"function"==typeof e?e(t):t}catch(e){return z(e)}}(t)))},"when",[function(e){o||(o=!0,i.resolve(function(e){if("function"==typeof t){_(e,r);try{return t(e)}catch(e){return z(e)}}return z(e)}(e)))}])}),r.promiseDispatch(void 0,"when",[void 0,function(e){var t,r=!1;try{t=function(e){return"function"==typeof n?n(e):e}(e)}catch(e){if(r=!0,!x.onerror)throw e;x.onerror(e)}r||i.notify(t)}]),i.promise},x.tap=function(e,t){return x(e).tap(t)},A.prototype.tap=function(e){return e=x(e),this.then(function(t){return e.fcall(t).thenResolve(t)})},x.when=O,A.prototype.thenResolve=function(e){return this.then(function(){return e})},x.thenResolve=function(e,t){return x(e).thenResolve(t)},A.prototype.thenReject=function(e){return this.then(function(){throw e})},x.thenReject=function(e,t){return x(e).thenReject(t)},x.nearer=N,x.isPromise=L,x.isPromiseAlike=j,x.isPending=function(e){return L(e)&&"pending"===e.inspect().state},A.prototype.isPending=function(){return"pending"===this.inspect().state},x.isFulfilled=function(e){return!L(e)||"fulfilled"===e.inspect().state},A.prototype.isFulfilled=function(){return"fulfilled"===this.inspect().state},x.isRejected=function(e){return L(e)&&"rejected"===e.inspect().state},A.prototype.isRejected=function(){return"rejected"===this.inspect().state};var P,D,I,R=[],F=[],Y=[],B=!0;function H(){R.length=0,F.length=0,B||(B=!0)}function z(e){var n=A({when:function(n){return n&&function(e){if(B){var n=f(F,e);-1!==n&&("object"==typeof t&&"function"==typeof t.emit&&x.nextTick.runAfter(function(){var r=f(Y,e);-1!==r&&(t.emit("rejectionHandled",R[n],e),Y.splice(r,1))}),F.splice(n,1),R.splice(n,1))}}(this),n?n(e):this}},function(){return this},function(){return{state:"rejected",reason:e}});return function(e,n){B&&("object"==typeof t&&"function"==typeof t.emit&&x.nextTick.runAfter(function(){-1!==f(F,e)&&(t.emit("unhandledRejection",n,e),Y.push(e))}),F.push(e),n&&void 0!==n.stack?R.push(n.stack):R.push("(no stack) "+n))}(n,e),n}function W(e){return A({when:function(){return e},get:function(t){return e[t]},set:function(t,n){e[t]=n},delete:function(t){delete e[t]},post:function(t,n){return null===t||void 0===t?e.apply(void 0,n):e[t].apply(e,n)},apply:function(t,n){return e.apply(t,n)},keys:function(){return y(e)}},void 0,function(){return{state:"fulfilled",value:e}})}function U(e,t,n){return x(e).spread(t,n)}function V(e,t,n){return x(e).dispatch(t,n)}function G(e){return O(e,function(e){var t=0,n=M();return d(e,function(r,i,o){var a;L(i)&&"fulfilled"===(a=i.inspect()).state?e[o]=a.value:(++t,O(i,function(r){e[o]=r,0==--t&&n.resolve(e)},n.reject,function(e){n.notify({index:o,value:e})}))},void 0),0===t&&n.resolve(e),n.promise})}function q(e){if(0===e.length)return x.resolve();var t=x.defer(),n=0;return d(e,function(r,i,o){var a=e[o];n++,O(a,function(e){t.resolve(e)},function(e){if(0==--n){var r=e||new Error(""+e);r.message="Q can't get fulfillment value from any promise, all promises were rejected. Last error message: "+r.message,t.reject(r)}},function(e){t.notify({index:o,value:e})})},void 0),t.promise}function K(e){return O(e,function(e){return e=h(e,x),O(G(h(e,function(e){return O(e,o,o)})),function(){return e})})}x.resetUnhandledRejections=H,x.getUnhandledReasons=function(){return R.slice()},x.stopUnhandledRejectionTracking=function(){H(),B=!1},H(),x.reject=z,x.fulfill=W,x.master=function(e){return A({isDef:function(){}},function(t,n){return V(e,t,n)},function(){return x(e).inspect()})},x.spread=U,A.prototype.spread=function(e,t){return this.all().then(function(t){return e.apply(void 0,t)},t)},x.async=function(e){return function(){function t(e,t){var o;if("undefined"==typeof StopIteration){try{o=n[e](t)}catch(e){return z(e)}return o.done?x(o.value):O(o.value,r,i)}try{o=n[e](t)}catch(e){return function(e){return"[object StopIteration]"===v(e)||e instanceof l}(e)?x(e.value):z(e)}return O(o,r,i)}var n=e.apply(this,arguments),r=t.bind(t,"next"),i=t.bind(t,"throw");return r()}},x.spawn=function(e){x.done(x.async(e)())},x.return=function(e){throw new l(e)},x.promised=function(e){return function(){return U([this,G(arguments)],function(t,n){return e.apply(t,n)})}},x.dispatch=V,A.prototype.dispatch=function(e,t){var n=this,r=M();return x.nextTick(function(){n.promiseDispatch(r.resolve,e,t)}),r.promise},x.get=function(e,t){return x(e).dispatch("get",[t])},A.prototype.get=function(e){return this.dispatch("get",[e])},x.set=function(e,t,n){return x(e).dispatch("set",[t,n])},A.prototype.set=function(e,t){return this.dispatch("set",[e,t])},x.del=x.delete=function(e,t){return x(e).dispatch("delete",[t])},A.prototype.del=A.prototype.delete=function(e){return this.dispatch("delete",[e])},x.mapply=x.post=function(e,t,n){return x(e).dispatch("post",[t,n])},A.prototype.mapply=A.prototype.post=function(e,t){return this.dispatch("post",[e,t])},x.send=x.mcall=x.invoke=function(e,t){return x(e).dispatch("post",[t,c(arguments,2)])},A.prototype.send=A.prototype.mcall=A.prototype.invoke=function(e){return this.dispatch("post",[e,c(arguments,1)])},x.fapply=function(e,t){return x(e).dispatch("apply",[void 0,t])},A.prototype.fapply=function(e){return this.dispatch("apply",[void 0,e])},x.try=x.fcall=function(e){return x(e).dispatch("apply",[void 0,c(arguments,1)])},A.prototype.fcall=function(){return this.dispatch("apply",[void 0,c(arguments)])},x.fbind=function(e){var t=x(e),n=c(arguments,1);return function(){return t.dispatch("apply",[this,n.concat(c(arguments))])}},A.prototype.fbind=function(){var e=this,t=c(arguments);return function(){return e.dispatch("apply",[this,t.concat(c(arguments))])}},x.keys=function(e){return x(e).dispatch("keys",[])},A.prototype.keys=function(){return this.dispatch("keys",[])},x.all=G,A.prototype.all=function(){return G(this)},x.any=q,A.prototype.any=function(){return q(this)},x.allResolved=(P=K,D="allResolved",I="allSettled",function(){return"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(D+" is deprecated, use "+I+" instead.",new Error("").stack),P.apply(P,arguments)}),A.prototype.allResolved=function(){return K(this)},x.allSettled=function(e){return x(e).allSettled()},A.prototype.allSettled=function(){return this.then(function(e){return G(h(e,function(e){function t(){return e.inspect()}return(e=x(e)).then(t,t)}))})},x.fail=x.catch=function(e,t){return x(e).then(void 0,t)},A.prototype.fail=A.prototype.catch=function(e){return this.then(void 0,e)},x.progress=function(e,t){return x(e).then(void 0,void 0,t)},A.prototype.progress=function(e){return this.then(void 0,void 0,e)},x.fin=x.finally=function(e,t){return x(e).finally(t)},A.prototype.fin=A.prototype.finally=function(e){if(!e||"function"!=typeof e.apply)throw new Error("Q can't apply finally callback");return e=x(e),this.then(function(t){return e.fcall().then(function(){return t})},function(t){return e.fcall().then(function(){throw t})})},x.done=function(e,t,n,r){return x(e).done(t,n,r)},A.prototype.done=function(e,n,r){var i=function(e){x.nextTick(function(){if(_(e,o),!x.onerror)throw e;x.onerror(e)})},o=e||n||r?this.then(e,n,r):this;"object"==typeof t&&t&&t.domain&&(i=t.domain.bind(i)),o.then(void 0,i)},x.timeout=function(e,t,n){return x(e).timeout(t,n)},A.prototype.timeout=function(e,t){var n=M(),r=setTimeout(function(){t&&"string"!=typeof t||((t=new Error(t||"Timed out after "+e+" ms")).code="ETIMEDOUT"),n.reject(t)},e);return this.then(function(e){clearTimeout(r),n.resolve(e)},function(e){clearTimeout(r),n.reject(e)},n.notify),n.promise},x.delay=function(e,t){return void 0===t&&(t=e,e=void 0),x(e).delay(t)},A.prototype.delay=function(e){return this.then(function(t){var n=M();return setTimeout(function(){n.resolve(t)},e),n.promise})},x.nfapply=function(e,t){return x(e).nfapply(t)},A.prototype.nfapply=function(e){var t=M(),n=c(e);return n.push(t.makeNodeResolver()),this.fapply(n).fail(t.reject),t.promise},x.nfcall=function(e){var t=c(arguments,1);return x(e).nfapply(t)},A.prototype.nfcall=function(){var e=c(arguments),t=M();return e.push(t.makeNodeResolver()),this.fapply(e).fail(t.reject),t.promise},x.nfbind=x.denodeify=function(e){if(void 0===e)throw new Error("Q can't wrap an undefined function");var t=c(arguments,1);return function(){var n=t.concat(c(arguments)),r=M();return n.push(r.makeNodeResolver()),x(e).fapply(n).fail(r.reject),r.promise}},A.prototype.nfbind=A.prototype.denodeify=function(){var e=c(arguments);return e.unshift(this),x.denodeify.apply(void 0,e)},x.nbind=function(e,t){var n=c(arguments,2);return function(){var r=n.concat(c(arguments)),i=M();return r.push(i.makeNodeResolver()),x(function(){return e.apply(t,arguments)}).fapply(r).fail(i.reject),i.promise}},A.prototype.nbind=function(){var e=c(arguments,0);return e.unshift(this),x.nbind.apply(void 0,e)},x.nmapply=x.npost=function(e,t,n){return x(e).npost(t,n)},A.prototype.nmapply=A.prototype.npost=function(e,t){var n=c(t||[]),r=M();return n.push(r.makeNodeResolver()),this.dispatch("post",[e,n]).fail(r.reject),r.promise},x.nsend=x.nmcall=x.ninvoke=function(e,t){var n=c(arguments,2),r=M();return n.push(r.makeNodeResolver()),x(e).dispatch("post",[t,n]).fail(r.reject),r.promise},A.prototype.nsend=A.prototype.nmcall=A.prototype.ninvoke=function(e){var t=c(arguments,1),n=M();return t.push(n.makeNodeResolver()),this.dispatch("post",[e,t]).fail(n.reject),n.promise},x.nodeify=function(e,t){return x(e).nodeify(t)},A.prototype.nodeify=function(e){if(!e)return this;this.then(function(t){x.nextTick(function(){e(null,t)})},function(t){x.nextTick(function(){e(t)})})},x.noConflict=function(){throw new Error("Q.noConflict only works when Q is used as a global")};var $=E();return x})}).call(t,n(59),n(255).setImmediate)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.KeyboardStream=t.MouseStream=void 0;var r,i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(301),s=(r=a)&&r.__esModule?r:{default:r};function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var l=function(){function e(t){var n=this;u(this,e),this.enable=!0,this.movable=!0,this.dom=t,this.move=new s.default.Subject,this.up=new s.default.Subject,this.down=new s.default.Subject,this.out=new s.default.Subject,this.dbClick=new s.default.Subject,this.wheel=new s.default.Subject,this.drag=this.down.flatMap(function(){var e=n.latestMousePoint.x,t=n.latestMousePoint.y;return n.move.map(function(n){return i({},n,{startPos:{x:e,y:t}})}).takeUntil(n.up)}),this.latestMousePoint={x:0,y:0,screenX:0,screenY:0,buttons:0,isFilter:!1},this.startFromEventHandle()}return o(e,[{key:"startFromEventHandle",value:function(){window.document.addEventListener("mousemove",this.mouseMove.bind(this),!1),window.document.addEventListener("mousedown",this.mouseDown.bind(this),!1),window.document.addEventListener("mouseout",this.mouseOut.bind(this),!1),window.document.addEventListener("mouseup",this.mouseUp.bind(this),!1),window.document.addEventListener("mouseenter",this.mouseEnter.bind(this),!1),window.document.addEventListener("dblclick",this.mouseDBClick.bind(this),!1),window.document.addEventListener("wheel",this.mouseWheel.bind(this),!1)}},{key:"removeAllEvent",value:function(){window.document.removeEventListener("mousemove",this.mouseMove.bind(this),!1),window.document.removeEventListener("mousedown",this.mouseDown.bind(this),!1),window.document.removeEventListener("mouseout",this.mouseOut.bind(this),!1),window.document.removeEventListener("mouseup",this.mouseUp.bind(this),!1),window.document.addEventListener("mouseenter",this.mouseEnter.bind(this),!1),window.document.removeEventListener("dblclick",this.mouseDBClick.bind(this),!1),window.document.removeEventListener("wheel",this.mouseWheel.bind(this),!1)}},{key:"mouseDBClick",value:function(e){if(!this.needFilter(e)){var t=e.clientX/window.innerWidth*2-1,n=-e.clientY/window.innerHeight*2+1;this.dbClick.next({x:t,y:n})}}},{key:"mouseWheel",value:function(e){var t=this;this.needFilter(e)||(this.wheel.next({deltaY:e.deltaY,x:e.clientX/window.innerWidth*2-1,y:-e.clientY/window.innerHeight*2+1}),this._wheelTimeout&&clearTimeout(this._wheelTimeout),this._wheelTimeout=setTimeout(function(){t.mouseUp(e)},250))}},{key:"mouseEnter",value:function(e){this.enable&&this.movable&&(this.latestMousePoint.x=e.clientX/window.innerWidth*2-1,this.latestMousePoint.y=-e.clientY/window.innerHeight*2+1,this.latestMousePoint.screenX=e.clientX,this.latestMousePoint.screenY=e.clientY)}},{key:"mouseMove",value:function(e){this.enable&&this.movable&&(this.latestMousePoint.x=e.clientX/window.innerWidth*2-1,this.latestMousePoint.y=-e.clientY/window.innerHeight*2+1,this.latestMousePoint.screenX=e.clientX,this.latestMousePoint.screenY=e.clientY,this.latestMousePoint.buttons=e.buttons,this.latestMousePoint.isFilter=this.needFilter(e),this.latestMousePoint=Object.assign({right:e.which&&3==e.which||e.button&&2==e.button},this.latestMousePoint),this.move.next(this.latestMousePoint))}},{key:"needFilter",value:function(e){var t=e.fromReact&&(e.target.onclick||e.target.onchange||e.target.onmousedown||$(e.target).parents(".modal").length>0||$(e.target).parents(".CodeMirror").length>0||$(e.target).parents(".rc-slider").length>0||$(e.target).parents(".ui-draggable-handle").length>0||$(e.target).hasClass("ui-resizable-handle")||["input","button","a","select","option","textarea","label","span","i","td"].includes(e.target.tagName.toLocaleLowerCase())>0);return!(this.enable&&(e.fromReact||e.target.id==this.dom.id)&&!t)}},{key:"mouseDown",value:function(e){if(this.latestMousePoint.x=e.clientX/window.innerWidth*2-1,this.latestMousePoint.y=-e.clientY/window.innerHeight*2+1,this.latestMousePoint.screenX=e.clientX,this.latestMousePoint.screenY=e.clientY,this.latestMousePoint.buttons=e.buttons,!this.needFilter(e)){var t=e.clientX/window.innerWidth*2-1,n=-e.clientY/window.innerHeight*2+1;this.down.next({x:t,y:n,right:e.which&&3==e.which||e.button&&2==e.button,left:e.which&&1==e.which||e.button&&0==e.button})}}},{key:"mouseUp",value:function(e){if(this.enable){var t=e.clientX/window.innerWidth*2-1,n=-e.clientY/window.innerHeight*2+1;this.up.next({x:t,y:n})}}},{key:"mouseOut",value:function(e){this.enable&&this.out.next()}}]),e}(),c=function(){function e(){u(this,e),this.enable=!0,this.down=new s.default.Subject,this.up=new s.default.Subject,document.addEventListener("keydown",this.keydown.bind(this),!1),document.addEventListener("keyup",this.keyup.bind(this),!1),this.controlDown=this.down.filter(function(e){return"Control"==e}),this.controlUp=this.up.filter(function(e){return"Control"==e})}return o(e,[{key:"ingoreFilter",value:function(e){return["input","textarea"].includes(e.target.tagName.toLocaleLowerCase())}},{key:"keydown",value:function(e){this.enable&&!this.ingoreFilter(e)&&this.down.next(e.key)}},{key:"keyup",value:function(e){this.enable&&this.up.next(e.key)}}]),e}();t.MouseStream=l,t.KeyboardStream=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(23)),a=n(2415),s=(r=a)&&r.__esModule?r:{default:r};var u=[{file:"3EGH489017-8096.stl",position:new o.Vector3(-.1,.1,0),rotation:new o.Vector3(0,0,0),scale:.001},{file:"500244928_A.STL",position:new o.Vector3(-.1,.15,0),rotation:new o.Vector3(Math.PI/2,0,0),scale:.001},{file:"500381254_B.STL",position:new o.Vector3(-.1,.15,0),rotation:new o.Vector3(Math.PI/2,0,0),scale:3e-4},{file:"Abrissbirne-V03.stl",position:new o.Vector3(0,.1,0),rotation:new o.Vector3(0,0,-Math.PI/2),scale:.008},{file:"Chizzle-V03.stl",position:new o.Vector3(.06,.15,0),rotation:new o.Vector3(0,0,-Math.PI/2),scale:.008},{file:"GripperArm3.stl",position:new o.Vector3(0,.15,-.06),rotation:new o.Vector3(0,0,-Math.PI/2),scale:.001},{file:"Schaufel-V03.stl",position:new o.Vector3(0,.1,.03),rotation:new o.Vector3(0,0,-Math.PI/2),scale:.004},{file:"Schaufelaufnahme.stl",position:new o.Vector3(0,.25,.01),rotation:new o.Vector3(0,0,-Math.PI/2),scale:.03}],l=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scene=t,this.collection=[],this.lightOn=!1}return i(e,[{key:"add",value:function(e,t){var n=new s.default(this.scene,t,e);this.collection.push({id:e.id,parent:e,obj:n})}},{key:"remove",value:function(e){var t=_.findIndex(this.collection,function(e){return e.id==id});t>-1&&this.collection.splice(t,1)}},{key:"test",value:function(e){this.lightOn||_drawing.initLighting(),this.add(_drawing.graph.nodes[e],u[e])}},{key:"testAll",value:function(){var e=this;_drawing.initLighting(),_.forEach(u,function(t,n){e.add(_drawing.graph.nodes[n],t)})}},{key:"update",value:function(){this.collection.forEach(function(e){e.obj.update()})}}]),e}();t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(23)),a=n(575);(r=a)&&r.__esModule;n(1279);var s=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scene=t,this.model=n,this.parent=r,this.group=new o.Group,this.group.position.copy(r.position),this.scene.add(this.group),this.mesh=null,this.draw()}return i(e,[{key:"draw",value:function(){var e=new o.STLLoader,t=this,n=new o.MeshPhongMaterial({color:925765,specular:1118481,shininess:200});e.load("static/stl/Boris/"+this.model.file,function(e){console.log("success"),t.mesh=new o.Mesh(e,n),t.mesh.position.copy(t.model.position);var r=t.model.rotation;t.mesh.rotation.set(r.x,r.y,r.z);var i=t.model.scale||.001;t.mesh.scale.set(i,i,i),t.mesh.castShadow=!0,t.mesh.receiveShadow=!0,t.group.add(t.mesh)},function(e){console.log(e)})}},{key:"update",value:function(){this.group.position.copy(this.parent.position),this.group.rotateY(.01)}}]),e}();t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(23)),o=(l(n(11)),l(n(2417))),a=l(n(2418)),s=l(n(575)),u=l(n(2419));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e&&(n.parent=e,e.add(n)),n.showIn2DCheck=!1,n.node=null,n.visible=!1,n.Video3D=new a.default,n.Web3D=new o.default,n.mediaGroupIn2D=[],window.mediaGroupIn2D=n.mediaGroupIn2D,n.cloudMediaIn2D=new i.Group,n.cloudMediaIn2D.name="cloud-video",n.cloudMediaIn2D.position.y-=.5,n.parent.add(n.cloudMediaIn2D),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Group),r(t,[{key:"bindNode",value:function(e){this.closeMedia(),this.node=e}},{key:"closeMedia",value:function(){a.default.stop(),o.default.stop(),this.nodeDetailerPanel&&this.remove(this.nodeDetailerPanel.mesh)}},{key:"showInfo",value:function(e){this.nodeDetailerPanel||(this.nodeDetailerPanel=new u.default);var t=e.data.detail;this.nodeDetailerPanel.renderReact(t,e.color),this.nodeDetailerPanel.mesh.userData.unrelease=!0;var n=this.nodeDetailerPanel.mesh.options.scale*(this.nodeDetailerPanel.mesh.options.height/2)+.05;this.nodeDetailerPanel.mesh.position.copy(new i.Vector3(0,-n,0)),this.add(this.nodeDetailerPanel.mesh)}},{key:"showWebLink",value:function(e){o.default.play(this,e,!0)}},{key:"showVideo",value:function(e){a.default.play(this,e,!0)}},{key:"showVideoIn2D",value:function(e,t){var n=this;console.log(this.showIn2DCheck);var r=this.mediaGroupIn2D.find(function(e){return e.id==t.id});if(this.showIn2DCheck)this.showIn2DCheck=!0;else{if(r)return this.stopVideoIn2D({id:r.id}),void(this.showIn2DCheck=!1);this.mediaGroupIn2D.length>4&&("video"==this.mediaGroupIn2D[0].type?this.stopVideoIn2D({id:this.mediaGroupIn2D[0].id}):this.cleanImage({id:this.mediaGroupIn2D[0].id})),this.mediaGroupIn2D.forEach(function(e){"video"==e.type&&e.video.pause()}),this.Video3D.createVideo(e,t).then(function(e){n.showIn2DCheck=!1,n.mediaGroupIn2D.push({id:t.id,type:"video",mesh:e.mesh,video:e.video,texture:e.texture}),n.cloudMediaIn2D.add(e.mesh)})}}},{key:"playVideoIn2D",value:function(e){this.Video3D.playVideo(e)}},{key:"handleVideoIn2D",value:function(e){if("video"==e.slice(-5)){var t=e.slice(0,-6);this.mediaGroupIn2D.forEach(function(e){"video"==e.type&&e.video.pause(),e.id==t&&(e.video.paused?e.video.play():e.video.pause())})}}},{key:"stopVideoIn2D",value:function(e){var t=this.mediaGroupIn2D.findIndex(function(t){return t.id==e.id}),n=t>-1?this.mediaGroupIn2D[t]:null,r=n&&n.texture,i=n&&n.mesh;r&&i&&(r.needsUpdate=!1,i&&i.material.map!=s.default&&(i.material.map=s.default,s.default.needsUpdate=!0),this.cloudMediaIn2D.remove(i),e&&n&&(this.mediaGroupIn2D[t].video.pause(),this.mediaGroupIn2D.splice(t,1)))}},{key:"showImageIn2D",value:function(e,t){var n=this;if(!this.showIn2DCheck){var r=this.mediaGroupIn2D.find(function(e){return e.id==t.id});if(r)return this.cleanImage({id:r.id}),void(this.showIn2DCheck=!1);this.showIn2DCheck=!0,this.Web3D.createImgIn2D(e,t).then(function(e){n.mediaGroupIn2D.length>4&&("image"==n.mediaGroupIn2D[0].type?n.cleanImage({id:n.mediaGroupIn2D[0].id}):n.stopVideoIn2D({id:n.mediaGroupIn2D[0].id})),n.mediaGroupIn2D.push({id:t.id,type:"image",mesh:e.mesh,texture:e.texture}),n.cloudMediaIn2D.add(e.mesh),n.showIn2DCheck=!1})}}},{key:"cleanImage",value:function(e){var t=this.mediaGroupIn2D.findIndex(function(t){return t.id==e.id}),n=t>-1?this.mediaGroupIn2D[t]:null,r=n&&n.texture,i=n&&n.mesh;i&&i.parent&&(r.needsUpdate=!0,i.material.map!=s.default&&(i.material.map=s.default,s.default.needsUpdate=!0),i.parent&&(i.parent.remove(i),i.parent=null),i.visible=!1,this.mediaGroupIn2D.splice(t,1))}},{key:"update",value:function(){var e=this;this.node?(this.position.copy(this.node.position),this.visible=!0):this.visible=!1,this.mediaGroupIn2D.forEach(function(t,n){var r=_app.controller.graph.visibleNodes.filter(function(e){return e.id==t.id})[0];r&&r.position?(e.mediaGroupIn2D[n].mesh.position.copy(r.position),e.mediaGroupIn2D[n].mesh.lookAt(e.cloudMediaIn2D.worldToLocal(_app.controller.drawing.camera.position.clone()))):"video"==e.mediaGroupIn2D[n].type?e.stopVideoIn2D({id:t.id}):e.cleanImage({id:t.id})})}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(23)),a=n(575),s=(r=a)&&r.__esModule?r:{default:r};var u=null,l=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.counter=0,this.isReady=!1,this.width=512,this.height=384,this.url=null,this.image=document.createElement("canvas"),this.image.width=this.width,this.image.height=this.height,this.imageContext=this.image.getContext("2d"),this.imageContext.fillStyle="#444444",this.imageContext.fillRect(0,0,this.width,this.height),this.texture=new o.Texture(this.image),this.texture.minFilter=o.LinearFilter,this.texture.magFilter=o.LinearFilter,this.texture.format=o.RGBFormat}return i(e,null,[{key:"shareInstance",value:function(){return u||(u=new this),u}},{key:"play",value:function(e,t,n){this.shareInstance().play(e,t,n)}},{key:"stop",value:function(){this.shareInstance().stop()}},{key:"update",value:function(e,t){this.shareInstance().update(e,t)}}]),i(e,[{key:"createImgIn2D",value:function(e,t){var n=this,r=void 0,i=this.image.getContext("2d");if(i.fillStyle="#444444",i.fillRect(0,0,this.width,this.height),!e)return console.warn("Miss parameter url");var a=new o.Mesh(new o.PlaneGeometry(this.width,this.height,4,4),new o.MeshBasicMaterial({map:s.default,overdraw:.5}));a.scale.set(.001,.001,.001);var u=this.height/2*.001+.05;return a.position.copy(new o.Vector3(0,-u,0)),new Promise(function(u,l){(new o.ImageLoader).setCrossOrigin("anonymous").load(/^data\:image/.test(e)?e:"/api/proxy/image?url="+e,function(e){if(e.height/e.width>n.height/n.width){var l=n.width*(e.width/e.height);i.drawImage(e,(n.width-l)/2,0,l,n.height)}else if(e.height/e.width<n.height/n.width){var c=n.height*(e.height/e.width);i.drawImage(e,0,(n.height-c)/2,n.width,c)}else i.drawImage(e,0,0,n.width,n.height);(r=new o.Texture(e)).minFilter=o.LinearFilter,r.magFilter=o.LinearFilter,r.format=o.RGBFormat,a.material.map!=r&&(a.material.map=r),r.needsUpdate=!0,s.default.needsUpdate=!1,a.name=t.id+"-image",u({mesh:a,texture:r})},function(e){},function(e){l(e),console.error("Loading screenshot fail.",e)})})}},{key:"clean",value:function(){this.imageContext.clearRect(0,0,this.width,this.height),this.imageContext.fillRect(0,0,this.width,this.height),this.texture.needsUpdate=!0,this.mesh.material.map!=s.default&&(this.mesh.material.map=s.default,s.default.needsUpdate=!0)}},{key:"stop",value:function(){this.mesh&&this.mesh.parent&&(this.clean(),this.mesh.parent&&(this.mesh.parent.remove(this.mesh),this.mesh.parent=null),this.url=null,this.mesh.visible=!1)}}]),e}();t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(23)),a=n(575),s=(r=a)&&r.__esModule?r:{default:r};var u=null,l=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.counter=0,this.video=document.createElement("video"),this.video.loop=!1,this.video.muted=!1,this.width=512,this.height=384,this.video.width=this.width,this.video.height=this.height,this.video.style.objectFit="inherit",this.video.crossOrigin="anonymous",this.video.setAttribute("webkit-playsinline","webkit-playsinline"),this.url=null,this.texture=new o.VideoTexture(this.video),this.texture.minFilter=o.LinearFilter,this.texture.magFilter=o.LinearFilter,this.texture.format=o.RGBFormat,this.texture.needsUpdate=!1,this.video.addEventListener("loadedmetadata",function(e){t.mesh.material.map!=t.texture&&(t.mesh.material.map=t.texture),s.default.needsUpdate=!1,t.texture.needsUpdate=!0}),this.cloudVideo=new o.Group,this.cloudVideo.name="cloud-video",this.videoGroup={}}return i(e,null,[{key:"shareInstance",value:function(){return u||(u=new this),u}},{key:"play",value:function(e,t){this.shareInstance().play(e,t)}},{key:"stop",value:function(){this.shareInstance().stop()}},{key:"update",value:function(){this.shareInstance().update()}}]),i(e,[{key:"createVideo",value:function(e,t){var n=this;return new Promise(function(r,i){var a=document.createElement("video");a.loop=!0,a.muted=!1,a.width=n.width,a.height=n.height,a.style.objectFit="inherit",a.crossOrigin="anonymous",a.setAttribute("webkit-playsinline","webkit-playsinline"),a.id=t.id+"-video";var u=new o.VideoTexture(a);if(u.minFilter=o.LinearFilter,u.magFilter=o.LinearFilter,u.format=o.RGBFormat,u.needsUpdate=!1,a.addEventListener("loadedmetadata",function(e){l.material.map!=u&&(l.material.map=u),s.default.needsUpdate=!1,u.needsUpdate=!0}),!e)return console.warn("Miss parameter (S)");var l=new o.Mesh(new o.PlaneGeometry(n.width,n.height,4,4),new o.MeshBasicMaterial({map:s.default,overdraw:.5}));l.scale.set(.001,.001,.001);n.height;l.position.copy(t.position),l.position.x+=100,l.name=t.id+"-video",/youtube\.com|youtu\.be/i.test(e)?a.src="/api/proxy/youtube/?url="+e:/\.mp4/i.test(e)?a.src="/api/proxy/mp4/?url="+e:a.src=e||"/public/video/sintel.mp4",a.volume=.1,a.play(),u.needsUpdate=!1,r({id:t.id,video:a,texture:u,mesh:l})})}},{key:"play",value:function(e,t){if(!e||!t)return console.warn("Miss parameter (S)");if(this.url==t)return this.stop();this.url=t,this.clean(),this.mesh=new o.Mesh(new o.PlaneGeometry(this.width,this.height,4,4),new o.MeshBasicMaterial({map:s.default,overdraw:.5}));this.mesh.scale.set(.001,.001,.001);var n=this.height/2*.001+.05;this.mesh.position.copy(new o.Vector3(0,-n,0)),e.add(this.mesh),/youtube\.com|youtu\.be/i.test(t)?this.video.src="/api/proxy/youtube/?url="+t:/\.mp4/i.test(t)?this.video.src="/api/proxy/mp4/?url="+t:this.video.src=t||"/public/video/sintel.mp4",this.video.volume=.1,this.video.play(),this.texture.needsUpdate=!1}},{key:"clean",value:function(){this.texture.needsUpdate=!1,this.mesh&&this.mesh.material.map!=s.default&&(this.mesh.material.map=s.default,s.default.needsUpdate=!0)}},{key:"stop",value:function(){this.mesh&&(this.clean(),this.mesh.parent&&(this.mesh.parent.remove(this.mesh),this.mesh.parent=null),this.url=null,this.isVideoEnd=!1,this.video.pause())}}]),e}();t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=u(n(1)),o=u(n(31)),a=u(n(11)),s=u(n(2420));function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var c=function(e){function t(){return l(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),r(t,[{key:"render",value:function(){var e=this.props,t=e.dataList.data,n=e.color,r=e.id,o=n.getStyle();return i.default.createElement("table",{id:r,className:"node-detailer-panel "+(window.isDebug?"debug":"normal"),style:{borderColor:o,color:o}},i.default.createElement("thead",{key:"item_head"},i.default.createElement("tr",{className:"item item-head"},i.default.createElement("td",{className:"item-key"},"Name"),i.default.createElement("td",{className:"item-value"},"Value"))),i.default.createElement("tbody",null,a.default.map(t,function(e,t){var n=e.toString();return n.length>120&&(n=n.substr(0,120)+" ..."),i.default.createElement("tr",{key:t,className:"item"},i.default.createElement("td",{className:"item-key"},t),i.default.createElement("td",{className:"item-value"},n))})))}}]),t}(),d=function(){function e(){l(this,e),this.id="node-detailer-panel",this.reactRootId="node-detailer-panel-react-root",this.html3d=null}return r(e,[{key:"getReactRoot",value:function(){if(!document.getElementById(this.reactRootId)){var e=document.createElement("div");e.id=this.reactRootId,document.body.appendChild(e)}return document.getElementById(this.reactRootId)}},{key:"renderReact",value:function(e,t){o.default.render(i.default.createElement(c,{id:this.id,dataList:e,color:t}),this.getReactRoot())}},{key:"mesh",get:function(){return this.html3d||(this.html3d=new s.default({domId:this.id,scale:.001,debug:window.isDebug})),this.html3d}}]),e}();t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(23)),o=(a(n(11)),a(n(301)));function a(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.options=Object.assign({throttle:600,scale:1,width:1,height:1,watch:!0,domId:null,debug:!0,autoSize:!0},e),n.type="html3d",n.domId=null,1!==n.options.width||1!==n.options.height?n.options.autoSize=!1:n.options.autoSize=!0,n.canvas=n.getTempCanvas(),n.texture=new i.Texture(n.canvas),n.texture.minFilter=i.LinearFilter,n.texture.magFilter=i.LinearFilter;var r=new i.PlaneGeometry(1,1),a=new i.MeshBasicMaterial({map:n.texture,transparent:!0,side:i.DoubleSide,depthWrite:!1});return n.plane=new i.Mesh(r,a),n.plane.scale.set(n.options.width*n.options.scale,n.options.height*n.options.scale,1),n.screenShot=n.screenShot.bind(n),n.add(n.plane),n.buttonBounds=[],n.options.domId&&n.render(n.options.domId),n.domChangedStream=new o.default.Subject,n.domChangedStream.debounceTime(n.options.throttle).subscribe(function(){n.screenShot(),n.options.autoSize&&n.updateBounds()}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Object3D),r(t,[{key:"getMesh",value:function(){return this}},{key:"getTempCanvas",value:function(){var e=document.getElementById("canvas-"+this.id);if(!e){var t=document.createElement("div");t.id=this.id,t.style.position="fixed",t.style.backgroundColor="rgba(0,0,0,0)",t.style.bottom=0,this.options.debug?t.style.right="10px":(t.style.visibility="hidden",t.style.left="-1000px"),(e=document.createElement("canvas")).setAttribute("id","canvas-"+this.id),t.appendChild(e),document.body.appendChild(t)}return e}},{key:"screenShot",value:function(){var e=this;console.time("=======Html2Canvas"),html2canvas(document.getElementById(this.domId),{logging:this.options.debug,backgroundColor:null,reuseContainer:!0,canvas:this.canvas}).then(function(t){console.timeEnd("=======Html2Canvas"),t&&e.texture&&(e.texture.needsUpdate=!0)})}},{key:"runScreenShotFunc",value:function(e){this.domChangedStream.next((new Date).getTime())}},{key:"render",value:function(e){var t=document.getElementById(e);if(!e||!t)return console.error("Only support the document's id, The domId(",e,") not active in document");this.domId!=e&&(this.runScreenShotFunc=this.runScreenShotFunc.bind(this),this.domId&&document.getElementById(e).removeEventListener("DOMSubtreeModified",this.runScreenShotFunc),document.getElementById(e).addEventListener("DOMSubtreeModified",this.runScreenShotFunc,!1),this.domId=e,this.screenShot(),this.updateBounds())}},{key:"updateBounds",value:function(){var e=document.getElementById(this.domId),t=e.getBoundingClientRect();this.options.width=t.width,this.options.height=t.height,this.plane.scale.set(this.options.width*this.options.scale,this.options.height*this.options.scale,1),this.bounds=[];for(var n=e.querySelectorAll("[data-screenshot-click]"),r=0;r<n.length;r++){var i=n[r],o=i.getBoundingClientRect();this.bounds.push({top:o.top-t.top,left:o.left-t.left,right:o.right-t.left,bottom:o.bottom-t.top,width:o.width,height:o.height,elem:i})}}},{key:"handleClick",value:function(e){if(this.plane.worldToLocal(e),this.options.debug){if(!this.debugbox){var t=new i.SphereGeometry(.2*this.options.scale),n=new i.MeshLambertMaterial({color:"green"});this.debugbox=new i.Mesh(t,n),this.debugbox.scale.set(1,this.options.width/this.options.height,1),this.plane.add(this.debugbox)}this.debugbox.position.copy(e)}else this.debugbox&&(this.plane.remove(this.debugbox),this.debugbox=null);var r={x:(e.x+this.plane.geometry.parameters.width/2)*this.options.width,y:-(e.y-this.plane.geometry.parameters.height/2)*this.options.height};console.log(e,r,this.plane.geometry.parameters,this.plane.scale);for(var o=0;o<this.bounds.length;o++){var a=this.bounds[o];if(r.y>=a.top&&r.y<=a.bottom&&r.x>=a.left&&r.x<=a.right){var s=new Event("click",{bubbles:!0});s.simulated=!0,a.elem.dispatchEvent(s),console.log("Click button",o);break}}}},{key:"update",value:function(e,t){}},{key:"size",get:function(){return{width:this.options.width*this.options.scale,height:this.options.height*this.options.scale}}}],[{key:"enableClick",value:function(e,t,n){this.ray=new i.Raycaster,this.ray.far=n||50,this.scene=e,this.camera=t,window.addEventListener("mousedown",this.onMouseDown.bind(this),!0)}},{key:"onMouseDown",value:function(e){e.preventDefault();var t=e.clientX||e.changedTouches&&e.changedTouches[0]&&e.changedTouches[0].pageX||0,n=e.clientY||e.changedTouches&&e.changedTouches[0]&&e.changedTouches[0].pageY||0,r=new i.Vector3(t/window.innerWidth*2-1,-n/window.innerHeight*2+1,.5);r=r.unproject(this.camera),this.ray.set(this.camera.position,r.sub(this.camera.position).normalize());var o=this.ray.intersectObjects(this.scene.children,!0);if(!(o.length<=0)){var a=o[0];this.handleClickHTML3DObject(a.object,a.point)}}},{key:"handleClickHTML3DObject",value:function(e,n){n&&e||console.warn("miss parameter point & html3dObject"),e instanceof t?e.handleClick(n):e.parent instanceof t?e.parent.handleClick(n):console.warn(" the object is not HTML3D instance")}}]),t}();t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(23)),o=s(n(11)),a=s(n(106));function s(e){return e&&e.__esModule?e:{default:e}}var u=(0,s(n(2422)).default)("/public/images/UbuntuMono.png"),l=u.texture,c=function(){function e(t,n,r){var i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.graph=t,this.camera=r,this.cloudScene=n,this.particleCount=1e5,this.init(),this._updateF=o.default.throttle(function(){i._update()},100)}return r(e,[{key:"_update",value:function(){this.updateText()}},{key:"init",value:function(){this.labelGeometry=new i.BufferGeometry,this.positions=new i.BufferAttribute(new Float32Array(6*this.particleCount*3),3),this.labelPositions=new i.BufferAttribute(new Float32Array(6*this.particleCount*3),3),this.labelColors=new i.BufferAttribute(new Float32Array(6*this.particleCount*3),3),this.uvs=new i.BufferAttribute(new Float32Array(6*this.particleCount*2),2),this.ids=new i.BufferAttribute(new Float32Array(6*this.particleCount*1),1),this.opacities=new i.BufferAttribute(new Float32Array(6*this.particleCount*1),1),this.textCoords=new i.BufferAttribute(new Float32Array(6*this.particleCount*4),4),this.labelGeometry.addAttribute("position",this.positions),this.labelGeometry.addAttribute("labelPositions",this.labelPositions),this.labelGeometry.addAttribute("uv",this.uvs),this.labelGeometry.addAttribute("id",this.ids),this.labelGeometry.addAttribute("opacity",this.opacities),this.labelGeometry.addAttribute("textCoord",this.textCoords),this.labelGeometry.addAttribute("customColor",this.labelColors),this.updateText();var e=new i.ShaderMaterial({uniforms:{t_text:{type:"t",value:l}},vertexShader:n(2423),fragmentShader:n(2424),blending:i.AdditiveBlending,depthTest:!1,alphaTest:.1,transparent:!0});this.labelMesh=new i.Mesh(this.labelGeometry,e),this.labelMesh.frustumCulled=!1,this.cloudScene.add(this.labelMesh)}},{key:"getTitle",value:function(e,t){var n=a.default.instance().getLabelConfig(e),r="";if(n&&n.caption_property&&(r=t[n.caption_property])&&r.length>30){var i=r.split(" ");r=i.length>1?i[0]+" "+i[1]:i[0]}return r?String(r):""}},{key:"updateText",value:function(){var e=this,t=0,n=this;this.graph.visibleNodes.forEach(function(r){var i=r.position,o=r.color,a=e.getTitle(r.data.detail.type,r.data.detail.data),s=0;if(window.globalVariable.isVR)s=1;else{r.position.distanceTo(n.cloudScene.worldToLocal(n.camera.position.clone()))<4*n.cloudScene.scale.x&&(s=.8)}s*=r.alpha;(a?String(a).split(""):[]).forEach(function(n,r){var a=3*t*2,u=e.getTextCoordinates(n),l=u[4],c=u[4]+u[2],d=u[5]-u[3],f=u[5];e.ids.array[a+0]=r,e.ids.array[a+1]=r,e.ids.array[a+2]=r,e.ids.array[a+3]=r,e.ids.array[a+4]=r,e.ids.array[a+5]=r,e.opacities.array[a+0]=s,e.opacities.array[a+1]=s,e.opacities.array[a+2]=s,e.opacities.array[a+3]=s,e.opacities.array[a+4]=s,e.opacities.array[a+5]=s,e.positions.array[3*a+0]=i.x+.05,e.positions.array[3*a+1]=i.y-.01,e.positions.array[3*a+2]=i.z,e.positions.array[3*a+3]=i.x+.05,e.positions.array[3*a+4]=i.y-.01,e.positions.array[3*a+5]=i.z,e.positions.array[3*a+6]=i.x+.05,e.positions.array[3*a+7]=i.y-.01,e.positions.array[3*a+8]=i.z,e.positions.array[3*a+9]=i.x+.05,e.positions.array[3*a+10]=i.y-.01,e.positions.array[3*a+11]=i.z,e.positions.array[3*a+12]=i.x+.05,e.positions.array[3*a+13]=i.y-.01,e.positions.array[3*a+14]=i.z,e.positions.array[3*a+15]=i.x+.05,e.positions.array[3*a+16]=i.y-.01,e.positions.array[3*a+17]=i.z,e.labelPositions.array[3*a+0]=.015*r+.02*l*10,e.labelPositions.array[3*a+1]=.02*f*10,e.labelPositions.array[3*a+2]=0,e.labelPositions.array[3*a+3]=.015*r+.02*l*10,e.labelPositions.array[3*a+4]=.02*d*10,e.labelPositions.array[3*a+5]=0,e.labelPositions.array[3*a+6]=.015*r+.02*c*10,e.labelPositions.array[3*a+7]=.02*f*10,e.labelPositions.array[3*a+8]=0,e.labelPositions.array[3*a+9]=.015*r+.02*c*10,e.labelPositions.array[3*a+10]=.02*d*10,e.labelPositions.array[3*a+11]=0,e.labelPositions.array[3*a+12]=.015*r+.02*c*10,e.labelPositions.array[3*a+13]=.02*f*10,e.labelPositions.array[3*a+14]=0,e.labelPositions.array[3*a+15]=.015*r+.02*l*10,e.labelPositions.array[3*a+16]=.02*d*10,e.labelPositions.array[3*a+17]=0,e.uvs.array[2*a+0]=0,e.uvs.array[2*a+1]=1,e.uvs.array[2*a+2]=0,e.uvs.array[2*a+3]=0,e.uvs.array[2*a+4]=1,e.uvs.array[2*a+5]=1,e.uvs.array[2*a+6]=1,e.uvs.array[2*a+7]=0,e.uvs.array[2*a+8]=1,e.uvs.array[2*a+9]=1,e.uvs.array[2*a+10]=0,e.uvs.array[2*a+11]=0,e.textCoords.array[4*a+0]=u[0],e.textCoords.array[4*a+1]=u[1],e.textCoords.array[4*a+2]=u[2],e.textCoords.array[4*a+3]=u[3],e.textCoords.array[4*a+4]=u[0],e.textCoords.array[4*a+5]=u[1],e.textCoords.array[4*a+6]=u[2],e.textCoords.array[4*a+7]=u[3],e.textCoords.array[4*a+8]=u[0],e.textCoords.array[4*a+9]=u[1],e.textCoords.array[4*a+10]=u[2],e.textCoords.array[4*a+11]=u[3],e.textCoords.array[4*a+12]=u[0],e.textCoords.array[4*a+13]=u[1],e.textCoords.array[4*a+14]=u[2],e.textCoords.array[4*a+15]=u[3],e.textCoords.array[4*a+16]=u[0],e.textCoords.array[4*a+17]=u[1],e.textCoords.array[4*a+18]=u[2],e.textCoords.array[4*a+19]=u[3],e.textCoords.array[4*a+20]=u[0],e.textCoords.array[4*a+21]=u[1],e.textCoords.array[4*a+22]=u[2],e.textCoords.array[4*a+23]=u[3],e.labelColors.array[3*a+0]=o.r,e.labelColors.array[3*a+1]=o.g,e.labelColors.array[3*a+2]=o.b,e.labelColors.array[3*a+3]=o.r,e.labelColors.array[3*a+4]=o.g,e.labelColors.array[3*a+5]=o.b,e.labelColors.array[3*a+6]=o.r,e.labelColors.array[3*a+7]=o.g,e.labelColors.array[3*a+8]=o.b,e.labelColors.array[3*a+9]=o.r,e.labelColors.array[3*a+10]=o.g,e.labelColors.array[3*a+11]=o.b,e.labelColors.array[3*a+12]=o.r,e.labelColors.array[3*a+13]=o.g,e.labelColors.array[3*a+14]=o.b,e.labelColors.array[3*a+15]=o.r,e.labelColors.array[3*a+16]=o.g,e.labelColors.array[3*a+17]=o.b,t++})}),this.clean(t);var r=this.labelGeometry.attributes;r.position.needsUpdate=!0,r.labelPositions.needsUpdate=!0,r.uv.needsUpdate=!0,r.customColor.needsUpdate=!0,r.textCoord.needsUpdate=!0,r.opacity.needsUpdate=!0,this.labelGeometry.verticesNeedUpdate=!0}},{key:"clean",value:function(e){for(var t=e,n=t;n<6*this.particleCount;n+=1)this.ids.array[6*n+0]=0,this.ids.array[6*n+1]=0,this.ids.array[6*n+2]=0,this.ids.array[6*n+3]=0,this.ids.array[6*n+4]=0,this.ids.array[6*n+5]=0;for(var r=t;r<6*this.particleCount;r+=1)this.opacities.array[6*r+0]=0,this.opacities.array[6*r+1]=0,this.opacities.array[6*r+2]=0,this.opacities.array[6*r+3]=0,this.opacities.array[6*r+4]=0,this.opacities.array[6*r+5]=0;for(var i=t;18*i+17<18*this.particleCount;i+=1)this.positions.array[18*i+0]=0,this.positions.array[18*i+1]=0,this.positions.array[18*i+2]=0,this.positions.array[18*i+3]=0,this.positions.array[18*i+4]=0,this.positions.array[18*i+5]=0,this.positions.array[18*i+6]=0,this.positions.array[18*i+7]=0,this.positions.array[18*i+8]=0,this.positions.array[18*i+9]=0,this.positions.array[18*i+10]=0,this.positions.array[18*i+11]=0,this.positions.array[18*i+12]=0,this.positions.array[18*i+13]=0,this.positions.array[18*i+14]=0,this.positions.array[18*i+15]=0,this.positions.array[18*i+16]=0,this.positions.array[18*i+17]=0,this.labelPositions.array[18*i+0]=0,this.labelPositions.array[18*i+1]=0,this.labelPositions.array[18*i+2]=0,this.labelPositions.array[18*i+3]=0,this.labelPositions.array[18*i+4]=0,this.labelPositions.array[18*i+5]=0,this.labelPositions.array[18*i+6]=0,this.labelPositions.array[18*i+7]=0,this.labelPositions.array[18*i+8]=0,this.labelPositions.array[18*i+9]=0,this.labelPositions.array[18*i+10]=0,this.labelPositions.array[18*i+11]=0,this.labelPositions.array[18*i+12]=0,this.labelPositions.array[18*i+13]=0,this.labelPositions.array[18*i+14]=0,this.labelPositions.array[18*i+15]=0,this.labelPositions.array[18*i+16]=0,this.labelPositions.array[18*i+17]=0;for(var o=t;12*o+1<12*this.particleCount;o+=1)this.uvs.array[12*o+0]=0,this.uvs.array[12*o+1]=0,this.uvs.array[12*o+2]=0,this.uvs.array[12*o+3]=0,this.uvs.array[12*o+4]=0,this.uvs.array[12*o+5]=0,this.uvs.array[12*o+6]=0,this.uvs.array[12*o+7]=0,this.uvs.array[12*o+8]=0,this.uvs.array[12*o+9]=0,this.uvs.array[12*o+10]=0,this.uvs.array[12*o+11]=0;for(var a=t;24*a+23<24*this.particleCount;a+=1)this.textCoords.array[24*a+0]=0,this.textCoords.array[24*a+1]=0,this.textCoords.array[24*a+2]=0,this.textCoords.array[24*a+3]=0,this.textCoords.array[24*a+4]=0,this.textCoords.array[24*a+5]=0,this.textCoords.array[24*a+6]=0,this.textCoords.array[24*a+7]=0,this.textCoords.array[24*a+8]=0,this.textCoords.array[24*a+9]=0,this.textCoords.array[24*a+10]=0,this.textCoords.array[24*a+11]=0,this.textCoords.array[24*a+12]=0,this.textCoords.array[24*a+13]=0,this.textCoords.array[24*a+14]=0,this.textCoords.array[24*a+15]=0,this.textCoords.array[24*a+16]=0,this.textCoords.array[24*a+17]=0,this.textCoords.array[24*a+18]=0,this.textCoords.array[24*a+19]=0,this.textCoords.array[24*a+20]=0,this.textCoords.array[24*a+21]=0,this.textCoords.array[24*a+22]=0,this.textCoords.array[24*a+23]=0;for(var s=t;18*s+17<18*this.particleCount;s+=1)this.labelColors.array[18*s+0]=0,this.labelColors.array[18*s+1]=0,this.labelColors.array[18*s+2]=0,this.labelColors.array[18*s+3]=0,this.labelColors.array[18*s+4]=0,this.labelColors.array[18*s+5]=0,this.labelColors.array[18*s+6]=0,this.labelColors.array[18*s+7]=0,this.labelColors.array[18*s+8]=0,this.labelColors.array[18*s+9]=0,this.labelColors.array[18*s+10]=0,this.labelColors.array[18*s+11]=0,this.labelColors.array[18*s+12]=0,this.labelColors.array[18*s+13]=0,this.labelColors.array[18*s+14]=0,this.labelColors.array[18*s+15]=0,this.labelColors.array[18*s+16]=0,this.labelColors.array[18*s+17]=0}},{key:"getTextCoordinates",value:function(e){var t=void 0,n=e.charCodeAt(0);for(var r in 8216==n&&(n=39),8217==n&&(n=39),8212==n&&(n=45),u)r==n&&(t=u[r]);return t||(t=[0,0]),[t[0]/1024,t[1]/1024,t[2]/1024,t[3]/1024,t[4]/1024,t[5]/1024]}},{key:"update",value:function(){this._updateF()}}]),e}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=(new THREE.TextureLoader).load(e);return t.flipY=!1,{texture:t,0:[1016,972,4,4,-1.5,1.5,80.5],8:[1016,968,4,4,-1.5,1.5,80.5],9:[1016,964,4,4,-1.5,1.5,80.5],13:[1016,960,4,4,-1.5,1.5,80.5],29:[1016,956,4,4,-1.5,1.5,80.5],32:[1016,952,4,4,-1.5,1.5,80.5],33:[719,0,25,105,27.625,101.188,80.5],34:[745,966,42,44,19.25,110.875,80.5],35:[745,631,75,103,2.875,101.188,80.5],36:[271,0,67,131,7.188,113.125,80.5],37:[458,0,78,107,1.375,103.313,80.5],38:[609,421,75,107,3.5,103.5,80.5],39:[787,966,17,47,31.813,110.875,80.5],40:[538,780,48,143,16.688,114.438,80.5],41:[538,637,48,143,16.688,114.438,80.5],42:[678,961,66,63,7.688,101.188,80.5],43:[734,107,69,74,5.875,79.125,80.5],44:[771,27,36,49,22.438,23.875,80.5],45:[538,1005,39,16,21.063,48.688,80.5],46:[842,990,27,28,27,24.188,80.5],47:[209,0,62,143,9.563,114.125,80.5],48:[609,751,69,108,5.875,103.5,80.5],49:[664,210,62,103,10.5,101.188,80.5],50:[884,313,66,106,7.688,103.5,80.5],51:[751,313,65,108,7.938,103.5,80.5],52:[944,734,73,103,4.313,101.188,80.5],53:[458,726,64,105,9.063,101.188,80.5],54:[891,421,67,106,7.188,101.563,80.5],55:[538,534,67,103,8.625,101.25,80.5],56:[609,859,68,108,6.688,103.5,80.5],57:[678,855,67,106,6.688,103.438,80.5],58:[744,0,27,80,27,76.188,80.5],59:[988,107,36,101,18.625,76.188,80.5],60:[877,955,69,68,6.375,74.625,80.5],61:[609,967,69,46,5.875,64.813,80.5],62:[947,952,69,68,6.375,74.625,80.5],63:[536,0,55,107,13.313,103.438,80.5],64:[75,0,72,127,4.938,103.438,80.5],65:[458,107,81,103,-.063,101.188,80.5],66:[684,313,67,105,7.188,102,80.5],67:[877,847,70,108,5.875,103.5,80.5],68:[684,421,69,105,7.188,102.188,80.5],69:[538,210,63,103,13.125,101.188,80.5],70:[963,631,60,103,13.125,101.188,80.5],71:[609,643,69,108,5.875,103.5,80.5],72:[895,528,70,103,5.75,101.188,80.5],73:[965,528,55,103,12.813,101.188,80.5],74:[458,831,62,105,7.188,101.188,80.5],75:[820,631,72,103,8.813,101.188,80.5],76:[601,210,63,103,13.125,101.188,80.5],77:[825,528,70,103,5.438,101.188,80.5],78:[458,416,66,103,7.375,101.188,80.5],79:[609,313,75,108,3.188,103.5,80.5],80:[458,622,65,104,10.25,102,80.5],81:[0,0,75,132,3.188,103.313,80.5],82:[822,421,69,104,7.375,102,80.5],83:[678,747,66,108,7.313,103.5,80.5],84:[892,631,71,103,4.75,101.188,80.5],85:[753,421,69,105,6.25,101.25,80.5],86:[458,313,80,103,.563,101.188,80.5],87:[754,528,71,103,5.438,101.188,80.5],88:[678,528,76,103,2.5,101.188,80.5],89:[458,210,80,103,.563,101.188,80.5],90:[816,313,68,103,7.188,101.188,80.5],91:[398,143,42,143,21.5,114.125,80.5],92:[147,0,62,143,9.75,114.125,80.5],93:[398,286,42,143,17.438,114.125,80.5],94:[648,0,71,58,4.938,101.188,80.5],95:[807,27,81,15,-.188,-13.813,80.5],96:[811,990,31,32,24.688,113.125,80.5],97:[607,107,64,82,7.813,78,80.5],98:[745,734,66,117,9.938,113.125,80.5],99:[539,107,68,82,6.375,78.063,80.5],100:[811,734,66,117,4.938,113.125,80.5],101:[947,210,70,82,4.938,78,80.5],102:[538,313,71,115,8.625,113.125,80.5],103:[958,421,66,107,4.938,78,80.5],104:[745,851,62,115,9.938,113.125,80.5],105:[877,734,67,113,7.188,109.438,80.5],106:[811,851,54,139,9.938,109.375,80.5],107:[609,528,69,115,9.938,113.188,80.5],108:[678,631,67,116,7.188,112.313,80.5],109:[875,210,72,80,5.125,77.813,80.5],110:[865,107,62,80,9.938,77.875,80.5],111:[538,923,71,82,4.938,78.063,80.5],112:[950,313,66,106,9.938,77.875,80.5],113:[538,428,66,106,4.938,77.875,80.5],114:[591,0,57,80,15.75,77.875,80.5],115:[671,107,63,82,9.063,78,80.5],116:[458,519,66,103,8.625,99.5,80.5],117:[803,107,62,80,9.438,76.25,80.5],118:[801,210,74,78,3.313,76.25,80.5],119:[458,936,78,78,1.5,76.25,80.5],120:[726,210,75,78,3.125,76.25,80.5],121:[947,847,72,105,4.25,76.25,80.5],122:[927,107,61,78,10.25,76.25,80.5],123:[398,0,60,143,11.188,114.125,80.5],124:[586,780,16,143,32.625,114.063,80.5],125:[338,0,60,143,10.25,114.125,80.5],126:[771,0,72,27,4.438,55.813,80.5]}}},function(e,t){e.exports="attribute vec2 texPos;\nattribute vec3 customColor;\nattribute vec3 labelPositions;\nattribute vec4 textCoord;\nattribute float opacity;\n\nvarying vec3 vColor;\nvarying float vOpacity;\nvarying vec4 vTextCoord;\nvarying vec2 vUv;\n\n\nvoid main(){\n\n    vColor = customColor;\n\n    vOpacity = opacity;\n    vUv = uv;\n    vTextCoord = textCoord;\n    gl_Position = projectionMatrix *\n                    (modelViewMatrix * vec4(position,1.0) +\n                        vec4(labelPositions.xy, 0.0, 1.0)\n                    );\n}\n"},function(e,t){e.exports="uniform sampler2D t_text;\n\nvarying vec3 vColor;\nvarying float vOpacity;\nvarying vec4 vTextCoord;\nvarying vec2 vUv;\n\nvoid main(){\n\n  float x = vTextCoord.x;\n  float y = vTextCoord.y;\n  float w = vTextCoord.z;\n  float h = vTextCoord.w;\n\n  float xF = x + vUv.x * w;\n  float yF = y + (1. - vUv.y) * h;\n  vec2 sCoord =  vec2( xF , yF );\n\n  vec4 diffuse = texture2D(t_text , sCoord);\n  gl_FragColor = mix(diffuse, vec4(vColor, diffuse.a * vOpacity), 1.0);\n  // gl_FragColor = vec4(1.0,0.0,1.0,1.0);\n\n}"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(23),i=n(2426),o=n(2427);t.default=class extends r.Mesh{constructor(e,t){super(),this.type="Mesh";let n=void 0!==t?t:new i.default({color:"0xffff00"});this.material=new r.MultiMaterial([n]);let a=new o.default;e&&(a.lines=e,a.needsUpdate=!0),this.geometry=a,this.drawMode=r.TriangleStripDrawMode}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(23);t.default=class extends r.ShaderMaterial{constructor(e){super(),this.init(e)}init(e){this.vertexColors=void 0!==e.lineColor&&null!==e.lineColor?r.NoColors:r.VertexColors,this.uniforms={fWidth:{value:.02},lineColor:{value:(new r.Vector3).fromArray([1,0,0])}},this.vertexShader=["uniform float fWidth;\n","uniform vec3 lineColor;\n","attribute vec3 other;\n","attribute float miter;\n","varying vec3 vColor;\n","","vec2 fix( vec4 i, float aspect ) {","","    vec2 res = i.xy / i.w;","    res.x *= aspect;","    return res;","","}","","vec2 unfix( vec2 i, float aspect ) {","","    i.x /= aspect;","    return i;","","}","","void main(){\n","#ifdef USE_COLOR \n","   vColor = color;\n","#else\n","   vColor = lineColor;\n","#endif\n","   float aspect = projectionMatrix[1][1] / projectionMatrix[0][0];","   mat4 pmat = projectionMatrix * modelViewMatrix;","   vec4 mvPos = pmat * vec4( position, 1.0 );\n","   vec4 otherPos = pmat * vec4( other, 1.0 );\n","   vec2 dir = normalize(fix(otherPos,aspect) - fix(mvPos,aspect));\n","   dir.xy = dir.yx;\n","   dir.x = -dir.x;\n","   dir.xy = dir.xy * -miter * fWidth / (2.0 * mvPos.z);\n","   mvPos.xy = mvPos.xy + unfix(dir.xy, aspect) * mvPos.w;\n","   gl_Position = mvPos;\n","}"].join("\n"),this.fragmentShader=["varying vec3 vColor;","void main() {","   gl_FragColor = vec4(1.0,1.0,1.0, 1.0);","}"].join("\n")}get linewidth(){return this.uniforms.fWidth.value}set linewidth(e){this.uniforms.fWidth||(this.uniforms.fWidth={value:.2}),this.uniforms.fWidth.value=e}get linecolor(){return this.uniforms.lineColor.value}set linecolor(e){this.uniforms.lineColor.value=e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(23);t.default=class extends r.BufferGeometry{constructor(){super(),this.init()}init(){this.lines=[],this.linesColor=[]}get needsUpdate(){return!1}set needsUpdate(e){e&&this._linesUpdate()}_linesUpdate(){let e=this._lineVerticesCounts();e<=0?(this.visible=!1,e=0):this.visible=!0;let t=0,n=new r.Float32Attribute(3*e,3),i=new r.Float32Attribute(3*e,3),o=new r.Float32Attribute(3*e,3),a=new r.Float32Attribute(e,1);this.clearGroups();let s=0;for(let e=0;e<this.lines.length;e++){let r=this.lines[e],u=this.linesColor[e];if(r.length>1){s=t,t-=2;for(let e=0;e<r.length;e++,t+=4)this._pushLine(e,r,u,t,n,i,a,o);(t-=2)-s>0&&this.addGroup(s,t-s)}}n.needsUpdate=!0,i.needsUpdate=!0,a.needsUpdate=!0,this.addAttribute("position",n),this.addAttribute("other",i),this.addAttribute("miter",a),o&&(o.needsUpdate=!0,this.addAttribute("color",o)),this.boundingSphere=null}_lineVerticesCounts(){let e=0;for(let t=0;t<this.lines.length;t++)this.lines[t].length>1&&(e+=4*this.lines[t].length-4);return e}_pushLine(e,t,n,r,i,o,a,s){let u=t[e],l=void 0!==n&&null!==n?this._getColor(n,e):null;var c=r;if(e>0){var d=t[e-1];i.setXYZ(c,u.x,u.y,u.z),o.setXYZ(c,d.x,d.y,d.z),a.setX(c,1),i.setXYZ(c+1,u.x,u.y,u.z),o.setXYZ(c+1,d.x,d.y,d.z),a.setX(c+1,-1),s&&l&&(s.setXYZ(c,l.r,l.g,l.b),s.setXYZ(c+1,l.r,l.g,l.b))}e<t.length-1&&(d=t[e+1],i.setXYZ(c+2,u.x,u.y,u.z),o.setXYZ(c+2,d.x,d.y,d.z),a.setX(c+2,-1),i.setXYZ(c+3,u.x,u.y,u.z),o.setXYZ(c+3,d.x,d.y,d.z),a.setX(c+3,1),s&&l&&(s.setXYZ(c+2,l.r,l.g,l.b),s.setXYZ(c+3,l.r,l.g,l.b)))}_getColor(e,t){return e[t]}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=b(n(11)),o=b(n(353)),a=n(112),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(23)),u=(b(n(10)),n(50)),l=b(u),c=n(90),d=b(n(47)),f=b(n(94)),h=b(n(102)),p=b(n(464)),m=b(n(439)),g=b(n(2429)),y=b(n(44)),v=n(461);function b(e){return e&&e.__esModule?e:{default:e}}var _=function(){function e(t,n,r){var i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.graph=t,this.historyLine=g.default.getInstance(),this.historyLine.setGraph(this.graph),this.scene=n,this.store=r,this.hideLeaf=!1,l.default.graphLayout.genNodesReportFunc=function(){return i.gen_node_report()},l.default.graphLayout.getNodeKeysMap=function(){return i.get_node_keys_map()},l.default.graphLayout.genEdgesReportFunc=function(){return i.gen_edge_report()},l.default.graphLayout.getEdgeKeysMap=function(){return i.get_edge_keys_map()}}return r(e,[{key:"showNodeInfo",value:function(e){this.store.getState().node.showNodeId!=e&&this.store.dispatch(c.Actions.showNodeInfo(e))}},{key:"showTableResultInfo",value:function(e){this.store.dispatch(c.Actions.showTableResultInfo(e))}},{key:"setDataToGraph",value:function(e,t){var n=this;return e.forEach(function(e){n.addDataToGraph(e,t)}),this.graph.update_degree(),this.graph.updateVisibleAndLayoutElements(this.hideLeaf),e}},{key:"extractIdsFromGraphData",value:function(e){var t=e.map(function(e){var t=[];return e.object&&t.push(e.object.uid),e.subject&&t.push(e.subject.uid),t});return i.default.flatMap(t)}},{key:"dbCongfig",value:function(e){d.default.configNeo4jDBHost(e).then(function(){d.default.initNeo4jBaseInfo(!0)})}},{key:"animateNewNode",value:function(e){var t={scale:3};new o.default.Tween(t).to({scale:1},3e3).onUpdate(function(){e.data.sizeScale=t.scale}).easing(o.default.Easing.Elastic.InOut).start(window.performance.now())}},{key:"createNode",value:function(e,t,n){var r=new a.Node(e,10);r.data.sizeScale=1,r.data.notes=e,n&&this.animateNewNode(r);var i=t.type?f.default.getColorByType(t.type):null,o=0,s=m.default.instance().iconMap[t.type];return t.type&&s&&(o=s.id),this.setNodeColorSize(r,i,o),this.graph.addNode(r),r}},{key:"updatePropertyByLabel",value:function(e,t,n){this.graph.updatePropertyByLabel(e,t,n)}},{key:"updateNodeSizeByProperty",value:function(e,t){this.graph.updateNodeSizeByProperty(e,t)}},{key:"getOrAddANodeToGraph",value:function(e,t,n,r){if(!e||!e)return null;var i=this.graph.getNodeById(e.uid);return void 0!==e.type&&(i||(i=this.createNode(e.uid,e,t),r&&i.position.copy(r)),i.data.detail=e,i.data.relationship=n,e.position&&(i.position=new s.Vector3(e.position.x,e.position.y,e.position.z))),i}},{key:"addDataToGraph",value:function(e,t){var n=this.getOrAddANodeToGraph(e.object,t,e.relationship,e.position),r=this.getOrAddANodeToGraph(e.subject,t,e.relationship,e.position);if(!i.default.isEmpty(e.relationship)&&r&&n){var o=this.graph.addEdge(r,n,{id:e.id});o.name=String(e.relationship),o.properties=Object.assign({id:e.id},e.properties),o.color=new s.Color(h.default.getColorByName(e.relationship)),e.isHide&&(o.alpha=0)}e.isHide&&(n.alpha=0,r.alpha=0)}},{key:"expandNode",value:function(e){var t=this,n=this.graph.nodeSet[e];return!n||n.data.hasAllNeighbors?Promise.resolve([]):d.default.getNodeNeighbors(n.data.detail,u.Config.pageItems,n.data.neighborsCount).then(function(e){var r=p.default.format(e).filterNodes(function(e){return(0,v.filterInvisibleLabel)(e)}).filterNodes(function(e){return(0,v.filterInvisibleNodeProperty)(e)}).filterRelationships(function(e){return(0,v.filterInvisibleRelationship)(e)}).filterRelationships(function(e){return(0,v.filterInvisibleRelationshipProperty)(e)}).build();return n.data.neighborsCount=(n.data.neighborsCount||0)+r.length,n.data.hasAllNeighbors=r.length<u.Config.pageItems,t.setNeighborsPosition(n,r),Promise.resolve(r)}).catch(function(e){return console.error(e),Promise.resolve([])})}},{key:"setNeighborsPosition",value:function(e,t){var n=e.position.clone();t.forEach(function(e){e.position=n})}},{key:"setNodeColorSize",value:function(e,t,n){e.color=new s.Color(t),e.ringColor=l.default.colors.external.clone(),e.size=Math.pow(10,.2),e.data.mouseoverScale=1,n&&(e.icon=n)}},{key:"removeEdgesFromGraph",value:function(e,t){var n=this;e.forEach(function(e){n.removeEdgeWithSenderIdAndReceiverId(e.x,e.z,t)})}},{key:"removeEdgeWithSenderIdAndReceiverId",value:function(e,t,n){var r=this.graph.getNodeById(n==e?t:e);if(r){var i=this.graph.getEdgeWithId(e,t),o=this.graph.getEdgesToNode(r);this.graph.removeEdgeWithId(e,t),i.data&&i.data.arrow_object&&this.scene.remove(i.data.arrow_object),(!o||o.length<=1)&&(this.graph.removeNodeById(r.id),r.data&&r.data.label_object&&this.scene.remove(r.data.label_object)),i=null}r=null}},{key:"removeNodeById",value:function(e){this.graph.removeNodeById(e),this.historyLine.add()}},{key:"undo",value:function(){this.historyLine.undo()}},{key:"redo",value:function(){this.historyLine.redo()}},{key:"selectAll",value:function(e){var t=this.graph.visibleNodes.map(function(e){return e.id});y.default.selectWithNodeIds(e?t:[],y.default.selectTypes.new)}},{key:"removeNodeFromGraphWithId",value:function(e){var t=this,n=this.graph.getNodeById(e);if(n){var r=this.graph.getEdgesToNode(n);this.graph.removeNodeById(e),r&&r.length>0&&i.default.forEach(r,function(e){e.data&&e.data.arrow_object&&t.scene.remove(e.data.arrow_object)}),r=null,this.graph.nodes.length>0&&(n.data&&n.data.label_object&&this.scene.remove(n.data.label_object),this.graph.removeNodeById(e))}n=null}},{key:"removeAllNodeExecptNodeWithId",value:function(e){var t=this;if(e){var n=this.graph.nodeSet[e];i.default.forEach(this.graph.edges,function(e){e.data&&e.data.arrow_object&&t.scene.remove(e.data.arrow_object),t.graph.edges}),this.graph.edges.splice(0,this.graph.edges.length),console.log(this.graph.nodes),i.default.forEach(this.graph.nodes,function(n){console.log(n.id," :",n.id!=e),n.id!=e&&(n.data&&n.data.label_object&&t.scene.remove(n.data.label_object),delete t.graph.nodeSet[n.id])}),this.graph.nodes.splice(0,this.graph.nodes.length),this.graph.nodes.push(n),this.graph[n.id]=n}else console.log("miss paramter nodeId")}},{key:"getNodeFromGraph",value:function(e){return this.graph.nodes.forEach(function(t){if(t.data.screenName==e)return t.id}),null}},{key:"gen_node_report",value:function(){return"to be implemented"}},{key:"get_node_keys_map",value:function(){return"to be implemented"}},{key:"gen_edge_report",value:function(){return"to be implemented"}},{key:"get_edge_keys_map",value:function(){return"to be implemented"}}]),e}();t.default=_},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var i=null,o={NONE:"NONE",NEW:"NEW",DELETE:"DELETE",PROPERTY:"PROPERTY_CHANGEd"},a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.undoStack=[],this.redoStack=[],this.graph=null,this.latestNodes={},this.latestEdges={}}return r(e,[{key:"setGraph",value:function(e){this.graph=e}},{key:"recordAcitonStep",value:function(){this.graph||console.warn("Please use setGraph bind the graph to histroy");var e=this,t={graph:{tempNodes:{},tempEdges:{}},propsChange:{diffNodeIds:[],diffEdgeIds:[],actionType:o.NONE},nodeChange:{diffIds:[],actionType:o.NONE},edgeChange:{diffIds:[],actionType:o.NONE}},n={};_.forEach(e.graph.nodeSet,function(r){e.latestNodes[r.id]&&!_.isEqual(e.latestNodes[r.id],r.toJSON())?(t.graph.tempNodes[r.id]=e.latestNodes[r.id],n[r.id]=r.toJSON()):e.latestNodes[r.id]?n[r.id]=e.latestNodes[r.id]:n[r.id]=r.toJSON()});var r={};_.forEach(e.graph.edges,function(n){e.latestEdges[n.id]&&!_.isEqual(e.latestEdges[n.id],n.toJSON())?(t.graph.tempEdges[n.id]=e.latestEdges[n.id],r[n.id]=n.toJSON()):e.latestEdges[n.id]?r[n.id]=e.latestEdges[n.id]:r[n.id]=n.toJSON()}),(_.size(t.graph.tempNodes)>0||_.size(t.graph.tempEdges)>0)&&(t.propsChange.actionType=o.PROPERTY,t.propsChange.diffNodeIds=Object.keys(t.graph.tempNodes)||[],t.propsChange.diffEdgeIds=Object.keys(t.graph.tempEdges)||[]),e.handleDiffIds(e.latestNodes,n,t,!0),e.handleDiffIds(e.latestEdges,r,t,!1),e.latestNodes=n,e.latestEdges=r,t.nodeChange.actionType==o.NONE&&t.edgeChange.actionType==o.NONE||(e.undoStack.push(t),e.undoStack.length>10&&e.undoStack.shift(),e.redoStack.splice(0,this.redoStack.length))}},{key:"handleDiffIds",value:function(e,t,n,r){var i={diffIds:[],actionType:o.NONE},a=Object.keys(e),s=Object.keys(t);_.isEqual(a,s)||(_.size(a)>_.size(s)?(i.actionType=o.DELETE,i.diffIds=_.difference(a,s)):(i.actionType=o.NEW,i.diffIds=_.difference(s,a))),i.actionType!=o.NONE&&i.diffIds.forEach(function(a){r?n.graph.tempNodes[a]=i.actionType==o.NEW?t[a]:e[a]:n.graph.tempEdges[a]=i.actionType==o.NEW?t[a]:e[a]}),r?n.nodeChange=i:n.edgeChange=i}},{key:"handleNodesChangeRestore",value:function(e,t,n){var r=this;if(!n&&t.actionType==o.NEW||n&&t.actionType==o.DELETE){var i=[];_.forEach(t.diffIds,function(t){i.push(e.tempNodes[t]),r.latestNodes[t]=e.tempNodes[t]}),r.graph.addNodes(i)}else if(!n&&t.actionType==o.DELETE||n&&t.actionType==o.NEW){var a=_.values(t.diffIds);_.remove(r.latestNodes,function(e){return a.includes(e.id)}),r.graph.removeNodesByIds(a)}}},{key:"handleEdgesChangeRestore",value:function(e,t,n){var r=this;if(!n&&t.actionType==o.NEW||n&&t.actionType==o.DELETE){var i=[];_.forEach(t.diffIds,function(t){i.push(e.tempEdges[t]),r.latestEdges[t]=e.tempEdges[t]});var a=_.values(t.diffIds);r.graph.removeEdgesByIds(a),r.graph.addEdges(i)}else if(!n&&t.actionType==o.DELETE||n&&t.actionType==o.NEW){var s=_.values(t.diffIds);_.remove(r.latestEdges,function(e){return s.includes(e.id)}),r.graph.removeEdgesByIds(s)}}},{key:"handlePropsChangeRestore",value:function(e,t,n){var r=this;if(t.actionType==o.PROPERTY&&(_.size(t.diffNodeIds)>0&&_.forEach(t.diffNodeIds,function(t){var n=e.tempNodes[t];if(r.graph.nodeSet[t]&&n){var i=r.graph.nodeSet[t].toJSON();r.graph.nodeSet[t].restore(n),e.tempNodes[t]=i,r.latestNodes[t]=n}else console.warn("Miss node, the id :",n)}),_.size(t.diffEdgeIds)>0)){var i=r.graph.edges.filter(function(e){return t.diffEdgeIds.includes(e.id)});_.forEach(i,function(t){if(e.tempEdges[t.id]&&t){var n=t.toJSON();t.restore(e.tempEdges[t.id]),r.graph.updateEdgeSourceTarget(t),e.tempEdges[t.id]=n,r.latestEdges[t.id]=e.tempEdges[t.id]}})}}},{key:"add",value:function(){this.recordAcitonStep()}},{key:"undo",value:function(){var e=this.undoStack.pop();if(e){this.redoStack.push(e);var t=e.propsChange,n=e.nodeChange,r=e.edgeChange,i=e.graph;this.handleNodesChangeRestore(i,n,!0),this.handleEdgesChangeRestore(i,r,!0),this.handlePropsChangeRestore(i,t,!0),this.graph.update_degree()}}},{key:"redo",value:function(){var e=this.redoStack.pop();if(e){this.undoStack.push(e);var t=e.propsChange,n=e.nodeChange,r=e.edgeChange,i=e.graph;this.handleNodesChangeRestore(i,n),this.handleEdgesChangeRestore(i,r),this.handlePropsChangeRestore(i,t),this.graph.update_degree()}}}],[{key:"getInstance",value:function(){return null==i&&(i=new this),i}}]),e}();t.default=a,t.OPERATOR=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={setCondition:function(e,t,n){var r=[];"_degree"==t?(e.visibleNodes=e.nodes.filter(function(e){var t=e.degree;return n.currentMin<=t&&t<=n.currentMax}),e.visibleNodes.forEach(function(e){r[e.id]=e.id})):e.visibleNodes=e.nodes.filter(function(e){var r=e.data.detail.data[t];return"number"!=typeof r||(void 0==r||n.currentMin<=r&&r<=n.currentMax)}),e.visibleNodes.forEach(function(e){r[e.id]=e.id}),e.visibleEdges=e.edges.filter(function(e){return r[e.sourceId]&&r[e.targetId]}),e.layoutNodes=e.visibleNodes,e.layoutEdges=e.visibleEdges,e.renderNeedsUpdate=!0},apply:function(e){}};t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(105),o=(r=i)&&r.__esModule?r:{default:r};var a={setCondition:function(e,t,n){var r=o.default.instance().getInvisibleRelationships();e.visibleEdges=e.edges.filter(function(e){return!r.includes(e.name)}).filter(function(e){var r=e.properties[t];return!(n.currentMin>r||r>n.currentMax)}),e.layoutEdges=e.visibleEdges;var i={};e.visibleNodes.forEach(function(e){i[e.id]=e.id}),e.visibleEdges.forEach(function(t){i[t.source.id]||e.visibleNodes.push(t.source),i[t.target.id]||e.visibleNodes.push(t.target)}),e.layoutNodes=e.visibleNodes,e.renderNeedsUpdate=!0},apply:function(e){}};t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(11);(r=i)&&r.__esModule;t.default={filter:function(e,t,n){n?(e.visibleNodes=e.visibleNodes.concat(e.nodes.filter(function(e){return t.includes(e.data.detail.type)})),e.layoutNodes=e.layoutNodes.concat(e.nodes.filter(function(e){return t.includes(e.data.detail.type)})),e.visibleEdges=e.visibleEdges.concat(e.edges.filter(function(e){return t.includes(e.source.data.detail.type)||t.includes(e.target.data.detail.type)})),e.layoutEdges=e.layoutEdges.concat(e.edges.filter(function(e){return t.includes(e.source.data.detail.type)||t.includes(e.target.data.detail.type)}))):(e.visibleNodes=e.visibleNodes.filter(function(e){return!t.includes(e.data.detail.type)}),e.layoutNodes=e.visibleNodes.filter(function(e){return!t.includes(e.data.detail.type)}),e.visibleEdges=e.visibleEdges.filter(function(e){return!t.includes(e.source.data.detail.type)&&!t.includes(e.target.data.detail.type)}),e.layoutEdges=e.layoutEdges.filter(function(e){return!t.includes(e.source.data.detail.type)&&!t.includes(e.target.data.detail.type)}))},apply:function(e){}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(11);(r=i)&&r.__esModule;t.default={filter:function(e,t,n){n?(e.visibleEdges=e.visibleEdges.concat(e.edges.filter(function(e){return t.includes(e.name)})),e.layoutEdges=e.layoutEdges.concat(e.edges.filter(function(e){return t.includes(e.name)}))):(e.visibleEdges=e.visibleEdges.filter(function(e){return!t.includes(e.name)}),e.layoutEdges=e.layoutEdges.filter(function(e){return!t.includes(e.name)}))},apply:function(e){}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(t){i(this,e),this.nodeCloud=t.nodeCloud,this.edgeCloud=t.edgeCloud,this.graph=t.graph}return r(e,[{key:"leafTrimming",value:function(){}},{key:"highligthNeighbor",value:function(e){}},{key:"clearGraph",value:function(){this.graph.removeAllNodesAndEdges(),this.nodeCloud.removeAllNodes()}},{key:"cleanGraph",value:function(){this.graph.removeNodeWithoutEdges(),this.graph.removeEdgesNodeNotExist()}}],[{key:"Builder",get:function(){return function(){function t(e){i(this,t),this.graph=e}return r(t,[{key:"withNodeCloud",value:function(e){return this.nodeCloud=e,this}},{key:"withEdgeCloud",value:function(e){return this.edgeCloud=e,this}},{key:"build",value:function(){return new e(this)}}]),t}()}}]),e}();t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(112),o=s(n(94)),a=s(n(102));function s(e){return e&&e.__esModule?e:{default:e}}var u=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.graph=t,this.drawing=n}return r(e,[{key:"hasDir",value:function(e,t){return _.find(e.files,function(e){return e.dir&&e.name.indexOf(t)>-1})}},{key:"isHunchlyZip",value:function(e){return this.hasDir(e,"case_data")&&this.hasDir(e,"pages")&&this.hasDir(e,"photos")}},{key:"getBase",value:function(e){var t=_.find(e.files,function(e){return e.dir&&e.name.indexOf("case_data")>-1});return t.name.slice(0,t.name.indexOf("case_data"))}},{key:"getNode",value:function(e,t){return _.filter(e,function(e){return e.id==t})[0]}},{key:"randomizeNodePosition",value:function(e){e.position.x=Math.random()-.5,e.position.y=Math.random()-.5,e.position.z=Math.random()-.5}},{key:"importCase",value:function(e,t,n){var r=this;return e.file(t+"case_data/cases.json").async("string").then(function(e){var t=[],a=JSON.parse(e);a.id="Case_"+a.id;var s=new i.Node(a.id);return s.data.detail={type:"Case",data:a},s.name="Case",s.color.setStyle(o.default.getColorByType("Case")),r.randomizeNodePosition(s),t.push(s),n.nodes=_.concat(n.nodes,t),n})}},{key:"importNodes",value:function(e,t,n,r){var a=this;return e.file(t+"case_data/"+r.filename).async("string").then(function(e){var t=r.label,s=_(JSON.parse(e)).map(function(e){var n={id:t+"_"+e[r.id]};return n[r.param_key]=e[r.param_val],n}).map(function(e){var n=new i.Node(e.id);return n.data.detail={type:t,data:e},n.name=t,n.color.setStyle(o.default.getColorByType(t)),a.randomizeNodePosition(n),n}).value();return n.nodes=_.concat(n.nodes,s),n})}},{key:"importPages",value:function(e,t,n){var r=this;return e.file(t+"case_data/pages.json").async("string").then(function(e){console.log("base: "+t),console.log(u);var s=JSON.parse(e),u=_.map(s,function(e){e.id="Page_"+e.id;var t=new i.Node(e.id);return t.data.detail={type:"Page",data:e},t.name="Page",t.color.setStyle(o.default.getColorByType("Page")),r.randomizeNodePosition(t),t});n.nodes=_.concat(n.nodes,u);var l=_(s).map(function(e){return{source:r.getNode(n.nodes,"Case_"+e.case_id),target:r.getNode(n.nodes,e.id)}}).filter(function(e){return void 0!==e.source&&void 0!==e.target}).map(function(e){var t=new i.Edge(e.source,e.target);return t.name="has_page",t.color.setStyle(a.default.getColorByName(t.name)),t}).value();return n.edges=_.concat(n.edges,l),n})}},{key:"importPhotos",value:function(e,t,n){var r=this;return Promise.all([e.file(t+"case_data/photos.json").async("string"),e.file(t+"case_data/photo_urls.json").async("string")]).then(function(e){var t=JSON.parse(e[0]),a=JSON.parse(e[1]),s=_(t).map(function(e){return{id:"Photo_"+e.ID,ext:e.Extension,hash:e.PhotoHash}}).keyBy("id").merge(_(a).map(function(e){return{id:"Photo_"+e.PhotoId,photo:e.PhotoUrl}}).keyBy("id").value()).values().map(function(e){var t=new i.Node(e.id);return t.data.detail={type:"Photo",data:e},t.name="Photo",t.color.setStyle(o.default.getColorByType("Photo")),r.randomizeNodePosition(t),t}).value();return n.nodes=_.concat(n.nodes,s),n})}},{key:"linkPhotoToPage",value:function(e,t,n){var r=this;return e.file(t+"case_data/pages_to_photos.json").async("string").then(function(e){var t=JSON.parse(e),o=_(t).map(function(e){return{source:r.getNode(n.nodes,"Page_"+e.PageID),target:r.getNode(n.nodes,"Photo_"+e.PhotoID)}}).filter(function(e){return void 0!==e.source&&void 0!==e.target}).map(function(e){var t=new i.Edge(e.source,e.target);return t.name="has_photo",t.color.setStyle(a.default.getColorByName(t.name)),t}).value();return n.edges=_.concat(n.edges,o),n})}},{key:"importTags",value:function(e,t,n){var r=this;return e.file(t+"case_data/tags.json").async("string").then(function(e){var t=_(JSON.parse(e)).map(function(e){return{id:"Tag_"+e.ID,tagName:e.tagName}}).map(function(e){var t=new i.Node(e.id);return t.data.detail={type:"Tag",data:e},t.name="Tag",t.color.setStyle(o.default.getColorByType("Tag")),r.randomizeNodePosition(t),t}).value();return n.nodes=_.concat(n.nodes,t),n})}},{key:"addTagToPages",value:function(e,t,n){var r=this;return e.file(t+"case_data/tagged_pages.json").async("string").then(function(e){var t=_(JSON.parse(e)).map(function(e){return{source:r.getNode(n.nodes,"Page_"+e.PageID),target:r.getNode(n.nodes,"Tag_"+e.TagID)}}).filter(function(e){return void 0!==e.source&&void 0!==e.target}).map(function(e){var t=new i.Edge(e.source,e.target);return t.name="has_tag",t.color.setStyle(a.default.getColorByName(t.name)),t}).value();return n.edges=_.concat(n.edges,t),n})}},{key:"importSelectors",value:function(e,t,n){var r=this;return e.file(t+"case_data/selectors.json").async("string").then(function(e){var t="Selector",a=_(JSON.parse(e)).map(function(e){return{id:t+"_"+e.ID,selector:e.Selector}}).map(function(e){var n=new i.Node(e.id);return n.data.detail={type:t,data:e},n.name=t,n.color.setStyle(o.default.getColorByType(t)),r.randomizeNodePosition(n),n}).value();return n.nodes=_.concat(n.nodes,a),n})}},{key:"addSelectorToPages",value:function(e,t,n){var r=this;return e.file(t+"case_data/selector_hits.json").async("string").then(function(e){var t=_(JSON.parse(e)).map(function(e){return{source:r.getNode(n.nodes,"Page_"+e.PageID),target:r.getNode(n.nodes,"Selector_"+e.SelectorID)}}).filter(function(e){return void 0!==e.source&&void 0!==e.target}).map(function(e){var t=new i.Edge(e.source,e.target);return t.name="has_selector",t.color.setStyle(a.default.getColorByName(t.name)),t}).value();return n.edges=_.concat(n.edges,t),n})}},{key:"addDataMatches",value:function(e,t,n){var r=this;return e.file(t+"case_data/data_matches.json").async("string").then(function(e){var t=_(JSON.parse(e)).map(function(e){return{page:r.getNode(n.nodes,"Page_"+e.PageId),extractor:r.getNode(n.nodes,"DataExtractor_"+e.ExtractorId),record:r.getNode(n.nodes,"DataRecord_"+e.DataRecordId)}}).filter(function(e){return void 0!==e.page&&void 0!==e.extractor&&void 0!==e.record}).map(function(e){var t=new i.Edge(e.page,e.record);t.name="has_data_record",t.color.setStyle(a.default.getColorByName(t.name));var n=new i.Edge(e.record,e.extractor);return n.name="extracted_by",n.color.setStyle(a.default.getColorByName(n.name)),[t,n]}).flatten().value();return n.edges=_.concat(n.edges,t),n})}},{key:"import",value:function(e,t){var n=this;console.log("importing hunchly");try{var r=this.getBase(e);this.importCase(e,r,{nodes:[],edges:[]}).then(function(t){return n.importPages(e,r,t)}).then(function(t){return n.importPhotos(e,r,t)}).then(function(t){return n.linkPhotoToPage(e,r,t)}).then(function(t){return n.importTags(e,r,t)}).then(function(t){return n.addTagToPages(e,r,t)}).then(function(t){return n.importSelectors(e,r,t)}).then(function(t){return n.addSelectorToPages(e,r,t)}).then(function(t){return n.importNodes(e,r,t,{filename:"data_records.json",label:"DataRecord",id:"ID",param_key:"record",param_val:"Data"})}).then(function(t){return n.importNodes(e,r,t,{filename:"data_extractors.json",label:"DataExtractor",id:"ID",param_key:"name",param_val:"Name"})}).then(function(t){return n.addDataMatches(e,r,t)}).then(function(e){n.graph.addNodes(e.nodes),n.graph.addEdges(e.edges),n.drawing.forceStartLayout()})}catch(e){console.error(e),Common.showHints("Failed to import Hunchly file: ("+t+")")}}},{key:"export",value:function(e){}}]),e}();t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(112),o=u(n(94)),a=u(n(102)),s=u(n(2437));function u(e){return e&&e.__esModule?e:{default:e}}var l=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.graph=t,this.drawing=n}return r(e,[{key:"isMaltego",value:function(e){return _.find(e.files,function(e){return e.name.indexOf("graphml")>-1})}},{key:"randomizeNodePosition",value:function(e){e.position.x=Math.random()-.5,e.position.y=Math.random()-.5,e.position.z=Math.random()-.5}},{key:"import",value:function(e,t){var n=this;console.log("importing Maltego file");try{_.filter(e.files,function(e){return e.name.indexOf("graphml")>-1});e.file("Graphs/Graph1.graphml").async("string").then(function(e){var t=JSON.parse(s.default.xml2json(e,{compact:!0,spaces:4})),r=t.graphml.graph.node.map(function(e){var t={};t.id=e._attributes.id;var r=e.data[0]["mtg:MaltegoEntity"]._attributes.type;r=String(r).replace(/Maltego[\:\.]/gi,"");var a=e.data[0]["mtg:MaltegoEntity"]["mtg:Properties"]["mtg:Property"];a.constructor!==Array&&(a=[a]);var s={id:t.id};a.forEach(function(e){var t=e._attributes.displayName,n=e["mtg:Value"]._text;s[t]=n});var u=new i.Node(s.id);return u.data.detail={type:r,data:s},u.name=r,u.color.setStyle(o.default.getColorByType(r)),n.randomizeNodePosition(u),u}),u={};r.forEach(function(e){u[e.id]=e});var l=_(t.graphml.graph.edge).map(function(e){return e._attributes}).map(function(e){return{source:u[e.source],target:u[e.target]}}).filter(function(e){return void 0!==e.source&&void 0!==e.target}).map(function(e){var t=new i.Edge(e.source,e.target);return t.name="has_page",t.color.setStyle(a.default.getColorByName(t.name)),t}).value();return n.graph.addNodes(r),n.graph.addEdges(l),n.drawing.forceStartLayout(),t})}catch(e){console.error(e),Common.showHints("Failed to import Maltego file: ("+t+")")}}}]),e}();t.default=l},function(e,t,n){var r=n(1284),i=n(2439),o=n(1285),a=n(2440);e.exports={xml2js:r,xml2json:i,js2xml:o,json2xml:a}},function(e,t,n){(function(e){!function(t){t.parser=function(e,t){return new o(e,t)},t.SAXParser=o,t.SAXStream=s,t.createStream=function(e,t){return new s(e,t)},t.MAX_BUFFER_LENGTH=65536;var r,i=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];function o(e,n){if(!(this instanceof o))return new o(e,n);!function(e){for(var t=0,n=i.length;t<n;t++)e[i[t]]=""}(this),this.q=this.c="",this.bufferCheckPosition=t.MAX_BUFFER_LENGTH,this.opt=n||{},this.opt.lowercase=this.opt.lowercase||this.opt.lowercasetags,this.looseCase=this.opt.lowercase?"toLowerCase":"toUpperCase",this.tags=[],this.closed=this.closedRoot=this.sawRoot=!1,this.tag=this.error=null,this.strict=!!e,this.noscript=!(!e&&!this.opt.noscript),this.state=S.BEGIN,this.strictEntities=this.opt.strictEntities,this.ENTITIES=this.strictEntities?Object.create(t.XML_ENTITIES):Object.create(t.ENTITIES),this.attribList=[],this.opt.xmlns&&(this.ns=Object.create(f)),this.trackPosition=!1!==this.opt.position,this.trackPosition&&(this.position=this.line=this.column=0),T(this,"onready")}t.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"],Object.create||(Object.create=function(e){function t(){}return t.prototype=e,new t}),Object.keys||(Object.keys=function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t}),o.prototype={end:function(){L(this)},write:function(e){if(this.error)throw this.error;if(this.closed)return N(this,"Cannot write after close. Assign an onready handler.");if(null===e)return L(this);"object"==typeof e&&(e=e.toString());var n=0,r="";for(;r=H(e,n++),this.c=r,r;)switch(this.trackPosition&&(this.position++,"\n"===r?(this.line++,this.column=0):this.column++),this.state){case S.BEGIN:if(this.state=S.BEGIN_WHITESPACE,"\ufeff"===r)continue;B(this,r);continue;case S.BEGIN_WHITESPACE:B(this,r);continue;case S.TEXT:if(this.sawRoot&&!this.closedRoot){for(var o=n-1;r&&"<"!==r&&"&"!==r;)(r=H(e,n++))&&this.trackPosition&&(this.position++,"\n"===r?(this.line++,this.column=0):this.column++);this.textNode+=e.substring(o,n-1)}"<"!==r||this.sawRoot&&this.closedRoot&&!this.strict?(y(r)||this.sawRoot&&!this.closedRoot||j(this,"Text data outside of root node."),"&"===r?this.state=S.TEXT_ENTITY:this.textNode+=r):(this.state=S.OPEN_WAKA,this.startTagPosition=this.position);continue;case S.SCRIPT:"<"===r?this.state=S.SCRIPT_ENDING:this.script+=r;continue;case S.SCRIPT_ENDING:"/"===r?this.state=S.CLOSE_TAG:(this.script+="<"+r,this.state=S.SCRIPT);continue;case S.OPEN_WAKA:if("!"===r)this.state=S.SGML_DECL,this.sgmlDecl="";else if(y(r));else if(_(h,r))this.state=S.OPEN_TAG,this.tagName=r;else if("/"===r)this.state=S.CLOSE_TAG,this.tagName="";else if("?"===r)this.state=S.PROC_INST,this.procInstName=this.procInstBody="";else{if(j(this,"Unencoded <"),this.startTagPosition+1<this.position){var a=this.position-this.startTagPosition;r=new Array(a).join(" ")+r}this.textNode+="<"+r,this.state=S.TEXT}continue;case S.SGML_DECL:(this.sgmlDecl+r).toUpperCase()===u?(C(this,"onopencdata"),this.state=S.CDATA,this.sgmlDecl="",this.cdata=""):this.sgmlDecl+r==="--"?(this.state=S.COMMENT,this.comment="",this.sgmlDecl=""):(this.sgmlDecl+r).toUpperCase()===l?(this.state=S.DOCTYPE,(this.doctype||this.sawRoot)&&j(this,"Inappropriately located doctype declaration"),this.doctype="",this.sgmlDecl=""):">"===r?(C(this,"onsgmldeclaration",this.sgmlDecl),this.sgmlDecl="",this.state=S.TEXT):v(r)?(this.state=S.SGML_DECL_QUOTED,this.sgmlDecl+=r):this.sgmlDecl+=r;continue;case S.SGML_DECL_QUOTED:r===this.q&&(this.state=S.SGML_DECL,this.q=""),this.sgmlDecl+=r;continue;case S.DOCTYPE:">"===r?(this.state=S.TEXT,C(this,"ondoctype",this.doctype),this.doctype=!0):(this.doctype+=r,"["===r?this.state=S.DOCTYPE_DTD:v(r)&&(this.state=S.DOCTYPE_QUOTED,this.q=r));continue;case S.DOCTYPE_QUOTED:this.doctype+=r,r===this.q&&(this.q="",this.state=S.DOCTYPE);continue;case S.DOCTYPE_DTD:this.doctype+=r,"]"===r?this.state=S.DOCTYPE:v(r)&&(this.state=S.DOCTYPE_DTD_QUOTED,this.q=r);continue;case S.DOCTYPE_DTD_QUOTED:this.doctype+=r,r===this.q&&(this.state=S.DOCTYPE_DTD,this.q="");continue;case S.COMMENT:"-"===r?this.state=S.COMMENT_ENDING:this.comment+=r;continue;case S.COMMENT_ENDING:"-"===r?(this.state=S.COMMENT_ENDED,this.comment=O(this.opt,this.comment),this.comment&&C(this,"oncomment",this.comment),this.comment=""):(this.comment+="-"+r,this.state=S.COMMENT);continue;case S.COMMENT_ENDED:">"!==r?(j(this,"Malformed comment"),this.comment+="--"+r,this.state=S.COMMENT):this.state=S.TEXT;continue;case S.CDATA:"]"===r?this.state=S.CDATA_ENDING:this.cdata+=r;continue;case S.CDATA_ENDING:"]"===r?this.state=S.CDATA_ENDING_2:(this.cdata+="]"+r,this.state=S.CDATA);continue;case S.CDATA_ENDING_2:">"===r?(this.cdata&&C(this,"oncdata",this.cdata),C(this,"onclosecdata"),this.cdata="",this.state=S.TEXT):"]"===r?this.cdata+="]":(this.cdata+="]]"+r,this.state=S.CDATA);continue;case S.PROC_INST:"?"===r?this.state=S.PROC_INST_ENDING:y(r)?this.state=S.PROC_INST_BODY:this.procInstName+=r;continue;case S.PROC_INST_BODY:if(!this.procInstBody&&y(r))continue;"?"===r?this.state=S.PROC_INST_ENDING:this.procInstBody+=r;continue;case S.PROC_INST_ENDING:">"===r?(C(this,"onprocessinginstruction",{name:this.procInstName,body:this.procInstBody}),this.procInstName=this.procInstBody="",this.state=S.TEXT):(this.procInstBody+="?"+r,this.state=S.PROC_INST_BODY);continue;case S.OPEN_TAG:_(p,r)?this.tagName+=r:(P(this),">"===r?R(this):"/"===r?this.state=S.OPEN_TAG_SLASH:(y(r)||j(this,"Invalid character in tag name"),this.state=S.ATTRIB));continue;case S.OPEN_TAG_SLASH:">"===r?(R(this,!0),F(this)):(j(this,"Forward-slash in opening tag not followed by >"),this.state=S.ATTRIB);continue;case S.ATTRIB:if(y(r))continue;">"===r?R(this):"/"===r?this.state=S.OPEN_TAG_SLASH:_(h,r)?(this.attribName=r,this.attribValue="",this.state=S.ATTRIB_NAME):j(this,"Invalid attribute name");continue;case S.ATTRIB_NAME:"="===r?this.state=S.ATTRIB_VALUE:">"===r?(j(this,"Attribute without value"),this.attribValue=this.attribName,I(this),R(this)):y(r)?this.state=S.ATTRIB_NAME_SAW_WHITE:_(p,r)?this.attribName+=r:j(this,"Invalid attribute name");continue;case S.ATTRIB_NAME_SAW_WHITE:if("="===r)this.state=S.ATTRIB_VALUE;else{if(y(r))continue;j(this,"Attribute without value"),this.tag.attributes[this.attribName]="",this.attribValue="",C(this,"onattribute",{name:this.attribName,value:""}),this.attribName="",">"===r?R(this):_(h,r)?(this.attribName=r,this.state=S.ATTRIB_NAME):(j(this,"Invalid attribute name"),this.state=S.ATTRIB)}continue;case S.ATTRIB_VALUE:if(y(r))continue;v(r)?(this.q=r,this.state=S.ATTRIB_VALUE_QUOTED):(j(this,"Unquoted attribute value"),this.state=S.ATTRIB_VALUE_UNQUOTED,this.attribValue=r);continue;case S.ATTRIB_VALUE_QUOTED:if(r!==this.q){"&"===r?this.state=S.ATTRIB_VALUE_ENTITY_Q:this.attribValue+=r;continue}I(this),this.q="",this.state=S.ATTRIB_VALUE_CLOSED;continue;case S.ATTRIB_VALUE_CLOSED:y(r)?this.state=S.ATTRIB:">"===r?R(this):"/"===r?this.state=S.OPEN_TAG_SLASH:_(h,r)?(j(this,"No whitespace between attributes"),this.attribName=r,this.attribValue="",this.state=S.ATTRIB_NAME):j(this,"Invalid attribute name");continue;case S.ATTRIB_VALUE_UNQUOTED:if(!b(r)){"&"===r?this.state=S.ATTRIB_VALUE_ENTITY_U:this.attribValue+=r;continue}I(this),">"===r?R(this):this.state=S.ATTRIB;continue;case S.CLOSE_TAG:if(this.tagName)">"===r?F(this):_(p,r)?this.tagName+=r:this.script?(this.script+="</"+this.tagName,this.tagName="",this.state=S.SCRIPT):(y(r)||j(this,"Invalid tagname in closing tag"),this.state=S.CLOSE_TAG_SAW_WHITE);else{if(y(r))continue;w(h,r)?this.script?(this.script+="</"+r,this.state=S.SCRIPT):j(this,"Invalid tagname in closing tag."):this.tagName=r}continue;case S.CLOSE_TAG_SAW_WHITE:if(y(r))continue;">"===r?F(this):j(this,"Invalid characters in closing tag");continue;case S.TEXT_ENTITY:case S.ATTRIB_VALUE_ENTITY_Q:case S.ATTRIB_VALUE_ENTITY_U:var s,c;switch(this.state){case S.TEXT_ENTITY:s=S.TEXT,c="textNode";break;case S.ATTRIB_VALUE_ENTITY_Q:s=S.ATTRIB_VALUE_QUOTED,c="attribValue";break;case S.ATTRIB_VALUE_ENTITY_U:s=S.ATTRIB_VALUE_UNQUOTED,c="attribValue"}";"===r?(this[c]+=Y(this),this.entity="",this.state=s):_(this.entity.length?g:m,r)?this.entity+=r:(j(this,"Invalid character in entity name"),this[c]+="&"+this.entity+r,this.entity="",this.state=s);continue;default:throw new Error(this,"Unknown state: "+this.state)}this.position>=this.bufferCheckPosition&&function(e){for(var n=Math.max(t.MAX_BUFFER_LENGTH,10),r=0,o=0,a=i.length;o<a;o++){var s=e[i[o]].length;if(s>n)switch(i[o]){case"textNode":A(e);break;case"cdata":C(e,"oncdata",e.cdata),e.cdata="";break;case"script":C(e,"onscript",e.script),e.script="";break;default:N(e,"Max buffer length exceeded: "+i[o])}r=Math.max(r,s)}var u=t.MAX_BUFFER_LENGTH-r;e.bufferCheckPosition=u+e.position}(this);return this}
/*! http://mths.be/fromcodepoint v0.1.0 by @mathias */,resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){var e;A(e=this),""!==e.cdata&&(C(e,"oncdata",e.cdata),e.cdata=""),""!==e.script&&(C(e,"onscript",e.script),e.script="")}};try{r=n(431).Stream}catch(e){r=function(){}}var a=t.EVENTS.filter(function(e){return"error"!==e&&"end"!==e});function s(e,t){if(!(this instanceof s))return new s(e,t);r.apply(this),this._parser=new o(e,t),this.writable=!0,this.readable=!0;var n=this;this._parser.onend=function(){n.emit("end")},this._parser.onerror=function(e){n.emit("error",e),n._parser.error=null},this._decoder=null,a.forEach(function(e){Object.defineProperty(n,"on"+e,{get:function(){return n._parser["on"+e]},set:function(t){if(!t)return n.removeAllListeners(e),n._parser["on"+e]=t,t;n.on(e,t)},enumerable:!0,configurable:!1})})}s.prototype=Object.create(r.prototype,{constructor:{value:s}}),s.prototype.write=function(t){if("function"==typeof e&&"function"==typeof e.isBuffer&&e.isBuffer(t)){if(!this._decoder){var r=n(551).StringDecoder;this._decoder=new r("utf8")}t=this._decoder.write(t)}return this._parser.write(t.toString()),this.emit("data",t),!0},s.prototype.end=function(e){return e&&e.length&&this.write(e),this._parser.end(),!0},s.prototype.on=function(e,t){var n=this;return n._parser["on"+e]||-1===a.indexOf(e)||(n._parser["on"+e]=function(){var t=1===arguments.length?[arguments[0]]:Array.apply(null,arguments);t.splice(0,0,e),n.emit.apply(n,t)}),r.prototype.on.call(n,e,t)};var u="[CDATA[",l="DOCTYPE",c="http://www.w3.org/XML/1998/namespace",d="http://www.w3.org/2000/xmlns/",f={xml:c,xmlns:d},h=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,p=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,m=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,g=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/;function y(e){return" "===e||"\n"===e||"\r"===e||"\t"===e}function v(e){return'"'===e||"'"===e}function b(e){return">"===e||y(e)}function _(e,t){return e.test(t)}function w(e,t){return!_(e,t)}var k,E,x,S=0;for(var M in t.STATE={BEGIN:S++,BEGIN_WHITESPACE:S++,TEXT:S++,TEXT_ENTITY:S++,OPEN_WAKA:S++,SGML_DECL:S++,SGML_DECL_QUOTED:S++,DOCTYPE:S++,DOCTYPE_QUOTED:S++,DOCTYPE_DTD:S++,DOCTYPE_DTD_QUOTED:S++,COMMENT_STARTING:S++,COMMENT:S++,COMMENT_ENDING:S++,COMMENT_ENDED:S++,CDATA:S++,CDATA_ENDING:S++,CDATA_ENDING_2:S++,PROC_INST:S++,PROC_INST_BODY:S++,PROC_INST_ENDING:S++,OPEN_TAG:S++,OPEN_TAG_SLASH:S++,ATTRIB:S++,ATTRIB_NAME:S++,ATTRIB_NAME_SAW_WHITE:S++,ATTRIB_VALUE:S++,ATTRIB_VALUE_QUOTED:S++,ATTRIB_VALUE_CLOSED:S++,ATTRIB_VALUE_UNQUOTED:S++,ATTRIB_VALUE_ENTITY_Q:S++,ATTRIB_VALUE_ENTITY_U:S++,CLOSE_TAG:S++,CLOSE_TAG_SAW_WHITE:S++,SCRIPT:S++,SCRIPT_ENDING:S++},t.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},t.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(t.ENTITIES).forEach(function(e){var n=t.ENTITIES[e],r="number"==typeof n?String.fromCharCode(n):n;t.ENTITIES[e]=r}),t.STATE)t.STATE[t.STATE[M]]=M;function T(e,t,n){e[t]&&e[t](n)}function C(e,t,n){e.textNode&&A(e),T(e,t,n)}function A(e){e.textNode=O(e.opt,e.textNode),e.textNode&&T(e,"ontext",e.textNode),e.textNode=""}function O(e,t){return e.trim&&(t=t.trim()),e.normalize&&(t=t.replace(/\s+/g," ")),t}function N(e,t){return A(e),e.trackPosition&&(t+="\nLine: "+e.line+"\nColumn: "+e.column+"\nChar: "+e.c),t=new Error(t),e.error=t,T(e,"onerror",t),e}function L(e){return e.sawRoot&&!e.closedRoot&&j(e,"Unclosed root tag"),e.state!==S.BEGIN&&e.state!==S.BEGIN_WHITESPACE&&e.state!==S.TEXT&&N(e,"Unexpected end"),A(e),e.c="",e.closed=!0,T(e,"onend"),o.call(e,e.strict,e.opt),e}function j(e,t){if("object"!=typeof e||!(e instanceof o))throw new Error("bad call to strictFail");e.strict&&N(e,t)}function P(e){e.strict||(e.tagName=e.tagName[e.looseCase]());var t=e.tags[e.tags.length-1]||e,n=e.tag={name:e.tagName,attributes:{}};e.opt.xmlns&&(n.ns=t.ns),e.attribList.length=0,C(e,"onopentagstart",n)}function D(e,t){var n=e.indexOf(":")<0?["",e]:e.split(":"),r=n[0],i=n[1];return t&&"xmlns"===e&&(r="xmlns",i=""),{prefix:r,local:i}}function I(e){if(e.strict||(e.attribName=e.attribName[e.looseCase]()),-1!==e.attribList.indexOf(e.attribName)||e.tag.attributes.hasOwnProperty(e.attribName))e.attribName=e.attribValue="";else{if(e.opt.xmlns){var t=D(e.attribName,!0),n=t.prefix,r=t.local;if("xmlns"===n)if("xml"===r&&e.attribValue!==c)j(e,"xml: prefix must be bound to "+c+"\nActual: "+e.attribValue);else if("xmlns"===r&&e.attribValue!==d)j(e,"xmlns: prefix must be bound to "+d+"\nActual: "+e.attribValue);else{var i=e.tag,o=e.tags[e.tags.length-1]||e;i.ns===o.ns&&(i.ns=Object.create(o.ns)),i.ns[r]=e.attribValue}e.attribList.push([e.attribName,e.attribValue])}else e.tag.attributes[e.attribName]=e.attribValue,C(e,"onattribute",{name:e.attribName,value:e.attribValue});e.attribName=e.attribValue=""}}function R(e,t){if(e.opt.xmlns){var n=e.tag,r=D(e.tagName);n.prefix=r.prefix,n.local=r.local,n.uri=n.ns[r.prefix]||"",n.prefix&&!n.uri&&(j(e,"Unbound namespace prefix: "+JSON.stringify(e.tagName)),n.uri=r.prefix);var i=e.tags[e.tags.length-1]||e;n.ns&&i.ns!==n.ns&&Object.keys(n.ns).forEach(function(t){C(e,"onopennamespace",{prefix:t,uri:n.ns[t]})});for(var o=0,a=e.attribList.length;o<a;o++){var s=e.attribList[o],u=s[0],l=s[1],c=D(u,!0),d=c.prefix,f=c.local,h=""===d?"":n.ns[d]||"",p={name:u,value:l,prefix:d,local:f,uri:h};d&&"xmlns"!==d&&!h&&(j(e,"Unbound namespace prefix: "+JSON.stringify(d)),p.uri=d),e.tag.attributes[u]=p,C(e,"onattribute",p)}e.attribList.length=0}e.tag.isSelfClosing=!!t,e.sawRoot=!0,e.tags.push(e.tag),C(e,"onopentag",e.tag),t||(e.noscript||"script"!==e.tagName.toLowerCase()?e.state=S.TEXT:e.state=S.SCRIPT,e.tag=null,e.tagName=""),e.attribName=e.attribValue="",e.attribList.length=0}function F(e){if(!e.tagName)return j(e,"Weird empty close tag."),e.textNode+="</>",void(e.state=S.TEXT);if(e.script){if("script"!==e.tagName)return e.script+="</"+e.tagName+">",e.tagName="",void(e.state=S.SCRIPT);C(e,"onscript",e.script),e.script=""}var t=e.tags.length,n=e.tagName;e.strict||(n=n[e.looseCase]());for(var r=n;t--;){if(e.tags[t].name===r)break;j(e,"Unexpected close tag")}if(t<0)return j(e,"Unmatched closing tag: "+e.tagName),e.textNode+="</"+e.tagName+">",void(e.state=S.TEXT);e.tagName=n;for(var i=e.tags.length;i-- >t;){var o=e.tag=e.tags.pop();e.tagName=e.tag.name,C(e,"onclosetag",e.tagName);var a={};for(var s in o.ns)a[s]=o.ns[s];var u=e.tags[e.tags.length-1]||e;e.opt.xmlns&&o.ns!==u.ns&&Object.keys(o.ns).forEach(function(t){var n=o.ns[t];C(e,"onclosenamespace",{prefix:t,uri:n})})}0===t&&(e.closedRoot=!0),e.tagName=e.attribValue=e.attribName="",e.attribList.length=0,e.state=S.TEXT}function Y(e){var t,n=e.entity,r=n.toLowerCase(),i="";return e.ENTITIES[n]?e.ENTITIES[n]:e.ENTITIES[r]?e.ENTITIES[r]:("#"===(n=r).charAt(0)&&("x"===n.charAt(1)?(n=n.slice(2),i=(t=parseInt(n,16)).toString(16)):(n=n.slice(1),i=(t=parseInt(n,10)).toString(10))),n=n.replace(/^0+/,""),isNaN(t)||i.toLowerCase()!==n?(j(e,"Invalid character entity"),"&"+e.entity+";"):String.fromCodePoint(t))}function B(e,t){"<"===t?(e.state=S.OPEN_WAKA,e.startTagPosition=e.position):y(t)||(j(e,"Non-whitespace before first tag."),e.textNode=t,e.state=S.TEXT)}function H(e,t){var n="";return t<e.length&&(n=e.charAt(t)),n}S=t.STATE,String.fromCodePoint||(k=String.fromCharCode,E=Math.floor,x=function(){var e,t,n=[],r=-1,i=arguments.length;if(!i)return"";for(var o="";++r<i;){var a=Number(arguments[r]);if(!isFinite(a)||a<0||a>1114111||E(a)!==a)throw RangeError("Invalid code point: "+a);a<=65535?n.push(a):(e=55296+((a-=65536)>>10),t=a%1024+56320,n.push(e,t)),(r+1===i||n.length>16384)&&(o+=k.apply(null,n),n.length=0)}return o},Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:x,configurable:!0,writable:!0}):String.fromCodePoint=x)}(t)}).call(t,n(71).Buffer)},function(e,t,n){var r=n(769),i=n(1284);e.exports=function(e,t){var n,o,a;return n=function(e){var t=r.copyOptions(e);return r.ensureSpacesExists(t),t}(t),o=i(e,n),a="compact"in n&&n.compact?"_parent":"parent",("addParent"in n&&n.addParent?JSON.stringify(o,function(e,t){return e===a?"_":t},n.spaces):JSON.stringify(o,null,n.spaces)).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}},function(e,t,n){(function(t){var r=n(1285);e.exports=function(e,n){e instanceof t&&(e=e.toString());var i=null;if("string"==typeof e)try{i=JSON.parse(e)}catch(e){throw new Error("The JSON structure is invalid")}else i=e;return r(i,n)}}).call(t,n(71).Buffer)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(112),o=u(n(94)),a=u(n(102)),s=u(n(1286));function u(e){return e&&e.__esModule?e:{default:e}}var l=function(){return(Date.now().toString(36)+Math.random().toString(36).substr(2,5)).toUpperCase()},c=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.graph=t,this.drawing=n}return r(e,[{key:"isKmz",value:function(e){return _.find(e.files,function(e){return e.name.indexOf("kml")>-1})}},{key:"randomizeNodePosition",value:function(e){e.position.x=Math.random()-.5,e.position.y=Math.random()-.5,e.position.z=Math.random()-.5}},{key:"getNode",value:function(e,t){return _.filter(e,function(e){return e.id==t})[0]}},{key:"import",value:function(e,t){var n=this;try{e.file("doc.kml").async("string").then(function(t){var r=JSON.parse(JSON.stringify(s.default.kml((new DOMParser).parseFromString(t,"text/xml")),null,4)),i=[],o=[];r.features.forEach(function(t){-1==i.indexOf(t.properties.icon)&&e.files[t.properties.icon]&&(i.push(t.properties.icon),o.push(new Promise(function(n,r){e.file(t.properties.icon).async("base64").then(function(e){var r,i,o;n((r={},i=t.properties.icon,o=e,i in r?Object.defineProperty(r,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[i]=o,r))})}).then(function(e){return e})))}),0==i.length?n.createNodesAndEdges(r,[]):Promise.all(o).then(function(e){n.createNodesAndEdges(r,e)}).catch(function(e){return console.error(e)})})}catch(e){Common.showHints("Failed to import Kmz file: ("+t+")")}}},{key:"createNodesAndEdges",value:function(e,t){var n=this,r=[],s=[];e.features.forEach(function(e){var u=void 0;if("LineString"==e.geometry.type){var c=e.geometry.coordinates,d=_.range(c.length).map(function(e){return t=c[e],n=c[e+1],Math.sqrt(_.sum(_.zip(t,n).map(function(e){return(e[0]-e[1])*(e[0]-e[1])})));var t,n});d=d;var f=_.reduce(d,function(e,t){return[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(e),[e[e.length-1]+t])},[0]),h=f[c.length-1],p=l();e.geometry.coordinates.forEach(function(t,l){var c=_.cloneDeep(e.properties);if(c.icon&&delete c.icon,c.lat=1*t[1]=="NaN"?0:1*t[1],c.lng=1*t[0]=="NaN"?0:1*t[0],void 0!==e.properties.timespan){var d=new Date(e.properties.timespan.begin),m=new Date(e.properties.timespan.end),g=(d.getTime()*(h-f[l])+m.getTime()*f[l])/h;c.time=new Date(g).toISOString()}c.id=p+"-"+l;var y="kmzImport_"+e.geometry.type;if((u=new i.Node(c.id)).data.detail={type:y,data:c},u.color.setStyle(o.default.getColorByType(y)),n.randomizeNodePosition(u),r.push(u),l>0){var v={source:u,target:r[r.length-1-1]},b=new i.Edge(v.source,v.target);b.name="path_point",b.color.setStyle(a.default.getColorByName(b.name)),s.push(b)}})}else{var m=_.cloneDeep(e.properties);if(m.icon&&t.find(function(e){return m.icon in e})&&t.find(function(e){return m.icon in e})[m.icon]&&(m.Image="data:image/"+m.icon.slice(m.icon.lastIndexOf(".")+1)+";base64,"+t.find(function(e){return m.icon in e})[m.icon]),m.lat=1*e.geometry.coordinates[1]=="NaN"?0:1*e.geometry.coordinates[1],m.lng=1*e.geometry.coordinates[0]=="NaN"?0:1*e.geometry.coordinates[0],void 0!==e.properties.timespan){var g=new Date(e.properties.timespan.begin),y=new Date(e.properties.timespan.end),v=.5*g.getTime()+.5*y.getTime();m.time=new Date(v).toISOString()}m.id=l();var b="kmzImport_"+e.geometry.type;(u=new i.Node(m.id)).data.detail={type:b,data:m},u.color.setStyle(o.default.getColorByType(b)),n.randomizeNodePosition(u),r.push(u)}}),this.graph.addNodes(r),s.length>0&&this.graph.addEdges(s),this.drawing.forceStartLayout()}}]),e}();t.default=c},function(e,t,n){function r(e){this.options=e||{locator:{}}}function i(){this.cdata=!1}function o(e,t){t.lineNumber=e.lineNumber,t.columnNumber=e.columnNumber}function a(e){if(e)return"\n@"+(e.systemId||"")+"#[line:"+e.lineNumber+",col:"+e.columnNumber+"]"}function s(e,t,n){return"string"==typeof e?e.substr(t,n):e.length>=t+n||t?new java.lang.String(e,t,n)+"":e}function u(e,t){e.currentElement?e.currentElement.appendChild(t):e.doc.appendChild(t)}r.prototype.parseFromString=function(e,t){var n=this.options,r=new l,o=n.domBuilder||new i,s=n.errorHandler,u=n.locator,c=n.xmlns||{},d={lt:"<",gt:">",amp:"&",quot:'"',apos:"'"};return u&&o.setDocumentLocator(u),r.errorHandler=function(e,t,n){if(!e){if(t instanceof i)return t;e=t}var r={},o=e instanceof Function;function s(t){var i=e[t];!i&&o&&(i=2==e.length?function(n){e(t,n)}:e),r[t]=i&&function(e){i("[xmldom "+t+"]\t"+e+a(n))}||function(){}}return n=n||{},s("warning"),s("error"),s("fatalError"),r}(s,o,u),r.domBuilder=n.domBuilder||o,/\/x?html?$/.test(t)&&(d.nbsp="",d.copy="",c[""]="http://www.w3.org/1999/xhtml"),c.xml=c.xml||"http://www.w3.org/XML/1998/namespace",e?r.parse(e,c,d):r.errorHandler.error("invalid doc source"),o.doc},i.prototype={startDocument:function(){this.doc=(new c).createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(e,t,n,r){var i=this.doc,a=i.createElementNS(e,n||t),s=r.length;u(this,a),this.currentElement=a,this.locator&&o(this.locator,a);for(var l=0;l<s;l++){e=r.getURI(l);var c=r.getValue(l),d=(n=r.getQName(l),i.createAttributeNS(e,n));this.locator&&o(r.getLocator(l),d),d.value=d.nodeValue=c,a.setAttributeNode(d)}},endElement:function(e,t,n){var r=this.currentElement;r.tagName;this.currentElement=r.parentNode},startPrefixMapping:function(e,t){},endPrefixMapping:function(e){},processingInstruction:function(e,t){var n=this.doc.createProcessingInstruction(e,t);this.locator&&o(this.locator,n),u(this,n)},ignorableWhitespace:function(e,t,n){},characters:function(e,t,n){if(e=s.apply(this,arguments)){if(this.cdata)var r=this.doc.createCDATASection(e);else r=this.doc.createTextNode(e);this.currentElement?this.currentElement.appendChild(r):/^\s*$/.test(e)&&this.doc.appendChild(r),this.locator&&o(this.locator,r)}},skippedEntity:function(e){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(e){(this.locator=e)&&(e.lineNumber=0)},comment:function(e,t,n){e=s.apply(this,arguments);var r=this.doc.createComment(e);this.locator&&o(this.locator,r),u(this,r)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(e,t,n){var r=this.doc.implementation;if(r&&r.createDocumentType){var i=r.createDocumentType(e,t,n);this.locator&&o(this.locator,i),u(this,i)}},warning:function(e){console.warn("[xmldom warning]\t"+e,a(this.locator))},error:function(e){console.error("[xmldom error]\t"+e,a(this.locator))},fatalError:function(e){throw console.error("[xmldom fatalError]\t"+e,a(this.locator)),e}},"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(e){i.prototype[e]=function(){return null}});var l=n(2443).XMLReader,c=t.DOMImplementation=n(1287).DOMImplementation;t.XMLSerializer=n(1287).XMLSerializer,t.DOMParser=r},function(e,t){var n=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,r=new RegExp("[\\-\\.0-9"+n.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),i=new RegExp("^"+n.source+r.source+"*(?::"+n.source+r.source+"*)?$"),o=0,a=1,s=2,u=3,l=4,c=5,d=6,f=7;function h(){}function p(e,t){return t.lineNumber=e.lineNumber,t.columnNumber=e.columnNumber,t}function m(e,t,n,r,i,h){for(var p,m=++t,g=o;;){var y=e.charAt(m);switch(y){case"=":if(g===a)p=e.slice(t,m),g=u;else{if(g!==s)throw new Error("attribute equal must after attrName");g=u}break;case"'":case'"':if(g===u||g===a){if(g===a&&(h.warning('attribute value must after "="'),p=e.slice(t,m)),t=m+1,!((m=e.indexOf(y,t))>0))throw new Error("attribute value no end '"+y+"' match");v=e.slice(t,m).replace(/&#?\w+;/g,i),n.add(p,v,t-1),g=c}else{if(g!=l)throw new Error('attribute value must after "="');v=e.slice(t,m).replace(/&#?\w+;/g,i),n.add(p,v,t),h.warning('attribute "'+p+'" missed start quot('+y+")!!"),t=m+1,g=c}break;case"/":switch(g){case o:n.setTagName(e.slice(t,m));case c:case d:case f:g=f,n.closed=!0;case l:case a:case s:break;default:throw new Error("attribute invalid close char('/')")}break;case"":return h.error("unexpected end of input"),g==o&&n.setTagName(e.slice(t,m)),m;case">":switch(g){case o:n.setTagName(e.slice(t,m));case c:case d:case f:break;case l:case a:"/"===(v=e.slice(t,m)).slice(-1)&&(n.closed=!0,v=v.slice(0,-1));case s:g===s&&(v=p),g==l?(h.warning('attribute "'+v+'" missed quot(")!!'),n.add(p,v.replace(/&#?\w+;/g,i),t)):("http://www.w3.org/1999/xhtml"===r[""]&&v.match(/^(?:disabled|checked|selected)$/i)||h.warning('attribute "'+v+'" missed value!! "'+v+'" instead!!'),n.add(v,v,t));break;case u:throw new Error("attribute value missed!!")}return m;case"":y=" ";default:if(y<=" ")switch(g){case o:n.setTagName(e.slice(t,m)),g=d;break;case a:p=e.slice(t,m),g=s;break;case l:var v=e.slice(t,m).replace(/&#?\w+;/g,i);h.warning('attribute "'+v+'" missed quot(")!!'),n.add(p,v,t);case c:g=d}else switch(g){case s:n.tagName;"http://www.w3.org/1999/xhtml"===r[""]&&p.match(/^(?:disabled|checked|selected)$/i)||h.warning('attribute "'+p+'" missed value!! "'+p+'" instead2!!'),n.add(p,p,t),t=m,g=a;break;case c:h.warning('attribute space is required"'+p+'"!!');case d:g=a,t=m;break;case u:g=l,t=m;break;case f:throw new Error("elements closed character '/' and '>' must be connected to")}}m++}}function g(e,t,n){for(var r=e.tagName,i=null,o=e.length;o--;){var a=e[o],s=a.qName,u=a.value;if((f=s.indexOf(":"))>0)var l=a.prefix=s.slice(0,f),c=s.slice(f+1),d="xmlns"===l&&c;else c=s,l=null,d="xmlns"===s&&"";a.localName=c,!1!==d&&(null==i&&(i={},b(n,n={})),n[d]=i[d]=u,a.uri="http://www.w3.org/2000/xmlns/",t.startPrefixMapping(d,u))}for(o=e.length;o--;){(l=(a=e[o]).prefix)&&("xml"===l&&(a.uri="http://www.w3.org/XML/1998/namespace"),"xmlns"!==l&&(a.uri=n[l||""]))}var f;(f=r.indexOf(":"))>0?(l=e.prefix=r.slice(0,f),c=e.localName=r.slice(f+1)):(l=null,c=e.localName=r);var h=e.uri=n[l||""];if(t.startElement(h,c,r,e),!e.closed)return e.currentNSMap=n,e.localNSMap=i,!0;if(t.endElement(h,c,r),i)for(l in i)t.endPrefixMapping(l)}function y(e,t,n,r,i){if(/^(?:script|textarea)$/i.test(n)){var o=e.indexOf("</"+n+">",t),a=e.substring(t+1,o);if(/[&<]/.test(a))return/^script$/i.test(n)?(i.characters(a,0,a.length),o):(a=a.replace(/&#?\w+;/g,r),i.characters(a,0,a.length),o)}return t+1}function v(e,t,n,r){var i=r[n];return null==i&&((i=e.lastIndexOf("</"+n+">"))<t&&(i=e.lastIndexOf("</"+n)),r[n]=i),i<t}function b(e,t){for(var n in e)t[n]=e[n]}function _(e,t,n,r){switch(e.charAt(t+2)){case"-":return"-"===e.charAt(t+3)?(i=e.indexOf("--\x3e",t+4))>t?(n.comment(e,t+4,i-t-4),i+3):(r.error("Unclosed comment"),-1):-1;default:if("CDATA["==e.substr(t+3,6)){var i=e.indexOf("]]>",t+9);return n.startCDATA(),n.characters(e,t+9,i-t-9),n.endCDATA(),i+3}var o=function(e,t){var n,r=[],i=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;i.lastIndex=t,i.exec(e);for(;n=i.exec(e);)if(r.push(n),n[1])return r}(e,t),a=o.length;if(a>1&&/!doctype/i.test(o[0][0])){var s=o[1][0],u=a>3&&/^public$/i.test(o[2][0])&&o[3][0],l=a>4&&o[4][0],c=o[a-1];return n.startDTD(s,u&&u.replace(/^(['"])(.*?)\1$/,"$2"),l&&l.replace(/^(['"])(.*?)\1$/,"$2")),n.endDTD(),c.index+c[0].length}}return-1}function w(e,t,n){var r=e.indexOf("?>",t);if(r){var i=e.substring(t,r).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);if(i){i[0].length;return n.processingInstruction(i[1],i[2]),r+2}return-1}return-1}function k(e){}function E(e,t){return e.__proto__=t,e}h.prototype={parse:function(e,t,n){var r=this.domBuilder;r.startDocument(),b(t,t={}),function(e,t,n,r,i){function o(e){var t=e.slice(1,-1);return t in n?n[t]:"#"===t.charAt(0)?function(e){if(e>65535){var t=55296+((e-=65536)>>10),n=56320+(1023&e);return String.fromCharCode(t,n)}return String.fromCharCode(e)}(parseInt(t.substr(1).replace("x","0x"))):(i.error("entity not found:"+e),e)}function a(t){if(t>b){var n=e.substring(b,t).replace(/&#?\w+;/g,o);d&&s(b),r.characters(n,0,t-b),b=t}}function s(t,n){for(;t>=l&&(n=c.exec(e));)u=n.index,l=u+n[0].length,d.lineNumber++;d.columnNumber=t-u+1}var u=0,l=0,c=/.*(?:\r\n?|\n)|.*$/g,d=r.locator,f=[{currentNSMap:t}],h={},b=0;for(;;){try{var E=e.indexOf("<",b);if(E<0){if(!e.substr(b).match(/^\s*$/)){var x=r.doc,S=x.createTextNode(e.substr(b));x.appendChild(S),r.currentElement=S}return}switch(E>b&&a(E),e.charAt(E+1)){case"/":var M=e.indexOf(">",E+3),T=e.substring(E+2,M),C=f.pop();M<0?(T=e.substring(E+2).replace(/[\s<].*/,""),i.error("end tag name: "+T+" is not complete:"+C.tagName),M=E+1+T.length):T.match(/\s</)&&(T=T.replace(/[\s<].*/,""),i.error("end tag name: "+T+" maybe not complete"),M=E+1+T.length);var A=C.localNSMap,O=C.tagName==T,N=O||C.tagName&&C.tagName.toLowerCase()==T.toLowerCase();if(N){if(r.endElement(C.uri,C.localName,T),A)for(var L in A)r.endPrefixMapping(L);O||i.fatalError("end tag name: "+T+" is not match the current start tagName:"+C.tagName)}else f.push(C);M++;break;case"?":d&&s(E),M=w(e,E,r);break;case"!":d&&s(E),M=_(e,E,r,i);break;default:d&&s(E);var j=new k,P=f[f.length-1].currentNSMap,M=m(e,E,j,P,o,i),D=j.length;if(!j.closed&&v(e,M,j.tagName,h)&&(j.closed=!0,n.nbsp||i.warning("unclosed xml attribute")),d&&D){for(var I=p(d,{}),R=0;R<D;R++){var F=j[R];s(F.offset),F.locator=p(d,{})}r.locator=I,g(j,r,P)&&f.push(j),r.locator=d}else g(j,r,P)&&f.push(j);"http://www.w3.org/1999/xhtml"!==j.uri||j.closed?M++:M=y(e,M,j.tagName,o,r)}}catch(e){i.error("element parse error: "+e),M=-1}M>b?b=M:a(Math.max(E,b)+1)}}(e,t,n,r,this.errorHandler),r.endDocument()}},k.prototype={setTagName:function(e){if(!i.test(e))throw new Error("invalid tagName:"+e);this.tagName=e},add:function(e,t,n){if(!i.test(e))throw new Error("invalid attribute:"+e);this[this.length++]={qName:e,value:t,offset:n}},length:0,getLocalName:function(e){return this[e].localName},getLocator:function(e){return this[e].locator},getQName:function(e){return this[e].qName},getURI:function(e){return this[e].uri},getValue:function(e){return this[e].value}},E({},E.prototype)instanceof E||(E=function(e,t){function n(){}for(t in n.prototype=t,n=new n,e)n[t]=e[t];return n}),t.XMLReader=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(112),o=u(n(94)),a=u(n(102)),s=u(n(1286));function u(e){return e&&e.__esModule?e:{default:e}}var l=function(){return(Date.now().toString(36)+Math.random().toString(36).substr(2,5)).toUpperCase()},c=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.graph=t,this.drawing=n}return r(e,[{key:"randomizeNodePosition",value:function(e){e.position.x=Math.random()-.5,e.position.y=Math.random()-.5,e.position.z=Math.random()-.5}},{key:"getNode",value:function(e,t){return _.filter(e,function(e){return e.id==t})[0]}},{key:"import",value:function(e,t){var n,r,i=this;try{(n=e,r=new FileReader,new Promise(function(e,t){r.onerror=function(){r.abort(),t(new DOMException("Problem parsing input file."))},r.onload=function(){e(r.result)},r.readAsText(n)})).then(function(e){var t=JSON.parse(JSON.stringify(s.default.kml((new DOMParser).parseFromString(e,"text/xml")),null,4));console.log(t),i.createNodesAndEdges(t)})}catch(e){console.error(e),Common.showHints("Failed to import Kmz file: ("+t+")")}}},{key:"createNodesAndEdges",value:function(e){var t=this,n=[],r=[];e.features.forEach(function(e){var s=void 0;if("LineString"==e.geometry.type){var u=e.geometry.coordinates,c=_.range(u.length).map(function(e){return t=u[e],n=u[e+1],Math.sqrt(_.sum(_.zip(t,n).map(function(e){return(e[0]-e[1])*(e[0]-e[1])})));var t,n});c=c;var d=_.reduce(c,function(e,t){return[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(e),[e[e.length-1]+t])},[0]),f=d[u.length-1],h=l();e.geometry.coordinates.forEach(function(u,l){var c=_.cloneDeep(e.properties);if(c.lat=1*u[1]=="NaN"?0:1*u[1],c.lng=1*u[0]=="NaN"?0:1*u[0],void 0!==e.properties.timespan){var p=new Date(e.properties.timespan.begin),m=new Date(e.properties.timespan.end),g=(p.getTime()*(f-d[l])+m.getTime()*d[l])/f;c.time=new Date(g).toISOString()}c.id=h+"-"+l;var y="kmzImport_"+e.geometry.type;if((s=new i.Node(c.id)).data.detail={type:y,data:c},s.color.setStyle(o.default.getColorByType(y)),t.randomizeNodePosition(s),n.push(s),l>0){var v={source:s,target:n[n.length-1-1]},b=new i.Edge(v.source,v.target);b.name="path_point",b.color.setStyle(a.default.getColorByName(b.name)),r.push(b)}})}else{var p=_.cloneDeep(e.properties);if(p.lat=1*e.geometry.coordinates[1]=="NaN"?0:1*e.geometry.coordinates[1],p.lng=1*e.geometry.coordinates[0]=="NaN"?0:1*e.geometry.coordinates[0],void 0!==e.properties.timespan){var m=new Date(e.properties.timespan.begin),g=new Date(e.properties.timespan.end),y=.5*m.getTime()+.5*g.getTime();p.time=new Date(y).toISOString()}p.id=l();var v="kmzImport_"+e.geometry.type;(s=new i.Node(p.id)).data.detail={type:v,data:p},s.color.setStyle(o.default.getColorByType(v)),t.randomizeNodePosition(s),n.push(s)}}),this.graph.addNodes(n),r.length>0&&this.graph.addEdges(r),this.drawing.forceStartLayout()}}]),e}();t.default=c},function(t,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=c(r(84)),a=r(112),s=c(r(94)),u=c(r(102)),l=c(r(1288));function c(e){return e&&e.__esModule?e:{default:e}}var d=function(){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.graph=e,this.drawing=n}return i(t,[{key:"randomizeNodePosition",value:function(e){e.position.x=Math.random()-.5,e.position.y=Math.random()-.5,e.position.z=Math.random()-.5}},{key:"import",value:function(t,n){console.log("importing gexfFile");var r=this;o.default.waterfall([function(e){var n=new FileReader;n.onload=function(t){e(null,n.result)},n.onerror=function(t){e(t,null)},n.readAsText(t)},function(e,t){try{var n=(new DOMParser).parseFromString(e,"application/xml");t(null,l.default.parse(n))}catch(e){t(e)}},function(e,t){try{var n={},i=e.nodes.map(function(e,t){var i=new a.Node(e.id);return i.data.detail={type:"GEXF",data:Object.assign({},{id:e.id,lable:e.label},e.attributes)},i.name=e.label,i.color.setStyle(s.default.getColorByType("GEXF")),r.randomizeNodePosition(i),n[i.id]=i,i}),o=e.edges.map(function(e){var t=new a.Edge(n[e.source],n[e.target]);return t.name=e.type,t.color.setStyle(u.default.getColorByName(t.name)),t});r.graph.addNodes(i),r.graph.addEdges(o),r.drawing.forceStartLayout(),t(null,"done")}catch(e){t(e)}}],function(t,r){t?(console.error(e),Common.showHints("Failed to import GEXF file: ("+n+")")):console.log("Import successful")})}},{key:"export",value:function(e){}}]),t}();n.default=d},function(t,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=h(r(84)),a=(h(r(546)),h(r(11))),s=r(112),u=h(r(94)),l=h(r(102)),c=(h(r(1288)),h(r(10))),d=r(1289),f=r(427);function h(e){return e&&e.__esModule?e:{default:e}}var p=function(){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.graph=e,this.drawing=n}return i(t,[{key:"randomizeNodePosition",value:function(e){e.position.x=Math.random()-.5,e.position.y=Math.random()-.5,e.position.z=Math.random()-.5}},{key:"hasDir",value:function(e,t){var n=new RegExp(t,"g");return void 0!=a.default.find(e.files,function(e){return n.test(e.name.toLowerCase())})}},{key:"importCSV",value:function(e){var t=e.file("data.csv"),n=e.file("mapping.json"),r=new f.CSVToGraph,i=[];i.push(t.async("string")),i.push(n.async("string"));var o=this;Promise.all(i).then(function(e){r.toGraph(e[0],JSON.parse(e[1])).then(function(e){(0,d.jsonToGraph)(o.graph,e),o.drawing.forceStartLayout(),console.log(o.graph)})})}},{key:"import",value:function(t,n){var r=this;o.default.waterfall([function(e){var i=null;r.hasDir(t,"relationships/")?r.hasDir(t,"labels/")||r.hasDir(t,"lables/")||(i=new Error("Can't find the labels dir under the ZIP file("+n+")")):i=new Error("Can't find the relationships dir under the ZIP file("+n+")"),e(i,t)},function(e,t){var n=[],r=[];a.default.forEach(e.files,function(t){if(!t.dir&&/^(labels|lables|relationships)\/.+\.csv$/gi.test(t.name)){n.push(e.file(t.name).async("string"));var i={name:t.name.replace(/.+\/(.+)\.csv/gi,"$1"),isRelations:/^relationships\/.+\.csv$/gi.test(t.name)};r.push(i)}}),Promise.all(n).then(function(e){var n=e.map(function(e){return c.default.convertCSV2JSON(e,!1)}).map(function(e,t){return{name:r[t].name,isRelations:r[t].isRelations,content:e.map(function(e){return a.default.forEach(e,function(t,n){t=/^(-)?\d+$/gi.test(t)?parseInt(t):/^(-)?[\d\.]+$/gi.test(t)?parseFloat(t):t.toString().trim().replace(/^['"]|["']$/gi,""),e[n]=t}),e})}});t(null,n)}).catch(function(e){t(e)})},function(e,t){var n={},i=[],o=e.filter(function(e){return!e.isRelations}),c=e.filter(function(e){return e.isRelations});o.forEach(function(e,t){e.content.forEach(function(t,r){if(t&&void 0!==t.id){var i=new s.Node(void 0!==t.id?t.id:t.name);i.data.detail={type:e.name,data:t},i.name=e.name,i.color.setStyle(u.default.getColorByType(e.name)),n[i.id]=i}else console.warn("Miss id or name in ",e.name,".csv "," in line ",r+1)})}),c.forEach(function(e,t){e.content.forEach(function(t,r){if(t){var o=void 0!==t.sourceId?t.sourceId:t.sourceName,a=void 0!==t.targetId?t.targetId:t.targetName;if(void 0!==n[o]&&void 0!==n[a]){var u=new s.Edge(n[o],n[a]);u.name=e.name,u.color.setStyle(l.default.getColorByName(e.name)),u.properties=t,i.push(u)}}else console.warn("Miss sourceId or targetId in ",e.name,".csv "," in line ",r+1)})}),r.graph.addNodes(a.default.values(n)),r.graph.addEdges(i),r.drawing.forceStartLayout(),t(null,"done")}],function(t){t?(console.error(e),c.default.showHints("GraphXR unrecognized file("+n+")")):console.log("Import successful")})}},{key:"export",value:function(e){var t=new JSZip,n={};this.graph.layoutNodes.forEach(function(e){var t=e.data.detail.type;n[t]||(n[t]={list:[],namesMap:{}});var r=Object.assign({},e.data.detail.data,{id:e.id,type:t});Object.keys(r).filter(function(e){return"id"!==e}).forEach(function(e){n[t].namesMap[e]=e}),n[t].list.push(r)});var r={};this.graph.layoutEdges.forEach(function(e){var t=e.name;r[t]||(r[t]={list:[],namesMap:{}});var n=Object.assign({},e.properties,{sourceId:e.sourceId,targetId:e.targetId});Object.keys(n).filter(function(e){return"sourceId"!==e&&"targetId"!==e}).forEach(function(e){r[t].namesMap[e]=e}),r[t].list.push(n)}),a.default.forEach(n,function(e,n){var r=[];r.push(["id"].concat(Object.keys(e.namesMap)).join(",")),r=r.concat(e.list.map(function(t){return[t.id].concat(a.default.map(e.namesMap,function(e){return"string"==typeof t[e]?'"'+t[e]+'"':t[e]}).join(","))})),t.file("labels/"+n+".csv",r.join("\n"))}),a.default.forEach(r,function(e,n){var r=[];r.push(["sourceId","targetId"].concat(Object.keys(e.namesMap)).join(",")),r=r.concat(e.list.map(function(t){return[t.sourceId,t.targetId].concat(a.default.map(e.namesMap,function(e){return"string"==typeof t[e]?'"'+t[e]+'"':t[e]}).join(","))})),t.file("relationships/"+n+".csv",r.join("\n"))}),t.generateAsync({type:"blob"}).then(function(t){c.default.saveLink(URL.createObjectURL(t),e)})}}]),t}();n.default=p},function(t,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=l(r(84)),a=(l(r(546)),l(r(11)),r(112)),s=l(r(94)),u=(l(r(102)),l(r(10)));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.graph=e,this.drawing=n}return i(t,[{key:"randomizeNodePosition",value:function(e){e.position.x=Math.random()-.5,e.position.y=Math.random()-.5,e.position.z=Math.random()-.5}},{key:"importCSV",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e,t){},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",i=u.default.convertCSV2JSON(e,!1);try{var o=i.map(function(e,n){void 0==e.id&&(e.id=(Date.now().toString(36)+Math.random().toString(36).substr(2,5)).toUpperCase());var i=new a.Node(e.id),o="csvImport_"+r.split(".")[0];return i.data.detail={type:o,data:e},i.color.setStyle(s.default.getColorByType(o)),t.randomizeNodePosition(i),i});this.graph.addNodes(o),this.drawing.forceStartLayout(),n(null,"done")}catch(e){n(e)}}},{key:"import",value:function(t,n){var r=this;console.log("importing csv plain file");o.default.waterfall([function(e){var n=new FileReader;n.onload=function(t){e(null,n.result)},n.onerror=function(t){e(t,null)},n.readAsText(t)},function(e,t){r.importCSV(e,t,n)}],function(t,r){t?(console.error(e),u.default.showHints("Failed to import CSV file: ("+n+")")):console.log("Import successful")})}},{key:"export",value:function(e){console.log("To Be implemented")}}]),t}();n.default=c},function(t,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=l(r(84)),a=(l(r(546)),l(r(11)),r(112)),s=l(r(94)),u=(l(r(102)),l(r(10)));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.graph=e,this.drawing=n}return i(t,[{key:"randomizeNodePosition",value:function(e){e.position.x=Math.random()-.5,e.position.y=Math.random()-.5,e.position.z=Math.random()-.5}},{key:"importCSV",value:function(e){}},{key:"import",value:function(t,n){console.log("importing JSON array file");var r=this;o.default.waterfall([function(e){var n=new FileReader;n.onload=function(t){e(null,n.result)},n.onerror=function(t){e(t,null)},n.readAsText(t)},function(e,t){var i=void 0;i="["==e[0]?JSON.parse(e):e.split("\n").filter(function(e){return e.length>1}).map(JSON.parse);try{var o=i.map(function(e,t){void 0==e.id&&(e.id=(Date.now().toString(36)+Math.random().toString(36).substr(2,5)).toUpperCase());var i=new a.Node(e.id),o="json_"+n.split(".")[0];return i.data.detail={type:o,data:e},i.color.setStyle(s.default.getColorByType(o)),r.randomizeNodePosition(i),i});r.graph.addNodes(o),r.drawing.forceStartLayout(),t(null,"done")}catch(e){t(e)}}],function(t,r){t?(console.error(e),u.default.showHints("Failed to import CSV file: ("+n+")")):console.log("Import successful")})}},{key:"export",value:function(e){console.log("To Be implemented")}}]),t}();n.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(90),i=n(326),o=h(n(2450)),a=h(n(2451)),s=h(n(2452)),u=h(n(2453)),l=h(n(2454)),c=h(n(2455)),d=n(427),f=n(2456);n(574);function h(e){return e&&e.__esModule?e:{default:e}}t.default=(0,i.combineReducers)({play:o.default,layout:a.default,node:s.default,graph:u.default,refresh:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{refresh:!0},t=arguments[1];switch(t.type){case r.Types.REFRSH_APP_STATE:return Object.assign({},e,{refresh:!e.refresh});case r.Types.UPDATE_APP_STATE:return Object.assign({},e,t.params.app||{});default:return e}},schemas:d.schemas,dbInfo:f.dbInfo,ui:l.default,settings:c.default})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a,t=arguments[1];switch(t.type){case i.Types.FULL_SCREEN:return Object.assign({},e,t.params);default:return e}};var r,i=n(90),o=(n(50),n(11));(r=o)&&r.__esModule;var a={isFullscreen:!1,initialGraphHasLoaded:!0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments[1];switch(t.type){case i.Types.DEFAULT_LAYOUT:return Object.assign({},e,{graphPhysics:{linkStrength:r.D3Sliders.linkStrength.defaultValue,linkDistance:r.D3Sliders.linkDistance.defaultValue,charge:r.D3Sliders.charge.defaultValue,gravity:r.D3Sliders.gravity.defaultValue,friction:r.D3Sliders.friction.defaultValue,heightCompress:r.D3Sliders.heightCompress.defaultValue}});case i.Types.ADD_PARAMETRIC:var n=t.params.key,a=t.params.parametric,s=e.parametricHistory;return s[n]=a,Object.assign({},e,{parametricHistory:s});case i.Types.DEL_PARAMETRIC:var u=t.params.parametric,l=e.parametricHistory;return l[u]=null,delete l[u],Object.assign({},e,{parametricHistory:l});case i.Types.TRIGGER_LAYOUT:return Object.assign({},e,{trigger:!0});case i.Types.LAYOUT_GRAPH_PHYSICS_ITEM:return Object.assign({},e,{graphPhysics:Object.assign({},e.graphPhysics,t.params)});case i.Types.LAYOUT_EDGE_BUNDLE_ITEM:return!1===t.params.isCanOpen&&(t.params.isOpen=!1),Object.assign({},e,{edgeBundle:Object.assign({},e.edgeBundle,t.params)});case i.Types.LINK_DEGREE_CONFIG:return t.params.from||(t.params.from=t.params.min),t.params.to||(t.params.to=t.params.max),Object.assign({},e,{degreeFilter:Object.assign(e.degreeFilter,t.params)});case i.Types.LINK_DEGREE_FILTER:return Object.assign({},e,{degreeFilter:Object.assign({},e.degreeFilter,t.params)});case i.Types.RESET_LAYOUT_DEGREE_FILTER:if(t.max>0){var c={max:t.max};return e.degreeFilter.from>t.max?c.from=t.max:e.degreeFilter.to>t.max&&(c.to=t.max),Object.assign({},e,{degreeFilter:Object.assign(e.degreeFilter,c)})}return Object.assign({},e,{degreeFilter:Object.assign({},r.GraphLayout.degreeFilter)});case i.Types.DOWNLOAD_MARK:var d={influencers:0,external:0,vendors:0};return d[t.params.item]=t.params.isRequireDown?e.download[t.params.item]+1:0,Object.assign({},e,{download:d});case i.Types.SET_LAYOUT:return Object.assign({},e,{currentLayout:t.params.layout});default:return e}};var r=n(50),i=n(90),o={graphPhysics:{linkStrength:r.D3Sliders.linkStrength.defaultValue,linkDistance:r.D3Sliders.linkDistance.defaultValue,charge:r.D3Sliders.charge.defaultValue,gravity:r.D3Sliders.gravity.defaultValue,friction:r.D3Sliders.friction.defaultValue,heightCompress:r.D3Sliders.heightCompress.defaultValue},edgeBundle:{isOpen:!1,isCanOpen:!1,stepSize:r.GraphLayout.edgeBundle.stepSize.defaultValue,compatibilityThreshold:r.GraphLayout.edgeBundle.compatibilityThreshold.defaultValue},degreeFilter:{min:r.GraphLayout.degreeFilter.min,max:r.GraphLayout.degreeFilter.max,from:r.GraphLayout.degreeFilter.from,to:r.GraphLayout.degreeFilter.to,active:r.GraphLayout.degreeFilter.active},download:{influencers:0,external:0,vendors:0},currentLayout:"",trigger:!1,parametricHistory:{}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments[1];switch(t.type){case r.Types.CLEAN_ALL_NODE_STATE:return Object.assign({},e,i,{dataChanging:!e.dataChanging});case r.Types.START_FLIGHT_ANIMATION:return Object.assign({},e,{flightDuringTime:t.params.flightDuringTime});case r.Types.GRAPH_DATA_UPDATE:return Object.assign({},e,{dataChanging:!e.dataChanging,nodeNum:t.params.nodeNum});case r.Types.UPDATE_NODE_INFO:var n={};return t.params.data&&t.params.x&&t.params.y?(n.show=!0,n.dataRefer=t.params.data,n.data=Object.assign({},n.data,t.params.data)):n.show=!1,n.mouseLocation={x:t.params.x||-1e3,y:t.params.y||-1e3},Object.assign({},e,n);case r.Types.EXCUTE_COMMAND:var o={content:String(t.params.command||"").trim(),extra:t.params.extra,status:!1};return o.content==e.command.content&&(o.status=!e.command.status),Object.assign({},e,{command:o,tableResult:[]});case r.Types.SHOW_TABLE_RESULT_INFO:return Object.assign({},e,{tableResult:t.params.tableResult||[]});case r.Types.EXECUTE_COMMAND_AND_HIDE:var a={content:t.params.hideCommand||""};return Object.assign({},e,{hideCommand:a});case r.Types.CLEAR_GRAPH:var s=t.params||{};return Object.assign({},e,s,{dataChanging:!e.dataChanging});case r.Types.CLEAN_GRAPH:var u=t.params||{};return Object.assign({},e,u,{dataChanging:!e.dataChanging});case r.Types.NODE_OPERATOER:return t.params.operator==e.nodeOperator.operator&&(t.params.extraParams.status=!e.nodeOperator.extraParams.status),Object.assign({},e,{nodeOperator:Object.assign({},t.params)});case r.Types.SET_NODE_PROPERTY_BY_LABEL:var l=t.params||{};return Object.assign({},e,{labelNodeProperty:l});case r.Types.TAG_NODE_BY_PROPERTY:var c=t.params||{};return Object.assign({},e,{tagNodeByProperty:c.property});case r.Types.SET_NODE_VISIBLE_BY_LABEL:var d=t.params||{};return Object.assign({},e,{labeledNodesVisiblity:d});case r.Types.SET_RELATIONSHIP_VISIBLE:var f=t.params||{};return Object.assign({},e,{relationshipVisiblity:f});case r.Types.ADD_NODE_TO_GRAPH:var h=t.params||{};return Object.assign({},e,{newNodes:h.nodes});case r.Types.ADD_NODE_TO_SEARCH_LIST:var p=t.params||{};return Object.assign({},e,{searchedNodes:p.nodes});case r.Types.SET_CURRENT_NODE:var m=t.params||{};return Object.assign({},e,{currentNodeId:m.nodeId,currentMoveNodeId:m.nodeId,currentSelectNodeNum:m.nodeNum});case r.Types.SET_CURRENT_MOVE_NODE:var g=t.params||{};return Object.assign({},e,{currentMoveNodeId:g.nodeId});case r.Types.TIME_RANGE:var y=t.params||{};return Object.assign({},e,{timeRange:y.timeRange});case r.Types.NODE_FILTER:var v=t.params||{},b=v.property,_=v.filterCondition,w={};return w[b]=_,Object.assign({},e,{nodeFilter:w,dataChanging:!e.dataChanging});case r.Types.EDGE_FILTER:var k=t.params||{},E=k.property,x=k.filterCondition,S={};return S[E]=x,Object.assign({},e,{edgeFilter:S,dataChanging:!e.dataChanging});case r.Types.TIME_FILTER:var M=t.params||{};return Object.assign({},e,{timeFilter:M.timeFilter});case r.Types.SEARCH_NODE:var T=t.params||{};return Object.assign({},e,{search:T.keyword});case r.Types.FLY_TO_NODE:var C=t.params||{};return Object.assign({},e,{flyTo:C.nodeId?C.nodeId:e.currentNodeId,currentNodeId:C.nodeId?C.nodeId:e.currentNodeId});case r.Types.SHOW_NODE_INFO:var A=t.params||{};return Object.assign({},e,{showNodeId:A.nodeId});case r.Types.UNTARGET_NODE:return Object.assign({},e,{flyTo:"",currentNodeId:""});case r.Types.EXPAND_NODE:var O=t.params||{},N={nodeId:O.nodeId,page:O.page};return Object.assign({},e,{expandNode:N});case r.Types.SHOW_CURRENT_LABELS:var L=t.params||{};return Object.assign({},e,{currentLabels:L.labels});case r.Types.SHOW_EXPAND_PANEL:var j=t.params||{};return Object.assign({},e,{showExpandPanel:j.isShowPanel});case r.Types.SHOW_MOVE_BORDER:var P=t.params||{};return Object.assign({},e,{moveBorder:P.moveBorder});case r.Types.SHOW_RIGHT_PANEL:var D=t.params||{};return Object.assign({},e,{rightPanelPosition:D.rightPanelPosition});default:return e}};var r=n(90),i=(n(50),{show:!1,timeRange:{},currentNodeId:"",currentMoveNodeId:"",data:{action_type:"",actions:"",email:"",enterprise_id:"",enterprise_name:"",first_seen:"",last_seen:"",receive_cnt:0,received_from:[],send_cnt:0,sent_to:[],user_type:""},dataRefer:null,mouseLocation:{x:-1e3,y:-1e3},command:{content:"",status:!1},tableResult:[],clearGraph:0,cleanGraph:0,nodeOperator:{operator:"",extraParams:{}},nodeFilter:{},edgeFilter:{},labelNodeProperty:{label:"",property:"",value:0},labeledNodesVisiblity:{label:"",visible:!0},relationshipVisiblity:{relationship:"",visible:!0},search:"",timeFilter:null,newNodes:[],currentLabels:{},searchedNodes:[],flyTo:"",showNodeId:null,tagNodeByProperty:"",dataChanging:!1,handledNodesPropertyNodes:[],showExpandPanel:!1})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments[1];switch(t.type){case r.Types.LOAD_GRAPH:var n=t.params.graph,o=n.nodes,a=n.edges;return Object.assign({},e,{graph:{nodes:o,edges:a}});default:return e}};var r=n(90),i={graph:{nodes:[],edges:[]}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments[1];switch(t.type){case r.Types.SHOW_TOPBAR:var n=t.params.topbar;return Object.assign({},e,{topbar:n});case r.Types.SCENE_OPERATOR:var o=t.params.operator;return Object.assign({},e,{sceneOperator:o});case r.Types.SHOW_POPWINDOW:var a=t.params;return Object.assign({},e,{popWindow:a});case r.Types.SHOW_GRAPH_BUILDER:var s=t.params.show,u=t.params.dataType,l=t.params.data,c=t.params.schemaName;return Object.assign({},e,{showGraphBuilder:{isShow:s,dataType:u,schemaName:c,data:l}});case r.Types.SHOW_NEIGHBORS_SLIDER:var d=void 0===t.params.isShow?!e.neighborsSliderShow:t.params.isShow;return Object.assign({},e,{neighborsSliderShow:d});case r.Types.ADJUST_AXIS_SCALE:var f=t.params.value;return Object.assign({},e,{axisScale:f});default:return e}};var r=n(90),i={topbar:"",sceneOperator:"camera",axisScale:2,showGraphBuilder:{isShow:!1,dataType:"csv",schemaName:"",data:null},neighborsSliderShow:!1,popWindow:{windowName:"",title:"",content:{icon:""}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments[1];switch(t.type){case r.Types.LOAD_INNER_RELATIONSHIP:var n=t.params.isLoad;return Object.assign({},e,{loadInnerRelationship:n});case r.Types.AUTO_SHOW_IMAGE:var o=t.params||{};return Object.assign({},e,{autoShowImage:o.autoShowImage});case r.Types.DISABLE_NODE_INFO:var a=t.params||{};return Object.assign({},e,{disableNodeInfo:!!a.isDisable,showNodeId:a.isDisable?null:e.showNodeId});case r.Types.HIDE_ARROW:var s=t.params||{};return Object.assign({},e,{hideArrow:s.hideArrow});case r.Types.CHANGE_GRAPH_ICON_SHEET:var u=t.params.id,l=t.params.iconPath,c=t.params.iconColumn;return Object.assign({},e,{iconConfig:{id:u,iconPath:l,iconColumn:c}});default:return e}};var r=n(90),i={loadInnerRelationship:!0,autoShowImage:!1,disableNodeInfo:!1,hideArrow:!1,iconConfig:{id:0,iconPath:"/public/default_icons/spritesheet.png",iconColumn:4}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2457);t.dbInfo=r.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1111),i={host:"localhost",port:"3306",user:"root",password:"",database:"",dbType:"mysql"};t.default=function(e=i,t){switch(t.type){case r.Types.SAVE_DBINFO:{let n=t.params;return Object.assign({},e,n)}default:return e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=l(n(84)),a=l(n(10)),s=n(287),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2459));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.sequence=[],this.isPause=!1,this.simulationReg=/\/simulation\//gi,this.hasSimulation=this.simulationReg.test(window.location.pathname),this.hasSimulation&&setTimeout(function(){t.checkSimulation()},1e3)}return i(e,[{key:"restartFlight",value:function(){s.TaskList.restartFlight.func()}},{key:"pauseFlight",value:function(){s.TaskList.pauseFlight.func()}},{key:"playFlight",value:function(){s.TaskList.playFlight.func()}},{key:"checkSimulation",value:function(){if(this.hasSimulation){var e=u[window.location.pathname.replace(this.simulationReg,"")];e&&Array.isArray(e)?window._task.execute(e):e&&"function"==typeof e?(console.warn("run tasks function"),e()):console.warn("Can't got the tasks")}}},{key:"run",value:function(){this.execute([{t:s.TaskList.configNeo4jDB,p:"tweetrussiantroll.neo4j.code4demo.com:7601"},{t:s.TaskList.sendAQuery,p:"MATCH (h:Hashtag {tag:'pjnet'} )-[r]-(t:Tweet) optional MATCH(t)-[r0]-(u:URL) OPTIONAL MATCH (t)-[p]-(u0:User) RETURN * LIMIT 1000"},{t:s.TaskList.selectANodeAndMove,p:201253},{t:s.TaskList.moveTo,p:-10},{t:s.TaskList.highlightSelectedNodeNeighbor,p:0,d:2e3},{t:s.TaskList.highlightSelectedNodeNeighbor,p:1,d:2e3},{t:s.TaskList.highlightSelectedNodeNeighbor,p:2,d:2e3},{t:s.TaskList.highlightSelectedNodeNeighbor,p:3,d:2e3},"sendAQuery|MATCH  (t:Tweet) RETURN * LIMIT 500|3000","leafTrimming","leafTrimming","cleanGraph","search|g|3000",{t:s.TaskList.search,d:3e3},s.TaskList.clearGraph,{func:function(){console.warn("I'm custom task")}}])}},{key:"testNCSU",value:function(){this.execute(["configNeo4jDB|198.181.37.101:7475","sendAQuery|Match (l0:Location)-[a:ARRIVED_AT]-(p:Person)-[d:DEPARTED_FROM]-(l1:Location) return * limit 10000|3000","showMap","moveLocationsToMap|Location,lng,lat|3000","adjustMap|-45,35,3","moveLocationsToMap|Location,lng,lat|3000"])}},{key:"testFlight",value:function(){this.execute(["configNeo4jDB|198.181.37.101:7475","sendAQuery|MATCH (da:Airport)-[d:DESTINATION]-(n:Flight)-[o:ORIGIN]-(oa:Airport) RETURN * LIMIT 1000|3000","showMap","moveLocationsToMap|Airport,lon,lat|3000","adjustMap|-115,35,4","moveLocationsToMap|Airport,lon,lat|3000"])}},{key:"runRecords",value:function(){this.execute(["configNeo4jDB|tweetrussiantroll.neo4j.code4demo.com:7601","startRecord",'sendAQuery|MATCH (n:Hashtag {tag: "islamkills"})-[r]-(a:Tweet)-[b]-(m:Troll) RETURN * LIMIT 1000',"selectANodeAndMove|40761","stopRecord"])}},{key:"pause",value:function(){this.isPause=!0}},{key:"restart",value:function(){this.pause(),this.execute(this.sequence)}},{key:"resume",value:function(){this.isPause=!1,this.nextFunc()}},{key:"untilCheck",value:function(e){var t=this;return a.default.untilCheck(function(){return!t.isPause&&e()})}},{key:"log",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];console.log(t.join(","))}},{key:"executeRecording",value:function(e,t){"startRecord"!=e[0]&&e.splice(0,0,"startRecord"+(t?"|true":"")),"stopRecord"!=e[e.length-1]&&e.push("stopRecord"),this.execute(e)}},{key:"execute",value:function(e){var t=this;if(e instanceof Array||(e=[e]),this.sequence=e,!Array.isArray(e)||0==e.length)return console.warn("Miss sequence parameter");this.isPause=!1;var n=new Date,i=window.performance.now();this.log("\n\n\n",n.format("hh:mm:ss"),"================== Starting Tasks ================");var a=e.map(function(e){var t={name:null,task:null,param:null,duration:null,until:null,command:e};if("string"==typeof e){var n=e.split("|");t.name=n[0],n.length>1&&(t.param=n[1]),t.task=s.TaskList[t.name],t.task?(t.duration=t.task.duration||100,t.until=t.task.until,n.length>2&&(t.duration=parseInt(n[2]))):console.error('The task sequence struct is "taskName| parameter1, parameter2 | duration"')}else"object"===(void 0===e?"undefined":r(e))&&e.t?(t.task=e.t,t.name=_.findKey(s.TaskList,function(t){return t==e.t})||"Custom Sequence",t.duration=parseInt(e.d)||t.task.duration||100,t.param=e.p,t.until=e.u||t.task.until):"object"===(void 0===e?"undefined":r(e))&&e.func&&"function"==typeof e.func?(t.task=e,t.name=_.findKey(s.TaskList,function(t){return t==e})||"Custom Sequence",t.duration=t.task.duration||100,t.until=t.task.until):console.error("Can't recognition the task sequence: ",e,"\n","Please use the struct {t:TaskListItem (required), p: parameter (options),  d: duration (options) , u: untilFunction (options) } ");return t}).map(function(e,n){return function(r){var i=window.performance.now();if(t.log("\n\n ("+(n+1)+":"+e.command+")  duration:"+e.duration,"===== start =====",e.name,e.param,"==="),!e.task||!e.task.func||"function"!=typeof e.task.func)return console.warn("Ignore the task, Please the the task struct");e.task.func(e.param),t.nextFunc=r;var o,a=function(){t.log("Use Time : "+(window.performance.now()-i).toFixed(0),"===== Finish =====",e.name,e.param,"==="),r()};e.until?t.untilCheck(e.until).then(a):(o=e.duration,s.Tracking.start(),t.untilCheck(function(){return s.Tracking.useTime>o})).then(a)}});o.default.waterfall(a,function(e,t){var r=new Date;console.log(r.format("hh:mm:ss"),"===============Finished tasks============================================","\nReal Total Time :",(r.getTime()-n.getTime())/1e3,"s"," performace time :",((window.performance.now()-i)/1e3).toFixed(0),"s"),e&&console.error(e)})}}]),e}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.flightAnimation=t.ShowHDLayout=t.flight=void 0;var r,i=n(658),o=(r=i)&&r.__esModule?r:{default:r};var a,s,u,l,c=["configNeo4jDB|198.181.37.101:7475|1000","setFalseRelationship||1000","sendAHideQuery|"+(a="2018-01-01T06:00:00-0000",s="2018-01-01T:22:00-0000",window.flightTime={startTime:"2018-01-01 06:00:00",endTime:"2018-01-01 22:00:00"},'match (oa:Airport)-[o:ORIGIN]-(f:Flight)-[d:DESTINATION]-(da:Airport) where f.dep_time > "'+a+'" and f.dep_time < "'+s+'" return oa,o,f,d,da limit 2000')+"|3000","showMap||1000","adjustMap|-105,35,4|1000","moveLocationsToMap|Airport,lng,lat|3000","flightAnimate|65000|68000"],d=["configNeo4jDB|198.181.37.101:7475|1000","sendAQuery|"+(u=1710,l="WN","Match (f:Flight {flight_num:"+u+"})-[:CARRIER]-(car {abbr: '"+l+"'}) match (da:Airport)-[d:DESTINATION]-(f)-[o:ORIGIN]-(oa:Airport) return *")+"|3000","showMap||3000","moveLocationsToMap|Airport,lng,lat|3000","adjustMap|-105,35,4|3000","moveLocationsToMap|Airport,lng,lat|3000","flyToNode|Airport,abbr,ROC,4|3000","timeFilter|Flight,dep_time,1514804400000,1514811600000|1000","flyToNode|Airport,abbr,BWI,4|3000","timeFilter|Flight,dep_time,1514811600000,1514818800000|1000","flyToNode|Airport,abbr,DTW,4|3000","timeFilter|Flight,dep_time,1514818800000,1514826000000|1000","flyToNode|Airport,abbr,DAL,4|3000","timeFilter|Flight,dep_time,1514826000000,1514836800000|1000","flyToNode|Airport,abbr,ABQ,4|3000","timeFilter|Flight,dep_time,1514836800000,1514844000000|1000","flyToNode|Airport,abbr,DEN,4|3000","timeFilter|Flight,dep_time,1514844000000,1514851200000|1000","flyToNode|Airport,abbr,SLC,4|3000","timeFilter|Flight,dep_time,1514851200000,1514858400000|1000","flyToNode|Airport,abbr,PHX,4|3000","timeFilter|Flight,dep_time,1514858400000,1514869200000|1000","flyToNode|Airport,abbr,SFO,4|3000","timeFilter|Flight,dep_time,1514764800000,1515124800000|1000","flyHome||6000","sendAQuery|MATCH (da:Airport)-[d:DESTINATION]-(n:Flight)-[o:ORIGIN]-(oa:Airport) \n        where n.flight_date = '2018-01-01' \n        RETURN * LIMIT 700|3000","showMap","moveLocationsToMap|Airport,lng,lat|3000","adjustMap|-115,35,4","moveLocationsToMap|Airport,lng,lat|3000","flyToNode|Airport,abbr,SFO,4|3000","lookAtNode|Airport,abbr,DEN|3000","flyToNode|Airport,abbr,LAS,4|3000","flyToNode|Airport,abbr,LGA,4|3000","flyHome||3000","lookAtHome||3000"],f={x:{color:16711680,label:"closeness",val:function(e){var t=e.data.detail.data.closeness;return void 0==t?0:t}},y:{color:65280,label:"betweenness",val:function(e){var t=e.data.detail.data.betweenness;return void 0==t?0:t}},z:{color:255,label:"pagerank",val:function(e){var t=e.data.detail.data.pagerank;return void 0==t?0:t}}},h=["configNeo4jDB|kinetecharts-facebook.neo4j.code4demo.com:7687|1000","sendAQuery|MATCH p=()-[r:liked]->() RETURN p LIMIT 250|3000",{func:function(){window._hd||(window._hd=new o.default(_drawing.cloudScene,_drawing.graph)),window._hd.init(f),window._hd.showHD()}}];t.flight=d,t.ShowHDLayout=h,t.flightAnimation=c}],[1715]);