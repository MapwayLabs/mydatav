!function(t) {
    var e = {};
    function n(r) {
        if (e[r])
            return e[r].exports;
        var i = e[r] = {
            i: r,
            l: !1,
            exports: {}
        };
        return t[r].call(i.exports, i, i.exports, n),
        i.l = !0,
        i.exports
    }
    n.m = t,
    n.c = e,
    n.d = function(t, e, r) {
        n.o(t, e) || Object.defineProperty(t, e, {
            configurable: !1,
            enumerable: !0,
            get: r
        })
    }
    ,
    n.n = function(t) {
        var e = t && t.__esModule ? function() {
            return t.default
        }
        : function() {
            return t
        }
        ;
        return n.d(e, "a", e),
        e
    }
    ,
    n.o = function(t, e) {
        return Object.prototype.hasOwnProperty.call(t, e)
    }
    ,
    n.p = "/react_build/",
    n(n.s = 181)
}([function(t, e, n) {
    "use strict";
    n.d(e, "i", function() {
        return r
    }),
    n.d(e, "j", function() {
        return i
    }),
    n.d(e, "o", function() {
        return o
    }),
    n.d(e, "l", function() {
        return a
    }),
    n.d(e, "q", function() {
        return s
    }),
    n.d(e, "w", function() {
        return u
    }),
    n.d(e, "h", function() {
        return c
    }),
    n.d(e, "r", function() {
        return f
    }),
    n.d(e, "a", function() {
        return l
    }),
    n.d(e, "d", function() {
        return h
    }),
    n.d(e, "e", function() {
        return d
    }),
    n.d(e, "g", function() {
        return p
    }),
    n.d(e, "f", function() {
        return m
    }),
    n.d(e, "k", function() {
        return v
    }),
    n.d(e, "n", function() {
        return g
    }),
    n.d(e, "p", function() {
        return y
    }),
    n.d(e, "t", function() {
        return b
    }),
    n.d(e, "s", function() {
        return _
    }),
    n.d(e, "u", function() {
        return x
    }),
    n.d(e, "v", function() {
        return w
    }),
    e.b = function(t) {
        return t > 1 ? 0 : t < -1 ? o : Math.acos(t)
    }
    ,
    e.c = function(t) {
        return t > 1 ? a : t < -1 ? -a : Math.asin(t)
    }
    ,
    e.m = function(t) {
        return (t = b(t / 2)) * t
    }
    ;
    var r = 1e-6
      , i = 1e-12
      , o = Math.PI
      , a = o / 2
      , s = o / 4
      , u = 2 * o
      , c = 180 / o
      , f = o / 180
      , l = Math.abs
      , h = Math.atan
      , d = Math.atan2
      , p = Math.cos
      , m = Math.ceil
      , v = Math.exp
      , g = (Math.floor,
    Math.log)
      , y = Math.pow
      , b = Math.sin
      , _ = Math.sign || function(t) {
        return t > 0 ? 1 : t < 0 ? -1 : 0
    }
      , x = Math.sqrt
      , w = Math.tan
}
, function(t, e, n) {
    "use strict";
    e.a = function(t) {
        for (var e = t.length / 6 | 0, n = new Array(e), r = 0; r < e; )
            n[r] = "#" + t.slice(6 * r, 6 * ++r);
        return n
    }
}
, function(t, e, n) {
    "use strict";
    var r = n(11);
    e.a = function(t) {
        return Object(r.r)(t[t.length - 1])
    }
}
, function(t, e, n) {
    "use strict";
    var r = n(94);
    n.d(e, "b", function() {
        return r.c
    }),
    n.d(e, "d", function() {
        return r.b
    }),
    n.d(e, "c", function() {
        return r.a
    });
    var i = n(21);
    n.d(e, "a", function() {
        return i.a
    });
    var o = n(95);
    n.d(e, "e", function() {
        return o.a
    });
    var a = n(190);
    n.d(e, "f", function() {
        return a.a
    });
    var s = n(191);
    n.d(e, "g", function() {
        return s.a
    });
    var u = n(97);
    n.d(e, "h", function() {
        return u.a
    });
    var c = n(99);
    n.d(e, "i", function() {
        return c.a
    });
    var f = n(192);
    n.d(e, "j", function() {
        return f.a
    });
    var l = n(195);
    n.d(e, "w", function() {
        return l.a
    });
    var h = n(196);
    n.d(e, "x", function() {
        return h.a
    });
    var d = n(103);
    n.d(e, "y", function() {
        return d.a
    });
    var p = n(197);
    n.d(e, "k", function() {
        return p.a
    });
    var m = n(198);
    n.d(e, "l", function() {
        return m.a
    });
    var v = n(199);
    n.d(e, "m", function() {
        return v.a
    });
    var g = n(200);
    n.d(e, "n", function() {
        return g.a
    });
    var y = n(104);
    n.d(e, "o", function() {
        return y.a
    });
    var b = n(96);
    n.d(e, "p", function() {
        return b.a
    });
    var _ = n(201);
    n.d(e, "q", function() {
        return _.a
    });
    var x = n(52);
    n.d(e, "r", function() {
        return x.a
    });
    var w = n(101);
    n.d(e, "s", function() {
        return w.a
    });
    var M = n(202);
    n.d(e, "t", function() {
        return M.a
    });
    var E = n(203);
    n.d(e, "u", function() {
        return E.a
    });
    var T = n(204);
    n.d(e, "v", function() {
        return T.a
    });
    var S = n(102);
    n.d(e, "B", function() {
        return S.a
    }),
    n.d(e, "z", function() {
        return S.b
    }),
    n.d(e, "A", function() {
        return S.c
    });
    var O = n(105);
    n.d(e, "C", function() {
        return O.a
    });
    var A = n(98);
    n.d(e, "D", function() {
        return A.a
    });
    var L = n(205);
    n.d(e, "E", function() {
        return L.a
    })
}
, function(t, e, n) {
    "use strict";
    var r = n(214);
    n.d(e, "b", function() {
        return r.a
    });
    var i = n(35);
    n.d(e, "c", function() {
        return i.a
    });
    var o = n(244);
    n.d(e, "f", function() {
        return o.a
    });
    var a = n(108);
    n.d(e, "g", function() {
        return a.a
    });
    var s = n(245);
    n.d(e, "h", function() {
        return s.a
    });
    var u = n(54);
    n.d(e, "i", function() {
        return u.a
    });
    var c = n(55);
    n.d(e, "j", function() {
        return c.a
    });
    var f = n(36);
    n.d(e, "a", function() {
        return f.a
    });
    var l = n(106);
    n.d(e, "k", function() {
        return l.a
    });
    var h = n(246);
    n.d(e, "l", function() {
        return h.a
    });
    var d = n(8);
    n.d(e, "m", function() {
        return d.b
    });
    var p = n(56);
    n.d(e, "n", function() {
        return p.a
    });
    var m = n(107);
    n.d(e, "o", function() {
        return m.a
    });
    var v = n(111);
    n.d(e, "p", function() {
        return v.b
    });
    var g = n(247);
    n.d(e, "q", function() {
        return g.a
    });
    var y = n(248);
    n.d(e, "r", function() {
        return y.a
    });
    var b = n(57);
    n.d(e, "s", function() {
        return b.a
    });
    var _ = n(58);
    n.d(e, "e", function() {
        return _.c
    }),
    n.d(e, "d", function() {
        return _.a
    })
}
, function(t, e, n) {
    "use strict";
    e.a = function t(e, n, o, a) {
        function s(t) {
            return e(t = new Date(+t)),
            t
        }
        s.floor = s;
        s.ceil = function(t) {
            return e(t = new Date(t - 1)),
            n(t, 1),
            e(t),
            t
        }
        ;
        s.round = function(t) {
            var e = s(t)
              , n = s.ceil(t);
            return t - e < n - t ? e : n
        }
        ;
        s.offset = function(t, e) {
            return n(t = new Date(+t), null == e ? 1 : Math.floor(e)),
            t
        }
        ;
        s.range = function(t, r, i) {
            var o, a = [];
            if (t = s.ceil(t),
            i = null == i ? 1 : Math.floor(i),
            !(t < r && i > 0))
                return a;
            do {
                a.push(o = new Date(+t)),
                n(t, i),
                e(t)
            } while (o < t && t < r);return a
        }
        ;
        s.filter = function(r) {
            return t(function(t) {
                if (t >= t)
                    for (; e(t),
                    !r(t); )
                        t.setTime(t - 1)
            }, function(t, e) {
                if (t >= t)
                    if (e < 0)
                        for (; ++e <= 0; )
                            for (; n(t, -1),
                            !r(t); )
                                ;
                    else
                        for (; --e >= 0; )
                            for (; n(t, 1),
                            !r(t); )
                                ;
            })
        }
        ;
        o && (s.count = function(t, n) {
            return r.setTime(+t),
            i.setTime(+n),
            e(r),
            e(i),
            Math.floor(o(r, i))
        }
        ,
        s.every = function(t) {
            return t = Math.floor(t),
            isFinite(t) && t > 0 ? t > 1 ? s.filter(a ? function(e) {
                return a(e) % t == 0
            }
            : function(e) {
                return s.count(0, e) % t == 0
            }
            ) : s : null
        }
        );
        return s
    }
    ;
    var r = new Date
      , i = new Date
}
, function(t, e, n) {
    "use strict";
    e.b = function(t, e) {
        switch (arguments.length) {
        case 0:
            break;
        case 1:
            this.range(t);
            break;
        default:
            this.range(e).domain(t)
        }
        return this
    }
    ,
    e.a = function(t, e) {
        switch (arguments.length) {
        case 0:
            break;
        case 1:
            this.interpolator(t);
            break;
        default:
            this.interpolator(e).domain(t)
        }
        return this
    }
}
, function(t, e, n) {
    "use strict";
    n.d(e, "c", function() {
        return u
    }),
    n.d(e, "d", function() {
        return c
    }),
    n.d(e, "b", function() {
        return h
    }),
    n.d(e, "a", function() {
        return d
    }),
    e.g = function(t, e) {
        var n = p(t, e);
        if (n.state > s)
            throw new Error("too late; already scheduled");
        return n
    }
    ,
    e.h = function(t, e) {
        var n = p(t, e);
        if (n.state > f)
            throw new Error("too late; already running");
        return n
    }
    ,
    e.f = p;
    var r = n(22)
      , i = n(38)
      , o = Object(r.a)("start", "end", "cancel", "interrupt")
      , a = []
      , s = 0
      , u = 1
      , c = 2
      , f = 3
      , l = 4
      , h = 5
      , d = 6;
    function p(t, e) {
        var n = t.__transition;
        if (!n || !(n = n[e]))
            throw new Error("transition not found");
        return n
    }
    e.e = function(t, e, n, r, p, m) {
        var v = t.__transition;
        if (v) {
            if (n in v)
                return
        } else
            t.__transition = {};
        !function(t, e, n) {
            var r, o = t.__transition;
            function a(h) {
                var m, v, g, y;
                if (n.state !== u)
                    return p();
                for (m in o)
                    if ((y = o[m]).name === n.name) {
                        if (y.state === f)
                            return Object(i.c)(a);
                        y.state === l ? (y.state = d,
                        y.timer.stop(),
                        y.on.call("interrupt", t, t.__data__, y.index, y.group),
                        delete o[m]) : +m < e && (y.state = d,
                        y.timer.stop(),
                        y.on.call("cancel", t, t.__data__, y.index, y.group),
                        delete o[m])
                    }
                if (Object(i.c)(function() {
                    n.state === f && (n.state = l,
                    n.timer.restart(s, n.delay, n.time),
                    s(h))
                }),
                n.state = c,
                n.on.call("start", t, t.__data__, n.index, n.group),
                n.state === c) {
                    for (n.state = f,
                    r = new Array(g = n.tween.length),
                    m = 0,
                    v = -1; m < g; ++m)
                        (y = n.tween[m].value.call(t, t.__data__, n.index, n.group)) && (r[++v] = y);
                    r.length = v + 1
                }
            }
            function s(e) {
                for (var i = e < n.duration ? n.ease.call(null, e / n.duration) : (n.timer.restart(p),
                n.state = h,
                1), o = -1, a = r.length; ++o < a; )
                    r[o].call(t, i);
                n.state === h && (n.on.call("end", t, t.__data__, n.index, n.group),
                p())
            }
            function p() {
                for (var r in n.state = d,
                n.timer.stop(),
                delete o[e],
                o)
                    return;
                delete t.__transition
            }
            o[e] = n,
            n.timer = Object(i.d)(function(t) {
                n.state = u,
                n.timer.restart(a, n.delay, n.time),
                n.delay <= t && a(t - n.delay)
            }, 0, n.time)
        }(t, n, {
            name: e,
            index: r,
            group: p,
            on: o,
            tween: a,
            time: m.time,
            delay: m.delay,
            duration: m.duration,
            ease: m.ease,
            timer: null,
            state: s
        })
    }
}
, function(t, e, n) {
    "use strict";
    n.d(e, "c", function() {
        return N
    }),
    e.a = I;
    var r = n(215)
      , i = n(216)
      , o = n(217)
      , a = n(218)
      , s = n(109)
      , u = n(220)
      , c = n(221)
      , f = n(222)
      , l = n(223)
      , h = n(224)
      , d = n(225)
      , p = n(226)
      , m = n(227)
      , v = n(228)
      , g = n(229)
      , y = n(230)
      , b = n(231)
      , _ = n(111)
      , x = n(232)
      , w = n(233)
      , M = n(234)
      , E = n(235)
      , T = n(236)
      , S = n(237)
      , O = n(238)
      , A = n(239)
      , L = n(240)
      , R = n(241)
      , C = n(242)
      , j = n(58)
      , P = n(243)
      , N = [null];
    function I(t, e) {
        this._groups = t,
        this._parents = e
    }
    function D() {
        return new I([[document.documentElement]],N)
    }
    I.prototype = D.prototype = {
        constructor: I,
        select: r.a,
        selectAll: i.a,
        filter: o.a,
        data: a.a,
        enter: s.b,
        exit: u.a,
        join: c.a,
        merge: f.a,
        order: l.a,
        sort: h.a,
        call: d.a,
        nodes: p.a,
        node: m.a,
        size: v.a,
        empty: g.a,
        each: y.a,
        attr: b.a,
        style: _.a,
        property: x.a,
        classed: w.a,
        text: M.a,
        html: E.a,
        raise: T.a,
        lower: S.a,
        append: O.a,
        insert: A.a,
        remove: L.a,
        clone: R.a,
        datum: C.a,
        on: j.b,
        dispatch: P.a
    },
    e.b = D
}
, function(t, e, n) {
    "use strict";
    var r = n(61);
    n.d(e, "a", function() {
        return r.e
    }),
    n.d(e, "h", function() {
        return r.g
    }),
    n.d(e, "e", function() {
        return r.f
    });
    var i = n(251);
    n.d(e, "f", function() {
        return i.a
    }),
    n.d(e, "d", function() {
        return i.c
    }),
    n.d(e, "g", function() {
        return i.d
    }),
    n.d(e, "c", function() {
        return i.b
    });
    var o = n(252);
    n.d(e, "b", function() {
        return o.a
    })
}
, function(t, e, n) {
    "use strict";
    e.a = function(t) {
        return m(function() {
            return t
        })()
    }
    ,
    e.b = m;
    var r = n(137)
      , i = n(143)
      , o = n(43)
      , a = n(136)
      , s = n(74)
      , u = n(0)
      , c = n(42)
      , f = n(44)
      , l = n(77)
      , h = n(376)
      , d = Object(f.b)({
        point: function(t, e) {
            this.stream.point(t * u.r, e * u.r)
        }
    });
    function p(t, e, n, r) {
        var i = Object(u.g)(r)
          , o = Object(u.t)(r)
          , a = i * t
          , s = o * t
          , c = i / t
          , f = o / t
          , l = (o * n - i * e) / t
          , h = (o * e + i * n) / t;
        function d(t, r) {
            return [a * t - s * r + e, n - s * t - a * r]
        }
        return d.invert = function(t, e) {
            return [c * t - f * e + l, h - f * t - c * e]
        }
        ,
        d
    }
    function m(t) {
        var e, n, m, v, g, y, b, _, x, w, M = 150, E = 480, T = 250, S = 0, O = 0, A = 0, L = 0, R = 0, C = 0, j = null, P = r.a, N = null, I = s.a, D = .5;
        function U(t) {
            return _(t[0] * u.r, t[1] * u.r)
        }
        function z(t) {
            return (t = _.invert(t[0], t[1])) && [t[0] * u.h, t[1] * u.h]
        }
        function B() {
            var t = p(M, 0, 0, C).apply(null, e(S, O))
              , r = (C ? p : function(t, e, n) {
                function r(r, i) {
                    return [e + t * r, n - t * i]
                }
                return r.invert = function(r, i) {
                    return [(r - e) / t, (n - i) / t]
                }
                ,
                r
            }
            )(M, E - t[0], T - t[1], C);
            return n = Object(c.b)(A, L, R),
            b = Object(a.a)(e, r),
            _ = Object(a.a)(n, b),
            y = Object(h.a)(b, D),
            k()
        }
        function k() {
            return x = w = null,
            U
        }
        return U.stream = function(t) {
            return x && w === t ? x : x = d(function(t) {
                return Object(f.b)({
                    point: function(e, n) {
                        var r = t(e, n);
                        return this.stream.point(r[0], r[1])
                    }
                })
            }(n)(P(y(I(w = t)))))
        }
        ,
        U.preclip = function(t) {
            return arguments.length ? (P = t,
            j = void 0,
            k()) : P
        }
        ,
        U.postclip = function(t) {
            return arguments.length ? (I = t,
            N = m = v = g = null,
            k()) : I
        }
        ,
        U.clipAngle = function(t) {
            return arguments.length ? (P = +t ? Object(i.a)(j = t * u.r) : (j = null,
            r.a),
            k()) : j * u.h
        }
        ,
        U.clipExtent = function(t) {
            return arguments.length ? (I = null == t ? (N = m = v = g = null,
            s.a) : Object(o.a)(N = +t[0][0], m = +t[0][1], v = +t[1][0], g = +t[1][1]),
            k()) : null == N ? null : [[N, m], [v, g]]
        }
        ,
        U.scale = function(t) {
            return arguments.length ? (M = +t,
            B()) : M
        }
        ,
        U.translate = function(t) {
            return arguments.length ? (E = +t[0],
            T = +t[1],
            B()) : [E, T]
        }
        ,
        U.center = function(t) {
            return arguments.length ? (S = t[0] % 360 * u.r,
            O = t[1] % 360 * u.r,
            B()) : [S * u.h, O * u.h]
        }
        ,
        U.rotate = function(t) {
            return arguments.length ? (A = t[0] % 360 * u.r,
            L = t[1] % 360 * u.r,
            R = t.length > 2 ? t[2] % 360 * u.r : 0,
            B()) : [A * u.h, L * u.h, R * u.h]
        }
        ,
        U.angle = function(t) {
            return arguments.length ? (C = t % 360 * u.r,
            B()) : C * u.h
        }
        ,
        U.precision = function(t) {
            return arguments.length ? (y = Object(h.a)(b, D = t * t),
            k()) : Object(u.u)(D)
        }
        ,
        U.fitExtent = function(t, e) {
            return Object(l.a)(U, t, e)
        }
        ,
        U.fitSize = function(t, e) {
            return Object(l.c)(U, t, e)
        }
        ,
        U.fitWidth = function(t, e) {
            return Object(l.d)(U, t, e)
        }
        ,
        U.fitHeight = function(t, e) {
            return Object(l.b)(U, t, e)
        }
        ,
        function() {
            return e = t.apply(this, arguments),
            U.invert = e.invert && z,
            B()
        }
    }
}
, function(t, e, n) {
    "use strict";
    var r = n(60);
    n.d(e, "a", function() {
        return r.a
    });
    var i = n(118);
    n.d(e, "b", function() {
        return i.a
    });
    var o = n(63);
    n.d(e, "c", function() {
        return o.b
    });
    var a = n(116);
    n.d(e, "d", function() {
        return a.a
    });
    var s = n(119);
    n.d(e, "g", function() {
        return s.a
    });
    var u = n(253);
    n.d(e, "h", function() {
        return u.a
    });
    var c = n(254);
    n.d(e, "m", function() {
        return c.a
    });
    var f = n(37);
    n.d(e, "o", function() {
        return f.a
    });
    var l = n(120);
    n.d(e, "p", function() {
        return l.a
    });
    var h = n(255);
    n.d(e, "t", function() {
        return h.a
    });
    var d = n(121);
    n.d(e, "u", function() {
        return d.a
    });
    var p = n(256);
    n.d(e, "v", function() {
        return p.a
    }),
    n.d(e, "w", function() {
        return p.b
    });
    var m = n(259);
    n.d(e, "x", function() {
        return m.a
    });
    var v = n(115);
    n.d(e, "q", function() {
        return v.a
    }),
    n.d(e, "r", function() {
        return v.b
    }),
    n.d(e, "s", function() {
        return v.c
    });
    var g = n(260);
    n.d(e, "k", function() {
        return g.a
    }),
    n.d(e, "l", function() {
        return g.b
    });
    var y = n(261);
    n.d(e, "n", function() {
        return y.a
    });
    var b = n(262);
    n.d(e, "i", function() {
        return b.a
    }),
    n.d(e, "j", function() {
        return b.b
    });
    var _ = n(263);
    n.d(e, "e", function() {
        return _.b
    }),
    n.d(e, "f", function() {
        return _.a
    });
    var x = n(264);
    n.d(e, "y", function() {
        return x.a
    });
    var w = n(265);
    n.d(e, "z", function() {
        return w.a
    })
}
, function(t, e, n) {
    "use strict";
    n.d(e, "d", function() {
        return r
    }),
    n.d(e, "c", function() {
        return i
    }),
    n.d(e, "b", function() {
        return o
    }),
    n.d(e, "a", function() {
        return a
    }),
    n.d(e, "e", function() {
        return s
    });
    var r = 1e3
      , i = 6e4
      , o = 36e5
      , a = 864e5
      , s = 6048e5
}
, function(t, e, n) {
    "use strict";
    e.a = M,
    e.b = E,
    e.c = function() {
        return ++w
    }
    ;
    var r = n(4)
      , i = n(271)
      , o = n(272)
      , a = n(273)
      , s = n(274)
      , u = n(275)
      , c = n(276)
      , f = n(277)
      , l = n(278)
      , h = n(279)
      , d = n(280)
      , p = n(281)
      , m = n(282)
      , v = n(283)
      , g = n(284)
      , y = n(285)
      , b = n(286)
      , _ = n(39)
      , x = n(287)
      , w = 0;
    function M(t, e, n, r) {
        this._groups = t,
        this._parents = e,
        this._name = n,
        this._id = r
    }
    function E(t) {
        return Object(r.m)().transition(t)
    }
    var T = r.m.prototype;
    M.prototype = E.prototype = {
        constructor: M,
        select: d.a,
        selectAll: p.a,
        filter: c.a,
        merge: f.a,
        selection: m.a,
        transition: b.a,
        call: T.call,
        nodes: T.nodes,
        node: T.node,
        size: T.size,
        empty: T.empty,
        each: T.each,
        on: l.a,
        attr: i.a,
        attrTween: o.a,
        style: v.a,
        styleTween: g.a,
        text: y.a,
        remove: h.a,
        tween: _.a,
        delay: a.a,
        duration: s.a,
        ease: u.a,
        end: x.a
    }
}
, function(t, e, n) {
    "use strict";
    e.a = function() {}
}
, function(t, e, n) {
    "use strict";
    e.c = c,
    e.a = function(t, e) {
        return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())
    }
    ,
    e.d = p,
    e.b = function(t, e) {
        return p()(t, e)
    }
    ;
    var r = n(3)
      , i = n(11)
      , o = n(18)
      , a = n(427)
      , s = n(156)
      , u = [0, 1];
    function c(t) {
        return t
    }
    function f(t, e) {
        return (e -= t = +t) ? function(n) {
            return (n - t) / e
        }
        : Object(a.a)(isNaN(e) ? NaN : .5)
    }
    function l(t) {
        var e, n = t[0], r = t[t.length - 1];
        return n > r && (e = n,
        n = r,
        r = e),
        function(t) {
            return Math.max(n, Math.min(r, t))
        }
    }
    function h(t, e, n) {
        var r = t[0]
          , i = t[1]
          , o = e[0]
          , a = e[1];
        return i < r ? (r = f(i, r),
        o = n(a, o)) : (r = f(r, i),
        o = n(o, a)),
        function(t) {
            return o(r(t))
        }
    }
    function d(t, e, n) {
        var i = Math.min(t.length, e.length) - 1
          , o = new Array(i)
          , a = new Array(i)
          , s = -1;
        for (t[i] < t[0] && (t = t.slice().reverse(),
        e = e.slice().reverse()); ++s < i; )
            o[s] = f(t[s], t[s + 1]),
            a[s] = n(e[s], e[s + 1]);
        return function(e) {
            var n = Object(r.b)(t, e, 1, i) - 1;
            return a[n](o[n](e))
        }
    }
    function p() {
        var t, e, n, r, a, f, p = u, m = u, v = i.a, g = c;
        function y() {
            return r = Math.min(p.length, m.length) > 2 ? d : h,
            a = f = null,
            b
        }
        function b(e) {
            return isNaN(e = +e) ? n : (a || (a = r(p.map(t), m, v)))(t(g(e)))
        }
        return b.invert = function(n) {
            return g(e((f || (f = r(m, p.map(t), i.o)))(n)))
        }
        ,
        b.domain = function(t) {
            return arguments.length ? (p = o.a.call(t, s.a),
            g === c || (g = l(p)),
            y()) : p.slice()
        }
        ,
        b.range = function(t) {
            return arguments.length ? (m = o.b.call(t),
            y()) : m.slice()
        }
        ,
        b.rangeRound = function(t) {
            return m = o.b.call(t),
            v = i.t,
            y()
        }
        ,
        b.clamp = function(t) {
            return arguments.length ? (g = t ? l(p) : c,
            b) : g !== c
        }
        ,
        b.interpolate = function(t) {
            return arguments.length ? (v = t,
            y()) : v
        }
        ,
        b.unknown = function(t) {
            return arguments.length ? (n = t,
            b) : n
        }
        ,
        function(n, r) {
            return t = n,
            e = r,
            y()
        }
    }
}
, function(t, e, n) {
    "use strict";
    var r = n(307);
    n.d(e, "a", function() {
        return r.a
    })
}
, function(t, e, n) {
    "use strict";
    function r(t, e) {
        t && o.hasOwnProperty(t.type) && o[t.type](t, e)
    }
    var i = {
        Feature: function(t, e) {
            r(t.geometry, e)
        },
        FeatureCollection: function(t, e) {
            for (var n = t.features, i = -1, o = n.length; ++i < o; )
                r(n[i].geometry, e)
        }
    }
      , o = {
        Sphere: function(t, e) {
            e.sphere()
        },
        Point: function(t, e) {
            t = t.coordinates,
            e.point(t[0], t[1], t[2])
        },
        MultiPoint: function(t, e) {
            for (var n = t.coordinates, r = -1, i = n.length; ++r < i; )
                t = n[r],
                e.point(t[0], t[1], t[2])
        },
        LineString: function(t, e) {
            a(t.coordinates, e, 0)
        },
        MultiLineString: function(t, e) {
            for (var n = t.coordinates, r = -1, i = n.length; ++r < i; )
                a(n[r], e, 0)
        },
        Polygon: function(t, e) {
            s(t.coordinates, e)
        },
        MultiPolygon: function(t, e) {
            for (var n = t.coordinates, r = -1, i = n.length; ++r < i; )
                s(n[r], e)
        },
        GeometryCollection: function(t, e) {
            for (var n = t.geometries, i = -1, o = n.length; ++i < o; )
                r(n[i], e)
        }
    };
    function a(t, e, n) {
        var r, i = -1, o = t.length - n;
        for (e.lineStart(); ++i < o; )
            r = t[i],
            e.point(r[0], r[1], r[2]);
        e.lineEnd()
    }
    function s(t, e) {
        var n = -1
          , r = t.length;
        for (e.polygonStart(); ++n < r; )
            a(t[n], e, 1);
        e.polygonEnd()
    }
    e.a = function(t, e) {
        t && i.hasOwnProperty(t.type) ? i[t.type](t, e) : r(t, e)
    }
}
, function(t, e, n) {
    "use strict";
    n.d(e, "a", function() {
        return i
    }),
    n.d(e, "b", function() {
        return o
    });
    var r = Array.prototype
      , i = r.map
      , o = r.slice
}
, function(t, e, n) {
    "use strict";
    e.b = s,
    e.a = function t() {
        var e = Object(i.b)(i.c, i.c);
        e.copy = function() {
            return Object(i.a)(e, t())
        }
        ;
        o.b.apply(e, arguments);
        return s(e)
    }
    ;
    var r = n(3)
      , i = n(15)
      , o = n(6)
      , a = n(157);
    function s(t) {
        var e = t.domain;
        return t.ticks = function(t) {
            var n = e();
            return Object(r.B)(n[0], n[n.length - 1], null == t ? 10 : t)
        }
        ,
        t.tickFormat = function(t, n) {
            var r = e();
            return Object(a.a)(r[0], r[r.length - 1], null == t ? 10 : t, n)
        }
        ,
        t.nice = function(n) {
            null == n && (n = 10);
            var i, o = e(), a = 0, s = o.length - 1, u = o[a], c = o[s];
            return c < u && (i = u,
            u = c,
            c = i,
            i = a,
            a = s,
            s = i),
            (i = Object(r.z)(u, c, n)) > 0 ? (u = Math.floor(u / i) * i,
            c = Math.ceil(c / i) * i,
            i = Object(r.z)(u, c, n)) : i < 0 && (u = Math.ceil(u * i) / i,
            c = Math.floor(c * i) / i,
            i = Object(r.z)(u, c, n)),
            i > 0 ? (o[a] = Math.floor(u / i) * i,
            o[s] = Math.ceil(c / i) * i,
            e(o)) : i < 0 && (o[a] = Math.ceil(u * i) / i,
            o[s] = Math.floor(c * i) / i,
            e(o)),
            t
        }
        ,
        t
    }
}
, function(t, e, n) {
    "use strict";
    e.a = function(t) {
        return function() {
            return t
        }
    }
}
, function(t, e, n) {
    "use strict";
    e.a = function(t, e) {
        return t < e ? -1 : t > e ? 1 : t >= e ? 0 : NaN
    }
}
, function(t, e, n) {
    "use strict";
    var r = n(212);
    n.d(e, "a", function() {
        return r.a
    })
}
, function(t, e, n) {
    "use strict";
    e.c = function(t, e) {
        var n = e - t;
        return n ? i(t, n > 180 || n < -180 ? n - 360 * Math.round(n / 360) : n) : Object(r.a)(isNaN(t) ? e : t)
    }
    ,
    e.b = function(t) {
        return 1 == (t = +t) ? o : function(e, n) {
            return n - e ? function(t, e, n) {
                return t = Math.pow(t, n),
                e = Math.pow(e, n) - t,
                n = 1 / n,
                function(r) {
                    return Math.pow(t + r * e, n)
                }
            }(e, n, t) : Object(r.a)(isNaN(e) ? n : e)
        }
    }
    ,
    e.a = o;
    var r = n(117);
    function i(t, e) {
        return function(n) {
            return t + n * e
        }
    }
    function o(t, e) {
        var n = e - t;
        return n ? i(t, n) : Object(r.a)(isNaN(t) ? e : t)
    }
}
, function(t, e, n) {
    "use strict";
    e.a = function(t) {
        return function() {
            return t
        }
    }
}
, function(t, e, n) {
    "use strict";
    function r() {
        this.reset()
    }
    e.a = function() {
        return new r
    }
    ,
    r.prototype = {
        constructor: r,
        reset: function() {
            this.s = this.t = 0
        },
        add: function(t) {
            o(i, t, this.t),
            o(this, i.s, this.s),
            this.s ? this.t += i.t : this.s = i.t
        },
        valueOf: function() {
            return this.s
        }
    };
    var i = new r;
    function o(t, e, n) {
        var r = t.s = e + n
          , i = r - e
          , o = r - i;
        t.t = e - o + (n - i)
    }
}
, function(t, e, n) {
    "use strict";
    e.a = function() {
        return Math.random()
    }
}
, function(t, e, n) {
    "use strict";
    e.a = function(t) {
        return null === t ? NaN : +t
    }
}
, function(t, e, n) {
    "use strict";
    e.g = function(t) {
        return [Object(r.e)(t[1], t[0]), Object(r.c)(t[2])]
    }
    ,
    e.a = function(t) {
        var e = t[0]
          , n = t[1]
          , i = Object(r.g)(n);
        return [i * Object(r.g)(e), i * Object(r.t)(e), Object(r.t)(n)]
    }
    ,
    e.d = function(t, e) {
        return t[0] * e[0] + t[1] * e[1] + t[2] * e[2]
    }
    ,
    e.c = function(t, e) {
        return [t[1] * e[2] - t[2] * e[1], t[2] * e[0] - t[0] * e[2], t[0] * e[1] - t[1] * e[0]]
    }
    ,
    e.b = function(t, e) {
        t[0] += e[0],
        t[1] += e[1],
        t[2] += e[2]
    }
    ,
    e.f = function(t, e) {
        return [t[0] * e, t[1] * e, t[2] * e]
    }
    ,
    e.e = function(t) {
        var e = Object(r.u)(t[0] * t[0] + t[1] * t[1] + t[2] * t[2]);
        t[0] /= e,
        t[1] /= e,
        t[2] /= e
    }
    ;
    var r = n(0)
}
, function(t, e, n) {
    "use strict";
    e.b = function(t) {
        return function(e, n) {
            var i = Object(r.g)(e)
              , o = Object(r.g)(n)
              , a = t(i * o);
            return [a * o * Object(r.t)(e), a * Object(r.t)(n)]
        }
    }
    ,
    e.a = function(t) {
        return function(e, n) {
            var i = Object(r.u)(e * e + n * n)
              , o = t(i)
              , a = Object(r.t)(o)
              , s = Object(r.g)(o);
            return [Object(r.e)(e * a, i * s), Object(r.c)(i && n * a / i)]
        }
    }
    ;
    var r = n(0)
}
, function(t, e, n) {
    "use strict";
    e.a = function(t, e, n, r, i) {
        for (var o, a = t.children, s = -1, u = a.length, c = t.value && (r - e) / t.value; ++s < u; )
            (o = a[s]).y0 = n,
            o.y1 = i,
            o.x0 = e,
            o.x1 = e += o.value * c
    }
}
, function(t, e, n) {
    "use strict";
    n.d(e, "a", function() {
        return r
    }),
    n.d(e, "d", function() {
        return i
    }),
    n.d(e, "e", function() {
        return o
    }),
    n.d(e, "h", function() {
        return a
    }),
    n.d(e, "i", function() {
        return s
    }),
    n.d(e, "k", function() {
        return u
    }),
    n.d(e, "l", function() {
        return c
    }),
    n.d(e, "f", function() {
        return f
    }),
    n.d(e, "j", function() {
        return l
    }),
    n.d(e, "g", function() {
        return h
    }),
    n.d(e, "m", function() {
        return d
    }),
    e.b = function(t) {
        return t > 1 ? 0 : t < -1 ? l : Math.acos(t)
    }
    ,
    e.c = function(t) {
        return t >= 1 ? h : t <= -1 ? -h : Math.asin(t)
    }
    ;
    var r = Math.abs
      , i = Math.atan2
      , o = Math.cos
      , a = Math.max
      , s = Math.min
      , u = Math.sin
      , c = Math.sqrt
      , f = 1e-12
      , l = Math.PI
      , h = l / 2
      , d = 2 * l
}
, function(t, e, n) {
    "use strict";
    e.a = function(t, e) {
        if ((i = t.length) > 1)
            for (var n, r, i, o = 1, a = t[e[0]], s = a.length; o < i; ++o)
                for (r = a,
                a = t[e[o]],
                n = 0; n < s; ++n)
                    a[n][1] += a[n][0] = isNaN(r[n][1]) ? r[n][0] : r[n][1]
    }
}
, function(t, e, n) {
    "use strict";
    e.a = function(t) {
        for (var e = t.length, n = new Array(e); --e >= 0; )
            n[e] = e;
        return n
    }
}
, function(t, e, n) {
    "use strict";
    n.d(e, "f", function() {
        return h
    }),
    n.d(e, "g", function() {
        return d
    }),
    n.d(e, "a", function() {
        return r
    }),
    n.d(e, "b", function() {
        return i
    }),
    n.d(e, "c", function() {
        return o
    }),
    n.d(e, "e", function() {
        return a
    }),
    e.d = m;
    var r, i, o, a, s = n(519), u = n(178), c = n(179), f = n(92), l = n(91), h = 1e-6, d = 1e-12;
    function p(t, e) {
        return e[1] - t[1] || e[0] - t[0]
    }
    function m(t, e) {
        var n, h, d, m = t.sort(p).pop();
        for (a = [],
        i = new Array(t.length),
        r = new l.b,
        o = new l.b; ; )
            if (d = c.c,
            m && (!d || m[1] < d.y || m[1] === d.y && m[0] < d.x))
                m[0] === n && m[1] === h || (Object(s.a)(m),
                n = m[0],
                h = m[1]),
                m = t.pop();
            else {
                if (!d)
                    break;
                Object(s.b)(d.arc)
            }
        if (Object(u.d)(),
        e) {
            var v = +e[0][0]
              , g = +e[0][1]
              , y = +e[1][0]
              , b = +e[1][1];
            Object(f.a)(v, g, y, b),
            Object(u.b)(v, g, y, b)
        }
        this.edges = a,
        this.cells = i,
        r = o = a = i = null
    }
    m.prototype = {
        constructor: m,
        polygons: function() {
            var t = this.edges;
            return this.cells.map(function(e) {
                var n = e.halfedges.map(function(n) {
                    return Object(u.a)(e, t[n])
                });
                return n.data = e.site.data,
                n
            })
        },
        triangles: function() {
            var t = []
              , e = this.edges;
            return this.cells.forEach(function(n, r) {
                if (o = (i = n.halfedges).length)
                    for (var i, o, a, s, u, c, f = n.site, l = -1, h = e[i[o - 1]], d = h.left === f ? h.right : h.left; ++l < o; )
                        a = d,
                        d = (h = e[i[l]]).left === f ? h.right : h.left,
                        a && d && r < a.index && r < d.index && (u = a,
                        c = d,
                        ((s = f)[0] - c[0]) * (u[1] - s[1]) - (s[0] - u[0]) * (c[1] - s[1]) < 0) && t.push([f.data, a.data, d.data])
            }),
            t
        },
        links: function() {
            return this.edges.filter(function(t) {
                return t.right
            }).map(function(t) {
                return {
                    source: t.left.data,
                    target: t.right.data
                }
            })
        },
        find: function(t, e, n) {
            for (var r, i, o = this, a = o._found || 0, s = o.cells.length; !(i = o.cells[a]); )
                if (++a >= s)
                    return null;
            var u = t - i.site[0]
              , c = e - i.site[1]
              , f = u * u + c * c;
            do {
                i = o.cells[r = a],
                a = null,
                i.halfedges.forEach(function(n) {
                    var r = o.edges[n]
                      , s = r.left;
                    if (s !== i.site && s || (s = r.right)) {
                        var u = t - s[0]
                          , c = e - s[1]
                          , l = u * u + c * c;
                        l < f && (f = l,
                        a = s.index)
                    }
                })
            } while (null !== a);return o._found = r,
            null == n || f <= n * n ? i.site : null
        }
    }
}
, function(t, e, n) {
    "use strict";
    var r = n(54)
      , i = n(55);
    e.a = function(t) {
        var e = Object(r.a)(t);
        return (e.local ? function(t) {
            return function() {
                return this.ownerDocument.createElementNS(t.space, t.local)
            }
        }
        : function(t) {
            return function() {
                var e = this.ownerDocument
                  , n = this.namespaceURI;
                return n === i.b && e.documentElement.namespaceURI === i.b ? e.createElement(t) : e.createElementNS(n, t)
            }
        }
        )(e)
    }
}
, function(t, e, n) {
    "use strict";
    e.a = function(t, e) {
        var n = t.ownerSVGElement || t;
        if (n.createSVGPoint) {
            var r = n.createSVGPoint();
            return r.x = e.clientX,
            r.y = e.clientY,
            [(r = r.matrixTransform(t.getScreenCTM().inverse())).x, r.y]
        }
        var i = t.getBoundingClientRect();
        return [e.clientX - i.left - t.clientLeft, e.clientY - i.top - t.clientTop]
    }
}
, function(t, e, n) {
    "use strict";
    e.a = function(t, e) {
        return e -= t = +t,
        function(n) {
            return t + e * n
        }
    }
}
, function(t, e, n) {
    "use strict";
    var r = n(65);
    n.d(e, "b", function() {
        return r.b
    }),
    n.d(e, "d", function() {
        return r.c
    }),
    n.d(e, "e", function() {
        return r.d
    });
    var i = n(268);
    n.d(e, "c", function() {
        return i.a
    });
    var o = n(269);
    n.d(e, "a", function() {
        return o.a
    })
}
, function(t, e, n) {
    "use strict";
    e.b = function(t, e, n) {
        var i = t._id;
        return t.each(function() {
            var t = Object(r.h)(this, i);
            (t.value || (t.value = {}))[e] = n.apply(this, arguments)
        }),
        function(t) {
            return Object(r.f)(t, i).value[e]
        }
    }
    ;
    var r = n(7);
    e.a = function(t, e) {
        var n = this._id;
        if (t += "",
        arguments.length < 2) {
            for (var i, o = Object(r.f)(this.node(), n).tween, a = 0, s = o.length; a < s; ++a)
                if ((i = o[a]).name === t)
                    return i.value;
            return null
        }
        return this.each((null == e ? function(t, e) {
            var n, i;
            return function() {
                var o = Object(r.h)(this, t)
                  , a = o.tween;
                if (a !== n)
                    for (var s = 0, u = (i = n = a).length; s < u; ++s)
                        if (i[s].name === e) {
                            (i = i.slice()).splice(s, 1);
                            break
                        }
                o.tween = i
            }
        }
        : function(t, e, n) {
            var i, o;
            if ("function" != typeof n)
                throw new Error;
            return function() {
                var a = Object(r.h)(this, t)
                  , s = a.tween;
                if (s !== i) {
                    o = (i = s).slice();
                    for (var u = {
                        name: e,
                        value: n
                    }, c = 0, f = o.length; c < f; ++c)
                        if (o[c].name === e) {
                            o[c] = u;
                            break
                        }
                    c === f && o.push(u)
                }
                a.tween = o
            }
        }
        )(n, t, e))
    }
}
, function(t, e, n) {
    "use strict";
    var r = n(308);
    n.d(e, "d", function() {
        return r.a
    });
    var i = n(309);
    n.d(e, "e", function() {
        return i.a
    });
    var o = n(66);
    n.d(e, "c", function() {
        return o.a
    });
    var a = n(310);
    n.d(e, "b", function() {
        return a.a
    });
    var s = n(311);
    n.d(e, "f", function() {
        return s.a
    });
    var u = n(312);
    n.d(e, "a", function() {
        return u.a
    })
}
, function(t, e, n) {
    "use strict";
    var r = n(73);
    e.a = function(t) {
        return (t = Object(r.a)(Math.abs(t))) ? t[1] : NaN
    }
}
, function(t, e, n) {
    "use strict";
    e.b = a;
    var r = n(136)
      , i = n(0);
    function o(t, e) {
        return [Object(i.a)(t) > i.o ? t + Math.round(-t / i.w) * i.w : t, e]
    }
    function a(t, e, n) {
        return (t %= i.w) ? e || n ? Object(r.a)(u(t), c(e, n)) : u(t) : e || n ? c(e, n) : o
    }
    function s(t) {
        return function(e, n) {
            return [(e += t) > i.o ? e - i.w : e < -i.o ? e + i.w : e, n]
        }
    }
    function u(t) {
        var e = s(t);
        return e.invert = s(-t),
        e
    }
    function c(t, e) {
        var n = Object(i.g)(t)
          , r = Object(i.t)(t)
          , o = Object(i.g)(e)
          , a = Object(i.t)(e);
        function s(t, e) {
            var s = Object(i.g)(e)
              , u = Object(i.g)(t) * s
              , c = Object(i.t)(t) * s
              , f = Object(i.t)(e)
              , l = f * n + u * r;
            return [Object(i.e)(c * o - l * a, u * n - f * r), Object(i.c)(l * o + c * a)]
        }
        return s.invert = function(t, e) {
            var s = Object(i.g)(e)
              , u = Object(i.g)(t) * s
              , c = Object(i.t)(t) * s
              , f = Object(i.t)(e)
              , l = f * o - c * a;
            return [Object(i.e)(c * o + f * a, u * n + l * r), Object(i.c)(l * n - u * r)]
        }
        ,
        s
    }
    o.invert = o,
    e.a = function(t) {
        function e(e) {
            return (e = t(e[0] * i.r, e[1] * i.r))[0] *= i.h,
            e[1] *= i.h,
            e
        }
        return t = a(t[0] * i.r, t[1] * i.r, t.length > 2 ? t[2] * i.r : 0),
        e.invert = function(e) {
            return (e = t.invert(e[0] * i.r, e[1] * i.r))[0] *= i.h,
            e[1] *= i.h,
            e
        }
        ,
        e
    }
}
, function(t, e, n) {
    "use strict";
    e.a = function(t, e, n, f) {
        function l(r, i) {
            return t <= r && r <= n && e <= i && i <= f
        }
        function h(r, i, o, a) {
            var s = 0
              , u = 0;
            if (null == r || (s = d(r, o)) !== (u = d(i, o)) || m(r, i) < 0 ^ o > 0)
                do {
                    a.point(0 === s || 3 === s ? t : n, s > 1 ? f : e)
                } while ((s = (s + o + 4) % 4) !== u);
            else
                a.point(i[0], i[1])
        }
        function d(i, o) {
            return Object(r.a)(i[0] - t) < r.i ? o > 0 ? 0 : 3 : Object(r.a)(i[0] - n) < r.i ? o > 0 ? 2 : 1 : Object(r.a)(i[1] - e) < r.i ? o > 0 ? 1 : 0 : o > 0 ? 3 : 2
        }
        function p(t, e) {
            return m(t.x, e.x)
        }
        function m(t, e) {
            var n = d(t, 1)
              , r = d(e, 1);
            return n !== r ? n - r : 0 === n ? e[1] - t[1] : 1 === n ? t[0] - e[0] : 2 === n ? t[1] - e[1] : e[0] - t[0]
        }
        return function(r) {
            var d, m, v, g, y, b, _, x, w, M, E, T = r, S = Object(i.a)(), O = {
                point: A,
                lineStart: function() {
                    O.point = L,
                    m && m.push(v = []);
                    M = !0,
                    w = !1,
                    _ = x = NaN
                },
                lineEnd: function() {
                    d && (L(g, y),
                    b && w && S.rejoin(),
                    d.push(S.result()));
                    O.point = A,
                    w && T.lineEnd()
                },
                polygonStart: function() {
                    T = S,
                    d = [],
                    m = [],
                    E = !0
                },
                polygonEnd: function() {
                    var e = function() {
                        for (var e = 0, n = 0, r = m.length; n < r; ++n)
                            for (var i, o, a = m[n], s = 1, u = a.length, c = a[0], l = c[0], h = c[1]; s < u; ++s)
                                i = l,
                                o = h,
                                c = a[s],
                                l = c[0],
                                h = c[1],
                                o <= f ? h > f && (l - i) * (f - o) > (h - o) * (t - i) && ++e : h <= f && (l - i) * (f - o) < (h - o) * (t - i) && --e;
                        return e
                    }()
                      , n = E && e
                      , i = (d = Object(s.n)(d)).length;
                    (n || i) && (r.polygonStart(),
                    n && (r.lineStart(),
                    h(null, null, 1, r),
                    r.lineEnd()),
                    i && Object(a.a)(d, p, e, h, r),
                    r.polygonEnd());
                    T = r,
                    d = m = v = null
                }
            };
            function A(t, e) {
                l(t, e) && T.point(t, e)
            }
            function L(r, i) {
                var a = l(r, i);
                if (m && v.push([r, i]),
                M)
                    g = r,
                    y = i,
                    b = a,
                    M = !1,
                    a && (T.lineStart(),
                    T.point(r, i));
                else if (a && w)
                    T.point(r, i);
                else {
                    var s = [_ = Math.max(c, Math.min(u, _)), x = Math.max(c, Math.min(u, x))]
                      , h = [r = Math.max(c, Math.min(u, r)), i = Math.max(c, Math.min(u, i))];
                    Object(o.a)(s, h, t, e, n, f) ? (w || (T.lineStart(),
                    T.point(s[0], s[1])),
                    T.point(h[0], h[1]),
                    a || T.lineEnd(),
                    E = !1) : a && (T.lineStart(),
                    T.point(r, i),
                    E = !1)
                }
                _ = r,
                x = i,
                w = a
            }
            return O
        }
    }
    ;
    var r = n(0)
      , i = n(139)
      , o = n(366)
      , a = n(140)
      , s = n(3)
      , u = 1e9
      , c = -u
}
, function(t, e, n) {
    "use strict";
    function r(t) {
        return function(e) {
            var n = new i;
            for (var r in t)
                n[r] = t[r];
            return n.stream = e,
            n
        }
    }
    function i() {}
    e.b = r,
    e.a = function(t) {
        return {
            stream: r(t)
        }
    }
    ,
    i.prototype = {
        constructor: i,
        point: function(t, e) {
            this.stream.point(t, e)
        },
        sphere: function() {
            this.stream.sphere()
        },
        lineStart: function() {
            this.stream.lineStart()
        },
        lineEnd: function() {
            this.stream.lineEnd()
        },
        polygonStart: function() {
            this.stream.polygonStart()
        },
        polygonEnd: function() {
            this.stream.polygonEnd()
        }
    }
}
, function(t, e, n) {
    "use strict";
    e.a = function(t, e, n, r, i) {
        for (var o, a = t.children, s = -1, u = a.length, c = t.value && (i - n) / t.value; ++s < u; )
            (o = a[s]).x0 = e,
            o.x1 = r,
            o.y0 = n,
            o.y1 = n += o.value * c
    }
}
, function(t, e, n) {
    "use strict";
    var r = n(5);
    n.d(e, "g", function() {
        return r.a
    });
    var i = n(431);
    n.d(e, "h", function() {
        return i.a
    }),
    n.d(e, "i", function() {
        return i.b
    }),
    n.d(e, "L", function() {
        return i.a
    }),
    n.d(e, "M", function() {
        return i.b
    });
    var o = n(432);
    n.d(e, "r", function() {
        return o.a
    }),
    n.d(e, "s", function() {
        return o.b
    }),
    n.d(e, "V", function() {
        return o.a
    }),
    n.d(e, "W", function() {
        return o.b
    });
    var a = n(433);
    n.d(e, "j", function() {
        return a.a
    }),
    n.d(e, "k", function() {
        return a.b
    });
    var s = n(434);
    n.d(e, "e", function() {
        return s.a
    }),
    n.d(e, "f", function() {
        return s.b
    });
    var u = n(435);
    n.d(e, "a", function() {
        return u.b
    }),
    n.d(e, "b", function() {
        return u.a
    });
    var c = n(436);
    n.d(e, "B", function() {
        return c.g
    }),
    n.d(e, "C", function() {
        return c.h
    }),
    n.d(e, "t", function() {
        return c.g
    }),
    n.d(e, "u", function() {
        return c.h
    }),
    n.d(e, "l", function() {
        return c.c
    }),
    n.d(e, "m", function() {
        return c.d
    }),
    n.d(e, "x", function() {
        return c.k
    }),
    n.d(e, "y", function() {
        return c.l
    }),
    n.d(e, "z", function() {
        return c.m
    }),
    n.d(e, "A", function() {
        return c.n
    }),
    n.d(e, "v", function() {
        return c.i
    }),
    n.d(e, "w", function() {
        return c.j
    }),
    n.d(e, "c", function() {
        return c.a
    }),
    n.d(e, "d", function() {
        return c.b
    }),
    n.d(e, "p", function() {
        return c.e
    }),
    n.d(e, "q", function() {
        return c.f
    });
    var f = n(437);
    n.d(e, "n", function() {
        return f.a
    }),
    n.d(e, "o", function() {
        return f.b
    });
    var l = n(438);
    n.d(e, "D", function() {
        return l.a
    }),
    n.d(e, "E", function() {
        return l.b
    });
    var h = n(439);
    n.d(e, "N", function() {
        return h.a
    }),
    n.d(e, "O", function() {
        return h.b
    });
    var d = n(440);
    n.d(e, "J", function() {
        return d.a
    }),
    n.d(e, "K", function() {
        return d.b
    });
    var p = n(441);
    n.d(e, "F", function() {
        return p.a
    }),
    n.d(e, "G", function() {
        return p.b
    });
    var m = n(442);
    n.d(e, "_5", function() {
        return m.g
    }),
    n.d(e, "_6", function() {
        return m.h
    }),
    n.d(e, "X", function() {
        return m.g
    }),
    n.d(e, "Y", function() {
        return m.h
    }),
    n.d(e, "P", function() {
        return m.c
    }),
    n.d(e, "Q", function() {
        return m.d
    }),
    n.d(e, "_1", function() {
        return m.k
    }),
    n.d(e, "_2", function() {
        return m.l
    }),
    n.d(e, "_3", function() {
        return m.m
    }),
    n.d(e, "_4", function() {
        return m.n
    }),
    n.d(e, "Z", function() {
        return m.i
    }),
    n.d(e, "_0", function() {
        return m.j
    }),
    n.d(e, "H", function() {
        return m.a
    }),
    n.d(e, "I", function() {
        return m.b
    }),
    n.d(e, "T", function() {
        return m.e
    }),
    n.d(e, "U", function() {
        return m.f
    });
    var v = n(443);
    n.d(e, "R", function() {
        return v.a
    }),
    n.d(e, "S", function() {
        return v.b
    });
    var g = n(444);
    n.d(e, "_7", function() {
        return g.a
    }),
    n.d(e, "_8", function() {
        return g.b
    })
}
, function(t, e, n) {
    "use strict";
    function r(t) {
        this._context = t
    }
    r.prototype = {
        areaStart: function() {
            this._line = 0
        },
        areaEnd: function() {
            this._line = NaN
        },
        lineStart: function() {
            this._point = 0
        },
        lineEnd: function() {
            (this._line || 0 !== this._line && 1 === this._point) && this._context.closePath(),
            this._line = 1 - this._line
        },
        point: function(t, e) {
            switch (t = +t,
            e = +e,
            this._point) {
            case 0:
                this._point = 1,
                this._line ? this._context.lineTo(t, e) : this._context.moveTo(t, e);
                break;
            case 1:
                this._point = 2;
            default:
                this._context.lineTo(t, e)
            }
        }
    },
    e.a = function(t) {
        return new r(t)
    }
}
, function(t, e, n) {
    "use strict";
    e.a = function() {}
}
, function(t, e, n) {
    "use strict";
    function r(t, e, n) {
        t._context.bezierCurveTo((2 * t._x0 + t._x1) / 3, (2 * t._y0 + t._y1) / 3, (t._x0 + 2 * t._x1) / 3, (t._y0 + 2 * t._y1) / 3, (t._x0 + 4 * t._x1 + e) / 6, (t._y0 + 4 * t._y1 + n) / 6)
    }
    function i(t) {
        this._context = t
    }
    e.c = r,
    e.a = i,
    i.prototype = {
        areaStart: function() {
            this._line = 0
        },
        areaEnd: function() {
            this._line = NaN
        },
        lineStart: function() {
            this._x0 = this._x1 = this._y0 = this._y1 = NaN,
            this._point = 0
        },
        lineEnd: function() {
            switch (this._point) {
            case 3:
                r(this, this._x1, this._y1);
            case 2:
                this._context.lineTo(this._x1, this._y1)
            }
            (this._line || 0 !== this._line && 1 === this._point) && this._context.closePath(),
            this._line = 1 - this._line
        },
        point: function(t, e) {
            switch (t = +t,
            e = +e,
            this._point) {
            case 0:
                this._point = 1,
                this._line ? this._context.lineTo(t, e) : this._context.moveTo(t, e);
                break;
            case 1:
                this._point = 2;
                break;
            case 2:
                this._point = 3,
                this._context.lineTo((5 * this._x0 + this._x1) / 6, (5 * this._y0 + this._y1) / 6);
            default:
                r(this, t, e)
            }
            this._x0 = this._x1,
            this._x1 = t,
            this._y0 = this._y1,
            this._y1 = e
        }
    },
    e.b = function(t) {
        return new i(t)
    }
}
, function(t, e, n) {
    "use strict";
    function r(t, e, n) {
        t._context.bezierCurveTo(t._x1 + t._k * (t._x2 - t._x0), t._y1 + t._k * (t._y2 - t._y0), t._x2 + t._k * (t._x1 - e), t._y2 + t._k * (t._y1 - n), t._x2, t._y2)
    }
    function i(t, e) {
        this._context = t,
        this._k = (1 - e) / 6
    }
    e.c = r,
    e.a = i,
    i.prototype = {
        areaStart: function() {
            this._line = 0
        },
        areaEnd: function() {
            this._line = NaN
        },
        lineStart: function() {
            this._x0 = this._x1 = this._x2 = this._y0 = this._y1 = this._y2 = NaN,
            this._point = 0
        },
        lineEnd: function() {
            switch (this._point) {
            case 2:
                this._context.lineTo(this._x2, this._y2);
                break;
            case 3:
                r(this, this._x1, this._y1)
            }
            (this._line || 0 !== this._line && 1 === this._point) && this._context.closePath(),
            this._line = 1 - this._line
        },
        point: function(t, e) {
            switch (t = +t,
            e = +e,
            this._point) {
            case 0:
                this._point = 1,
                this._line ? this._context.lineTo(t, e) : this._context.moveTo(t, e);
                break;
            case 1:
                this._point = 2,
                this._x1 = t,
                this._y1 = e;
                break;
            case 2:
                this._point = 3;
            default:
                r(this, t, e)
            }
            this._x0 = this._x1,
            this._x1 = this._x2,
            this._x2 = t,
            this._y0 = this._y1,
            this._y1 = this._y2,
            this._y2 = e
        }
    },
    e.b = function t(e) {
        function n(t) {
            return new i(t,e)
        }
        return n.tension = function(e) {
            return t(+e)
        }
        ,
        n
    }(0)
}
, function(t, e, n) {
    "use strict";
    function r() {}
    Object.defineProperty(e, "__esModule", {
        value: !0
    }),
    n.d(e, "WebGLRenderTargetCube", function() {
        return fn
    }),
    n.d(e, "WebGLRenderTarget", function() {
        return cn
    }),
    n.d(e, "WebGLRenderer", function() {
        return Wi
    }),
    n.d(e, "ShaderLib", function() {
        return Mn
    }),
    n.d(e, "UniformsLib", function() {
        return wn
    }),
    n.d(e, "UniformsUtils", function() {
        return yn
    }),
    n.d(e, "ShaderChunk", function() {
        return gn
    }),
    n.d(e, "FogExp2", function() {
        return qi
    }),
    n.d(e, "Fog", function() {
        return Xi
    }),
    n.d(e, "Scene", function() {
        return Yi
    }),
    n.d(e, "Sprite", function() {
        return Ki
    }),
    n.d(e, "LOD", function() {
        return $i
    }),
    n.d(e, "SkinnedMesh", function() {
        return no
    }),
    n.d(e, "Skeleton", function() {
        return to
    }),
    n.d(e, "Bone", function() {
        return eo
    }),
    n.d(e, "Mesh", function() {
        return wr
    }),
    n.d(e, "LineSegments", function() {
        return oo
    }),
    n.d(e, "LineLoop", function() {
        return ao
    }),
    n.d(e, "Line", function() {
        return io
    }),
    n.d(e, "Points", function() {
        return uo
    }),
    n.d(e, "Group", function() {
        return Fi
    }),
    n.d(e, "VideoTexture", function() {
        return co
    }),
    n.d(e, "DataTexture", function() {
        return ln
    }),
    n.d(e, "CompressedTexture", function() {
        return fo
    }),
    n.d(e, "CubeTexture", function() {
        return Er
    }),
    n.d(e, "CanvasTexture", function() {
        return lo
    }),
    n.d(e, "DepthTexture", function() {
        return ho
    }),
    n.d(e, "Texture", function() {
        return sn
    }),
    n.d(e, "CompressedTextureLoader", function() {
        return Ga
    }),
    n.d(e, "DataTextureLoader", function() {
        return Ha
    }),
    n.d(e, "CubeTextureLoader", function() {
        return Wa
    }),
    n.d(e, "TextureLoader", function() {
        return qa
    }),
    n.d(e, "ObjectLoader", function() {
        return Qs
    }),
    n.d(e, "MaterialLoader", function() {
        return Fs
    }),
    n.d(e, "BufferGeometryLoader", function() {
        return Gs
    }),
    n.d(e, "DefaultLoadingManager", function() {
        return Ba
    }),
    n.d(e, "LoadingManager", function() {
        return za
    }),
    n.d(e, "JSONLoader", function() {
        return Js
    }),
    n.d(e, "ImageLoader", function() {
        return Va
    }),
    n.d(e, "ImageBitmapLoader", function() {
        return nu
    }),
    n.d(e, "FontLoader", function() {
        return au
    }),
    n.d(e, "FileLoader", function() {
        return Fa
    }),
    n.d(e, "Loader", function() {
        return Ys
    }),
    n.d(e, "LoaderUtils", function() {
        return Zs
    }),
    n.d(e, "Cache", function() {
        return Ua
    }),
    n.d(e, "AudioLoader", function() {
        return yu
    }),
    n.d(e, "SpotLightShadow", function() {
        return bs
    }),
    n.d(e, "SpotLight", function() {
        return _s
    }),
    n.d(e, "PointLight", function() {
        return xs
    }),
    n.d(e, "RectAreaLight", function() {
        return Ts
    }),
    n.d(e, "HemisphereLight", function() {
        return gs
    }),
    n.d(e, "DirectionalLightShadow", function() {
        return ws
    }),
    n.d(e, "DirectionalLight", function() {
        return Ms
    }),
    n.d(e, "AmbientLight", function() {
        return Es
    }),
    n.d(e, "LightShadow", function() {
        return ys
    }),
    n.d(e, "Light", function() {
        return vs
    }),
    n.d(e, "StereoCamera", function() {
        return bu
    }),
    n.d(e, "PerspectiveCamera", function() {
        return Gi
    }),
    n.d(e, "OrthographicCamera", function() {
        return In
    }),
    n.d(e, "CubeCamera", function() {
        return _u
    }),
    n.d(e, "ArrayCamera", function() {
        return Hi
    }),
    n.d(e, "Camera", function() {
        return Nn
    }),
    n.d(e, "AudioListener", function() {
        return xu
    }),
    n.d(e, "PositionalAudio", function() {
        return Mu
    }),
    n.d(e, "AudioContext", function() {
        return gu
    }),
    n.d(e, "AudioAnalyser", function() {
        return Eu
    }),
    n.d(e, "Audio", function() {
        return wu
    }),
    n.d(e, "VectorKeyframeTrack", function() {
        return zs
    }),
    n.d(e, "StringKeyframeTrack", function() {
        return Us
    }),
    n.d(e, "QuaternionKeyframeTrack", function() {
        return Ds
    }),
    n.d(e, "NumberKeyframeTrack", function() {
        return Ns
    }),
    n.d(e, "ColorKeyframeTrack", function() {
        return Ps
    }),
    n.d(e, "BooleanKeyframeTrack", function() {
        return js
    }),
    n.d(e, "PropertyMixer", function() {
        return Tu
    }),
    n.d(e, "PropertyBinding", function() {
        return Gu
    }),
    n.d(e, "KeyframeTrack", function() {
        return Cs
    }),
    n.d(e, "AnimationUtils", function() {
        return Ss
    }),
    n.d(e, "AnimationObjectGroup", function() {
        return Hu
    }),
    n.d(e, "AnimationMixer", function() {
        return Wu
    }),
    n.d(e, "AnimationClip", function() {
        return Bs
    }),
    n.d(e, "Uniform", function() {
        return qu
    }),
    n.d(e, "InstancedBufferGeometry", function() {
        return Xu
    }),
    n.d(e, "BufferGeometry", function() {
        return tr
    }),
    n.d(e, "Geometry", function() {
        return kn
    }),
    n.d(e, "InterleavedBufferAttribute", function() {
        return Ji
    }),
    n.d(e, "InstancedInterleavedBuffer", function() {
        return Yu
    }),
    n.d(e, "InterleavedBuffer", function() {
        return Zi
    }),
    n.d(e, "InstancedBufferAttribute", function() {
        return Zu
    }),
    n.d(e, "Face3", function() {
        return Dn
    }),
    n.d(e, "Object3D", function() {
        return Pn
    }),
    n.d(e, "Raycaster", function() {
        return Ju
    }),
    n.d(e, "Layers", function() {
        return On
    }),
    n.d(e, "EventDispatcher", function() {
        return r
    }),
    n.d(e, "Clock", function() {
        return $u
    }),
    n.d(e, "QuaternionLinearInterpolant", function() {
        return Is
    }),
    n.d(e, "LinearInterpolant", function() {
        return Ls
    }),
    n.d(e, "DiscreteInterpolant", function() {
        return Rs
    }),
    n.d(e, "CubicInterpolant", function() {
        return As
    }),
    n.d(e, "Interpolant", function() {
        return Os
    }),
    n.d(e, "Triangle", function() {
        return xr
    }),
    n.d(e, "Math", function() {
        return Ye
    }),
    n.d(e, "Spherical", function() {
        return tc
    }),
    n.d(e, "Cylindrical", function() {
        return ec
    }),
    n.d(e, "Plane", function() {
        return pn
    }),
    n.d(e, "Frustum", function() {
        return mn
    }),
    n.d(e, "Sphere", function() {
        return dn
    }),
    n.d(e, "Ray", function() {
        return _r
    }),
    n.d(e, "Matrix4", function() {
        return Je
    }),
    n.d(e, "Matrix3", function() {
        return $e
    }),
    n.d(e, "Box3", function() {
        return hn
    }),
    n.d(e, "Box2", function() {
        return nc
    }),
    n.d(e, "Line3", function() {
        return rc
    }),
    n.d(e, "Euler", function() {
        return Sn
    }),
    n.d(e, "Vector4", function() {
        return un
    }),
    n.d(e, "Vector3", function() {
        return Ke
    }),
    n.d(e, "Vector2", function() {
        return Ze
    }),
    n.d(e, "Quaternion", function() {
        return Qe
    }),
    n.d(e, "Color", function() {
        return _n
    }),
    n.d(e, "ImmediateRenderObject", function() {
        return ic
    }),
    n.d(e, "VertexNormalsHelper", function() {
        return oc
    }),
    n.d(e, "SpotLightHelper", function() {
        return ac
    }),
    n.d(e, "SkeletonHelper", function() {
        return sc
    }),
    n.d(e, "PointLightHelper", function() {
        return uc
    }),
    n.d(e, "RectAreaLightHelper", function() {
        return cc
    }),
    n.d(e, "HemisphereLightHelper", function() {
        return fc
    }),
    n.d(e, "GridHelper", function() {
        return lc
    }),
    n.d(e, "PolarGridHelper", function() {
        return hc
    }),
    n.d(e, "FaceNormalsHelper", function() {
        return dc
    }),
    n.d(e, "DirectionalLightHelper", function() {
        return pc
    }),
    n.d(e, "CameraHelper", function() {
        return mc
    }),
    n.d(e, "BoxHelper", function() {
        return vc
    }),
    n.d(e, "Box3Helper", function() {
        return gc
    }),
    n.d(e, "PlaneHelper", function() {
        return yc
    }),
    n.d(e, "ArrowHelper", function() {
        return bc
    }),
    n.d(e, "AxesHelper", function() {
        return _c
    }),
    n.d(e, "Shape", function() {
        return ms
    }),
    n.d(e, "Path", function() {
        return ps
    }),
    n.d(e, "ShapePath", function() {
        return ru
    }),
    n.d(e, "Font", function() {
        return iu
    }),
    n.d(e, "CurvePath", function() {
        return ds
    }),
    n.d(e, "Curve", function() {
        return Xa
    }),
    n.d(e, "ImageUtils", function() {
        return on
    }),
    n.d(e, "ShapeUtils", function() {
        return ea
    }),
    n.d(e, "WebGLUtils", function() {
        return ki
    }),
    n.d(e, "WireframeGeometry", function() {
        return po
    }),
    n.d(e, "ParametricGeometry", function() {
        return mo
    }),
    n.d(e, "ParametricBufferGeometry", function() {
        return vo
    }),
    n.d(e, "TetrahedronGeometry", function() {
        return bo
    }),
    n.d(e, "TetrahedronBufferGeometry", function() {
        return _o
    }),
    n.d(e, "OctahedronGeometry", function() {
        return xo
    }),
    n.d(e, "OctahedronBufferGeometry", function() {
        return wo
    }),
    n.d(e, "IcosahedronGeometry", function() {
        return Mo
    }),
    n.d(e, "IcosahedronBufferGeometry", function() {
        return Eo
    }),
    n.d(e, "DodecahedronGeometry", function() {
        return To
    }),
    n.d(e, "DodecahedronBufferGeometry", function() {
        return So
    }),
    n.d(e, "PolyhedronGeometry", function() {
        return go
    }),
    n.d(e, "PolyhedronBufferGeometry", function() {
        return yo
    }),
    n.d(e, "TubeGeometry", function() {
        return Oo
    }),
    n.d(e, "TubeBufferGeometry", function() {
        return Ao
    }),
    n.d(e, "TorusKnotGeometry", function() {
        return Lo
    }),
    n.d(e, "TorusKnotBufferGeometry", function() {
        return Ro
    }),
    n.d(e, "TorusGeometry", function() {
        return Co
    }),
    n.d(e, "TorusBufferGeometry", function() {
        return jo
    }),
    n.d(e, "TextGeometry", function() {
        return ua
    }),
    n.d(e, "TextBufferGeometry", function() {
        return ca
    }),
    n.d(e, "SphereGeometry", function() {
        return fa
    }),
    n.d(e, "SphereBufferGeometry", function() {
        return la
    }),
    n.d(e, "RingGeometry", function() {
        return ha
    }),
    n.d(e, "RingBufferGeometry", function() {
        return da
    }),
    n.d(e, "PlaneGeometry", function() {
        return rr
    }),
    n.d(e, "PlaneBufferGeometry", function() {
        return ir
    }),
    n.d(e, "LatheGeometry", function() {
        return pa
    }),
    n.d(e, "LatheBufferGeometry", function() {
        return ma
    }),
    n.d(e, "ShapeGeometry", function() {
        return va
    }),
    n.d(e, "ShapeBufferGeometry", function() {
        return ga
    }),
    n.d(e, "ExtrudeGeometry", function() {
        return ia
    }),
    n.d(e, "ExtrudeBufferGeometry", function() {
        return oa
    }),
    n.d(e, "EdgesGeometry", function() {
        return ba
    }),
    n.d(e, "ConeGeometry", function() {
        return wa
    }),
    n.d(e, "ConeBufferGeometry", function() {
        return Ma
    }),
    n.d(e, "CylinderGeometry", function() {
        return _a
    }),
    n.d(e, "CylinderBufferGeometry", function() {
        return xa
    }),
    n.d(e, "CircleGeometry", function() {
        return Ea
    }),
    n.d(e, "CircleBufferGeometry", function() {
        return Ta
    }),
    n.d(e, "BoxGeometry", function() {
        return er
    }),
    n.d(e, "BoxBufferGeometry", function() {
        return nr
    }),
    n.d(e, "ShadowMaterial", function() {
        return Oa
    }),
    n.d(e, "SpriteMaterial", function() {
        return Qi
    }),
    n.d(e, "RawShaderMaterial", function() {
        return Aa
    }),
    n.d(e, "ShaderMaterial", function() {
        return br
    }),
    n.d(e, "PointsMaterial", function() {
        return so
    }),
    n.d(e, "MeshPhysicalMaterial", function() {
        return Ra
    }),
    n.d(e, "MeshStandardMaterial", function() {
        return La
    }),
    n.d(e, "MeshPhongMaterial", function() {
        return Ca
    }),
    n.d(e, "MeshToonMaterial", function() {
        return ja
    }),
    n.d(e, "MeshNormalMaterial", function() {
        return Pa
    }),
    n.d(e, "MeshLambertMaterial", function() {
        return Na
    }),
    n.d(e, "MeshDepthMaterial", function() {
        return Di
    }),
    n.d(e, "MeshDistanceMaterial", function() {
        return Ui
    }),
    n.d(e, "MeshBasicMaterial", function() {
        return yr
    }),
    n.d(e, "LineDashedMaterial", function() {
        return Ia
    }),
    n.d(e, "LineBasicMaterial", function() {
        return ro
    }),
    n.d(e, "Material", function() {
        return gr
    }),
    n.d(e, "Float64BufferAttribute", function() {
        return Jn
    }),
    n.d(e, "Float32BufferAttribute", function() {
        return Zn
    }),
    n.d(e, "Uint32BufferAttribute", function() {
        return Yn
    }),
    n.d(e, "Int32BufferAttribute", function() {
        return Xn
    }),
    n.d(e, "Uint16BufferAttribute", function() {
        return qn
    }),
    n.d(e, "Int16BufferAttribute", function() {
        return Wn
    }),
    n.d(e, "Uint8ClampedBufferAttribute", function() {
        return Vn
    }),
    n.d(e, "Uint8BufferAttribute", function() {
        return Hn
    }),
    n.d(e, "Int8BufferAttribute", function() {
        return Gn
    }),
    n.d(e, "BufferAttribute", function() {
        return Fn
    }),
    n.d(e, "ArcCurve", function() {
        return Za
    }),
    n.d(e, "CatmullRomCurve3", function() {
        return es
    }),
    n.d(e, "CubicBezierCurve", function() {
        return os
    }),
    n.d(e, "CubicBezierCurve3", function() {
        return as
    }),
    n.d(e, "EllipseCurve", function() {
        return Ya
    }),
    n.d(e, "LineCurve", function() {
        return ss
    }),
    n.d(e, "LineCurve3", function() {
        return us
    }),
    n.d(e, "QuadraticBezierCurve", function() {
        return cs
    }),
    n.d(e, "QuadraticBezierCurve3", function() {
        return fs
    }),
    n.d(e, "SplineCurve", function() {
        return ls
    }),
    n.d(e, "REVISION", function() {
        return m
    }),
    n.d(e, "MOUSE", function() {
        return v
    }),
    n.d(e, "CullFaceNone", function() {
        return g
    }),
    n.d(e, "CullFaceBack", function() {
        return y
    }),
    n.d(e, "CullFaceFront", function() {
        return b
    }),
    n.d(e, "CullFaceFrontBack", function() {
        return _
    }),
    n.d(e, "FrontFaceDirectionCW", function() {
        return x
    }),
    n.d(e, "FrontFaceDirectionCCW", function() {
        return w
    }),
    n.d(e, "BasicShadowMap", function() {
        return M
    }),
    n.d(e, "PCFShadowMap", function() {
        return E
    }),
    n.d(e, "PCFSoftShadowMap", function() {
        return T
    }),
    n.d(e, "FrontSide", function() {
        return S
    }),
    n.d(e, "BackSide", function() {
        return O
    }),
    n.d(e, "DoubleSide", function() {
        return A
    }),
    n.d(e, "FlatShading", function() {
        return L
    }),
    n.d(e, "SmoothShading", function() {
        return R
    }),
    n.d(e, "NoColors", function() {
        return C
    }),
    n.d(e, "FaceColors", function() {
        return j
    }),
    n.d(e, "VertexColors", function() {
        return P
    }),
    n.d(e, "NoBlending", function() {
        return N
    }),
    n.d(e, "NormalBlending", function() {
        return I
    }),
    n.d(e, "AdditiveBlending", function() {
        return D
    }),
    n.d(e, "SubtractiveBlending", function() {
        return U
    }),
    n.d(e, "MultiplyBlending", function() {
        return z
    }),
    n.d(e, "CustomBlending", function() {
        return B
    }),
    n.d(e, "AddEquation", function() {
        return k
    }),
    n.d(e, "SubtractEquation", function() {
        return F
    }),
    n.d(e, "ReverseSubtractEquation", function() {
        return G
    }),
    n.d(e, "MinEquation", function() {
        return H
    }),
    n.d(e, "MaxEquation", function() {
        return V
    }),
    n.d(e, "ZeroFactor", function() {
        return W
    }),
    n.d(e, "OneFactor", function() {
        return q
    }),
    n.d(e, "SrcColorFactor", function() {
        return X
    }),
    n.d(e, "OneMinusSrcColorFactor", function() {
        return Y
    }),
    n.d(e, "SrcAlphaFactor", function() {
        return Z
    }),
    n.d(e, "OneMinusSrcAlphaFactor", function() {
        return J
    }),
    n.d(e, "DstAlphaFactor", function() {
        return Q
    }),
    n.d(e, "OneMinusDstAlphaFactor", function() {
        return K
    }),
    n.d(e, "DstColorFactor", function() {
        return $
    }),
    n.d(e, "OneMinusDstColorFactor", function() {
        return tt
    }),
    n.d(e, "SrcAlphaSaturateFactor", function() {
        return et
    }),
    n.d(e, "NeverDepth", function() {
        return nt
    }),
    n.d(e, "AlwaysDepth", function() {
        return rt
    }),
    n.d(e, "LessDepth", function() {
        return it
    }),
    n.d(e, "LessEqualDepth", function() {
        return ot
    }),
    n.d(e, "EqualDepth", function() {
        return at
    }),
    n.d(e, "GreaterEqualDepth", function() {
        return st
    }),
    n.d(e, "GreaterDepth", function() {
        return ut
    }),
    n.d(e, "NotEqualDepth", function() {
        return ct
    }),
    n.d(e, "MultiplyOperation", function() {
        return ft
    }),
    n.d(e, "MixOperation", function() {
        return lt
    }),
    n.d(e, "AddOperation", function() {
        return ht
    }),
    n.d(e, "NoToneMapping", function() {
        return dt
    }),
    n.d(e, "LinearToneMapping", function() {
        return pt
    }),
    n.d(e, "ReinhardToneMapping", function() {
        return mt
    }),
    n.d(e, "Uncharted2ToneMapping", function() {
        return vt
    }),
    n.d(e, "CineonToneMapping", function() {
        return gt
    }),
    n.d(e, "UVMapping", function() {
        return yt
    }),
    n.d(e, "CubeReflectionMapping", function() {
        return bt
    }),
    n.d(e, "CubeRefractionMapping", function() {
        return _t
    }),
    n.d(e, "EquirectangularReflectionMapping", function() {
        return xt
    }),
    n.d(e, "EquirectangularRefractionMapping", function() {
        return wt
    }),
    n.d(e, "SphericalReflectionMapping", function() {
        return Mt
    }),
    n.d(e, "CubeUVReflectionMapping", function() {
        return Et
    }),
    n.d(e, "CubeUVRefractionMapping", function() {
        return Tt
    }),
    n.d(e, "RepeatWrapping", function() {
        return St
    }),
    n.d(e, "ClampToEdgeWrapping", function() {
        return Ot
    }),
    n.d(e, "MirroredRepeatWrapping", function() {
        return At
    }),
    n.d(e, "NearestFilter", function() {
        return Lt
    }),
    n.d(e, "NearestMipMapNearestFilter", function() {
        return Rt
    }),
    n.d(e, "NearestMipMapLinearFilter", function() {
        return Ct
    }),
    n.d(e, "LinearFilter", function() {
        return jt
    }),
    n.d(e, "LinearMipMapNearestFilter", function() {
        return Pt
    }),
    n.d(e, "LinearMipMapLinearFilter", function() {
        return Nt
    }),
    n.d(e, "UnsignedByteType", function() {
        return It
    }),
    n.d(e, "ByteType", function() {
        return Dt
    }),
    n.d(e, "ShortType", function() {
        return Ut
    }),
    n.d(e, "UnsignedShortType", function() {
        return zt
    }),
    n.d(e, "IntType", function() {
        return Bt
    }),
    n.d(e, "UnsignedIntType", function() {
        return kt
    }),
    n.d(e, "FloatType", function() {
        return Ft
    }),
    n.d(e, "HalfFloatType", function() {
        return Gt
    }),
    n.d(e, "UnsignedShort4444Type", function() {
        return Ht
    }),
    n.d(e, "UnsignedShort5551Type", function() {
        return Vt
    }),
    n.d(e, "UnsignedShort565Type", function() {
        return Wt
    }),
    n.d(e, "UnsignedInt248Type", function() {
        return qt
    }),
    n.d(e, "AlphaFormat", function() {
        return Xt
    }),
    n.d(e, "RGBFormat", function() {
        return Yt
    }),
    n.d(e, "RGBAFormat", function() {
        return Zt
    }),
    n.d(e, "LuminanceFormat", function() {
        return Jt
    }),
    n.d(e, "LuminanceAlphaFormat", function() {
        return Qt
    }),
    n.d(e, "RGBEFormat", function() {
        return Kt
    }),
    n.d(e, "DepthFormat", function() {
        return $t
    }),
    n.d(e, "DepthStencilFormat", function() {
        return te
    }),
    n.d(e, "RGB_S3TC_DXT1_Format", function() {
        return ee
    }),
    n.d(e, "RGBA_S3TC_DXT1_Format", function() {
        return ne
    }),
    n.d(e, "RGBA_S3TC_DXT3_Format", function() {
        return re
    }),
    n.d(e, "RGBA_S3TC_DXT5_Format", function() {
        return ie
    }),
    n.d(e, "RGB_PVRTC_4BPPV1_Format", function() {
        return oe
    }),
    n.d(e, "RGB_PVRTC_2BPPV1_Format", function() {
        return ae
    }),
    n.d(e, "RGBA_PVRTC_4BPPV1_Format", function() {
        return se
    }),
    n.d(e, "RGBA_PVRTC_2BPPV1_Format", function() {
        return ue
    }),
    n.d(e, "RGB_ETC1_Format", function() {
        return ce
    }),
    n.d(e, "RGBA_ASTC_4x4_Format", function() {
        return fe
    }),
    n.d(e, "RGBA_ASTC_5x4_Format", function() {
        return le
    }),
    n.d(e, "RGBA_ASTC_5x5_Format", function() {
        return he
    }),
    n.d(e, "RGBA_ASTC_6x5_Format", function() {
        return de
    }),
    n.d(e, "RGBA_ASTC_6x6_Format", function() {
        return pe
    }),
    n.d(e, "RGBA_ASTC_8x5_Format", function() {
        return me
    }),
    n.d(e, "RGBA_ASTC_8x6_Format", function() {
        return ve
    }),
    n.d(e, "RGBA_ASTC_8x8_Format", function() {
        return ge
    }),
    n.d(e, "RGBA_ASTC_10x5_Format", function() {
        return ye
    }),
    n.d(e, "RGBA_ASTC_10x6_Format", function() {
        return be
    }),
    n.d(e, "RGBA_ASTC_10x8_Format", function() {
        return _e
    }),
    n.d(e, "RGBA_ASTC_10x10_Format", function() {
        return xe
    }),
    n.d(e, "RGBA_ASTC_12x10_Format", function() {
        return we
    }),
    n.d(e, "RGBA_ASTC_12x12_Format", function() {
        return Me
    }),
    n.d(e, "LoopOnce", function() {
        return Ee
    }),
    n.d(e, "LoopRepeat", function() {
        return Te
    }),
    n.d(e, "LoopPingPong", function() {
        return Se
    }),
    n.d(e, "InterpolateDiscrete", function() {
        return Oe
    }),
    n.d(e, "InterpolateLinear", function() {
        return Ae
    }),
    n.d(e, "InterpolateSmooth", function() {
        return Le
    }),
    n.d(e, "ZeroCurvatureEnding", function() {
        return Re
    }),
    n.d(e, "ZeroSlopeEnding", function() {
        return Ce
    }),
    n.d(e, "WrapAroundEnding", function() {
        return je
    }),
    n.d(e, "TrianglesDrawMode", function() {
        return Pe
    }),
    n.d(e, "TriangleStripDrawMode", function() {
        return Ne
    }),
    n.d(e, "TriangleFanDrawMode", function() {
        return Ie
    }),
    n.d(e, "LinearEncoding", function() {
        return De
    }),
    n.d(e, "sRGBEncoding", function() {
        return Ue
    }),
    n.d(e, "GammaEncoding", function() {
        return ze
    }),
    n.d(e, "RGBEEncoding", function() {
        return Be
    }),
    n.d(e, "LogLuvEncoding", function() {
        return ke
    }),
    n.d(e, "RGBM7Encoding", function() {
        return Fe
    }),
    n.d(e, "RGBM16Encoding", function() {
        return Ge
    }),
    n.d(e, "RGBDEncoding", function() {
        return He
    }),
    n.d(e, "BasicDepthPacking", function() {
        return Ve
    }),
    n.d(e, "RGBADepthPacking", function() {
        return We
    }),
    n.d(e, "TangentSpaceNormalMap", function() {
        return qe
    }),
    n.d(e, "ObjectSpaceNormalMap", function() {
        return Xe
    }),
    n.d(e, "CubeGeometry", function() {
        return er
    }),
    n.d(e, "Face4", function() {
        return xc
    }),
    n.d(e, "LineStrip", function() {
        return wc
    }),
    n.d(e, "LinePieces", function() {
        return Mc
    }),
    n.d(e, "MeshFaceMaterial", function() {
        return Ec
    }),
    n.d(e, "MultiMaterial", function() {
        return Tc
    }),
    n.d(e, "PointCloud", function() {
        return Sc
    }),
    n.d(e, "Particle", function() {
        return Oc
    }),
    n.d(e, "ParticleSystem", function() {
        return Ac
    }),
    n.d(e, "PointCloudMaterial", function() {
        return Lc
    }),
    n.d(e, "ParticleBasicMaterial", function() {
        return Rc
    }),
    n.d(e, "ParticleSystemMaterial", function() {
        return Cc
    }),
    n.d(e, "Vertex", function() {
        return jc
    }),
    n.d(e, "DynamicBufferAttribute", function() {
        return Pc
    }),
    n.d(e, "Int8Attribute", function() {
        return Nc
    }),
    n.d(e, "Uint8Attribute", function() {
        return Ic
    }),
    n.d(e, "Uint8ClampedAttribute", function() {
        return Dc
    }),
    n.d(e, "Int16Attribute", function() {
        return Uc
    }),
    n.d(e, "Uint16Attribute", function() {
        return zc
    }),
    n.d(e, "Int32Attribute", function() {
        return Bc
    }),
    n.d(e, "Uint32Attribute", function() {
        return kc
    }),
    n.d(e, "Float32Attribute", function() {
        return Fc
    }),
    n.d(e, "Float64Attribute", function() {
        return Gc
    }),
    n.d(e, "ClosedSplineCurve3", function() {
        return Hc
    }),
    n.d(e, "SplineCurve3", function() {
        return Vc
    }),
    n.d(e, "Spline", function() {
        return Wc
    }),
    n.d(e, "AxisHelper", function() {
        return qc
    }),
    n.d(e, "BoundingBoxHelper", function() {
        return Xc
    }),
    n.d(e, "EdgesHelper", function() {
        return Yc
    }),
    n.d(e, "WireframeHelper", function() {
        return Zc
    }),
    n.d(e, "XHRLoader", function() {
        return Jc
    }),
    n.d(e, "BinaryTextureLoader", function() {
        return Qc
    }),
    n.d(e, "GeometryUtils", function() {
        return Kc
    }),
    n.d(e, "Projector", function() {
        return $c
    }),
    n.d(e, "CanvasRenderer", function() {
        return tf
    }),
    n.d(e, "SceneUtils", function() {
        return ef
    }),
    n.d(e, "LensFlare", function() {
        return nf
    }),
    void 0 === Number.EPSILON && (Number.EPSILON = Math.pow(2, -52)),
    void 0 === Number.isInteger && (Number.isInteger = function(t) {
        return "number" == typeof t && isFinite(t) && Math.floor(t) === t
    }
    ),
    void 0 === Math.sign && (Math.sign = function(t) {
        return t < 0 ? -1 : t > 0 ? 1 : +t
    }
    ),
    "name"in Function.prototype == !1 && Object.defineProperty(Function.prototype, "name", {
        get: function() {
            return this.toString().match(/^\s*function\s*([^\(\s]*)/)[1]
        }
    }),
    void 0 === Object.assign && (Object.assign = function(t) {
        if (void 0 === t || null === t)
            throw new TypeError("Cannot convert undefined or null to object");
        for (var e = Object(t), n = 1; n < arguments.length; n++) {
            var r = arguments[n];
            if (void 0 !== r && null !== r)
                for (var i in r)
                    Object.prototype.hasOwnProperty.call(r, i) && (e[i] = r[i])
        }
        return e
    }
    ),
    Object.assign(r.prototype, {
        addEventListener: function(t, e) {
            void 0 === this._listeners && (this._listeners = {});
            var n = this._listeners;
            void 0 === n[t] && (n[t] = []),
            -1 === n[t].indexOf(e) && n[t].push(e)
        },
        hasEventListener: function(t, e) {
            if (void 0 === this._listeners)
                return !1;
            var n = this._listeners;
            return void 0 !== n[t] && -1 !== n[t].indexOf(e)
        },
        removeEventListener: function(t, e) {
            if (void 0 !== this._listeners) {
                var n = this._listeners[t];
                if (void 0 !== n) {
                    var r = n.indexOf(e);
                    -1 !== r && n.splice(r, 1)
                }
            }
        },
        dispatchEvent: function(t) {
            if (void 0 !== this._listeners) {
                var e = this._listeners[t.type];
                if (void 0 !== e) {
                    t.target = this;
                    for (var n = e.slice(0), r = 0, i = n.length; r < i; r++)
                        n[r].call(this, t)
                }
            }
        }
    });
    var i, o, a, s, u, c, f, l, h, d, p, m = "95", v = {
        LEFT: 0,
        MIDDLE: 1,
        RIGHT: 2
    }, g = 0, y = 1, b = 2, _ = 3, x = 0, w = 1, M = 0, E = 1, T = 2, S = 0, O = 1, A = 2, L = 1, R = 2, C = 0, j = 1, P = 2, N = 0, I = 1, D = 2, U = 3, z = 4, B = 5, k = 100, F = 101, G = 102, H = 103, V = 104, W = 200, q = 201, X = 202, Y = 203, Z = 204, J = 205, Q = 206, K = 207, $ = 208, tt = 209, et = 210, nt = 0, rt = 1, it = 2, ot = 3, at = 4, st = 5, ut = 6, ct = 7, ft = 0, lt = 1, ht = 2, dt = 0, pt = 1, mt = 2, vt = 3, gt = 4, yt = 300, bt = 301, _t = 302, xt = 303, wt = 304, Mt = 305, Et = 306, Tt = 307, St = 1e3, Ot = 1001, At = 1002, Lt = 1003, Rt = 1004, Ct = 1005, jt = 1006, Pt = 1007, Nt = 1008, It = 1009, Dt = 1010, Ut = 1011, zt = 1012, Bt = 1013, kt = 1014, Ft = 1015, Gt = 1016, Ht = 1017, Vt = 1018, Wt = 1019, qt = 1020, Xt = 1021, Yt = 1022, Zt = 1023, Jt = 1024, Qt = 1025, Kt = Zt, $t = 1026, te = 1027, ee = 33776, ne = 33777, re = 33778, ie = 33779, oe = 35840, ae = 35841, se = 35842, ue = 35843, ce = 36196, fe = 37808, le = 37809, he = 37810, de = 37811, pe = 37812, me = 37813, ve = 37814, ge = 37815, ye = 37816, be = 37817, _e = 37818, xe = 37819, we = 37820, Me = 37821, Ee = 2200, Te = 2201, Se = 2202, Oe = 2300, Ae = 2301, Le = 2302, Re = 2400, Ce = 2401, je = 2402, Pe = 0, Ne = 1, Ie = 2, De = 3e3, Ue = 3001, ze = 3007, Be = 3002, ke = 3003, Fe = 3004, Ge = 3005, He = 3006, Ve = 3200, We = 3201, qe = 0, Xe = 1, Ye = {
        DEG2RAD: Math.PI / 180,
        RAD2DEG: 180 / Math.PI,
        generateUUID: function() {
            for (var t = [], e = 0; e < 256; e++)
                t[e] = (e < 16 ? "0" : "") + e.toString(16);
            return function() {
                var e = 4294967295 * Math.random() | 0
                  , n = 4294967295 * Math.random() | 0
                  , r = 4294967295 * Math.random() | 0
                  , i = 4294967295 * Math.random() | 0;
                return (t[255 & e] + t[e >> 8 & 255] + t[e >> 16 & 255] + t[e >> 24 & 255] + "-" + t[255 & n] + t[n >> 8 & 255] + "-" + t[n >> 16 & 15 | 64] + t[n >> 24 & 255] + "-" + t[63 & r | 128] + t[r >> 8 & 255] + "-" + t[r >> 16 & 255] + t[r >> 24 & 255] + t[255 & i] + t[i >> 8 & 255] + t[i >> 16 & 255] + t[i >> 24 & 255]).toUpperCase()
            }
        }(),
        clamp: function(t, e, n) {
            return Math.max(e, Math.min(n, t))
        },
        euclideanModulo: function(t, e) {
            return (t % e + e) % e
        },
        mapLinear: function(t, e, n, r, i) {
            return r + (t - e) * (i - r) / (n - e)
        },
        lerp: function(t, e, n) {
            return (1 - n) * t + n * e
        },
        smoothstep: function(t, e, n) {
            return t <= e ? 0 : t >= n ? 1 : (t = (t - e) / (n - e)) * t * (3 - 2 * t)
        },
        smootherstep: function(t, e, n) {
            return t <= e ? 0 : t >= n ? 1 : (t = (t - e) / (n - e)) * t * t * (t * (6 * t - 15) + 10)
        },
        randInt: function(t, e) {
            return t + Math.floor(Math.random() * (e - t + 1))
        },
        randFloat: function(t, e) {
            return t + Math.random() * (e - t)
        },
        randFloatSpread: function(t) {
            return t * (.5 - Math.random())
        },
        degToRad: function(t) {
            return t * Ye.DEG2RAD
        },
        radToDeg: function(t) {
            return t * Ye.RAD2DEG
        },
        isPowerOfTwo: function(t) {
            return 0 == (t & t - 1) && 0 !== t
        },
        ceilPowerOfTwo: function(t) {
            return Math.pow(2, Math.ceil(Math.log(t) / Math.LN2))
        },
        floorPowerOfTwo: function(t) {
            return Math.pow(2, Math.floor(Math.log(t) / Math.LN2))
        }
    };
    function Ze(t, e) {
        this.x = t || 0,
        this.y = e || 0
    }
    function Je() {
        this.elements = [1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1],
        arguments.length > 0 && console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")
    }
    function Qe(t, e, n, r) {
        this._x = t || 0,
        this._y = e || 0,
        this._z = n || 0,
        this._w = void 0 !== r ? r : 1
    }
    function Ke(t, e, n) {
        this.x = t || 0,
        this.y = e || 0,
        this.z = n || 0
    }
    function $e() {
        this.elements = [1, 0, 0, 0, 1, 0, 0, 0, 1],
        arguments.length > 0 && console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")
    }
    Object.defineProperties(Ze.prototype, {
        width: {
            get: function() {
                return this.x
            },
            set: function(t) {
                this.x = t
            }
        },
        height: {
            get: function() {
                return this.y
            },
            set: function(t) {
                this.y = t
            }
        }
    }),
    Object.assign(Ze.prototype, {
        isVector2: !0,
        set: function(t, e) {
            return this.x = t,
            this.y = e,
            this
        },
        setScalar: function(t) {
            return this.x = t,
            this.y = t,
            this
        },
        setX: function(t) {
            return this.x = t,
            this
        },
        setY: function(t) {
            return this.y = t,
            this
        },
        setComponent: function(t, e) {
            switch (t) {
            case 0:
                this.x = e;
                break;
            case 1:
                this.y = e;
                break;
            default:
                throw new Error("index is out of range: " + t)
            }
            return this
        },
        getComponent: function(t) {
            switch (t) {
            case 0:
                return this.x;
            case 1:
                return this.y;
            default:
                throw new Error("index is out of range: " + t)
            }
        },
        clone: function() {
            return new this.constructor(this.x,this.y)
        },
        copy: function(t) {
            return this.x = t.x,
            this.y = t.y,
            this
        },
        add: function(t, e) {
            return void 0 !== e ? (console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),
            this.addVectors(t, e)) : (this.x += t.x,
            this.y += t.y,
            this)
        },
        addScalar: function(t) {
            return this.x += t,
            this.y += t,
            this
        },
        addVectors: function(t, e) {
            return this.x = t.x + e.x,
            this.y = t.y + e.y,
            this
        },
        addScaledVector: function(t, e) {
            return this.x += t.x * e,
            this.y += t.y * e,
            this
        },
        sub: function(t, e) {
            return void 0 !== e ? (console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),
            this.subVectors(t, e)) : (this.x -= t.x,
            this.y -= t.y,
            this)
        },
        subScalar: function(t) {
            return this.x -= t,
            this.y -= t,
            this
        },
        subVectors: function(t, e) {
            return this.x = t.x - e.x,
            this.y = t.y - e.y,
            this
        },
        multiply: function(t) {
            return this.x *= t.x,
            this.y *= t.y,
            this
        },
        multiplyScalar: function(t) {
            return this.x *= t,
            this.y *= t,
            this
        },
        divide: function(t) {
            return this.x /= t.x,
            this.y /= t.y,
            this
        },
        divideScalar: function(t) {
            return this.multiplyScalar(1 / t)
        },
        applyMatrix3: function(t) {
            var e = this.x
              , n = this.y
              , r = t.elements;
            return this.x = r[0] * e + r[3] * n + r[6],
            this.y = r[1] * e + r[4] * n + r[7],
            this
        },
        min: function(t) {
            return this.x = Math.min(this.x, t.x),
            this.y = Math.min(this.y, t.y),
            this
        },
        max: function(t) {
            return this.x = Math.max(this.x, t.x),
            this.y = Math.max(this.y, t.y),
            this
        },
        clamp: function(t, e) {
            return this.x = Math.max(t.x, Math.min(e.x, this.x)),
            this.y = Math.max(t.y, Math.min(e.y, this.y)),
            this
        },
        clampScalar: (i = new Ze,
        o = new Ze,
        function(t, e) {
            return i.set(t, t),
            o.set(e, e),
            this.clamp(i, o)
        }
        ),
        clampLength: function(t, e) {
            var n = this.length();
            return this.divideScalar(n || 1).multiplyScalar(Math.max(t, Math.min(e, n)))
        },
        floor: function() {
            return this.x = Math.floor(this.x),
            this.y = Math.floor(this.y),
            this
        },
        ceil: function() {
            return this.x = Math.ceil(this.x),
            this.y = Math.ceil(this.y),
            this
        },
        round: function() {
            return this.x = Math.round(this.x),
            this.y = Math.round(this.y),
            this
        },
        roundToZero: function() {
            return this.x = this.x < 0 ? Math.ceil(this.x) : Math.floor(this.x),
            this.y = this.y < 0 ? Math.ceil(this.y) : Math.floor(this.y),
            this
        },
        negate: function() {
            return this.x = -this.x,
            this.y = -this.y,
            this
        },
        dot: function(t) {
            return this.x * t.x + this.y * t.y
        },
        cross: function(t) {
            return this.x * t.y - this.y * t.x
        },
        lengthSq: function() {
            return this.x * this.x + this.y * this.y
        },
        length: function() {
            return Math.sqrt(this.x * this.x + this.y * this.y)
        },
        manhattanLength: function() {
            return Math.abs(this.x) + Math.abs(this.y)
        },
        normalize: function() {
            return this.divideScalar(this.length() || 1)
        },
        angle: function() {
            var t = Math.atan2(this.y, this.x);
            return t < 0 && (t += 2 * Math.PI),
            t
        },
        distanceTo: function(t) {
            return Math.sqrt(this.distanceToSquared(t))
        },
        distanceToSquared: function(t) {
            var e = this.x - t.x
              , n = this.y - t.y;
            return e * e + n * n
        },
        manhattanDistanceTo: function(t) {
            return Math.abs(this.x - t.x) + Math.abs(this.y - t.y)
        },
        setLength: function(t) {
            return this.normalize().multiplyScalar(t)
        },
        lerp: function(t, e) {
            return this.x += (t.x - this.x) * e,
            this.y += (t.y - this.y) * e,
            this
        },
        lerpVectors: function(t, e, n) {
            return this.subVectors(e, t).multiplyScalar(n).add(t)
        },
        equals: function(t) {
            return t.x === this.x && t.y === this.y
        },
        fromArray: function(t, e) {
            return void 0 === e && (e = 0),
            this.x = t[e],
            this.y = t[e + 1],
            this
        },
        toArray: function(t, e) {
            return void 0 === t && (t = []),
            void 0 === e && (e = 0),
            t[e] = this.x,
            t[e + 1] = this.y,
            t
        },
        fromBufferAttribute: function(t, e, n) {
            return void 0 !== n && console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),
            this.x = t.getX(e),
            this.y = t.getY(e),
            this
        },
        rotateAround: function(t, e) {
            var n = Math.cos(e)
              , r = Math.sin(e)
              , i = this.x - t.x
              , o = this.y - t.y;
            return this.x = i * n - o * r + t.x,
            this.y = i * r + o * n + t.y,
            this
        }
    }),
    Object.assign(Je.prototype, {
        isMatrix4: !0,
        set: function(t, e, n, r, i, o, a, s, u, c, f, l, h, d, p, m) {
            var v = this.elements;
            return v[0] = t,
            v[4] = e,
            v[8] = n,
            v[12] = r,
            v[1] = i,
            v[5] = o,
            v[9] = a,
            v[13] = s,
            v[2] = u,
            v[6] = c,
            v[10] = f,
            v[14] = l,
            v[3] = h,
            v[7] = d,
            v[11] = p,
            v[15] = m,
            this
        },
        identity: function() {
            return this.set(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1),
            this
        },
        clone: function() {
            return (new Je).fromArray(this.elements)
        },
        copy: function(t) {
            var e = this.elements
              , n = t.elements;
            return e[0] = n[0],
            e[1] = n[1],
            e[2] = n[2],
            e[3] = n[3],
            e[4] = n[4],
            e[5] = n[5],
            e[6] = n[6],
            e[7] = n[7],
            e[8] = n[8],
            e[9] = n[9],
            e[10] = n[10],
            e[11] = n[11],
            e[12] = n[12],
            e[13] = n[13],
            e[14] = n[14],
            e[15] = n[15],
            this
        },
        copyPosition: function(t) {
            var e = this.elements
              , n = t.elements;
            return e[12] = n[12],
            e[13] = n[13],
            e[14] = n[14],
            this
        },
        extractBasis: function(t, e, n) {
            return t.setFromMatrixColumn(this, 0),
            e.setFromMatrixColumn(this, 1),
            n.setFromMatrixColumn(this, 2),
            this
        },
        makeBasis: function(t, e, n) {
            return this.set(t.x, e.x, n.x, 0, t.y, e.y, n.y, 0, t.z, e.z, n.z, 0, 0, 0, 0, 1),
            this
        },
        extractRotation: (d = new Ke,
        function(t) {
            var e = this.elements
              , n = t.elements
              , r = 1 / d.setFromMatrixColumn(t, 0).length()
              , i = 1 / d.setFromMatrixColumn(t, 1).length()
              , o = 1 / d.setFromMatrixColumn(t, 2).length();
            return e[0] = n[0] * r,
            e[1] = n[1] * r,
            e[2] = n[2] * r,
            e[3] = 0,
            e[4] = n[4] * i,
            e[5] = n[5] * i,
            e[6] = n[6] * i,
            e[7] = 0,
            e[8] = n[8] * o,
            e[9] = n[9] * o,
            e[10] = n[10] * o,
            e[11] = 0,
            e[12] = 0,
            e[13] = 0,
            e[14] = 0,
            e[15] = 1,
            this
        }
        ),
        makeRotationFromEuler: function(t) {
            t && t.isEuler || console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");
            var e = this.elements
              , n = t.x
              , r = t.y
              , i = t.z
              , o = Math.cos(n)
              , a = Math.sin(n)
              , s = Math.cos(r)
              , u = Math.sin(r)
              , c = Math.cos(i)
              , f = Math.sin(i);
            if ("XYZ" === t.order) {
                var l = o * c
                  , h = o * f
                  , d = a * c
                  , p = a * f;
                e[0] = s * c,
                e[4] = -s * f,
                e[8] = u,
                e[1] = h + d * u,
                e[5] = l - p * u,
                e[9] = -a * s,
                e[2] = p - l * u,
                e[6] = d + h * u,
                e[10] = o * s
            } else if ("YXZ" === t.order) {
                var m = s * c
                  , v = s * f
                  , g = u * c
                  , y = u * f;
                e[0] = m + y * a,
                e[4] = g * a - v,
                e[8] = o * u,
                e[1] = o * f,
                e[5] = o * c,
                e[9] = -a,
                e[2] = v * a - g,
                e[6] = y + m * a,
                e[10] = o * s
            } else if ("ZXY" === t.order) {
                m = s * c,
                v = s * f,
                g = u * c,
                y = u * f;
                e[0] = m - y * a,
                e[4] = -o * f,
                e[8] = g + v * a,
                e[1] = v + g * a,
                e[5] = o * c,
                e[9] = y - m * a,
                e[2] = -o * u,
                e[6] = a,
                e[10] = o * s
            } else if ("ZYX" === t.order) {
                l = o * c,
                h = o * f,
                d = a * c,
                p = a * f;
                e[0] = s * c,
                e[4] = d * u - h,
                e[8] = l * u + p,
                e[1] = s * f,
                e[5] = p * u + l,
                e[9] = h * u - d,
                e[2] = -u,
                e[6] = a * s,
                e[10] = o * s
            } else if ("YZX" === t.order) {
                var b = o * s
                  , _ = o * u
                  , x = a * s
                  , w = a * u;
                e[0] = s * c,
                e[4] = w - b * f,
                e[8] = x * f + _,
                e[1] = f,
                e[5] = o * c,
                e[9] = -a * c,
                e[2] = -u * c,
                e[6] = _ * f + x,
                e[10] = b - w * f
            } else if ("XZY" === t.order) {
                b = o * s,
                _ = o * u,
                x = a * s,
                w = a * u;
                e[0] = s * c,
                e[4] = -f,
                e[8] = u * c,
                e[1] = b * f + w,
                e[5] = o * c,
                e[9] = _ * f - x,
                e[2] = x * f - _,
                e[6] = a * c,
                e[10] = w * f + b
            }
            return e[3] = 0,
            e[7] = 0,
            e[11] = 0,
            e[12] = 0,
            e[13] = 0,
            e[14] = 0,
            e[15] = 1,
            this
        },
        makeRotationFromQuaternion: (l = new Ke(0,0,0),
        h = new Ke(1,1,1),
        function(t) {
            return this.compose(l, t, h)
        }
        ),
        lookAt: (u = new Ke,
        c = new Ke,
        f = new Ke,
        function(t, e, n) {
            var r = this.elements;
            return f.subVectors(t, e),
            0 === f.lengthSq() && (f.z = 1),
            f.normalize(),
            u.crossVectors(n, f),
            0 === u.lengthSq() && (1 === Math.abs(n.z) ? f.x += 1e-4 : f.z += 1e-4,
            f.normalize(),
            u.crossVectors(n, f)),
            u.normalize(),
            c.crossVectors(f, u),
            r[0] = u.x,
            r[4] = c.x,
            r[8] = f.x,
            r[1] = u.y,
            r[5] = c.y,
            r[9] = f.y,
            r[2] = u.z,
            r[6] = c.z,
            r[10] = f.z,
            this
        }
        ),
        multiply: function(t, e) {
            return void 0 !== e ? (console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),
            this.multiplyMatrices(t, e)) : this.multiplyMatrices(this, t)
        },
        premultiply: function(t) {
            return this.multiplyMatrices(t, this)
        },
        multiplyMatrices: function(t, e) {
            var n = t.elements
              , r = e.elements
              , i = this.elements
              , o = n[0]
              , a = n[4]
              , s = n[8]
              , u = n[12]
              , c = n[1]
              , f = n[5]
              , l = n[9]
              , h = n[13]
              , d = n[2]
              , p = n[6]
              , m = n[10]
              , v = n[14]
              , g = n[3]
              , y = n[7]
              , b = n[11]
              , _ = n[15]
              , x = r[0]
              , w = r[4]
              , M = r[8]
              , E = r[12]
              , T = r[1]
              , S = r[5]
              , O = r[9]
              , A = r[13]
              , L = r[2]
              , R = r[6]
              , C = r[10]
              , j = r[14]
              , P = r[3]
              , N = r[7]
              , I = r[11]
              , D = r[15];
            return i[0] = o * x + a * T + s * L + u * P,
            i[4] = o * w + a * S + s * R + u * N,
            i[8] = o * M + a * O + s * C + u * I,
            i[12] = o * E + a * A + s * j + u * D,
            i[1] = c * x + f * T + l * L + h * P,
            i[5] = c * w + f * S + l * R + h * N,
            i[9] = c * M + f * O + l * C + h * I,
            i[13] = c * E + f * A + l * j + h * D,
            i[2] = d * x + p * T + m * L + v * P,
            i[6] = d * w + p * S + m * R + v * N,
            i[10] = d * M + p * O + m * C + v * I,
            i[14] = d * E + p * A + m * j + v * D,
            i[3] = g * x + y * T + b * L + _ * P,
            i[7] = g * w + y * S + b * R + _ * N,
            i[11] = g * M + y * O + b * C + _ * I,
            i[15] = g * E + y * A + b * j + _ * D,
            this
        },
        multiplyScalar: function(t) {
            var e = this.elements;
            return e[0] *= t,
            e[4] *= t,
            e[8] *= t,
            e[12] *= t,
            e[1] *= t,
            e[5] *= t,
            e[9] *= t,
            e[13] *= t,
            e[2] *= t,
            e[6] *= t,
            e[10] *= t,
            e[14] *= t,
            e[3] *= t,
            e[7] *= t,
            e[11] *= t,
            e[15] *= t,
            this
        },
        applyToBufferAttribute: function() {
            var t = new Ke;
            return function(e) {
                for (var n = 0, r = e.count; n < r; n++)
                    t.x = e.getX(n),
                    t.y = e.getY(n),
                    t.z = e.getZ(n),
                    t.applyMatrix4(this),
                    e.setXYZ(n, t.x, t.y, t.z);
                return e
            }
        }(),
        determinant: function() {
            var t = this.elements
              , e = t[0]
              , n = t[4]
              , r = t[8]
              , i = t[12]
              , o = t[1]
              , a = t[5]
              , s = t[9]
              , u = t[13]
              , c = t[2]
              , f = t[6]
              , l = t[10]
              , h = t[14];
            return t[3] * (+i * s * f - r * u * f - i * a * l + n * u * l + r * a * h - n * s * h) + t[7] * (+e * s * h - e * u * l + i * o * l - r * o * h + r * u * c - i * s * c) + t[11] * (+e * u * f - e * a * h - i * o * f + n * o * h + i * a * c - n * u * c) + t[15] * (-r * a * c - e * s * f + e * a * l + r * o * f - n * o * l + n * s * c)
        },
        transpose: function() {
            var t, e = this.elements;
            return t = e[1],
            e[1] = e[4],
            e[4] = t,
            t = e[2],
            e[2] = e[8],
            e[8] = t,
            t = e[6],
            e[6] = e[9],
            e[9] = t,
            t = e[3],
            e[3] = e[12],
            e[12] = t,
            t = e[7],
            e[7] = e[13],
            e[13] = t,
            t = e[11],
            e[11] = e[14],
            e[14] = t,
            this
        },
        setPosition: function(t) {
            var e = this.elements;
            return e[12] = t.x,
            e[13] = t.y,
            e[14] = t.z,
            this
        },
        getInverse: function(t, e) {
            var n = this.elements
              , r = t.elements
              , i = r[0]
              , o = r[1]
              , a = r[2]
              , s = r[3]
              , u = r[4]
              , c = r[5]
              , f = r[6]
              , l = r[7]
              , h = r[8]
              , d = r[9]
              , p = r[10]
              , m = r[11]
              , v = r[12]
              , g = r[13]
              , y = r[14]
              , b = r[15]
              , _ = d * y * l - g * p * l + g * f * m - c * y * m - d * f * b + c * p * b
              , x = v * p * l - h * y * l - v * f * m + u * y * m + h * f * b - u * p * b
              , w = h * g * l - v * d * l + v * c * m - u * g * m - h * c * b + u * d * b
              , M = v * d * f - h * g * f - v * c * p + u * g * p + h * c * y - u * d * y
              , E = i * _ + o * x + a * w + s * M;
            if (0 === E) {
                var T = "THREE.Matrix4: .getInverse() can't invert matrix, determinant is 0";
                if (!0 === e)
                    throw new Error(T);
                return console.warn(T),
                this.identity()
            }
            var S = 1 / E;
            return n[0] = _ * S,
            n[1] = (g * p * s - d * y * s - g * a * m + o * y * m + d * a * b - o * p * b) * S,
            n[2] = (c * y * s - g * f * s + g * a * l - o * y * l - c * a * b + o * f * b) * S,
            n[3] = (d * f * s - c * p * s - d * a * l + o * p * l + c * a * m - o * f * m) * S,
            n[4] = x * S,
            n[5] = (h * y * s - v * p * s + v * a * m - i * y * m - h * a * b + i * p * b) * S,
            n[6] = (v * f * s - u * y * s - v * a * l + i * y * l + u * a * b - i * f * b) * S,
            n[7] = (u * p * s - h * f * s + h * a * l - i * p * l - u * a * m + i * f * m) * S,
            n[8] = w * S,
            n[9] = (v * d * s - h * g * s - v * o * m + i * g * m + h * o * b - i * d * b) * S,
            n[10] = (u * g * s - v * c * s + v * o * l - i * g * l - u * o * b + i * c * b) * S,
            n[11] = (h * c * s - u * d * s - h * o * l + i * d * l + u * o * m - i * c * m) * S,
            n[12] = M * S,
            n[13] = (h * g * a - v * d * a + v * o * p - i * g * p - h * o * y + i * d * y) * S,
            n[14] = (v * c * a - u * g * a - v * o * f + i * g * f + u * o * y - i * c * y) * S,
            n[15] = (u * d * a - h * c * a + h * o * f - i * d * f - u * o * p + i * c * p) * S,
            this
        },
        scale: function(t) {
            var e = this.elements
              , n = t.x
              , r = t.y
              , i = t.z;
            return e[0] *= n,
            e[4] *= r,
            e[8] *= i,
            e[1] *= n,
            e[5] *= r,
            e[9] *= i,
            e[2] *= n,
            e[6] *= r,
            e[10] *= i,
            e[3] *= n,
            e[7] *= r,
            e[11] *= i,
            this
        },
        getMaxScaleOnAxis: function() {
            var t = this.elements
              , e = t[0] * t[0] + t[1] * t[1] + t[2] * t[2]
              , n = t[4] * t[4] + t[5] * t[5] + t[6] * t[6]
              , r = t[8] * t[8] + t[9] * t[9] + t[10] * t[10];
            return Math.sqrt(Math.max(e, n, r))
        },
        makeTranslation: function(t, e, n) {
            return this.set(1, 0, 0, t, 0, 1, 0, e, 0, 0, 1, n, 0, 0, 0, 1),
            this
        },
        makeRotationX: function(t) {
            var e = Math.cos(t)
              , n = Math.sin(t);
            return this.set(1, 0, 0, 0, 0, e, -n, 0, 0, n, e, 0, 0, 0, 0, 1),
            this
        },
        makeRotationY: function(t) {
            var e = Math.cos(t)
              , n = Math.sin(t);
            return this.set(e, 0, n, 0, 0, 1, 0, 0, -n, 0, e, 0, 0, 0, 0, 1),
            this
        },
        makeRotationZ: function(t) {
            var e = Math.cos(t)
              , n = Math.sin(t);
            return this.set(e, -n, 0, 0, n, e, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1),
            this
        },
        makeRotationAxis: function(t, e) {
            var n = Math.cos(e)
              , r = Math.sin(e)
              , i = 1 - n
              , o = t.x
              , a = t.y
              , s = t.z
              , u = i * o
              , c = i * a;
            return this.set(u * o + n, u * a - r * s, u * s + r * a, 0, u * a + r * s, c * a + n, c * s - r * o, 0, u * s - r * a, c * s + r * o, i * s * s + n, 0, 0, 0, 0, 1),
            this
        },
        makeScale: function(t, e, n) {
            return this.set(t, 0, 0, 0, 0, e, 0, 0, 0, 0, n, 0, 0, 0, 0, 1),
            this
        },
        makeShear: function(t, e, n) {
            return this.set(1, e, n, 0, t, 1, n, 0, t, e, 1, 0, 0, 0, 0, 1),
            this
        },
        compose: function(t, e, n) {
            var r = this.elements
              , i = e._x
              , o = e._y
              , a = e._z
              , s = e._w
              , u = i + i
              , c = o + o
              , f = a + a
              , l = i * u
              , h = i * c
              , d = i * f
              , p = o * c
              , m = o * f
              , v = a * f
              , g = s * u
              , y = s * c
              , b = s * f
              , _ = n.x
              , x = n.y
              , w = n.z;
            return r[0] = (1 - (p + v)) * _,
            r[1] = (h + b) * _,
            r[2] = (d - y) * _,
            r[3] = 0,
            r[4] = (h - b) * x,
            r[5] = (1 - (l + v)) * x,
            r[6] = (m + g) * x,
            r[7] = 0,
            r[8] = (d + y) * w,
            r[9] = (m - g) * w,
            r[10] = (1 - (l + p)) * w,
            r[11] = 0,
            r[12] = t.x,
            r[13] = t.y,
            r[14] = t.z,
            r[15] = 1,
            this
        },
        decompose: (a = new Ke,
        s = new Je,
        function(t, e, n) {
            var r = this.elements
              , i = a.set(r[0], r[1], r[2]).length()
              , o = a.set(r[4], r[5], r[6]).length()
              , u = a.set(r[8], r[9], r[10]).length();
            this.determinant() < 0 && (i = -i),
            t.x = r[12],
            t.y = r[13],
            t.z = r[14],
            s.copy(this);
            var c = 1 / i
              , f = 1 / o
              , l = 1 / u;
            return s.elements[0] *= c,
            s.elements[1] *= c,
            s.elements[2] *= c,
            s.elements[4] *= f,
            s.elements[5] *= f,
            s.elements[6] *= f,
            s.elements[8] *= l,
            s.elements[9] *= l,
            s.elements[10] *= l,
            e.setFromRotationMatrix(s),
            n.x = i,
            n.y = o,
            n.z = u,
            this
        }
        ),
        makePerspective: function(t, e, n, r, i, o) {
            void 0 === o && console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");
            var a = this.elements
              , s = 2 * i / (e - t)
              , u = 2 * i / (n - r)
              , c = (e + t) / (e - t)
              , f = (n + r) / (n - r)
              , l = -(o + i) / (o - i)
              , h = -2 * o * i / (o - i);
            return a[0] = s,
            a[4] = 0,
            a[8] = c,
            a[12] = 0,
            a[1] = 0,
            a[5] = u,
            a[9] = f,
            a[13] = 0,
            a[2] = 0,
            a[6] = 0,
            a[10] = l,
            a[14] = h,
            a[3] = 0,
            a[7] = 0,
            a[11] = -1,
            a[15] = 0,
            this
        },
        makeOrthographic: function(t, e, n, r, i, o) {
            var a = this.elements
              , s = 1 / (e - t)
              , u = 1 / (n - r)
              , c = 1 / (o - i)
              , f = (e + t) * s
              , l = (n + r) * u
              , h = (o + i) * c;
            return a[0] = 2 * s,
            a[4] = 0,
            a[8] = 0,
            a[12] = -f,
            a[1] = 0,
            a[5] = 2 * u,
            a[9] = 0,
            a[13] = -l,
            a[2] = 0,
            a[6] = 0,
            a[10] = -2 * c,
            a[14] = -h,
            a[3] = 0,
            a[7] = 0,
            a[11] = 0,
            a[15] = 1,
            this
        },
        equals: function(t) {
            for (var e = this.elements, n = t.elements, r = 0; r < 16; r++)
                if (e[r] !== n[r])
                    return !1;
            return !0
        },
        fromArray: function(t, e) {
            void 0 === e && (e = 0);
            for (var n = 0; n < 16; n++)
                this.elements[n] = t[n + e];
            return this
        },
        toArray: function(t, e) {
            void 0 === t && (t = []),
            void 0 === e && (e = 0);
            var n = this.elements;
            return t[e] = n[0],
            t[e + 1] = n[1],
            t[e + 2] = n[2],
            t[e + 3] = n[3],
            t[e + 4] = n[4],
            t[e + 5] = n[5],
            t[e + 6] = n[6],
            t[e + 7] = n[7],
            t[e + 8] = n[8],
            t[e + 9] = n[9],
            t[e + 10] = n[10],
            t[e + 11] = n[11],
            t[e + 12] = n[12],
            t[e + 13] = n[13],
            t[e + 14] = n[14],
            t[e + 15] = n[15],
            t
        }
    }),
    Object.assign(Qe, {
        slerp: function(t, e, n, r) {
            return n.copy(t).slerp(e, r)
        },
        slerpFlat: function(t, e, n, r, i, o, a) {
            var s = n[r + 0]
              , u = n[r + 1]
              , c = n[r + 2]
              , f = n[r + 3]
              , l = i[o + 0]
              , h = i[o + 1]
              , d = i[o + 2]
              , p = i[o + 3];
            if (f !== p || s !== l || u !== h || c !== d) {
                var m = 1 - a
                  , v = s * l + u * h + c * d + f * p
                  , g = v >= 0 ? 1 : -1
                  , y = 1 - v * v;
                if (y > Number.EPSILON) {
                    var b = Math.sqrt(y)
                      , _ = Math.atan2(b, v * g);
                    m = Math.sin(m * _) / b,
                    a = Math.sin(a * _) / b
                }
                var x = a * g;
                if (s = s * m + l * x,
                u = u * m + h * x,
                c = c * m + d * x,
                f = f * m + p * x,
                m === 1 - a) {
                    var w = 1 / Math.sqrt(s * s + u * u + c * c + f * f);
                    s *= w,
                    u *= w,
                    c *= w,
                    f *= w
                }
            }
            t[e] = s,
            t[e + 1] = u,
            t[e + 2] = c,
            t[e + 3] = f
        }
    }),
    Object.defineProperties(Qe.prototype, {
        x: {
            get: function() {
                return this._x
            },
            set: function(t) {
                this._x = t,
                this.onChangeCallback()
            }
        },
        y: {
            get: function() {
                return this._y
            },
            set: function(t) {
                this._y = t,
                this.onChangeCallback()
            }
        },
        z: {
            get: function() {
                return this._z
            },
            set: function(t) {
                this._z = t,
                this.onChangeCallback()
            }
        },
        w: {
            get: function() {
                return this._w
            },
            set: function(t) {
                this._w = t,
                this.onChangeCallback()
            }
        }
    }),
    Object.assign(Qe.prototype, {
        set: function(t, e, n, r) {
            return this._x = t,
            this._y = e,
            this._z = n,
            this._w = r,
            this.onChangeCallback(),
            this
        },
        clone: function() {
            return new this.constructor(this._x,this._y,this._z,this._w)
        },
        copy: function(t) {
            return this._x = t.x,
            this._y = t.y,
            this._z = t.z,
            this._w = t.w,
            this.onChangeCallback(),
            this
        },
        setFromEuler: function(t, e) {
            if (!t || !t.isEuler)
                throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");
            var n = t._x
              , r = t._y
              , i = t._z
              , o = t.order
              , a = Math.cos
              , s = Math.sin
              , u = a(n / 2)
              , c = a(r / 2)
              , f = a(i / 2)
              , l = s(n / 2)
              , h = s(r / 2)
              , d = s(i / 2);
            return "XYZ" === o ? (this._x = l * c * f + u * h * d,
            this._y = u * h * f - l * c * d,
            this._z = u * c * d + l * h * f,
            this._w = u * c * f - l * h * d) : "YXZ" === o ? (this._x = l * c * f + u * h * d,
            this._y = u * h * f - l * c * d,
            this._z = u * c * d - l * h * f,
            this._w = u * c * f + l * h * d) : "ZXY" === o ? (this._x = l * c * f - u * h * d,
            this._y = u * h * f + l * c * d,
            this._z = u * c * d + l * h * f,
            this._w = u * c * f - l * h * d) : "ZYX" === o ? (this._x = l * c * f - u * h * d,
            this._y = u * h * f + l * c * d,
            this._z = u * c * d - l * h * f,
            this._w = u * c * f + l * h * d) : "YZX" === o ? (this._x = l * c * f + u * h * d,
            this._y = u * h * f + l * c * d,
            this._z = u * c * d - l * h * f,
            this._w = u * c * f - l * h * d) : "XZY" === o && (this._x = l * c * f - u * h * d,
            this._y = u * h * f - l * c * d,
            this._z = u * c * d + l * h * f,
            this._w = u * c * f + l * h * d),
            !1 !== e && this.onChangeCallback(),
            this
        },
        setFromAxisAngle: function(t, e) {
            var n = e / 2
              , r = Math.sin(n);
            return this._x = t.x * r,
            this._y = t.y * r,
            this._z = t.z * r,
            this._w = Math.cos(n),
            this.onChangeCallback(),
            this
        },
        setFromRotationMatrix: function(t) {
            var e, n = t.elements, r = n[0], i = n[4], o = n[8], a = n[1], s = n[5], u = n[9], c = n[2], f = n[6], l = n[10], h = r + s + l;
            return h > 0 ? (e = .5 / Math.sqrt(h + 1),
            this._w = .25 / e,
            this._x = (f - u) * e,
            this._y = (o - c) * e,
            this._z = (a - i) * e) : r > s && r > l ? (e = 2 * Math.sqrt(1 + r - s - l),
            this._w = (f - u) / e,
            this._x = .25 * e,
            this._y = (i + a) / e,
            this._z = (o + c) / e) : s > l ? (e = 2 * Math.sqrt(1 + s - r - l),
            this._w = (o - c) / e,
            this._x = (i + a) / e,
            this._y = .25 * e,
            this._z = (u + f) / e) : (e = 2 * Math.sqrt(1 + l - r - s),
            this._w = (a - i) / e,
            this._x = (o + c) / e,
            this._y = (u + f) / e,
            this._z = .25 * e),
            this.onChangeCallback(),
            this
        },
        setFromUnitVectors: function() {
            var t, e = new Ke;
            return function(n, r) {
                return void 0 === e && (e = new Ke),
                (t = n.dot(r) + 1) < 1e-6 ? (t = 0,
                Math.abs(n.x) > Math.abs(n.z) ? e.set(-n.y, n.x, 0) : e.set(0, -n.z, n.y)) : e.crossVectors(n, r),
                this._x = e.x,
                this._y = e.y,
                this._z = e.z,
                this._w = t,
                this.normalize()
            }
        }(),
        angleTo: function(t) {
            return 2 * Math.acos(Math.abs(Ye.clamp(this.dot(t), -1, 1)))
        },
        rotateTowards: function(t, e) {
            var n = this.angleTo(t);
            if (0 === n)
                return this;
            var r = Math.min(1, e / n);
            return this.slerp(t, r),
            this
        },
        inverse: function() {
            return this.conjugate()
        },
        conjugate: function() {
            return this._x *= -1,
            this._y *= -1,
            this._z *= -1,
            this.onChangeCallback(),
            this
        },
        dot: function(t) {
            return this._x * t._x + this._y * t._y + this._z * t._z + this._w * t._w
        },
        lengthSq: function() {
            return this._x * this._x + this._y * this._y + this._z * this._z + this._w * this._w
        },
        length: function() {
            return Math.sqrt(this._x * this._x + this._y * this._y + this._z * this._z + this._w * this._w)
        },
        normalize: function() {
            var t = this.length();
            return 0 === t ? (this._x = 0,
            this._y = 0,
            this._z = 0,
            this._w = 1) : (t = 1 / t,
            this._x = this._x * t,
            this._y = this._y * t,
            this._z = this._z * t,
            this._w = this._w * t),
            this.onChangeCallback(),
            this
        },
        multiply: function(t, e) {
            return void 0 !== e ? (console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),
            this.multiplyQuaternions(t, e)) : this.multiplyQuaternions(this, t)
        },
        premultiply: function(t) {
            return this.multiplyQuaternions(t, this)
        },
        multiplyQuaternions: function(t, e) {
            var n = t._x
              , r = t._y
              , i = t._z
              , o = t._w
              , a = e._x
              , s = e._y
              , u = e._z
              , c = e._w;
            return this._x = n * c + o * a + r * u - i * s,
            this._y = r * c + o * s + i * a - n * u,
            this._z = i * c + o * u + n * s - r * a,
            this._w = o * c - n * a - r * s - i * u,
            this.onChangeCallback(),
            this
        },
        slerp: function(t, e) {
            if (0 === e)
                return this;
            if (1 === e)
                return this.copy(t);
            var n = this._x
              , r = this._y
              , i = this._z
              , o = this._w
              , a = o * t._w + n * t._x + r * t._y + i * t._z;
            if (a < 0 ? (this._w = -t._w,
            this._x = -t._x,
            this._y = -t._y,
            this._z = -t._z,
            a = -a) : this.copy(t),
            a >= 1)
                return this._w = o,
                this._x = n,
                this._y = r,
                this._z = i,
                this;
            var s = 1 - a * a;
            if (s <= Number.EPSILON) {
                var u = 1 - e;
                return this._w = u * o + e * this._w,
                this._x = u * n + e * this._x,
                this._y = u * r + e * this._y,
                this._z = u * i + e * this._z,
                this.normalize()
            }
            var c = Math.sqrt(s)
              , f = Math.atan2(c, a)
              , l = Math.sin((1 - e) * f) / c
              , h = Math.sin(e * f) / c;
            return this._w = o * l + this._w * h,
            this._x = n * l + this._x * h,
            this._y = r * l + this._y * h,
            this._z = i * l + this._z * h,
            this.onChangeCallback(),
            this
        },
        equals: function(t) {
            return t._x === this._x && t._y === this._y && t._z === this._z && t._w === this._w
        },
        fromArray: function(t, e) {
            return void 0 === e && (e = 0),
            this._x = t[e],
            this._y = t[e + 1],
            this._z = t[e + 2],
            this._w = t[e + 3],
            this.onChangeCallback(),
            this
        },
        toArray: function(t, e) {
            return void 0 === t && (t = []),
            void 0 === e && (e = 0),
            t[e] = this._x,
            t[e + 1] = this._y,
            t[e + 2] = this._z,
            t[e + 3] = this._w,
            t
        },
        onChange: function(t) {
            return this.onChangeCallback = t,
            this
        },
        onChangeCallback: function() {}
    }),
    Object.assign(Ke.prototype, {
        isVector3: !0,
        set: function(t, e, n) {
            return this.x = t,
            this.y = e,
            this.z = n,
            this
        },
        setScalar: function(t) {
            return this.x = t,
            this.y = t,
            this.z = t,
            this
        },
        setX: function(t) {
            return this.x = t,
            this
        },
        setY: function(t) {
            return this.y = t,
            this
        },
        setZ: function(t) {
            return this.z = t,
            this
        },
        setComponent: function(t, e) {
            switch (t) {
            case 0:
                this.x = e;
                break;
            case 1:
                this.y = e;
                break;
            case 2:
                this.z = e;
                break;
            default:
                throw new Error("index is out of range: " + t)
            }
            return this
        },
        getComponent: function(t) {
            switch (t) {
            case 0:
                return this.x;
            case 1:
                return this.y;
            case 2:
                return this.z;
            default:
                throw new Error("index is out of range: " + t)
            }
        },
        clone: function() {
            return new this.constructor(this.x,this.y,this.z)
        },
        copy: function(t) {
            return this.x = t.x,
            this.y = t.y,
            this.z = t.z,
            this
        },
        add: function(t, e) {
            return void 0 !== e ? (console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),
            this.addVectors(t, e)) : (this.x += t.x,
            this.y += t.y,
            this.z += t.z,
            this)
        },
        addScalar: function(t) {
            return this.x += t,
            this.y += t,
            this.z += t,
            this
        },
        addVectors: function(t, e) {
            return this.x = t.x + e.x,
            this.y = t.y + e.y,
            this.z = t.z + e.z,
            this
        },
        addScaledVector: function(t, e) {
            return this.x += t.x * e,
            this.y += t.y * e,
            this.z += t.z * e,
            this
        },
        sub: function(t, e) {
            return void 0 !== e ? (console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),
            this.subVectors(t, e)) : (this.x -= t.x,
            this.y -= t.y,
            this.z -= t.z,
            this)
        },
        subScalar: function(t) {
            return this.x -= t,
            this.y -= t,
            this.z -= t,
            this
        },
        subVectors: function(t, e) {
            return this.x = t.x - e.x,
            this.y = t.y - e.y,
            this.z = t.z - e.z,
            this
        },
        multiply: function(t, e) {
            return void 0 !== e ? (console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),
            this.multiplyVectors(t, e)) : (this.x *= t.x,
            this.y *= t.y,
            this.z *= t.z,
            this)
        },
        multiplyScalar: function(t) {
            return this.x *= t,
            this.y *= t,
            this.z *= t,
            this
        },
        multiplyVectors: function(t, e) {
            return this.x = t.x * e.x,
            this.y = t.y * e.y,
            this.z = t.z * e.z,
            this
        },
        applyEuler: (p = new Qe,
        function(t) {
            return t && t.isEuler || console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),
            this.applyQuaternion(p.setFromEuler(t))
        }
        ),
        applyAxisAngle: function() {
            var t = new Qe;
            return function(e, n) {
                return this.applyQuaternion(t.setFromAxisAngle(e, n))
            }
        }(),
        applyMatrix3: function(t) {
            var e = this.x
              , n = this.y
              , r = this.z
              , i = t.elements;
            return this.x = i[0] * e + i[3] * n + i[6] * r,
            this.y = i[1] * e + i[4] * n + i[7] * r,
            this.z = i[2] * e + i[5] * n + i[8] * r,
            this
        },
        applyMatrix4: function(t) {
            var e = this.x
              , n = this.y
              , r = this.z
              , i = t.elements
              , o = 1 / (i[3] * e + i[7] * n + i[11] * r + i[15]);
            return this.x = (i[0] * e + i[4] * n + i[8] * r + i[12]) * o,
            this.y = (i[1] * e + i[5] * n + i[9] * r + i[13]) * o,
            this.z = (i[2] * e + i[6] * n + i[10] * r + i[14]) * o,
            this
        },
        applyQuaternion: function(t) {
            var e = this.x
              , n = this.y
              , r = this.z
              , i = t.x
              , o = t.y
              , a = t.z
              , s = t.w
              , u = s * e + o * r - a * n
              , c = s * n + a * e - i * r
              , f = s * r + i * n - o * e
              , l = -i * e - o * n - a * r;
            return this.x = u * s + l * -i + c * -a - f * -o,
            this.y = c * s + l * -o + f * -i - u * -a,
            this.z = f * s + l * -a + u * -o - c * -i,
            this
        },
        project: function() {
            var t = new Je;
            return function(e) {
                return t.multiplyMatrices(e.projectionMatrix, t.getInverse(e.matrixWorld)),
                this.applyMatrix4(t)
            }
        }(),
        unproject: function() {
            var t = new Je;
            return function(e) {
                return t.multiplyMatrices(e.matrixWorld, t.getInverse(e.projectionMatrix)),
                this.applyMatrix4(t)
            }
        }(),
        transformDirection: function(t) {
            var e = this.x
              , n = this.y
              , r = this.z
              , i = t.elements;
            return this.x = i[0] * e + i[4] * n + i[8] * r,
            this.y = i[1] * e + i[5] * n + i[9] * r,
            this.z = i[2] * e + i[6] * n + i[10] * r,
            this.normalize()
        },
        divide: function(t) {
            return this.x /= t.x,
            this.y /= t.y,
            this.z /= t.z,
            this
        },
        divideScalar: function(t) {
            return this.multiplyScalar(1 / t)
        },
        min: function(t) {
            return this.x = Math.min(this.x, t.x),
            this.y = Math.min(this.y, t.y),
            this.z = Math.min(this.z, t.z),
            this
        },
        max: function(t) {
            return this.x = Math.max(this.x, t.x),
            this.y = Math.max(this.y, t.y),
            this.z = Math.max(this.z, t.z),
            this
        },
        clamp: function(t, e) {
            return this.x = Math.max(t.x, Math.min(e.x, this.x)),
            this.y = Math.max(t.y, Math.min(e.y, this.y)),
            this.z = Math.max(t.z, Math.min(e.z, this.z)),
            this
        },
        clampScalar: function() {
            var t = new Ke
              , e = new Ke;
            return function(n, r) {
                return t.set(n, n, n),
                e.set(r, r, r),
                this.clamp(t, e)
            }
        }(),
        clampLength: function(t, e) {
            var n = this.length();
            return this.divideScalar(n || 1).multiplyScalar(Math.max(t, Math.min(e, n)))
        },
        floor: function() {
            return this.x = Math.floor(this.x),
            this.y = Math.floor(this.y),
            this.z = Math.floor(this.z),
            this
        },
        ceil: function() {
            return this.x = Math.ceil(this.x),
            this.y = Math.ceil(this.y),
            this.z = Math.ceil(this.z),
            this
        },
        round: function() {
            return this.x = Math.round(this.x),
            this.y = Math.round(this.y),
            this.z = Math.round(this.z),
            this
        },
        roundToZero: function() {
            return this.x = this.x < 0 ? Math.ceil(this.x) : Math.floor(this.x),
            this.y = this.y < 0 ? Math.ceil(this.y) : Math.floor(this.y),
            this.z = this.z < 0 ? Math.ceil(this.z) : Math.floor(this.z),
            this
        },
        negate: function() {
            return this.x = -this.x,
            this.y = -this.y,
            this.z = -this.z,
            this
        },
        dot: function(t) {
            return this.x * t.x + this.y * t.y + this.z * t.z
        },
        lengthSq: function() {
            return this.x * this.x + this.y * this.y + this.z * this.z
        },
        length: function() {
            return Math.sqrt(this.x * this.x + this.y * this.y + this.z * this.z)
        },
        manhattanLength: function() {
            return Math.abs(this.x) + Math.abs(this.y) + Math.abs(this.z)
        },
        normalize: function() {
            return this.divideScalar(this.length() || 1)
        },
        setLength: function(t) {
            return this.normalize().multiplyScalar(t)
        },
        lerp: function(t, e) {
            return this.x += (t.x - this.x) * e,
            this.y += (t.y - this.y) * e,
            this.z += (t.z - this.z) * e,
            this
        },
        lerpVectors: function(t, e, n) {
            return this.subVectors(e, t).multiplyScalar(n).add(t)
        },
        cross: function(t, e) {
            return void 0 !== e ? (console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),
            this.crossVectors(t, e)) : this.crossVectors(this, t)
        },
        crossVectors: function(t, e) {
            var n = t.x
              , r = t.y
              , i = t.z
              , o = e.x
              , a = e.y
              , s = e.z;
            return this.x = r * s - i * a,
            this.y = i * o - n * s,
            this.z = n * a - r * o,
            this
        },
        projectOnVector: function(t) {
            var e = t.dot(this) / t.lengthSq();
            return this.copy(t).multiplyScalar(e)
        },
        projectOnPlane: function() {
            var t = new Ke;
            return function(e) {
                return t.copy(this).projectOnVector(e),
                this.sub(t)
            }
        }(),
        reflect: function() {
            var t = new Ke;
            return function(e) {
                return this.sub(t.copy(e).multiplyScalar(2 * this.dot(e)))
            }
        }(),
        angleTo: function(t) {
            var e = this.dot(t) / Math.sqrt(this.lengthSq() * t.lengthSq());
            return Math.acos(Ye.clamp(e, -1, 1))
        },
        distanceTo: function(t) {
            return Math.sqrt(this.distanceToSquared(t))
        },
        distanceToSquared: function(t) {
            var e = this.x - t.x
              , n = this.y - t.y
              , r = this.z - t.z;
            return e * e + n * n + r * r
        },
        manhattanDistanceTo: function(t) {
            return Math.abs(this.x - t.x) + Math.abs(this.y - t.y) + Math.abs(this.z - t.z)
        },
        setFromSpherical: function(t) {
            var e = Math.sin(t.phi) * t.radius;
            return this.x = e * Math.sin(t.theta),
            this.y = Math.cos(t.phi) * t.radius,
            this.z = e * Math.cos(t.theta),
            this
        },
        setFromCylindrical: function(t) {
            return this.x = t.radius * Math.sin(t.theta),
            this.y = t.y,
            this.z = t.radius * Math.cos(t.theta),
            this
        },
        setFromMatrixPosition: function(t) {
            var e = t.elements;
            return this.x = e[12],
            this.y = e[13],
            this.z = e[14],
            this
        },
        setFromMatrixScale: function(t) {
            var e = this.setFromMatrixColumn(t, 0).length()
              , n = this.setFromMatrixColumn(t, 1).length()
              , r = this.setFromMatrixColumn(t, 2).length();
            return this.x = e,
            this.y = n,
            this.z = r,
            this
        },
        setFromMatrixColumn: function(t, e) {
            return this.fromArray(t.elements, 4 * e)
        },
        equals: function(t) {
            return t.x === this.x && t.y === this.y && t.z === this.z
        },
        fromArray: function(t, e) {
            return void 0 === e && (e = 0),
            this.x = t[e],
            this.y = t[e + 1],
            this.z = t[e + 2],
            this
        },
        toArray: function(t, e) {
            return void 0 === t && (t = []),
            void 0 === e && (e = 0),
            t[e] = this.x,
            t[e + 1] = this.y,
            t[e + 2] = this.z,
            t
        },
        fromBufferAttribute: function(t, e, n) {
            return void 0 !== n && console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),
            this.x = t.getX(e),
            this.y = t.getY(e),
            this.z = t.getZ(e),
            this
        }
    }),
    Object.assign($e.prototype, {
        isMatrix3: !0,
        set: function(t, e, n, r, i, o, a, s, u) {
            var c = this.elements;
            return c[0] = t,
            c[1] = r,
            c[2] = a,
            c[3] = e,
            c[4] = i,
            c[5] = s,
            c[6] = n,
            c[7] = o,
            c[8] = u,
            this
        },
        identity: function() {
            return this.set(1, 0, 0, 0, 1, 0, 0, 0, 1),
            this
        },
        clone: function() {
            return (new this.constructor).fromArray(this.elements)
        },
        copy: function(t) {
            var e = this.elements
              , n = t.elements;
            return e[0] = n[0],
            e[1] = n[1],
            e[2] = n[2],
            e[3] = n[3],
            e[4] = n[4],
            e[5] = n[5],
            e[6] = n[6],
            e[7] = n[7],
            e[8] = n[8],
            this
        },
        setFromMatrix4: function(t) {
            var e = t.elements;
            return this.set(e[0], e[4], e[8], e[1], e[5], e[9], e[2], e[6], e[10]),
            this
        },
        applyToBufferAttribute: function() {
            var t = new Ke;
            return function(e) {
                for (var n = 0, r = e.count; n < r; n++)
                    t.x = e.getX(n),
                    t.y = e.getY(n),
                    t.z = e.getZ(n),
                    t.applyMatrix3(this),
                    e.setXYZ(n, t.x, t.y, t.z);
                return e
            }
        }(),
        multiply: function(t) {
            return this.multiplyMatrices(this, t)
        },
        premultiply: function(t) {
            return this.multiplyMatrices(t, this)
        },
        multiplyMatrices: function(t, e) {
            var n = t.elements
              , r = e.elements
              , i = this.elements
              , o = n[0]
              , a = n[3]
              , s = n[6]
              , u = n[1]
              , c = n[4]
              , f = n[7]
              , l = n[2]
              , h = n[5]
              , d = n[8]
              , p = r[0]
              , m = r[3]
              , v = r[6]
              , g = r[1]
              , y = r[4]
              , b = r[7]
              , _ = r[2]
              , x = r[5]
              , w = r[8];
            return i[0] = o * p + a * g + s * _,
            i[3] = o * m + a * y + s * x,
            i[6] = o * v + a * b + s * w,
            i[1] = u * p + c * g + f * _,
            i[4] = u * m + c * y + f * x,
            i[7] = u * v + c * b + f * w,
            i[2] = l * p + h * g + d * _,
            i[5] = l * m + h * y + d * x,
            i[8] = l * v + h * b + d * w,
            this
        },
        multiplyScalar: function(t) {
            var e = this.elements;
            return e[0] *= t,
            e[3] *= t,
            e[6] *= t,
            e[1] *= t,
            e[4] *= t,
            e[7] *= t,
            e[2] *= t,
            e[5] *= t,
            e[8] *= t,
            this
        },
        determinant: function() {
            var t = this.elements
              , e = t[0]
              , n = t[1]
              , r = t[2]
              , i = t[3]
              , o = t[4]
              , a = t[5]
              , s = t[6]
              , u = t[7]
              , c = t[8];
            return e * o * c - e * a * u - n * i * c + n * a * s + r * i * u - r * o * s
        },
        getInverse: function(t, e) {
            t && t.isMatrix4 && console.error("THREE.Matrix3: .getInverse() no longer takes a Matrix4 argument.");
            var n = t.elements
              , r = this.elements
              , i = n[0]
              , o = n[1]
              , a = n[2]
              , s = n[3]
              , u = n[4]
              , c = n[5]
              , f = n[6]
              , l = n[7]
              , h = n[8]
              , d = h * u - c * l
              , p = c * f - h * s
              , m = l * s - u * f
              , v = i * d + o * p + a * m;
            if (0 === v) {
                var g = "THREE.Matrix3: .getInverse() can't invert matrix, determinant is 0";
                if (!0 === e)
                    throw new Error(g);
                return console.warn(g),
                this.identity()
            }
            var y = 1 / v;
            return r[0] = d * y,
            r[1] = (a * l - h * o) * y,
            r[2] = (c * o - a * u) * y,
            r[3] = p * y,
            r[4] = (h * i - a * f) * y,
            r[5] = (a * s - c * i) * y,
            r[6] = m * y,
            r[7] = (o * f - l * i) * y,
            r[8] = (u * i - o * s) * y,
            this
        },
        transpose: function() {
            var t, e = this.elements;
            return t = e[1],
            e[1] = e[3],
            e[3] = t,
            t = e[2],
            e[2] = e[6],
            e[6] = t,
            t = e[5],
            e[5] = e[7],
            e[7] = t,
            this
        },
        getNormalMatrix: function(t) {
            return this.setFromMatrix4(t).getInverse(this).transpose()
        },
        transposeIntoArray: function(t) {
            var e = this.elements;
            return t[0] = e[0],
            t[1] = e[3],
            t[2] = e[6],
            t[3] = e[1],
            t[4] = e[4],
            t[5] = e[7],
            t[6] = e[2],
            t[7] = e[5],
            t[8] = e[8],
            this
        },
        setUvTransform: function(t, e, n, r, i, o, a) {
            var s = Math.cos(i)
              , u = Math.sin(i);
            this.set(n * s, n * u, -n * (s * o + u * a) + o + t, -r * u, r * s, -r * (-u * o + s * a) + a + e, 0, 0, 1)
        },
        scale: function(t, e) {
            var n = this.elements;
            return n[0] *= t,
            n[3] *= t,
            n[6] *= t,
            n[1] *= e,
            n[4] *= e,
            n[7] *= e,
            this
        },
        rotate: function(t) {
            var e = Math.cos(t)
              , n = Math.sin(t)
              , r = this.elements
              , i = r[0]
              , o = r[3]
              , a = r[6]
              , s = r[1]
              , u = r[4]
              , c = r[7];
            return r[0] = e * i + n * s,
            r[3] = e * o + n * u,
            r[6] = e * a + n * c,
            r[1] = -n * i + e * s,
            r[4] = -n * o + e * u,
            r[7] = -n * a + e * c,
            this
        },
        translate: function(t, e) {
            var n = this.elements;
            return n[0] += t * n[2],
            n[3] += t * n[5],
            n[6] += t * n[8],
            n[1] += e * n[2],
            n[4] += e * n[5],
            n[7] += e * n[8],
            this
        },
        equals: function(t) {
            for (var e = this.elements, n = t.elements, r = 0; r < 9; r++)
                if (e[r] !== n[r])
                    return !1;
            return !0
        },
        fromArray: function(t, e) {
            void 0 === e && (e = 0);
            for (var n = 0; n < 9; n++)
                this.elements[n] = t[n + e];
            return this
        },
        toArray: function(t, e) {
            void 0 === t && (t = []),
            void 0 === e && (e = 0);
            var n = this.elements;
            return t[e] = n[0],
            t[e + 1] = n[1],
            t[e + 2] = n[2],
            t[e + 3] = n[3],
            t[e + 4] = n[4],
            t[e + 5] = n[5],
            t[e + 6] = n[6],
            t[e + 7] = n[7],
            t[e + 8] = n[8],
            t
        }
    });
    var tn, en, nn, rn, on = {
        getDataURL: function(t) {
            var e;
            if (t instanceof HTMLCanvasElement)
                e = t;
            else {
                "undefined" != typeof OffscreenCanvas ? e = new OffscreenCanvas(t.width,t.height) : ((e = document.createElementNS("http://www.w3.org/1999/xhtml", "canvas")).width = t.width,
                e.height = t.height);
                var n = e.getContext("2d");
                t instanceof ImageData ? n.putImageData(t, 0, 0) : n.drawImage(t, 0, 0, t.width, t.height)
            }
            return e.width > 2048 || e.height > 2048 ? e.toDataURL("image/jpeg", .6) : e.toDataURL("image/png")
        }
    }, an = 0;
    function sn(t, e, n, r, i, o, a, s, u, c) {
        Object.defineProperty(this, "id", {
            value: an++
        }),
        this.uuid = Ye.generateUUID(),
        this.name = "",
        this.image = void 0 !== t ? t : sn.DEFAULT_IMAGE,
        this.mipmaps = [],
        this.mapping = void 0 !== e ? e : sn.DEFAULT_MAPPING,
        this.wrapS = void 0 !== n ? n : Ot,
        this.wrapT = void 0 !== r ? r : Ot,
        this.magFilter = void 0 !== i ? i : jt,
        this.minFilter = void 0 !== o ? o : Nt,
        this.anisotropy = void 0 !== u ? u : 1,
        this.format = void 0 !== a ? a : Zt,
        this.type = void 0 !== s ? s : It,
        this.offset = new Ze(0,0),
        this.repeat = new Ze(1,1),
        this.center = new Ze(0,0),
        this.rotation = 0,
        this.matrixAutoUpdate = !0,
        this.matrix = new $e,
        this.generateMipmaps = !0,
        this.premultiplyAlpha = !1,
        this.flipY = !0,
        this.unpackAlignment = 4,
        this.encoding = void 0 !== c ? c : De,
        this.version = 0,
        this.onUpdate = null
    }
    function un(t, e, n, r) {
        this.x = t || 0,
        this.y = e || 0,
        this.z = n || 0,
        this.w = void 0 !== r ? r : 1
    }
    function cn(t, e, n) {
        this.width = t,
        this.height = e,
        this.scissor = new un(0,0,t,e),
        this.scissorTest = !1,
        this.viewport = new un(0,0,t,e),
        void 0 === (n = n || {}).minFilter && (n.minFilter = jt),
        this.texture = new sn(void 0,void 0,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.encoding),
        this.texture.generateMipmaps = void 0 === n.generateMipmaps || n.generateMipmaps,
        this.depthBuffer = void 0 === n.depthBuffer || n.depthBuffer,
        this.stencilBuffer = void 0 === n.stencilBuffer || n.stencilBuffer,
        this.depthTexture = void 0 !== n.depthTexture ? n.depthTexture : null
    }
    function fn(t, e, n) {
        cn.call(this, t, e, n),
        this.activeCubeFace = 0,
        this.activeMipMapLevel = 0
    }
    function ln(t, e, n, r, i, o, a, s, u, c, f, l) {
        sn.call(this, null, o, a, s, u, c, r, i, f, l),
        this.image = {
            data: t,
            width: e,
            height: n
        },
        this.magFilter = void 0 !== u ? u : Lt,
        this.minFilter = void 0 !== c ? c : Lt,
        this.generateMipmaps = !1,
        this.flipY = !1,
        this.unpackAlignment = 1
    }
    function hn(t, e) {
        this.min = void 0 !== t ? t : new Ke(1 / 0,1 / 0,1 / 0),
        this.max = void 0 !== e ? e : new Ke(-1 / 0,-1 / 0,-1 / 0)
    }
    function dn(t, e) {
        this.center = void 0 !== t ? t : new Ke,
        this.radius = void 0 !== e ? e : 0
    }
    function pn(t, e) {
        this.normal = void 0 !== t ? t : new Ke(1,0,0),
        this.constant = void 0 !== e ? e : 0
    }
    function mn(t, e, n, r, i, o) {
        this.planes = [void 0 !== t ? t : new pn, void 0 !== e ? e : new pn, void 0 !== n ? n : new pn, void 0 !== r ? r : new pn, void 0 !== i ? i : new pn, void 0 !== o ? o : new pn]
    }
    sn.DEFAULT_IMAGE = void 0,
    sn.DEFAULT_MAPPING = yt,
    sn.prototype = Object.assign(Object.create(r.prototype), {
        constructor: sn,
        isTexture: !0,
        updateMatrix: function() {
            this.matrix.setUvTransform(this.offset.x, this.offset.y, this.repeat.x, this.repeat.y, this.rotation, this.center.x, this.center.y)
        },
        clone: function() {
            return (new this.constructor).copy(this)
        },
        copy: function(t) {
            return this.name = t.name,
            this.image = t.image,
            this.mipmaps = t.mipmaps.slice(0),
            this.mapping = t.mapping,
            this.wrapS = t.wrapS,
            this.wrapT = t.wrapT,
            this.magFilter = t.magFilter,
            this.minFilter = t.minFilter,
            this.anisotropy = t.anisotropy,
            this.format = t.format,
            this.type = t.type,
            this.offset.copy(t.offset),
            this.repeat.copy(t.repeat),
            this.center.copy(t.center),
            this.rotation = t.rotation,
            this.matrixAutoUpdate = t.matrixAutoUpdate,
            this.matrix.copy(t.matrix),
            this.generateMipmaps = t.generateMipmaps,
            this.premultiplyAlpha = t.premultiplyAlpha,
            this.flipY = t.flipY,
            this.unpackAlignment = t.unpackAlignment,
            this.encoding = t.encoding,
            this
        },
        toJSON: function(t) {
            var e = void 0 === t || "string" == typeof t;
            if (!e && void 0 !== t.textures[this.uuid])
                return t.textures[this.uuid];
            var n = {
                metadata: {
                    version: 4.5,
                    type: "Texture",
                    generator: "Texture.toJSON"
                },
                uuid: this.uuid,
                name: this.name,
                mapping: this.mapping,
                repeat: [this.repeat.x, this.repeat.y],
                offset: [this.offset.x, this.offset.y],
                center: [this.center.x, this.center.y],
                rotation: this.rotation,
                wrap: [this.wrapS, this.wrapT],
                format: this.format,
                minFilter: this.minFilter,
                magFilter: this.magFilter,
                anisotropy: this.anisotropy,
                flipY: this.flipY
            };
            if (void 0 !== this.image) {
                var r = this.image;
                if (void 0 === r.uuid && (r.uuid = Ye.generateUUID()),
                !e && void 0 === t.images[r.uuid]) {
                    var i;
                    if (Array.isArray(r)) {
                        i = [];
                        for (var o = 0, a = r.length; o < a; o++)
                            i.push(on.getDataURL(r[o]))
                    } else
                        i = on.getDataURL(r);
                    t.images[r.uuid] = {
                        uuid: r.uuid,
                        url: i
                    }
                }
                n.image = r.uuid
            }
            return e || (t.textures[this.uuid] = n),
            n
        },
        dispose: function() {
            this.dispatchEvent({
                type: "dispose"
            })
        },
        transformUv: function(t) {
            if (this.mapping === yt) {
                if (t.applyMatrix3(this.matrix),
                t.x < 0 || t.x > 1)
                    switch (this.wrapS) {
                    case St:
                        t.x = t.x - Math.floor(t.x);
                        break;
                    case Ot:
                        t.x = t.x < 0 ? 0 : 1;
                        break;
                    case At:
                        1 === Math.abs(Math.floor(t.x) % 2) ? t.x = Math.ceil(t.x) - t.x : t.x = t.x - Math.floor(t.x)
                    }
                if (t.y < 0 || t.y > 1)
                    switch (this.wrapT) {
                    case St:
                        t.y = t.y - Math.floor(t.y);
                        break;
                    case Ot:
                        t.y = t.y < 0 ? 0 : 1;
                        break;
                    case At:
                        1 === Math.abs(Math.floor(t.y) % 2) ? t.y = Math.ceil(t.y) - t.y : t.y = t.y - Math.floor(t.y)
                    }
                this.flipY && (t.y = 1 - t.y)
            }
        }
    }),
    Object.defineProperty(sn.prototype, "needsUpdate", {
        set: function(t) {
            !0 === t && this.version++
        }
    }),
    Object.assign(un.prototype, {
        isVector4: !0,
        set: function(t, e, n, r) {
            return this.x = t,
            this.y = e,
            this.z = n,
            this.w = r,
            this
        },
        setScalar: function(t) {
            return this.x = t,
            this.y = t,
            this.z = t,
            this.w = t,
            this
        },
        setX: function(t) {
            return this.x = t,
            this
        },
        setY: function(t) {
            return this.y = t,
            this
        },
        setZ: function(t) {
            return this.z = t,
            this
        },
        setW: function(t) {
            return this.w = t,
            this
        },
        setComponent: function(t, e) {
            switch (t) {
            case 0:
                this.x = e;
                break;
            case 1:
                this.y = e;
                break;
            case 2:
                this.z = e;
                break;
            case 3:
                this.w = e;
                break;
            default:
                throw new Error("index is out of range: " + t)
            }
            return this
        },
        getComponent: function(t) {
            switch (t) {
            case 0:
                return this.x;
            case 1:
                return this.y;
            case 2:
                return this.z;
            case 3:
                return this.w;
            default:
                throw new Error("index is out of range: " + t)
            }
        },
        clone: function() {
            return new this.constructor(this.x,this.y,this.z,this.w)
        },
        copy: function(t) {
            return this.x = t.x,
            this.y = t.y,
            this.z = t.z,
            this.w = void 0 !== t.w ? t.w : 1,
            this
        },
        add: function(t, e) {
            return void 0 !== e ? (console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),
            this.addVectors(t, e)) : (this.x += t.x,
            this.y += t.y,
            this.z += t.z,
            this.w += t.w,
            this)
        },
        addScalar: function(t) {
            return this.x += t,
            this.y += t,
            this.z += t,
            this.w += t,
            this
        },
        addVectors: function(t, e) {
            return this.x = t.x + e.x,
            this.y = t.y + e.y,
            this.z = t.z + e.z,
            this.w = t.w + e.w,
            this
        },
        addScaledVector: function(t, e) {
            return this.x += t.x * e,
            this.y += t.y * e,
            this.z += t.z * e,
            this.w += t.w * e,
            this
        },
        sub: function(t, e) {
            return void 0 !== e ? (console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),
            this.subVectors(t, e)) : (this.x -= t.x,
            this.y -= t.y,
            this.z -= t.z,
            this.w -= t.w,
            this)
        },
        subScalar: function(t) {
            return this.x -= t,
            this.y -= t,
            this.z -= t,
            this.w -= t,
            this
        },
        subVectors: function(t, e) {
            return this.x = t.x - e.x,
            this.y = t.y - e.y,
            this.z = t.z - e.z,
            this.w = t.w - e.w,
            this
        },
        multiplyScalar: function(t) {
            return this.x *= t,
            this.y *= t,
            this.z *= t,
            this.w *= t,
            this
        },
        applyMatrix4: function(t) {
            var e = this.x
              , n = this.y
              , r = this.z
              , i = this.w
              , o = t.elements;
            return this.x = o[0] * e + o[4] * n + o[8] * r + o[12] * i,
            this.y = o[1] * e + o[5] * n + o[9] * r + o[13] * i,
            this.z = o[2] * e + o[6] * n + o[10] * r + o[14] * i,
            this.w = o[3] * e + o[7] * n + o[11] * r + o[15] * i,
            this
        },
        divideScalar: function(t) {
            return this.multiplyScalar(1 / t)
        },
        setAxisAngleFromQuaternion: function(t) {
            this.w = 2 * Math.acos(t.w);
            var e = Math.sqrt(1 - t.w * t.w);
            return e < 1e-4 ? (this.x = 1,
            this.y = 0,
            this.z = 0) : (this.x = t.x / e,
            this.y = t.y / e,
            this.z = t.z / e),
            this
        },
        setAxisAngleFromRotationMatrix: function(t) {
            var e, n, r, i, o = t.elements, a = o[0], s = o[4], u = o[8], c = o[1], f = o[5], l = o[9], h = o[2], d = o[6], p = o[10];
            if (Math.abs(s - c) < .01 && Math.abs(u - h) < .01 && Math.abs(l - d) < .01) {
                if (Math.abs(s + c) < .1 && Math.abs(u + h) < .1 && Math.abs(l + d) < .1 && Math.abs(a + f + p - 3) < .1)
                    return this.set(1, 0, 0, 0),
                    this;
                e = Math.PI;
                var m = (a + 1) / 2
                  , v = (f + 1) / 2
                  , g = (p + 1) / 2
                  , y = (s + c) / 4
                  , b = (u + h) / 4
                  , _ = (l + d) / 4;
                return m > v && m > g ? m < .01 ? (n = 0,
                r = .707106781,
                i = .707106781) : (r = y / (n = Math.sqrt(m)),
                i = b / n) : v > g ? v < .01 ? (n = .707106781,
                r = 0,
                i = .707106781) : (n = y / (r = Math.sqrt(v)),
                i = _ / r) : g < .01 ? (n = .707106781,
                r = .707106781,
                i = 0) : (n = b / (i = Math.sqrt(g)),
                r = _ / i),
                this.set(n, r, i, e),
                this
            }
            var x = Math.sqrt((d - l) * (d - l) + (u - h) * (u - h) + (c - s) * (c - s));
            return Math.abs(x) < .001 && (x = 1),
            this.x = (d - l) / x,
            this.y = (u - h) / x,
            this.z = (c - s) / x,
            this.w = Math.acos((a + f + p - 1) / 2),
            this
        },
        min: function(t) {
            return this.x = Math.min(this.x, t.x),
            this.y = Math.min(this.y, t.y),
            this.z = Math.min(this.z, t.z),
            this.w = Math.min(this.w, t.w),
            this
        },
        max: function(t) {
            return this.x = Math.max(this.x, t.x),
            this.y = Math.max(this.y, t.y),
            this.z = Math.max(this.z, t.z),
            this.w = Math.max(this.w, t.w),
            this
        },
        clamp: function(t, e) {
            return this.x = Math.max(t.x, Math.min(e.x, this.x)),
            this.y = Math.max(t.y, Math.min(e.y, this.y)),
            this.z = Math.max(t.z, Math.min(e.z, this.z)),
            this.w = Math.max(t.w, Math.min(e.w, this.w)),
            this
        },
        clampScalar: function() {
            var t, e;
            return function(n, r) {
                return void 0 === t && (t = new un,
                e = new un),
                t.set(n, n, n, n),
                e.set(r, r, r, r),
                this.clamp(t, e)
            }
        }(),
        clampLength: function(t, e) {
            var n = this.length();
            return this.divideScalar(n || 1).multiplyScalar(Math.max(t, Math.min(e, n)))
        },
        floor: function() {
            return this.x = Math.floor(this.x),
            this.y = Math.floor(this.y),
            this.z = Math.floor(this.z),
            this.w = Math.floor(this.w),
            this
        },
        ceil: function() {
            return this.x = Math.ceil(this.x),
            this.y = Math.ceil(this.y),
            this.z = Math.ceil(this.z),
            this.w = Math.ceil(this.w),
            this
        },
        round: function() {
            return this.x = Math.round(this.x),
            this.y = Math.round(this.y),
            this.z = Math.round(this.z),
            this.w = Math.round(this.w),
            this
        },
        roundToZero: function() {
            return this.x = this.x < 0 ? Math.ceil(this.x) : Math.floor(this.x),
            this.y = this.y < 0 ? Math.ceil(this.y) : Math.floor(this.y),
            this.z = this.z < 0 ? Math.ceil(this.z) : Math.floor(this.z),
            this.w = this.w < 0 ? Math.ceil(this.w) : Math.floor(this.w),
            this
        },
        negate: function() {
            return this.x = -this.x,
            this.y = -this.y,
            this.z = -this.z,
            this.w = -this.w,
            this
        },
        dot: function(t) {
            return this.x * t.x + this.y * t.y + this.z * t.z + this.w * t.w
        },
        lengthSq: function() {
            return this.x * this.x + this.y * this.y + this.z * this.z + this.w * this.w
        },
        length: function() {
            return Math.sqrt(this.x * this.x + this.y * this.y + this.z * this.z + this.w * this.w)
        },
        manhattanLength: function() {
            return Math.abs(this.x) + Math.abs(this.y) + Math.abs(this.z) + Math.abs(this.w)
        },
        normalize: function() {
            return this.divideScalar(this.length() || 1)
        },
        setLength: function(t) {
            return this.normalize().multiplyScalar(t)
        },
        lerp: function(t, e) {
            return this.x += (t.x - this.x) * e,
            this.y += (t.y - this.y) * e,
            this.z += (t.z - this.z) * e,
            this.w += (t.w - this.w) * e,
            this
        },
        lerpVectors: function(t, e, n) {
            return this.subVectors(e, t).multiplyScalar(n).add(t)
        },
        equals: function(t) {
            return t.x === this.x && t.y === this.y && t.z === this.z && t.w === this.w
        },
        fromArray: function(t, e) {
            return void 0 === e && (e = 0),
            this.x = t[e],
            this.y = t[e + 1],
            this.z = t[e + 2],
            this.w = t[e + 3],
            this
        },
        toArray: function(t, e) {
            return void 0 === t && (t = []),
            void 0 === e && (e = 0),
            t[e] = this.x,
            t[e + 1] = this.y,
            t[e + 2] = this.z,
            t[e + 3] = this.w,
            t
        },
        fromBufferAttribute: function(t, e, n) {
            return void 0 !== n && console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),
            this.x = t.getX(e),
            this.y = t.getY(e),
            this.z = t.getZ(e),
            this.w = t.getW(e),
            this
        }
    }),
    cn.prototype = Object.assign(Object.create(r.prototype), {
        constructor: cn,
        isWebGLRenderTarget: !0,
        setSize: function(t, e) {
            this.width === t && this.height === e || (this.width = t,
            this.height = e,
            this.dispose()),
            this.viewport.set(0, 0, t, e),
            this.scissor.set(0, 0, t, e)
        },
        clone: function() {
            return (new this.constructor).copy(this)
        },
        copy: function(t) {
            return this.width = t.width,
            this.height = t.height,
            this.viewport.copy(t.viewport),
            this.texture = t.texture.clone(),
            this.depthBuffer = t.depthBuffer,
            this.stencilBuffer = t.stencilBuffer,
            this.depthTexture = t.depthTexture,
            this
        },
        dispose: function() {
            this.dispatchEvent({
                type: "dispose"
            })
        }
    }),
    fn.prototype = Object.create(cn.prototype),
    fn.prototype.constructor = fn,
    fn.prototype.isWebGLRenderTargetCube = !0,
    ln.prototype = Object.create(sn.prototype),
    ln.prototype.constructor = ln,
    ln.prototype.isDataTexture = !0,
    Object.assign(hn.prototype, {
        isBox3: !0,
        set: function(t, e) {
            return this.min.copy(t),
            this.max.copy(e),
            this
        },
        setFromArray: function(t) {
            for (var e = 1 / 0, n = 1 / 0, r = 1 / 0, i = -1 / 0, o = -1 / 0, a = -1 / 0, s = 0, u = t.length; s < u; s += 3) {
                var c = t[s]
                  , f = t[s + 1]
                  , l = t[s + 2];
                c < e && (e = c),
                f < n && (n = f),
                l < r && (r = l),
                c > i && (i = c),
                f > o && (o = f),
                l > a && (a = l)
            }
            return this.min.set(e, n, r),
            this.max.set(i, o, a),
            this
        },
        setFromBufferAttribute: function(t) {
            for (var e = 1 / 0, n = 1 / 0, r = 1 / 0, i = -1 / 0, o = -1 / 0, a = -1 / 0, s = 0, u = t.count; s < u; s++) {
                var c = t.getX(s)
                  , f = t.getY(s)
                  , l = t.getZ(s);
                c < e && (e = c),
                f < n && (n = f),
                l < r && (r = l),
                c > i && (i = c),
                f > o && (o = f),
                l > a && (a = l)
            }
            return this.min.set(e, n, r),
            this.max.set(i, o, a),
            this
        },
        setFromPoints: function(t) {
            this.makeEmpty();
            for (var e = 0, n = t.length; e < n; e++)
                this.expandByPoint(t[e]);
            return this
        },
        setFromCenterAndSize: function() {
            var t = new Ke;
            return function(e, n) {
                var r = t.copy(n).multiplyScalar(.5);
                return this.min.copy(e).sub(r),
                this.max.copy(e).add(r),
                this
            }
        }(),
        setFromObject: function(t) {
            return this.makeEmpty(),
            this.expandByObject(t)
        },
        clone: function() {
            return (new this.constructor).copy(this)
        },
        copy: function(t) {
            return this.min.copy(t.min),
            this.max.copy(t.max),
            this
        },
        makeEmpty: function() {
            return this.min.x = this.min.y = this.min.z = 1 / 0,
            this.max.x = this.max.y = this.max.z = -1 / 0,
            this
        },
        isEmpty: function() {
            return this.max.x < this.min.x || this.max.y < this.min.y || this.max.z < this.min.z
        },
        getCenter: function(t) {
            return void 0 === t && (console.warn("THREE.Box3: .getCenter() target is now required"),
            t = new Ke),
            this.isEmpty() ? t.set(0, 0, 0) : t.addVectors(this.min, this.max).multiplyScalar(.5)
        },
        getSize: function(t) {
            return void 0 === t && (console.warn("THREE.Box3: .getSize() target is now required"),
            t = new Ke),
            this.isEmpty() ? t.set(0, 0, 0) : t.subVectors(this.max, this.min)
        },
        expandByPoint: function(t) {
            return this.min.min(t),
            this.max.max(t),
            this
        },
        expandByVector: function(t) {
            return this.min.sub(t),
            this.max.add(t),
            this
        },
        expandByScalar: function(t) {
            return this.min.addScalar(-t),
            this.max.addScalar(t),
            this
        },
        expandByObject: function() {
            var t, e, n, r = new Ke;
            function i(i) {
                var o = i.geometry;
                if (void 0 !== o)
                    if (o.isGeometry) {
                        var a = o.vertices;
                        for (e = 0,
                        n = a.length; e < n; e++)
                            r.copy(a[e]),
                            r.applyMatrix4(i.matrixWorld),
                            t.expandByPoint(r)
                    } else if (o.isBufferGeometry) {
                        var s = o.attributes.position;
                        if (void 0 !== s)
                            for (e = 0,
                            n = s.count; e < n; e++)
                                r.fromBufferAttribute(s, e).applyMatrix4(i.matrixWorld),
                                t.expandByPoint(r)
                    }
            }
            return function(e) {
                return t = this,
                e.updateMatrixWorld(!0),
                e.traverse(i),
                this
            }
        }(),
        containsPoint: function(t) {
            return !(t.x < this.min.x || t.x > this.max.x || t.y < this.min.y || t.y > this.max.y || t.z < this.min.z || t.z > this.max.z)
        },
        containsBox: function(t) {
            return this.min.x <= t.min.x && t.max.x <= this.max.x && this.min.y <= t.min.y && t.max.y <= this.max.y && this.min.z <= t.min.z && t.max.z <= this.max.z
        },
        getParameter: function(t, e) {
            return void 0 === e && (console.warn("THREE.Box3: .getParameter() target is now required"),
            e = new Ke),
            e.set((t.x - this.min.x) / (this.max.x - this.min.x), (t.y - this.min.y) / (this.max.y - this.min.y), (t.z - this.min.z) / (this.max.z - this.min.z))
        },
        intersectsBox: function(t) {
            return !(t.max.x < this.min.x || t.min.x > this.max.x || t.max.y < this.min.y || t.min.y > this.max.y || t.max.z < this.min.z || t.min.z > this.max.z)
        },
        intersectsSphere: (tn = new Ke,
        function(t) {
            return this.clampPoint(t.center, tn),
            tn.distanceToSquared(t.center) <= t.radius * t.radius
        }
        ),
        intersectsPlane: function(t) {
            var e, n;
            return t.normal.x > 0 ? (e = t.normal.x * this.min.x,
            n = t.normal.x * this.max.x) : (e = t.normal.x * this.max.x,
            n = t.normal.x * this.min.x),
            t.normal.y > 0 ? (e += t.normal.y * this.min.y,
            n += t.normal.y * this.max.y) : (e += t.normal.y * this.max.y,
            n += t.normal.y * this.min.y),
            t.normal.z > 0 ? (e += t.normal.z * this.min.z,
            n += t.normal.z * this.max.z) : (e += t.normal.z * this.max.z,
            n += t.normal.z * this.min.z),
            e <= t.constant && n >= t.constant
        },
        intersectsTriangle: function() {
            var t = new Ke
              , e = new Ke
              , n = new Ke
              , r = new Ke
              , i = new Ke
              , o = new Ke
              , a = new Ke
              , s = new Ke
              , u = new Ke
              , c = new Ke;
            function f(r) {
                var i, o;
                for (i = 0,
                o = r.length - 3; i <= o; i += 3) {
                    a.fromArray(r, i);
                    var s = u.x * Math.abs(a.x) + u.y * Math.abs(a.y) + u.z * Math.abs(a.z)
                      , c = t.dot(a)
                      , f = e.dot(a)
                      , l = n.dot(a);
                    if (Math.max(-Math.max(c, f, l), Math.min(c, f, l)) > s)
                        return !1
                }
                return !0
            }
            return function(a) {
                if (this.isEmpty())
                    return !1;
                this.getCenter(s),
                u.subVectors(this.max, s),
                t.subVectors(a.a, s),
                e.subVectors(a.b, s),
                n.subVectors(a.c, s),
                r.subVectors(e, t),
                i.subVectors(n, e),
                o.subVectors(t, n);
                var l = [0, -r.z, r.y, 0, -i.z, i.y, 0, -o.z, o.y, r.z, 0, -r.x, i.z, 0, -i.x, o.z, 0, -o.x, -r.y, r.x, 0, -i.y, i.x, 0, -o.y, o.x, 0];
                return !!f(l) && (!!f(l = [1, 0, 0, 0, 1, 0, 0, 0, 1]) && (c.crossVectors(r, i),
                f(l = [c.x, c.y, c.z])))
            }
        }(),
        clampPoint: function(t, e) {
            return void 0 === e && (console.warn("THREE.Box3: .clampPoint() target is now required"),
            e = new Ke),
            e.copy(t).clamp(this.min, this.max)
        },
        distanceToPoint: function() {
            var t = new Ke;
            return function(e) {
                return t.copy(e).clamp(this.min, this.max).sub(e).length()
            }
        }(),
        getBoundingSphere: function() {
            var t = new Ke;
            return function(e) {
                return void 0 === e && (console.warn("THREE.Box3: .getBoundingSphere() target is now required"),
                e = new dn),
                this.getCenter(e.center),
                e.radius = .5 * this.getSize(t).length(),
                e
            }
        }(),
        intersect: function(t) {
            return this.min.max(t.min),
            this.max.min(t.max),
            this.isEmpty() && this.makeEmpty(),
            this
        },
        union: function(t) {
            return this.min.min(t.min),
            this.max.max(t.max),
            this
        },
        applyMatrix4: function(t) {
            if (this.isEmpty())
                return this;
            var e = t.elements
              , n = e[0] * this.min.x
              , r = e[1] * this.min.x
              , i = e[2] * this.min.x
              , o = e[0] * this.max.x
              , a = e[1] * this.max.x
              , s = e[2] * this.max.x
              , u = e[4] * this.min.y
              , c = e[5] * this.min.y
              , f = e[6] * this.min.y
              , l = e[4] * this.max.y
              , h = e[5] * this.max.y
              , d = e[6] * this.max.y
              , p = e[8] * this.min.z
              , m = e[9] * this.min.z
              , v = e[10] * this.min.z
              , g = e[8] * this.max.z
              , y = e[9] * this.max.z
              , b = e[10] * this.max.z;
            return this.min.x = Math.min(n, o) + Math.min(u, l) + Math.min(p, g) + e[12],
            this.min.y = Math.min(r, a) + Math.min(c, h) + Math.min(m, y) + e[13],
            this.min.z = Math.min(i, s) + Math.min(f, d) + Math.min(v, b) + e[14],
            this.max.x = Math.max(n, o) + Math.max(u, l) + Math.max(p, g) + e[12],
            this.max.y = Math.max(r, a) + Math.max(c, h) + Math.max(m, y) + e[13],
            this.max.z = Math.max(i, s) + Math.max(f, d) + Math.max(v, b) + e[14],
            this
        },
        translate: function(t) {
            return this.min.add(t),
            this.max.add(t),
            this
        },
        equals: function(t) {
            return t.min.equals(this.min) && t.max.equals(this.max)
        }
    }),
    Object.assign(dn.prototype, {
        set: function(t, e) {
            return this.center.copy(t),
            this.radius = e,
            this
        },
        setFromPoints: (en = new hn,
        function(t, e) {
            var n = this.center;
            void 0 !== e ? n.copy(e) : en.setFromPoints(t).getCenter(n);
            for (var r = 0, i = 0, o = t.length; i < o; i++)
                r = Math.max(r, n.distanceToSquared(t[i]));
            return this.radius = Math.sqrt(r),
            this
        }
        ),
        clone: function() {
            return (new this.constructor).copy(this)
        },
        copy: function(t) {
            return this.center.copy(t.center),
            this.radius = t.radius,
            this
        },
        empty: function() {
            return this.radius <= 0
        },
        containsPoint: function(t) {
            return t.distanceToSquared(this.center) <= this.radius * this.radius
        },
        distanceToPoint: function(t) {
            return t.distanceTo(this.center) - this.radius
        },
        intersectsSphere: function(t) {
            var e = this.radius + t.radius;
            return t.center.distanceToSquared(this.center) <= e * e
        },
        intersectsBox: function(t) {
            return t.intersectsSphere(this)
        },
        intersectsPlane: function(t) {
            return Math.abs(t.distanceToPoint(this.center)) <= this.radius
        },
        clampPoint: function(t, e) {
            var n = this.center.distanceToSquared(t);
            return void 0 === e && (console.warn("THREE.Sphere: .clampPoint() target is now required"),
            e = new Ke),
            e.copy(t),
            n > this.radius * this.radius && (e.sub(this.center).normalize(),
            e.multiplyScalar(this.radius).add(this.center)),
            e
        },
        getBoundingBox: function(t) {
            return void 0 === t && (console.warn("THREE.Sphere: .getBoundingBox() target is now required"),
            t = new hn),
            t.set(this.center, this.center),
            t.expandByScalar(this.radius),
            t
        },
        applyMatrix4: function(t) {
            return this.center.applyMatrix4(t),
            this.radius = this.radius * t.getMaxScaleOnAxis(),
            this
        },
        translate: function(t) {
            return this.center.add(t),
            this
        },
        equals: function(t) {
            return t.center.equals(this.center) && t.radius === this.radius
        }
    }),
    Object.assign(pn.prototype, {
        set: function(t, e) {
            return this.normal.copy(t),
            this.constant = e,
            this
        },
        setComponents: function(t, e, n, r) {
            return this.normal.set(t, e, n),
            this.constant = r,
            this
        },
        setFromNormalAndCoplanarPoint: function(t, e) {
            return this.normal.copy(t),
            this.constant = -e.dot(this.normal),
            this
        },
        setFromCoplanarPoints: function() {
            var t = new Ke
              , e = new Ke;
            return function(n, r, i) {
                var o = t.subVectors(i, r).cross(e.subVectors(n, r)).normalize();
                return this.setFromNormalAndCoplanarPoint(o, n),
                this
            }
        }(),
        clone: function() {
            return (new this.constructor).copy(this)
        },
        copy: function(t) {
            return this.normal.copy(t.normal),
            this.constant = t.constant,
            this
        },
        normalize: function() {
            var t = 1 / this.normal.length();
            return this.normal.multiplyScalar(t),
            this.constant *= t,
            this
        },
        negate: function() {
            return this.constant *= -1,
            this.normal.negate(),
            this
        },
        distanceToPoint: function(t) {
            return this.normal.dot(t) + this.constant
        },
        distanceToSphere: function(t) {
            return this.distanceToPoint(t.center) - t.radius
        },
        projectPoint: function(t, e) {
            return void 0 === e && (console.warn("THREE.Plane: .projectPoint() target is now required"),
            e = new Ke),
            e.copy(this.normal).multiplyScalar(-this.distanceToPoint(t)).add(t)
        },
        intersectLine: function() {
            var t = new Ke;
            return function(e, n) {
                void 0 === n && (console.warn("THREE.Plane: .intersectLine() target is now required"),
                n = new Ke);
                var r = e.delta(t)
                  , i = this.normal.dot(r);
                if (0 === i)
                    return 0 === this.distanceToPoint(e.start) ? n.copy(e.start) : void 0;
                var o = -(e.start.dot(this.normal) + this.constant) / i;
                return o < 0 || o > 1 ? void 0 : n.copy(r).multiplyScalar(o).add(e.start)
            }
        }(),
        intersectsLine: function(t) {
            var e = this.distanceToPoint(t.start)
              , n = this.distanceToPoint(t.end);
            return e < 0 && n > 0 || n < 0 && e > 0
        },
        intersectsBox: function(t) {
            return t.intersectsPlane(this)
        },
        intersectsSphere: function(t) {
            return t.intersectsPlane(this)
        },
        coplanarPoint: function(t) {
            return void 0 === t && (console.warn("THREE.Plane: .coplanarPoint() target is now required"),
            t = new Ke),
            t.copy(this.normal).multiplyScalar(-this.constant)
        },
        applyMatrix4: function() {
            var t = new Ke
              , e = new $e;
            return function(n, r) {
                var i = r || e.getNormalMatrix(n)
                  , o = this.coplanarPoint(t).applyMatrix4(n)
                  , a = this.normal.applyMatrix3(i).normalize();
                return this.constant = -o.dot(a),
                this
            }
        }(),
        translate: function(t) {
            return this.constant -= t.dot(this.normal),
            this
        },
        equals: function(t) {
            return t.normal.equals(this.normal) && t.constant === this.constant
        }
    }),
    Object.assign(mn.prototype, {
        set: function(t, e, n, r, i, o) {
            var a = this.planes;
            return a[0].copy(t),
            a[1].copy(e),
            a[2].copy(n),
            a[3].copy(r),
            a[4].copy(i),
            a[5].copy(o),
            this
        },
        clone: function() {
            return (new this.constructor).copy(this)
        },
        copy: function(t) {
            for (var e = this.planes, n = 0; n < 6; n++)
                e[n].copy(t.planes[n]);
            return this
        },
        setFromMatrix: function(t) {
            var e = this.planes
              , n = t.elements
              , r = n[0]
              , i = n[1]
              , o = n[2]
              , a = n[3]
              , s = n[4]
              , u = n[5]
              , c = n[6]
              , f = n[7]
              , l = n[8]
              , h = n[9]
              , d = n[10]
              , p = n[11]
              , m = n[12]
              , v = n[13]
              , g = n[14]
              , y = n[15];
            return e[0].setComponents(a - r, f - s, p - l, y - m).normalize(),
            e[1].setComponents(a + r, f + s, p + l, y + m).normalize(),
            e[2].setComponents(a + i, f + u, p + h, y + v).normalize(),
            e[3].setComponents(a - i, f - u, p - h, y - v).normalize(),
            e[4].setComponents(a - o, f - c, p - d, y - g).normalize(),
            e[5].setComponents(a + o, f + c, p + d, y + g).normalize(),
            this
        },
        intersectsObject: (rn = new dn,
        function(t) {
            var e = t.geometry;
            return null === e.boundingSphere && e.computeBoundingSphere(),
            rn.copy(e.boundingSphere).applyMatrix4(t.matrixWorld),
            this.intersectsSphere(rn)
        }
        ),
        intersectsSprite: function() {
            var t = new dn;
            return function(e) {
                return t.center.set(0, 0, 0),
                t.radius = .7071067811865476,
                t.applyMatrix4(e.matrixWorld),
                this.intersectsSphere(t)
            }
        }(),
        intersectsSphere: function(t) {
            for (var e = this.planes, n = t.center, r = -t.radius, i = 0; i < 6; i++) {
                if (e[i].distanceToPoint(n) < r)
                    return !1
            }
            return !0
        },
        intersectsBox: (nn = new Ke,
        function(t) {
            for (var e = this.planes, n = 0; n < 6; n++) {
                var r = e[n];
                if (nn.x = r.normal.x > 0 ? t.max.x : t.min.x,
                nn.y = r.normal.y > 0 ? t.max.y : t.min.y,
                nn.z = r.normal.z > 0 ? t.max.z : t.min.z,
                r.distanceToPoint(nn) < 0)
                    return !1
            }
            return !0
        }
        ),
        containsPoint: function(t) {
            for (var e = this.planes, n = 0; n < 6; n++)
                if (e[n].distanceToPoint(t) < 0)
                    return !1;
            return !0
        }
    });
    var vn, gn = {
        alphamap_fragment: "#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif\n",
        alphamap_pars_fragment: "#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif\n",
        alphatest_fragment: "#ifdef ALPHATEST\n\tif ( diffuseColor.a < ALPHATEST ) discard;\n#endif\n",
        aomap_fragment: "#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( PHYSICAL )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\n\t#endif\n#endif\n",
        aomap_pars_fragment: "#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",
        begin_vertex: "\nvec3 transformed = vec3( position );\n",
        beginnormal_vertex: "\nvec3 objectNormal = vec3( normal );\n",
        bsdfs: "float punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\tif( decayExponent > 0.0 ) {\n#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\t\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\t\tfloat maxDistanceCutoffFactor = pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t\treturn distanceFalloff * maxDistanceCutoffFactor;\n#else\n\t\treturn pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\n#endif\n\t}\n\treturn 1.0;\n}\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\n\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\n}\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\tfloat gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\treturn 1.0 / ( gl * gv );\n}\nfloat G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNL = saturate( dot( geometry.normal, incidentLight.direction ) );\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( G * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE  = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS  = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\nvec3 BRDF_Specular_GGX_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 AB = vec2( -1.04, 1.04 ) * a004 + r.zw;\n\treturn specularColor * AB.x + AB.y;\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\n\treturn ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\n}\nfloat BlinnExponentToGGXRoughness( const in float blinnExponent ) {\n\treturn sqrt( 2.0 / ( blinnExponent + 2.0 ) );\n}\n",
        bumpmap_pars_fragment: "#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\n\t\tvec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );\n\t\tvec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 );\n\t\tfDet *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif\n",
        clipping_planes_fragment: "#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\tplane = clippingPlanes[ i ];\n\t\tif ( dot( vViewPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\t#pragma unroll_loop\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vViewPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\tif ( clipped ) discard;\n\t#endif\n#endif\n",
        clipping_planes_pars_fragment: "#if NUM_CLIPPING_PLANES > 0\n\t#if ! defined( PHYSICAL ) && ! defined( PHONG )\n\t\tvarying vec3 vViewPosition;\n\t#endif\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif\n",
        clipping_planes_pars_vertex: "#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG )\n\tvarying vec3 vViewPosition;\n#endif\n",
        clipping_planes_vertex: "#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n",
        color_fragment: "#ifdef USE_COLOR\n\tdiffuseColor.rgb *= vColor;\n#endif",
        color_pars_fragment: "#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif\n",
        color_pars_vertex: "#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif",
        color_vertex: "#ifdef USE_COLOR\n\tvColor.xyz = color.xyz;\n#endif",
        common: "#define PI 3.14159265359\n#define PI2 6.28318530718\n#define PI_HALF 1.5707963267949\n#define RECIPROCAL_PI 0.31830988618\n#define RECIPROCAL_PI2 0.15915494\n#define LOG2 1.442695\n#define EPSILON 1e-6\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#define whiteCompliment(a) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract(sin(sn) * c);\n}\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\tfloat distance = dot( planeNormal, point - pointOnPlane );\n\treturn - distance * planeNormal + point;\n}\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn sign( dot( point - pointOnPlane, planeNormal ) );\n}\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat linearToRelativeLuminance( const in vec3 color ) {\n\tvec3 weights = vec3( 0.2126, 0.7152, 0.0722 );\n\treturn dot( weights, color.rgb );\n}\n",
        cube_uv_reflection_fragment: "#ifdef ENVMAP_TYPE_CUBE_UV\n#define cubeUV_textureSize (1024.0)\nint getFaceFromDirection(vec3 direction) {\n\tvec3 absDirection = abs(direction);\n\tint face = -1;\n\tif( absDirection.x > absDirection.z ) {\n\t\tif(absDirection.x > absDirection.y )\n\t\t\tface = direction.x > 0.0 ? 0 : 3;\n\t\telse\n\t\t\tface = direction.y > 0.0 ? 1 : 4;\n\t}\n\telse {\n\t\tif(absDirection.z > absDirection.y )\n\t\t\tface = direction.z > 0.0 ? 2 : 5;\n\t\telse\n\t\t\tface = direction.y > 0.0 ? 1 : 4;\n\t}\n\treturn face;\n}\n#define cubeUV_maxLods1  (log2(cubeUV_textureSize*0.25) - 1.0)\n#define cubeUV_rangeClamp (exp2((6.0 - 1.0) * 2.0))\nvec2 MipLevelInfo( vec3 vec, float roughnessLevel, float roughness ) {\n\tfloat scale = exp2(cubeUV_maxLods1 - roughnessLevel);\n\tfloat dxRoughness = dFdx(roughness);\n\tfloat dyRoughness = dFdy(roughness);\n\tvec3 dx = dFdx( vec * scale * dxRoughness );\n\tvec3 dy = dFdy( vec * scale * dyRoughness );\n\tfloat d = max( dot( dx, dx ), dot( dy, dy ) );\n\td = clamp(d, 1.0, cubeUV_rangeClamp);\n\tfloat mipLevel = 0.5 * log2(d);\n\treturn vec2(floor(mipLevel), fract(mipLevel));\n}\n#define cubeUV_maxLods2 (log2(cubeUV_textureSize*0.25) - 2.0)\n#define cubeUV_rcpTextureSize (1.0 / cubeUV_textureSize)\nvec2 getCubeUV(vec3 direction, float roughnessLevel, float mipLevel) {\n\tmipLevel = roughnessLevel > cubeUV_maxLods2 - 3.0 ? 0.0 : mipLevel;\n\tfloat a = 16.0 * cubeUV_rcpTextureSize;\n\tvec2 exp2_packed = exp2( vec2( roughnessLevel, mipLevel ) );\n\tvec2 rcp_exp2_packed = vec2( 1.0 ) / exp2_packed;\n\tfloat powScale = exp2_packed.x * exp2_packed.y;\n\tfloat scale = rcp_exp2_packed.x * rcp_exp2_packed.y * 0.25;\n\tfloat mipOffset = 0.75*(1.0 - rcp_exp2_packed.y) * rcp_exp2_packed.x;\n\tbool bRes = mipLevel == 0.0;\n\tscale =  bRes && (scale < a) ? a : scale;\n\tvec3 r;\n\tvec2 offset;\n\tint face = getFaceFromDirection(direction);\n\tfloat rcpPowScale = 1.0 / powScale;\n\tif( face == 0) {\n\t\tr = vec3(direction.x, -direction.z, direction.y);\n\t\toffset = vec2(0.0+mipOffset,0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 1) {\n\t\tr = vec3(direction.y, direction.x, direction.z);\n\t\toffset = vec2(scale+mipOffset, 0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 2) {\n\t\tr = vec3(direction.z, direction.x, direction.y);\n\t\toffset = vec2(2.0*scale+mipOffset, 0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 3) {\n\t\tr = vec3(direction.x, direction.z, direction.y);\n\t\toffset = vec2(0.0+mipOffset,0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\telse if( face == 4) {\n\t\tr = vec3(direction.y, direction.x, -direction.z);\n\t\toffset = vec2(scale+mipOffset, 0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\telse {\n\t\tr = vec3(direction.z, -direction.x, direction.y);\n\t\toffset = vec2(2.0*scale+mipOffset, 0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\tr = normalize(r);\n\tfloat texelOffset = 0.5 * cubeUV_rcpTextureSize;\n\tvec2 s = ( r.yz / abs( r.x ) + vec2( 1.0 ) ) * 0.5;\n\tvec2 base = offset + vec2( texelOffset );\n\treturn base + s * ( scale - 2.0 * texelOffset );\n}\n#define cubeUV_maxLods3 (log2(cubeUV_textureSize*0.25) - 3.0)\nvec4 textureCubeUV( sampler2D envMap, vec3 reflectedDirection, float roughness ) {\n\tfloat roughnessVal = roughness* cubeUV_maxLods3;\n\tfloat r1 = floor(roughnessVal);\n\tfloat r2 = r1 + 1.0;\n\tfloat t = fract(roughnessVal);\n\tvec2 mipInfo = MipLevelInfo(reflectedDirection, r1, roughness);\n\tfloat s = mipInfo.y;\n\tfloat level0 = mipInfo.x;\n\tfloat level1 = level0 + 1.0;\n\tlevel1 = level1 > 5.0 ? 5.0 : level1;\n\tlevel0 += min( floor( s + 0.5 ), 5.0 );\n\tvec2 uv_10 = getCubeUV(reflectedDirection, r1, level0);\n\tvec4 color10 = envMapTexelToLinear(texture2D(envMap, uv_10));\n\tvec2 uv_20 = getCubeUV(reflectedDirection, r2, level0);\n\tvec4 color20 = envMapTexelToLinear(texture2D(envMap, uv_20));\n\tvec4 result = mix(color10, color20, t);\n\treturn vec4(result.rgb, 1.0);\n}\n#endif\n",
        defaultnormal_vertex: "vec3 transformedNormal = normalMatrix * objectNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n",
        displacementmap_pars_vertex: "#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif\n",
        displacementmap_vertex: "#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, uv ).x * displacementScale + displacementBias );\n#endif\n",
        emissivemap_fragment: "#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif\n",
        emissivemap_pars_fragment: "#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif\n",
        encodings_fragment: "  gl_FragColor = linearToOutputTexel( gl_FragColor );\n",
        encodings_pars_fragment: "\nvec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.xyz, vec3( gammaFactor ) ), value.w );\n}\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.xyz, vec3( 1.0 / gammaFactor ) ), value.w );\n}\nvec4 sRGBToLinear( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.w );\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.w );\n}\nvec4 RGBEToLinear( in vec4 value ) {\n\treturn vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\n}\nvec4 LinearToRGBE( in vec4 value ) {\n\tfloat maxComponent = max( max( value.r, value.g ), value.b );\n\tfloat fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\n\treturn vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\n}\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.xyz * value.w * maxRange, 1.0 );\n}\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.x, max( value.g, value.b ) );\n\tfloat M      = clamp( maxRGB / maxRange, 0.0, 1.0 );\n\tM            = ceil( M * 255.0 ) / 255.0;\n\treturn vec4( value.rgb / ( M * maxRange ), M );\n}\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\n}\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.x, max( value.g, value.b ) );\n\tfloat D      = max( maxRange / maxRGB, 1.0 );\n\tD            = min( floor( D ) / 255.0, 1.0 );\n\treturn vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\n}\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\nvec4 LinearToLogLuv( in vec4 value )  {\n\tvec3 Xp_Y_XYZp = value.rgb * cLogLuvM;\n\tXp_Y_XYZp = max(Xp_Y_XYZp, vec3(1e-6, 1e-6, 1e-6));\n\tvec4 vResult;\n\tvResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\n\tfloat Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\n\tvResult.w = fract(Le);\n\tvResult.z = (Le - (floor(vResult.w*255.0))/255.0)/255.0;\n\treturn vResult;\n}\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\nvec4 LogLuvToLinear( in vec4 value ) {\n\tfloat Le = value.z * 255.0 + value.w;\n\tvec3 Xp_Y_XYZp;\n\tXp_Y_XYZp.y = exp2((Le - 127.0) / 2.0);\n\tXp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\n\tXp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\n\tvec3 vRGB = Xp_Y_XYZp.rgb * cLogLuvInverseM;\n\treturn vec4( max(vRGB, 0.0), 1.0 );\n}\n",
        envmap_fragment: "#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvec3 cameraToVertex = normalize( vWorldPosition - cameraPosition );\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\tvec2 sampleUV;\n\t\treflectVec = normalize( reflectVec );\n\t\tsampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\t\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\tvec4 envColor = texture2D( envMap, sampleUV );\n\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\treflectVec = normalize( reflectVec );\n\t\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0, 0.0, 1.0 ) );\n\t\tvec4 envColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5 );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\tenvColor = envMapTexelToLinear( envColor );\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif\n",
        envmap_pars_fragment: "#if defined( USE_ENVMAP ) || defined( PHYSICAL )\n\tuniform float reflectivity;\n\tuniform float envMapIntensity;\n#endif\n#ifdef USE_ENVMAP\n\t#if ! defined( PHYSICAL ) && ( defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) )\n\t\tvarying vec3 vWorldPosition;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\tuniform float flipEnvMap;\n\tuniform int maxMipLevel;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( PHYSICAL )\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif\n",
        envmap_pars_vertex: "#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif\n",
        envmap_physical_pars_fragment: "#if defined( USE_ENVMAP ) && defined( PHYSICAL )\n\tvec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {\n\t\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, queryVec, 1.0 );\n\t\t#else\n\t\t\tvec4 envMapColor = vec4( 0.0 );\n\t\t#endif\n\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t}\n\tfloat getSpecularMIPLevel( const in float blinnShininessExponent, const in int maxMIPLevel ) {\n\t\tfloat maxMIPLevelScalar = float( maxMIPLevel );\n\t\tfloat desiredMIPLevel = maxMIPLevelScalar + 0.79248 - 0.5 * log2( pow2( blinnShininessExponent ) + 1.0 );\n\t\treturn clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\n\t}\n\tvec3 getLightProbeIndirectRadiance( const in GeometricContext geometry, const in float blinnShininessExponent, const in int maxMIPLevel ) {\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( -geometry.viewDir, geometry.normal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( -geometry.viewDir, geometry.normal, refractionRatio );\n\t\t#endif\n\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\tfloat specularMIPLevel = getSpecularMIPLevel( blinnShininessExponent, maxMIPLevel );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, queryReflectVec, BlinnExponentToGGXRoughness(blinnShininessExponent ));\n\t\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\t\tvec2 sampleUV;\n\t\t\tsampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\t\t\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, sampleUV, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, sampleUV, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\t\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0,0.0,1.0 ) );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#endif\n\t\treturn envMapColor.rgb * envMapIntensity;\n\t}\n#endif\n",
        envmap_vertex: "#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif\n",
        fog_vertex: "\n#ifdef USE_FOG\nfogDepth = -mvPosition.z;\n#endif",
        fog_pars_vertex: "#ifdef USE_FOG\n  varying float fogDepth;\n#endif\n",
        fog_fragment: "#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = whiteCompliment( exp2( - fogDensity * fogDensity * fogDepth * fogDepth * LOG2 ) );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, fogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif\n",
        fog_pars_fragment: "#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float fogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif\n",
        gradientmap_pars_fragment: "#ifdef TOON\n\tuniform sampler2D gradientMap;\n\tvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\t\tfloat dotNL = dot( normal, lightDirection );\n\t\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t\t#ifdef USE_GRADIENTMAP\n\t\t\treturn texture2D( gradientMap, coord ).rgb;\n\t\t#else\n\t\t\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\n\t\t#endif\n\t}\n#endif\n",
        lightmap_fragment: "#ifdef USE_LIGHTMAP\n\treflectedLight.indirectDiffuse += PI * texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n#endif\n",
        lightmap_pars_fragment: "#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",
        lights_lambert_vertex: "vec3 diffuse = vec3( 1.0 );\nGeometricContext geometry;\ngeometry.position = mvPosition.xyz;\ngeometry.normal = normalize( transformedNormal );\ngeometry.viewDir = normalize( -mvPosition.xyz );\nGeometricContext backGeometry;\nbackGeometry.position = geometry.position;\nbackGeometry.normal = -geometry.normal;\nbackGeometry.viewDir = geometry.viewDir;\nvLightFront = vec3( 0.0 );\n#ifdef DOUBLE_SIDED\n\tvLightBack = vec3( 0.0 );\n#endif\nIncidentLight directLight;\nfloat dotNL;\nvec3 directLightColor_Diffuse;\n#if NUM_POINT_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tgetPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tgetSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_DIR_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tgetDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\tvLightFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\n\t\t#endif\n\t}\n#endif\n",
        lights_pars_begin: "uniform vec3 ambientLightColor;\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treturn irradiance;\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tdirectLight.color = directionalLight.color;\n\t\tdirectLight.direction = directionalLight.direction;\n\t\tdirectLight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t\tfloat shadowCameraNear;\n\t\tfloat shadowCameraFar;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tdirectLight.color = pointLight.color;\n\t\tdirectLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );\n\t\tdirectLight.visible = ( directLight.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight  ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tfloat angleCos = dot( directLight.direction, spotLight.direction );\n\t\tif ( angleCos > spotLight.coneCos ) {\n\t\t\tfloat spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\t\tdirectLight.color = spotLight.color;\n\t\t\tdirectLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tdirectLight.visible = true;\n\t\t} else {\n\t\t\tdirectLight.color = vec3( 0.0 );\n\t\t\tdirectLight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\n\t\tfloat dotNL = dot( geometry.normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tirradiance *= PI;\n\t\t#endif\n\t\treturn irradiance;\n\t}\n#endif\n",
        lights_phong_fragment: "BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;\n",
        lights_phong_pars_fragment: "varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct BlinnPhongMaterial {\n\tvec3\tdiffuseColor;\n\tvec3\tspecularColor;\n\tfloat\tspecularShininess;\n\tfloat\tspecularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\t#ifdef TOON\n\t\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\t#else\n\t\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\t\tvec3 irradiance = dotNL * directLight.color;\n\t#endif\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong\n#define Material_LightProbeLOD( material )\t(0)\n",
        lights_physical_fragment: "PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nmaterial.specularRoughness = clamp( roughnessFactor, 0.04, 1.0 );\n#ifdef STANDARD\n\tmaterial.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.clearCoat = saturate( clearCoat );\tmaterial.clearCoatRoughness = clamp( clearCoatRoughness, 0.04, 1.0 );\n#endif\n",
        lights_physical_pars_fragment: "struct PhysicalMaterial {\n\tvec3\tdiffuseColor;\n\tfloat\tspecularRoughness;\n\tvec3\tspecularColor;\n\t#ifndef STANDARD\n\t\tfloat clearCoat;\n\t\tfloat clearCoatRoughness;\n\t#endif\n};\n#define MAXIMUM_SPECULAR_COEFFICIENT 0.16\n#define DEFAULT_SPECULAR_COEFFICIENT 0.04\nfloat clearCoatDHRApprox( const in float roughness, const in float dotNL ) {\n\treturn DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometry.normal;\n\t\tvec3 viewDir = geometry.viewDir;\n\t\tvec3 position = geometry.position;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.specularRoughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos - halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos + halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos + halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos - halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\t#ifndef STANDARD\n\t\tfloat clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );\n\t#else\n\t\tfloat clearCoatDHR = 0.0;\n\t#endif\n\treflectedLight.directSpecular += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry, material.specularColor, material.specularRoughness );\n\treflectedLight.directDiffuse += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\t#ifndef STANDARD\n\t\treflectedLight.directSpecular += irradiance * material.clearCoat * BRDF_Specular_GGX( directLight, geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );\n\t#endif\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 clearCoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t#ifndef STANDARD\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\tfloat dotNL = dotNV;\n\t\tfloat clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );\n\t#else\n\t\tfloat clearCoatDHR = 0.0;\n\t#endif\n\treflectedLight.indirectSpecular += ( 1.0 - clearCoatDHR ) * radiance * BRDF_Specular_GGX_Environment( geometry, material.specularColor, material.specularRoughness );\n\t#ifndef STANDARD\n\t\treflectedLight.indirectSpecular += clearCoatRadiance * material.clearCoat * BRDF_Specular_GGX_Environment( geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );\n\t#endif\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\n#define Material_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.specularRoughness )\n#define Material_ClearCoat_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.clearCoatRoughness )\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}\n",
        lights_fragment_begin: "\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = normalize( vViewPosition );\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointDirectLightIrradiance( pointLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( pointLight.shadow, directLight.visible ) ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotDirectLightIrradiance( spotLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( spotLight.shadow, directLight.visible ) ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( directionalLight.shadow, directLight.visible ) ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t}\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearCoatRadiance = vec3( 0.0 );\n#endif\n",
        lights_fragment_maps: "#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec3 lightMapIrradiance = texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tlightMapIrradiance *= PI;\n\t\t#endif\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( PHYSICAL ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tirradiance += getLightProbeIndirectIrradiance( geometry, maxMipLevel );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tradiance += getLightProbeIndirectRadiance( geometry, Material_BlinnShininessExponent( material ), maxMipLevel );\n\t#ifndef STANDARD\n\t\tclearCoatRadiance += getLightProbeIndirectRadiance( geometry, Material_ClearCoat_BlinnShininessExponent( material ), maxMipLevel );\n\t#endif\n#endif\n",
        lights_fragment_end: "#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, clearCoatRadiance, geometry, material, reflectedLight );\n#endif\n",
        logdepthbuf_fragment: "#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",
        logdepthbuf_pars_fragment: "#ifdef USE_LOGDEPTHBUF\n\tuniform float logDepthBufFC;\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t#endif\n#endif\n",
        logdepthbuf_pars_vertex: "#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t#endif\n\tuniform float logDepthBufFC;\n#endif",
        logdepthbuf_vertex: "#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t#else\n\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\tgl_Position.z *= gl_Position.w;\n\t#endif\n#endif\n",
        map_fragment: "#ifdef USE_MAP\n\tvec4 texelColor = texture2D( map, vUv );\n\ttexelColor = mapTexelToLinear( texelColor );\n\tdiffuseColor *= texelColor;\n#endif\n",
        map_pars_fragment: "#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n",
        map_particle_fragment: "#ifdef USE_MAP\n\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n\tvec4 mapTexel = texture2D( map, uv );\n\tdiffuseColor *= mapTexelToLinear( mapTexel );\n#endif\n",
        map_particle_pars_fragment: "#ifdef USE_MAP\n\tuniform mat3 uvTransform;\n\tuniform sampler2D map;\n#endif\n",
        metalnessmap_fragment: "float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif\n",
        metalnessmap_pars_fragment: "#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",
        morphnormal_vertex: "#ifdef USE_MORPHNORMALS\n\tobjectNormal += ( morphNormal0 - normal ) * morphTargetInfluences[ 0 ];\n\tobjectNormal += ( morphNormal1 - normal ) * morphTargetInfluences[ 1 ];\n\tobjectNormal += ( morphNormal2 - normal ) * morphTargetInfluences[ 2 ];\n\tobjectNormal += ( morphNormal3 - normal ) * morphTargetInfluences[ 3 ];\n#endif\n",
        morphtarget_pars_vertex: "#ifdef USE_MORPHTARGETS\n\t#ifndef USE_MORPHNORMALS\n\tuniform float morphTargetInfluences[ 8 ];\n\t#else\n\tuniform float morphTargetInfluences[ 4 ];\n\t#endif\n#endif",
        morphtarget_vertex: "#ifdef USE_MORPHTARGETS\n\ttransformed += ( morphTarget0 - position ) * morphTargetInfluences[ 0 ];\n\ttransformed += ( morphTarget1 - position ) * morphTargetInfluences[ 1 ];\n\ttransformed += ( morphTarget2 - position ) * morphTargetInfluences[ 2 ];\n\ttransformed += ( morphTarget3 - position ) * morphTargetInfluences[ 3 ];\n\t#ifndef USE_MORPHNORMALS\n\ttransformed += ( morphTarget4 - position ) * morphTargetInfluences[ 4 ];\n\ttransformed += ( morphTarget5 - position ) * morphTargetInfluences[ 5 ];\n\ttransformed += ( morphTarget6 - position ) * morphTargetInfluences[ 6 ];\n\ttransformed += ( morphTarget7 - position ) * morphTargetInfluences[ 7 ];\n\t#endif\n#endif\n",
        normal_fragment_begin: "#ifdef FLAT_SHADED\n\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t#endif\n#endif\n",
        normal_fragment_maps: "#ifdef USE_NORMALMAP\n\t#ifdef OBJECTSPACE_NORMALMAP\n\t\tnormal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t\t#ifdef FLIP_SIDED\n\t\t\tnormal = - normal;\n\t\t#endif\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t#endif\n\t\tnormal = normalize( normalMatrix * normal );\n\t#else\n\t\tnormal = perturbNormal2Arb( -vViewPosition, normal );\n\t#endif\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );\n#endif\n",
        normalmap_pars_fragment: "#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n\t#ifdef OBJECTSPACE_NORMALMAP\n\t\tuniform mat3 normalMatrix;\n\t#else\n\t\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm ) {\n\t\t\tvec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\n\t\t\tvec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\n\t\t\tvec2 st0 = dFdx( vUv.st );\n\t\t\tvec2 st1 = dFdy( vUv.st );\n\t\t\tfloat scale = sign( st1.t * st0.s - st0.t * st1.s );\n\t\t\tvec3 S = normalize( ( q0 * st1.t - q1 * st0.t ) * scale );\n\t\t\tvec3 T = normalize( ( - q0 * st1.s + q1 * st0.s ) * scale );\n\t\t\tvec3 N = normalize( surf_norm );\n\t\t\tmat3 tsn = mat3( S, T, N );\n\t\t\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t\t\tmapN.xy *= normalScale;\n\t\t\tmapN.xy *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t\treturn normalize( tsn * mapN );\n\t\t}\n\t#endif\n#endif\n",
        packing: "vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256.,  256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n\treturn linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn (( near + viewZ ) * far ) / (( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\n}\n",
        premultiplied_alpha_fragment: "#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif\n",
        project_vertex: "vec4 mvPosition = modelViewMatrix * vec4( transformed, 1.0 );\ngl_Position = projectionMatrix * mvPosition;\n",
        dithering_fragment: "#if defined( DITHERING )\n  gl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif\n",
        dithering_pars_fragment: "#if defined( DITHERING )\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif\n",
        roughnessmap_fragment: "float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.g;\n#endif\n",
        roughnessmap_pars_fragment: "#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",
        shadowmap_pars_fragment: "#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHTS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHTS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHTS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tfloat texture2DShadowLerp( sampler2D depths, vec2 size, vec2 uv, float compare ) {\n\t\tconst vec2 offset = vec2( 0.0, 1.0 );\n\t\tvec2 texelSize = vec2( 1.0 ) / size;\n\t\tvec2 centroidUV = floor( uv * size + 0.5 ) / size;\n\t\tfloat lb = texture2DCompare( depths, centroidUV + texelSize * offset.xx, compare );\n\t\tfloat lt = texture2DCompare( depths, centroidUV + texelSize * offset.xy, compare );\n\t\tfloat rb = texture2DCompare( depths, centroidUV + texelSize * offset.yx, compare );\n\t\tfloat rt = texture2DCompare( depths, centroidUV + texelSize * offset.yy, compare );\n\t\tvec2 f = fract( uv * size + 0.5 );\n\t\tfloat a = mix( lb, lt, f.y );\n\t\tfloat b = mix( rb, rt, f.y );\n\t\tfloat c = mix( a, b, f.x );\n\t\treturn c;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\tbool inFrustum = all( inFrustumVec );\n\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\t\tbool frustumTest = all( frustumTestVec );\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tshadow = (\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif\n",
        shadowmap_pars_vertex: "#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHTS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHTS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHTS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\n\t#endif\n#endif\n",
        shadowmap_vertex: "#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n#endif\n",
        shadowmask_pars_fragment: "float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\tDirectionalLight directionalLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tshadow *= bool( directionalLight.shadow ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\tSpotLight spotLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tshadow *= bool( spotLight.shadow ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\tPointLight pointLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tshadow *= bool( pointLight.shadow ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#endif\n\t#endif\n\treturn shadow;\n}\n",
        skinbase_vertex: "#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",
        skinning_pars_vertex: "#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\t#ifdef BONE_TEXTURE\n\t\tuniform sampler2D boneTexture;\n\t\tuniform int boneTextureSize;\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tfloat j = i * 4.0;\n\t\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\t\ty = dy * ( y + 0.5 );\n\t\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\t\treturn bone;\n\t\t}\n\t#else\n\t\tuniform mat4 boneMatrices[ MAX_BONES ];\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tmat4 bone = boneMatrices[ int(i) ];\n\t\t\treturn bone;\n\t\t}\n\t#endif\n#endif\n",
        skinning_vertex: "#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif\n",
        skinnormal_vertex: "#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix  = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n#endif\n",
        specularmap_fragment: "float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",
        specularmap_pars_fragment: "#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",
        tonemapping_fragment: "#if defined( TONE_MAPPING )\n  gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif\n",
        tonemapping_pars_fragment: "#ifndef saturate\n\t#define saturate(a) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nuniform float toneMappingWhitePoint;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\n#define Uncharted2Helper( x ) max( ( ( x * ( 0.15 * x + 0.10 * 0.50 ) + 0.20 * 0.02 ) / ( x * ( 0.15 * x + 0.50 ) + 0.20 * 0.30 ) ) - 0.02 / 0.30, vec3( 0.0 ) )\nvec3 Uncharted2ToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( Uncharted2Helper( color ) / Uncharted2Helper( vec3( toneMappingWhitePoint ) ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\n",
        uv_pars_fragment: "#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvarying vec2 vUv;\n#endif",
        uv_pars_vertex: "#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvarying vec2 vUv;\n\tuniform mat3 uvTransform;\n#endif\n",
        uv_vertex: "#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n#endif",
        uv2_pars_fragment: "#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif",
        uv2_pars_vertex: "#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n#endif",
        uv2_vertex: "#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = uv2;\n#endif",
        worldpos_vertex: "#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP )\n\tvec4 worldPosition = modelMatrix * vec4( transformed, 1.0 );\n#endif\n",
        cube_frag: "uniform samplerCube tCube;\nuniform float tFlip;\nuniform float opacity;\nvarying vec3 vWorldPosition;\nvoid main() {\n\tgl_FragColor = textureCube( tCube, vec3( tFlip * vWorldPosition.x, vWorldPosition.yz ) );\n\tgl_FragColor.a *= opacity;\n}\n",
        cube_vert: "varying vec3 vWorldPosition;\n#include <common>\nvoid main() {\n\tvWorldPosition = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}\n",
        depth_frag: "#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - gl_FragCoord.z ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( gl_FragCoord.z );\n\t#endif\n}\n",
        depth_vert: "#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n}\n",
        distanceRGBA_frag: "#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}\n",
        distanceRGBA_vert: "#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}\n",
        equirect_frag: "uniform sampler2D tEquirect;\nvarying vec3 vWorldPosition;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldPosition );\n\tvec2 sampleUV;\n\tsampleUV.y = asin( clamp( direction.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\tsampleUV.x = atan( direction.z, direction.x ) * RECIPROCAL_PI2 + 0.5;\n\tgl_FragColor = texture2D( tEquirect, sampleUV );\n}\n",
        equirect_vert: "varying vec3 vWorldPosition;\n#include <common>\nvoid main() {\n\tvWorldPosition = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}\n",
        linedashed_frag: "uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",
        linedashed_vert: "uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\tvLineDistance = scale * lineDistance;\n\tvec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}\n",
        meshbasic_frag: "uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\treflectedLight.indirectDiffuse += texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",
        meshbasic_vert: "#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_ENVMAP\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}\n",
        meshlambert_frag: "uniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\nvarying vec3 vLightFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <emissivemap_fragment>\n\treflectedLight.indirectDiffuse = getAmbientLightIrradiance( ambientLightColor );\n\t#include <lightmap_fragment>\n\treflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\n\t#else\n\t\treflectedLight.directDiffuse = vLightFront;\n\t#endif\n\treflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}\n",
        meshlambert_vert: "#define LAMBERT\nvarying vec3 vLightFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <lights_lambert_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n",
        meshphong_frag: "#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}\n",
        meshphong_vert: "#define PHONG\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n",
        meshphysical_frag: "#define PHYSICAL\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifndef STANDARD\n\tuniform float clearCoat;\n\tuniform float clearCoatRoughness;\n#endif\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <bsdfs>\n#include <cube_uv_reflection_fragment>\n#include <envmap_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <lights_physical_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}\n",
        meshphysical_vert: "#define PHYSICAL\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n",
        normal_frag: "#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || ( defined( USE_NORMALMAP ) && ! defined( OBJECTSPACE_NORMALMAP ) )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\nvoid main() {\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n}\n",
        normal_vert: "#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || ( defined( USE_NORMALMAP ) && ! defined( OBJECTSPACE_NORMALMAP ) )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || ( defined( USE_NORMALMAP ) && ! defined( OBJECTSPACE_NORMALMAP ) )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}\n",
        points_frag: "uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",
        points_vert: "uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#ifdef USE_SIZEATTENUATION\n\t\tgl_PointSize = size * ( scale / - mvPosition.z );\n\t#else\n\t\tgl_PointSize = size;\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}\n",
        shadow_frag: "uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <fog_fragment>\n}\n",
        shadow_vert: "#include <fog_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n",
        sprite_frag: "uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",
        sprite_vert: "uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec2 scale;\n\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tvec4 mvPosition;\n\tmvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}\n"
    }, yn = {
        merge: function(t) {
            for (var e = {}, n = 0; n < t.length; n++) {
                var r = this.clone(t[n]);
                for (var i in r)
                    e[i] = r[i]
            }
            return e
        },
        clone: function(t) {
            var e = {};
            for (var n in t)
                for (var r in e[n] = {},
                t[n]) {
                    var i = t[n][r];
                    i && (i.isColor || i.isMatrix3 || i.isMatrix4 || i.isVector2 || i.isVector3 || i.isVector4 || i.isTexture) ? e[n][r] = i.clone() : Array.isArray(i) ? e[n][r] = i.slice() : e[n][r] = i
                }
            return e
        }
    }, bn = {
        aliceblue: 15792383,
        antiquewhite: 16444375,
        aqua: 65535,
        aquamarine: 8388564,
        azure: 15794175,
        beige: 16119260,
        bisque: 16770244,
        black: 0,
        blanchedalmond: 16772045,
        blue: 255,
        blueviolet: 9055202,
        brown: 10824234,
        burlywood: 14596231,
        cadetblue: 6266528,
        chartreuse: 8388352,
        chocolate: 13789470,
        coral: 16744272,
        cornflowerblue: 6591981,
        cornsilk: 16775388,
        crimson: 14423100,
        cyan: 65535,
        darkblue: 139,
        darkcyan: 35723,
        darkgoldenrod: 12092939,
        darkgray: 11119017,
        darkgreen: 25600,
        darkgrey: 11119017,
        darkkhaki: 12433259,
        darkmagenta: 9109643,
        darkolivegreen: 5597999,
        darkorange: 16747520,
        darkorchid: 10040012,
        darkred: 9109504,
        darksalmon: 15308410,
        darkseagreen: 9419919,
        darkslateblue: 4734347,
        darkslategray: 3100495,
        darkslategrey: 3100495,
        darkturquoise: 52945,
        darkviolet: 9699539,
        deeppink: 16716947,
        deepskyblue: 49151,
        dimgray: 6908265,
        dimgrey: 6908265,
        dodgerblue: 2003199,
        firebrick: 11674146,
        floralwhite: 16775920,
        forestgreen: 2263842,
        fuchsia: 16711935,
        gainsboro: 14474460,
        ghostwhite: 16316671,
        gold: 16766720,
        goldenrod: 14329120,
        gray: 8421504,
        green: 32768,
        greenyellow: 11403055,
        grey: 8421504,
        honeydew: 15794160,
        hotpink: 16738740,
        indianred: 13458524,
        indigo: 4915330,
        ivory: 16777200,
        khaki: 15787660,
        lavender: 15132410,
        lavenderblush: 16773365,
        lawngreen: 8190976,
        lemonchiffon: 16775885,
        lightblue: 11393254,
        lightcoral: 15761536,
        lightcyan: 14745599,
        lightgoldenrodyellow: 16448210,
        lightgray: 13882323,
        lightgreen: 9498256,
        lightgrey: 13882323,
        lightpink: 16758465,
        lightsalmon: 16752762,
        lightseagreen: 2142890,
        lightskyblue: 8900346,
        lightslategray: 7833753,
        lightslategrey: 7833753,
        lightsteelblue: 11584734,
        lightyellow: 16777184,
        lime: 65280,
        limegreen: 3329330,
        linen: 16445670,
        magenta: 16711935,
        maroon: 8388608,
        mediumaquamarine: 6737322,
        mediumblue: 205,
        mediumorchid: 12211667,
        mediumpurple: 9662683,
        mediumseagreen: 3978097,
        mediumslateblue: 8087790,
        mediumspringgreen: 64154,
        mediumturquoise: 4772300,
        mediumvioletred: 13047173,
        midnightblue: 1644912,
        mintcream: 16121850,
        mistyrose: 16770273,
        moccasin: 16770229,
        navajowhite: 16768685,
        navy: 128,
        oldlace: 16643558,
        olive: 8421376,
        olivedrab: 7048739,
        orange: 16753920,
        orangered: 16729344,
        orchid: 14315734,
        palegoldenrod: 15657130,
        palegreen: 10025880,
        paleturquoise: 11529966,
        palevioletred: 14381203,
        papayawhip: 16773077,
        peachpuff: 16767673,
        peru: 13468991,
        pink: 16761035,
        plum: 14524637,
        powderblue: 11591910,
        purple: 8388736,
        rebeccapurple: 6697881,
        red: 16711680,
        rosybrown: 12357519,
        royalblue: 4286945,
        saddlebrown: 9127187,
        salmon: 16416882,
        sandybrown: 16032864,
        seagreen: 3050327,
        seashell: 16774638,
        sienna: 10506797,
        silver: 12632256,
        skyblue: 8900331,
        slateblue: 6970061,
        slategray: 7372944,
        slategrey: 7372944,
        snow: 16775930,
        springgreen: 65407,
        steelblue: 4620980,
        tan: 13808780,
        teal: 32896,
        thistle: 14204888,
        tomato: 16737095,
        turquoise: 4251856,
        violet: 15631086,
        wheat: 16113331,
        white: 16777215,
        whitesmoke: 16119285,
        yellow: 16776960,
        yellowgreen: 10145074
    };
    function _n(t, e, n) {
        return void 0 === e && void 0 === n ? this.set(t) : this.setRGB(t, e, n)
    }
    Object.assign(_n.prototype, {
        isColor: !0,
        r: 1,
        g: 1,
        b: 1,
        set: function(t) {
            return t && t.isColor ? this.copy(t) : "number" == typeof t ? this.setHex(t) : "string" == typeof t && this.setStyle(t),
            this
        },
        setScalar: function(t) {
            return this.r = t,
            this.g = t,
            this.b = t,
            this
        },
        setHex: function(t) {
            return t = Math.floor(t),
            this.r = (t >> 16 & 255) / 255,
            this.g = (t >> 8 & 255) / 255,
            this.b = (255 & t) / 255,
            this
        },
        setRGB: function(t, e, n) {
            return this.r = t,
            this.g = e,
            this.b = n,
            this
        },
        setHSL: function() {
            function t(t, e, n) {
                return n < 0 && (n += 1),
                n > 1 && (n -= 1),
                n < 1 / 6 ? t + 6 * (e - t) * n : n < .5 ? e : n < 2 / 3 ? t + 6 * (e - t) * (2 / 3 - n) : t
            }
            return function(e, n, r) {
                if (e = Ye.euclideanModulo(e, 1),
                n = Ye.clamp(n, 0, 1),
                r = Ye.clamp(r, 0, 1),
                0 === n)
                    this.r = this.g = this.b = r;
                else {
                    var i = r <= .5 ? r * (1 + n) : r + n - r * n
                      , o = 2 * r - i;
                    this.r = t(o, i, e + 1 / 3),
                    this.g = t(o, i, e),
                    this.b = t(o, i, e - 1 / 3)
                }
                return this
            }
        }(),
        setStyle: function(t) {
            function e(e) {
                void 0 !== e && parseFloat(e) < 1 && console.warn("THREE.Color: Alpha component of " + t + " will be ignored.")
            }
            var n;
            if (n = /^((?:rgb|hsl)a?)\(\s*([^\)]*)\)/.exec(t)) {
                var r, i = n[1], o = n[2];
                switch (i) {
                case "rgb":
                case "rgba":
                    if (r = /^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(o))
                        return this.r = Math.min(255, parseInt(r[1], 10)) / 255,
                        this.g = Math.min(255, parseInt(r[2], 10)) / 255,
                        this.b = Math.min(255, parseInt(r[3], 10)) / 255,
                        e(r[5]),
                        this;
                    if (r = /^(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(o))
                        return this.r = Math.min(100, parseInt(r[1], 10)) / 100,
                        this.g = Math.min(100, parseInt(r[2], 10)) / 100,
                        this.b = Math.min(100, parseInt(r[3], 10)) / 100,
                        e(r[5]),
                        this;
                    break;
                case "hsl":
                case "hsla":
                    if (r = /^([0-9]*\.?[0-9]+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(o)) {
                        var a = parseFloat(r[1]) / 360
                          , s = parseInt(r[2], 10) / 100
                          , u = parseInt(r[3], 10) / 100;
                        return e(r[5]),
                        this.setHSL(a, s, u)
                    }
                }
            } else if (n = /^\#([A-Fa-f0-9]+)$/.exec(t)) {
                var c, f = (c = n[1]).length;
                if (3 === f)
                    return this.r = parseInt(c.charAt(0) + c.charAt(0), 16) / 255,
                    this.g = parseInt(c.charAt(1) + c.charAt(1), 16) / 255,
                    this.b = parseInt(c.charAt(2) + c.charAt(2), 16) / 255,
                    this;
                if (6 === f)
                    return this.r = parseInt(c.charAt(0) + c.charAt(1), 16) / 255,
                    this.g = parseInt(c.charAt(2) + c.charAt(3), 16) / 255,
                    this.b = parseInt(c.charAt(4) + c.charAt(5), 16) / 255,
                    this
            }
            t && t.length > 0 && (void 0 !== (c = bn[t]) ? this.setHex(c) : console.warn("THREE.Color: Unknown color " + t));
            return this
        },
        clone: function() {
            return new this.constructor(this.r,this.g,this.b)
        },
        copy: function(t) {
            return this.r = t.r,
            this.g = t.g,
            this.b = t.b,
            this
        },
        copyGammaToLinear: function(t, e) {
            return void 0 === e && (e = 2),
            this.r = Math.pow(t.r, e),
            this.g = Math.pow(t.g, e),
            this.b = Math.pow(t.b, e),
            this
        },
        copyLinearToGamma: function(t, e) {
            void 0 === e && (e = 2);
            var n = e > 0 ? 1 / e : 1;
            return this.r = Math.pow(t.r, n),
            this.g = Math.pow(t.g, n),
            this.b = Math.pow(t.b, n),
            this
        },
        convertGammaToLinear: function(t) {
            return this.copyGammaToLinear(this, t),
            this
        },
        convertLinearToGamma: function(t) {
            return this.copyLinearToGamma(this, t),
            this
        },
        copySRGBToLinear: function() {
            function t(t) {
                return t < .04045 ? .0773993808 * t : Math.pow(.9478672986 * t + .0521327014, 2.4)
            }
            return function(e) {
                return this.r = t(e.r),
                this.g = t(e.g),
                this.b = t(e.b),
                this
            }
        }(),
        copyLinearToSRGB: function() {
            function t(t) {
                return t < .0031308 ? 12.92 * t : 1.055 * Math.pow(t, .41666) - .055
            }
            return function(e) {
                return this.r = t(e.r),
                this.g = t(e.g),
                this.b = t(e.b),
                this
            }
        }(),
        convertSRGBToLinear: function() {
            return this.copySRGBToLinear(this),
            this
        },
        convertLinearToSRGB: function() {
            return this.copyLinearToSRGB(this),
            this
        },
        getHex: function() {
            return 255 * this.r << 16 ^ 255 * this.g << 8 ^ 255 * this.b << 0
        },
        getHexString: function() {
            return ("000000" + this.getHex().toString(16)).slice(-6)
        },
        getHSL: function(t) {
            void 0 === t && (console.warn("THREE.Color: .getHSL() target is now required"),
            t = {
                h: 0,
                s: 0,
                l: 0
            });
            var e, n, r = this.r, i = this.g, o = this.b, a = Math.max(r, i, o), s = Math.min(r, i, o), u = (s + a) / 2;
            if (s === a)
                e = 0,
                n = 0;
            else {
                var c = a - s;
                switch (n = u <= .5 ? c / (a + s) : c / (2 - a - s),
                a) {
                case r:
                    e = (i - o) / c + (i < o ? 6 : 0);
                    break;
                case i:
                    e = (o - r) / c + 2;
                    break;
                case o:
                    e = (r - i) / c + 4
                }
                e /= 6
            }
            return t.h = e,
            t.s = n,
            t.l = u,
            t
        },
        getStyle: function() {
            return "rgb(" + (255 * this.r | 0) + "," + (255 * this.g | 0) + "," + (255 * this.b | 0) + ")"
        },
        offsetHSL: (vn = {},
        function(t, e, n) {
            return this.getHSL(vn),
            vn.h += t,
            vn.s += e,
            vn.l += n,
            this.setHSL(vn.h, vn.s, vn.l),
            this
        }
        ),
        add: function(t) {
            return this.r += t.r,
            this.g += t.g,
            this.b += t.b,
            this
        },
        addColors: function(t, e) {
            return this.r = t.r + e.r,
            this.g = t.g + e.g,
            this.b = t.b + e.b,
            this
        },
        addScalar: function(t) {
            return this.r += t,
            this.g += t,
            this.b += t,
            this
        },
        sub: function(t) {
            return this.r = Math.max(0, this.r - t.r),
            this.g = Math.max(0, this.g - t.g),
            this.b = Math.max(0, this.b - t.b),
            this
        },
        multiply: function(t) {
            return this.r *= t.r,
            this.g *= t.g,
            this.b *= t.b,
            this
        },
        multiplyScalar: function(t) {
            return this.r *= t,
            this.g *= t,
            this.b *= t,
            this
        },
        lerp: function(t, e) {
            return this.r += (t.r - this.r) * e,
            this.g += (t.g - this.g) * e,
            this.b += (t.b - this.b) * e,
            this
        },
        equals: function(t) {
            return t.r === this.r && t.g === this.g && t.b === this.b
        },
        fromArray: function(t, e) {
            return void 0 === e && (e = 0),
            this.r = t[e],
            this.g = t[e + 1],
            this.b = t[e + 2],
            this
        },
        toArray: function(t, e) {
            return void 0 === t && (t = []),
            void 0 === e && (e = 0),
            t[e] = this.r,
            t[e + 1] = this.g,
            t[e + 2] = this.b,
            t
        },
        toJSON: function() {
            return this.getHex()
        }
    });
    var xn, wn = {
        common: {
            diffuse: {
                value: new _n(15658734)
            },
            opacity: {
                value: 1
            },
            map: {
                value: null
            },
            uvTransform: {
                value: new $e
            },
            alphaMap: {
                value: null
            }
        },
        specularmap: {
            specularMap: {
                value: null
            }
        },
        envmap: {
            envMap: {
                value: null
            },
            flipEnvMap: {
                value: -1
            },
            reflectivity: {
                value: 1
            },
            refractionRatio: {
                value: .98
            },
            maxMipLevel: {
                value: 0
            }
        },
        aomap: {
            aoMap: {
                value: null
            },
            aoMapIntensity: {
                value: 1
            }
        },
        lightmap: {
            lightMap: {
                value: null
            },
            lightMapIntensity: {
                value: 1
            }
        },
        emissivemap: {
            emissiveMap: {
                value: null
            }
        },
        bumpmap: {
            bumpMap: {
                value: null
            },
            bumpScale: {
                value: 1
            }
        },
        normalmap: {
            normalMap: {
                value: null
            },
            normalScale: {
                value: new Ze(1,1)
            }
        },
        displacementmap: {
            displacementMap: {
                value: null
            },
            displacementScale: {
                value: 1
            },
            displacementBias: {
                value: 0
            }
        },
        roughnessmap: {
            roughnessMap: {
                value: null
            }
        },
        metalnessmap: {
            metalnessMap: {
                value: null
            }
        },
        gradientmap: {
            gradientMap: {
                value: null
            }
        },
        fog: {
            fogDensity: {
                value: 25e-5
            },
            fogNear: {
                value: 1
            },
            fogFar: {
                value: 2e3
            },
            fogColor: {
                value: new _n(16777215)
            }
        },
        lights: {
            ambientLightColor: {
                value: []
            },
            directionalLights: {
                value: [],
                properties: {
                    direction: {},
                    color: {},
                    shadow: {},
                    shadowBias: {},
                    shadowRadius: {},
                    shadowMapSize: {}
                }
            },
            directionalShadowMap: {
                value: []
            },
            directionalShadowMatrix: {
                value: []
            },
            spotLights: {
                value: [],
                properties: {
                    color: {},
                    position: {},
                    direction: {},
                    distance: {},
                    coneCos: {},
                    penumbraCos: {},
                    decay: {},
                    shadow: {},
                    shadowBias: {},
                    shadowRadius: {},
                    shadowMapSize: {}
                }
            },
            spotShadowMap: {
                value: []
            },
            spotShadowMatrix: {
                value: []
            },
            pointLights: {
                value: [],
                properties: {
                    color: {},
                    position: {},
                    decay: {},
                    distance: {},
                    shadow: {},
                    shadowBias: {},
                    shadowRadius: {},
                    shadowMapSize: {},
                    shadowCameraNear: {},
                    shadowCameraFar: {}
                }
            },
            pointShadowMap: {
                value: []
            },
            pointShadowMatrix: {
                value: []
            },
            hemisphereLights: {
                value: [],
                properties: {
                    direction: {},
                    skyColor: {},
                    groundColor: {}
                }
            },
            rectAreaLights: {
                value: [],
                properties: {
                    color: {},
                    position: {},
                    width: {},
                    height: {}
                }
            }
        },
        points: {
            diffuse: {
                value: new _n(15658734)
            },
            opacity: {
                value: 1
            },
            size: {
                value: 1
            },
            scale: {
                value: 1
            },
            map: {
                value: null
            },
            uvTransform: {
                value: new $e
            }
        },
        sprite: {
            diffuse: {
                value: new _n(15658734)
            },
            opacity: {
                value: 1
            },
            center: {
                value: new Ze(.5,.5)
            },
            rotation: {
                value: 0
            },
            map: {
                value: null
            },
            uvTransform: {
                value: new $e
            }
        }
    }, Mn = {
        basic: {
            uniforms: yn.merge([wn.common, wn.specularmap, wn.envmap, wn.aomap, wn.lightmap, wn.fog]),
            vertexShader: gn.meshbasic_vert,
            fragmentShader: gn.meshbasic_frag
        },
        lambert: {
            uniforms: yn.merge([wn.common, wn.specularmap, wn.envmap, wn.aomap, wn.lightmap, wn.emissivemap, wn.fog, wn.lights, {
                emissive: {
                    value: new _n(0)
                }
            }]),
            vertexShader: gn.meshlambert_vert,
            fragmentShader: gn.meshlambert_frag
        },
        phong: {
            uniforms: yn.merge([wn.common, wn.specularmap, wn.envmap, wn.aomap, wn.lightmap, wn.emissivemap, wn.bumpmap, wn.normalmap, wn.displacementmap, wn.gradientmap, wn.fog, wn.lights, {
                emissive: {
                    value: new _n(0)
                },
                specular: {
                    value: new _n(1118481)
                },
                shininess: {
                    value: 30
                }
            }]),
            vertexShader: gn.meshphong_vert,
            fragmentShader: gn.meshphong_frag
        },
        standard: {
            uniforms: yn.merge([wn.common, wn.envmap, wn.aomap, wn.lightmap, wn.emissivemap, wn.bumpmap, wn.normalmap, wn.displacementmap, wn.roughnessmap, wn.metalnessmap, wn.fog, wn.lights, {
                emissive: {
                    value: new _n(0)
                },
                roughness: {
                    value: .5
                },
                metalness: {
                    value: .5
                },
                envMapIntensity: {
                    value: 1
                }
            }]),
            vertexShader: gn.meshphysical_vert,
            fragmentShader: gn.meshphysical_frag
        },
        points: {
            uniforms: yn.merge([wn.points, wn.fog]),
            vertexShader: gn.points_vert,
            fragmentShader: gn.points_frag
        },
        dashed: {
            uniforms: yn.merge([wn.common, wn.fog, {
                scale: {
                    value: 1
                },
                dashSize: {
                    value: 1
                },
                totalSize: {
                    value: 2
                }
            }]),
            vertexShader: gn.linedashed_vert,
            fragmentShader: gn.linedashed_frag
        },
        depth: {
            uniforms: yn.merge([wn.common, wn.displacementmap]),
            vertexShader: gn.depth_vert,
            fragmentShader: gn.depth_frag
        },
        normal: {
            uniforms: yn.merge([wn.common, wn.bumpmap, wn.normalmap, wn.displacementmap, {
                opacity: {
                    value: 1
                }
            }]),
            vertexShader: gn.normal_vert,
            fragmentShader: gn.normal_frag
        },
        sprite: {
            uniforms: yn.merge([wn.sprite, wn.fog]),
            vertexShader: gn.sprite_vert,
            fragmentShader: gn.sprite_frag
        },
        cube: {
            uniforms: {
                tCube: {
                    value: null
                },
                tFlip: {
                    value: -1
                },
                opacity: {
                    value: 1
                }
            },
            vertexShader: gn.cube_vert,
            fragmentShader: gn.cube_frag
        },
        equirect: {
            uniforms: {
                tEquirect: {
                    value: null
                }
            },
            vertexShader: gn.equirect_vert,
            fragmentShader: gn.equirect_frag
        },
        distanceRGBA: {
            uniforms: yn.merge([wn.common, wn.displacementmap, {
                referencePosition: {
                    value: new Ke
                },
                nearDistance: {
                    value: 1
                },
                farDistance: {
                    value: 1e3
                }
            }]),
            vertexShader: gn.distanceRGBA_vert,
            fragmentShader: gn.distanceRGBA_frag
        },
        shadow: {
            uniforms: yn.merge([wn.lights, wn.fog, {
                color: {
                    value: new _n(0)
                },
                opacity: {
                    value: 1
                }
            }]),
            vertexShader: gn.shadow_vert,
            fragmentShader: gn.shadow_frag
        }
    };
    function En() {
        var t = null
          , e = !1
          , n = null;
        function r(i, o) {
            !1 !== e && (n(i, o),
            t.requestAnimationFrame(r))
        }
        return {
            start: function() {
                !0 !== e && null !== n && (t.requestAnimationFrame(r),
                e = !0)
            },
            stop: function() {
                e = !1
            },
            setAnimationLoop: function(t) {
                n = t
            },
            setContext: function(e) {
                t = e
            }
        }
    }
    function Tn(t) {
        var e = new WeakMap;
        return {
            get: function(t) {
                return t.isInterleavedBufferAttribute && (t = t.data),
                e.get(t)
            },
            remove: function(n) {
                n.isInterleavedBufferAttribute && (n = n.data);
                var r = e.get(n);
                r && (t.deleteBuffer(r.buffer),
                e.delete(n))
            },
            update: function(n, r) {
                n.isInterleavedBufferAttribute && (n = n.data);
                var i = e.get(n);
                void 0 === i ? e.set(n, function(e, n) {
                    var r = e.array
                      , i = e.dynamic ? t.DYNAMIC_DRAW : t.STATIC_DRAW
                      , o = t.createBuffer();
                    t.bindBuffer(n, o),
                    t.bufferData(n, r, i),
                    e.onUploadCallback();
                    var a = t.FLOAT;
                    return r instanceof Float32Array ? a = t.FLOAT : r instanceof Float64Array ? console.warn("THREE.WebGLAttributes: Unsupported data buffer format: Float64Array.") : r instanceof Uint16Array ? a = t.UNSIGNED_SHORT : r instanceof Int16Array ? a = t.SHORT : r instanceof Uint32Array ? a = t.UNSIGNED_INT : r instanceof Int32Array ? a = t.INT : r instanceof Int8Array ? a = t.BYTE : r instanceof Uint8Array && (a = t.UNSIGNED_BYTE),
                    {
                        buffer: o,
                        type: a,
                        bytesPerElement: r.BYTES_PER_ELEMENT,
                        version: e.version
                    }
                }(n, r)) : i.version < n.version && (function(e, n, r) {
                    var i = n.array
                      , o = n.updateRange;
                    t.bindBuffer(r, e),
                    !1 === n.dynamic ? t.bufferData(r, i, t.STATIC_DRAW) : -1 === o.count ? t.bufferSubData(r, 0, i) : 0 === o.count ? console.error("THREE.WebGLObjects.updateBuffer: dynamic THREE.BufferAttribute marked as needsUpdate but updateRange.count is 0, ensure you are using set methods or updating manually.") : (t.bufferSubData(r, o.offset * i.BYTES_PER_ELEMENT, i.subarray(o.offset, o.offset + o.count)),
                    o.count = -1)
                }(i.buffer, n, r),
                i.version = n.version)
            }
        }
    }
    function Sn(t, e, n, r) {
        this._x = t || 0,
        this._y = e || 0,
        this._z = n || 0,
        this._order = r || Sn.DefaultOrder
    }
    function On() {
        this.mask = 1
    }
    Mn.physical = {
        uniforms: yn.merge([Mn.standard.uniforms, {
            clearCoat: {
                value: 0
            },
            clearCoatRoughness: {
                value: 0
            }
        }]),
        vertexShader: gn.meshphysical_vert,
        fragmentShader: gn.meshphysical_frag
    },
    Sn.RotationOrders = ["XYZ", "YZX", "ZXY", "XZY", "YXZ", "ZYX"],
    Sn.DefaultOrder = "XYZ",
    Object.defineProperties(Sn.prototype, {
        x: {
            get: function() {
                return this._x
            },
            set: function(t) {
                this._x = t,
                this.onChangeCallback()
            }
        },
        y: {
            get: function() {
                return this._y
            },
            set: function(t) {
                this._y = t,
                this.onChangeCallback()
            }
        },
        z: {
            get: function() {
                return this._z
            },
            set: function(t) {
                this._z = t,
                this.onChangeCallback()
            }
        },
        order: {
            get: function() {
                return this._order
            },
            set: function(t) {
                this._order = t,
                this.onChangeCallback()
            }
        }
    }),
    Object.assign(Sn.prototype, {
        isEuler: !0,
        set: function(t, e, n, r) {
            return this._x = t,
            this._y = e,
            this._z = n,
            this._order = r || this._order,
            this.onChangeCallback(),
            this
        },
        clone: function() {
            return new this.constructor(this._x,this._y,this._z,this._order)
        },
        copy: function(t) {
            return this._x = t._x,
            this._y = t._y,
            this._z = t._z,
            this._order = t._order,
            this.onChangeCallback(),
            this
        },
        setFromRotationMatrix: function(t, e, n) {
            var r = Ye.clamp
              , i = t.elements
              , o = i[0]
              , a = i[4]
              , s = i[8]
              , u = i[1]
              , c = i[5]
              , f = i[9]
              , l = i[2]
              , h = i[6]
              , d = i[10];
            return "XYZ" === (e = e || this._order) ? (this._y = Math.asin(r(s, -1, 1)),
            Math.abs(s) < .99999 ? (this._x = Math.atan2(-f, d),
            this._z = Math.atan2(-a, o)) : (this._x = Math.atan2(h, c),
            this._z = 0)) : "YXZ" === e ? (this._x = Math.asin(-r(f, -1, 1)),
            Math.abs(f) < .99999 ? (this._y = Math.atan2(s, d),
            this._z = Math.atan2(u, c)) : (this._y = Math.atan2(-l, o),
            this._z = 0)) : "ZXY" === e ? (this._x = Math.asin(r(h, -1, 1)),
            Math.abs(h) < .99999 ? (this._y = Math.atan2(-l, d),
            this._z = Math.atan2(-a, c)) : (this._y = 0,
            this._z = Math.atan2(u, o))) : "ZYX" === e ? (this._y = Math.asin(-r(l, -1, 1)),
            Math.abs(l) < .99999 ? (this._x = Math.atan2(h, d),
            this._z = Math.atan2(u, o)) : (this._x = 0,
            this._z = Math.atan2(-a, c))) : "YZX" === e ? (this._z = Math.asin(r(u, -1, 1)),
            Math.abs(u) < .99999 ? (this._x = Math.atan2(-f, c),
            this._y = Math.atan2(-l, o)) : (this._x = 0,
            this._y = Math.atan2(s, d))) : "XZY" === e ? (this._z = Math.asin(-r(a, -1, 1)),
            Math.abs(a) < .99999 ? (this._x = Math.atan2(h, c),
            this._y = Math.atan2(s, o)) : (this._x = Math.atan2(-f, d),
            this._y = 0)) : console.warn("THREE.Euler: .setFromRotationMatrix() given unsupported order: " + e),
            this._order = e,
            !1 !== n && this.onChangeCallback(),
            this
        },
        setFromQuaternion: function() {
            var t = new Je;
            return function(e, n, r) {
                return t.makeRotationFromQuaternion(e),
                this.setFromRotationMatrix(t, n, r)
            }
        }(),
        setFromVector3: function(t, e) {
            return this.set(t.x, t.y, t.z, e || this._order)
        },
        reorder: (xn = new Qe,
        function(t) {
            return xn.setFromEuler(this),
            this.setFromQuaternion(xn, t)
        }
        ),
        equals: function(t) {
            return t._x === this._x && t._y === this._y && t._z === this._z && t._order === this._order
        },
        fromArray: function(t) {
            return this._x = t[0],
            this._y = t[1],
            this._z = t[2],
            void 0 !== t[3] && (this._order = t[3]),
            this.onChangeCallback(),
            this
        },
        toArray: function(t, e) {
            return void 0 === t && (t = []),
            void 0 === e && (e = 0),
            t[e] = this._x,
            t[e + 1] = this._y,
            t[e + 2] = this._z,
            t[e + 3] = this._order,
            t
        },
        toVector3: function(t) {
            return t ? t.set(this._x, this._y, this._z) : new Ke(this._x,this._y,this._z)
        },
        onChange: function(t) {
            return this.onChangeCallback = t,
            this
        },
        onChangeCallback: function() {}
    }),
    Object.assign(On.prototype, {
        set: function(t) {
            this.mask = 1 << t | 0
        },
        enable: function(t) {
            this.mask |= 1 << t | 0
        },
        toggle: function(t) {
            this.mask ^= 1 << t | 0
        },
        disable: function(t) {
            this.mask &= ~(1 << t | 0)
        },
        test: function(t) {
            return 0 != (this.mask & t.mask)
        }
    });
    var An, Ln, Rn, Cn, jn = 0;
    function Pn() {
        Object.defineProperty(this, "id", {
            value: jn++
        }),
        this.uuid = Ye.generateUUID(),
        this.name = "",
        this.type = "Object3D",
        this.parent = null,
        this.children = [],
        this.up = Pn.DefaultUp.clone();
        var t = new Ke
          , e = new Sn
          , n = new Qe
          , r = new Ke(1,1,1);
        e.onChange(function() {
            n.setFromEuler(e, !1)
        }),
        n.onChange(function() {
            e.setFromQuaternion(n, void 0, !1)
        }),
        Object.defineProperties(this, {
            position: {
                enumerable: !0,
                value: t
            },
            rotation: {
                enumerable: !0,
                value: e
            },
            quaternion: {
                enumerable: !0,
                value: n
            },
            scale: {
                enumerable: !0,
                value: r
            },
            modelViewMatrix: {
                value: new Je
            },
            normalMatrix: {
                value: new $e
            }
        }),
        this.matrix = new Je,
        this.matrixWorld = new Je,
        this.matrixAutoUpdate = Pn.DefaultMatrixAutoUpdate,
        this.matrixWorldNeedsUpdate = !1,
        this.layers = new On,
        this.visible = !0,
        this.castShadow = !1,
        this.receiveShadow = !1,
        this.frustumCulled = !0,
        this.renderOrder = 0,
        this.userData = {}
    }
    function Nn() {
        Pn.call(this),
        this.type = "Camera",
        this.matrixWorldInverse = new Je,
        this.projectionMatrix = new Je
    }
    function In(t, e, n, r, i, o) {
        Nn.call(this),
        this.type = "OrthographicCamera",
        this.zoom = 1,
        this.view = null,
        this.left = t,
        this.right = e,
        this.top = n,
        this.bottom = r,
        this.near = void 0 !== i ? i : .1,
        this.far = void 0 !== o ? o : 2e3,
        this.updateProjectionMatrix()
    }
    function Dn(t, e, n, r, i, o) {
        this.a = t,
        this.b = e,
        this.c = n,
        this.normal = r && r.isVector3 ? r : new Ke,
        this.vertexNormals = Array.isArray(r) ? r : [],
        this.color = i && i.isColor ? i : new _n,
        this.vertexColors = Array.isArray(i) ? i : [],
        this.materialIndex = void 0 !== o ? o : 0
    }
    Pn.DefaultUp = new Ke(0,1,0),
    Pn.DefaultMatrixAutoUpdate = !0,
    Pn.prototype = Object.assign(Object.create(r.prototype), {
        constructor: Pn,
        isObject3D: !0,
        onBeforeRender: function() {},
        onAfterRender: function() {},
        applyMatrix: function(t) {
            this.matrix.multiplyMatrices(t, this.matrix),
            this.matrix.decompose(this.position, this.quaternion, this.scale)
        },
        applyQuaternion: function(t) {
            return this.quaternion.premultiply(t),
            this
        },
        setRotationFromAxisAngle: function(t, e) {
            this.quaternion.setFromAxisAngle(t, e)
        },
        setRotationFromEuler: function(t) {
            this.quaternion.setFromEuler(t, !0)
        },
        setRotationFromMatrix: function(t) {
            this.quaternion.setFromRotationMatrix(t)
        },
        setRotationFromQuaternion: function(t) {
            this.quaternion.copy(t)
        },
        rotateOnAxis: (Cn = new Qe,
        function(t, e) {
            return Cn.setFromAxisAngle(t, e),
            this.quaternion.multiply(Cn),
            this
        }
        ),
        rotateOnWorldAxis: function() {
            var t = new Qe;
            return function(e, n) {
                return t.setFromAxisAngle(e, n),
                this.quaternion.premultiply(t),
                this
            }
        }(),
        rotateX: function() {
            var t = new Ke(1,0,0);
            return function(e) {
                return this.rotateOnAxis(t, e)
            }
        }(),
        rotateY: function() {
            var t = new Ke(0,1,0);
            return function(e) {
                return this.rotateOnAxis(t, e)
            }
        }(),
        rotateZ: function() {
            var t = new Ke(0,0,1);
            return function(e) {
                return this.rotateOnAxis(t, e)
            }
        }(),
        translateOnAxis: function() {
            var t = new Ke;
            return function(e, n) {
                return t.copy(e).applyQuaternion(this.quaternion),
                this.position.add(t.multiplyScalar(n)),
                this
            }
        }(),
        translateX: function() {
            var t = new Ke(1,0,0);
            return function(e) {
                return this.translateOnAxis(t, e)
            }
        }(),
        translateY: function() {
            var t = new Ke(0,1,0);
            return function(e) {
                return this.translateOnAxis(t, e)
            }
        }(),
        translateZ: function() {
            var t = new Ke(0,0,1);
            return function(e) {
                return this.translateOnAxis(t, e)
            }
        }(),
        localToWorld: function(t) {
            return t.applyMatrix4(this.matrixWorld)
        },
        worldToLocal: (Rn = new Je,
        function(t) {
            return t.applyMatrix4(Rn.getInverse(this.matrixWorld))
        }
        ),
        lookAt: function() {
            var t = new Je
              , e = new Ke;
            return function(n, r, i) {
                n.isVector3 ? e.copy(n) : e.set(n, r, i),
                this.isCamera ? t.lookAt(this.position, e, this.up) : t.lookAt(e, this.position, this.up),
                this.quaternion.setFromRotationMatrix(t)
            }
        }(),
        add: function(t) {
            if (arguments.length > 1) {
                for (var e = 0; e < arguments.length; e++)
                    this.add(arguments[e]);
                return this
            }
            return t === this ? (console.error("THREE.Object3D.add: object can't be added as a child of itself.", t),
            this) : (t && t.isObject3D ? (null !== t.parent && t.parent.remove(t),
            t.parent = this,
            t.dispatchEvent({
                type: "added"
            }),
            this.children.push(t)) : console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.", t),
            this)
        },
        remove: function(t) {
            if (arguments.length > 1) {
                for (var e = 0; e < arguments.length; e++)
                    this.remove(arguments[e]);
                return this
            }
            var n = this.children.indexOf(t);
            return -1 !== n && (t.parent = null,
            t.dispatchEvent({
                type: "removed"
            }),
            this.children.splice(n, 1)),
            this
        },
        getObjectById: function(t) {
            return this.getObjectByProperty("id", t)
        },
        getObjectByName: function(t) {
            return this.getObjectByProperty("name", t)
        },
        getObjectByProperty: function(t, e) {
            if (this[t] === e)
                return this;
            for (var n = 0, r = this.children.length; n < r; n++) {
                var i = this.children[n].getObjectByProperty(t, e);
                if (void 0 !== i)
                    return i
            }
        },
        getWorldPosition: function(t) {
            return void 0 === t && (console.warn("THREE.Object3D: .getWorldPosition() target is now required"),
            t = new Ke),
            this.updateMatrixWorld(!0),
            t.setFromMatrixPosition(this.matrixWorld)
        },
        getWorldQuaternion: (An = new Ke,
        Ln = new Ke,
        function(t) {
            return void 0 === t && (console.warn("THREE.Object3D: .getWorldQuaternion() target is now required"),
            t = new Qe),
            this.updateMatrixWorld(!0),
            this.matrixWorld.decompose(An, t, Ln),
            t
        }
        ),
        getWorldScale: function() {
            var t = new Ke
              , e = new Qe;
            return function(n) {
                return void 0 === n && (console.warn("THREE.Object3D: .getWorldScale() target is now required"),
                n = new Ke),
                this.updateMatrixWorld(!0),
                this.matrixWorld.decompose(t, e, n),
                n
            }
        }(),
        getWorldDirection: function() {
            var t = new Qe;
            return function(e) {
                return void 0 === e && (console.warn("THREE.Object3D: .getWorldDirection() target is now required"),
                e = new Ke),
                this.getWorldQuaternion(t),
                e.set(0, 0, 1).applyQuaternion(t)
            }
        }(),
        raycast: function() {},
        traverse: function(t) {
            t(this);
            for (var e = this.children, n = 0, r = e.length; n < r; n++)
                e[n].traverse(t)
        },
        traverseVisible: function(t) {
            if (!1 !== this.visible) {
                t(this);
                for (var e = this.children, n = 0, r = e.length; n < r; n++)
                    e[n].traverseVisible(t)
            }
        },
        traverseAncestors: function(t) {
            var e = this.parent;
            null !== e && (t(e),
            e.traverseAncestors(t))
        },
        updateMatrix: function() {
            this.matrix.compose(this.position, this.quaternion, this.scale),
            this.matrixWorldNeedsUpdate = !0
        },
        updateMatrixWorld: function(t) {
            this.matrixAutoUpdate && this.updateMatrix(),
            (this.matrixWorldNeedsUpdate || t) && (null === this.parent ? this.matrixWorld.copy(this.matrix) : this.matrixWorld.multiplyMatrices(this.parent.matrixWorld, this.matrix),
            this.matrixWorldNeedsUpdate = !1,
            t = !0);
            for (var e = this.children, n = 0, r = e.length; n < r; n++)
                e[n].updateMatrixWorld(t)
        },
        toJSON: function(t) {
            var e = void 0 === t || "string" == typeof t
              , n = {};
            e && (t = {
                geometries: {},
                materials: {},
                textures: {},
                images: {},
                shapes: {}
            },
            n.metadata = {
                version: 4.5,
                type: "Object",
                generator: "Object3D.toJSON"
            });
            var r = {};
            function i(e, n) {
                return void 0 === e[n.uuid] && (e[n.uuid] = n.toJSON(t)),
                n.uuid
            }
            if (r.uuid = this.uuid,
            r.type = this.type,
            "" !== this.name && (r.name = this.name),
            !0 === this.castShadow && (r.castShadow = !0),
            !0 === this.receiveShadow && (r.receiveShadow = !0),
            !1 === this.visible && (r.visible = !1),
            !1 === this.frustumCulled && (r.frustumCulled = !1),
            0 !== this.renderOrder && (r.renderOrder = this.renderOrder),
            "{}" !== JSON.stringify(this.userData) && (r.userData = this.userData),
            r.layers = this.layers.mask,
            r.matrix = this.matrix.toArray(),
            !1 === this.matrixAutoUpdate && (r.matrixAutoUpdate = !1),
            this.isMesh || this.isLine || this.isPoints) {
                r.geometry = i(t.geometries, this.geometry);
                var o = this.geometry.parameters;
                if (void 0 !== o && void 0 !== o.shapes) {
                    var a = o.shapes;
                    if (Array.isArray(a))
                        for (var s = 0, u = a.length; s < u; s++) {
                            var c = a[s];
                            i(t.shapes, c)
                        }
                    else
                        i(t.shapes, a)
                }
            }
            if (void 0 !== this.material)
                if (Array.isArray(this.material)) {
                    var f = [];
                    for (s = 0,
                    u = this.material.length; s < u; s++)
                        f.push(i(t.materials, this.material[s]));
                    r.material = f
                } else
                    r.material = i(t.materials, this.material);
            if (this.children.length > 0) {
                r.children = [];
                for (s = 0; s < this.children.length; s++)
                    r.children.push(this.children[s].toJSON(t).object)
            }
            if (e) {
                var l = m(t.geometries)
                  , h = m(t.materials)
                  , d = m(t.textures)
                  , p = m(t.images);
                a = m(t.shapes);
                l.length > 0 && (n.geometries = l),
                h.length > 0 && (n.materials = h),
                d.length > 0 && (n.textures = d),
                p.length > 0 && (n.images = p),
                a.length > 0 && (n.shapes = a)
            }
            return n.object = r,
            n;
            function m(t) {
                var e = [];
                for (var n in t) {
                    var r = t[n];
                    delete r.metadata,
                    e.push(r)
                }
                return e
            }
        },
        clone: function(t) {
            return (new this.constructor).copy(this, t)
        },
        copy: function(t, e) {
            if (void 0 === e && (e = !0),
            this.name = t.name,
            this.up.copy(t.up),
            this.position.copy(t.position),
            this.quaternion.copy(t.quaternion),
            this.scale.copy(t.scale),
            this.matrix.copy(t.matrix),
            this.matrixWorld.copy(t.matrixWorld),
            this.matrixAutoUpdate = t.matrixAutoUpdate,
            this.matrixWorldNeedsUpdate = t.matrixWorldNeedsUpdate,
            this.layers.mask = t.layers.mask,
            this.visible = t.visible,
            this.castShadow = t.castShadow,
            this.receiveShadow = t.receiveShadow,
            this.frustumCulled = t.frustumCulled,
            this.renderOrder = t.renderOrder,
            this.userData = JSON.parse(JSON.stringify(t.userData)),
            !0 === e)
                for (var n = 0; n < t.children.length; n++) {
                    var r = t.children[n];
                    this.add(r.clone())
                }
            return this
        }
    }),
    Nn.prototype = Object.assign(Object.create(Pn.prototype), {
        constructor: Nn,
        isCamera: !0,
        copy: function(t, e) {
            return Pn.prototype.copy.call(this, t, e),
            this.matrixWorldInverse.copy(t.matrixWorldInverse),
            this.projectionMatrix.copy(t.projectionMatrix),
            this
        },
        getWorldDirection: function() {
            var t = new Qe;
            return function(e) {
                return void 0 === e && (console.warn("THREE.Camera: .getWorldDirection() target is now required"),
                e = new Ke),
                this.getWorldQuaternion(t),
                e.set(0, 0, -1).applyQuaternion(t)
            }
        }(),
        updateMatrixWorld: function(t) {
            Pn.prototype.updateMatrixWorld.call(this, t),
            this.matrixWorldInverse.getInverse(this.matrixWorld)
        },
        clone: function() {
            return (new this.constructor).copy(this)
        }
    }),
    In.prototype = Object.assign(Object.create(Nn.prototype), {
        constructor: In,
        isOrthographicCamera: !0,
        copy: function(t, e) {
            return Nn.prototype.copy.call(this, t, e),
            this.left = t.left,
            this.right = t.right,
            this.top = t.top,
            this.bottom = t.bottom,
            this.near = t.near,
            this.far = t.far,
            this.zoom = t.zoom,
            this.view = null === t.view ? null : Object.assign({}, t.view),
            this
        },
        setViewOffset: function(t, e, n, r, i, o) {
            null === this.view && (this.view = {
                enabled: !0,
                fullWidth: 1,
                fullHeight: 1,
                offsetX: 0,
                offsetY: 0,
                width: 1,
                height: 1
            }),
            this.view.enabled = !0,
            this.view.fullWidth = t,
            this.view.fullHeight = e,
            this.view.offsetX = n,
            this.view.offsetY = r,
            this.view.width = i,
            this.view.height = o,
            this.updateProjectionMatrix()
        },
        clearViewOffset: function() {
            null !== this.view && (this.view.enabled = !1),
            this.updateProjectionMatrix()
        },
        updateProjectionMatrix: function() {
            var t = (this.right - this.left) / (2 * this.zoom)
              , e = (this.top - this.bottom) / (2 * this.zoom)
              , n = (this.right + this.left) / 2
              , r = (this.top + this.bottom) / 2
              , i = n - t
              , o = n + t
              , a = r + e
              , s = r - e;
            if (null !== this.view && this.view.enabled) {
                var u = this.zoom / (this.view.width / this.view.fullWidth)
                  , c = this.zoom / (this.view.height / this.view.fullHeight)
                  , f = (this.right - this.left) / this.view.width
                  , l = (this.top - this.bottom) / this.view.height;
                o = (i += f * (this.view.offsetX / u)) + f * (this.view.width / u),
                s = (a -= l * (this.view.offsetY / c)) - l * (this.view.height / c)
            }
            this.projectionMatrix.makeOrthographic(i, o, a, s, this.near, this.far)
        },
        toJSON: function(t) {
            var e = Pn.prototype.toJSON.call(this, t);
            return e.object.zoom = this.zoom,
            e.object.left = this.left,
            e.object.right = this.right,
            e.object.top = this.top,
            e.object.bottom = this.bottom,
            e.object.near = this.near,
            e.object.far = this.far,
            null !== this.view && (e.object.view = Object.assign({}, this.view)),
            e
        }
    }),
    Object.assign(Dn.prototype, {
        clone: function() {
            return (new this.constructor).copy(this)
        },
        copy: function(t) {
            this.a = t.a,
            this.b = t.b,
            this.c = t.c,
            this.normal.copy(t.normal),
            this.color.copy(t.color),
            this.materialIndex = t.materialIndex;
            for (var e = 0, n = t.vertexNormals.length; e < n; e++)
                this.vertexNormals[e] = t.vertexNormals[e].clone();
            for (e = 0,
            n = t.vertexColors.length; e < n; e++)
                this.vertexColors[e] = t.vertexColors[e].clone();
            return this
        }
    });
    var Un, zn, Bn = 0;
    function kn() {
        Object.defineProperty(this, "id", {
            value: Bn += 2
        }),
        this.uuid = Ye.generateUUID(),
        this.name = "",
        this.type = "Geometry",
        this.vertices = [],
        this.colors = [],
        this.faces = [],
        this.faceVertexUvs = [[]],
        this.morphTargets = [],
        this.morphNormals = [],
        this.skinWeights = [],
        this.skinIndices = [],
        this.lineDistances = [],
        this.boundingBox = null,
        this.boundingSphere = null,
        this.elementsNeedUpdate = !1,
        this.verticesNeedUpdate = !1,
        this.uvsNeedUpdate = !1,
        this.normalsNeedUpdate = !1,
        this.colorsNeedUpdate = !1,
        this.lineDistancesNeedUpdate = !1,
        this.groupsNeedUpdate = !1
    }
    function Fn(t, e, n) {
        if (Array.isArray(t))
            throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");
        this.name = "",
        this.array = t,
        this.itemSize = e,
        this.count = void 0 !== t ? t.length / e : 0,
        this.normalized = !0 === n,
        this.dynamic = !1,
        this.updateRange = {
            offset: 0,
            count: -1
        },
        this.version = 0
    }
    function Gn(t, e, n) {
        Fn.call(this, new Int8Array(t), e, n)
    }
    function Hn(t, e, n) {
        Fn.call(this, new Uint8Array(t), e, n)
    }
    function Vn(t, e, n) {
        Fn.call(this, new Uint8ClampedArray(t), e, n)
    }
    function Wn(t, e, n) {
        Fn.call(this, new Int16Array(t), e, n)
    }
    function qn(t, e, n) {
        Fn.call(this, new Uint16Array(t), e, n)
    }
    function Xn(t, e, n) {
        Fn.call(this, new Int32Array(t), e, n)
    }
    function Yn(t, e, n) {
        Fn.call(this, new Uint32Array(t), e, n)
    }
    function Zn(t, e, n) {
        Fn.call(this, new Float32Array(t), e, n)
    }
    function Jn(t, e, n) {
        Fn.call(this, new Float64Array(t), e, n)
    }
    function Qn() {
        this.vertices = [],
        this.normals = [],
        this.colors = [],
        this.uvs = [],
        this.uvs2 = [],
        this.groups = [],
        this.morphTargets = {},
        this.skinWeights = [],
        this.skinIndices = [],
        this.boundingBox = null,
        this.boundingSphere = null,
        this.verticesNeedUpdate = !1,
        this.normalsNeedUpdate = !1,
        this.colorsNeedUpdate = !1,
        this.uvsNeedUpdate = !1,
        this.groupsNeedUpdate = !1
    }
    function Kn(t) {
        if (0 === t.length)
            return -1 / 0;
        for (var e = t[0], n = 1, r = t.length; n < r; ++n)
            t[n] > e && (e = t[n]);
        return e
    }
    kn.prototype = Object.assign(Object.create(r.prototype), {
        constructor: kn,
        isGeometry: !0,
        applyMatrix: function(t) {
            for (var e = (new $e).getNormalMatrix(t), n = 0, r = this.vertices.length; n < r; n++) {
                this.vertices[n].applyMatrix4(t)
            }
            for (n = 0,
            r = this.faces.length; n < r; n++) {
                var i = this.faces[n];
                i.normal.applyMatrix3(e).normalize();
                for (var o = 0, a = i.vertexNormals.length; o < a; o++)
                    i.vertexNormals[o].applyMatrix3(e).normalize()
            }
            return null !== this.boundingBox && this.computeBoundingBox(),
            null !== this.boundingSphere && this.computeBoundingSphere(),
            this.verticesNeedUpdate = !0,
            this.normalsNeedUpdate = !0,
            this
        },
        rotateX: function() {
            var t = new Je;
            return function(e) {
                return t.makeRotationX(e),
                this.applyMatrix(t),
                this
            }
        }(),
        rotateY: function() {
            var t = new Je;
            return function(e) {
                return t.makeRotationY(e),
                this.applyMatrix(t),
                this
            }
        }(),
        rotateZ: function() {
            var t = new Je;
            return function(e) {
                return t.makeRotationZ(e),
                this.applyMatrix(t),
                this
            }
        }(),
        translate: function() {
            var t = new Je;
            return function(e, n, r) {
                return t.makeTranslation(e, n, r),
                this.applyMatrix(t),
                this
            }
        }(),
        scale: function() {
            var t = new Je;
            return function(e, n, r) {
                return t.makeScale(e, n, r),
                this.applyMatrix(t),
                this
            }
        }(),
        lookAt: (zn = new Pn,
        function(t) {
            zn.lookAt(t),
            zn.updateMatrix(),
            this.applyMatrix(zn.matrix)
        }
        ),
        fromBufferGeometry: function(t) {
            var e = this
              , n = null !== t.index ? t.index.array : void 0
              , r = t.attributes
              , i = r.position.array
              , o = void 0 !== r.normal ? r.normal.array : void 0
              , a = void 0 !== r.color ? r.color.array : void 0
              , s = void 0 !== r.uv ? r.uv.array : void 0
              , u = void 0 !== r.uv2 ? r.uv2.array : void 0;
            void 0 !== u && (this.faceVertexUvs[1] = []);
            for (var c = [], f = [], l = [], h = 0, d = 0; h < i.length; h += 3,
            d += 2)
                e.vertices.push(new Ke(i[h],i[h + 1],i[h + 2])),
                void 0 !== o && c.push(new Ke(o[h],o[h + 1],o[h + 2])),
                void 0 !== a && e.colors.push(new _n(a[h],a[h + 1],a[h + 2])),
                void 0 !== s && f.push(new Ze(s[d],s[d + 1])),
                void 0 !== u && l.push(new Ze(u[d],u[d + 1]));
            function p(t, n, r, i) {
                var h = new Dn(t,n,r,void 0 !== o ? [c[t].clone(), c[n].clone(), c[r].clone()] : [],void 0 !== a ? [e.colors[t].clone(), e.colors[n].clone(), e.colors[r].clone()] : [],i);
                e.faces.push(h),
                void 0 !== s && e.faceVertexUvs[0].push([f[t].clone(), f[n].clone(), f[r].clone()]),
                void 0 !== u && e.faceVertexUvs[1].push([l[t].clone(), l[n].clone(), l[r].clone()])
            }
            var m = t.groups;
            if (m.length > 0)
                for (h = 0; h < m.length; h++)
                    for (var v = m[h], g = v.start, y = (d = g,
                    g + v.count); d < y; d += 3)
                        void 0 !== n ? p(n[d], n[d + 1], n[d + 2], v.materialIndex) : p(d, d + 1, d + 2, v.materialIndex);
            else if (void 0 !== n)
                for (h = 0; h < n.length; h += 3)
                    p(n[h], n[h + 1], n[h + 2]);
            else
                for (h = 0; h < i.length / 3; h += 3)
                    p(h, h + 1, h + 2);
            return this.computeFaceNormals(),
            null !== t.boundingBox && (this.boundingBox = t.boundingBox.clone()),
            null !== t.boundingSphere && (this.boundingSphere = t.boundingSphere.clone()),
            this
        },
        center: (Un = new Ke,
        function() {
            return this.computeBoundingBox(),
            this.boundingBox.getCenter(Un).negate(),
            this.translate(Un.x, Un.y, Un.z),
            this
        }
        ),
        normalize: function() {
            this.computeBoundingSphere();
            var t = this.boundingSphere.center
              , e = this.boundingSphere.radius
              , n = 0 === e ? 1 : 1 / e
              , r = new Je;
            return r.set(n, 0, 0, -n * t.x, 0, n, 0, -n * t.y, 0, 0, n, -n * t.z, 0, 0, 0, 1),
            this.applyMatrix(r),
            this
        },
        computeFaceNormals: function() {
            for (var t = new Ke, e = new Ke, n = 0, r = this.faces.length; n < r; n++) {
                var i = this.faces[n]
                  , o = this.vertices[i.a]
                  , a = this.vertices[i.b]
                  , s = this.vertices[i.c];
                t.subVectors(s, a),
                e.subVectors(o, a),
                t.cross(e),
                t.normalize(),
                i.normal.copy(t)
            }
        },
        computeVertexNormals: function(t) {
            var e, n, r, i, o, a;
            for (void 0 === t && (t = !0),
            a = new Array(this.vertices.length),
            e = 0,
            n = this.vertices.length; e < n; e++)
                a[e] = new Ke;
            if (t) {
                var s, u, c, f = new Ke, l = new Ke;
                for (r = 0,
                i = this.faces.length; r < i; r++)
                    o = this.faces[r],
                    s = this.vertices[o.a],
                    u = this.vertices[o.b],
                    c = this.vertices[o.c],
                    f.subVectors(c, u),
                    l.subVectors(s, u),
                    f.cross(l),
                    a[o.a].add(f),
                    a[o.b].add(f),
                    a[o.c].add(f)
            } else
                for (this.computeFaceNormals(),
                r = 0,
                i = this.faces.length; r < i; r++)
                    a[(o = this.faces[r]).a].add(o.normal),
                    a[o.b].add(o.normal),
                    a[o.c].add(o.normal);
            for (e = 0,
            n = this.vertices.length; e < n; e++)
                a[e].normalize();
            for (r = 0,
            i = this.faces.length; r < i; r++) {
                var h = (o = this.faces[r]).vertexNormals;
                3 === h.length ? (h[0].copy(a[o.a]),
                h[1].copy(a[o.b]),
                h[2].copy(a[o.c])) : (h[0] = a[o.a].clone(),
                h[1] = a[o.b].clone(),
                h[2] = a[o.c].clone())
            }
            this.faces.length > 0 && (this.normalsNeedUpdate = !0)
        },
        computeFlatVertexNormals: function() {
            var t, e, n;
            for (this.computeFaceNormals(),
            t = 0,
            e = this.faces.length; t < e; t++) {
                var r = (n = this.faces[t]).vertexNormals;
                3 === r.length ? (r[0].copy(n.normal),
                r[1].copy(n.normal),
                r[2].copy(n.normal)) : (r[0] = n.normal.clone(),
                r[1] = n.normal.clone(),
                r[2] = n.normal.clone())
            }
            this.faces.length > 0 && (this.normalsNeedUpdate = !0)
        },
        computeMorphNormals: function() {
            var t, e, n, r, i;
            for (n = 0,
            r = this.faces.length; n < r; n++)
                for ((i = this.faces[n]).__originalFaceNormal ? i.__originalFaceNormal.copy(i.normal) : i.__originalFaceNormal = i.normal.clone(),
                i.__originalVertexNormals || (i.__originalVertexNormals = []),
                t = 0,
                e = i.vertexNormals.length; t < e; t++)
                    i.__originalVertexNormals[t] ? i.__originalVertexNormals[t].copy(i.vertexNormals[t]) : i.__originalVertexNormals[t] = i.vertexNormals[t].clone();
            var o = new kn;
            for (o.faces = this.faces,
            t = 0,
            e = this.morphTargets.length; t < e; t++) {
                if (!this.morphNormals[t]) {
                    this.morphNormals[t] = {},
                    this.morphNormals[t].faceNormals = [],
                    this.morphNormals[t].vertexNormals = [];
                    var a = this.morphNormals[t].faceNormals
                      , s = this.morphNormals[t].vertexNormals;
                    for (n = 0,
                    r = this.faces.length; n < r; n++)
                        u = new Ke,
                        c = {
                            a: new Ke,
                            b: new Ke,
                            c: new Ke
                        },
                        a.push(u),
                        s.push(c)
                }
                var u, c, f = this.morphNormals[t];
                for (o.vertices = this.morphTargets[t].vertices,
                o.computeFaceNormals(),
                o.computeVertexNormals(),
                n = 0,
                r = this.faces.length; n < r; n++)
                    i = this.faces[n],
                    u = f.faceNormals[n],
                    c = f.vertexNormals[n],
                    u.copy(i.normal),
                    c.a.copy(i.vertexNormals[0]),
                    c.b.copy(i.vertexNormals[1]),
                    c.c.copy(i.vertexNormals[2])
            }
            for (n = 0,
            r = this.faces.length; n < r; n++)
                (i = this.faces[n]).normal = i.__originalFaceNormal,
                i.vertexNormals = i.__originalVertexNormals
        },
        computeBoundingBox: function() {
            null === this.boundingBox && (this.boundingBox = new hn),
            this.boundingBox.setFromPoints(this.vertices)
        },
        computeBoundingSphere: function() {
            null === this.boundingSphere && (this.boundingSphere = new dn),
            this.boundingSphere.setFromPoints(this.vertices)
        },
        merge: function(t, e, n) {
            if (t && t.isGeometry) {
                var r, i = this.vertices.length, o = this.vertices, a = t.vertices, s = this.faces, u = t.faces, c = this.faceVertexUvs[0], f = t.faceVertexUvs[0], l = this.colors, h = t.colors;
                void 0 === n && (n = 0),
                void 0 !== e && (r = (new $e).getNormalMatrix(e));
                for (var d = 0, p = a.length; d < p; d++) {
                    var m = a[d].clone();
                    void 0 !== e && m.applyMatrix4(e),
                    o.push(m)
                }
                for (d = 0,
                p = h.length; d < p; d++)
                    l.push(h[d].clone());
                for (d = 0,
                p = u.length; d < p; d++) {
                    var v, g, y, b = u[d], _ = b.vertexNormals, x = b.vertexColors;
                    (v = new Dn(b.a + i,b.b + i,b.c + i)).normal.copy(b.normal),
                    void 0 !== r && v.normal.applyMatrix3(r).normalize();
                    for (var w = 0, M = _.length; w < M; w++)
                        g = _[w].clone(),
                        void 0 !== r && g.applyMatrix3(r).normalize(),
                        v.vertexNormals.push(g);
                    v.color.copy(b.color);
                    for (w = 0,
                    M = x.length; w < M; w++)
                        y = x[w],
                        v.vertexColors.push(y.clone());
                    v.materialIndex = b.materialIndex + n,
                    s.push(v)
                }
                for (d = 0,
                p = f.length; d < p; d++) {
                    var E = f[d]
                      , T = [];
                    if (void 0 !== E) {
                        for (w = 0,
                        M = E.length; w < M; w++)
                            T.push(E[w].clone());
                        c.push(T)
                    }
                }
            } else
                console.error("THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.", t)
        },
        mergeMesh: function(t) {
            t && t.isMesh ? (t.matrixAutoUpdate && t.updateMatrix(),
            this.merge(t.geometry, t.matrix)) : console.error("THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.", t)
        },
        mergeVertices: function() {
            var t, e, n, r, i, o, a, s, u = {}, c = [], f = [], l = Math.pow(10, 4);
            for (n = 0,
            r = this.vertices.length; n < r; n++)
                t = this.vertices[n],
                void 0 === u[e = Math.round(t.x * l) + "_" + Math.round(t.y * l) + "_" + Math.round(t.z * l)] ? (u[e] = n,
                c.push(this.vertices[n]),
                f[n] = c.length - 1) : f[n] = f[u[e]];
            var h = [];
            for (n = 0,
            r = this.faces.length; n < r; n++) {
                (i = this.faces[n]).a = f[i.a],
                i.b = f[i.b],
                i.c = f[i.c],
                o = [i.a, i.b, i.c];
                for (var d = 0; d < 3; d++)
                    if (o[d] === o[(d + 1) % 3]) {
                        h.push(n);
                        break
                    }
            }
            for (n = h.length - 1; n >= 0; n--) {
                var p = h[n];
                for (this.faces.splice(p, 1),
                a = 0,
                s = this.faceVertexUvs.length; a < s; a++)
                    this.faceVertexUvs[a].splice(p, 1)
            }
            var m = this.vertices.length - c.length;
            return this.vertices = c,
            m
        },
        setFromPoints: function(t) {
            this.vertices = [];
            for (var e = 0, n = t.length; e < n; e++) {
                var r = t[e];
                this.vertices.push(new Ke(r.x,r.y,r.z || 0))
            }
            return this
        },
        sortFacesByMaterialIndex: function() {
            for (var t = this.faces, e = t.length, n = 0; n < e; n++)
                t[n]._id = n;
            t.sort(function(t, e) {
                return t.materialIndex - e.materialIndex
            });
            var r, i, o = this.faceVertexUvs[0], a = this.faceVertexUvs[1];
            o && o.length === e && (r = []),
            a && a.length === e && (i = []);
            for (n = 0; n < e; n++) {
                var s = t[n]._id;
                r && r.push(o[s]),
                i && i.push(a[s])
            }
            r && (this.faceVertexUvs[0] = r),
            i && (this.faceVertexUvs[1] = i)
        },
        toJSON: function() {
            var t = {
                metadata: {
                    version: 4.5,
                    type: "Geometry",
                    generator: "Geometry.toJSON"
                }
            };
            if (t.uuid = this.uuid,
            t.type = this.type,
            "" !== this.name && (t.name = this.name),
            void 0 !== this.parameters) {
                var e = this.parameters;
                for (var n in e)
                    void 0 !== e[n] && (t[n] = e[n]);
                return t
            }
            for (var r = [], i = 0; i < this.vertices.length; i++) {
                var o = this.vertices[i];
                r.push(o.x, o.y, o.z)
            }
            var a = []
              , s = []
              , u = {}
              , c = []
              , f = {}
              , l = []
              , h = {};
            for (i = 0; i < this.faces.length; i++) {
                var d = this.faces[i]
                  , p = void 0 !== this.faceVertexUvs[0][i]
                  , m = d.normal.length() > 0
                  , v = d.vertexNormals.length > 0
                  , g = 1 !== d.color.r || 1 !== d.color.g || 1 !== d.color.b
                  , y = d.vertexColors.length > 0
                  , b = 0;
                if (b = M(b = M(b = M(b = M(b = M(b = M(b = M(b = M(b, 0, 0), 1, !0), 2, !1), 3, p), 4, m), 5, v), 6, g), 7, y),
                a.push(b),
                a.push(d.a, d.b, d.c),
                a.push(d.materialIndex),
                p) {
                    var _ = this.faceVertexUvs[0][i];
                    a.push(S(_[0]), S(_[1]), S(_[2]))
                }
                if (m && a.push(E(d.normal)),
                v) {
                    var x = d.vertexNormals;
                    a.push(E(x[0]), E(x[1]), E(x[2]))
                }
                if (g && a.push(T(d.color)),
                y) {
                    var w = d.vertexColors;
                    a.push(T(w[0]), T(w[1]), T(w[2]))
                }
            }
            function M(t, e, n) {
                return n ? t | 1 << e : t & ~(1 << e)
            }
            function E(t) {
                var e = t.x.toString() + t.y.toString() + t.z.toString();
                return void 0 !== u[e] ? u[e] : (u[e] = s.length / 3,
                s.push(t.x, t.y, t.z),
                u[e])
            }
            function T(t) {
                var e = t.r.toString() + t.g.toString() + t.b.toString();
                return void 0 !== f[e] ? f[e] : (f[e] = c.length,
                c.push(t.getHex()),
                f[e])
            }
            function S(t) {
                var e = t.x.toString() + t.y.toString();
                return void 0 !== h[e] ? h[e] : (h[e] = l.length / 2,
                l.push(t.x, t.y),
                h[e])
            }
            return t.data = {},
            t.data.vertices = r,
            t.data.normals = s,
            c.length > 0 && (t.data.colors = c),
            l.length > 0 && (t.data.uvs = [l]),
            t.data.faces = a,
            t
        },
        clone: function() {
            return (new kn).copy(this)
        },
        copy: function(t) {
            var e, n, r, i, o, a;
            this.vertices = [],
            this.colors = [],
            this.faces = [],
            this.faceVertexUvs = [[]],
            this.morphTargets = [],
            this.morphNormals = [],
            this.skinWeights = [],
            this.skinIndices = [],
            this.lineDistances = [],
            this.boundingBox = null,
            this.boundingSphere = null,
            this.name = t.name;
            var s = t.vertices;
            for (e = 0,
            n = s.length; e < n; e++)
                this.vertices.push(s[e].clone());
            var u = t.colors;
            for (e = 0,
            n = u.length; e < n; e++)
                this.colors.push(u[e].clone());
            var c = t.faces;
            for (e = 0,
            n = c.length; e < n; e++)
                this.faces.push(c[e].clone());
            for (e = 0,
            n = t.faceVertexUvs.length; e < n; e++) {
                var f = t.faceVertexUvs[e];
                for (void 0 === this.faceVertexUvs[e] && (this.faceVertexUvs[e] = []),
                r = 0,
                i = f.length; r < i; r++) {
                    var l = f[r]
                      , h = [];
                    for (o = 0,
                    a = l.length; o < a; o++) {
                        var d = l[o];
                        h.push(d.clone())
                    }
                    this.faceVertexUvs[e].push(h)
                }
            }
            var p = t.morphTargets;
            for (e = 0,
            n = p.length; e < n; e++) {
                var m = {};
                if (m.name = p[e].name,
                void 0 !== p[e].vertices)
                    for (m.vertices = [],
                    r = 0,
                    i = p[e].vertices.length; r < i; r++)
                        m.vertices.push(p[e].vertices[r].clone());
                if (void 0 !== p[e].normals)
                    for (m.normals = [],
                    r = 0,
                    i = p[e].normals.length; r < i; r++)
                        m.normals.push(p[e].normals[r].clone());
                this.morphTargets.push(m)
            }
            var v = t.morphNormals;
            for (e = 0,
            n = v.length; e < n; e++) {
                var g = {};
                if (void 0 !== v[e].vertexNormals)
                    for (g.vertexNormals = [],
                    r = 0,
                    i = v[e].vertexNormals.length; r < i; r++) {
                        var y = v[e].vertexNormals[r]
                          , b = {};
                        b.a = y.a.clone(),
                        b.b = y.b.clone(),
                        b.c = y.c.clone(),
                        g.vertexNormals.push(b)
                    }
                if (void 0 !== v[e].faceNormals)
                    for (g.faceNormals = [],
                    r = 0,
                    i = v[e].faceNormals.length; r < i; r++)
                        g.faceNormals.push(v[e].faceNormals[r].clone());
                this.morphNormals.push(g)
            }
            var _ = t.skinWeights;
            for (e = 0,
            n = _.length; e < n; e++)
                this.skinWeights.push(_[e].clone());
            var x = t.skinIndices;
            for (e = 0,
            n = x.length; e < n; e++)
                this.skinIndices.push(x[e].clone());
            var w = t.lineDistances;
            for (e = 0,
            n = w.length; e < n; e++)
                this.lineDistances.push(w[e]);
            var M = t.boundingBox;
            null !== M && (this.boundingBox = M.clone());
            var E = t.boundingSphere;
            return null !== E && (this.boundingSphere = E.clone()),
            this.elementsNeedUpdate = t.elementsNeedUpdate,
            this.verticesNeedUpdate = t.verticesNeedUpdate,
            this.uvsNeedUpdate = t.uvsNeedUpdate,
            this.normalsNeedUpdate = t.normalsNeedUpdate,
            this.colorsNeedUpdate = t.colorsNeedUpdate,
            this.lineDistancesNeedUpdate = t.lineDistancesNeedUpdate,
            this.groupsNeedUpdate = t.groupsNeedUpdate,
            this
        },
        dispose: function() {
            this.dispatchEvent({
                type: "dispose"
            })
        }
    }),
    Object.defineProperty(Fn.prototype, "needsUpdate", {
        set: function(t) {
            !0 === t && this.version++
        }
    }),
    Object.assign(Fn.prototype, {
        isBufferAttribute: !0,
        onUploadCallback: function() {},
        setArray: function(t) {
            if (Array.isArray(t))
                throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");
            return this.count = void 0 !== t ? t.length / this.itemSize : 0,
            this.array = t,
            this
        },
        setDynamic: function(t) {
            return this.dynamic = t,
            this
        },
        copy: function(t) {
            return this.name = t.name,
            this.array = new t.array.constructor(t.array),
            this.itemSize = t.itemSize,
            this.count = t.count,
            this.normalized = t.normalized,
            this.dynamic = t.dynamic,
            this
        },
        copyAt: function(t, e, n) {
            t *= this.itemSize,
            n *= e.itemSize;
            for (var r = 0, i = this.itemSize; r < i; r++)
                this.array[t + r] = e.array[n + r];
            return this
        },
        copyArray: function(t) {
            return this.array.set(t),
            this
        },
        copyColorsArray: function(t) {
            for (var e = this.array, n = 0, r = 0, i = t.length; r < i; r++) {
                var o = t[r];
                void 0 === o && (console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined", r),
                o = new _n),
                e[n++] = o.r,
                e[n++] = o.g,
                e[n++] = o.b
            }
            return this
        },
        copyVector2sArray: function(t) {
            for (var e = this.array, n = 0, r = 0, i = t.length; r < i; r++) {
                var o = t[r];
                void 0 === o && (console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined", r),
                o = new Ze),
                e[n++] = o.x,
                e[n++] = o.y
            }
            return this
        },
        copyVector3sArray: function(t) {
            for (var e = this.array, n = 0, r = 0, i = t.length; r < i; r++) {
                var o = t[r];
                void 0 === o && (console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined", r),
                o = new Ke),
                e[n++] = o.x,
                e[n++] = o.y,
                e[n++] = o.z
            }
            return this
        },
        copyVector4sArray: function(t) {
            for (var e = this.array, n = 0, r = 0, i = t.length; r < i; r++) {
                var o = t[r];
                void 0 === o && (console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined", r),
                o = new un),
                e[n++] = o.x,
                e[n++] = o.y,
                e[n++] = o.z,
                e[n++] = o.w
            }
            return this
        },
        set: function(t, e) {
            return void 0 === e && (e = 0),
            this.array.set(t, e),
            this
        },
        getX: function(t) {
            return this.array[t * this.itemSize]
        },
        setX: function(t, e) {
            return this.array[t * this.itemSize] = e,
            this
        },
        getY: function(t) {
            return this.array[t * this.itemSize + 1]
        },
        setY: function(t, e) {
            return this.array[t * this.itemSize + 1] = e,
            this
        },
        getZ: function(t) {
            return this.array[t * this.itemSize + 2]
        },
        setZ: function(t, e) {
            return this.array[t * this.itemSize + 2] = e,
            this
        },
        getW: function(t) {
            return this.array[t * this.itemSize + 3]
        },
        setW: function(t, e) {
            return this.array[t * this.itemSize + 3] = e,
            this
        },
        setXY: function(t, e, n) {
            return t *= this.itemSize,
            this.array[t + 0] = e,
            this.array[t + 1] = n,
            this
        },
        setXYZ: function(t, e, n, r) {
            return t *= this.itemSize,
            this.array[t + 0] = e,
            this.array[t + 1] = n,
            this.array[t + 2] = r,
            this
        },
        setXYZW: function(t, e, n, r, i) {
            return t *= this.itemSize,
            this.array[t + 0] = e,
            this.array[t + 1] = n,
            this.array[t + 2] = r,
            this.array[t + 3] = i,
            this
        },
        onUpload: function(t) {
            return this.onUploadCallback = t,
            this
        },
        clone: function() {
            return new this.constructor(this.array,this.itemSize).copy(this)
        }
    }),
    Gn.prototype = Object.create(Fn.prototype),
    Gn.prototype.constructor = Gn,
    Hn.prototype = Object.create(Fn.prototype),
    Hn.prototype.constructor = Hn,
    Vn.prototype = Object.create(Fn.prototype),
    Vn.prototype.constructor = Vn,
    Wn.prototype = Object.create(Fn.prototype),
    Wn.prototype.constructor = Wn,
    qn.prototype = Object.create(Fn.prototype),
    qn.prototype.constructor = qn,
    Xn.prototype = Object.create(Fn.prototype),
    Xn.prototype.constructor = Xn,
    Yn.prototype = Object.create(Fn.prototype),
    Yn.prototype.constructor = Yn,
    Zn.prototype = Object.create(Fn.prototype),
    Zn.prototype.constructor = Zn,
    Jn.prototype = Object.create(Fn.prototype),
    Jn.prototype.constructor = Jn,
    Object.assign(Qn.prototype, {
        computeGroups: function(t) {
            for (var e, n = [], r = void 0, i = t.faces, o = 0; o < i.length; o++) {
                var a = i[o];
                a.materialIndex !== r && (r = a.materialIndex,
                void 0 !== e && (e.count = 3 * o - e.start,
                n.push(e)),
                e = {
                    start: 3 * o,
                    materialIndex: r
                })
            }
            void 0 !== e && (e.count = 3 * o - e.start,
            n.push(e)),
            this.groups = n
        },
        fromGeometry: function(t) {
            var e, n = t.faces, r = t.vertices, i = t.faceVertexUvs, o = i[0] && i[0].length > 0, a = i[1] && i[1].length > 0, s = t.morphTargets, u = s.length;
            if (u > 0) {
                e = [];
                for (var c = 0; c < u; c++)
                    e[c] = [];
                this.morphTargets.position = e
            }
            var f, l = t.morphNormals, h = l.length;
            if (h > 0) {
                f = [];
                for (c = 0; c < h; c++)
                    f[c] = [];
                this.morphTargets.normal = f
            }
            var d = t.skinIndices
              , p = t.skinWeights
              , m = d.length === r.length
              , v = p.length === r.length;
            r.length > 0 && 0 === n.length && console.error("THREE.DirectGeometry: Faceless geometries are not supported.");
            for (c = 0; c < n.length; c++) {
                var g = n[c];
                this.vertices.push(r[g.a], r[g.b], r[g.c]);
                var y = g.vertexNormals;
                if (3 === y.length)
                    this.normals.push(y[0], y[1], y[2]);
                else {
                    var b = g.normal;
                    this.normals.push(b, b, b)
                }
                var _, x = g.vertexColors;
                if (3 === x.length)
                    this.colors.push(x[0], x[1], x[2]);
                else {
                    var w = g.color;
                    this.colors.push(w, w, w)
                }
                if (!0 === o)
                    void 0 !== (_ = i[0][c]) ? this.uvs.push(_[0], _[1], _[2]) : (console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv ", c),
                    this.uvs.push(new Ze, new Ze, new Ze));
                if (!0 === a)
                    void 0 !== (_ = i[1][c]) ? this.uvs2.push(_[0], _[1], _[2]) : (console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 ", c),
                    this.uvs2.push(new Ze, new Ze, new Ze));
                for (var M = 0; M < u; M++) {
                    var E = s[M].vertices;
                    e[M].push(E[g.a], E[g.b], E[g.c])
                }
                for (M = 0; M < h; M++) {
                    var T = l[M].vertexNormals[c];
                    f[M].push(T.a, T.b, T.c)
                }
                m && this.skinIndices.push(d[g.a], d[g.b], d[g.c]),
                v && this.skinWeights.push(p[g.a], p[g.b], p[g.c])
            }
            return this.computeGroups(t),
            this.verticesNeedUpdate = t.verticesNeedUpdate,
            this.normalsNeedUpdate = t.normalsNeedUpdate,
            this.colorsNeedUpdate = t.colorsNeedUpdate,
            this.uvsNeedUpdate = t.uvsNeedUpdate,
            this.groupsNeedUpdate = t.groupsNeedUpdate,
            this
        }
    });
    var $n = 1;
    function tr() {
        Object.defineProperty(this, "id", {
            value: $n += 2
        }),
        this.uuid = Ye.generateUUID(),
        this.name = "",
        this.type = "BufferGeometry",
        this.index = null,
        this.attributes = {},
        this.morphAttributes = {},
        this.groups = [],
        this.boundingBox = null,
        this.boundingSphere = null,
        this.drawRange = {
            start: 0,
            count: 1 / 0
        },
        this.userData = {}
    }
    function er(t, e, n, r, i, o) {
        kn.call(this),
        this.type = "BoxGeometry",
        this.parameters = {
            width: t,
            height: e,
            depth: n,
            widthSegments: r,
            heightSegments: i,
            depthSegments: o
        },
        this.fromBufferGeometry(new nr(t,e,n,r,i,o)),
        this.mergeVertices()
    }
    function nr(t, e, n, r, i, o) {
        tr.call(this),
        this.type = "BoxBufferGeometry",
        this.parameters = {
            width: t,
            height: e,
            depth: n,
            widthSegments: r,
            heightSegments: i,
            depthSegments: o
        };
        var a = this;
        t = t || 1,
        e = e || 1,
        n = n || 1,
        r = Math.floor(r) || 1,
        i = Math.floor(i) || 1;
        var s = []
          , u = []
          , c = []
          , f = []
          , l = 0
          , h = 0;
        function d(t, e, n, r, i, o, d, p, m, v, g) {
            var y, b, _ = o / m, x = d / v, w = o / 2, M = d / 2, E = p / 2, T = m + 1, S = v + 1, O = 0, A = 0, L = new Ke;
            for (b = 0; b < S; b++) {
                var R = b * x - M;
                for (y = 0; y < T; y++) {
                    var C = y * _ - w;
                    L[t] = C * r,
                    L[e] = R * i,
                    L[n] = E,
                    u.push(L.x, L.y, L.z),
                    L[t] = 0,
                    L[e] = 0,
                    L[n] = p > 0 ? 1 : -1,
                    c.push(L.x, L.y, L.z),
                    f.push(y / m),
                    f.push(1 - b / v),
                    O += 1
                }
            }
            for (b = 0; b < v; b++)
                for (y = 0; y < m; y++) {
                    var j = l + y + T * b
                      , P = l + y + T * (b + 1)
                      , N = l + (y + 1) + T * (b + 1)
                      , I = l + (y + 1) + T * b;
                    s.push(j, P, I),
                    s.push(P, N, I),
                    A += 6
                }
            a.addGroup(h, A, g),
            h += A,
            l += O
        }
        d("z", "y", "x", -1, -1, n, e, t, o = Math.floor(o) || 1, i, 0),
        d("z", "y", "x", 1, -1, n, e, -t, o, i, 1),
        d("x", "z", "y", 1, 1, t, n, e, r, o, 2),
        d("x", "z", "y", 1, -1, t, n, -e, r, o, 3),
        d("x", "y", "z", 1, -1, t, e, n, r, i, 4),
        d("x", "y", "z", -1, -1, t, e, -n, r, i, 5),
        this.setIndex(s),
        this.addAttribute("position", new Zn(u,3)),
        this.addAttribute("normal", new Zn(c,3)),
        this.addAttribute("uv", new Zn(f,2))
    }
    function rr(t, e, n, r) {
        kn.call(this),
        this.type = "PlaneGeometry",
        this.parameters = {
            width: t,
            height: e,
            widthSegments: n,
            heightSegments: r
        },
        this.fromBufferGeometry(new ir(t,e,n,r)),
        this.mergeVertices()
    }
    function ir(t, e, n, r) {
        tr.call(this),
        this.type = "PlaneBufferGeometry",
        this.parameters = {
            width: t,
            height: e,
            widthSegments: n,
            heightSegments: r
        };
        var i, o, a = (t = t || 1) / 2, s = (e = e || 1) / 2, u = Math.floor(n) || 1, c = Math.floor(r) || 1, f = u + 1, l = c + 1, h = t / u, d = e / c, p = [], m = [], v = [], g = [];
        for (o = 0; o < l; o++) {
            var y = o * d - s;
            for (i = 0; i < f; i++) {
                var b = i * h - a;
                m.push(b, -y, 0),
                v.push(0, 0, 1),
                g.push(i / u),
                g.push(1 - o / c)
            }
        }
        for (o = 0; o < c; o++)
            for (i = 0; i < u; i++) {
                var _ = i + f * o
                  , x = i + f * (o + 1)
                  , w = i + 1 + f * (o + 1)
                  , M = i + 1 + f * o;
                p.push(_, x, M),
                p.push(x, w, M)
            }
        this.setIndex(p),
        this.addAttribute("position", new Zn(m,3)),
        this.addAttribute("normal", new Zn(v,3)),
        this.addAttribute("uv", new Zn(g,2))
    }
    tr.prototype = Object.assign(Object.create(r.prototype), {
        constructor: tr,
        isBufferGeometry: !0,
        getIndex: function() {
            return this.index
        },
        setIndex: function(t) {
            Array.isArray(t) ? this.index = new (Kn(t) > 65535 ? Yn : qn)(t,1) : this.index = t
        },
        addAttribute: function(t, e) {
            return e && e.isBufferAttribute || e && e.isInterleavedBufferAttribute ? "index" === t ? (console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),
            this.setIndex(e),
            this) : (this.attributes[t] = e,
            this) : (console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),
            this.addAttribute(t, new Fn(arguments[1],arguments[2])))
        },
        getAttribute: function(t) {
            return this.attributes[t]
        },
        removeAttribute: function(t) {
            return delete this.attributes[t],
            this
        },
        addGroup: function(t, e, n) {
            this.groups.push({
                start: t,
                count: e,
                materialIndex: void 0 !== n ? n : 0
            })
        },
        clearGroups: function() {
            this.groups = []
        },
        setDrawRange: function(t, e) {
            this.drawRange.start = t,
            this.drawRange.count = e
        },
        applyMatrix: function(t) {
            var e = this.attributes.position;
            void 0 !== e && (t.applyToBufferAttribute(e),
            e.needsUpdate = !0);
            var n = this.attributes.normal;
            void 0 !== n && ((new $e).getNormalMatrix(t).applyToBufferAttribute(n),
            n.needsUpdate = !0);
            return null !== this.boundingBox && this.computeBoundingBox(),
            null !== this.boundingSphere && this.computeBoundingSphere(),
            this
        },
        rotateX: function() {
            var t = new Je;
            return function(e) {
                return t.makeRotationX(e),
                this.applyMatrix(t),
                this
            }
        }(),
        rotateY: function() {
            var t = new Je;
            return function(e) {
                return t.makeRotationY(e),
                this.applyMatrix(t),
                this
            }
        }(),
        rotateZ: function() {
            var t = new Je;
            return function(e) {
                return t.makeRotationZ(e),
                this.applyMatrix(t),
                this
            }
        }(),
        translate: function() {
            var t = new Je;
            return function(e, n, r) {
                return t.makeTranslation(e, n, r),
                this.applyMatrix(t),
                this
            }
        }(),
        scale: function() {
            var t = new Je;
            return function(e, n, r) {
                return t.makeScale(e, n, r),
                this.applyMatrix(t),
                this
            }
        }(),
        lookAt: function() {
            var t = new Pn;
            return function(e) {
                t.lookAt(e),
                t.updateMatrix(),
                this.applyMatrix(t.matrix)
            }
        }(),
        center: function() {
            var t = new Ke;
            return function() {
                return this.computeBoundingBox(),
                this.boundingBox.getCenter(t).negate(),
                this.translate(t.x, t.y, t.z),
                this
            }
        }(),
        setFromObject: function(t) {
            var e = t.geometry;
            if (t.isPoints || t.isLine) {
                var n = new Zn(3 * e.vertices.length,3)
                  , r = new Zn(3 * e.colors.length,3);
                if (this.addAttribute("position", n.copyVector3sArray(e.vertices)),
                this.addAttribute("color", r.copyColorsArray(e.colors)),
                e.lineDistances && e.lineDistances.length === e.vertices.length) {
                    var i = new Zn(e.lineDistances.length,1);
                    this.addAttribute("lineDistance", i.copyArray(e.lineDistances))
                }
                null !== e.boundingSphere && (this.boundingSphere = e.boundingSphere.clone()),
                null !== e.boundingBox && (this.boundingBox = e.boundingBox.clone())
            } else
                t.isMesh && e && e.isGeometry && this.fromGeometry(e);
            return this
        },
        setFromPoints: function(t) {
            for (var e = [], n = 0, r = t.length; n < r; n++) {
                var i = t[n];
                e.push(i.x, i.y, i.z || 0)
            }
            return this.addAttribute("position", new Zn(e,3)),
            this
        },
        updateFromObject: function(t) {
            var e, n = t.geometry;
            if (t.isMesh) {
                var r = n.__directGeometry;
                if (!0 === n.elementsNeedUpdate && (r = void 0,
                n.elementsNeedUpdate = !1),
                void 0 === r)
                    return this.fromGeometry(n);
                r.verticesNeedUpdate = n.verticesNeedUpdate,
                r.normalsNeedUpdate = n.normalsNeedUpdate,
                r.colorsNeedUpdate = n.colorsNeedUpdate,
                r.uvsNeedUpdate = n.uvsNeedUpdate,
                r.groupsNeedUpdate = n.groupsNeedUpdate,
                n.verticesNeedUpdate = !1,
                n.normalsNeedUpdate = !1,
                n.colorsNeedUpdate = !1,
                n.uvsNeedUpdate = !1,
                n.groupsNeedUpdate = !1,
                n = r
            }
            return !0 === n.verticesNeedUpdate && (void 0 !== (e = this.attributes.position) && (e.copyVector3sArray(n.vertices),
            e.needsUpdate = !0),
            n.verticesNeedUpdate = !1),
            !0 === n.normalsNeedUpdate && (void 0 !== (e = this.attributes.normal) && (e.copyVector3sArray(n.normals),
            e.needsUpdate = !0),
            n.normalsNeedUpdate = !1),
            !0 === n.colorsNeedUpdate && (void 0 !== (e = this.attributes.color) && (e.copyColorsArray(n.colors),
            e.needsUpdate = !0),
            n.colorsNeedUpdate = !1),
            n.uvsNeedUpdate && (void 0 !== (e = this.attributes.uv) && (e.copyVector2sArray(n.uvs),
            e.needsUpdate = !0),
            n.uvsNeedUpdate = !1),
            n.lineDistancesNeedUpdate && (void 0 !== (e = this.attributes.lineDistance) && (e.copyArray(n.lineDistances),
            e.needsUpdate = !0),
            n.lineDistancesNeedUpdate = !1),
            n.groupsNeedUpdate && (n.computeGroups(t.geometry),
            this.groups = n.groups,
            n.groupsNeedUpdate = !1),
            this
        },
        fromGeometry: function(t) {
            return t.__directGeometry = (new Qn).fromGeometry(t),
            this.fromDirectGeometry(t.__directGeometry)
        },
        fromDirectGeometry: function(t) {
            var e = new Float32Array(3 * t.vertices.length);
            if (this.addAttribute("position", new Fn(e,3).copyVector3sArray(t.vertices)),
            t.normals.length > 0) {
                var n = new Float32Array(3 * t.normals.length);
                this.addAttribute("normal", new Fn(n,3).copyVector3sArray(t.normals))
            }
            if (t.colors.length > 0) {
                var r = new Float32Array(3 * t.colors.length);
                this.addAttribute("color", new Fn(r,3).copyColorsArray(t.colors))
            }
            if (t.uvs.length > 0) {
                var i = new Float32Array(2 * t.uvs.length);
                this.addAttribute("uv", new Fn(i,2).copyVector2sArray(t.uvs))
            }
            if (t.uvs2.length > 0) {
                var o = new Float32Array(2 * t.uvs2.length);
                this.addAttribute("uv2", new Fn(o,2).copyVector2sArray(t.uvs2))
            }
            for (var a in this.groups = t.groups,
            t.morphTargets) {
                for (var s = [], u = t.morphTargets[a], c = 0, f = u.length; c < f; c++) {
                    var l = u[c]
                      , h = new Zn(3 * l.length,3);
                    s.push(h.copyVector3sArray(l))
                }
                this.morphAttributes[a] = s
            }
            if (t.skinIndices.length > 0) {
                var d = new Zn(4 * t.skinIndices.length,4);
                this.addAttribute("skinIndex", d.copyVector4sArray(t.skinIndices))
            }
            if (t.skinWeights.length > 0) {
                var p = new Zn(4 * t.skinWeights.length,4);
                this.addAttribute("skinWeight", p.copyVector4sArray(t.skinWeights))
            }
            return null !== t.boundingSphere && (this.boundingSphere = t.boundingSphere.clone()),
            null !== t.boundingBox && (this.boundingBox = t.boundingBox.clone()),
            this
        },
        computeBoundingBox: function() {
            null === this.boundingBox && (this.boundingBox = new hn);
            var t = this.attributes.position;
            void 0 !== t ? this.boundingBox.setFromBufferAttribute(t) : this.boundingBox.makeEmpty(),
            (isNaN(this.boundingBox.min.x) || isNaN(this.boundingBox.min.y) || isNaN(this.boundingBox.min.z)) && console.error('THREE.BufferGeometry.computeBoundingBox: Computed min/max have NaN values. The "position" attribute is likely to have NaN values.', this)
        },
        computeBoundingSphere: function() {
            var t = new hn
              , e = new Ke;
            return function() {
                null === this.boundingSphere && (this.boundingSphere = new dn);
                var n = this.attributes.position;
                if (n) {
                    var r = this.boundingSphere.center;
                    t.setFromBufferAttribute(n),
                    t.getCenter(r);
                    for (var i = 0, o = 0, a = n.count; o < a; o++)
                        e.x = n.getX(o),
                        e.y = n.getY(o),
                        e.z = n.getZ(o),
                        i = Math.max(i, r.distanceToSquared(e));
                    this.boundingSphere.radius = Math.sqrt(i),
                    isNaN(this.boundingSphere.radius) && console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.', this)
                }
            }
        }(),
        computeFaceNormals: function() {},
        computeVertexNormals: function() {
            var t = this.index
              , e = this.attributes
              , n = this.groups;
            if (e.position) {
                var r = e.position.array;
                if (void 0 === e.normal)
                    this.addAttribute("normal", new Fn(new Float32Array(r.length),3));
                else
                    for (var i = e.normal.array, o = 0, a = i.length; o < a; o++)
                        i[o] = 0;
                var s, u, c, f = e.normal.array, l = new Ke, h = new Ke, d = new Ke, p = new Ke, m = new Ke;
                if (t) {
                    var v = t.array;
                    0 === n.length && this.addGroup(0, v.length);
                    for (var g = 0, y = n.length; g < y; ++g) {
                        var b = n[g]
                          , _ = b.start;
                        for (o = _,
                        a = _ + b.count; o < a; o += 3)
                            s = 3 * v[o + 0],
                            u = 3 * v[o + 1],
                            c = 3 * v[o + 2],
                            l.fromArray(r, s),
                            h.fromArray(r, u),
                            d.fromArray(r, c),
                            p.subVectors(d, h),
                            m.subVectors(l, h),
                            p.cross(m),
                            f[s] += p.x,
                            f[s + 1] += p.y,
                            f[s + 2] += p.z,
                            f[u] += p.x,
                            f[u + 1] += p.y,
                            f[u + 2] += p.z,
                            f[c] += p.x,
                            f[c + 1] += p.y,
                            f[c + 2] += p.z
                    }
                } else
                    for (o = 0,
                    a = r.length; o < a; o += 9)
                        l.fromArray(r, o),
                        h.fromArray(r, o + 3),
                        d.fromArray(r, o + 6),
                        p.subVectors(d, h),
                        m.subVectors(l, h),
                        p.cross(m),
                        f[o] = p.x,
                        f[o + 1] = p.y,
                        f[o + 2] = p.z,
                        f[o + 3] = p.x,
                        f[o + 4] = p.y,
                        f[o + 5] = p.z,
                        f[o + 6] = p.x,
                        f[o + 7] = p.y,
                        f[o + 8] = p.z;
                this.normalizeNormals(),
                e.normal.needsUpdate = !0
            }
        },
        merge: function(t, e) {
            if (t && t.isBufferGeometry) {
                void 0 === e && (e = 0,
                console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));
                var n = this.attributes;
                for (var r in n)
                    if (void 0 !== t.attributes[r])
                        for (var i = n[r].array, o = t.attributes[r], a = o.array, s = 0, u = o.itemSize * e; s < a.length; s++,
                        u++)
                            i[u] = a[s];
                return this
            }
            console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.", t)
        },
        normalizeNormals: function() {
            var t = new Ke;
            return function() {
                for (var e = this.attributes.normal, n = 0, r = e.count; n < r; n++)
                    t.x = e.getX(n),
                    t.y = e.getY(n),
                    t.z = e.getZ(n),
                    t.normalize(),
                    e.setXYZ(n, t.x, t.y, t.z)
            }
        }(),
        toNonIndexed: function() {
            if (null === this.index)
                return console.warn("THREE.BufferGeometry.toNonIndexed(): Geometry is already non-indexed."),
                this;
            var t = new tr
              , e = this.index.array
              , n = this.attributes;
            for (var r in n) {
                for (var i = n[r], o = i.array, a = i.itemSize, s = new o.constructor(e.length * a), u = 0, c = 0, f = 0, l = e.length; f < l; f++) {
                    u = e[f] * a;
                    for (var h = 0; h < a; h++)
                        s[c++] = o[u++]
                }
                t.addAttribute(r, new Fn(s,a))
            }
            var d = this.groups;
            for (f = 0,
            l = d.length; f < l; f++) {
                var p = d[f];
                t.addGroup(p.start, p.count, p.materialIndex)
            }
            return t
        },
        toJSON: function() {
            var t = {
                metadata: {
                    version: 4.5,
                    type: "BufferGeometry",
                    generator: "BufferGeometry.toJSON"
                }
            };
            if (t.uuid = this.uuid,
            t.type = this.type,
            "" !== this.name && (t.name = this.name),
            Object.keys(this.userData).length > 0 && (t.userData = this.userData),
            void 0 !== this.parameters) {
                var e = this.parameters;
                for (var n in e)
                    void 0 !== e[n] && (t[n] = e[n]);
                return t
            }
            t.data = {
                attributes: {}
            };
            var r = this.index;
            if (null !== r) {
                var i = Array.prototype.slice.call(r.array);
                t.data.index = {
                    type: r.array.constructor.name,
                    array: i
                }
            }
            var o = this.attributes;
            for (var n in o) {
                var a = o[n];
                i = Array.prototype.slice.call(a.array);
                t.data.attributes[n] = {
                    itemSize: a.itemSize,
                    type: a.array.constructor.name,
                    array: i,
                    normalized: a.normalized
                }
            }
            var s = this.groups;
            s.length > 0 && (t.data.groups = JSON.parse(JSON.stringify(s)));
            var u = this.boundingSphere;
            return null !== u && (t.data.boundingSphere = {
                center: u.center.toArray(),
                radius: u.radius
            }),
            t
        },
        clone: function() {
            return (new tr).copy(this)
        },
        copy: function(t) {
            var e, n, r;
            this.index = null,
            this.attributes = {},
            this.morphAttributes = {},
            this.groups = [],
            this.boundingBox = null,
            this.boundingSphere = null,
            this.name = t.name;
            var i = t.index;
            null !== i && this.setIndex(i.clone());
            var o = t.attributes;
            for (e in o) {
                var a = o[e];
                this.addAttribute(e, a.clone())
            }
            var s = t.morphAttributes;
            for (e in s) {
                var u = []
                  , c = s[e];
                for (n = 0,
                r = c.length; n < r; n++)
                    u.push(c[n].clone());
                this.morphAttributes[e] = u
            }
            var f = t.groups;
            for (n = 0,
            r = f.length; n < r; n++) {
                var l = f[n];
                this.addGroup(l.start, l.count, l.materialIndex)
            }
            var h = t.boundingBox;
            null !== h && (this.boundingBox = h.clone());
            var d = t.boundingSphere;
            return null !== d && (this.boundingSphere = d.clone()),
            this.drawRange.start = t.drawRange.start,
            this.drawRange.count = t.drawRange.count,
            this.userData = t.userData,
            this
        },
        dispose: function() {
            this.dispatchEvent({
                type: "dispose"
            })
        }
    }),
    er.prototype = Object.create(kn.prototype),
    er.prototype.constructor = er,
    nr.prototype = Object.create(tr.prototype),
    nr.prototype.constructor = nr,
    rr.prototype = Object.create(kn.prototype),
    rr.prototype.constructor = rr,
    ir.prototype = Object.create(tr.prototype),
    ir.prototype.constructor = ir;
    var or, ar, sr, ur, cr, fr, lr, hr, dr, pr, mr, vr = 0;
    function gr() {
        Object.defineProperty(this, "id", {
            value: vr++
        }),
        this.uuid = Ye.generateUUID(),
        this.name = "",
        this.type = "Material",
        this.fog = !0,
        this.lights = !0,
        this.blending = I,
        this.side = S,
        this.flatShading = !1,
        this.vertexColors = C,
        this.opacity = 1,
        this.transparent = !1,
        this.blendSrc = Z,
        this.blendDst = J,
        this.blendEquation = k,
        this.blendSrcAlpha = null,
        this.blendDstAlpha = null,
        this.blendEquationAlpha = null,
        this.depthFunc = ot,
        this.depthTest = !0,
        this.depthWrite = !0,
        this.clippingPlanes = null,
        this.clipIntersection = !1,
        this.clipShadows = !1,
        this.shadowSide = null,
        this.colorWrite = !0,
        this.precision = null,
        this.polygonOffset = !1,
        this.polygonOffsetFactor = 0,
        this.polygonOffsetUnits = 0,
        this.dithering = !1,
        this.alphaTest = 0,
        this.premultipliedAlpha = !1,
        this.overdraw = 0,
        this.visible = !0,
        this.userData = {},
        this.needsUpdate = !0
    }
    function yr(t) {
        gr.call(this),
        this.type = "MeshBasicMaterial",
        this.color = new _n(16777215),
        this.map = null,
        this.lightMap = null,
        this.lightMapIntensity = 1,
        this.aoMap = null,
        this.aoMapIntensity = 1,
        this.specularMap = null,
        this.alphaMap = null,
        this.envMap = null,
        this.combine = ft,
        this.reflectivity = 1,
        this.refractionRatio = .98,
        this.wireframe = !1,
        this.wireframeLinewidth = 1,
        this.wireframeLinecap = "round",
        this.wireframeLinejoin = "round",
        this.skinning = !1,
        this.morphTargets = !1,
        this.lights = !1,
        this.setValues(t)
    }
    function br(t) {
        gr.call(this),
        this.type = "ShaderMaterial",
        this.defines = {},
        this.uniforms = {},
        this.vertexShader = "void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",
        this.fragmentShader = "void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",
        this.linewidth = 1,
        this.wireframe = !1,
        this.wireframeLinewidth = 1,
        this.fog = !1,
        this.lights = !1,
        this.clipping = !1,
        this.skinning = !1,
        this.morphTargets = !1,
        this.morphNormals = !1,
        this.extensions = {
            derivatives: !1,
            fragDepth: !1,
            drawBuffers: !1,
            shaderTextureLOD: !1
        },
        this.defaultAttributeValues = {
            color: [1, 1, 1],
            uv: [0, 0],
            uv2: [0, 0]
        },
        this.index0AttributeName = void 0,
        this.uniformsNeedUpdate = !1,
        void 0 !== t && (void 0 !== t.attributes && console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),
        this.setValues(t))
    }
    function _r(t, e) {
        this.origin = void 0 !== t ? t : new Ke,
        this.direction = void 0 !== e ? e : new Ke
    }
    function xr(t, e, n) {
        this.a = void 0 !== t ? t : new Ke,
        this.b = void 0 !== e ? e : new Ke,
        this.c = void 0 !== n ? n : new Ke
    }
    function wr(t, e) {
        Pn.call(this),
        this.type = "Mesh",
        this.geometry = void 0 !== t ? t : new tr,
        this.material = void 0 !== e ? e : new yr({
            color: 16777215 * Math.random()
        }),
        this.drawMode = Pe,
        this.updateMorphTargets()
    }
    function Mr(t, e) {
        return Math.abs(e[1]) - Math.abs(t[1])
    }
    function Er(t, e, n, r, i, o, a, s, u, c) {
        t = void 0 !== t ? t : [],
        e = void 0 !== e ? e : bt,
        sn.call(this, t, e, n, r, i, o, a, s, u, c),
        this.flipY = !1
    }
    gr.prototype = Object.assign(Object.create(r.prototype), {
        constructor: gr,
        isMaterial: !0,
        onBeforeCompile: function() {},
        setValues: function(t) {
            if (void 0 !== t)
                for (var e in t) {
                    var n = t[e];
                    if (void 0 !== n)
                        if ("shading" !== e) {
                            var r = this[e];
                            void 0 !== r ? r && r.isColor ? r.set(n) : r && r.isVector3 && n && n.isVector3 ? r.copy(n) : this[e] = "overdraw" === e ? Number(n) : n : console.warn("THREE." + this.type + ": '" + e + "' is not a property of this material.")
                        } else
                            console.warn("THREE." + this.type + ": .shading has been removed. Use the boolean .flatShading instead."),
                            this.flatShading = n === L;
                    else
                        console.warn("THREE.Material: '" + e + "' parameter is undefined.")
                }
        },
        toJSON: function(t) {
            var e = void 0 === t || "string" == typeof t;
            e && (t = {
                textures: {},
                images: {}
            });
            var n = {
                metadata: {
                    version: 4.5,
                    type: "Material",
                    generator: "Material.toJSON"
                }
            };
            function r(t) {
                var e = [];
                for (var n in t) {
                    var r = t[n];
                    delete r.metadata,
                    e.push(r)
                }
                return e
            }
            if (n.uuid = this.uuid,
            n.type = this.type,
            "" !== this.name && (n.name = this.name),
            this.color && this.color.isColor && (n.color = this.color.getHex()),
            void 0 !== this.roughness && (n.roughness = this.roughness),
            void 0 !== this.metalness && (n.metalness = this.metalness),
            this.emissive && this.emissive.isColor && (n.emissive = this.emissive.getHex()),
            1 !== this.emissiveIntensity && (n.emissiveIntensity = this.emissiveIntensity),
            this.specular && this.specular.isColor && (n.specular = this.specular.getHex()),
            void 0 !== this.shininess && (n.shininess = this.shininess),
            void 0 !== this.clearCoat && (n.clearCoat = this.clearCoat),
            void 0 !== this.clearCoatRoughness && (n.clearCoatRoughness = this.clearCoatRoughness),
            this.map && this.map.isTexture && (n.map = this.map.toJSON(t).uuid),
            this.alphaMap && this.alphaMap.isTexture && (n.alphaMap = this.alphaMap.toJSON(t).uuid),
            this.lightMap && this.lightMap.isTexture && (n.lightMap = this.lightMap.toJSON(t).uuid),
            this.aoMap && this.aoMap.isTexture && (n.aoMap = this.aoMap.toJSON(t).uuid,
            n.aoMapIntensity = this.aoMapIntensity),
            this.bumpMap && this.bumpMap.isTexture && (n.bumpMap = this.bumpMap.toJSON(t).uuid,
            n.bumpScale = this.bumpScale),
            this.normalMap && this.normalMap.isTexture && (n.normalMap = this.normalMap.toJSON(t).uuid,
            n.normalMapType = this.normalMapType,
            n.normalScale = this.normalScale.toArray()),
            this.displacementMap && this.displacementMap.isTexture && (n.displacementMap = this.displacementMap.toJSON(t).uuid,
            n.displacementScale = this.displacementScale,
            n.displacementBias = this.displacementBias),
            this.roughnessMap && this.roughnessMap.isTexture && (n.roughnessMap = this.roughnessMap.toJSON(t).uuid),
            this.metalnessMap && this.metalnessMap.isTexture && (n.metalnessMap = this.metalnessMap.toJSON(t).uuid),
            this.emissiveMap && this.emissiveMap.isTexture && (n.emissiveMap = this.emissiveMap.toJSON(t).uuid),
            this.specularMap && this.specularMap.isTexture && (n.specularMap = this.specularMap.toJSON(t).uuid),
            this.envMap && this.envMap.isTexture && (n.envMap = this.envMap.toJSON(t).uuid,
            n.reflectivity = this.reflectivity),
            this.gradientMap && this.gradientMap.isTexture && (n.gradientMap = this.gradientMap.toJSON(t).uuid),
            void 0 !== this.size && (n.size = this.size),
            void 0 !== this.sizeAttenuation && (n.sizeAttenuation = this.sizeAttenuation),
            this.blending !== I && (n.blending = this.blending),
            !0 === this.flatShading && (n.flatShading = this.flatShading),
            this.side !== S && (n.side = this.side),
            this.vertexColors !== C && (n.vertexColors = this.vertexColors),
            this.opacity < 1 && (n.opacity = this.opacity),
            !0 === this.transparent && (n.transparent = this.transparent),
            n.depthFunc = this.depthFunc,
            n.depthTest = this.depthTest,
            n.depthWrite = this.depthWrite,
            0 !== this.rotation && (n.rotation = this.rotation),
            1 !== this.linewidth && (n.linewidth = this.linewidth),
            void 0 !== this.dashSize && (n.dashSize = this.dashSize),
            void 0 !== this.gapSize && (n.gapSize = this.gapSize),
            void 0 !== this.scale && (n.scale = this.scale),
            !0 === this.dithering && (n.dithering = !0),
            this.alphaTest > 0 && (n.alphaTest = this.alphaTest),
            !0 === this.premultipliedAlpha && (n.premultipliedAlpha = this.premultipliedAlpha),
            !0 === this.wireframe && (n.wireframe = this.wireframe),
            this.wireframeLinewidth > 1 && (n.wireframeLinewidth = this.wireframeLinewidth),
            "round" !== this.wireframeLinecap && (n.wireframeLinecap = this.wireframeLinecap),
            "round" !== this.wireframeLinejoin && (n.wireframeLinejoin = this.wireframeLinejoin),
            !0 === this.morphTargets && (n.morphTargets = !0),
            !0 === this.skinning && (n.skinning = !0),
            !1 === this.visible && (n.visible = !1),
            "{}" !== JSON.stringify(this.userData) && (n.userData = this.userData),
            e) {
                var i = r(t.textures)
                  , o = r(t.images);
                i.length > 0 && (n.textures = i),
                o.length > 0 && (n.images = o)
            }
            return n
        },
        clone: function() {
            return (new this.constructor).copy(this)
        },
        copy: function(t) {
            this.name = t.name,
            this.fog = t.fog,
            this.lights = t.lights,
            this.blending = t.blending,
            this.side = t.side,
            this.flatShading = t.flatShading,
            this.vertexColors = t.vertexColors,
            this.opacity = t.opacity,
            this.transparent = t.transparent,
            this.blendSrc = t.blendSrc,
            this.blendDst = t.blendDst,
            this.blendEquation = t.blendEquation,
            this.blendSrcAlpha = t.blendSrcAlpha,
            this.blendDstAlpha = t.blendDstAlpha,
            this.blendEquationAlpha = t.blendEquationAlpha,
            this.depthFunc = t.depthFunc,
            this.depthTest = t.depthTest,
            this.depthWrite = t.depthWrite,
            this.colorWrite = t.colorWrite,
            this.precision = t.precision,
            this.polygonOffset = t.polygonOffset,
            this.polygonOffsetFactor = t.polygonOffsetFactor,
            this.polygonOffsetUnits = t.polygonOffsetUnits,
            this.dithering = t.dithering,
            this.alphaTest = t.alphaTest,
            this.premultipliedAlpha = t.premultipliedAlpha,
            this.overdraw = t.overdraw,
            this.visible = t.visible,
            this.userData = JSON.parse(JSON.stringify(t.userData)),
            this.clipShadows = t.clipShadows,
            this.clipIntersection = t.clipIntersection;
            var e = t.clippingPlanes
              , n = null;
            if (null !== e) {
                var r = e.length;
                n = new Array(r);
                for (var i = 0; i !== r; ++i)
                    n[i] = e[i].clone()
            }
            return this.clippingPlanes = n,
            this.shadowSide = t.shadowSide,
            this
        },
        dispose: function() {
            this.dispatchEvent({
                type: "dispose"
            })
        }
    }),
    yr.prototype = Object.create(gr.prototype),
    yr.prototype.constructor = yr,
    yr.prototype.isMeshBasicMaterial = !0,
    yr.prototype.copy = function(t) {
        return gr.prototype.copy.call(this, t),
        this.color.copy(t.color),
        this.map = t.map,
        this.lightMap = t.lightMap,
        this.lightMapIntensity = t.lightMapIntensity,
        this.aoMap = t.aoMap,
        this.aoMapIntensity = t.aoMapIntensity,
        this.specularMap = t.specularMap,
        this.alphaMap = t.alphaMap,
        this.envMap = t.envMap,
        this.combine = t.combine,
        this.reflectivity = t.reflectivity,
        this.refractionRatio = t.refractionRatio,
        this.wireframe = t.wireframe,
        this.wireframeLinewidth = t.wireframeLinewidth,
        this.wireframeLinecap = t.wireframeLinecap,
        this.wireframeLinejoin = t.wireframeLinejoin,
        this.skinning = t.skinning,
        this.morphTargets = t.morphTargets,
        this
    }
    ,
    br.prototype = Object.create(gr.prototype),
    br.prototype.constructor = br,
    br.prototype.isShaderMaterial = !0,
    br.prototype.copy = function(t) {
        return gr.prototype.copy.call(this, t),
        this.fragmentShader = t.fragmentShader,
        this.vertexShader = t.vertexShader,
        this.uniforms = yn.clone(t.uniforms),
        this.defines = Object.assign({}, t.defines),
        this.wireframe = t.wireframe,
        this.wireframeLinewidth = t.wireframeLinewidth,
        this.lights = t.lights,
        this.clipping = t.clipping,
        this.skinning = t.skinning,
        this.morphTargets = t.morphTargets,
        this.morphNormals = t.morphNormals,
        this.extensions = t.extensions,
        this
    }
    ,
    br.prototype.toJSON = function(t) {
        var e = gr.prototype.toJSON.call(this, t);
        return e.uniforms = this.uniforms,
        e.vertexShader = this.vertexShader,
        e.fragmentShader = this.fragmentShader,
        e
    }
    ,
    Object.assign(_r.prototype, {
        set: function(t, e) {
            return this.origin.copy(t),
            this.direction.copy(e),
            this
        },
        clone: function() {
            return (new this.constructor).copy(this)
        },
        copy: function(t) {
            return this.origin.copy(t.origin),
            this.direction.copy(t.direction),
            this
        },
        at: function(t, e) {
            return void 0 === e && (console.warn("THREE.Ray: .at() target is now required"),
            e = new Ke),
            e.copy(this.direction).multiplyScalar(t).add(this.origin)
        },
        lookAt: function(t) {
            return this.direction.copy(t).sub(this.origin).normalize(),
            this
        },
        recast: function() {
            var t = new Ke;
            return function(e) {
                return this.origin.copy(this.at(e, t)),
                this
            }
        }(),
        closestPointToPoint: function(t, e) {
            void 0 === e && (console.warn("THREE.Ray: .closestPointToPoint() target is now required"),
            e = new Ke),
            e.subVectors(t, this.origin);
            var n = e.dot(this.direction);
            return n < 0 ? e.copy(this.origin) : e.copy(this.direction).multiplyScalar(n).add(this.origin)
        },
        distanceToPoint: function(t) {
            return Math.sqrt(this.distanceSqToPoint(t))
        },
        distanceSqToPoint: function() {
            var t = new Ke;
            return function(e) {
                var n = t.subVectors(e, this.origin).dot(this.direction);
                return n < 0 ? this.origin.distanceToSquared(e) : (t.copy(this.direction).multiplyScalar(n).add(this.origin),
                t.distanceToSquared(e))
            }
        }(),
        distanceSqToSegment: (ar = new Ke,
        sr = new Ke,
        ur = new Ke,
        function(t, e, n, r) {
            ar.copy(t).add(e).multiplyScalar(.5),
            sr.copy(e).sub(t).normalize(),
            ur.copy(this.origin).sub(ar);
            var i, o, a, s, u = .5 * t.distanceTo(e), c = -this.direction.dot(sr), f = ur.dot(this.direction), l = -ur.dot(sr), h = ur.lengthSq(), d = Math.abs(1 - c * c);
            if (d > 0)
                if (o = c * f - l,
                s = u * d,
                (i = c * l - f) >= 0)
                    if (o >= -s)
                        if (o <= s) {
                            var p = 1 / d;
                            a = (i *= p) * (i + c * (o *= p) + 2 * f) + o * (c * i + o + 2 * l) + h
                        } else
                            o = u,
                            a = -(i = Math.max(0, -(c * o + f))) * i + o * (o + 2 * l) + h;
                    else
                        o = -u,
                        a = -(i = Math.max(0, -(c * o + f))) * i + o * (o + 2 * l) + h;
                else
                    o <= -s ? a = -(i = Math.max(0, -(-c * u + f))) * i + (o = i > 0 ? -u : Math.min(Math.max(-u, -l), u)) * (o + 2 * l) + h : o <= s ? (i = 0,
                    a = (o = Math.min(Math.max(-u, -l), u)) * (o + 2 * l) + h) : a = -(i = Math.max(0, -(c * u + f))) * i + (o = i > 0 ? u : Math.min(Math.max(-u, -l), u)) * (o + 2 * l) + h;
            else
                o = c > 0 ? -u : u,
                a = -(i = Math.max(0, -(c * o + f))) * i + o * (o + 2 * l) + h;
            return n && n.copy(this.direction).multiplyScalar(i).add(this.origin),
            r && r.copy(sr).multiplyScalar(o).add(ar),
            a
        }
        ),
        intersectSphere: function() {
            var t = new Ke;
            return function(e, n) {
                t.subVectors(e.center, this.origin);
                var r = t.dot(this.direction)
                  , i = t.dot(t) - r * r
                  , o = e.radius * e.radius;
                if (i > o)
                    return null;
                var a = Math.sqrt(o - i)
                  , s = r - a
                  , u = r + a;
                return s < 0 && u < 0 ? null : s < 0 ? this.at(u, n) : this.at(s, n)
            }
        }(),
        intersectsSphere: function(t) {
            return this.distanceToPoint(t.center) <= t.radius
        },
        distanceToPlane: function(t) {
            var e = t.normal.dot(this.direction);
            if (0 === e)
                return 0 === t.distanceToPoint(this.origin) ? 0 : null;
            var n = -(this.origin.dot(t.normal) + t.constant) / e;
            return n >= 0 ? n : null
        },
        intersectPlane: function(t, e) {
            var n = this.distanceToPlane(t);
            return null === n ? null : this.at(n, e)
        },
        intersectsPlane: function(t) {
            var e = t.distanceToPoint(this.origin);
            return 0 === e || t.normal.dot(this.direction) * e < 0
        },
        intersectBox: function(t, e) {
            var n, r, i, o, a, s, u = 1 / this.direction.x, c = 1 / this.direction.y, f = 1 / this.direction.z, l = this.origin;
            return u >= 0 ? (n = (t.min.x - l.x) * u,
            r = (t.max.x - l.x) * u) : (n = (t.max.x - l.x) * u,
            r = (t.min.x - l.x) * u),
            c >= 0 ? (i = (t.min.y - l.y) * c,
            o = (t.max.y - l.y) * c) : (i = (t.max.y - l.y) * c,
            o = (t.min.y - l.y) * c),
            n > o || i > r ? null : ((i > n || n != n) && (n = i),
            (o < r || r != r) && (r = o),
            f >= 0 ? (a = (t.min.z - l.z) * f,
            s = (t.max.z - l.z) * f) : (a = (t.max.z - l.z) * f,
            s = (t.min.z - l.z) * f),
            n > s || a > r ? null : ((a > n || n != n) && (n = a),
            (s < r || r != r) && (r = s),
            r < 0 ? null : this.at(n >= 0 ? n : r, e)))
        },
        intersectsBox: (or = new Ke,
        function(t) {
            return null !== this.intersectBox(t, or)
        }
        ),
        intersectTriangle: function() {
            var t = new Ke
              , e = new Ke
              , n = new Ke
              , r = new Ke;
            return function(i, o, a, s, u) {
                e.subVectors(o, i),
                n.subVectors(a, i),
                r.crossVectors(e, n);
                var c, f = this.direction.dot(r);
                if (f > 0) {
                    if (s)
                        return null;
                    c = 1
                } else {
                    if (!(f < 0))
                        return null;
                    c = -1,
                    f = -f
                }
                t.subVectors(this.origin, i);
                var l = c * this.direction.dot(n.crossVectors(t, n));
                if (l < 0)
                    return null;
                var h = c * this.direction.dot(e.cross(t));
                if (h < 0)
                    return null;
                if (l + h > f)
                    return null;
                var d = -c * t.dot(r);
                return d < 0 ? null : this.at(d / f, u)
            }
        }(),
        applyMatrix4: function(t) {
            return this.origin.applyMatrix4(t),
            this.direction.transformDirection(t),
            this
        },
        equals: function(t) {
            return t.origin.equals(this.origin) && t.direction.equals(this.direction)
        }
    }),
    Object.assign(xr, {
        getNormal: (cr = new Ke,
        function(t, e, n, r) {
            void 0 === r && (console.warn("THREE.Triangle: .getNormal() target is now required"),
            r = new Ke),
            r.subVectors(n, e),
            cr.subVectors(t, e),
            r.cross(cr);
            var i = r.lengthSq();
            return i > 0 ? r.multiplyScalar(1 / Math.sqrt(i)) : r.set(0, 0, 0)
        }
        ),
        getBarycoord: function() {
            var t = new Ke
              , e = new Ke
              , n = new Ke;
            return function(r, i, o, a, s) {
                t.subVectors(a, i),
                e.subVectors(o, i),
                n.subVectors(r, i);
                var u = t.dot(t)
                  , c = t.dot(e)
                  , f = t.dot(n)
                  , l = e.dot(e)
                  , h = e.dot(n)
                  , d = u * l - c * c;
                if (void 0 === s && (console.warn("THREE.Triangle: .getBarycoord() target is now required"),
                s = new Ke),
                0 === d)
                    return s.set(-2, -1, -1);
                var p = 1 / d
                  , m = (l * f - c * h) * p
                  , v = (u * h - c * f) * p;
                return s.set(1 - m - v, v, m)
            }
        }(),
        containsPoint: function() {
            var t = new Ke;
            return function(e, n, r, i) {
                return xr.getBarycoord(e, n, r, i, t),
                t.x >= 0 && t.y >= 0 && t.x + t.y <= 1
            }
        }()
    }),
    Object.assign(xr.prototype, {
        set: function(t, e, n) {
            return this.a.copy(t),
            this.b.copy(e),
            this.c.copy(n),
            this
        },
        setFromPointsAndIndices: function(t, e, n, r) {
            return this.a.copy(t[e]),
            this.b.copy(t[n]),
            this.c.copy(t[r]),
            this
        },
        clone: function() {
            return (new this.constructor).copy(this)
        },
        copy: function(t) {
            return this.a.copy(t.a),
            this.b.copy(t.b),
            this.c.copy(t.c),
            this
        },
        getArea: function() {
            var t = new Ke
              , e = new Ke;
            return function() {
                return t.subVectors(this.c, this.b),
                e.subVectors(this.a, this.b),
                .5 * t.cross(e).length()
            }
        }(),
        getMidpoint: function(t) {
            return void 0 === t && (console.warn("THREE.Triangle: .getMidpoint() target is now required"),
            t = new Ke),
            t.addVectors(this.a, this.b).add(this.c).multiplyScalar(1 / 3)
        },
        getNormal: function(t) {
            return xr.getNormal(this.a, this.b, this.c, t)
        },
        getPlane: function(t) {
            return void 0 === t && (console.warn("THREE.Triangle: .getPlane() target is now required"),
            t = new Ke),
            t.setFromCoplanarPoints(this.a, this.b, this.c)
        },
        getBarycoord: function(t, e) {
            return xr.getBarycoord(t, this.a, this.b, this.c, e)
        },
        containsPoint: function(t) {
            return xr.containsPoint(t, this.a, this.b, this.c)
        },
        intersectsBox: function(t) {
            return t.intersectsTriangle(this)
        },
        closestPointToPoint: (fr = new Ke,
        lr = new Ke,
        hr = new Ke,
        dr = new Ke,
        pr = new Ke,
        mr = new Ke,
        function(t, e) {
            void 0 === e && (console.warn("THREE.Triangle: .closestPointToPoint() target is now required"),
            e = new Ke);
            var n, r, i = this.a, o = this.b, a = this.c;
            fr.subVectors(o, i),
            lr.subVectors(a, i),
            dr.subVectors(t, i);
            var s = fr.dot(dr)
              , u = lr.dot(dr);
            if (s <= 0 && u <= 0)
                return e.copy(i);
            pr.subVectors(t, o);
            var c = fr.dot(pr)
              , f = lr.dot(pr);
            if (c >= 0 && f <= c)
                return e.copy(o);
            var l = s * f - c * u;
            if (l <= 0 && s >= 0 && c <= 0)
                return n = s / (s - c),
                e.copy(i).addScaledVector(fr, n);
            mr.subVectors(t, a);
            var h = fr.dot(mr)
              , d = lr.dot(mr);
            if (d >= 0 && h <= d)
                return e.copy(a);
            var p = h * u - s * d;
            if (p <= 0 && u >= 0 && d <= 0)
                return r = u / (u - d),
                e.copy(i).addScaledVector(lr, r);
            var m = c * d - h * f;
            if (m <= 0 && f - c >= 0 && h - d >= 0)
                return hr.subVectors(a, o),
                r = (f - c) / (f - c + (h - d)),
                e.copy(o).addScaledVector(hr, r);
            var v = 1 / (m + p + l);
            return n = p * v,
            r = l * v,
            e.copy(i).addScaledVector(fr, n).addScaledVector(lr, r)
        }
        ),
        equals: function(t) {
            return t.a.equals(this.a) && t.b.equals(this.b) && t.c.equals(this.c)
        }
    }),
    wr.prototype = Object.assign(Object.create(Pn.prototype), {
        constructor: wr,
        isMesh: !0,
        setDrawMode: function(t) {
            this.drawMode = t
        },
        copy: function(t) {
            return Pn.prototype.copy.call(this, t),
            this.drawMode = t.drawMode,
            void 0 !== t.morphTargetInfluences && (this.morphTargetInfluences = t.morphTargetInfluences.slice()),
            void 0 !== t.morphTargetDictionary && (this.morphTargetDictionary = Object.assign({}, t.morphTargetDictionary)),
            this
        },
        updateMorphTargets: function() {
            var t, e, n, r = this.geometry;
            if (r.isBufferGeometry) {
                var i = r.morphAttributes
                  , o = Object.keys(i);
                if (o.length > 0) {
                    var a = i[o[0]];
                    if (void 0 !== a)
                        for (this.morphTargetInfluences = [],
                        this.morphTargetDictionary = {},
                        t = 0,
                        e = a.length; t < e; t++)
                            n = a[t].name || String(t),
                            this.morphTargetInfluences.push(0),
                            this.morphTargetDictionary[n] = t
                }
            } else {
                var s = r.morphTargets;
                if (void 0 !== s && s.length > 0)
                    for (this.morphTargetInfluences = [],
                    this.morphTargetDictionary = {},
                    t = 0,
                    e = s.length; t < e; t++)
                        n = s[t].name || String(t),
                        this.morphTargetInfluences.push(0),
                        this.morphTargetDictionary[n] = t
            }
        },
        raycast: function() {
            var t = new Je
              , e = new _r
              , n = new dn
              , r = new Ke
              , i = new Ke
              , o = new Ke
              , a = new Ke
              , s = new Ke
              , u = new Ke
              , c = new Ze
              , f = new Ze
              , l = new Ze
              , h = new Ke
              , d = new Ke
              , p = new Ke;
            function m(t, e, n, r, i, o, a) {
                return xr.getBarycoord(t, e, n, r, h),
                i.multiplyScalar(h.x),
                o.multiplyScalar(h.y),
                a.multiplyScalar(h.z),
                i.add(o).add(a),
                i.clone()
            }
            function v(t, e, n, r, i, o, a, s) {
                if (null === (e.side === O ? r.intersectTriangle(a, o, i, !0, s) : r.intersectTriangle(i, o, a, e.side !== A, s)))
                    return null;
                p.copy(s),
                p.applyMatrix4(t.matrixWorld);
                var u = n.ray.origin.distanceTo(p);
                return u < n.near || u > n.far ? null : {
                    distance: u,
                    point: p.clone(),
                    object: t
                }
            }
            function g(t, e, n, a, s, u, h, p, g) {
                r.fromBufferAttribute(s, h),
                i.fromBufferAttribute(s, p),
                o.fromBufferAttribute(s, g);
                var y = v(t, e, n, a, r, i, o, d);
                if (y) {
                    u && (c.fromBufferAttribute(u, h),
                    f.fromBufferAttribute(u, p),
                    l.fromBufferAttribute(u, g),
                    y.uv = m(d, r, i, o, c, f, l));
                    var b = new Dn(h,p,g);
                    xr.getNormal(r, i, o, b.normal),
                    y.face = b
                }
                return y
            }
            return function(h, p) {
                var y, b = this.geometry, _ = this.material, x = this.matrixWorld;
                if (void 0 !== _ && (null === b.boundingSphere && b.computeBoundingSphere(),
                n.copy(b.boundingSphere),
                n.applyMatrix4(x),
                !1 !== h.ray.intersectsSphere(n) && (t.getInverse(x),
                e.copy(h.ray).applyMatrix4(t),
                null === b.boundingBox || !1 !== e.intersectsBox(b.boundingBox))))
                    if (b.isBufferGeometry) {
                        var w, M, E, T, S, O, A, L, R, C = b.index, j = b.attributes.position, P = b.attributes.uv, N = b.groups, I = b.drawRange;
                        if (null !== C)
                            if (Array.isArray(_))
                                for (T = 0,
                                O = N.length; T < O; T++)
                                    for (R = _[(L = N[T]).materialIndex],
                                    S = Math.max(L.start, I.start),
                                    A = Math.min(L.start + L.count, I.start + I.count); S < A; S += 3)
                                        w = C.getX(S),
                                        M = C.getX(S + 1),
                                        E = C.getX(S + 2),
                                        (y = g(this, R, h, e, j, P, w, M, E)) && (y.faceIndex = Math.floor(S / 3),
                                        p.push(y));
                            else
                                for (T = Math.max(0, I.start),
                                O = Math.min(C.count, I.start + I.count); T < O; T += 3)
                                    w = C.getX(T),
                                    M = C.getX(T + 1),
                                    E = C.getX(T + 2),
                                    (y = g(this, _, h, e, j, P, w, M, E)) && (y.faceIndex = Math.floor(T / 3),
                                    p.push(y));
                        else if (void 0 !== j)
                            if (Array.isArray(_))
                                for (T = 0,
                                O = N.length; T < O; T++)
                                    for (R = _[(L = N[T]).materialIndex],
                                    S = Math.max(L.start, I.start),
                                    A = Math.min(L.start + L.count, I.start + I.count); S < A; S += 3)
                                        (y = g(this, R, h, e, j, P, w = S, M = S + 1, E = S + 2)) && (y.faceIndex = Math.floor(S / 3),
                                        p.push(y));
                            else
                                for (T = Math.max(0, I.start),
                                O = Math.min(j.count, I.start + I.count); T < O; T += 3)
                                    (y = g(this, _, h, e, j, P, w = T, M = T + 1, E = T + 2)) && (y.faceIndex = Math.floor(T / 3),
                                    p.push(y))
                    } else if (b.isGeometry) {
                        var D, U, z, B, k = Array.isArray(_), F = b.vertices, G = b.faces, H = b.faceVertexUvs[0];
                        H.length > 0 && (B = H);
                        for (var V = 0, W = G.length; V < W; V++) {
                            var q = G[V]
                              , X = k ? _[q.materialIndex] : _;
                            if (void 0 !== X) {
                                if (D = F[q.a],
                                U = F[q.b],
                                z = F[q.c],
                                !0 === X.morphTargets) {
                                    var Y = b.morphTargets
                                      , Z = this.morphTargetInfluences;
                                    r.set(0, 0, 0),
                                    i.set(0, 0, 0),
                                    o.set(0, 0, 0);
                                    for (var J = 0, Q = Y.length; J < Q; J++) {
                                        var K = Z[J];
                                        if (0 !== K) {
                                            var $ = Y[J].vertices;
                                            r.addScaledVector(a.subVectors($[q.a], D), K),
                                            i.addScaledVector(s.subVectors($[q.b], U), K),
                                            o.addScaledVector(u.subVectors($[q.c], z), K)
                                        }
                                    }
                                    r.add(D),
                                    i.add(U),
                                    o.add(z),
                                    D = r,
                                    U = i,
                                    z = o
                                }
                                if (y = v(this, X, h, e, D, U, z, d)) {
                                    if (B && B[V]) {
                                        var tt = B[V];
                                        c.copy(tt[0]),
                                        f.copy(tt[1]),
                                        l.copy(tt[2]),
                                        y.uv = m(d, D, U, z, c, f, l)
                                    }
                                    y.face = q,
                                    y.faceIndex = V,
                                    p.push(y)
                                }
                            }
                        }
                    }
            }
        }(),
        clone: function() {
            return new this.constructor(this.geometry,this.material).copy(this)
        }
    }),
    Er.prototype = Object.create(sn.prototype),
    Er.prototype.constructor = Er,
    Er.prototype.isCubeTexture = !0,
    Object.defineProperty(Er.prototype, "images", {
        get: function() {
            return this.image
        },
        set: function(t) {
            this.image = t
        }
    });
    var Tr = new sn
      , Sr = new Er;
    function Or() {
        this.seq = [],
        this.map = {}
    }
    var Ar = []
      , Lr = []
      , Rr = new Float32Array(16)
      , Cr = new Float32Array(9)
      , jr = new Float32Array(4);
    function Pr(t, e, n) {
        var r = t[0];
        if (r <= 0 || r > 0)
            return t;
        var i = e * n
          , o = Ar[i];
        if (void 0 === o && (o = new Float32Array(i),
        Ar[i] = o),
        0 !== e) {
            r.toArray(o, 0);
            for (var a = 1, s = 0; a !== e; ++a)
                s += n,
                t[a].toArray(o, s)
        }
        return o
    }
    function Nr(t, e) {
        if (t.length !== e.length)
            return !1;
        for (var n = 0, r = t.length; n < r; n++)
            if (t[n] !== e[n])
                return !1;
        return !0
    }
    function Ir(t, e) {
        for (var n = 0, r = e.length; n < r; n++)
            t[n] = e[n]
    }
    function Dr(t, e) {
        var n = Lr[e];
        void 0 === n && (n = new Int32Array(e),
        Lr[e] = n);
        for (var r = 0; r !== e; ++r)
            n[r] = t.allocTextureUnit();
        return n
    }
    function Ur(t, e) {
        var n = this.cache;
        n[0] !== e && (t.uniform1f(this.addr, e),
        n[0] = e)
    }
    function zr(t, e) {
        var n = this.cache;
        n[0] !== e && (t.uniform1i(this.addr, e),
        n[0] = e)
    }
    function Br(t, e) {
        var n = this.cache;
        if (void 0 !== e.x)
            n[0] === e.x && n[1] === e.y || (t.uniform2f(this.addr, e.x, e.y),
            n[0] = e.x,
            n[1] = e.y);
        else {
            if (Nr(n, e))
                return;
            t.uniform2fv(this.addr, e),
            Ir(n, e)
        }
    }
    function kr(t, e) {
        var n = this.cache;
        if (void 0 !== e.x)
            n[0] === e.x && n[1] === e.y && n[2] === e.z || (t.uniform3f(this.addr, e.x, e.y, e.z),
            n[0] = e.x,
            n[1] = e.y,
            n[2] = e.z);
        else if (void 0 !== e.r)
            n[0] === e.r && n[1] === e.g && n[2] === e.b || (t.uniform3f(this.addr, e.r, e.g, e.b),
            n[0] = e.r,
            n[1] = e.g,
            n[2] = e.b);
        else {
            if (Nr(n, e))
                return;
            t.uniform3fv(this.addr, e),
            Ir(n, e)
        }
    }
    function Fr(t, e) {
        var n = this.cache;
        if (void 0 !== e.x)
            n[0] === e.x && n[1] === e.y && n[2] === e.z && n[3] === e.w || (t.uniform4f(this.addr, e.x, e.y, e.z, e.w),
            n[0] = e.x,
            n[1] = e.y,
            n[2] = e.z,
            n[3] = e.w);
        else {
            if (Nr(n, e))
                return;
            t.uniform4fv(this.addr, e),
            Ir(n, e)
        }
    }
    function Gr(t, e) {
        var n = this.cache
          , r = e.elements;
        if (void 0 === r) {
            if (Nr(n, e))
                return;
            t.uniformMatrix2fv(this.addr, !1, e),
            Ir(n, e)
        } else {
            if (Nr(n, r))
                return;
            jr.set(r),
            t.uniformMatrix2fv(this.addr, !1, jr),
            Ir(n, r)
        }
    }
    function Hr(t, e) {
        var n = this.cache
          , r = e.elements;
        if (void 0 === r) {
            if (Nr(n, e))
                return;
            t.uniformMatrix3fv(this.addr, !1, e),
            Ir(n, e)
        } else {
            if (Nr(n, r))
                return;
            Cr.set(r),
            t.uniformMatrix3fv(this.addr, !1, Cr),
            Ir(n, r)
        }
    }
    function Vr(t, e) {
        var n = this.cache
          , r = e.elements;
        if (void 0 === r) {
            if (Nr(n, e))
                return;
            t.uniformMatrix4fv(this.addr, !1, e),
            Ir(n, e)
        } else {
            if (Nr(n, r))
                return;
            Rr.set(r),
            t.uniformMatrix4fv(this.addr, !1, Rr),
            Ir(n, r)
        }
    }
    function Wr(t, e, n) {
        var r = this.cache
          , i = n.allocTextureUnit();
        r[0] !== i && (t.uniform1i(this.addr, i),
        r[0] = i),
        n.setTexture2D(e || Tr, i)
    }
    function qr(t, e, n) {
        var r = this.cache
          , i = n.allocTextureUnit();
        r[0] !== i && (t.uniform1i(this.addr, i),
        r[0] = i),
        n.setTextureCube(e || Sr, i)
    }
    function Xr(t, e) {
        var n = this.cache;
        Nr(n, e) || (t.uniform2iv(this.addr, e),
        Ir(n, e))
    }
    function Yr(t, e) {
        var n = this.cache;
        Nr(n, e) || (t.uniform3iv(this.addr, e),
        Ir(n, e))
    }
    function Zr(t, e) {
        var n = this.cache;
        Nr(n, e) || (t.uniform4iv(this.addr, e),
        Ir(n, e))
    }
    function Jr(t, e) {
        var n = this.cache;
        Nr(n, e) || (t.uniform1fv(this.addr, e),
        Ir(n, e))
    }
    function Qr(t, e) {
        var n = this.cache;
        Nr(n, e) || (t.uniform1iv(this.addr, e),
        Ir(n, e))
    }
    function Kr(t, e) {
        var n = this.cache
          , r = Pr(e, this.size, 2);
        Nr(n, r) || (t.uniform2fv(this.addr, r),
        this.updateCache(r))
    }
    function $r(t, e) {
        var n = this.cache
          , r = Pr(e, this.size, 3);
        Nr(n, r) || (t.uniform3fv(this.addr, r),
        this.updateCache(r))
    }
    function ti(t, e) {
        var n = this.cache
          , r = Pr(e, this.size, 4);
        Nr(n, r) || (t.uniform4fv(this.addr, r),
        this.updateCache(r))
    }
    function ei(t, e) {
        var n = this.cache
          , r = Pr(e, this.size, 4);
        Nr(n, r) || (t.uniformMatrix2fv(this.addr, !1, r),
        this.updateCache(r))
    }
    function ni(t, e) {
        var n = this.cache
          , r = Pr(e, this.size, 9);
        Nr(n, r) || (t.uniformMatrix3fv(this.addr, !1, r),
        this.updateCache(r))
    }
    function ri(t, e) {
        var n = this.cache
          , r = Pr(e, this.size, 16);
        Nr(n, r) || (t.uniformMatrix4fv(this.addr, !1, r),
        this.updateCache(r))
    }
    function ii(t, e, n) {
        var r = this.cache
          , i = e.length
          , o = Dr(n, i);
        !1 === Nr(r, o) && (t.uniform1iv(this.addr, o),
        Ir(r, o));
        for (var a = 0; a !== i; ++a)
            n.setTexture2D(e[a] || Tr, o[a])
    }
    function oi(t, e, n) {
        var r = this.cache
          , i = e.length
          , o = Dr(n, i);
        !1 === Nr(r, o) && (t.uniform1iv(this.addr, o),
        Ir(r, o));
        for (var a = 0; a !== i; ++a)
            n.setTextureCube(e[a] || Sr, o[a])
    }
    function ai(t, e, n) {
        this.id = t,
        this.addr = n,
        this.cache = [],
        this.setValue = function(t) {
            switch (t) {
            case 5126:
                return Ur;
            case 35664:
                return Br;
            case 35665:
                return kr;
            case 35666:
                return Fr;
            case 35674:
                return Gr;
            case 35675:
                return Hr;
            case 35676:
                return Vr;
            case 35678:
            case 36198:
                return Wr;
            case 35680:
                return qr;
            case 5124:
            case 35670:
                return zr;
            case 35667:
            case 35671:
                return Xr;
            case 35668:
            case 35672:
                return Yr;
            case 35669:
            case 35673:
                return Zr
            }
        }(e.type)
    }
    function si(t, e, n) {
        this.id = t,
        this.addr = n,
        this.cache = [],
        this.size = e.size,
        this.setValue = function(t) {
            switch (t) {
            case 5126:
                return Jr;
            case 35664:
                return Kr;
            case 35665:
                return $r;
            case 35666:
                return ti;
            case 35674:
                return ei;
            case 35675:
                return ni;
            case 35676:
                return ri;
            case 35678:
                return ii;
            case 35680:
                return oi;
            case 5124:
            case 35670:
                return Qr;
            case 35667:
            case 35671:
                return Xr;
            case 35668:
            case 35672:
                return Yr;
            case 35669:
            case 35673:
                return Zr
            }
        }(e.type)
    }
    function ui(t) {
        this.id = t,
        Or.call(this)
    }
    si.prototype.updateCache = function(t) {
        var e = this.cache;
        t instanceof Float32Array && e.length !== t.length && (this.cache = new Float32Array(t.length)),
        Ir(e, t)
    }
    ,
    ui.prototype.setValue = function(t, e, n) {
        for (var r = this.seq, i = 0, o = r.length; i !== o; ++i) {
            var a = r[i];
            a.setValue(t, e[a.id], n)
        }
    }
    ;
    var ci = /([\w\d_]+)(\])?(\[|\.)?/g;
    function fi(t, e) {
        t.seq.push(e),
        t.map[e.id] = e
    }
    function li(t, e, n) {
        var r = t.name
          , i = r.length;
        for (ci.lastIndex = 0; ; ) {
            var o = ci.exec(r)
              , a = ci.lastIndex
              , s = o[1]
              , u = "]" === o[2]
              , c = o[3];
            if (u && (s |= 0),
            void 0 === c || "[" === c && a + 2 === i) {
                fi(n, void 0 === c ? new ai(s,t,e) : new si(s,t,e));
                break
            }
            var f = n.map[s];
            void 0 === f && fi(n, f = new ui(s)),
            n = f
        }
    }
    function hi(t, e, n) {
        Or.call(this),
        this.renderer = n;
        for (var r = t.getProgramParameter(e, t.ACTIVE_UNIFORMS), i = 0; i < r; ++i) {
            var o = t.getActiveUniform(e, i);
            li(o, t.getUniformLocation(e, o.name), this)
        }
    }
    function di(t, e, n) {
        var r = t.createShader(e);
        return t.shaderSource(r, n),
        t.compileShader(r),
        !1 === t.getShaderParameter(r, t.COMPILE_STATUS) && console.error("THREE.WebGLShader: Shader couldn't compile."),
        "" !== t.getShaderInfoLog(r) && console.warn("THREE.WebGLShader: gl.getShaderInfoLog()", e === t.VERTEX_SHADER ? "vertex" : "fragment", t.getShaderInfoLog(r), function(t) {
            for (var e = t.split("\n"), n = 0; n < e.length; n++)
                e[n] = n + 1 + ": " + e[n];
            return e.join("\n")
        }(n)),
        r
    }
    hi.prototype.setValue = function(t, e, n) {
        var r = this.map[e];
        void 0 !== r && r.setValue(t, n, this.renderer)
    }
    ,
    hi.prototype.setOptional = function(t, e, n) {
        var r = e[n];
        void 0 !== r && this.setValue(t, n, r)
    }
    ,
    hi.upload = function(t, e, n, r) {
        for (var i = 0, o = e.length; i !== o; ++i) {
            var a = e[i]
              , s = n[a.id];
            !1 !== s.needsUpdate && a.setValue(t, s.value, r)
        }
    }
    ,
    hi.seqWithValue = function(t, e) {
        for (var n = [], r = 0, i = t.length; r !== i; ++r) {
            var o = t[r];
            o.id in e && n.push(o)
        }
        return n
    }
    ;
    var pi = 0;
    function mi(t) {
        switch (t) {
        case De:
            return ["Linear", "( value )"];
        case Ue:
            return ["sRGB", "( value )"];
        case Be:
            return ["RGBE", "( value )"];
        case Fe:
            return ["RGBM", "( value, 7.0 )"];
        case Ge:
            return ["RGBM", "( value, 16.0 )"];
        case He:
            return ["RGBD", "( value, 256.0 )"];
        case ze:
            return ["Gamma", "( value, float( GAMMA_FACTOR ) )"];
        default:
            throw new Error("unsupported encoding: " + t)
        }
    }
    function vi(t, e) {
        var n = mi(e);
        return "vec4 " + t + "( vec4 value ) { return " + n[0] + "ToLinear" + n[1] + "; }"
    }
    function gi(t) {
        return "" !== t
    }
    function yi(t, e) {
        return t.replace(/NUM_DIR_LIGHTS/g, e.numDirLights).replace(/NUM_SPOT_LIGHTS/g, e.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g, e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g, e.numPointLights).replace(/NUM_HEMI_LIGHTS/g, e.numHemiLights)
    }
    function bi(t, e) {
        return t.replace(/NUM_CLIPPING_PLANES/g, e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g, e.numClippingPlanes - e.numClipIntersection)
    }
    function _i(t) {
        return t.replace(/^[ \t]*#include +<([\w\d./]+)>/gm, function(t, e) {
            var n = gn[e];
            if (void 0 === n)
                throw new Error("Can not resolve #include <" + e + ">");
            return _i(n)
        })
    }
    function xi(t) {
        return t.replace(/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g, function(t, e, n, r) {
            for (var i = "", o = parseInt(e); o < parseInt(n); o++)
                i += r.replace(/\[ i \]/g, "[ " + o + " ]");
            return i
        })
    }
    function wi(t, e, n, r, i, o, a) {
        var s = t.context
          , u = r.defines
          , c = i.vertexShader
          , f = i.fragmentShader
          , l = "SHADOWMAP_TYPE_BASIC";
        o.shadowMapType === E ? l = "SHADOWMAP_TYPE_PCF" : o.shadowMapType === T && (l = "SHADOWMAP_TYPE_PCF_SOFT");
        var h = "ENVMAP_TYPE_CUBE"
          , d = "ENVMAP_MODE_REFLECTION"
          , p = "ENVMAP_BLENDING_MULTIPLY";
        if (o.envMap) {
            switch (r.envMap.mapping) {
            case bt:
            case _t:
                h = "ENVMAP_TYPE_CUBE";
                break;
            case Et:
            case Tt:
                h = "ENVMAP_TYPE_CUBE_UV";
                break;
            case xt:
            case wt:
                h = "ENVMAP_TYPE_EQUIREC";
                break;
            case Mt:
                h = "ENVMAP_TYPE_SPHERE"
            }
            switch (r.envMap.mapping) {
            case _t:
            case wt:
                d = "ENVMAP_MODE_REFRACTION"
            }
            switch (r.combine) {
            case ft:
                p = "ENVMAP_BLENDING_MULTIPLY";
                break;
            case lt:
                p = "ENVMAP_BLENDING_MIX";
                break;
            case ht:
                p = "ENVMAP_BLENDING_ADD"
            }
        }
        var m, v, g, y, b, _ = t.gammaFactor > 0 ? t.gammaFactor : 1, x = a.isWebGL2 ? "" : function(t, e, n) {
            return [(t = t || {}).derivatives || e.envMapCubeUV || e.bumpMap || e.normalMap && !e.objectSpaceNormalMap || e.flatShading ? "#extension GL_OES_standard_derivatives : enable" : "", (t.fragDepth || e.logarithmicDepthBuffer) && n.get("EXT_frag_depth") ? "#extension GL_EXT_frag_depth : enable" : "", t.drawBuffers && n.get("WEBGL_draw_buffers") ? "#extension GL_EXT_draw_buffers : require" : "", (t.shaderTextureLOD || e.envMap) && n.get("EXT_shader_texture_lod") ? "#extension GL_EXT_shader_texture_lod : enable" : ""].filter(gi).join("\n")
        }(r.extensions, o, e), w = function(t) {
            var e = [];
            for (var n in t) {
                var r = t[n];
                !1 !== r && e.push("#define " + n + " " + r)
            }
            return e.join("\n")
        }(u), M = s.createProgram();
        if (r.isRawShaderMaterial ? ((m = [w].filter(gi).join("\n")).length > 0 && (m += "\n"),
        (v = [x, w].filter(gi).join("\n")).length > 0 && (v += "\n")) : (m = ["precision " + o.precision + " float;", "precision " + o.precision + " int;", "#define SHADER_NAME " + i.name, w, o.supportsVertexTextures ? "#define VERTEX_TEXTURES" : "", "#define GAMMA_FACTOR " + _, "#define MAX_BONES " + o.maxBones, o.useFog && o.fog ? "#define USE_FOG" : "", o.useFog && o.fogExp ? "#define FOG_EXP2" : "", o.map ? "#define USE_MAP" : "", o.envMap ? "#define USE_ENVMAP" : "", o.envMap ? "#define " + d : "", o.lightMap ? "#define USE_LIGHTMAP" : "", o.aoMap ? "#define USE_AOMAP" : "", o.emissiveMap ? "#define USE_EMISSIVEMAP" : "", o.bumpMap ? "#define USE_BUMPMAP" : "", o.normalMap ? "#define USE_NORMALMAP" : "", o.normalMap && o.objectSpaceNormalMap ? "#define OBJECTSPACE_NORMALMAP" : "", o.displacementMap && o.supportsVertexTextures ? "#define USE_DISPLACEMENTMAP" : "", o.specularMap ? "#define USE_SPECULARMAP" : "", o.roughnessMap ? "#define USE_ROUGHNESSMAP" : "", o.metalnessMap ? "#define USE_METALNESSMAP" : "", o.alphaMap ? "#define USE_ALPHAMAP" : "", o.vertexColors ? "#define USE_COLOR" : "", o.flatShading ? "#define FLAT_SHADED" : "", o.skinning ? "#define USE_SKINNING" : "", o.useVertexTexture ? "#define BONE_TEXTURE" : "", o.morphTargets ? "#define USE_MORPHTARGETS" : "", o.morphNormals && !1 === o.flatShading ? "#define USE_MORPHNORMALS" : "", o.doubleSided ? "#define DOUBLE_SIDED" : "", o.flipSided ? "#define FLIP_SIDED" : "", o.shadowMapEnabled ? "#define USE_SHADOWMAP" : "", o.shadowMapEnabled ? "#define " + l : "", o.sizeAttenuation ? "#define USE_SIZEATTENUATION" : "", o.logarithmicDepthBuffer ? "#define USE_LOGDEPTHBUF" : "", o.logarithmicDepthBuffer && (a.isWebGL2 || e.get("EXT_frag_depth")) ? "#define USE_LOGDEPTHBUF_EXT" : "", "uniform mat4 modelMatrix;", "uniform mat4 modelViewMatrix;", "uniform mat4 projectionMatrix;", "uniform mat4 viewMatrix;", "uniform mat3 normalMatrix;", "uniform vec3 cameraPosition;", "attribute vec3 position;", "attribute vec3 normal;", "attribute vec2 uv;", "#ifdef USE_COLOR", "\tattribute vec3 color;", "#endif", "#ifdef USE_MORPHTARGETS", "\tattribute vec3 morphTarget0;", "\tattribute vec3 morphTarget1;", "\tattribute vec3 morphTarget2;", "\tattribute vec3 morphTarget3;", "\t#ifdef USE_MORPHNORMALS", "\t\tattribute vec3 morphNormal0;", "\t\tattribute vec3 morphNormal1;", "\t\tattribute vec3 morphNormal2;", "\t\tattribute vec3 morphNormal3;", "\t#else", "\t\tattribute vec3 morphTarget4;", "\t\tattribute vec3 morphTarget5;", "\t\tattribute vec3 morphTarget6;", "\t\tattribute vec3 morphTarget7;", "\t#endif", "#endif", "#ifdef USE_SKINNING", "\tattribute vec4 skinIndex;", "\tattribute vec4 skinWeight;", "#endif", "\n"].filter(gi).join("\n"),
        v = [x, "precision " + o.precision + " float;", "precision " + o.precision + " int;", "#define SHADER_NAME " + i.name, w, o.alphaTest ? "#define ALPHATEST " + o.alphaTest + (o.alphaTest % 1 ? "" : ".0") : "", "#define GAMMA_FACTOR " + _, o.useFog && o.fog ? "#define USE_FOG" : "", o.useFog && o.fogExp ? "#define FOG_EXP2" : "", o.map ? "#define USE_MAP" : "", o.envMap ? "#define USE_ENVMAP" : "", o.envMap ? "#define " + h : "", o.envMap ? "#define " + d : "", o.envMap ? "#define " + p : "", o.lightMap ? "#define USE_LIGHTMAP" : "", o.aoMap ? "#define USE_AOMAP" : "", o.emissiveMap ? "#define USE_EMISSIVEMAP" : "", o.bumpMap ? "#define USE_BUMPMAP" : "", o.normalMap ? "#define USE_NORMALMAP" : "", o.normalMap && o.objectSpaceNormalMap ? "#define OBJECTSPACE_NORMALMAP" : "", o.specularMap ? "#define USE_SPECULARMAP" : "", o.roughnessMap ? "#define USE_ROUGHNESSMAP" : "", o.metalnessMap ? "#define USE_METALNESSMAP" : "", o.alphaMap ? "#define USE_ALPHAMAP" : "", o.vertexColors ? "#define USE_COLOR" : "", o.gradientMap ? "#define USE_GRADIENTMAP" : "", o.flatShading ? "#define FLAT_SHADED" : "", o.doubleSided ? "#define DOUBLE_SIDED" : "", o.flipSided ? "#define FLIP_SIDED" : "", o.shadowMapEnabled ? "#define USE_SHADOWMAP" : "", o.shadowMapEnabled ? "#define " + l : "", o.premultipliedAlpha ? "#define PREMULTIPLIED_ALPHA" : "", o.physicallyCorrectLights ? "#define PHYSICALLY_CORRECT_LIGHTS" : "", o.logarithmicDepthBuffer ? "#define USE_LOGDEPTHBUF" : "", o.logarithmicDepthBuffer && (a.isWebGL2 || e.get("EXT_frag_depth")) ? "#define USE_LOGDEPTHBUF_EXT" : "", o.envMap && (a.isWebGL2 || e.get("EXT_shader_texture_lod")) ? "#define TEXTURE_LOD_EXT" : "", "uniform mat4 viewMatrix;", "uniform vec3 cameraPosition;", o.toneMapping !== dt ? "#define TONE_MAPPING" : "", o.toneMapping !== dt ? gn.tonemapping_pars_fragment : "", o.toneMapping !== dt ? function(t, e) {
            var n;
            switch (e) {
            case pt:
                n = "Linear";
                break;
            case mt:
                n = "Reinhard";
                break;
            case vt:
                n = "Uncharted2";
                break;
            case gt:
                n = "OptimizedCineon";
                break;
            default:
                throw new Error("unsupported toneMapping: " + e)
            }
            return "vec3 " + t + "( vec3 color ) { return " + n + "ToneMapping( color ); }"
        }("toneMapping", o.toneMapping) : "", o.dithering ? "#define DITHERING" : "", o.outputEncoding || o.mapEncoding || o.envMapEncoding || o.emissiveMapEncoding ? gn.encodings_pars_fragment : "", o.mapEncoding ? vi("mapTexelToLinear", o.mapEncoding) : "", o.envMapEncoding ? vi("envMapTexelToLinear", o.envMapEncoding) : "", o.emissiveMapEncoding ? vi("emissiveMapTexelToLinear", o.emissiveMapEncoding) : "", o.outputEncoding ? (g = "linearToOutputTexel",
        y = o.outputEncoding,
        b = mi(y),
        "vec4 " + g + "( vec4 value ) { return LinearTo" + b[0] + b[1] + "; }") : "", o.depthPacking ? "#define DEPTH_PACKING " + r.depthPacking : "", "\n"].filter(gi).join("\n")),
        c = bi(c = yi(c = _i(c), o), o),
        f = bi(f = yi(f = _i(f), o), o),
        c = xi(c),
        f = xi(f),
        a.isWebGL2 && !r.isRawShaderMaterial) {
            var S = !1
              , O = /^\s*#version\s+300\s+es\s*\n/;
            r.isShaderMaterial && null !== c.match(O) && null !== f.match(O) && (S = !0,
            c = c.replace(O, ""),
            f = f.replace(O, "")),
            m = ["#version 300 es\n", "#define attribute in", "#define varying out", "#define texture2D texture"].join("\n") + "\n" + m,
            v = ["#version 300 es\n", "#define varying in", S ? "" : "out highp vec4 pc_fragColor;", S ? "" : "#define gl_FragColor pc_fragColor", "#define gl_FragDepthEXT gl_FragDepth", "#define texture2D texture", "#define textureCube texture", "#define texture2DProj textureProj", "#define texture2DLodEXT textureLod", "#define texture2DProjLodEXT textureProjLod", "#define textureCubeLodEXT textureLod", "#define texture2DGradEXT textureGrad", "#define texture2DProjGradEXT textureProjGrad", "#define textureCubeGradEXT textureGrad"].join("\n") + "\n" + v
        }
        var A = m + c
          , L = v + f
          , R = di(s, s.VERTEX_SHADER, A)
          , C = di(s, s.FRAGMENT_SHADER, L);
        s.attachShader(M, R),
        s.attachShader(M, C),
        void 0 !== r.index0AttributeName ? s.bindAttribLocation(M, 0, r.index0AttributeName) : !0 === o.morphTargets && s.bindAttribLocation(M, 0, "position"),
        s.linkProgram(M);
        var j, P, N = s.getProgramInfoLog(M).trim(), I = s.getShaderInfoLog(R).trim(), D = s.getShaderInfoLog(C).trim(), U = !0, z = !0;
        return !1 === s.getProgramParameter(M, s.LINK_STATUS) ? (U = !1,
        console.error("THREE.WebGLProgram: shader error: ", s.getError(), "gl.VALIDATE_STATUS", s.getProgramParameter(M, s.VALIDATE_STATUS), "gl.getProgramInfoLog", N, I, D)) : "" !== N ? console.warn("THREE.WebGLProgram: gl.getProgramInfoLog()", N) : "" !== I && "" !== D || (z = !1),
        z && (this.diagnostics = {
            runnable: U,
            material: r,
            programLog: N,
            vertexShader: {
                log: I,
                prefix: m
            },
            fragmentShader: {
                log: D,
                prefix: v
            }
        }),
        s.deleteShader(R),
        s.deleteShader(C),
        this.getUniforms = function() {
            return void 0 === j && (j = new hi(s,M,t)),
            j
        }
        ,
        this.getAttributes = function() {
            return void 0 === P && (P = function(t, e) {
                for (var n = {}, r = t.getProgramParameter(e, t.ACTIVE_ATTRIBUTES), i = 0; i < r; i++) {
                    var o = t.getActiveAttrib(e, i).name;
                    n[o] = t.getAttribLocation(e, o)
                }
                return n
            }(s, M)),
            P
        }
        ,
        this.destroy = function() {
            s.deleteProgram(M),
            this.program = void 0
        }
        ,
        Object.defineProperties(this, {
            uniforms: {
                get: function() {
                    return console.warn("THREE.WebGLProgram: .uniforms is now .getUniforms()."),
                    this.getUniforms()
                }
            },
            attributes: {
                get: function() {
                    return console.warn("THREE.WebGLProgram: .attributes is now .getAttributes()."),
                    this.getAttributes()
                }
            }
        }),
        this.name = i.name,
        this.id = pi++,
        this.code = n,
        this.usedTimes = 1,
        this.program = M,
        this.vertexShader = R,
        this.fragmentShader = C,
        this
    }
    function Mi(t, e, n) {
        var r = []
          , i = {
            MeshDepthMaterial: "depth",
            MeshDistanceMaterial: "distanceRGBA",
            MeshNormalMaterial: "normal",
            MeshBasicMaterial: "basic",
            MeshLambertMaterial: "lambert",
            MeshPhongMaterial: "phong",
            MeshToonMaterial: "phong",
            MeshStandardMaterial: "physical",
            MeshPhysicalMaterial: "physical",
            LineBasicMaterial: "basic",
            LineDashedMaterial: "dashed",
            PointsMaterial: "points",
            ShadowMaterial: "shadow",
            SpriteMaterial: "sprite"
        }
          , o = ["precision", "supportsVertexTextures", "map", "mapEncoding", "envMap", "envMapMode", "envMapEncoding", "lightMap", "aoMap", "emissiveMap", "emissiveMapEncoding", "bumpMap", "normalMap", "objectSpaceNormalMap", "displacementMap", "specularMap", "roughnessMap", "metalnessMap", "gradientMap", "alphaMap", "combine", "vertexColors", "fog", "useFog", "fogExp", "flatShading", "sizeAttenuation", "logarithmicDepthBuffer", "skinning", "maxBones", "useVertexTexture", "morphTargets", "morphNormals", "maxMorphTargets", "maxMorphNormals", "premultipliedAlpha", "numDirLights", "numPointLights", "numSpotLights", "numHemiLights", "numRectAreaLights", "shadowMapEnabled", "shadowMapType", "toneMapping", "physicallyCorrectLights", "alphaTest", "doubleSided", "flipSided", "numClippingPlanes", "numClipIntersection", "depthPacking", "dithering"];
        function a(t, e) {
            var n;
            return t ? t.isTexture ? n = t.encoding : t.isWebGLRenderTarget && (console.warn("THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead."),
            n = t.texture.encoding) : n = De,
            n === De && e && (n = ze),
            n
        }
        this.getParameters = function(e, r, o, s, u, c, f) {
            var l = i[e.type]
              , h = f.isSkinnedMesh ? function(t) {
                var e = t.skeleton.bones;
                if (n.floatVertexTextures)
                    return 1024;
                var r = n.maxVertexUniforms
                  , i = Math.floor((r - 20) / 4)
                  , o = Math.min(i, e.length);
                return o < e.length ? (console.warn("THREE.WebGLRenderer: Skeleton has " + e.length + " bones. This GPU supports " + o + "."),
                0) : o
            }(f) : 0
              , d = n.precision;
            null !== e.precision && (d = n.getMaxPrecision(e.precision)) !== e.precision && console.warn("THREE.WebGLProgram.getParameters:", e.precision, "not supported, using", d, "instead.");
            var p = t.getRenderTarget();
            return {
                shaderID: l,
                precision: d,
                supportsVertexTextures: n.vertexTextures,
                outputEncoding: a(p ? p.texture : null, t.gammaOutput),
                map: !!e.map,
                mapEncoding: a(e.map, t.gammaInput),
                envMap: !!e.envMap,
                envMapMode: e.envMap && e.envMap.mapping,
                envMapEncoding: a(e.envMap, t.gammaInput),
                envMapCubeUV: !!e.envMap && (e.envMap.mapping === Et || e.envMap.mapping === Tt),
                lightMap: !!e.lightMap,
                aoMap: !!e.aoMap,
                emissiveMap: !!e.emissiveMap,
                emissiveMapEncoding: a(e.emissiveMap, t.gammaInput),
                bumpMap: !!e.bumpMap,
                normalMap: !!e.normalMap,
                objectSpaceNormalMap: e.normalMapType === Xe,
                displacementMap: !!e.displacementMap,
                roughnessMap: !!e.roughnessMap,
                metalnessMap: !!e.metalnessMap,
                specularMap: !!e.specularMap,
                alphaMap: !!e.alphaMap,
                gradientMap: !!e.gradientMap,
                combine: e.combine,
                vertexColors: e.vertexColors,
                fog: !!s,
                useFog: e.fog,
                fogExp: s && s.isFogExp2,
                flatShading: e.flatShading,
                sizeAttenuation: e.sizeAttenuation,
                logarithmicDepthBuffer: n.logarithmicDepthBuffer,
                skinning: e.skinning && h > 0,
                maxBones: h,
                useVertexTexture: n.floatVertexTextures,
                morphTargets: e.morphTargets,
                morphNormals: e.morphNormals,
                maxMorphTargets: t.maxMorphTargets,
                maxMorphNormals: t.maxMorphNormals,
                numDirLights: r.directional.length,
                numPointLights: r.point.length,
                numSpotLights: r.spot.length,
                numRectAreaLights: r.rectArea.length,
                numHemiLights: r.hemi.length,
                numClippingPlanes: u,
                numClipIntersection: c,
                dithering: e.dithering,
                shadowMapEnabled: t.shadowMap.enabled && f.receiveShadow && o.length > 0,
                shadowMapType: t.shadowMap.type,
                toneMapping: t.toneMapping,
                physicallyCorrectLights: t.physicallyCorrectLights,
                premultipliedAlpha: e.premultipliedAlpha,
                alphaTest: e.alphaTest,
                doubleSided: e.side === A,
                flipSided: e.side === O,
                depthPacking: void 0 !== e.depthPacking && e.depthPacking
            }
        }
        ,
        this.getProgramCode = function(e, n) {
            var r = [];
            if (n.shaderID ? r.push(n.shaderID) : (r.push(e.fragmentShader),
            r.push(e.vertexShader)),
            void 0 !== e.defines)
                for (var i in e.defines)
                    r.push(i),
                    r.push(e.defines[i]);
            for (var a = 0; a < o.length; a++)
                r.push(n[o[a]]);
            return r.push(e.onBeforeCompile.toString()),
            r.push(t.gammaOutput),
            r.join()
        }
        ,
        this.acquireProgram = function(i, o, a, s) {
            for (var u, c = 0, f = r.length; c < f; c++) {
                var l = r[c];
                if (l.code === s) {
                    ++(u = l).usedTimes;
                    break
                }
            }
            return void 0 === u && (u = new wi(t,e,s,i,o,a,n),
            r.push(u)),
            u
        }
        ,
        this.releaseProgram = function(t) {
            if (0 == --t.usedTimes) {
                var e = r.indexOf(t);
                r[e] = r[r.length - 1],
                r.pop(),
                t.destroy()
            }
        }
        ,
        this.programs = r
    }
    function Ei(t, e) {
        return t.renderOrder !== e.renderOrder ? t.renderOrder - e.renderOrder : t.program && e.program && t.program !== e.program ? t.program.id - e.program.id : t.material.id !== e.material.id ? t.material.id - e.material.id : t.z !== e.z ? t.z - e.z : t.id - e.id
    }
    function Ti(t, e) {
        return t.renderOrder !== e.renderOrder ? t.renderOrder - e.renderOrder : t.z !== e.z ? e.z - t.z : t.id - e.id
    }
    function Si() {
        var t = {};
        return {
            get: function(e, n) {
                var r = e.id + "," + n.id
                  , i = t[r];
                return void 0 === i && (i = new function() {
                    var t = []
                      , e = 0
                      , n = []
                      , r = [];
                    return {
                        opaque: n,
                        transparent: r,
                        init: function() {
                            e = 0,
                            n.length = 0,
                            r.length = 0
                        },
                        push: function(i, o, a, s, u) {
                            var c = t[e];
                            void 0 === c ? (c = {
                                id: i.id,
                                object: i,
                                geometry: o,
                                material: a,
                                program: a.program,
                                renderOrder: i.renderOrder,
                                z: s,
                                group: u
                            },
                            t[e] = c) : (c.id = i.id,
                            c.object = i,
                            c.geometry = o,
                            c.material = a,
                            c.program = a.program,
                            c.renderOrder = i.renderOrder,
                            c.z = s,
                            c.group = u),
                            (!0 === a.transparent ? r : n).push(c),
                            e++
                        },
                        sort: function() {
                            n.length > 1 && n.sort(Ei),
                            r.length > 1 && r.sort(Ti)
                        }
                    }
                }
                ,
                t[r] = i),
                i
            },
            dispose: function() {
                t = {}
            }
        }
    }
    var Oi, Ai, Li, Ri, Ci, ji, Pi = 0;
    function Ni() {
        var t = new function() {
            var t = {};
            return {
                get: function(e) {
                    if (void 0 !== t[e.id])
                        return t[e.id];
                    var n;
                    switch (e.type) {
                    case "DirectionalLight":
                        n = {
                            direction: new Ke,
                            color: new _n,
                            shadow: !1,
                            shadowBias: 0,
                            shadowRadius: 1,
                            shadowMapSize: new Ze
                        };
                        break;
                    case "SpotLight":
                        n = {
                            position: new Ke,
                            direction: new Ke,
                            color: new _n,
                            distance: 0,
                            coneCos: 0,
                            penumbraCos: 0,
                            decay: 0,
                            shadow: !1,
                            shadowBias: 0,
                            shadowRadius: 1,
                            shadowMapSize: new Ze
                        };
                        break;
                    case "PointLight":
                        n = {
                            position: new Ke,
                            color: new _n,
                            distance: 0,
                            decay: 0,
                            shadow: !1,
                            shadowBias: 0,
                            shadowRadius: 1,
                            shadowMapSize: new Ze,
                            shadowCameraNear: 1,
                            shadowCameraFar: 1e3
                        };
                        break;
                    case "HemisphereLight":
                        n = {
                            direction: new Ke,
                            skyColor: new _n,
                            groundColor: new _n
                        };
                        break;
                    case "RectAreaLight":
                        n = {
                            color: new _n,
                            position: new Ke,
                            halfWidth: new Ke,
                            halfHeight: new Ke
                        }
                    }
                    return t[e.id] = n,
                    n
                }
            }
        }
          , e = {
            id: Pi++,
            hash: {
                stateID: -1,
                directionalLength: -1,
                pointLength: -1,
                spotLength: -1,
                rectAreaLength: -1,
                hemiLength: -1,
                shadowsLength: -1
            },
            ambient: [0, 0, 0],
            directional: [],
            directionalShadowMap: [],
            directionalShadowMatrix: [],
            spot: [],
            spotShadowMap: [],
            spotShadowMatrix: [],
            rectArea: [],
            point: [],
            pointShadowMap: [],
            pointShadowMatrix: [],
            hemi: []
        }
          , n = new Ke
          , r = new Je
          , i = new Je;
        return {
            setup: function(o, a, s) {
                for (var u = 0, c = 0, f = 0, l = 0, h = 0, d = 0, p = 0, m = 0, v = s.matrixWorldInverse, g = 0, y = o.length; g < y; g++) {
                    var b = o[g]
                      , _ = b.color
                      , x = b.intensity
                      , w = b.distance
                      , M = b.shadow && b.shadow.map ? b.shadow.map.texture : null;
                    if (b.isAmbientLight)
                        u += _.r * x,
                        c += _.g * x,
                        f += _.b * x;
                    else if (b.isDirectionalLight) {
                        if ((T = t.get(b)).color.copy(b.color).multiplyScalar(b.intensity),
                        T.direction.setFromMatrixPosition(b.matrixWorld),
                        n.setFromMatrixPosition(b.target.matrixWorld),
                        T.direction.sub(n),
                        T.direction.transformDirection(v),
                        T.shadow = b.castShadow,
                        b.castShadow) {
                            var E = b.shadow;
                            T.shadowBias = E.bias,
                            T.shadowRadius = E.radius,
                            T.shadowMapSize = E.mapSize
                        }
                        e.directionalShadowMap[l] = M,
                        e.directionalShadowMatrix[l] = b.shadow.matrix,
                        e.directional[l] = T,
                        l++
                    } else if (b.isSpotLight)
                        (T = t.get(b)).position.setFromMatrixPosition(b.matrixWorld),
                        T.position.applyMatrix4(v),
                        T.color.copy(_).multiplyScalar(x),
                        T.distance = w,
                        T.direction.setFromMatrixPosition(b.matrixWorld),
                        n.setFromMatrixPosition(b.target.matrixWorld),
                        T.direction.sub(n),
                        T.direction.transformDirection(v),
                        T.coneCos = Math.cos(b.angle),
                        T.penumbraCos = Math.cos(b.angle * (1 - b.penumbra)),
                        T.decay = 0 === b.distance ? 0 : b.decay,
                        T.shadow = b.castShadow,
                        b.castShadow && (E = b.shadow,
                        T.shadowBias = E.bias,
                        T.shadowRadius = E.radius,
                        T.shadowMapSize = E.mapSize),
                        e.spotShadowMap[d] = M,
                        e.spotShadowMatrix[d] = b.shadow.matrix,
                        e.spot[d] = T,
                        d++;
                    else if (b.isRectAreaLight)
                        (T = t.get(b)).color.copy(_).multiplyScalar(x),
                        T.position.setFromMatrixPosition(b.matrixWorld),
                        T.position.applyMatrix4(v),
                        i.identity(),
                        r.copy(b.matrixWorld),
                        r.premultiply(v),
                        i.extractRotation(r),
                        T.halfWidth.set(.5 * b.width, 0, 0),
                        T.halfHeight.set(0, .5 * b.height, 0),
                        T.halfWidth.applyMatrix4(i),
                        T.halfHeight.applyMatrix4(i),
                        e.rectArea[p] = T,
                        p++;
                    else if (b.isPointLight)
                        (T = t.get(b)).position.setFromMatrixPosition(b.matrixWorld),
                        T.position.applyMatrix4(v),
                        T.color.copy(b.color).multiplyScalar(b.intensity),
                        T.distance = b.distance,
                        T.decay = 0 === b.distance ? 0 : b.decay,
                        T.shadow = b.castShadow,
                        b.castShadow && (E = b.shadow,
                        T.shadowBias = E.bias,
                        T.shadowRadius = E.radius,
                        T.shadowMapSize = E.mapSize,
                        T.shadowCameraNear = E.camera.near,
                        T.shadowCameraFar = E.camera.far),
                        e.pointShadowMap[h] = M,
                        e.pointShadowMatrix[h] = b.shadow.matrix,
                        e.point[h] = T,
                        h++;
                    else if (b.isHemisphereLight) {
                        var T;
                        (T = t.get(b)).direction.setFromMatrixPosition(b.matrixWorld),
                        T.direction.transformDirection(v),
                        T.direction.normalize(),
                        T.skyColor.copy(b.color).multiplyScalar(x),
                        T.groundColor.copy(b.groundColor).multiplyScalar(x),
                        e.hemi[m] = T,
                        m++
                    }
                }
                e.ambient[0] = u,
                e.ambient[1] = c,
                e.ambient[2] = f,
                e.directional.length = l,
                e.spot.length = d,
                e.rectArea.length = p,
                e.point.length = h,
                e.hemi.length = m,
                e.hash.stateID = e.id,
                e.hash.directionalLength = l,
                e.hash.pointLength = h,
                e.hash.spotLength = d,
                e.hash.rectAreaLength = p,
                e.hash.hemiLength = m,
                e.hash.shadowsLength = a.length
            },
            state: e
        }
    }
    function Ii() {
        var t = new Ni
          , e = []
          , n = [];
        return {
            init: function() {
                e.length = 0,
                n.length = 0
            },
            state: {
                lightsArray: e,
                shadowsArray: n,
                lights: t
            },
            setupLights: function(r) {
                t.setup(e, n, r)
            },
            pushLight: function(t) {
                e.push(t)
            },
            pushShadow: function(t) {
                n.push(t)
            }
        }
    }
    function Di(t) {
        gr.call(this),
        this.type = "MeshDepthMaterial",
        this.depthPacking = Ve,
        this.skinning = !1,
        this.morphTargets = !1,
        this.map = null,
        this.alphaMap = null,
        this.displacementMap = null,
        this.displacementScale = 1,
        this.displacementBias = 0,
        this.wireframe = !1,
        this.wireframeLinewidth = 1,
        this.fog = !1,
        this.lights = !1,
        this.setValues(t)
    }
    function Ui(t) {
        gr.call(this),
        this.type = "MeshDistanceMaterial",
        this.referencePosition = new Ke,
        this.nearDistance = 1,
        this.farDistance = 1e3,
        this.skinning = !1,
        this.morphTargets = !1,
        this.map = null,
        this.alphaMap = null,
        this.displacementMap = null,
        this.displacementScale = 1,
        this.displacementBias = 0,
        this.fog = !1,
        this.lights = !1,
        this.setValues(t)
    }
    function zi(t, e, n) {
        for (var r = new mn, i = new Je, o = new Ze, a = new Ze(n,n), s = new Ke, u = new Ke, c = 1, f = 2, l = 1 + (c | f), h = new Array(l), d = new Array(l), p = {}, m = {
            0: O,
            1: S,
            2: A
        }, v = [new Ke(1,0,0), new Ke(-1,0,0), new Ke(0,0,1), new Ke(0,0,-1), new Ke(0,1,0), new Ke(0,-1,0)], g = [new Ke(0,1,0), new Ke(0,1,0), new Ke(0,1,0), new Ke(0,1,0), new Ke(0,0,1), new Ke(0,0,-1)], y = [new un, new un, new un, new un, new un, new un], b = 0; b !== l; ++b) {
            var _ = 0 != (b & c)
              , x = 0 != (b & f)
              , w = new Di({
                depthPacking: We,
                morphTargets: _,
                skinning: x
            });
            h[b] = w;
            var M = new Ui({
                morphTargets: _,
                skinning: x
            });
            d[b] = M
        }
        var T = this;
        function L(e, n, r, i, o, a) {
            var s = e.geometry
              , u = null
              , l = h
              , v = e.customDepthMaterial;
            if (r && (l = d,
            v = e.customDistanceMaterial),
            v)
                u = v;
            else {
                var g = !1;
                n.morphTargets && (s && s.isBufferGeometry ? g = s.morphAttributes && s.morphAttributes.position && s.morphAttributes.position.length > 0 : s && s.isGeometry && (g = s.morphTargets && s.morphTargets.length > 0)),
                e.isSkinnedMesh && !1 === n.skinning && console.warn("THREE.WebGLShadowMap: THREE.SkinnedMesh with material.skinning set to false:", e);
                var y = e.isSkinnedMesh && n.skinning
                  , b = 0;
                g && (b |= c),
                y && (b |= f),
                u = l[b]
            }
            if (t.localClippingEnabled && !0 === n.clipShadows && 0 !== n.clippingPlanes.length) {
                var _ = u.uuid
                  , x = n.uuid
                  , w = p[_];
                void 0 === w && (w = {},
                p[_] = w);
                var M = w[x];
                void 0 === M && (M = u.clone(),
                w[x] = M),
                u = M
            }
            return u.visible = n.visible,
            u.wireframe = n.wireframe,
            u.side = null != n.shadowSide ? n.shadowSide : m[n.side],
            u.clipShadows = n.clipShadows,
            u.clippingPlanes = n.clippingPlanes,
            u.clipIntersection = n.clipIntersection,
            u.wireframeLinewidth = n.wireframeLinewidth,
            u.linewidth = n.linewidth,
            r && u.isMeshDistanceMaterial && (u.referencePosition.copy(i),
            u.nearDistance = o,
            u.farDistance = a),
            u
        }
        function R(n, i, o, a) {
            if (!1 !== n.visible) {
                if (n.layers.test(i.layers) && (n.isMesh || n.isLine || n.isPoints) && n.castShadow && (!n.frustumCulled || r.intersectsObject(n))) {
                    n.modelViewMatrix.multiplyMatrices(o.matrixWorldInverse, n.matrixWorld);
                    var s = e.update(n)
                      , c = n.material;
                    if (Array.isArray(c))
                        for (var f = s.groups, l = 0, h = f.length; l < h; l++) {
                            var d = f[l]
                              , p = c[d.materialIndex];
                            if (p && p.visible) {
                                var m = L(n, p, a, u, o.near, o.far);
                                t.renderBufferDirect(o, null, s, m, n, d)
                            }
                        }
                    else if (c.visible) {
                        m = L(n, c, a, u, o.near, o.far);
                        t.renderBufferDirect(o, null, s, m, n, null)
                    }
                }
                for (var v = n.children, g = 0, y = v.length; g < y; g++)
                    R(v[g], i, o, a)
            }
        }
        this.enabled = !1,
        this.autoUpdate = !0,
        this.needsUpdate = !1,
        this.type = E,
        this.render = function(e, n, c) {
            if (!1 !== T.enabled && (!1 !== T.autoUpdate || !1 !== T.needsUpdate) && 0 !== e.length) {
                var f, l = t.context, h = t.state;
                h.disable(l.BLEND),
                h.buffers.color.setClear(1, 1, 1, 1),
                h.buffers.depth.setTest(!0),
                h.setScissorTest(!1);
                for (var d = 0, p = e.length; d < p; d++) {
                    var m = e[d]
                      , b = m.shadow
                      , _ = m && m.isPointLight;
                    if (void 0 !== b) {
                        var x = b.camera;
                        if (o.copy(b.mapSize),
                        o.min(a),
                        _) {
                            var w = o.x
                              , M = o.y;
                            y[0].set(2 * w, M, w, M),
                            y[1].set(0, M, w, M),
                            y[2].set(3 * w, M, w, M),
                            y[3].set(w, M, w, M),
                            y[4].set(3 * w, 0, w, M),
                            y[5].set(w, 0, w, M),
                            o.x *= 4,
                            o.y *= 2
                        }
                        if (null === b.map) {
                            var E = {
                                minFilter: Lt,
                                magFilter: Lt,
                                format: Zt
                            };
                            b.map = new cn(o.x,o.y,E),
                            b.map.texture.name = m.name + ".shadowMap",
                            x.updateProjectionMatrix()
                        }
                        b.isSpotLightShadow && b.update(m);
                        var S = b.map
                          , O = b.matrix;
                        u.setFromMatrixPosition(m.matrixWorld),
                        x.position.copy(u),
                        _ ? (f = 6,
                        O.makeTranslation(-u.x, -u.y, -u.z)) : (f = 1,
                        s.setFromMatrixPosition(m.target.matrixWorld),
                        x.lookAt(s),
                        x.updateMatrixWorld(),
                        O.set(.5, 0, 0, .5, 0, .5, 0, .5, 0, 0, .5, .5, 0, 0, 0, 1),
                        O.multiply(x.projectionMatrix),
                        O.multiply(x.matrixWorldInverse)),
                        t.setRenderTarget(S),
                        t.clear();
                        for (var A = 0; A < f; A++) {
                            if (_) {
                                s.copy(x.position),
                                s.add(v[A]),
                                x.up.copy(g[A]),
                                x.lookAt(s),
                                x.updateMatrixWorld();
                                var L = y[A];
                                h.viewport(L)
                            }
                            i.multiplyMatrices(x.projectionMatrix, x.matrixWorldInverse),
                            r.setFromMatrix(i),
                            R(n, c, x, _)
                        }
                    } else
                        console.warn("THREE.WebGLShadowMap:", m, "has no shadow.")
                }
                T.needsUpdate = !1
            }
        }
    }
    function Bi(t, e, n, r, i, o, a) {
        var s, u = {};
        function c(t, e) {
            if (t.width > e || t.height > e) {
                if ("data"in t)
                    return void console.warn("THREE.WebGLRenderer: image in DataTexture is too big (" + t.width + "x" + t.height + ").");
                var n = e / Math.max(t.width, t.height)
                  , r = document.createElementNS("http://www.w3.org/1999/xhtml", "canvas");
                return r.width = Math.floor(t.width * n),
                r.height = Math.floor(t.height * n),
                r.getContext("2d").drawImage(t, 0, 0, t.width, t.height, 0, 0, r.width, r.height),
                console.warn("THREE.WebGLRenderer: image is too big (" + t.width + "x" + t.height + "). Resized to " + r.width + "x" + r.height),
                r
            }
            return t
        }
        function f(t) {
            return Ye.isPowerOfTwo(t.width) && Ye.isPowerOfTwo(t.height)
        }
        function l(t, e) {
            return t.generateMipmaps && e && t.minFilter !== Lt && t.minFilter !== jt
        }
        function h(e, n, i, o) {
            t.generateMipmap(e),
            r.get(n).__maxMipLevel = Math.log(Math.max(i, o)) * Math.LOG2E
        }
        function d(e, n) {
            if (!i.isWebGL2)
                return e;
            if (e === t.RGB) {
                if (n === t.FLOAT)
                    return t.RGB32F;
                if (n === t.HALF_FLOAT)
                    return t.RGB16F;
                if (n === t.UNSIGNED_BYTE)
                    return t.RGB8
            }
            if (e === t.RGBA) {
                if (n === t.FLOAT)
                    return t.RGBA32F;
                if (n === t.HALF_FLOAT)
                    return t.RGBA16F;
                if (n === t.UNSIGNED_BYTE)
                    return t.RGBA8
            }
            return e
        }
        function p(e) {
            return e === Lt || e === Rt || e === Ct ? t.NEAREST : t.LINEAR
        }
        function m(e) {
            var n = e.target;
            n.removeEventListener("dispose", m),
            function(e) {
                var n = r.get(e);
                if (e.image && n.__image__webglTextureCube)
                    t.deleteTexture(n.__image__webglTextureCube);
                else {
                    if (void 0 === n.__webglInit)
                        return;
                    t.deleteTexture(n.__webglTexture)
                }
                r.remove(e)
            }(n),
            n.isVideoTexture && delete u[n.id],
            a.memory.textures--
        }
        function v(e) {
            var n = e.target;
            n.removeEventListener("dispose", v),
            function(e) {
                var n = r.get(e)
                  , i = r.get(e.texture);
                if (!e)
                    return;
                void 0 !== i.__webglTexture && t.deleteTexture(i.__webglTexture);
                e.depthTexture && e.depthTexture.dispose();
                if (e.isWebGLRenderTargetCube)
                    for (var o = 0; o < 6; o++)
                        t.deleteFramebuffer(n.__webglFramebuffer[o]),
                        n.__webglDepthbuffer && t.deleteRenderbuffer(n.__webglDepthbuffer[o]);
                else
                    t.deleteFramebuffer(n.__webglFramebuffer),
                    n.__webglDepthbuffer && t.deleteRenderbuffer(n.__webglDepthbuffer);
                r.remove(e.texture),
                r.remove(e)
            }(n),
            a.memory.textures--
        }
        function g(e, p) {
            var v = r.get(e);
            if (e.isVideoTexture && function(t) {
                var e = t.id
                  , n = a.render.frame;
                u[e] !== n && (u[e] = n,
                t.update())
            }(e),
            e.version > 0 && v.__version !== e.version) {
                var g = e.image;
                if (void 0 === g)
                    console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined");
                else {
                    if (!1 !== g.complete)
                        return void function(e, r, u) {
                            void 0 === e.__webglInit && (e.__webglInit = !0,
                            r.addEventListener("dispose", m),
                            e.__webglTexture = t.createTexture(),
                            a.memory.textures++);
                            n.activeTexture(t.TEXTURE0 + u),
                            n.bindTexture(t.TEXTURE_2D, e.__webglTexture),
                            t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL, r.flipY),
                            t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL, r.premultiplyAlpha),
                            t.pixelStorei(t.UNPACK_ALIGNMENT, r.unpackAlignment);
                            var p = c(r.image, i.maxTextureSize);
                            (function(t) {
                                return !i.isWebGL2 && (t.wrapS !== Ot || t.wrapT !== Ot || t.minFilter !== Lt && t.minFilter !== jt)
                            }
                            )(r) && !1 === f(p) && (p = function(t) {
                                return t instanceof HTMLImageElement || t instanceof HTMLCanvasElement || t instanceof ImageBitmap ? (void 0 === s && (s = document.createElementNS("http://www.w3.org/1999/xhtml", "canvas")),
                                s.width = Ye.floorPowerOfTwo(t.width),
                                s.height = Ye.floorPowerOfTwo(t.height),
                                s.getContext("2d").drawImage(t, 0, 0, s.width, s.height),
                                console.warn("THREE.WebGLRenderer: image is not power of two (" + t.width + "x" + t.height + "). Resized to " + s.width + "x" + s.height),
                                s) : t
                            }(p));
                            var v = f(p)
                              , g = o.convert(r.format)
                              , b = o.convert(r.type)
                              , _ = d(g, b);
                            y(t.TEXTURE_2D, r, v);
                            var x, w = r.mipmaps;
                            if (r.isDepthTexture) {
                                if (_ = t.DEPTH_COMPONENT,
                                r.type === Ft) {
                                    if (!i.isWebGL2)
                                        throw new Error("Float Depth Texture only supported in WebGL2.0");
                                    _ = t.DEPTH_COMPONENT32F
                                } else
                                    i.isWebGL2 && (_ = t.DEPTH_COMPONENT16);
                                r.format === $t && _ === t.DEPTH_COMPONENT && r.type !== zt && r.type !== kt && (console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),
                                r.type = zt,
                                b = o.convert(r.type)),
                                r.format === te && (_ = t.DEPTH_STENCIL,
                                r.type !== qt && (console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),
                                r.type = qt,
                                b = o.convert(r.type))),
                                n.texImage2D(t.TEXTURE_2D, 0, _, p.width, p.height, 0, g, b, null)
                            } else if (r.isDataTexture)
                                if (w.length > 0 && v) {
                                    for (var M = 0, E = w.length; M < E; M++)
                                        x = w[M],
                                        n.texImage2D(t.TEXTURE_2D, M, _, x.width, x.height, 0, g, b, x.data);
                                    r.generateMipmaps = !1,
                                    e.__maxMipLevel = w.length - 1
                                } else
                                    n.texImage2D(t.TEXTURE_2D, 0, _, p.width, p.height, 0, g, b, p.data),
                                    e.__maxMipLevel = 0;
                            else if (r.isCompressedTexture) {
                                for (var M = 0, E = w.length; M < E; M++)
                                    x = w[M],
                                    r.format !== Zt && r.format !== Yt ? n.getCompressedTextureFormats().indexOf(g) > -1 ? n.compressedTexImage2D(t.TEXTURE_2D, M, _, x.width, x.height, 0, x.data) : console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()") : n.texImage2D(t.TEXTURE_2D, M, _, x.width, x.height, 0, g, b, x.data);
                                e.__maxMipLevel = w.length - 1
                            } else if (w.length > 0 && v) {
                                for (var M = 0, E = w.length; M < E; M++)
                                    x = w[M],
                                    n.texImage2D(t.TEXTURE_2D, M, _, g, b, x);
                                r.generateMipmaps = !1,
                                e.__maxMipLevel = w.length - 1
                            } else
                                n.texImage2D(t.TEXTURE_2D, 0, _, g, b, p),
                                e.__maxMipLevel = 0;
                            l(r, v) && h(t.TEXTURE_2D, r, p.width, p.height);
                            e.__version = r.version,
                            r.onUpdate && r.onUpdate(r)
                        }(v, e, p);
                    console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete")
                }
            }
            n.activeTexture(t.TEXTURE0 + p),
            n.bindTexture(t.TEXTURE_2D, v.__webglTexture)
        }
        function y(n, a, s) {
            var u;
            if (s ? (t.texParameteri(n, t.TEXTURE_WRAP_S, o.convert(a.wrapS)),
            t.texParameteri(n, t.TEXTURE_WRAP_T, o.convert(a.wrapT)),
            t.texParameteri(n, t.TEXTURE_MAG_FILTER, o.convert(a.magFilter)),
            t.texParameteri(n, t.TEXTURE_MIN_FILTER, o.convert(a.minFilter))) : (t.texParameteri(n, t.TEXTURE_WRAP_S, t.CLAMP_TO_EDGE),
            t.texParameteri(n, t.TEXTURE_WRAP_T, t.CLAMP_TO_EDGE),
            a.wrapS === Ot && a.wrapT === Ot || console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),
            t.texParameteri(n, t.TEXTURE_MAG_FILTER, p(a.magFilter)),
            t.texParameteri(n, t.TEXTURE_MIN_FILTER, p(a.minFilter)),
            a.minFilter !== Lt && a.minFilter !== jt && console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),
            u = e.get("EXT_texture_filter_anisotropic")) {
                if (a.type === Ft && null === e.get("OES_texture_float_linear"))
                    return;
                if (a.type === Gt && null === (i.isWebGL2 || e.get("OES_texture_half_float_linear")))
                    return;
                (a.anisotropy > 1 || r.get(a).__currentAnisotropy) && (t.texParameterf(n, u.TEXTURE_MAX_ANISOTROPY_EXT, Math.min(a.anisotropy, i.getMaxAnisotropy())),
                r.get(a).__currentAnisotropy = a.anisotropy)
            }
        }
        function b(e, i, a, s) {
            var u = o.convert(i.texture.format)
              , c = o.convert(i.texture.type)
              , f = d(u, c);
            n.texImage2D(s, 0, f, i.width, i.height, 0, u, c, null),
            t.bindFramebuffer(t.FRAMEBUFFER, e),
            t.framebufferTexture2D(t.FRAMEBUFFER, a, s, r.get(i.texture).__webglTexture, 0),
            t.bindFramebuffer(t.FRAMEBUFFER, null)
        }
        function _(e, n) {
            t.bindRenderbuffer(t.RENDERBUFFER, e),
            n.depthBuffer && !n.stencilBuffer ? (t.renderbufferStorage(t.RENDERBUFFER, t.DEPTH_COMPONENT16, n.width, n.height),
            t.framebufferRenderbuffer(t.FRAMEBUFFER, t.DEPTH_ATTACHMENT, t.RENDERBUFFER, e)) : n.depthBuffer && n.stencilBuffer ? (t.renderbufferStorage(t.RENDERBUFFER, t.DEPTH_STENCIL, n.width, n.height),
            t.framebufferRenderbuffer(t.FRAMEBUFFER, t.DEPTH_STENCIL_ATTACHMENT, t.RENDERBUFFER, e)) : t.renderbufferStorage(t.RENDERBUFFER, t.RGBA4, n.width, n.height),
            t.bindRenderbuffer(t.RENDERBUFFER, null)
        }
        function x(e) {
            var n = r.get(e)
              , i = !0 === e.isWebGLRenderTargetCube;
            if (e.depthTexture) {
                if (i)
                    throw new Error("target.depthTexture not supported in Cube render targets");
                !function(e, n) {
                    if (n && n.isWebGLRenderTargetCube)
                        throw new Error("Depth Texture with cube render targets is not supported");
                    if (t.bindFramebuffer(t.FRAMEBUFFER, e),
                    !n.depthTexture || !n.depthTexture.isDepthTexture)
                        throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");
                    r.get(n.depthTexture).__webglTexture && n.depthTexture.image.width === n.width && n.depthTexture.image.height === n.height || (n.depthTexture.image.width = n.width,
                    n.depthTexture.image.height = n.height,
                    n.depthTexture.needsUpdate = !0),
                    g(n.depthTexture, 0);
                    var i = r.get(n.depthTexture).__webglTexture;
                    if (n.depthTexture.format === $t)
                        t.framebufferTexture2D(t.FRAMEBUFFER, t.DEPTH_ATTACHMENT, t.TEXTURE_2D, i, 0);
                    else {
                        if (n.depthTexture.format !== te)
                            throw new Error("Unknown depthTexture format");
                        t.framebufferTexture2D(t.FRAMEBUFFER, t.DEPTH_STENCIL_ATTACHMENT, t.TEXTURE_2D, i, 0)
                    }
                }(n.__webglFramebuffer, e)
            } else if (i) {
                n.__webglDepthbuffer = [];
                for (var o = 0; o < 6; o++)
                    t.bindFramebuffer(t.FRAMEBUFFER, n.__webglFramebuffer[o]),
                    n.__webglDepthbuffer[o] = t.createRenderbuffer(),
                    _(n.__webglDepthbuffer[o], e)
            } else
                t.bindFramebuffer(t.FRAMEBUFFER, n.__webglFramebuffer),
                n.__webglDepthbuffer = t.createRenderbuffer(),
                _(n.__webglDepthbuffer, e);
            t.bindFramebuffer(t.FRAMEBUFFER, null)
        }
        this.setTexture2D = g,
        this.setTextureCube = function(e, s) {
            var u = r.get(e);
            if (6 === e.image.length)
                if (e.version > 0 && u.__version !== e.version) {
                    u.__image__webglTextureCube || (e.addEventListener("dispose", m),
                    u.__image__webglTextureCube = t.createTexture(),
                    a.memory.textures++),
                    n.activeTexture(t.TEXTURE0 + s),
                    n.bindTexture(t.TEXTURE_CUBE_MAP, u.__image__webglTextureCube),
                    t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL, e.flipY);
                    for (var p = e && e.isCompressedTexture, v = e.image[0] && e.image[0].isDataTexture, g = [], b = 0; b < 6; b++)
                        g[b] = p || v ? v ? e.image[b].image : e.image[b] : c(e.image[b], i.maxCubemapSize);
                    var _ = g[0]
                      , x = f(_)
                      , w = o.convert(e.format)
                      , M = o.convert(e.type)
                      , E = d(w, M);
                    for (y(t.TEXTURE_CUBE_MAP, e, x),
                    b = 0; b < 6; b++)
                        if (p)
                            for (var T, S = g[b].mipmaps, O = 0, A = S.length; O < A; O++)
                                T = S[O],
                                e.format !== Zt && e.format !== Yt ? n.getCompressedTextureFormats().indexOf(w) > -1 ? n.compressedTexImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X + b, O, E, T.width, T.height, 0, T.data) : console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()") : n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X + b, O, E, T.width, T.height, 0, w, M, T.data);
                        else
                            v ? n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X + b, 0, E, g[b].width, g[b].height, 0, w, M, g[b].data) : n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X + b, 0, E, w, M, g[b]);
                    u.__maxMipLevel = p ? S.length - 1 : 0,
                    l(e, x) && h(t.TEXTURE_CUBE_MAP, e, _.width, _.height),
                    u.__version = e.version,
                    e.onUpdate && e.onUpdate(e)
                } else
                    n.activeTexture(t.TEXTURE0 + s),
                    n.bindTexture(t.TEXTURE_CUBE_MAP, u.__image__webglTextureCube)
        }
        ,
        this.setTextureCubeDynamic = function(e, i) {
            n.activeTexture(t.TEXTURE0 + i),
            n.bindTexture(t.TEXTURE_CUBE_MAP, r.get(e).__webglTexture)
        }
        ,
        this.setupRenderTarget = function(e) {
            var i = r.get(e)
              , o = r.get(e.texture);
            e.addEventListener("dispose", v),
            o.__webglTexture = t.createTexture(),
            a.memory.textures++;
            var s = !0 === e.isWebGLRenderTargetCube
              , u = f(e);
            if (s) {
                i.__webglFramebuffer = [];
                for (var c = 0; c < 6; c++)
                    i.__webglFramebuffer[c] = t.createFramebuffer()
            } else
                i.__webglFramebuffer = t.createFramebuffer();
            if (s) {
                for (n.bindTexture(t.TEXTURE_CUBE_MAP, o.__webglTexture),
                y(t.TEXTURE_CUBE_MAP, e.texture, u),
                c = 0; c < 6; c++)
                    b(i.__webglFramebuffer[c], e, t.COLOR_ATTACHMENT0, t.TEXTURE_CUBE_MAP_POSITIVE_X + c);
                l(e.texture, u) && h(t.TEXTURE_CUBE_MAP, e.texture, e.width, e.height),
                n.bindTexture(t.TEXTURE_CUBE_MAP, null)
            } else
                n.bindTexture(t.TEXTURE_2D, o.__webglTexture),
                y(t.TEXTURE_2D, e.texture, u),
                b(i.__webglFramebuffer, e, t.COLOR_ATTACHMENT0, t.TEXTURE_2D),
                l(e.texture, u) && h(t.TEXTURE_2D, e.texture, e.width, e.height),
                n.bindTexture(t.TEXTURE_2D, null);
            e.depthBuffer && x(e)
        }
        ,
        this.updateRenderTargetMipmap = function(e) {
            var i = e.texture;
            if (l(i, f(e))) {
                var o = e.isWebGLRenderTargetCube ? t.TEXTURE_CUBE_MAP : t.TEXTURE_2D
                  , a = r.get(i).__webglTexture;
                n.bindTexture(o, a),
                h(o, i, e.width, e.height),
                n.bindTexture(o, null)
            }
        }
    }
    function ki(t, e, n) {
        return {
            convert: function(r) {
                var i;
                if (r === St)
                    return t.REPEAT;
                if (r === Ot)
                    return t.CLAMP_TO_EDGE;
                if (r === At)
                    return t.MIRRORED_REPEAT;
                if (r === Lt)
                    return t.NEAREST;
                if (r === Rt)
                    return t.NEAREST_MIPMAP_NEAREST;
                if (r === Ct)
                    return t.NEAREST_MIPMAP_LINEAR;
                if (r === jt)
                    return t.LINEAR;
                if (r === Pt)
                    return t.LINEAR_MIPMAP_NEAREST;
                if (r === Nt)
                    return t.LINEAR_MIPMAP_LINEAR;
                if (r === It)
                    return t.UNSIGNED_BYTE;
                if (r === Ht)
                    return t.UNSIGNED_SHORT_4_4_4_4;
                if (r === Vt)
                    return t.UNSIGNED_SHORT_5_5_5_1;
                if (r === Wt)
                    return t.UNSIGNED_SHORT_5_6_5;
                if (r === Dt)
                    return t.BYTE;
                if (r === Ut)
                    return t.SHORT;
                if (r === zt)
                    return t.UNSIGNED_SHORT;
                if (r === Bt)
                    return t.INT;
                if (r === kt)
                    return t.UNSIGNED_INT;
                if (r === Ft)
                    return t.FLOAT;
                if (r === Gt) {
                    if (n.isWebGL2)
                        return t.HALF_FLOAT;
                    if (null !== (i = e.get("OES_texture_half_float")))
                        return i.HALF_FLOAT_OES
                }
                if (r === Xt)
                    return t.ALPHA;
                if (r === Yt)
                    return t.RGB;
                if (r === Zt)
                    return t.RGBA;
                if (r === Jt)
                    return t.LUMINANCE;
                if (r === Qt)
                    return t.LUMINANCE_ALPHA;
                if (r === $t)
                    return t.DEPTH_COMPONENT;
                if (r === te)
                    return t.DEPTH_STENCIL;
                if (r === k)
                    return t.FUNC_ADD;
                if (r === F)
                    return t.FUNC_SUBTRACT;
                if (r === G)
                    return t.FUNC_REVERSE_SUBTRACT;
                if (r === W)
                    return t.ZERO;
                if (r === q)
                    return t.ONE;
                if (r === X)
                    return t.SRC_COLOR;
                if (r === Y)
                    return t.ONE_MINUS_SRC_COLOR;
                if (r === Z)
                    return t.SRC_ALPHA;
                if (r === J)
                    return t.ONE_MINUS_SRC_ALPHA;
                if (r === Q)
                    return t.DST_ALPHA;
                if (r === K)
                    return t.ONE_MINUS_DST_ALPHA;
                if (r === $)
                    return t.DST_COLOR;
                if (r === tt)
                    return t.ONE_MINUS_DST_COLOR;
                if (r === et)
                    return t.SRC_ALPHA_SATURATE;
                if ((r === ee || r === ne || r === re || r === ie) && null !== (i = e.get("WEBGL_compressed_texture_s3tc"))) {
                    if (r === ee)
                        return i.COMPRESSED_RGB_S3TC_DXT1_EXT;
                    if (r === ne)
                        return i.COMPRESSED_RGBA_S3TC_DXT1_EXT;
                    if (r === re)
                        return i.COMPRESSED_RGBA_S3TC_DXT3_EXT;
                    if (r === ie)
                        return i.COMPRESSED_RGBA_S3TC_DXT5_EXT
                }
                if ((r === oe || r === ae || r === se || r === ue) && null !== (i = e.get("WEBGL_compressed_texture_pvrtc"))) {
                    if (r === oe)
                        return i.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;
                    if (r === ae)
                        return i.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;
                    if (r === se)
                        return i.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;
                    if (r === ue)
                        return i.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG
                }
                if (r === ce && null !== (i = e.get("WEBGL_compressed_texture_etc1")))
                    return i.COMPRESSED_RGB_ETC1_WEBGL;
                if ((r === fe || r === le || r === he || r === de || r === pe || r === me || r === ve || r === ge || r === ye || r === be || r === _e || r === xe || r === we || r === Me) && null !== (i = e.get("WEBGL_compressed_texture_astc")))
                    return r;
                if (r === H || r === V) {
                    if (n.isWebGL2) {
                        if (r === H)
                            return t.MIN;
                        if (r === V)
                            return t.MAX
                    }
                    if (null !== (i = e.get("EXT_blend_minmax"))) {
                        if (r === H)
                            return i.MIN_EXT;
                        if (r === V)
                            return i.MAX_EXT
                    }
                }
                if (r === qt) {
                    if (n.isWebGL2)
                        return t.UNSIGNED_INT_24_8;
                    if (null !== (i = e.get("WEBGL_depth_texture")))
                        return i.UNSIGNED_INT_24_8_WEBGL
                }
                return 0
            }
        }
    }
    function Fi() {
        Pn.call(this),
        this.type = "Group"
    }
    function Gi(t, e, n, r) {
        Nn.call(this),
        this.type = "PerspectiveCamera",
        this.fov = void 0 !== t ? t : 50,
        this.zoom = 1,
        this.near = void 0 !== n ? n : .1,
        this.far = void 0 !== r ? r : 2e3,
        this.focus = 10,
        this.aspect = void 0 !== e ? e : 1,
        this.view = null,
        this.filmGauge = 35,
        this.filmOffset = 0,
        this.updateProjectionMatrix()
    }
    function Hi(t) {
        Gi.call(this),
        this.cameras = t || []
    }
    function Vi(t) {
        var e = this
          , n = null
          , r = null
          , i = null
          , o = []
          , a = new Je
          , s = new Je;
        "undefined" != typeof window && "VRFrameData"in window && (r = new window.VRFrameData,
        window.addEventListener("vrdisplaypresentchange", g, !1));
        var u = new Je
          , c = new Qe
          , f = new Ke
          , l = new Gi;
        l.bounds = new un(0,0,.5,1),
        l.layers.enable(1);
        var h = new Gi;
        h.bounds = new un(.5,0,.5,1),
        h.layers.enable(2);
        var d, p, m = new Hi([l, h]);
        function v() {
            return null !== n && !0 === n.isPresenting
        }
        function g() {
            if (v()) {
                var r = n.getEyeParameters("left")
                  , i = r.renderWidth
                  , o = r.renderHeight;
                p = t.getPixelRatio(),
                d = t.getSize(),
                t.setDrawingBufferSize(2 * i, o, 1),
                _.start()
            } else
                e.enabled && (t.setDrawingBufferSize(d.width, d.height, p),
                _.stop())
        }
        m.layers.enable(1),
        m.layers.enable(2);
        var y = [];
        function b(t) {
            for (var e = navigator.getGamepads && navigator.getGamepads(), n = 0, r = 0, i = e.length; n < i; n++) {
                var o = e[n];
                if (o && ("Daydream Controller" === o.id || "Gear VR Controller" === o.id || "Oculus Go Controller" === o.id || "OpenVR Gamepad" === o.id || o.id.startsWith("Oculus Touch") || o.id.startsWith("Spatial Controller"))) {
                    if (r === t)
                        return o;
                    r++
                }
            }
        }
        this.enabled = !1,
        this.userHeight = 1.6,
        this.getController = function(t) {
            var e = o[t];
            return void 0 === e && ((e = new Fi).matrixAutoUpdate = !1,
            e.visible = !1,
            o[t] = e),
            e
        }
        ,
        this.getDevice = function() {
            return n
        }
        ,
        this.setDevice = function(t) {
            void 0 !== t && (n = t),
            _.setContext(t)
        }
        ,
        this.setPoseTarget = function(t) {
            void 0 !== t && (i = t)
        }
        ,
        this.getCamera = function(t) {
            if (null === n)
                return t.position.set(0, e.userHeight, 0),
                t;
            n.depthNear = t.near,
            n.depthFar = t.far,
            n.getFrameData(r);
            var d = n.stageParameters;
            d ? a.fromArray(d.sittingToStandingTransform) : a.makeTranslation(0, e.userHeight, 0);
            var p = r.pose
              , v = null !== i ? i : t;
            if (v.matrix.copy(a),
            v.matrix.decompose(v.position, v.quaternion, v.scale),
            null !== p.orientation && (c.fromArray(p.orientation),
            v.quaternion.multiply(c)),
            null !== p.position && (c.setFromRotationMatrix(a),
            f.fromArray(p.position),
            f.applyQuaternion(c),
            v.position.add(f)),
            v.updateMatrixWorld(),
            !1 === n.isPresenting)
                return t;
            l.near = t.near,
            h.near = t.near,
            l.far = t.far,
            h.far = t.far,
            m.matrixWorld.copy(t.matrixWorld),
            m.matrixWorldInverse.copy(t.matrixWorldInverse),
            l.matrixWorldInverse.fromArray(r.leftViewMatrix),
            h.matrixWorldInverse.fromArray(r.rightViewMatrix),
            s.getInverse(a),
            l.matrixWorldInverse.multiply(s),
            h.matrixWorldInverse.multiply(s);
            var g = v.parent;
            null !== g && (u.getInverse(g.matrixWorld),
            l.matrixWorldInverse.multiply(u),
            h.matrixWorldInverse.multiply(u)),
            l.matrixWorld.getInverse(l.matrixWorldInverse),
            h.matrixWorld.getInverse(h.matrixWorldInverse),
            l.projectionMatrix.fromArray(r.leftProjectionMatrix),
            h.projectionMatrix.fromArray(r.rightProjectionMatrix),
            m.projectionMatrix.copy(l.projectionMatrix);
            var _ = n.getLayers();
            if (_.length) {
                var x = _[0];
                null !== x.leftBounds && 4 === x.leftBounds.length && l.bounds.fromArray(x.leftBounds),
                null !== x.rightBounds && 4 === x.rightBounds.length && h.bounds.fromArray(x.rightBounds)
            }
            return function() {
                for (var t = 0; t < o.length; t++) {
                    var e = o[t]
                      , n = b(t);
                    if (void 0 !== n && void 0 !== n.pose) {
                        if (null === n.pose)
                            return;
                        var r = n.pose;
                        !1 === r.hasPosition && e.position.set(.2, -.6, -.05),
                        null !== r.position && e.position.fromArray(r.position),
                        null !== r.orientation && e.quaternion.fromArray(r.orientation),
                        e.matrix.compose(e.position, e.quaternion, e.scale),
                        e.matrix.premultiply(a),
                        e.matrix.decompose(e.position, e.quaternion, e.scale),
                        e.matrixWorldNeedsUpdate = !0,
                        e.visible = !0;
                        var i = "Daydream Controller" === n.id ? 0 : 1;
                        y[t] !== n.buttons[i].pressed && (y[t] = n.buttons[i].pressed,
                        !0 === y[t] ? e.dispatchEvent({
                            type: "selectstart"
                        }) : (e.dispatchEvent({
                            type: "selectend"
                        }),
                        e.dispatchEvent({
                            type: "select"
                        })))
                    } else
                        e.visible = !1
                }
            }(),
            m
        }
        ,
        this.getStandingMatrix = function() {
            return a
        }
        ,
        this.isPresenting = v;
        var _ = new En;
        this.setAnimationLoop = function(t) {
            _.setAnimationLoop(t)
        }
        ,
        this.submitFrame = function() {
            v() && n.submitFrame()
        }
        ,
        this.dispose = function() {
            "undefined" != typeof window && window.removeEventListener("vrdisplaypresentchange", g)
        }
    }
    function Wi(t) {
        console.log("THREE.WebGLRenderer", m);
        var e = void 0 !== (t = t || {}).canvas ? t.canvas : document.createElementNS("http://www.w3.org/1999/xhtml", "canvas")
          , n = void 0 !== t.context ? t.context : null
          , r = void 0 !== t.alpha && t.alpha
          , i = void 0 === t.depth || t.depth
          , o = void 0 === t.stencil || t.stencil
          , a = void 0 !== t.antialias && t.antialias
          , s = void 0 === t.premultipliedAlpha || t.premultipliedAlpha
          , u = void 0 !== t.preserveDrawingBuffer && t.preserveDrawingBuffer
          , c = void 0 !== t.powerPreference ? t.powerPreference : "default"
          , f = null
          , l = null;
        this.domElement = e,
        this.context = null,
        this.autoClear = !0,
        this.autoClearColor = !0,
        this.autoClearDepth = !0,
        this.autoClearStencil = !0,
        this.sortObjects = !0,
        this.clippingPlanes = [],
        this.localClippingEnabled = !1,
        this.gammaFactor = 2,
        this.gammaInput = !1,
        this.gammaOutput = !1,
        this.physicallyCorrectLights = !1,
        this.toneMapping = pt,
        this.toneMappingExposure = 1,
        this.toneMappingWhitePoint = 1,
        this.maxMorphTargets = 8,
        this.maxMorphNormals = 4;
        var h, d, p, v, _, x, w, M, E, T, S, L, R, C, j, P, k, F, G = this, H = !1, V = null, W = null, q = null, X = -1, Y = {
            geometry: null,
            program: null,
            wireframe: !1
        }, Z = null, J = null, Q = new un, K = new un, $ = null, tt = 0, et = e.width, ft = e.height, lt = 1, ht = new un(0,0,et,ft), dt = new un(0,0,et,ft), mt = !1, vt = new mn, gt = new function() {
            var t = this
              , e = null
              , n = 0
              , r = !1
              , i = !1
              , o = new pn
              , a = new $e
              , s = {
                value: null,
                needsUpdate: !1
            };
            function u() {
                s.value !== e && (s.value = e,
                s.needsUpdate = n > 0),
                t.numPlanes = n,
                t.numIntersection = 0
            }
            function c(e, n, r, i) {
                var u = null !== e ? e.length : 0
                  , c = null;
                if (0 !== u) {
                    if (c = s.value,
                    !0 !== i || null === c) {
                        var f = r + 4 * u
                          , l = n.matrixWorldInverse;
                        a.getNormalMatrix(l),
                        (null === c || c.length < f) && (c = new Float32Array(f));
                        for (var h = 0, d = r; h !== u; ++h,
                        d += 4)
                            o.copy(e[h]).applyMatrix4(l, a),
                            o.normal.toArray(c, d),
                            c[d + 3] = o.constant
                    }
                    s.value = c,
                    s.needsUpdate = !0
                }
                return t.numPlanes = u,
                c
            }
            this.uniform = s,
            this.numPlanes = 0,
            this.numIntersection = 0,
            this.init = function(t, i, o) {
                var a = 0 !== t.length || i || 0 !== n || r;
                return r = i,
                e = c(t, o, 0),
                n = t.length,
                a
            }
            ,
            this.beginShadows = function() {
                i = !0,
                c(null)
            }
            ,
            this.endShadows = function() {
                i = !1,
                u()
            }
            ,
            this.setState = function(t, o, a, f, l, h) {
                if (!r || null === t || 0 === t.length || i && !a)
                    i ? c(null) : u();
                else {
                    var d = i ? 0 : n
                      , p = 4 * d
                      , m = l.clippingState || null;
                    s.value = m,
                    m = c(t, f, p, h);
                    for (var v = 0; v !== p; ++v)
                        m[v] = e[v];
                    l.clippingState = m,
                    this.numIntersection = o ? this.numPlanes : 0,
                    this.numPlanes += d
                }
            }
        }
        , yt = !1, bt = !1, _t = new Je, xt = new Ke;
        function wt() {
            return null === W ? lt : 1
        }
        try {
            var Mt = {
                alpha: r,
                depth: i,
                stencil: o,
                antialias: a,
                premultipliedAlpha: s,
                preserveDrawingBuffer: u,
                powerPreference: c
            };
            if (e.addEventListener("webglcontextlost", Ot, !1),
            e.addEventListener("webglcontextrestored", At, !1),
            null === (h = n || e.getContext("webgl", Mt) || e.getContext("experimental-webgl", Mt)))
                throw null !== e.getContext("webgl") ? new Error("Error creating WebGL context with your selected attributes.") : new Error("Error creating WebGL context.");
            void 0 === h.getShaderPrecisionFormat && (h.getShaderPrecisionFormat = function() {
                return {
                    rangeMin: 1,
                    rangeMax: 1,
                    precision: 1
                }
            }
            )
        } catch (t) {
            console.error("THREE.WebGLRenderer: " + t.message)
        }
        function Et() {
            d = new function(t) {
                var e = {};
                return {
                    get: function(n) {
                        if (void 0 !== e[n])
                            return e[n];
                        var r;
                        switch (n) {
                        case "WEBGL_depth_texture":
                            r = t.getExtension("WEBGL_depth_texture") || t.getExtension("MOZ_WEBGL_depth_texture") || t.getExtension("WEBKIT_WEBGL_depth_texture");
                            break;
                        case "EXT_texture_filter_anisotropic":
                            r = t.getExtension("EXT_texture_filter_anisotropic") || t.getExtension("MOZ_EXT_texture_filter_anisotropic") || t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");
                            break;
                        case "WEBGL_compressed_texture_s3tc":
                            r = t.getExtension("WEBGL_compressed_texture_s3tc") || t.getExtension("MOZ_WEBGL_compressed_texture_s3tc") || t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");
                            break;
                        case "WEBGL_compressed_texture_pvrtc":
                            r = t.getExtension("WEBGL_compressed_texture_pvrtc") || t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");
                            break;
                        default:
                            r = t.getExtension(n)
                        }
                        return null === r && console.warn("THREE.WebGLRenderer: " + n + " extension not supported."),
                        e[n] = r,
                        r
                    }
                }
            }
            (h),
            (p = new function(t, e, n) {
                var r;
                function i(e) {
                    if ("highp" === e) {
                        if (t.getShaderPrecisionFormat(t.VERTEX_SHADER, t.HIGH_FLOAT).precision > 0 && t.getShaderPrecisionFormat(t.FRAGMENT_SHADER, t.HIGH_FLOAT).precision > 0)
                            return "highp";
                        e = "mediump"
                    }
                    return "mediump" === e && t.getShaderPrecisionFormat(t.VERTEX_SHADER, t.MEDIUM_FLOAT).precision > 0 && t.getShaderPrecisionFormat(t.FRAGMENT_SHADER, t.MEDIUM_FLOAT).precision > 0 ? "mediump" : "lowp"
                }
                var o = "undefined" != typeof WebGL2RenderingContext && t instanceof WebGL2RenderingContext
                  , a = void 0 !== n.precision ? n.precision : "highp"
                  , s = i(a);
                s !== a && (console.warn("THREE.WebGLRenderer:", a, "not supported, using", s, "instead."),
                a = s);
                var u = !0 === n.logarithmicDepthBuffer
                  , c = t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS)
                  , f = t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS)
                  , l = t.getParameter(t.MAX_TEXTURE_SIZE)
                  , h = t.getParameter(t.MAX_CUBE_MAP_TEXTURE_SIZE)
                  , d = t.getParameter(t.MAX_VERTEX_ATTRIBS)
                  , p = t.getParameter(t.MAX_VERTEX_UNIFORM_VECTORS)
                  , m = t.getParameter(t.MAX_VARYING_VECTORS)
                  , v = t.getParameter(t.MAX_FRAGMENT_UNIFORM_VECTORS)
                  , g = f > 0
                  , y = o || !!e.get("OES_texture_float");
                return {
                    isWebGL2: o,
                    getMaxAnisotropy: function() {
                        if (void 0 !== r)
                            return r;
                        var n = e.get("EXT_texture_filter_anisotropic");
                        return r = null !== n ? t.getParameter(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT) : 0
                    },
                    getMaxPrecision: i,
                    precision: a,
                    logarithmicDepthBuffer: u,
                    maxTextures: c,
                    maxVertexTextures: f,
                    maxTextureSize: l,
                    maxCubemapSize: h,
                    maxAttributes: d,
                    maxVertexUniforms: p,
                    maxVaryings: m,
                    maxFragmentUniforms: v,
                    vertexTextures: g,
                    floatFragmentTextures: y,
                    floatVertexTextures: g && y
                }
            }
            (h,d,t)).isWebGL2 || (d.get("WEBGL_depth_texture"),
            d.get("OES_texture_float"),
            d.get("OES_texture_half_float"),
            d.get("OES_texture_half_float_linear"),
            d.get("OES_standard_derivatives"),
            d.get("OES_element_index_uint"),
            d.get("ANGLE_instanced_arrays")),
            d.get("OES_texture_float_linear"),
            F = new ki(h,d,p),
            (v = new function(t, e, n, r) {
                var i = new function() {
                    var e = !1
                      , n = new un
                      , r = null
                      , i = new un(0,0,0,0);
                    return {
                        setMask: function(n) {
                            r === n || e || (t.colorMask(n, n, n, n),
                            r = n)
                        },
                        setLocked: function(t) {
                            e = t
                        },
                        setClear: function(e, r, o, a, s) {
                            !0 === s && (e *= a,
                            r *= a,
                            o *= a),
                            n.set(e, r, o, a),
                            !1 === i.equals(n) && (t.clearColor(e, r, o, a),
                            i.copy(n))
                        },
                        reset: function() {
                            e = !1,
                            r = null,
                            i.set(-1, 0, 0, 0)
                        }
                    }
                }
                  , o = new function() {
                    var e = !1
                      , n = null
                      , r = null
                      , i = null;
                    return {
                        setTest: function(e) {
                            e ? Z(t.DEPTH_TEST) : J(t.DEPTH_TEST)
                        },
                        setMask: function(r) {
                            n === r || e || (t.depthMask(r),
                            n = r)
                        },
                        setFunc: function(e) {
                            if (r !== e) {
                                if (e)
                                    switch (e) {
                                    case nt:
                                        t.depthFunc(t.NEVER);
                                        break;
                                    case rt:
                                        t.depthFunc(t.ALWAYS);
                                        break;
                                    case it:
                                        t.depthFunc(t.LESS);
                                        break;
                                    case ot:
                                        t.depthFunc(t.LEQUAL);
                                        break;
                                    case at:
                                        t.depthFunc(t.EQUAL);
                                        break;
                                    case st:
                                        t.depthFunc(t.GEQUAL);
                                        break;
                                    case ut:
                                        t.depthFunc(t.GREATER);
                                        break;
                                    case ct:
                                        t.depthFunc(t.NOTEQUAL);
                                        break;
                                    default:
                                        t.depthFunc(t.LEQUAL)
                                    }
                                else
                                    t.depthFunc(t.LEQUAL);
                                r = e
                            }
                        },
                        setLocked: function(t) {
                            e = t
                        },
                        setClear: function(e) {
                            i !== e && (t.clearDepth(e),
                            i = e)
                        },
                        reset: function() {
                            e = !1,
                            n = null,
                            r = null,
                            i = null
                        }
                    }
                }
                  , a = new function() {
                    var e = !1
                      , n = null
                      , r = null
                      , i = null
                      , o = null
                      , a = null
                      , s = null
                      , u = null
                      , c = null;
                    return {
                        setTest: function(e) {
                            e ? Z(t.STENCIL_TEST) : J(t.STENCIL_TEST)
                        },
                        setMask: function(r) {
                            n === r || e || (t.stencilMask(r),
                            n = r)
                        },
                        setFunc: function(e, n, a) {
                            r === e && i === n && o === a || (t.stencilFunc(e, n, a),
                            r = e,
                            i = n,
                            o = a)
                        },
                        setOp: function(e, n, r) {
                            a === e && s === n && u === r || (t.stencilOp(e, n, r),
                            a = e,
                            s = n,
                            u = r)
                        },
                        setLocked: function(t) {
                            e = t
                        },
                        setClear: function(e) {
                            c !== e && (t.clearStencil(e),
                            c = e)
                        },
                        reset: function() {
                            e = !1,
                            n = null,
                            r = null,
                            i = null,
                            o = null,
                            a = null,
                            s = null,
                            u = null,
                            c = null
                        }
                    }
                }
                  , s = t.getParameter(t.MAX_VERTEX_ATTRIBS)
                  , u = new Uint8Array(s)
                  , c = new Uint8Array(s)
                  , f = new Uint8Array(s)
                  , l = {}
                  , h = null
                  , d = null
                  , p = null
                  , m = null
                  , v = null
                  , _ = null
                  , x = null
                  , w = null
                  , M = null
                  , E = !1
                  , T = null
                  , S = null
                  , L = null
                  , R = null
                  , C = null
                  , j = t.getParameter(t.MAX_COMBINED_TEXTURE_IMAGE_UNITS)
                  , P = !1
                  , k = 0
                  , F = t.getParameter(t.VERSION);
                -1 !== F.indexOf("WebGL") ? (k = parseFloat(/^WebGL\ ([0-9])/.exec(F)[1]),
                P = k >= 1) : -1 !== F.indexOf("OpenGL ES") && (k = parseFloat(/^OpenGL\ ES\ ([0-9])/.exec(F)[1]),
                P = k >= 2);
                var G = null
                  , H = {}
                  , V = new un
                  , W = new un;
                function q(e, n, r) {
                    var i = new Uint8Array(4)
                      , o = t.createTexture();
                    t.bindTexture(e, o),
                    t.texParameteri(e, t.TEXTURE_MIN_FILTER, t.NEAREST),
                    t.texParameteri(e, t.TEXTURE_MAG_FILTER, t.NEAREST);
                    for (var a = 0; a < r; a++)
                        t.texImage2D(n + a, 0, t.RGBA, 1, 1, 0, t.RGBA, t.UNSIGNED_BYTE, i);
                    return o
                }
                var X = {};
                function Y(n, i) {
                    u[n] = 1,
                    0 === c[n] && (t.enableVertexAttribArray(n),
                    c[n] = 1),
                    f[n] !== i && ((r.isWebGL2 ? t : e.get("ANGLE_instanced_arrays"))[r.isWebGL2 ? "vertexAttribDivisor" : "vertexAttribDivisorANGLE"](n, i),
                    f[n] = i)
                }
                function Z(e) {
                    !0 !== l[e] && (t.enable(e),
                    l[e] = !0)
                }
                function J(e) {
                    !1 !== l[e] && (t.disable(e),
                    l[e] = !1)
                }
                function Q(e, r, i, o, a, s, u, c) {
                    if (e !== N ? Z(t.BLEND) : J(t.BLEND),
                    e !== B) {
                        if (e !== p || c !== E)
                            switch (e) {
                            case D:
                                c ? (t.blendEquationSeparate(t.FUNC_ADD, t.FUNC_ADD),
                                t.blendFuncSeparate(t.ONE, t.ONE, t.ONE, t.ONE)) : (t.blendEquation(t.FUNC_ADD),
                                t.blendFunc(t.SRC_ALPHA, t.ONE));
                                break;
                            case U:
                                c ? (t.blendEquationSeparate(t.FUNC_ADD, t.FUNC_ADD),
                                t.blendFuncSeparate(t.ZERO, t.ZERO, t.ONE_MINUS_SRC_COLOR, t.ONE_MINUS_SRC_ALPHA)) : (t.blendEquation(t.FUNC_ADD),
                                t.blendFunc(t.ZERO, t.ONE_MINUS_SRC_COLOR));
                                break;
                            case z:
                                c ? (t.blendEquationSeparate(t.FUNC_ADD, t.FUNC_ADD),
                                t.blendFuncSeparate(t.ZERO, t.SRC_COLOR, t.ZERO, t.SRC_ALPHA)) : (t.blendEquation(t.FUNC_ADD),
                                t.blendFunc(t.ZERO, t.SRC_COLOR));
                                break;
                            default:
                                c ? (t.blendEquationSeparate(t.FUNC_ADD, t.FUNC_ADD),
                                t.blendFuncSeparate(t.ONE, t.ONE_MINUS_SRC_ALPHA, t.ONE, t.ONE_MINUS_SRC_ALPHA)) : (t.blendEquationSeparate(t.FUNC_ADD, t.FUNC_ADD),
                                t.blendFuncSeparate(t.SRC_ALPHA, t.ONE_MINUS_SRC_ALPHA, t.ONE, t.ONE_MINUS_SRC_ALPHA))
                            }
                        m = null,
                        v = null,
                        _ = null,
                        x = null,
                        w = null,
                        M = null
                    } else
                        a = a || r,
                        s = s || i,
                        u = u || o,
                        r === m && a === x || (t.blendEquationSeparate(n.convert(r), n.convert(a)),
                        m = r,
                        x = a),
                        i === v && o === _ && s === w && u === M || (t.blendFuncSeparate(n.convert(i), n.convert(o), n.convert(s), n.convert(u)),
                        v = i,
                        _ = o,
                        w = s,
                        M = u);
                    p = e,
                    E = c
                }
                function K(e) {
                    T !== e && (e ? t.frontFace(t.CW) : t.frontFace(t.CCW),
                    T = e)
                }
                function $(e) {
                    e !== g ? (Z(t.CULL_FACE),
                    e !== S && (e === y ? t.cullFace(t.BACK) : e === b ? t.cullFace(t.FRONT) : t.cullFace(t.FRONT_AND_BACK))) : J(t.CULL_FACE),
                    S = e
                }
                function tt(e, n, r) {
                    e ? (Z(t.POLYGON_OFFSET_FILL),
                    R === n && C === r || (t.polygonOffset(n, r),
                    R = n,
                    C = r)) : J(t.POLYGON_OFFSET_FILL)
                }
                function et(e) {
                    void 0 === e && (e = t.TEXTURE0 + j - 1),
                    G !== e && (t.activeTexture(e),
                    G = e)
                }
                return X[t.TEXTURE_2D] = q(t.TEXTURE_2D, t.TEXTURE_2D, 1),
                X[t.TEXTURE_CUBE_MAP] = q(t.TEXTURE_CUBE_MAP, t.TEXTURE_CUBE_MAP_POSITIVE_X, 6),
                i.setClear(0, 0, 0, 1),
                o.setClear(1),
                a.setClear(0),
                Z(t.DEPTH_TEST),
                o.setFunc(ot),
                K(!1),
                $(y),
                Z(t.CULL_FACE),
                Z(t.BLEND),
                Q(I),
                {
                    buffers: {
                        color: i,
                        depth: o,
                        stencil: a
                    },
                    initAttributes: function() {
                        for (var t = 0, e = u.length; t < e; t++)
                            u[t] = 0
                    },
                    enableAttribute: function(t) {
                        Y(t, 0)
                    },
                    enableAttributeAndDivisor: Y,
                    disableUnusedAttributes: function() {
                        for (var e = 0, n = c.length; e !== n; ++e)
                            c[e] !== u[e] && (t.disableVertexAttribArray(e),
                            c[e] = 0)
                    },
                    enable: Z,
                    disable: J,
                    getCompressedTextureFormats: function() {
                        if (null === h && (h = [],
                        e.get("WEBGL_compressed_texture_pvrtc") || e.get("WEBGL_compressed_texture_s3tc") || e.get("WEBGL_compressed_texture_etc1") || e.get("WEBGL_compressed_texture_astc")))
                            for (var n = t.getParameter(t.COMPRESSED_TEXTURE_FORMATS), r = 0; r < n.length; r++)
                                h.push(n[r]);
                        return h
                    },
                    useProgram: function(e) {
                        return d !== e && (t.useProgram(e),
                        d = e,
                        !0)
                    },
                    setBlending: Q,
                    setMaterial: function(e, n) {
                        e.side === A ? J(t.CULL_FACE) : Z(t.CULL_FACE);
                        var r = e.side === O;
                        n && (r = !r),
                        K(r),
                        e.blending === I && !1 === e.transparent ? Q(N) : Q(e.blending, e.blendEquation, e.blendSrc, e.blendDst, e.blendEquationAlpha, e.blendSrcAlpha, e.blendDstAlpha, e.premultipliedAlpha),
                        o.setFunc(e.depthFunc),
                        o.setTest(e.depthTest),
                        o.setMask(e.depthWrite),
                        i.setMask(e.colorWrite),
                        tt(e.polygonOffset, e.polygonOffsetFactor, e.polygonOffsetUnits)
                    },
                    setFlipSided: K,
                    setCullFace: $,
                    setLineWidth: function(e) {
                        e !== L && (P && t.lineWidth(e),
                        L = e)
                    },
                    setPolygonOffset: tt,
                    setScissorTest: function(e) {
                        e ? Z(t.SCISSOR_TEST) : J(t.SCISSOR_TEST)
                    },
                    activeTexture: et,
                    bindTexture: function(e, n) {
                        null === G && et();
                        var r = H[G];
                        void 0 === r && (r = {
                            type: void 0,
                            texture: void 0
                        },
                        H[G] = r),
                        r.type === e && r.texture === n || (t.bindTexture(e, n || X[e]),
                        r.type = e,
                        r.texture = n)
                    },
                    compressedTexImage2D: function() {
                        try {
                            t.compressedTexImage2D.apply(t, arguments)
                        } catch (t) {
                            console.error("THREE.WebGLState:", t)
                        }
                    },
                    texImage2D: function() {
                        try {
                            t.texImage2D.apply(t, arguments)
                        } catch (t) {
                            console.error("THREE.WebGLState:", t)
                        }
                    },
                    scissor: function(e) {
                        !1 === V.equals(e) && (t.scissor(e.x, e.y, e.z, e.w),
                        V.copy(e))
                    },
                    viewport: function(e) {
                        !1 === W.equals(e) && (t.viewport(e.x, e.y, e.z, e.w),
                        W.copy(e))
                    },
                    reset: function() {
                        for (var e = 0; e < c.length; e++)
                            1 === c[e] && (t.disableVertexAttribArray(e),
                            c[e] = 0);
                        l = {},
                        h = null,
                        G = null,
                        H = {},
                        d = null,
                        p = null,
                        T = null,
                        S = null,
                        i.reset(),
                        o.reset(),
                        a.reset()
                    }
                }
            }
            (h,d,F,p)).scissor(K.copy(dt).multiplyScalar(lt)),
            v.viewport(Q.copy(ht).multiplyScalar(lt)),
            _ = new function(t) {
                var e = {
                    frame: 0,
                    calls: 0,
                    triangles: 0,
                    points: 0,
                    lines: 0
                };
                return {
                    memory: {
                        geometries: 0,
                        textures: 0
                    },
                    render: e,
                    programs: null,
                    autoReset: !0,
                    reset: function() {
                        e.frame++,
                        e.calls = 0,
                        e.triangles = 0,
                        e.points = 0,
                        e.lines = 0
                    },
                    update: function(n, r, i) {
                        switch (i = i || 1,
                        e.calls++,
                        r) {
                        case t.TRIANGLES:
                            e.triangles += i * (n / 3);
                            break;
                        case t.TRIANGLE_STRIP:
                        case t.TRIANGLE_FAN:
                            e.triangles += i * (n - 2);
                            break;
                        case t.LINES:
                            e.lines += i * (n / 2);
                            break;
                        case t.LINE_STRIP:
                            e.lines += i * (n - 1);
                            break;
                        case t.LINE_LOOP:
                            e.lines += i * n;
                            break;
                        case t.POINTS:
                            e.points += i * n;
                            break;
                        default:
                            console.error("THREE.WebGLInfo: Unknown draw mode:", r)
                        }
                    }
                }
            }
            (h),
            x = new function() {
                var t = new WeakMap;
                return {
                    get: function(e) {
                        var n = t.get(e);
                        return void 0 === n && (n = {},
                        t.set(e, n)),
                        n
                    },
                    remove: function(e) {
                        t.delete(e)
                    },
                    update: function(e, n, r) {
                        t.get(e)[n] = r
                    },
                    dispose: function() {
                        t = new WeakMap
                    }
                }
            }
            ,
            w = new Bi(h,d,v,x,p,F,_),
            M = new Tn(h),
            E = new function(t, e, n) {
                var r = {}
                  , i = {};
                function o(t) {
                    var a = t.target
                      , s = r[a.id];
                    for (var u in null !== s.index && e.remove(s.index),
                    s.attributes)
                        e.remove(s.attributes[u]);
                    a.removeEventListener("dispose", o),
                    delete r[a.id];
                    var c = i[s.id];
                    c && (e.remove(c),
                    delete i[s.id]),
                    n.memory.geometries--
                }
                return {
                    get: function(t, e) {
                        var i = r[e.id];
                        return i || (e.addEventListener("dispose", o),
                        e.isBufferGeometry ? i = e : e.isGeometry && (void 0 === e._bufferGeometry && (e._bufferGeometry = (new tr).setFromObject(t)),
                        i = e._bufferGeometry),
                        r[e.id] = i,
                        n.memory.geometries++,
                        i)
                    },
                    update: function(n) {
                        var r = n.index
                          , i = n.attributes;
                        for (var o in null !== r && e.update(r, t.ELEMENT_ARRAY_BUFFER),
                        i)
                            e.update(i[o], t.ARRAY_BUFFER);
                        var a = n.morphAttributes;
                        for (var o in a)
                            for (var s = a[o], u = 0, c = s.length; u < c; u++)
                                e.update(s[u], t.ARRAY_BUFFER)
                    },
                    getWireframeAttribute: function(n) {
                        var r = i[n.id];
                        if (r)
                            return r;
                        var o, a = [], s = n.index, u = n.attributes;
                        if (null !== s)
                            for (var c = 0, f = (o = s.array).length; c < f; c += 3) {
                                var l = o[c + 0]
                                  , h = o[c + 1]
                                  , d = o[c + 2];
                                a.push(l, h, h, d, d, l)
                            }
                        else
                            for (c = 0,
                            f = (o = u.position.array).length / 3 - 1; c < f; c += 3)
                                l = c + 0,
                                h = c + 1,
                                d = c + 2,
                                a.push(l, h, h, d, d, l);
                        return r = new (Kn(a) > 65535 ? Yn : qn)(a,1),
                        e.update(r, t.ELEMENT_ARRAY_BUFFER),
                        i[n.id] = r,
                        r
                    }
                }
            }
            (h,M,_),
            T = new function(t, e) {
                var n = {};
                return {
                    update: function(r) {
                        var i = e.render.frame
                          , o = r.geometry
                          , a = t.get(r, o);
                        return n[a.id] !== i && (o.isGeometry && a.updateFromObject(r),
                        t.update(a),
                        n[a.id] = i),
                        a
                    },
                    dispose: function() {
                        n = {}
                    }
                }
            }
            (E,_),
            j = new function(t) {
                var e = {}
                  , n = new Float32Array(8);
                return {
                    update: function(r, i, o, a) {
                        var s = r.morphTargetInfluences
                          , u = s.length
                          , c = e[i.id];
                        if (void 0 === c) {
                            c = [];
                            for (var f = 0; f < u; f++)
                                c[f] = [f, 0];
                            e[i.id] = c
                        }
                        var l = o.morphTargets && i.morphAttributes.position
                          , h = o.morphNormals && i.morphAttributes.normal;
                        for (f = 0; f < u; f++)
                            0 !== (d = c[f])[1] && (l && i.removeAttribute("morphTarget" + f),
                            h && i.removeAttribute("morphNormal" + f));
                        for (f = 0; f < u; f++)
                            (d = c[f])[0] = f,
                            d[1] = s[f];
                        for (c.sort(Mr),
                        f = 0; f < 8; f++) {
                            var d;
                            if (d = c[f]) {
                                var p = d[0]
                                  , m = d[1];
                                if (m) {
                                    l && i.addAttribute("morphTarget" + f, l[p]),
                                    h && i.addAttribute("morphNormal" + f, h[p]),
                                    n[f] = m;
                                    continue
                                }
                            }
                            n[f] = 0
                        }
                        a.getUniforms().setValue(t, "morphTargetInfluences", n)
                    }
                }
            }
            (h),
            S = new Mi(G,d,p),
            L = new Si,
            R = new function() {
                var t = {};
                return {
                    get: function(e, n) {
                        var r;
                        return void 0 === t[e.id] ? (r = new Ii,
                        t[e.id] = {},
                        t[e.id][n.id] = r) : void 0 === t[e.id][n.id] ? (r = new Ii,
                        t[e.id][n.id] = r) : r = t[e.id][n.id],
                        r
                    },
                    dispose: function() {
                        t = {}
                    }
                }
            }
            ,
            C = new function(t, e, n, r) {
                var i, o, a, s = new _n(0), u = 0;
                function c(t, n) {
                    e.buffers.color.setClear(t.r, t.g, t.b, n, r)
                }
                return {
                    getClearColor: function() {
                        return s
                    },
                    setClearColor: function(t, e) {
                        s.set(t),
                        c(s, u = void 0 !== e ? e : 1)
                    },
                    getClearAlpha: function() {
                        return u
                    },
                    setClearAlpha: function(t) {
                        c(s, u = t)
                    },
                    render: function(e, r, f, l) {
                        var h = r.background;
                        null === h ? c(s, u) : h && h.isColor && (c(h, 1),
                        l = !0),
                        (t.autoClear || l) && t.clear(t.autoClearColor, t.autoClearDepth, t.autoClearStencil),
                        h && h.isCubeTexture ? (void 0 === a && ((a = new wr(new nr(1,1,1),new br({
                            uniforms: Mn.cube.uniforms,
                            vertexShader: Mn.cube.vertexShader,
                            fragmentShader: Mn.cube.fragmentShader,
                            side: O,
                            depthTest: !0,
                            depthWrite: !1,
                            fog: !1
                        }))).geometry.removeAttribute("normal"),
                        a.geometry.removeAttribute("uv"),
                        a.onBeforeRender = function(t, e, n) {
                            this.matrixWorld.copyPosition(n.matrixWorld)
                        }
                        ,
                        n.update(a)),
                        a.material.uniforms.tCube.value = h,
                        e.push(a, a.geometry, a.material, 0, null)) : h && h.isTexture && (void 0 === i && (i = new In(-1,1,1,-1,0,1),
                        o = new wr(new ir(2,2),new yr({
                            depthTest: !1,
                            depthWrite: !1,
                            fog: !1
                        })),
                        n.update(o)),
                        o.material.map = h,
                        t.renderBufferDirect(i, null, o.geometry, o.material, o, null))
                    }
                }
            }
            (G,v,T,s),
            P = new function(t, e, n, r) {
                var i;
                this.setMode = function(t) {
                    i = t
                }
                ,
                this.render = function(e, r) {
                    t.drawArrays(i, e, r),
                    n.update(r, i)
                }
                ,
                this.renderInstances = function(o, a, s) {
                    var u;
                    if (r.isWebGL2)
                        u = t;
                    else if (null === (u = e.get("ANGLE_instanced_arrays")))
                        return void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");
                    u[r.isWebGL2 ? "drawArraysInstanced" : "drawArraysInstancedANGLE"](i, a, s, o.maxInstancedCount),
                    n.update(s, i, o.maxInstancedCount)
                }
            }
            (h,d,_,p),
            k = new function(t, e, n, r) {
                var i, o, a;
                this.setMode = function(t) {
                    i = t
                }
                ,
                this.setIndex = function(t) {
                    o = t.type,
                    a = t.bytesPerElement
                }
                ,
                this.render = function(e, r) {
                    t.drawElements(i, r, o, e * a),
                    n.update(r, i)
                }
                ,
                this.renderInstances = function(s, u, c) {
                    var f;
                    if (r.isWebGL2)
                        f = t;
                    else if (null === (f = e.get("ANGLE_instanced_arrays")))
                        return void console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");
                    f[r.isWebGL2 ? "drawElementsInstanced" : "drawElementsInstancedANGLE"](i, c, o, u * a, s.maxInstancedCount),
                    n.update(c, i, s.maxInstancedCount)
                }
            }
            (h,d,_,p),
            _.programs = S.programs,
            G.context = h,
            G.capabilities = p,
            G.extensions = d,
            G.properties = x,
            G.renderLists = L,
            G.state = v,
            G.info = _
        }
        Et();
        var Tt = "xr"in navigator ? new function(t) {
            var e = t.context
              , n = null
              , r = null
              , i = null
              , o = null
              , a = []
              , s = [];
            function u() {
                return null !== r && null !== i
            }
            var c = new Gi;
            c.layers.enable(1),
            c.viewport = new un;
            var f = new Gi;
            f.layers.enable(2),
            f.viewport = new un;
            var l = new Hi([c, f]);
            function h(t) {
                var e = a[s.indexOf(t.inputSource)];
                e && e.dispatchEvent({
                    type: t.type
                })
            }
            function d() {
                t.setFramebuffer(null),
                v.stop()
            }
            function p(t, e) {
                null === e ? t.matrixWorld.copy(t.matrix) : t.matrixWorld.multiplyMatrices(e.matrixWorld, t.matrix),
                t.matrixWorldInverse.getInverse(t.matrixWorld)
            }
            l.layers.enable(1),
            l.layers.enable(2),
            this.enabled = !1,
            this.getController = function(t) {
                var e = a[t];
                return void 0 === e && ((e = new Fi).matrixAutoUpdate = !1,
                e.visible = !1,
                a[t] = e),
                e
            }
            ,
            this.getDevice = function() {
                return n
            }
            ,
            this.setDevice = function(t) {
                void 0 !== t && (n = t),
                t instanceof XRDevice && e.setCompatibleXRDevice(t)
            }
            ,
            this.setSession = function(n, o) {
                null !== (r = n) && (r.addEventListener("select", h),
                r.addEventListener("selectstart", h),
                r.addEventListener("selectend", h),
                r.addEventListener("end", d),
                r.baseLayer = new XRWebGLLayer(r,e),
                r.requestFrameOfReference(o.frameOfReferenceType).then(function(e) {
                    i = e,
                    t.setFramebuffer(r.baseLayer.framebuffer),
                    v.setContext(r),
                    v.start()
                }),
                s = r.getInputSources(),
                r.addEventListener("inputsourceschange", function() {
                    s = r.getInputSources(),
                    console.log(s)
                }))
            }
            ,
            this.getCamera = function(t) {
                if (u()) {
                    var e = t.parent
                      , n = l.cameras;
                    p(l, e);
                    for (var r = 0; r < n.length; r++)
                        p(n[r], e);
                    t.matrixWorld.copy(l.matrixWorld);
                    for (var i = t.children, o = (r = 0,
                    i.length); r < o; r++)
                        i[r].updateMatrixWorld(!0);
                    return l
                }
                return t
            }
            ,
            this.isPresenting = u;
            var m = null
              , v = new En;
            v.setAnimationLoop(function(t, e) {
                if (null !== (o = e.getDevicePose(i)))
                    for (var n = r.baseLayer, u = e.views, c = 0; c < u.length; c++) {
                        var f = u[c]
                          , h = n.getViewport(f)
                          , d = o.getViewMatrix(f)
                          , p = l.cameras[c];
                        p.matrix.fromArray(d).getInverse(p.matrix),
                        p.projectionMatrix.fromArray(f.projectionMatrix),
                        p.viewport.set(h.x, h.y, h.width, h.height),
                        0 === c && (l.matrix.copy(p.matrix),
                        l.projectionMatrix.copy(p.projectionMatrix))
                    }
                for (c = 0; c < a.length; c++) {
                    var v = a[c]
                      , g = s[c];
                    if (g) {
                        var y = e.getInputPose(g, i);
                        if (null !== y) {
                            v.matrix.elements = y.pointerMatrix,
                            v.matrix.decompose(v.position, v.rotation, v.scale),
                            v.visible = !0;
                            continue
                        }
                    }
                    v.visible = !1
                }
                m && m(t)
            }),
            this.setAnimationLoop = function(t) {
                m = t
            }
            ,
            this.dispose = function() {}
            ,
            this.getStandingMatrix = function() {
                return console.warn("THREE.WebXRManager: getStandingMatrix() is no longer needed."),
                new THREE.Matrix4
            }
            ,
            this.submitFrame = function() {}
        }
        (G) : new Vi(G);
        this.vr = Tt;
        var St = new zi(G,T,p.maxTextureSize);
        function Ot(t) {
            t.preventDefault(),
            console.log("THREE.WebGLRenderer: Context Lost."),
            H = !0
        }
        function At() {
            console.log("THREE.WebGLRenderer: Context Restored."),
            H = !1,
            Et()
        }
        function Lt(t) {
            var e = t.target;
            e.removeEventListener("dispose", Lt),
            function(t) {
                Rt(t),
                x.remove(t)
            }(e)
        }
        function Rt(t) {
            var e = x.get(t).program;
            t.program = void 0,
            void 0 !== e && S.releaseProgram(e)
        }
        this.shadowMap = St,
        this.getContext = function() {
            return h
        }
        ,
        this.getContextAttributes = function() {
            return h.getContextAttributes()
        }
        ,
        this.forceContextLoss = function() {
            var t = d.get("WEBGL_lose_context");
            t && t.loseContext()
        }
        ,
        this.forceContextRestore = function() {
            var t = d.get("WEBGL_lose_context");
            t && t.restoreContext()
        }
        ,
        this.getPixelRatio = function() {
            return lt
        }
        ,
        this.setPixelRatio = function(t) {
            void 0 !== t && (lt = t,
            this.setSize(et, ft, !1))
        }
        ,
        this.getSize = function() {
            return {
                width: et,
                height: ft
            }
        }
        ,
        this.setSize = function(t, n, r) {
            Tt.isPresenting() ? console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.") : (et = t,
            ft = n,
            e.width = t * lt,
            e.height = n * lt,
            !1 !== r && (e.style.width = t + "px",
            e.style.height = n + "px"),
            this.setViewport(0, 0, t, n))
        }
        ,
        this.getDrawingBufferSize = function() {
            return {
                width: et * lt,
                height: ft * lt
            }
        }
        ,
        this.setDrawingBufferSize = function(t, n, r) {
            et = t,
            ft = n,
            lt = r,
            e.width = t * r,
            e.height = n * r,
            this.setViewport(0, 0, t, n)
        }
        ,
        this.getCurrentViewport = function() {
            return Q
        }
        ,
        this.setViewport = function(t, e, n, r) {
            ht.set(t, ft - e - r, n, r),
            v.viewport(Q.copy(ht).multiplyScalar(lt))
        }
        ,
        this.setScissor = function(t, e, n, r) {
            dt.set(t, ft - e - r, n, r),
            v.scissor(K.copy(dt).multiplyScalar(lt))
        }
        ,
        this.setScissorTest = function(t) {
            v.setScissorTest(mt = t)
        }
        ,
        this.getClearColor = function() {
            return C.getClearColor()
        }
        ,
        this.setClearColor = function() {
            C.setClearColor.apply(C, arguments)
        }
        ,
        this.getClearAlpha = function() {
            return C.getClearAlpha()
        }
        ,
        this.setClearAlpha = function() {
            C.setClearAlpha.apply(C, arguments)
        }
        ,
        this.clear = function(t, e, n) {
            var r = 0;
            (void 0 === t || t) && (r |= h.COLOR_BUFFER_BIT),
            (void 0 === e || e) && (r |= h.DEPTH_BUFFER_BIT),
            (void 0 === n || n) && (r |= h.STENCIL_BUFFER_BIT),
            h.clear(r)
        }
        ,
        this.clearColor = function() {
            this.clear(!0, !1, !1)
        }
        ,
        this.clearDepth = function() {
            this.clear(!1, !0, !1)
        }
        ,
        this.clearStencil = function() {
            this.clear(!1, !1, !0)
        }
        ,
        this.clearTarget = function(t, e, n, r) {
            this.setRenderTarget(t),
            this.clear(e, n, r)
        }
        ,
        this.dispose = function() {
            e.removeEventListener("webglcontextlost", Ot, !1),
            e.removeEventListener("webglcontextrestored", At, !1),
            L.dispose(),
            R.dispose(),
            x.dispose(),
            T.dispose(),
            Tt.dispose(),
            Pt.stop()
        }
        ,
        this.renderBufferImmediate = function(t, e) {
            v.initAttributes();
            var n = x.get(t);
            t.hasPositions && !n.position && (n.position = h.createBuffer()),
            t.hasNormals && !n.normal && (n.normal = h.createBuffer()),
            t.hasUvs && !n.uv && (n.uv = h.createBuffer()),
            t.hasColors && !n.color && (n.color = h.createBuffer());
            var r = e.getAttributes();
            t.hasPositions && (h.bindBuffer(h.ARRAY_BUFFER, n.position),
            h.bufferData(h.ARRAY_BUFFER, t.positionArray, h.DYNAMIC_DRAW),
            v.enableAttribute(r.position),
            h.vertexAttribPointer(r.position, 3, h.FLOAT, !1, 0, 0)),
            t.hasNormals && (h.bindBuffer(h.ARRAY_BUFFER, n.normal),
            h.bufferData(h.ARRAY_BUFFER, t.normalArray, h.DYNAMIC_DRAW),
            v.enableAttribute(r.normal),
            h.vertexAttribPointer(r.normal, 3, h.FLOAT, !1, 0, 0)),
            t.hasUvs && (h.bindBuffer(h.ARRAY_BUFFER, n.uv),
            h.bufferData(h.ARRAY_BUFFER, t.uvArray, h.DYNAMIC_DRAW),
            v.enableAttribute(r.uv),
            h.vertexAttribPointer(r.uv, 2, h.FLOAT, !1, 0, 0)),
            t.hasColors && (h.bindBuffer(h.ARRAY_BUFFER, n.color),
            h.bufferData(h.ARRAY_BUFFER, t.colorArray, h.DYNAMIC_DRAW),
            v.enableAttribute(r.color),
            h.vertexAttribPointer(r.color, 3, h.FLOAT, !1, 0, 0)),
            v.disableUnusedAttributes(),
            h.drawArrays(h.TRIANGLES, 0, t.count),
            t.count = 0
        }
        ,
        this.renderBufferDirect = function(t, e, n, r, i, o) {
            var a = i.isMesh && i.normalMatrix.determinant() < 0;
            v.setMaterial(r, a);
            var s = zt(t, e, r, i)
              , u = !1;
            Y.geometry === n.id && Y.program === s.id && Y.wireframe === (!0 === r.wireframe) || (Y.geometry = n.id,
            Y.program = s.id,
            Y.wireframe = !0 === r.wireframe,
            u = !0),
            i.morphTargetInfluences && (j.update(i, n, r, s),
            u = !0);
            var c, f = n.index, l = n.attributes.position, m = 1;
            !0 === r.wireframe && (f = E.getWireframeAttribute(n),
            m = 2);
            var g = P;
            null !== f && (c = M.get(f),
            (g = k).setIndex(c)),
            u && (!function(t, e, n) {
                if (n && n.isInstancedBufferGeometry & !p.isWebGL2 && null === d.get("ANGLE_instanced_arrays"))
                    return void console.error("THREE.WebGLRenderer.setupVertexAttributes: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");
                v.initAttributes();
                var r = n.attributes
                  , i = e.getAttributes()
                  , o = t.defaultAttributeValues;
                for (var a in i) {
                    var s = i[a];
                    if (s >= 0) {
                        var u = r[a];
                        if (void 0 !== u) {
                            var c = u.normalized
                              , f = u.itemSize
                              , l = M.get(u);
                            if (void 0 === l)
                                continue;
                            var m = l.buffer
                              , g = l.type
                              , y = l.bytesPerElement;
                            if (u.isInterleavedBufferAttribute) {
                                var b = u.data
                                  , _ = b.stride
                                  , x = u.offset;
                                b && b.isInstancedInterleavedBuffer ? (v.enableAttributeAndDivisor(s, b.meshPerAttribute),
                                void 0 === n.maxInstancedCount && (n.maxInstancedCount = b.meshPerAttribute * b.count)) : v.enableAttribute(s),
                                h.bindBuffer(h.ARRAY_BUFFER, m),
                                h.vertexAttribPointer(s, f, g, c, _ * y, x * y)
                            } else
                                u.isInstancedBufferAttribute ? (v.enableAttributeAndDivisor(s, u.meshPerAttribute),
                                void 0 === n.maxInstancedCount && (n.maxInstancedCount = u.meshPerAttribute * u.count)) : v.enableAttribute(s),
                                h.bindBuffer(h.ARRAY_BUFFER, m),
                                h.vertexAttribPointer(s, f, g, c, 0, 0)
                        } else if (void 0 !== o) {
                            var w = o[a];
                            if (void 0 !== w)
                                switch (w.length) {
                                case 2:
                                    h.vertexAttrib2fv(s, w);
                                    break;
                                case 3:
                                    h.vertexAttrib3fv(s, w);
                                    break;
                                case 4:
                                    h.vertexAttrib4fv(s, w);
                                    break;
                                default:
                                    h.vertexAttrib1fv(s, w)
                                }
                        }
                    }
                }
                v.disableUnusedAttributes()
            }(r, s, n),
            null !== f && h.bindBuffer(h.ELEMENT_ARRAY_BUFFER, c.buffer));
            var y = 1 / 0;
            null !== f ? y = f.count : void 0 !== l && (y = l.count);
            var b = n.drawRange.start * m
              , _ = n.drawRange.count * m
              , x = null !== o ? o.start * m : 0
              , w = null !== o ? o.count * m : 1 / 0
              , T = Math.max(b, x)
              , S = Math.min(y, b + _, x + w) - 1
              , O = Math.max(0, S - T + 1);
            if (0 !== O) {
                if (i.isMesh)
                    if (!0 === r.wireframe)
                        v.setLineWidth(r.wireframeLinewidth * wt()),
                        g.setMode(h.LINES);
                    else
                        switch (i.drawMode) {
                        case Pe:
                            g.setMode(h.TRIANGLES);
                            break;
                        case Ne:
                            g.setMode(h.TRIANGLE_STRIP);
                            break;
                        case Ie:
                            g.setMode(h.TRIANGLE_FAN)
                        }
                else if (i.isLine) {
                    var A = r.linewidth;
                    void 0 === A && (A = 1),
                    v.setLineWidth(A * wt()),
                    i.isLineSegments ? g.setMode(h.LINES) : i.isLineLoop ? g.setMode(h.LINE_LOOP) : g.setMode(h.LINE_STRIP)
                } else
                    i.isPoints ? g.setMode(h.POINTS) : i.isSprite && g.setMode(h.TRIANGLES);
                n && n.isInstancedBufferGeometry ? n.maxInstancedCount > 0 && g.renderInstances(n, T, O) : g.render(T, O)
            }
        }
        ,
        this.compile = function(t, e) {
            (l = R.get(t, e)).init(),
            t.traverse(function(t) {
                t.isLight && (l.pushLight(t),
                t.castShadow && l.pushShadow(t))
            }),
            l.setupLights(e),
            t.traverse(function(e) {
                if (e.material)
                    if (Array.isArray(e.material))
                        for (var n = 0; n < e.material.length; n++)
                            Ut(e.material[n], t.fog, e);
                    else
                        Ut(e.material, t.fog, e)
            })
        }
        ;
        var Ct = null;
        var jt, Pt = new En;
        function Nt(t, e, n, r) {
            for (var i = 0, o = t.length; i < o; i++) {
                var a = t[i]
                  , s = a.object
                  , u = a.geometry
                  , c = void 0 === r ? a.material : r
                  , f = a.group;
                if (n.isArrayCamera) {
                    J = n;
                    for (var l = n.cameras, h = 0, d = l.length; h < d; h++) {
                        var p = l[h];
                        if (s.layers.test(p.layers)) {
                            if ("viewport"in p)
                                v.viewport(Q.copy(p.viewport));
                            else {
                                var m = p.bounds
                                  , g = m.x * et
                                  , y = m.y * ft
                                  , b = m.z * et
                                  , _ = m.w * ft;
                                v.viewport(Q.set(g, y, b, _).multiplyScalar(lt))
                            }
                            Dt(s, e, p, u, c, f)
                        }
                    }
                } else
                    J = null,
                    Dt(s, e, n, u, c, f)
            }
        }
        function Dt(t, e, n, r, i, o) {
            if (t.onBeforeRender(G, e, n, r, i, o),
            l = R.get(e, J || n),
            t.modelViewMatrix.multiplyMatrices(n.matrixWorldInverse, t.matrixWorld),
            t.normalMatrix.getNormalMatrix(t.modelViewMatrix),
            t.isImmediateRenderObject) {
                v.setMaterial(i);
                var a = zt(n, e.fog, i, t);
                Y.geometry = null,
                Y.program = null,
                Y.wireframe = !1,
                function(t, e) {
                    t.render(function(t) {
                        G.renderBufferImmediate(t, e)
                    })
                }(t, a)
            } else
                G.renderBufferDirect(n, e.fog, r, i, t, o);
            t.onAfterRender(G, e, n, r, i, o),
            l = R.get(e, J || n)
        }
        function Ut(t, e, n) {
            var r = x.get(t)
              , i = l.state.lights
              , o = l.state.shadowsArray
              , a = r.lightsHash
              , s = i.state.hash
              , u = S.getParameters(t, i.state, o, e, gt.numPlanes, gt.numIntersection, n)
              , c = S.getProgramCode(t, u)
              , f = r.program
              , h = !0;
            if (void 0 === f)
                t.addEventListener("dispose", Lt);
            else if (f.code !== c)
                Rt(t);
            else if (a.stateID !== s.stateID || a.directionalLength !== s.directionalLength || a.pointLength !== s.pointLength || a.spotLength !== s.spotLength || a.rectAreaLength !== s.rectAreaLength || a.hemiLength !== s.hemiLength || a.shadowsLength !== s.shadowsLength)
                a.stateID = s.stateID,
                a.directionalLength = s.directionalLength,
                a.pointLength = s.pointLength,
                a.spotLength = s.spotLength,
                a.rectAreaLength = s.rectAreaLength,
                a.hemiLength = s.hemiLength,
                a.shadowsLength = s.shadowsLength,
                h = !1;
            else {
                if (void 0 !== u.shaderID)
                    return;
                h = !1
            }
            if (h) {
                if (u.shaderID) {
                    var d = Mn[u.shaderID];
                    r.shader = {
                        name: t.type,
                        uniforms: yn.clone(d.uniforms),
                        vertexShader: d.vertexShader,
                        fragmentShader: d.fragmentShader
                    }
                } else
                    r.shader = {
                        name: t.type,
                        uniforms: t.uniforms,
                        vertexShader: t.vertexShader,
                        fragmentShader: t.fragmentShader
                    };
                t.onBeforeCompile(r.shader, G),
                c = S.getProgramCode(t, u),
                f = S.acquireProgram(t, r.shader, u, c),
                r.program = f,
                t.program = f
            }
            var p = f.getAttributes();
            if (t.morphTargets) {
                t.numSupportedMorphTargets = 0;
                for (var m = 0; m < G.maxMorphTargets; m++)
                    p["morphTarget" + m] >= 0 && t.numSupportedMorphTargets++
            }
            if (t.morphNormals) {
                t.numSupportedMorphNormals = 0;
                for (m = 0; m < G.maxMorphNormals; m++)
                    p["morphNormal" + m] >= 0 && t.numSupportedMorphNormals++
            }
            var v = r.shader.uniforms;
            (t.isShaderMaterial || t.isRawShaderMaterial) && !0 !== t.clipping || (r.numClippingPlanes = gt.numPlanes,
            r.numIntersection = gt.numIntersection,
            v.clippingPlanes = gt.uniform),
            r.fog = e,
            void 0 === a && (r.lightsHash = a = {}),
            a.stateID = s.stateID,
            a.directionalLength = s.directionalLength,
            a.pointLength = s.pointLength,
            a.spotLength = s.spotLength,
            a.rectAreaLength = s.rectAreaLength,
            a.hemiLength = s.hemiLength,
            a.shadowsLength = s.shadowsLength,
            t.lights && (v.ambientLightColor.value = i.state.ambient,
            v.directionalLights.value = i.state.directional,
            v.spotLights.value = i.state.spot,
            v.rectAreaLights.value = i.state.rectArea,
            v.pointLights.value = i.state.point,
            v.hemisphereLights.value = i.state.hemi,
            v.directionalShadowMap.value = i.state.directionalShadowMap,
            v.directionalShadowMatrix.value = i.state.directionalShadowMatrix,
            v.spotShadowMap.value = i.state.spotShadowMap,
            v.spotShadowMatrix.value = i.state.spotShadowMatrix,
            v.pointShadowMap.value = i.state.pointShadowMap,
            v.pointShadowMatrix.value = i.state.pointShadowMatrix);
            var g = r.program.getUniforms()
              , y = hi.seqWithValue(g.seq, v);
            r.uniformsList = y
        }
        function zt(t, e, n, r) {
            tt = 0;
            var i = x.get(n)
              , o = l.state.lights
              , a = i.lightsHash
              , s = o.state.hash;
            if (yt && (bt || t !== Z)) {
                var u = t === Z && n.id === X;
                gt.setState(n.clippingPlanes, n.clipIntersection, n.clipShadows, t, i, u)
            }
            !1 === n.needsUpdate && (void 0 === i.program ? n.needsUpdate = !0 : n.fog && i.fog !== e ? n.needsUpdate = !0 : (!n.lights || a.stateID === s.stateID && a.directionalLength === s.directionalLength && a.pointLength === s.pointLength && a.spotLength === s.spotLength && a.rectAreaLength === s.rectAreaLength && a.hemiLength === s.hemiLength && a.shadowsLength === s.shadowsLength) && (void 0 === i.numClippingPlanes || i.numClippingPlanes === gt.numPlanes && i.numIntersection === gt.numIntersection) || (n.needsUpdate = !0)),
            n.needsUpdate && (Ut(n, e, r),
            n.needsUpdate = !1);
            var c, f, d = !1, m = !1, g = !1, y = i.program, b = y.getUniforms(), _ = i.shader.uniforms;
            if (v.useProgram(y.program) && (d = !0,
            m = !0,
            g = !0),
            n.id !== X && (X = n.id,
            m = !0),
            d || t !== Z) {
                if (b.setValue(h, "projectionMatrix", t.projectionMatrix),
                p.logarithmicDepthBuffer && b.setValue(h, "logDepthBufFC", 2 / (Math.log(t.far + 1) / Math.LN2)),
                Z !== (J || t) && (Z = J || t,
                m = !0,
                g = !0),
                n.isShaderMaterial || n.isMeshPhongMaterial || n.isMeshStandardMaterial || n.envMap) {
                    var w = b.map.cameraPosition;
                    void 0 !== w && w.setValue(h, xt.setFromMatrixPosition(t.matrixWorld))
                }
                (n.isMeshPhongMaterial || n.isMeshLambertMaterial || n.isMeshBasicMaterial || n.isMeshStandardMaterial || n.isShaderMaterial || n.skinning) && b.setValue(h, "viewMatrix", t.matrixWorldInverse)
            }
            if (n.skinning) {
                b.setOptional(h, r, "bindMatrix"),
                b.setOptional(h, r, "bindMatrixInverse");
                var M = r.skeleton;
                if (M) {
                    var E = M.bones;
                    if (p.floatVertexTextures) {
                        if (void 0 === M.boneTexture) {
                            var T = Math.sqrt(4 * E.length);
                            T = Ye.ceilPowerOfTwo(T),
                            T = Math.max(T, 4);
                            var S = new Float32Array(T * T * 4);
                            S.set(M.boneMatrices);
                            var A = new ln(S,T,T,Zt,Ft);
                            A.needsUpdate = !0,
                            M.boneMatrices = S,
                            M.boneTexture = A,
                            M.boneTextureSize = T
                        }
                        b.setValue(h, "boneTexture", M.boneTexture),
                        b.setValue(h, "boneTextureSize", M.boneTextureSize)
                    } else
                        b.setOptional(h, M, "boneMatrices")
                }
            }
            return m && (b.setValue(h, "toneMappingExposure", G.toneMappingExposure),
            b.setValue(h, "toneMappingWhitePoint", G.toneMappingWhitePoint),
            n.lights && (f = g,
            (c = _).ambientLightColor.needsUpdate = f,
            c.directionalLights.needsUpdate = f,
            c.pointLights.needsUpdate = f,
            c.spotLights.needsUpdate = f,
            c.rectAreaLights.needsUpdate = f,
            c.hemisphereLights.needsUpdate = f),
            e && n.fog && function(t, e) {
                t.fogColor.value = e.color,
                e.isFog ? (t.fogNear.value = e.near,
                t.fogFar.value = e.far) : e.isFogExp2 && (t.fogDensity.value = e.density)
            }(_, e),
            n.isMeshBasicMaterial ? Bt(_, n) : n.isMeshLambertMaterial ? (Bt(_, n),
            function(t, e) {
                e.emissiveMap && (t.emissiveMap.value = e.emissiveMap)
            }(_, n)) : n.isMeshPhongMaterial ? (Bt(_, n),
            n.isMeshToonMaterial ? function(t, e) {
                kt(t, e),
                e.gradientMap && (t.gradientMap.value = e.gradientMap)
            }(_, n) : kt(_, n)) : n.isMeshStandardMaterial ? (Bt(_, n),
            n.isMeshPhysicalMaterial ? function(t, e) {
                Ht(t, e),
                t.reflectivity.value = e.reflectivity,
                t.clearCoat.value = e.clearCoat,
                t.clearCoatRoughness.value = e.clearCoatRoughness
            }(_, n) : Ht(_, n)) : n.isMeshDepthMaterial ? (Bt(_, n),
            function(t, e) {
                e.displacementMap && (t.displacementMap.value = e.displacementMap,
                t.displacementScale.value = e.displacementScale,
                t.displacementBias.value = e.displacementBias)
            }(_, n)) : n.isMeshDistanceMaterial ? (Bt(_, n),
            function(t, e) {
                e.displacementMap && (t.displacementMap.value = e.displacementMap,
                t.displacementScale.value = e.displacementScale,
                t.displacementBias.value = e.displacementBias);
                t.referencePosition.value.copy(e.referencePosition),
                t.nearDistance.value = e.nearDistance,
                t.farDistance.value = e.farDistance
            }(_, n)) : n.isMeshNormalMaterial ? (Bt(_, n),
            function(t, e) {
                e.bumpMap && (t.bumpMap.value = e.bumpMap,
                t.bumpScale.value = e.bumpScale,
                e.side === O && (t.bumpScale.value *= -1));
                e.normalMap && (t.normalMap.value = e.normalMap,
                t.normalScale.value.copy(e.normalScale),
                e.side === O && t.normalScale.value.negate());
                e.displacementMap && (t.displacementMap.value = e.displacementMap,
                t.displacementScale.value = e.displacementScale,
                t.displacementBias.value = e.displacementBias)
            }(_, n)) : n.isLineBasicMaterial ? (function(t, e) {
                t.diffuse.value = e.color,
                t.opacity.value = e.opacity
            }(_, n),
            n.isLineDashedMaterial && function(t, e) {
                t.dashSize.value = e.dashSize,
                t.totalSize.value = e.dashSize + e.gapSize,
                t.scale.value = e.scale
            }(_, n)) : n.isPointsMaterial ? function(t, e) {
                t.diffuse.value = e.color,
                t.opacity.value = e.opacity,
                t.size.value = e.size * lt,
                t.scale.value = .5 * ft,
                t.map.value = e.map,
                null !== e.map && (!0 === e.map.matrixAutoUpdate && e.map.updateMatrix(),
                t.uvTransform.value.copy(e.map.matrix))
            }(_, n) : n.isSpriteMaterial ? function(t, e) {
                t.diffuse.value = e.color,
                t.opacity.value = e.opacity,
                t.rotation.value = e.rotation,
                t.map.value = e.map,
                null !== e.map && (!0 === e.map.matrixAutoUpdate && e.map.updateMatrix(),
                t.uvTransform.value.copy(e.map.matrix))
            }(_, n) : n.isShadowMaterial && (_.color.value = n.color,
            _.opacity.value = n.opacity),
            void 0 !== _.ltc_1 && (_.ltc_1.value = wn.LTC_1),
            void 0 !== _.ltc_2 && (_.ltc_2.value = wn.LTC_2),
            hi.upload(h, i.uniformsList, _, G)),
            n.isShaderMaterial && !0 === n.uniformsNeedUpdate && (hi.upload(h, i.uniformsList, _, G),
            n.uniformsNeedUpdate = !1),
            n.isSpriteMaterial && b.setValue(h, "center", r.center),
            b.setValue(h, "modelViewMatrix", r.modelViewMatrix),
            b.setValue(h, "normalMatrix", r.normalMatrix),
            b.setValue(h, "modelMatrix", r.matrixWorld),
            y
        }
        function Bt(t, e) {
            var n;
            t.opacity.value = e.opacity,
            e.color && (t.diffuse.value = e.color),
            e.emissive && t.emissive.value.copy(e.emissive).multiplyScalar(e.emissiveIntensity),
            e.map && (t.map.value = e.map),
            e.alphaMap && (t.alphaMap.value = e.alphaMap),
            e.specularMap && (t.specularMap.value = e.specularMap),
            e.envMap && (t.envMap.value = e.envMap,
            t.flipEnvMap.value = e.envMap && e.envMap.isCubeTexture ? -1 : 1,
            t.reflectivity.value = e.reflectivity,
            t.refractionRatio.value = e.refractionRatio,
            t.maxMipLevel.value = x.get(e.envMap).__maxMipLevel),
            e.lightMap && (t.lightMap.value = e.lightMap,
            t.lightMapIntensity.value = e.lightMapIntensity),
            e.aoMap && (t.aoMap.value = e.aoMap,
            t.aoMapIntensity.value = e.aoMapIntensity),
            e.map ? n = e.map : e.specularMap ? n = e.specularMap : e.displacementMap ? n = e.displacementMap : e.normalMap ? n = e.normalMap : e.bumpMap ? n = e.bumpMap : e.roughnessMap ? n = e.roughnessMap : e.metalnessMap ? n = e.metalnessMap : e.alphaMap ? n = e.alphaMap : e.emissiveMap && (n = e.emissiveMap),
            void 0 !== n && (n.isWebGLRenderTarget && (n = n.texture),
            !0 === n.matrixAutoUpdate && n.updateMatrix(),
            t.uvTransform.value.copy(n.matrix))
        }
        function kt(t, e) {
            t.specular.value = e.specular,
            t.shininess.value = Math.max(e.shininess, 1e-4),
            e.emissiveMap && (t.emissiveMap.value = e.emissiveMap),
            e.bumpMap && (t.bumpMap.value = e.bumpMap,
            t.bumpScale.value = e.bumpScale,
            e.side === O && (t.bumpScale.value *= -1)),
            e.normalMap && (t.normalMap.value = e.normalMap,
            t.normalScale.value.copy(e.normalScale),
            e.side === O && t.normalScale.value.negate()),
            e.displacementMap && (t.displacementMap.value = e.displacementMap,
            t.displacementScale.value = e.displacementScale,
            t.displacementBias.value = e.displacementBias)
        }
        function Ht(t, e) {
            t.roughness.value = e.roughness,
            t.metalness.value = e.metalness,
            e.roughnessMap && (t.roughnessMap.value = e.roughnessMap),
            e.metalnessMap && (t.metalnessMap.value = e.metalnessMap),
            e.emissiveMap && (t.emissiveMap.value = e.emissiveMap),
            e.bumpMap && (t.bumpMap.value = e.bumpMap,
            t.bumpScale.value = e.bumpScale,
            e.side === O && (t.bumpScale.value *= -1)),
            e.normalMap && (t.normalMap.value = e.normalMap,
            t.normalScale.value.copy(e.normalScale),
            e.side === O && t.normalScale.value.negate()),
            e.displacementMap && (t.displacementMap.value = e.displacementMap,
            t.displacementScale.value = e.displacementScale,
            t.displacementBias.value = e.displacementBias),
            e.envMap && (t.envMapIntensity.value = e.envMapIntensity)
        }
        Pt.setAnimationLoop(function(t) {
            Tt.isPresenting() || Ct && Ct(t)
        }),
        "undefined" != typeof window && Pt.setContext(window),
        this.setAnimationLoop = function(t) {
            Ct = t,
            Tt.setAnimationLoop(t),
            Pt.start()
        }
        ,
        this.render = function(t, e, n, r) {
            if (e && e.isCamera) {
                if (!H) {
                    Y.geometry = null,
                    Y.program = null,
                    Y.wireframe = !1,
                    X = -1,
                    Z = null,
                    !0 === t.autoUpdate && t.updateMatrixWorld(),
                    null === e.parent && e.updateMatrixWorld(),
                    Tt.enabled && (e = Tt.getCamera(e)),
                    (l = R.get(t, e)).init(),
                    t.onBeforeRender(G, t, e, n),
                    _t.multiplyMatrices(e.projectionMatrix, e.matrixWorldInverse),
                    vt.setFromMatrix(_t),
                    bt = this.localClippingEnabled,
                    yt = gt.init(this.clippingPlanes, bt, e),
                    (f = L.get(t, e)).init(),
                    function t(e, n, r) {
                        if (!1 === e.visible)
                            return;
                        var i = e.layers.test(n.layers);
                        if (i)
                            if (e.isLight)
                                l.pushLight(e),
                                e.castShadow && l.pushShadow(e);
                            else if (e.isSprite) {
                                if (!e.frustumCulled || vt.intersectsSprite(e)) {
                                    r && xt.setFromMatrixPosition(e.matrixWorld).applyMatrix4(_t);
                                    var o = T.update(e)
                                      , a = e.material;
                                    f.push(e, o, a, xt.z, null)
                                }
                            } else if (e.isImmediateRenderObject)
                                r && xt.setFromMatrixPosition(e.matrixWorld).applyMatrix4(_t),
                                f.push(e, null, e.material, xt.z, null);
                            else if ((e.isMesh || e.isLine || e.isPoints) && (e.isSkinnedMesh && e.skeleton.update(),
                            !e.frustumCulled || vt.intersectsObject(e))) {
                                r && xt.setFromMatrixPosition(e.matrixWorld).applyMatrix4(_t);
                                var o = T.update(e)
                                  , a = e.material;
                                if (Array.isArray(a))
                                    for (var s = o.groups, u = 0, c = s.length; u < c; u++) {
                                        var h = s[u]
                                          , d = a[h.materialIndex];
                                        d && d.visible && f.push(e, o, d, xt.z, h)
                                    }
                                else
                                    a.visible && f.push(e, o, a, xt.z, null)
                            }
                        var p = e.children;
                        for (var u = 0, c = p.length; u < c; u++)
                            t(p[u], n, r)
                    }(t, e, G.sortObjects),
                    !0 === G.sortObjects && f.sort(),
                    yt && gt.beginShadows();
                    var i = l.state.shadowsArray;
                    St.render(i, t, e),
                    l.setupLights(e),
                    yt && gt.endShadows(),
                    this.info.autoReset && this.info.reset(),
                    void 0 === n && (n = null),
                    this.setRenderTarget(n),
                    C.render(f, t, e, r);
                    var o = f.opaque
                      , a = f.transparent;
                    if (t.overrideMaterial) {
                        var s = t.overrideMaterial;
                        o.length && Nt(o, t, e, s),
                        a.length && Nt(a, t, e, s)
                    } else
                        o.length && Nt(o, t, e),
                        a.length && Nt(a, t, e);
                    n && w.updateRenderTargetMipmap(n),
                    v.buffers.depth.setTest(!0),
                    v.buffers.depth.setMask(!0),
                    v.buffers.color.setMask(!0),
                    v.setPolygonOffset(!1),
                    t.onAfterRender(G, t, e),
                    Tt.enabled && Tt.submitFrame(),
                    f = null,
                    l = null
                }
            } else
                console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.")
        }
        ,
        this.allocTextureUnit = function() {
            var t = tt;
            return t >= p.maxTextures && console.warn("THREE.WebGLRenderer: Trying to use " + t + " texture units while this GPU supports only " + p.maxTextures),
            tt += 1,
            t
        }
        ,
        this.setTexture2D = (jt = !1,
        function(t, e) {
            t && t.isWebGLRenderTarget && (jt || (console.warn("THREE.WebGLRenderer.setTexture2D: don't use render targets as textures. Use their .texture property instead."),
            jt = !0),
            t = t.texture),
            w.setTexture2D(t, e)
        }
        ),
        this.setTexture = function() {
            var t = !1;
            return function(e, n) {
                t || (console.warn("THREE.WebGLRenderer: .setTexture is deprecated, use setTexture2D instead."),
                t = !0),
                w.setTexture2D(e, n)
            }
        }(),
        this.setTextureCube = function() {
            var t = !1;
            return function(e, n) {
                e && e.isWebGLRenderTargetCube && (t || (console.warn("THREE.WebGLRenderer.setTextureCube: don't use cube render targets as textures. Use their .texture property instead."),
                t = !0),
                e = e.texture),
                e && e.isCubeTexture || Array.isArray(e.image) && 6 === e.image.length ? w.setTextureCube(e, n) : w.setTextureCubeDynamic(e, n)
            }
        }(),
        this.setFramebuffer = function(t) {
            V = t
        }
        ,
        this.getRenderTarget = function() {
            return W
        }
        ,
        this.setRenderTarget = function(t) {
            W = t,
            t && void 0 === x.get(t).__webglFramebuffer && w.setupRenderTarget(t);
            var e = V
              , n = !1;
            if (t) {
                var r = x.get(t).__webglFramebuffer;
                t.isWebGLRenderTargetCube ? (e = r[t.activeCubeFace],
                n = !0) : e = r,
                Q.copy(t.viewport),
                K.copy(t.scissor),
                $ = t.scissorTest
            } else
                Q.copy(ht).multiplyScalar(lt),
                K.copy(dt).multiplyScalar(lt),
                $ = mt;
            if (q !== e && (h.bindFramebuffer(h.FRAMEBUFFER, e),
            q = e),
            v.viewport(Q),
            v.scissor(K),
            v.setScissorTest($),
            n) {
                var i = x.get(t.texture);
                h.framebufferTexture2D(h.FRAMEBUFFER, h.COLOR_ATTACHMENT0, h.TEXTURE_CUBE_MAP_POSITIVE_X + t.activeCubeFace, i.__webglTexture, t.activeMipMapLevel)
            }
        }
        ,
        this.readRenderTargetPixels = function(t, e, n, r, i, o) {
            if (t && t.isWebGLRenderTarget) {
                var a = x.get(t).__webglFramebuffer;
                if (a) {
                    var s = !1;
                    a !== q && (h.bindFramebuffer(h.FRAMEBUFFER, a),
                    s = !0);
                    try {
                        var u = t.texture
                          , c = u.format
                          , f = u.type;
                        if (c !== Zt && F.convert(c) !== h.getParameter(h.IMPLEMENTATION_COLOR_READ_FORMAT))
                            return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");
                        if (!(f === It || F.convert(f) === h.getParameter(h.IMPLEMENTATION_COLOR_READ_TYPE) || f === Ft && (p.isWebGL2 || d.get("OES_texture_float") || d.get("WEBGL_color_buffer_float")) || f === Gt && (p.isWebGL2 ? d.get("EXT_color_buffer_float") : d.get("EXT_color_buffer_half_float"))))
                            return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");
                        h.checkFramebufferStatus(h.FRAMEBUFFER) === h.FRAMEBUFFER_COMPLETE ? e >= 0 && e <= t.width - r && n >= 0 && n <= t.height - i && h.readPixels(e, n, r, i, F.convert(c), F.convert(f), o) : console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.")
                    } finally {
                        s && h.bindFramebuffer(h.FRAMEBUFFER, q)
                    }
                }
            } else
                console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.")
        }
        ,
        this.copyFramebufferToTexture = function(t, e, n) {
            var r = e.image.width
              , i = e.image.height
              , o = F.convert(e.format);
            this.setTexture2D(e, 0),
            h.copyTexImage2D(h.TEXTURE_2D, n || 0, o, t.x, t.y, r, i, 0)
        }
        ,
        this.copyTextureToTexture = function(t, e, n, r) {
            var i = e.image.width
              , o = e.image.height
              , a = F.convert(n.format)
              , s = F.convert(n.type);
            this.setTexture2D(n, 0),
            e.isDataTexture ? h.texSubImage2D(h.TEXTURE_2D, r || 0, t.x, t.y, i, o, a, s, e.image.data) : h.texSubImage2D(h.TEXTURE_2D, r || 0, t.x, t.y, a, s, e.image)
        }
    }
    function qi(t, e) {
        this.name = "",
        this.color = new _n(t),
        this.density = void 0 !== e ? e : 25e-5
    }
    function Xi(t, e, n) {
        this.name = "",
        this.color = new _n(t),
        this.near = void 0 !== e ? e : 1,
        this.far = void 0 !== n ? n : 1e3
    }
    function Yi() {
        Pn.call(this),
        this.type = "Scene",
        this.background = null,
        this.fog = null,
        this.overrideMaterial = null,
        this.autoUpdate = !0
    }
    function Zi(t, e) {
        this.array = t,
        this.stride = e,
        this.count = void 0 !== t ? t.length / e : 0,
        this.dynamic = !1,
        this.updateRange = {
            offset: 0,
            count: -1
        },
        this.version = 0
    }
    function Ji(t, e, n, r) {
        this.data = t,
        this.itemSize = e,
        this.offset = n,
        this.normalized = !0 === r
    }
    function Qi(t) {
        gr.call(this),
        this.type = "SpriteMaterial",
        this.color = new _n(16777215),
        this.map = null,
        this.rotation = 0,
        this.lights = !1,
        this.transparent = !0,
        this.setValues(t)
    }
    function Ki(t) {
        if (Pn.call(this),
        this.type = "Sprite",
        void 0 === Oi) {
            Oi = new tr;
            var e = new Zi(new Float32Array([-.5, -.5, 0, 0, 0, .5, -.5, 0, 1, 0, .5, .5, 0, 1, 1, -.5, .5, 0, 0, 1]),5);
            Oi.setIndex([0, 1, 2, 0, 2, 3]),
            Oi.addAttribute("position", new Ji(e,3,0,!1)),
            Oi.addAttribute("uv", new Ji(e,2,3,!1))
        }
        this.geometry = Oi,
        this.material = void 0 !== t ? t : new Qi,
        this.center = new Ze(.5,.5)
    }
    function $i() {
        Pn.call(this),
        this.type = "LOD",
        Object.defineProperties(this, {
            levels: {
                enumerable: !0,
                value: []
            }
        })
    }
    function to(t, e) {
        if (t = t || [],
        this.bones = t.slice(0),
        this.boneMatrices = new Float32Array(16 * this.bones.length),
        void 0 === e)
            this.calculateInverses();
        else if (this.bones.length === e.length)
            this.boneInverses = e.slice(0);
        else {
            console.warn("THREE.Skeleton boneInverses is the wrong length."),
            this.boneInverses = [];
            for (var n = 0, r = this.bones.length; n < r; n++)
                this.boneInverses.push(new Je)
        }
    }
    function eo() {
        Pn.call(this),
        this.type = "Bone"
    }
    function no(t, e) {
        wr.call(this, t, e),
        this.type = "SkinnedMesh",
        this.bindMode = "attached",
        this.bindMatrix = new Je,
        this.bindMatrixInverse = new Je;
        var n = new to(this.initBones());
        this.bind(n, this.matrixWorld),
        this.normalizeSkinWeights()
    }
    function ro(t) {
        gr.call(this),
        this.type = "LineBasicMaterial",
        this.color = new _n(16777215),
        this.linewidth = 1,
        this.linecap = "round",
        this.linejoin = "round",
        this.lights = !1,
        this.setValues(t)
    }
    function io(t, e, n) {
        1 === n && console.error("THREE.Line: parameter THREE.LinePieces no longer supported. Use THREE.LineSegments instead."),
        Pn.call(this),
        this.type = "Line",
        this.geometry = void 0 !== t ? t : new tr,
        this.material = void 0 !== e ? e : new ro({
            color: 16777215 * Math.random()
        })
    }
    function oo(t, e) {
        io.call(this, t, e),
        this.type = "LineSegments"
    }
    function ao(t, e) {
        io.call(this, t, e),
        this.type = "LineLoop"
    }
    function so(t) {
        gr.call(this),
        this.type = "PointsMaterial",
        this.color = new _n(16777215),
        this.map = null,
        this.size = 1,
        this.sizeAttenuation = !0,
        this.morphTargets = !1,
        this.lights = !1,
        this.setValues(t)
    }
    function uo(t, e) {
        Pn.call(this),
        this.type = "Points",
        this.geometry = void 0 !== t ? t : new tr,
        this.material = void 0 !== e ? e : new so({
            color: 16777215 * Math.random()
        })
    }
    function co(t, e, n, r, i, o, a, s, u) {
        sn.call(this, t, e, n, r, i, o, a, s, u),
        this.generateMipmaps = !1
    }
    function fo(t, e, n, r, i, o, a, s, u, c, f, l) {
        sn.call(this, null, o, a, s, u, c, r, i, f, l),
        this.image = {
            width: e,
            height: n
        },
        this.mipmaps = t,
        this.flipY = !1,
        this.generateMipmaps = !1
    }
    function lo(t, e, n, r, i, o, a, s, u) {
        sn.call(this, t, e, n, r, i, o, a, s, u),
        this.needsUpdate = !0
    }
    function ho(t, e, n, r, i, o, a, s, u, c) {
        if ((c = void 0 !== c ? c : $t) !== $t && c !== te)
            throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");
        void 0 === n && c === $t && (n = zt),
        void 0 === n && c === te && (n = qt),
        sn.call(this, null, r, i, o, a, s, c, n, u),
        this.image = {
            width: t,
            height: e
        },
        this.magFilter = void 0 !== a ? a : Lt,
        this.minFilter = void 0 !== s ? s : Lt,
        this.flipY = !1,
        this.generateMipmaps = !1
    }
    function po(t) {
        tr.call(this),
        this.type = "WireframeGeometry";
        var e, n, r, i, o, a, s, u, c, f, l = [], h = [0, 0], d = {}, p = ["a", "b", "c"];
        if (t && t.isGeometry) {
            var m = t.faces;
            for (e = 0,
            r = m.length; e < r; e++) {
                var v = m[e];
                for (n = 0; n < 3; n++)
                    s = v[p[n]],
                    u = v[p[(n + 1) % 3]],
                    h[0] = Math.min(s, u),
                    h[1] = Math.max(s, u),
                    void 0 === d[c = h[0] + "," + h[1]] && (d[c] = {
                        index1: h[0],
                        index2: h[1]
                    })
            }
            for (c in d)
                a = d[c],
                f = t.vertices[a.index1],
                l.push(f.x, f.y, f.z),
                f = t.vertices[a.index2],
                l.push(f.x, f.y, f.z)
        } else if (t && t.isBufferGeometry) {
            var g, y, b, _, x, w, M;
            if (f = new Ke,
            null !== t.index) {
                for (g = t.attributes.position,
                y = t.index,
                0 === (b = t.groups).length && (b = [{
                    start: 0,
                    count: y.count,
                    materialIndex: 0
                }]),
                i = 0,
                o = b.length; i < o; ++i)
                    for (e = x = (_ = b[i]).start,
                    r = x + _.count; e < r; e += 3)
                        for (n = 0; n < 3; n++)
                            s = y.getX(e + n),
                            u = y.getX(e + (n + 1) % 3),
                            h[0] = Math.min(s, u),
                            h[1] = Math.max(s, u),
                            void 0 === d[c = h[0] + "," + h[1]] && (d[c] = {
                                index1: h[0],
                                index2: h[1]
                            });
                for (c in d)
                    a = d[c],
                    f.fromBufferAttribute(g, a.index1),
                    l.push(f.x, f.y, f.z),
                    f.fromBufferAttribute(g, a.index2),
                    l.push(f.x, f.y, f.z)
            } else
                for (e = 0,
                r = (g = t.attributes.position).count / 3; e < r; e++)
                    for (n = 0; n < 3; n++)
                        w = 3 * e + n,
                        f.fromBufferAttribute(g, w),
                        l.push(f.x, f.y, f.z),
                        M = 3 * e + (n + 1) % 3,
                        f.fromBufferAttribute(g, M),
                        l.push(f.x, f.y, f.z)
        }
        this.addAttribute("position", new Zn(l,3))
    }
    function mo(t, e, n) {
        kn.call(this),
        this.type = "ParametricGeometry",
        this.parameters = {
            func: t,
            slices: e,
            stacks: n
        },
        this.fromBufferGeometry(new vo(t,e,n)),
        this.mergeVertices()
    }
    function vo(t, e, n) {
        tr.call(this),
        this.type = "ParametricBufferGeometry",
        this.parameters = {
            func: t,
            slices: e,
            stacks: n
        };
        var r, i, o = [], a = [], s = [], u = [], c = new Ke, f = new Ke, l = new Ke, h = new Ke, d = new Ke;
        t.length < 3 && console.error("THREE.ParametricGeometry: Function must now modify a Vector3 as third parameter.");
        var p = e + 1;
        for (r = 0; r <= n; r++) {
            var m = r / n;
            for (i = 0; i <= e; i++) {
                var v = i / e;
                t(v, m, f),
                a.push(f.x, f.y, f.z),
                v - 1e-5 >= 0 ? (t(v - 1e-5, m, l),
                h.subVectors(f, l)) : (t(v + 1e-5, m, l),
                h.subVectors(l, f)),
                m - 1e-5 >= 0 ? (t(v, m - 1e-5, l),
                d.subVectors(f, l)) : (t(v, m + 1e-5, l),
                d.subVectors(l, f)),
                c.crossVectors(h, d).normalize(),
                s.push(c.x, c.y, c.z),
                u.push(v, m)
            }
        }
        for (r = 0; r < n; r++)
            for (i = 0; i < e; i++) {
                var g = r * p + i
                  , y = r * p + i + 1
                  , b = (r + 1) * p + i + 1
                  , _ = (r + 1) * p + i;
                o.push(g, y, _),
                o.push(y, b, _)
            }
        this.setIndex(o),
        this.addAttribute("position", new Zn(a,3)),
        this.addAttribute("normal", new Zn(s,3)),
        this.addAttribute("uv", new Zn(u,2))
    }
    function go(t, e, n, r) {
        kn.call(this),
        this.type = "PolyhedronGeometry",
        this.parameters = {
            vertices: t,
            indices: e,
            radius: n,
            detail: r
        },
        this.fromBufferGeometry(new yo(t,e,n,r)),
        this.mergeVertices()
    }
    function yo(t, e, n, r) {
        tr.call(this),
        this.type = "PolyhedronBufferGeometry",
        this.parameters = {
            vertices: t,
            indices: e,
            radius: n,
            detail: r
        },
        n = n || 1;
        var i = []
          , o = [];
        function a(t, e, n, r) {
            var i, o, a = Math.pow(2, r), u = [];
            for (i = 0; i <= a; i++) {
                u[i] = [];
                var c = t.clone().lerp(n, i / a)
                  , f = e.clone().lerp(n, i / a)
                  , l = a - i;
                for (o = 0; o <= l; o++)
                    u[i][o] = 0 === o && i === a ? c : c.clone().lerp(f, o / l)
            }
            for (i = 0; i < a; i++)
                for (o = 0; o < 2 * (a - i) - 1; o++) {
                    var h = Math.floor(o / 2);
                    o % 2 == 0 ? (s(u[i][h + 1]),
                    s(u[i + 1][h]),
                    s(u[i][h])) : (s(u[i][h + 1]),
                    s(u[i + 1][h + 1]),
                    s(u[i + 1][h]))
                }
        }
        function s(t) {
            i.push(t.x, t.y, t.z)
        }
        function u(e, n) {
            var r = 3 * e;
            n.x = t[r + 0],
            n.y = t[r + 1],
            n.z = t[r + 2]
        }
        function c(t, e, n, r) {
            r < 0 && 1 === t.x && (o[e] = t.x - 1),
            0 === n.x && 0 === n.z && (o[e] = r / 2 / Math.PI + .5)
        }
        function f(t) {
            return Math.atan2(t.z, -t.x)
        }
        !function(t) {
            for (var n = new Ke, r = new Ke, i = new Ke, o = 0; o < e.length; o += 3)
                u(e[o + 0], n),
                u(e[o + 1], r),
                u(e[o + 2], i),
                a(n, r, i, t)
        }(r = r || 0),
        function(t) {
            for (var e = new Ke, n = 0; n < i.length; n += 3)
                e.x = i[n + 0],
                e.y = i[n + 1],
                e.z = i[n + 2],
                e.normalize().multiplyScalar(t),
                i[n + 0] = e.x,
                i[n + 1] = e.y,
                i[n + 2] = e.z
        }(n),
        function() {
            for (var t = new Ke, e = 0; e < i.length; e += 3) {
                t.x = i[e + 0],
                t.y = i[e + 1],
                t.z = i[e + 2];
                var n = f(t) / 2 / Math.PI + .5
                  , r = (a = t,
                Math.atan2(-a.y, Math.sqrt(a.x * a.x + a.z * a.z)) / Math.PI + .5);
                o.push(n, 1 - r)
            }
            var a;
            (function() {
                for (var t = new Ke, e = new Ke, n = new Ke, r = new Ke, a = new Ze, s = new Ze, u = new Ze, l = 0, h = 0; l < i.length; l += 9,
                h += 6) {
                    t.set(i[l + 0], i[l + 1], i[l + 2]),
                    e.set(i[l + 3], i[l + 4], i[l + 5]),
                    n.set(i[l + 6], i[l + 7], i[l + 8]),
                    a.set(o[h + 0], o[h + 1]),
                    s.set(o[h + 2], o[h + 3]),
                    u.set(o[h + 4], o[h + 5]),
                    r.copy(t).add(e).add(n).divideScalar(3);
                    var d = f(r);
                    c(a, h + 0, t, d),
                    c(s, h + 2, e, d),
                    c(u, h + 4, n, d)
                }
            }
            )(),
            function() {
                for (var t = 0; t < o.length; t += 6) {
                    var e = o[t + 0]
                      , n = o[t + 2]
                      , r = o[t + 4]
                      , i = Math.max(e, n, r)
                      , a = Math.min(e, n, r);
                    i > .9 && a < .1 && (e < .2 && (o[t + 0] += 1),
                    n < .2 && (o[t + 2] += 1),
                    r < .2 && (o[t + 4] += 1))
                }
            }()
        }(),
        this.addAttribute("position", new Zn(i,3)),
        this.addAttribute("normal", new Zn(i.slice(),3)),
        this.addAttribute("uv", new Zn(o,2)),
        0 === r ? this.computeVertexNormals() : this.normalizeNormals()
    }
    function bo(t, e) {
        kn.call(this),
        this.type = "TetrahedronGeometry",
        this.parameters = {
            radius: t,
            detail: e
        },
        this.fromBufferGeometry(new _o(t,e)),
        this.mergeVertices()
    }
    function _o(t, e) {
        yo.call(this, [1, 1, 1, -1, -1, 1, -1, 1, -1, 1, -1, -1], [2, 1, 0, 0, 3, 2, 1, 3, 0, 2, 3, 1], t, e),
        this.type = "TetrahedronBufferGeometry",
        this.parameters = {
            radius: t,
            detail: e
        }
    }
    function xo(t, e) {
        kn.call(this),
        this.type = "OctahedronGeometry",
        this.parameters = {
            radius: t,
            detail: e
        },
        this.fromBufferGeometry(new wo(t,e)),
        this.mergeVertices()
    }
    function wo(t, e) {
        yo.call(this, [1, 0, 0, -1, 0, 0, 0, 1, 0, 0, -1, 0, 0, 0, 1, 0, 0, -1], [0, 2, 4, 0, 4, 3, 0, 3, 5, 0, 5, 2, 1, 2, 5, 1, 5, 3, 1, 3, 4, 1, 4, 2], t, e),
        this.type = "OctahedronBufferGeometry",
        this.parameters = {
            radius: t,
            detail: e
        }
    }
    function Mo(t, e) {
        kn.call(this),
        this.type = "IcosahedronGeometry",
        this.parameters = {
            radius: t,
            detail: e
        },
        this.fromBufferGeometry(new Eo(t,e)),
        this.mergeVertices()
    }
    function Eo(t, e) {
        var n = (1 + Math.sqrt(5)) / 2
          , r = [-1, n, 0, 1, n, 0, -1, -n, 0, 1, -n, 0, 0, -1, n, 0, 1, n, 0, -1, -n, 0, 1, -n, n, 0, -1, n, 0, 1, -n, 0, -1, -n, 0, 1];
        yo.call(this, r, [0, 11, 5, 0, 5, 1, 0, 1, 7, 0, 7, 10, 0, 10, 11, 1, 5, 9, 5, 11, 4, 11, 10, 2, 10, 7, 6, 7, 1, 8, 3, 9, 4, 3, 4, 2, 3, 2, 6, 3, 6, 8, 3, 8, 9, 4, 9, 5, 2, 4, 11, 6, 2, 10, 8, 6, 7, 9, 8, 1], t, e),
        this.type = "IcosahedronBufferGeometry",
        this.parameters = {
            radius: t,
            detail: e
        }
    }
    function To(t, e) {
        kn.call(this),
        this.type = "DodecahedronGeometry",
        this.parameters = {
            radius: t,
            detail: e
        },
        this.fromBufferGeometry(new So(t,e)),
        this.mergeVertices()
    }
    function So(t, e) {
        var n = (1 + Math.sqrt(5)) / 2
          , r = 1 / n
          , i = [-1, -1, -1, -1, -1, 1, -1, 1, -1, -1, 1, 1, 1, -1, -1, 1, -1, 1, 1, 1, -1, 1, 1, 1, 0, -r, -n, 0, -r, n, 0, r, -n, 0, r, n, -r, -n, 0, -r, n, 0, r, -n, 0, r, n, 0, -n, 0, -r, n, 0, -r, -n, 0, r, n, 0, r];
        yo.call(this, i, [3, 11, 7, 3, 7, 15, 3, 15, 13, 7, 19, 17, 7, 17, 6, 7, 6, 15, 17, 4, 8, 17, 8, 10, 17, 10, 6, 8, 0, 16, 8, 16, 2, 8, 2, 10, 0, 12, 1, 0, 1, 18, 0, 18, 16, 6, 10, 2, 6, 2, 13, 6, 13, 15, 2, 16, 18, 2, 18, 3, 2, 3, 13, 18, 1, 9, 18, 9, 11, 18, 11, 3, 4, 14, 12, 4, 12, 0, 4, 0, 8, 11, 9, 5, 11, 5, 19, 11, 19, 7, 19, 5, 14, 19, 14, 4, 19, 4, 17, 1, 12, 14, 1, 14, 5, 1, 5, 9], t, e),
        this.type = "DodecahedronBufferGeometry",
        this.parameters = {
            radius: t,
            detail: e
        }
    }
    function Oo(t, e, n, r, i, o) {
        kn.call(this),
        this.type = "TubeGeometry",
        this.parameters = {
            path: t,
            tubularSegments: e,
            radius: n,
            radialSegments: r,
            closed: i
        },
        void 0 !== o && console.warn("THREE.TubeGeometry: taper has been removed.");
        var a = new Ao(t,e,n,r,i);
        this.tangents = a.tangents,
        this.normals = a.normals,
        this.binormals = a.binormals,
        this.fromBufferGeometry(a),
        this.mergeVertices()
    }
    function Ao(t, e, n, r, i) {
        tr.call(this),
        this.type = "TubeBufferGeometry",
        this.parameters = {
            path: t,
            tubularSegments: e,
            radius: n,
            radialSegments: r,
            closed: i
        },
        e = e || 64,
        n = n || 1,
        r = r || 8,
        i = i || !1;
        var o = t.computeFrenetFrames(e, i);
        this.tangents = o.tangents,
        this.normals = o.normals,
        this.binormals = o.binormals;
        var a, s, u = new Ke, c = new Ke, f = new Ze, l = new Ke, h = [], d = [], p = [], m = [];
        function v(i) {
            l = t.getPointAt(i / e, l);
            var a = o.normals[i]
              , f = o.binormals[i];
            for (s = 0; s <= r; s++) {
                var p = s / r * Math.PI * 2
                  , m = Math.sin(p)
                  , v = -Math.cos(p);
                c.x = v * a.x + m * f.x,
                c.y = v * a.y + m * f.y,
                c.z = v * a.z + m * f.z,
                c.normalize(),
                d.push(c.x, c.y, c.z),
                u.x = l.x + n * c.x,
                u.y = l.y + n * c.y,
                u.z = l.z + n * c.z,
                h.push(u.x, u.y, u.z)
            }
        }
        !function() {
            for (a = 0; a < e; a++)
                v(a);
            v(!1 === i ? e : 0),
            function() {
                for (a = 0; a <= e; a++)
                    for (s = 0; s <= r; s++)
                        f.x = a / e,
                        f.y = s / r,
                        p.push(f.x, f.y)
            }(),
            function() {
                for (s = 1; s <= e; s++)
                    for (a = 1; a <= r; a++) {
                        var t = (r + 1) * (s - 1) + (a - 1)
                          , n = (r + 1) * s + (a - 1)
                          , i = (r + 1) * s + a
                          , o = (r + 1) * (s - 1) + a;
                        m.push(t, n, o),
                        m.push(n, i, o)
                    }
            }()
        }(),
        this.setIndex(m),
        this.addAttribute("position", new Zn(h,3)),
        this.addAttribute("normal", new Zn(d,3)),
        this.addAttribute("uv", new Zn(p,2))
    }
    function Lo(t, e, n, r, i, o, a) {
        kn.call(this),
        this.type = "TorusKnotGeometry",
        this.parameters = {
            radius: t,
            tube: e,
            tubularSegments: n,
            radialSegments: r,
            p: i,
            q: o
        },
        void 0 !== a && console.warn("THREE.TorusKnotGeometry: heightScale has been deprecated. Use .scale( x, y, z ) instead."),
        this.fromBufferGeometry(new Ro(t,e,n,r,i,o)),
        this.mergeVertices()
    }
    function Ro(t, e, n, r, i, o) {
        tr.call(this),
        this.type = "TorusKnotBufferGeometry",
        this.parameters = {
            radius: t,
            tube: e,
            tubularSegments: n,
            radialSegments: r,
            p: i,
            q: o
        },
        t = t || 1,
        e = e || .4,
        n = Math.floor(n) || 64,
        r = Math.floor(r) || 8,
        i = i || 2,
        o = o || 3;
        var a, s, u = [], c = [], f = [], l = [], h = new Ke, d = new Ke, p = new Ke, m = new Ke, v = new Ke, g = new Ke, y = new Ke;
        for (a = 0; a <= n; ++a) {
            var b = a / n * i * Math.PI * 2;
            for (O(b, i, o, t, p),
            O(b + .01, i, o, t, m),
            g.subVectors(m, p),
            y.addVectors(m, p),
            v.crossVectors(g, y),
            y.crossVectors(v, g),
            v.normalize(),
            y.normalize(),
            s = 0; s <= r; ++s) {
                var _ = s / r * Math.PI * 2
                  , x = -e * Math.cos(_)
                  , w = e * Math.sin(_);
                h.x = p.x + (x * y.x + w * v.x),
                h.y = p.y + (x * y.y + w * v.y),
                h.z = p.z + (x * y.z + w * v.z),
                c.push(h.x, h.y, h.z),
                d.subVectors(h, p).normalize(),
                f.push(d.x, d.y, d.z),
                l.push(a / n),
                l.push(s / r)
            }
        }
        for (s = 1; s <= n; s++)
            for (a = 1; a <= r; a++) {
                var M = (r + 1) * (s - 1) + (a - 1)
                  , E = (r + 1) * s + (a - 1)
                  , T = (r + 1) * s + a
                  , S = (r + 1) * (s - 1) + a;
                u.push(M, E, S),
                u.push(E, T, S)
            }
        function O(t, e, n, r, i) {
            var o = Math.cos(t)
              , a = Math.sin(t)
              , s = n / e * t
              , u = Math.cos(s);
            i.x = r * (2 + u) * .5 * o,
            i.y = r * (2 + u) * a * .5,
            i.z = r * Math.sin(s) * .5
        }
        this.setIndex(u),
        this.addAttribute("position", new Zn(c,3)),
        this.addAttribute("normal", new Zn(f,3)),
        this.addAttribute("uv", new Zn(l,2))
    }
    function Co(t, e, n, r, i) {
        kn.call(this),
        this.type = "TorusGeometry",
        this.parameters = {
            radius: t,
            tube: e,
            radialSegments: n,
            tubularSegments: r,
            arc: i
        },
        this.fromBufferGeometry(new jo(t,e,n,r,i)),
        this.mergeVertices()
    }
    function jo(t, e, n, r, i) {
        tr.call(this),
        this.type = "TorusBufferGeometry",
        this.parameters = {
            radius: t,
            tube: e,
            radialSegments: n,
            tubularSegments: r,
            arc: i
        },
        t = t || 1,
        e = e || .4,
        n = Math.floor(n) || 8,
        r = Math.floor(r) || 6,
        i = i || 2 * Math.PI;
        var o, a, s = [], u = [], c = [], f = [], l = new Ke, h = new Ke, d = new Ke;
        for (o = 0; o <= n; o++)
            for (a = 0; a <= r; a++) {
                var p = a / r * i
                  , m = o / n * Math.PI * 2;
                h.x = (t + e * Math.cos(m)) * Math.cos(p),
                h.y = (t + e * Math.cos(m)) * Math.sin(p),
                h.z = e * Math.sin(m),
                u.push(h.x, h.y, h.z),
                l.x = t * Math.cos(p),
                l.y = t * Math.sin(p),
                d.subVectors(h, l).normalize(),
                c.push(d.x, d.y, d.z),
                f.push(a / r),
                f.push(o / n)
            }
        for (o = 1; o <= n; o++)
            for (a = 1; a <= r; a++) {
                var v = (r + 1) * o + a - 1
                  , g = (r + 1) * (o - 1) + a - 1
                  , y = (r + 1) * (o - 1) + a
                  , b = (r + 1) * o + a;
                s.push(v, g, b),
                s.push(g, y, b)
            }
        this.setIndex(s),
        this.addAttribute("position", new Zn(u,3)),
        this.addAttribute("normal", new Zn(c,3)),
        this.addAttribute("uv", new Zn(f,2))
    }
    Di.prototype = Object.create(gr.prototype),
    Di.prototype.constructor = Di,
    Di.prototype.isMeshDepthMaterial = !0,
    Di.prototype.copy = function(t) {
        return gr.prototype.copy.call(this, t),
        this.depthPacking = t.depthPacking,
        this.skinning = t.skinning,
        this.morphTargets = t.morphTargets,
        this.map = t.map,
        this.alphaMap = t.alphaMap,
        this.displacementMap = t.displacementMap,
        this.displacementScale = t.displacementScale,
        this.displacementBias = t.displacementBias,
        this.wireframe = t.wireframe,
        this.wireframeLinewidth = t.wireframeLinewidth,
        this
    }
    ,
    Ui.prototype = Object.create(gr.prototype),
    Ui.prototype.constructor = Ui,
    Ui.prototype.isMeshDistanceMaterial = !0,
    Ui.prototype.copy = function(t) {
        return gr.prototype.copy.call(this, t),
        this.referencePosition.copy(t.referencePosition),
        this.nearDistance = t.nearDistance,
        this.farDistance = t.farDistance,
        this.skinning = t.skinning,
        this.morphTargets = t.morphTargets,
        this.map = t.map,
        this.alphaMap = t.alphaMap,
        this.displacementMap = t.displacementMap,
        this.displacementScale = t.displacementScale,
        this.displacementBias = t.displacementBias,
        this
    }
    ,
    Fi.prototype = Object.assign(Object.create(Pn.prototype), {
        constructor: Fi,
        isGroup: !0
    }),
    Gi.prototype = Object.assign(Object.create(Nn.prototype), {
        constructor: Gi,
        isPerspectiveCamera: !0,
        copy: function(t, e) {
            return Nn.prototype.copy.call(this, t, e),
            this.fov = t.fov,
            this.zoom = t.zoom,
            this.near = t.near,
            this.far = t.far,
            this.focus = t.focus,
            this.aspect = t.aspect,
            this.view = null === t.view ? null : Object.assign({}, t.view),
            this.filmGauge = t.filmGauge,
            this.filmOffset = t.filmOffset,
            this
        },
        setFocalLength: function(t) {
            var e = .5 * this.getFilmHeight() / t;
            this.fov = 2 * Ye.RAD2DEG * Math.atan(e),
            this.updateProjectionMatrix()
        },
        getFocalLength: function() {
            var t = Math.tan(.5 * Ye.DEG2RAD * this.fov);
            return .5 * this.getFilmHeight() / t
        },
        getEffectiveFOV: function() {
            return 2 * Ye.RAD2DEG * Math.atan(Math.tan(.5 * Ye.DEG2RAD * this.fov) / this.zoom)
        },
        getFilmWidth: function() {
            return this.filmGauge * Math.min(this.aspect, 1)
        },
        getFilmHeight: function() {
            return this.filmGauge / Math.max(this.aspect, 1)
        },
        setViewOffset: function(t, e, n, r, i, o) {
            this.aspect = t / e,
            null === this.view && (this.view = {
                enabled: !0,
                fullWidth: 1,
                fullHeight: 1,
                offsetX: 0,
                offsetY: 0,
                width: 1,
                height: 1
            }),
            this.view.enabled = !0,
            this.view.fullWidth = t,
            this.view.fullHeight = e,
            this.view.offsetX = n,
            this.view.offsetY = r,
            this.view.width = i,
            this.view.height = o,
            this.updateProjectionMatrix()
        },
        clearViewOffset: function() {
            null !== this.view && (this.view.enabled = !1),
            this.updateProjectionMatrix()
        },
        updateProjectionMatrix: function() {
            var t = this.near
              , e = t * Math.tan(.5 * Ye.DEG2RAD * this.fov) / this.zoom
              , n = 2 * e
              , r = this.aspect * n
              , i = -.5 * r
              , o = this.view;
            if (null !== this.view && this.view.enabled) {
                var a = o.fullWidth
                  , s = o.fullHeight;
                i += o.offsetX * r / a,
                e -= o.offsetY * n / s,
                r *= o.width / a,
                n *= o.height / s
            }
            var u = this.filmOffset;
            0 !== u && (i += t * u / this.getFilmWidth()),
            this.projectionMatrix.makePerspective(i, i + r, e, e - n, t, this.far)
        },
        toJSON: function(t) {
            var e = Pn.prototype.toJSON.call(this, t);
            return e.object.fov = this.fov,
            e.object.zoom = this.zoom,
            e.object.near = this.near,
            e.object.far = this.far,
            e.object.focus = this.focus,
            e.object.aspect = this.aspect,
            null !== this.view && (e.object.view = Object.assign({}, this.view)),
            e.object.filmGauge = this.filmGauge,
            e.object.filmOffset = this.filmOffset,
            e
        }
    }),
    Hi.prototype = Object.assign(Object.create(Gi.prototype), {
        constructor: Hi,
        isArrayCamera: !0
    }),
    qi.prototype.isFogExp2 = !0,
    qi.prototype.clone = function() {
        return new qi(this.color,this.density)
    }
    ,
    qi.prototype.toJSON = function() {
        return {
            type: "FogExp2",
            color: this.color.getHex(),
            density: this.density
        }
    }
    ,
    Xi.prototype.isFog = !0,
    Xi.prototype.clone = function() {
        return new Xi(this.color,this.near,this.far)
    }
    ,
    Xi.prototype.toJSON = function() {
        return {
            type: "Fog",
            color: this.color.getHex(),
            near: this.near,
            far: this.far
        }
    }
    ,
    Yi.prototype = Object.assign(Object.create(Pn.prototype), {
        constructor: Yi,
        copy: function(t, e) {
            return Pn.prototype.copy.call(this, t, e),
            null !== t.background && (this.background = t.background.clone()),
            null !== t.fog && (this.fog = t.fog.clone()),
            null !== t.overrideMaterial && (this.overrideMaterial = t.overrideMaterial.clone()),
            this.autoUpdate = t.autoUpdate,
            this.matrixAutoUpdate = t.matrixAutoUpdate,
            this
        },
        toJSON: function(t) {
            var e = Pn.prototype.toJSON.call(this, t);
            return null !== this.background && (e.object.background = this.background.toJSON(t)),
            null !== this.fog && (e.object.fog = this.fog.toJSON()),
            e
        }
    }),
    Object.defineProperty(Zi.prototype, "needsUpdate", {
        set: function(t) {
            !0 === t && this.version++
        }
    }),
    Object.assign(Zi.prototype, {
        isInterleavedBuffer: !0,
        onUploadCallback: function() {},
        setArray: function(t) {
            if (Array.isArray(t))
                throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");
            return this.count = void 0 !== t ? t.length / this.stride : 0,
            this.array = t,
            this
        },
        setDynamic: function(t) {
            return this.dynamic = t,
            this
        },
        copy: function(t) {
            return this.array = new t.array.constructor(t.array),
            this.count = t.count,
            this.stride = t.stride,
            this.dynamic = t.dynamic,
            this
        },
        copyAt: function(t, e, n) {
            t *= this.stride,
            n *= e.stride;
            for (var r = 0, i = this.stride; r < i; r++)
                this.array[t + r] = e.array[n + r];
            return this
        },
        set: function(t, e) {
            return void 0 === e && (e = 0),
            this.array.set(t, e),
            this
        },
        clone: function() {
            return (new this.constructor).copy(this)
        },
        onUpload: function(t) {
            return this.onUploadCallback = t,
            this
        }
    }),
    Object.defineProperties(Ji.prototype, {
        count: {
            get: function() {
                return this.data.count
            }
        },
        array: {
            get: function() {
                return this.data.array
            }
        }
    }),
    Object.assign(Ji.prototype, {
        isInterleavedBufferAttribute: !0,
        setX: function(t, e) {
            return this.data.array[t * this.data.stride + this.offset] = e,
            this
        },
        setY: function(t, e) {
            return this.data.array[t * this.data.stride + this.offset + 1] = e,
            this
        },
        setZ: function(t, e) {
            return this.data.array[t * this.data.stride + this.offset + 2] = e,
            this
        },
        setW: function(t, e) {
            return this.data.array[t * this.data.stride + this.offset + 3] = e,
            this
        },
        getX: function(t) {
            return this.data.array[t * this.data.stride + this.offset]
        },
        getY: function(t) {
            return this.data.array[t * this.data.stride + this.offset + 1]
        },
        getZ: function(t) {
            return this.data.array[t * this.data.stride + this.offset + 2]
        },
        getW: function(t) {
            return this.data.array[t * this.data.stride + this.offset + 3]
        },
        setXY: function(t, e, n) {
            return t = t * this.data.stride + this.offset,
            this.data.array[t + 0] = e,
            this.data.array[t + 1] = n,
            this
        },
        setXYZ: function(t, e, n, r) {
            return t = t * this.data.stride + this.offset,
            this.data.array[t + 0] = e,
            this.data.array[t + 1] = n,
            this.data.array[t + 2] = r,
            this
        },
        setXYZW: function(t, e, n, r, i) {
            return t = t * this.data.stride + this.offset,
            this.data.array[t + 0] = e,
            this.data.array[t + 1] = n,
            this.data.array[t + 2] = r,
            this.data.array[t + 3] = i,
            this
        }
    }),
    Qi.prototype = Object.create(gr.prototype),
    Qi.prototype.constructor = Qi,
    Qi.prototype.isSpriteMaterial = !0,
    Qi.prototype.copy = function(t) {
        return gr.prototype.copy.call(this, t),
        this.color.copy(t.color),
        this.map = t.map,
        this.rotation = t.rotation,
        this
    }
    ,
    Ki.prototype = Object.assign(Object.create(Pn.prototype), {
        constructor: Ki,
        isSprite: !0,
        raycast: function() {
            var t = new Ke
              , e = new Ke
              , n = new Ke
              , r = new Ze
              , i = new Ze
              , o = new Je
              , a = new Ke
              , s = new Ke
              , u = new Ke;
            function c(t, e, n, a, s, u) {
                r.subVectors(t, n).addScalar(.5).multiply(a),
                void 0 !== s ? (i.x = u * r.x - s * r.y,
                i.y = s * r.x + u * r.y) : i.copy(r),
                t.copy(e),
                t.x += i.x,
                t.y += i.y,
                t.applyMatrix4(o)
            }
            return function(r, i) {
                e.setFromMatrixScale(this.matrixWorld),
                o.getInverse(this.modelViewMatrix).premultiply(this.matrixWorld),
                n.setFromMatrixPosition(this.modelViewMatrix);
                var f, l, h = this.material.rotation;
                0 !== h && (l = Math.cos(h),
                f = Math.sin(h));
                var d = this.center;
                c(a.set(-.5, -.5, 0), n, d, e, f, l),
                c(s.set(.5, -.5, 0), n, d, e, f, l),
                c(u.set(.5, .5, 0), n, d, e, f, l);
                var p = r.ray.intersectTriangle(a, s, u, !1, t);
                if (null !== p || (c(s.set(-.5, .5, 0), n, d, e, f, l),
                null !== (p = r.ray.intersectTriangle(a, u, s, !1, t)))) {
                    var m = r.ray.origin.distanceTo(t);
                    m < r.near || m > r.far || i.push({
                        distance: m,
                        point: t.clone(),
                        face: null,
                        object: this
                    })
                }
            }
        }(),
        clone: function() {
            return new this.constructor(this.material).copy(this)
        },
        copy: function(t) {
            return Pn.prototype.copy.call(this, t),
            void 0 !== t.center && this.center.copy(t.center),
            this
        }
    }),
    $i.prototype = Object.assign(Object.create(Pn.prototype), {
        constructor: $i,
        copy: function(t) {
            Pn.prototype.copy.call(this, t, !1);
            for (var e = t.levels, n = 0, r = e.length; n < r; n++) {
                var i = e[n];
                this.addLevel(i.object.clone(), i.distance)
            }
            return this
        },
        addLevel: function(t, e) {
            void 0 === e && (e = 0),
            e = Math.abs(e);
            for (var n = this.levels, r = 0; r < n.length && !(e < n[r].distance); r++)
                ;
            n.splice(r, 0, {
                distance: e,
                object: t
            }),
            this.add(t)
        },
        getObjectForDistance: function(t) {
            for (var e = this.levels, n = 1, r = e.length; n < r && !(t < e[n].distance); n++)
                ;
            return e[n - 1].object
        },
        raycast: (Ai = new Ke,
        function(t, e) {
            Ai.setFromMatrixPosition(this.matrixWorld);
            var n = t.ray.origin.distanceTo(Ai);
            this.getObjectForDistance(n).raycast(t, e)
        }
        ),
        update: function() {
            var t = new Ke
              , e = new Ke;
            return function(n) {
                var r = this.levels;
                if (r.length > 1) {
                    t.setFromMatrixPosition(n.matrixWorld),
                    e.setFromMatrixPosition(this.matrixWorld);
                    var i = t.distanceTo(e);
                    r[0].object.visible = !0;
                    for (var o = 1, a = r.length; o < a && i >= r[o].distance; o++)
                        r[o - 1].object.visible = !1,
                        r[o].object.visible = !0;
                    for (; o < a; o++)
                        r[o].object.visible = !1
                }
            }
        }(),
        toJSON: function(t) {
            var e = Pn.prototype.toJSON.call(this, t);
            e.object.levels = [];
            for (var n = this.levels, r = 0, i = n.length; r < i; r++) {
                var o = n[r];
                e.object.levels.push({
                    object: o.object.uuid,
                    distance: o.distance
                })
            }
            return e
        }
    }),
    Object.assign(to.prototype, {
        calculateInverses: function() {
            this.boneInverses = [];
            for (var t = 0, e = this.bones.length; t < e; t++) {
                var n = new Je;
                this.bones[t] && n.getInverse(this.bones[t].matrixWorld),
                this.boneInverses.push(n)
            }
        },
        pose: function() {
            var t, e, n;
            for (e = 0,
            n = this.bones.length; e < n; e++)
                (t = this.bones[e]) && t.matrixWorld.getInverse(this.boneInverses[e]);
            for (e = 0,
            n = this.bones.length; e < n; e++)
                (t = this.bones[e]) && (t.parent && t.parent.isBone ? (t.matrix.getInverse(t.parent.matrixWorld),
                t.matrix.multiply(t.matrixWorld)) : t.matrix.copy(t.matrixWorld),
                t.matrix.decompose(t.position, t.quaternion, t.scale))
        },
        update: (Li = new Je,
        Ri = new Je,
        function() {
            for (var t = this.bones, e = this.boneInverses, n = this.boneMatrices, r = this.boneTexture, i = 0, o = t.length; i < o; i++) {
                var a = t[i] ? t[i].matrixWorld : Ri;
                Li.multiplyMatrices(a, e[i]),
                Li.toArray(n, 16 * i)
            }
            void 0 !== r && (r.needsUpdate = !0)
        }
        ),
        clone: function() {
            return new to(this.bones,this.boneInverses)
        },
        getBoneByName: function(t) {
            for (var e = 0, n = this.bones.length; e < n; e++) {
                var r = this.bones[e];
                if (r.name === t)
                    return r
            }
        }
    }),
    eo.prototype = Object.assign(Object.create(Pn.prototype), {
        constructor: eo,
        isBone: !0
    }),
    no.prototype = Object.assign(Object.create(wr.prototype), {
        constructor: no,
        isSkinnedMesh: !0,
        initBones: function() {
            var t, e, n, r, i = [];
            if (this.geometry && void 0 !== this.geometry.bones) {
                for (n = 0,
                r = this.geometry.bones.length; n < r; n++)
                    e = this.geometry.bones[n],
                    t = new eo,
                    i.push(t),
                    t.name = e.name,
                    t.position.fromArray(e.pos),
                    t.quaternion.fromArray(e.rotq),
                    void 0 !== e.scl && t.scale.fromArray(e.scl);
                for (n = 0,
                r = this.geometry.bones.length; n < r; n++)
                    -1 !== (e = this.geometry.bones[n]).parent && null !== e.parent && void 0 !== i[e.parent] ? i[e.parent].add(i[n]) : this.add(i[n])
            }
            return this.updateMatrixWorld(!0),
            i
        },
        bind: function(t, e) {
            this.skeleton = t,
            void 0 === e && (this.updateMatrixWorld(!0),
            this.skeleton.calculateInverses(),
            e = this.matrixWorld),
            this.bindMatrix.copy(e),
            this.bindMatrixInverse.getInverse(e)
        },
        pose: function() {
            this.skeleton.pose()
        },
        normalizeSkinWeights: function() {
            var t, e;
            if (this.geometry && this.geometry.isGeometry)
                for (e = 0; e < this.geometry.skinWeights.length; e++) {
                    var n = this.geometry.skinWeights[e];
                    (t = 1 / n.manhattanLength()) !== 1 / 0 ? n.multiplyScalar(t) : n.set(1, 0, 0, 0)
                }
            else if (this.geometry && this.geometry.isBufferGeometry) {
                var r = new un
                  , i = this.geometry.attributes.skinWeight;
                for (e = 0; e < i.count; e++)
                    r.x = i.getX(e),
                    r.y = i.getY(e),
                    r.z = i.getZ(e),
                    r.w = i.getW(e),
                    (t = 1 / r.manhattanLength()) !== 1 / 0 ? r.multiplyScalar(t) : r.set(1, 0, 0, 0),
                    i.setXYZW(e, r.x, r.y, r.z, r.w)
            }
        },
        updateMatrixWorld: function(t) {
            wr.prototype.updateMatrixWorld.call(this, t),
            "attached" === this.bindMode ? this.bindMatrixInverse.getInverse(this.matrixWorld) : "detached" === this.bindMode ? this.bindMatrixInverse.getInverse(this.bindMatrix) : console.warn("THREE.SkinnedMesh: Unrecognized bindMode: " + this.bindMode)
        },
        clone: function() {
            return new this.constructor(this.geometry,this.material).copy(this)
        }
    }),
    ro.prototype = Object.create(gr.prototype),
    ro.prototype.constructor = ro,
    ro.prototype.isLineBasicMaterial = !0,
    ro.prototype.copy = function(t) {
        return gr.prototype.copy.call(this, t),
        this.color.copy(t.color),
        this.linewidth = t.linewidth,
        this.linecap = t.linecap,
        this.linejoin = t.linejoin,
        this
    }
    ,
    io.prototype = Object.assign(Object.create(Pn.prototype), {
        constructor: io,
        isLine: !0,
        computeLineDistances: (Ci = new Ke,
        ji = new Ke,
        function() {
            var t = this.geometry;
            if (t.isBufferGeometry)
                if (null === t.index) {
                    for (var e = t.attributes.position, n = [0], r = 1, i = e.count; r < i; r++)
                        Ci.fromBufferAttribute(e, r - 1),
                        ji.fromBufferAttribute(e, r),
                        n[r] = n[r - 1],
                        n[r] += Ci.distanceTo(ji);
                    t.addAttribute("lineDistance", new Zn(n,1))
                } else
                    console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");
            else if (t.isGeometry) {
                var o = t.vertices;
                for ((n = t.lineDistances)[0] = 0,
                r = 1,
                i = o.length; r < i; r++)
                    n[r] = n[r - 1],
                    n[r] += o[r - 1].distanceTo(o[r])
            }
            return this
        }
        ),
        raycast: function() {
            var t = new Je
              , e = new _r
              , n = new dn;
            return function(r, i) {
                var o = r.linePrecision
                  , a = o * o
                  , s = this.geometry
                  , u = this.matrixWorld;
                if (null === s.boundingSphere && s.computeBoundingSphere(),
                n.copy(s.boundingSphere),
                n.applyMatrix4(u),
                !1 !== r.ray.intersectsSphere(n)) {
                    t.getInverse(u),
                    e.copy(r.ray).applyMatrix4(t);
                    var c = new Ke
                      , f = new Ke
                      , l = new Ke
                      , h = new Ke
                      , d = this && this.isLineSegments ? 2 : 1;
                    if (s.isBufferGeometry) {
                        var p = s.index
                          , m = s.attributes.position.array;
                        if (null !== p)
                            for (var v = p.array, g = 0, y = v.length - 1; g < y; g += d) {
                                var b = v[g]
                                  , _ = v[g + 1];
                                if (c.fromArray(m, 3 * b),
                                f.fromArray(m, 3 * _),
                                !(e.distanceSqToSegment(c, f, h, l) > a))
                                    h.applyMatrix4(this.matrixWorld),
                                    (M = r.ray.origin.distanceTo(h)) < r.near || M > r.far || i.push({
                                        distance: M,
                                        point: l.clone().applyMatrix4(this.matrixWorld),
                                        index: g,
                                        face: null,
                                        faceIndex: null,
                                        object: this
                                    })
                            }
                        else
                            for (g = 0,
                            y = m.length / 3 - 1; g < y; g += d) {
                                if (c.fromArray(m, 3 * g),
                                f.fromArray(m, 3 * g + 3),
                                !(e.distanceSqToSegment(c, f, h, l) > a))
                                    h.applyMatrix4(this.matrixWorld),
                                    (M = r.ray.origin.distanceTo(h)) < r.near || M > r.far || i.push({
                                        distance: M,
                                        point: l.clone().applyMatrix4(this.matrixWorld),
                                        index: g,
                                        face: null,
                                        faceIndex: null,
                                        object: this
                                    })
                            }
                    } else if (s.isGeometry) {
                        var x = s.vertices
                          , w = x.length;
                        for (g = 0; g < w - 1; g += d) {
                            var M;
                            if (!(e.distanceSqToSegment(x[g], x[g + 1], h, l) > a))
                                h.applyMatrix4(this.matrixWorld),
                                (M = r.ray.origin.distanceTo(h)) < r.near || M > r.far || i.push({
                                    distance: M,
                                    point: l.clone().applyMatrix4(this.matrixWorld),
                                    index: g,
                                    face: null,
                                    faceIndex: null,
                                    object: this
                                })
                        }
                    }
                }
            }
        }(),
        clone: function() {
            return new this.constructor(this.geometry,this.material).copy(this)
        }
    }),
    oo.prototype = Object.assign(Object.create(io.prototype), {
        constructor: oo,
        isLineSegments: !0,
        computeLineDistances: function() {
            var t = new Ke
              , e = new Ke;
            return function() {
                var n = this.geometry;
                if (n.isBufferGeometry)
                    if (null === n.index) {
                        for (var r = n.attributes.position, i = [], o = 0, a = r.count; o < a; o += 2)
                            t.fromBufferAttribute(r, o),
                            e.fromBufferAttribute(r, o + 1),
                            i[o] = 0 === o ? 0 : i[o - 1],
                            i[o + 1] = i[o] + t.distanceTo(e);
                        n.addAttribute("lineDistance", new Zn(i,1))
                    } else
                        console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");
                else if (n.isGeometry) {
                    var s = n.vertices;
                    for (i = n.lineDistances,
                    o = 0,
                    a = s.length; o < a; o += 2)
                        t.copy(s[o]),
                        e.copy(s[o + 1]),
                        i[o] = 0 === o ? 0 : i[o - 1],
                        i[o + 1] = i[o] + t.distanceTo(e)
                }
                return this
            }
        }()
    }),
    ao.prototype = Object.assign(Object.create(io.prototype), {
        constructor: ao,
        isLineLoop: !0
    }),
    so.prototype = Object.create(gr.prototype),
    so.prototype.constructor = so,
    so.prototype.isPointsMaterial = !0,
    so.prototype.copy = function(t) {
        return gr.prototype.copy.call(this, t),
        this.color.copy(t.color),
        this.map = t.map,
        this.size = t.size,
        this.sizeAttenuation = t.sizeAttenuation,
        this.morphTargets = t.morphTargets,
        this
    }
    ,
    uo.prototype = Object.assign(Object.create(Pn.prototype), {
        constructor: uo,
        isPoints: !0,
        raycast: function() {
            var t = new Je
              , e = new _r
              , n = new dn;
            return function(r, i) {
                var o = this
                  , a = this.geometry
                  , s = this.matrixWorld
                  , u = r.params.Points.threshold;
                if (null === a.boundingSphere && a.computeBoundingSphere(),
                n.copy(a.boundingSphere),
                n.applyMatrix4(s),
                n.radius += u,
                !1 !== r.ray.intersectsSphere(n)) {
                    t.getInverse(s),
                    e.copy(r.ray).applyMatrix4(t);
                    var c = u / ((this.scale.x + this.scale.y + this.scale.z) / 3)
                      , f = c * c
                      , l = new Ke
                      , h = new Ke;
                    if (a.isBufferGeometry) {
                        var d = a.index
                          , p = a.attributes.position.array;
                        if (null !== d)
                            for (var m = d.array, v = 0, g = m.length; v < g; v++) {
                                var y = m[v];
                                l.fromArray(p, 3 * y),
                                x(l, y)
                            }
                        else {
                            v = 0;
                            for (var b = p.length / 3; v < b; v++)
                                l.fromArray(p, 3 * v),
                                x(l, v)
                        }
                    } else {
                        var _ = a.vertices;
                        for (v = 0,
                        b = _.length; v < b; v++)
                            x(_[v], v)
                    }
                }
                function x(t, n) {
                    var a = e.distanceSqToPoint(t);
                    if (a < f) {
                        e.closestPointToPoint(t, h),
                        h.applyMatrix4(s);
                        var u = r.ray.origin.distanceTo(h);
                        if (u < r.near || u > r.far)
                            return;
                        i.push({
                            distance: u,
                            distanceToRay: Math.sqrt(a),
                            point: h.clone(),
                            index: n,
                            face: null,
                            object: o
                        })
                    }
                }
            }
        }(),
        clone: function() {
            return new this.constructor(this.geometry,this.material).copy(this)
        }
    }),
    co.prototype = Object.assign(Object.create(sn.prototype), {
        constructor: co,
        isVideoTexture: !0,
        update: function() {
            var t = this.image;
            t.readyState >= t.HAVE_CURRENT_DATA && (this.needsUpdate = !0)
        }
    }),
    fo.prototype = Object.create(sn.prototype),
    fo.prototype.constructor = fo,
    fo.prototype.isCompressedTexture = !0,
    lo.prototype = Object.create(sn.prototype),
    lo.prototype.constructor = lo,
    lo.prototype.isCanvasTexture = !0,
    ho.prototype = Object.create(sn.prototype),
    ho.prototype.constructor = ho,
    ho.prototype.isDepthTexture = !0,
    po.prototype = Object.create(tr.prototype),
    po.prototype.constructor = po,
    mo.prototype = Object.create(kn.prototype),
    mo.prototype.constructor = mo,
    vo.prototype = Object.create(tr.prototype),
    vo.prototype.constructor = vo,
    go.prototype = Object.create(kn.prototype),
    go.prototype.constructor = go,
    yo.prototype = Object.create(tr.prototype),
    yo.prototype.constructor = yo,
    bo.prototype = Object.create(kn.prototype),
    bo.prototype.constructor = bo,
    _o.prototype = Object.create(yo.prototype),
    _o.prototype.constructor = _o,
    xo.prototype = Object.create(kn.prototype),
    xo.prototype.constructor = xo,
    wo.prototype = Object.create(yo.prototype),
    wo.prototype.constructor = wo,
    Mo.prototype = Object.create(kn.prototype),
    Mo.prototype.constructor = Mo,
    Eo.prototype = Object.create(yo.prototype),
    Eo.prototype.constructor = Eo,
    To.prototype = Object.create(kn.prototype),
    To.prototype.constructor = To,
    So.prototype = Object.create(yo.prototype),
    So.prototype.constructor = So,
    Oo.prototype = Object.create(kn.prototype),
    Oo.prototype.constructor = Oo,
    Ao.prototype = Object.create(tr.prototype),
    Ao.prototype.constructor = Ao,
    Lo.prototype = Object.create(kn.prototype),
    Lo.prototype.constructor = Lo,
    Ro.prototype = Object.create(tr.prototype),
    Ro.prototype.constructor = Ro,
    Co.prototype = Object.create(kn.prototype),
    Co.prototype.constructor = Co,
    jo.prototype = Object.create(tr.prototype),
    jo.prototype.constructor = jo;
    var Po = function(t, e, n) {
        n = n || 2;
        var r, i, o, a, s, u, c, f = e && e.length, l = f ? e[0] * n : t.length, h = No(t, 0, l, n, !0), d = [];
        if (!h)
            return d;
        if (f && (h = function(t, e, n, r) {
            var i, o, a, s, u, c = [];
            for (i = 0,
            o = e.length; i < o; i++)
                a = e[i] * r,
                s = i < o - 1 ? e[i + 1] * r : t.length,
                (u = No(t, a, s, r, !1)) === u.next && (u.steiner = !0),
                c.push(Vo(u));
            for (c.sort(Fo),
            i = 0; i < c.length; i++)
                Go(c[i], n),
                n = Io(n, n.next);
            return n
        }(t, e, h, n)),
        t.length > 80 * n) {
            r = o = t[0],
            i = a = t[1];
            for (var p = n; p < l; p += n)
                s = t[p],
                u = t[p + 1],
                s < r && (r = s),
                u < i && (i = u),
                s > o && (o = s),
                u > a && (a = u);
            c = 0 !== (c = Math.max(o - r, a - i)) ? 1 / c : 0
        }
        return Do(h, d, n, r, i, c),
        d
    };
    function No(t, e, n, r, i) {
        var o, a;
        if (i === function(t, e, n, r) {
            for (var i = 0, o = e, a = n - r; o < n; o += r)
                i += (t[a] - t[o]) * (t[o + 1] + t[a + 1]),
                a = o;
            return i
        }(t, e, n, r) > 0)
            for (o = e; o < n; o += r)
                a = Ko(o, t[o], t[o + 1], a);
        else
            for (o = n - r; o >= e; o -= r)
                a = Ko(o, t[o], t[o + 1], a);
        return a && Yo(a, a.next) && ($o(a),
        a = a.next),
        a
    }
    function Io(t, e) {
        if (!t)
            return t;
        e || (e = t);
        var n, r = t;
        do {
            if (n = !1,
            r.steiner || !Yo(r, r.next) && 0 !== Xo(r.prev, r, r.next))
                r = r.next;
            else {
                if ($o(r),
                (r = e = r.prev) === r.next)
                    break;
                n = !0
            }
        } while (n || r !== e);return e
    }
    function Do(t, e, n, r, i, o, a) {
        if (t) {
            !a && o && function(t, e, n, r) {
                var i = t;
                do {
                    null === i.z && (i.z = Ho(i.x, i.y, e, n, r)),
                    i.prevZ = i.prev,
                    i.nextZ = i.next,
                    i = i.next
                } while (i !== t);i.prevZ.nextZ = null,
                i.prevZ = null,
                function(t) {
                    var e, n, r, i, o, a, s, u, c = 1;
                    do {
                        for (n = t,
                        t = null,
                        o = null,
                        a = 0; n; ) {
                            for (a++,
                            r = n,
                            s = 0,
                            e = 0; e < c && (s++,
                            r = r.nextZ); e++)
                                ;
                            for (u = c; s > 0 || u > 0 && r; )
                                0 !== s && (0 === u || !r || n.z <= r.z) ? (i = n,
                                n = n.nextZ,
                                s--) : (i = r,
                                r = r.nextZ,
                                u--),
                                o ? o.nextZ = i : t = i,
                                i.prevZ = o,
                                o = i;
                            n = r
                        }
                        o.nextZ = null,
                        c *= 2
                    } while (a > 1)
                }(i)
            }(t, r, i, o);
            for (var s, u, c = t; t.prev !== t.next; )
                if (s = t.prev,
                u = t.next,
                o ? zo(t, r, i, o) : Uo(t))
                    e.push(s.i / n),
                    e.push(t.i / n),
                    e.push(u.i / n),
                    $o(t),
                    t = u.next,
                    c = u.next;
                else if ((t = u) === c) {
                    a ? 1 === a ? Do(t = Bo(t, e, n), e, n, r, i, o, 2) : 2 === a && ko(t, e, n, r, i, o) : Do(Io(t), e, n, r, i, o, 1);
                    break
                }
        }
    }
    function Uo(t) {
        var e = t.prev
          , n = t
          , r = t.next;
        if (Xo(e, n, r) >= 0)
            return !1;
        for (var i = t.next.next; i !== t.prev; ) {
            if (Wo(e.x, e.y, n.x, n.y, r.x, r.y, i.x, i.y) && Xo(i.prev, i, i.next) >= 0)
                return !1;
            i = i.next
        }
        return !0
    }
    function zo(t, e, n, r) {
        var i = t.prev
          , o = t
          , a = t.next;
        if (Xo(i, o, a) >= 0)
            return !1;
        for (var s = i.x < o.x ? i.x < a.x ? i.x : a.x : o.x < a.x ? o.x : a.x, u = i.y < o.y ? i.y < a.y ? i.y : a.y : o.y < a.y ? o.y : a.y, c = i.x > o.x ? i.x > a.x ? i.x : a.x : o.x > a.x ? o.x : a.x, f = i.y > o.y ? i.y > a.y ? i.y : a.y : o.y > a.y ? o.y : a.y, l = Ho(s, u, e, n, r), h = Ho(c, f, e, n, r), d = t.nextZ; d && d.z <= h; ) {
            if (d !== t.prev && d !== t.next && Wo(i.x, i.y, o.x, o.y, a.x, a.y, d.x, d.y) && Xo(d.prev, d, d.next) >= 0)
                return !1;
            d = d.nextZ
        }
        for (d = t.prevZ; d && d.z >= l; ) {
            if (d !== t.prev && d !== t.next && Wo(i.x, i.y, o.x, o.y, a.x, a.y, d.x, d.y) && Xo(d.prev, d, d.next) >= 0)
                return !1;
            d = d.prevZ
        }
        return !0
    }
    function Bo(t, e, n) {
        var r = t;
        do {
            var i = r.prev
              , o = r.next.next;
            !Yo(i, o) && Zo(i, r, r.next, o) && Jo(i, o) && Jo(o, i) && (e.push(i.i / n),
            e.push(r.i / n),
            e.push(o.i / n),
            $o(r),
            $o(r.next),
            r = t = o),
            r = r.next
        } while (r !== t);return r
    }
    function ko(t, e, n, r, i, o) {
        var a = t;
        do {
            for (var s = a.next.next; s !== a.prev; ) {
                if (a.i !== s.i && qo(a, s)) {
                    var u = Qo(a, s);
                    return a = Io(a, a.next),
                    u = Io(u, u.next),
                    Do(a, e, n, r, i, o),
                    void Do(u, e, n, r, i, o)
                }
                s = s.next
            }
            a = a.next
        } while (a !== t)
    }
    function Fo(t, e) {
        return t.x - e.x
    }
    function Go(t, e) {
        if (e = function(t, e) {
            var n, r = e, i = t.x, o = t.y, a = -1 / 0;
            do {
                if (o <= r.y && o >= r.next.y && r.next.y !== r.y) {
                    var s = r.x + (o - r.y) * (r.next.x - r.x) / (r.next.y - r.y);
                    if (s <= i && s > a) {
                        if (a = s,
                        s === i) {
                            if (o === r.y)
                                return r;
                            if (o === r.next.y)
                                return r.next
                        }
                        n = r.x < r.next.x ? r : r.next
                    }
                }
                r = r.next
            } while (r !== e);if (!n)
                return null;
            if (i === a)
                return n.prev;
            var u, c = n, f = n.x, l = n.y, h = 1 / 0;
            r = n.next;
            for (; r !== c; )
                i >= r.x && r.x >= f && i !== r.x && Wo(o < l ? i : a, o, f, l, o < l ? a : i, o, r.x, r.y) && ((u = Math.abs(o - r.y) / (i - r.x)) < h || u === h && r.x > n.x) && Jo(r, t) && (n = r,
                h = u),
                r = r.next;
            return n
        }(t, e)) {
            var n = Qo(e, t);
            Io(n, n.next)
        }
    }
    function Ho(t, e, n, r, i) {
        return (t = 1431655765 & ((t = 858993459 & ((t = 252645135 & ((t = 16711935 & ((t = 32767 * (t - n) * i) | t << 8)) | t << 4)) | t << 2)) | t << 1)) | (e = 1431655765 & ((e = 858993459 & ((e = 252645135 & ((e = 16711935 & ((e = 32767 * (e - r) * i) | e << 8)) | e << 4)) | e << 2)) | e << 1)) << 1
    }
    function Vo(t) {
        var e = t
          , n = t;
        do {
            e.x < n.x && (n = e),
            e = e.next
        } while (e !== t);return n
    }
    function Wo(t, e, n, r, i, o, a, s) {
        return (i - a) * (e - s) - (t - a) * (o - s) >= 0 && (t - a) * (r - s) - (n - a) * (e - s) >= 0 && (n - a) * (o - s) - (i - a) * (r - s) >= 0
    }
    function qo(t, e) {
        return t.next.i !== e.i && t.prev.i !== e.i && !function(t, e) {
            var n = t;
            do {
                if (n.i !== t.i && n.next.i !== t.i && n.i !== e.i && n.next.i !== e.i && Zo(n, n.next, t, e))
                    return !0;
                n = n.next
            } while (n !== t);return !1
        }(t, e) && Jo(t, e) && Jo(e, t) && function(t, e) {
            var n = t
              , r = !1
              , i = (t.x + e.x) / 2
              , o = (t.y + e.y) / 2;
            do {
                n.y > o != n.next.y > o && n.next.y !== n.y && i < (n.next.x - n.x) * (o - n.y) / (n.next.y - n.y) + n.x && (r = !r),
                n = n.next
            } while (n !== t);return r
        }(t, e)
    }
    function Xo(t, e, n) {
        return (e.y - t.y) * (n.x - e.x) - (e.x - t.x) * (n.y - e.y)
    }
    function Yo(t, e) {
        return t.x === e.x && t.y === e.y
    }
    function Zo(t, e, n, r) {
        return !!(Yo(t, e) && Yo(n, r) || Yo(t, r) && Yo(n, e)) || Xo(t, e, n) > 0 != Xo(t, e, r) > 0 && Xo(n, r, t) > 0 != Xo(n, r, e) > 0
    }
    function Jo(t, e) {
        return Xo(t.prev, t, t.next) < 0 ? Xo(t, e, t.next) >= 0 && Xo(t, t.prev, e) >= 0 : Xo(t, e, t.prev) < 0 || Xo(t, t.next, e) < 0
    }
    function Qo(t, e) {
        var n = new ta(t.i,t.x,t.y)
          , r = new ta(e.i,e.x,e.y)
          , i = t.next
          , o = e.prev;
        return t.next = e,
        e.prev = t,
        n.next = i,
        i.prev = n,
        r.next = n,
        n.prev = r,
        o.next = r,
        r.prev = o,
        r
    }
    function Ko(t, e, n, r) {
        var i = new ta(t,e,n);
        return r ? (i.next = r.next,
        i.prev = r,
        r.next.prev = i,
        r.next = i) : (i.prev = i,
        i.next = i),
        i
    }
    function $o(t) {
        t.next.prev = t.prev,
        t.prev.next = t.next,
        t.prevZ && (t.prevZ.nextZ = t.nextZ),
        t.nextZ && (t.nextZ.prevZ = t.prevZ)
    }
    function ta(t, e, n) {
        this.i = t,
        this.x = e,
        this.y = n,
        this.prev = null,
        this.next = null,
        this.z = null,
        this.prevZ = null,
        this.nextZ = null,
        this.steiner = !1
    }
    var ea = {
        area: function(t) {
            for (var e = t.length, n = 0, r = e - 1, i = 0; i < e; r = i++)
                n += t[r].x * t[i].y - t[i].x * t[r].y;
            return .5 * n
        },
        isClockWise: function(t) {
            return ea.area(t) < 0
        },
        triangulateShape: function(t, e) {
            var n = []
              , r = []
              , i = [];
            na(t),
            ra(n, t);
            var o = t.length;
            e.forEach(na);
            for (var a = 0; a < e.length; a++)
                r.push(o),
                o += e[a].length,
                ra(n, e[a]);
            var s = Po(n, r);
            for (a = 0; a < s.length; a += 3)
                i.push(s.slice(a, a + 3));
            return i
        }
    };
    function na(t) {
        var e = t.length;
        e > 2 && t[e - 1].equals(t[0]) && t.pop()
    }
    function ra(t, e) {
        for (var n = 0; n < e.length; n++)
            t.push(e[n].x),
            t.push(e[n].y)
    }
    function ia(t, e) {
        kn.call(this),
        this.type = "ExtrudeGeometry",
        this.parameters = {
            shapes: t,
            options: e
        },
        this.fromBufferGeometry(new oa(t,e)),
        this.mergeVertices()
    }
    function oa(t, e) {
        tr.call(this),
        this.type = "ExtrudeBufferGeometry",
        this.parameters = {
            shapes: t,
            options: e
        };
        for (var n = this, r = [], i = [], o = 0, a = (t = Array.isArray(t) ? t : [t]).length; o < a; o++) {
            s(t[o])
        }
        function s(t) {
            var o = []
              , a = void 0 !== e.curveSegments ? e.curveSegments : 12
              , s = void 0 !== e.steps ? e.steps : 1
              , u = void 0 !== e.depth ? e.depth : 100
              , c = void 0 === e.bevelEnabled || e.bevelEnabled
              , f = void 0 !== e.bevelThickness ? e.bevelThickness : 6
              , l = void 0 !== e.bevelSize ? e.bevelSize : f - 2
              , h = void 0 !== e.bevelSegments ? e.bevelSegments : 3
              , d = e.extrudePath
              , p = void 0 !== e.UVGenerator ? e.UVGenerator : aa;
            void 0 !== e.amount && (console.warn("THREE.ExtrudeBufferGeometry: amount has been renamed to depth."),
            u = e.amount);
            var m, v, g, y, b, _, x, w, M = !1;
            d && (m = d.getSpacedPoints(s),
            M = !0,
            c = !1,
            v = d.computeFrenetFrames(s, !1),
            g = new Ke,
            y = new Ke,
            b = new Ke),
            c || (h = 0,
            f = 0,
            l = 0);
            var E = t.extractPoints(a)
              , T = E.shape
              , S = E.holes;
            if (!ea.isClockWise(T))
                for (T = T.reverse(),
                x = 0,
                w = S.length; x < w; x++)
                    _ = S[x],
                    ea.isClockWise(_) && (S[x] = _.reverse());
            var O = ea.triangulateShape(T, S)
              , A = T;
            for (x = 0,
            w = S.length; x < w; x++)
                _ = S[x],
                T = T.concat(_);
            function L(t, e, n) {
                return e || console.error("THREE.ExtrudeGeometry: vec does not exist"),
                e.clone().multiplyScalar(n).add(t)
            }
            var R, C, j, P, N, I, D = T.length, U = O.length;
            function z(t, e, n) {
                var r, i, o, a = t.x - e.x, s = t.y - e.y, u = n.x - t.x, c = n.y - t.y, f = a * a + s * s, l = a * c - s * u;
                if (Math.abs(l) > Number.EPSILON) {
                    var h = Math.sqrt(f)
                      , d = Math.sqrt(u * u + c * c)
                      , p = e.x - s / h
                      , m = e.y + a / h
                      , v = ((n.x - c / d - p) * c - (n.y + u / d - m) * u) / (a * c - s * u)
                      , g = (r = p + a * v - t.x) * r + (i = m + s * v - t.y) * i;
                    if (g <= 2)
                        return new Ze(r,i);
                    o = Math.sqrt(g / 2)
                } else {
                    var y = !1;
                    a > Number.EPSILON ? u > Number.EPSILON && (y = !0) : a < -Number.EPSILON ? u < -Number.EPSILON && (y = !0) : Math.sign(s) === Math.sign(c) && (y = !0),
                    y ? (r = -s,
                    i = a,
                    o = Math.sqrt(f)) : (r = a,
                    i = s,
                    o = Math.sqrt(f / 2))
                }
                return new Ze(r / o,i / o)
            }
            for (var B = [], k = 0, F = A.length, G = F - 1, H = k + 1; k < F; k++,
            G++,
            H++)
                G === F && (G = 0),
                H === F && (H = 0),
                B[k] = z(A[k], A[G], A[H]);
            var V, W, q = [], X = B.concat();
            for (x = 0,
            w = S.length; x < w; x++) {
                for (_ = S[x],
                V = [],
                k = 0,
                G = (F = _.length) - 1,
                H = k + 1; k < F; k++,
                G++,
                H++)
                    G === F && (G = 0),
                    H === F && (H = 0),
                    V[k] = z(_[k], _[G], _[H]);
                q.push(V),
                X = X.concat(V)
            }
            for (R = 0; R < h; R++) {
                for (j = R / h,
                P = f * Math.cos(j * Math.PI / 2),
                C = l * Math.sin(j * Math.PI / 2),
                k = 0,
                F = A.length; k < F; k++)
                    Z((N = L(A[k], B[k], C)).x, N.y, -P);
                for (x = 0,
                w = S.length; x < w; x++)
                    for (_ = S[x],
                    V = q[x],
                    k = 0,
                    F = _.length; k < F; k++)
                        Z((N = L(_[k], V[k], C)).x, N.y, -P)
            }
            for (C = l,
            k = 0; k < D; k++)
                N = c ? L(T[k], X[k], C) : T[k],
                M ? (y.copy(v.normals[0]).multiplyScalar(N.x),
                g.copy(v.binormals[0]).multiplyScalar(N.y),
                b.copy(m[0]).add(y).add(g),
                Z(b.x, b.y, b.z)) : Z(N.x, N.y, 0);
            for (W = 1; W <= s; W++)
                for (k = 0; k < D; k++)
                    N = c ? L(T[k], X[k], C) : T[k],
                    M ? (y.copy(v.normals[W]).multiplyScalar(N.x),
                    g.copy(v.binormals[W]).multiplyScalar(N.y),
                    b.copy(m[W]).add(y).add(g),
                    Z(b.x, b.y, b.z)) : Z(N.x, N.y, u / s * W);
            for (R = h - 1; R >= 0; R--) {
                for (j = R / h,
                P = f * Math.cos(j * Math.PI / 2),
                C = l * Math.sin(j * Math.PI / 2),
                k = 0,
                F = A.length; k < F; k++)
                    Z((N = L(A[k], B[k], C)).x, N.y, u + P);
                for (x = 0,
                w = S.length; x < w; x++)
                    for (_ = S[x],
                    V = q[x],
                    k = 0,
                    F = _.length; k < F; k++)
                        N = L(_[k], V[k], C),
                        M ? Z(N.x, N.y + m[s - 1].y, m[s - 1].x + P) : Z(N.x, N.y, u + P)
            }
            function Y(t, e) {
                var n, r;
                for (k = t.length; --k >= 0; ) {
                    n = k,
                    (r = k - 1) < 0 && (r = t.length - 1);
                    var i = 0
                      , o = s + 2 * h;
                    for (i = 0; i < o; i++) {
                        var a = D * i
                          , u = D * (i + 1);
                        Q(e + n + a, e + r + a, e + r + u, e + n + u)
                    }
                }
            }
            function Z(t, e, n) {
                o.push(t),
                o.push(e),
                o.push(n)
            }
            function J(t, e, i) {
                K(t),
                K(e),
                K(i);
                var o = r.length / 3
                  , a = p.generateTopUV(n, r, o - 3, o - 2, o - 1);
                $(a[0]),
                $(a[1]),
                $(a[2])
            }
            function Q(t, e, i, o) {
                K(t),
                K(e),
                K(o),
                K(e),
                K(i),
                K(o);
                var a = r.length / 3
                  , s = p.generateSideWallUV(n, r, a - 6, a - 3, a - 2, a - 1);
                $(s[0]),
                $(s[1]),
                $(s[3]),
                $(s[1]),
                $(s[2]),
                $(s[3])
            }
            function K(t) {
                r.push(o[3 * t + 0]),
                r.push(o[3 * t + 1]),
                r.push(o[3 * t + 2])
            }
            function $(t) {
                i.push(t.x),
                i.push(t.y)
            }
            !function() {
                var t = r.length / 3;
                if (c) {
                    var e = 0
                      , i = D * e;
                    for (k = 0; k < U; k++)
                        J((I = O[k])[2] + i, I[1] + i, I[0] + i);
                    for (i = D * (e = s + 2 * h),
                    k = 0; k < U; k++)
                        J((I = O[k])[0] + i, I[1] + i, I[2] + i)
                } else {
                    for (k = 0; k < U; k++)
                        J((I = O[k])[2], I[1], I[0]);
                    for (k = 0; k < U; k++)
                        J((I = O[k])[0] + D * s, I[1] + D * s, I[2] + D * s)
                }
                n.addGroup(t, r.length / 3 - t, 0)
            }(),
            function() {
                var t = r.length / 3
                  , e = 0;
                for (Y(A, e),
                e += A.length,
                x = 0,
                w = S.length; x < w; x++)
                    Y(_ = S[x], e),
                    e += _.length;
                n.addGroup(t, r.length / 3 - t, 1)
            }()
        }
        this.addAttribute("position", new Zn(r,3)),
        this.addAttribute("uv", new Zn(i,2)),
        this.computeVertexNormals()
    }
    ia.prototype = Object.create(kn.prototype),
    ia.prototype.constructor = ia,
    ia.prototype.toJSON = function() {
        var t = kn.prototype.toJSON.call(this);
        return sa(this.parameters.shapes, this.parameters.options, t)
    }
    ,
    oa.prototype = Object.create(tr.prototype),
    oa.prototype.constructor = oa,
    oa.prototype.toJSON = function() {
        var t = tr.prototype.toJSON.call(this);
        return sa(this.parameters.shapes, this.parameters.options, t)
    }
    ;
    var aa = {
        generateTopUV: function(t, e, n, r, i) {
            var o = e[3 * n]
              , a = e[3 * n + 1]
              , s = e[3 * r]
              , u = e[3 * r + 1]
              , c = e[3 * i]
              , f = e[3 * i + 1];
            return [new Ze(o,a), new Ze(s,u), new Ze(c,f)]
        },
        generateSideWallUV: function(t, e, n, r, i, o) {
            var a = e[3 * n]
              , s = e[3 * n + 1]
              , u = e[3 * n + 2]
              , c = e[3 * r]
              , f = e[3 * r + 1]
              , l = e[3 * r + 2]
              , h = e[3 * i]
              , d = e[3 * i + 1]
              , p = e[3 * i + 2]
              , m = e[3 * o]
              , v = e[3 * o + 1]
              , g = e[3 * o + 2];
            return Math.abs(s - f) < .01 ? [new Ze(a,1 - u), new Ze(c,1 - l), new Ze(h,1 - p), new Ze(m,1 - g)] : [new Ze(s,1 - u), new Ze(f,1 - l), new Ze(d,1 - p), new Ze(v,1 - g)]
        }
    };
    function sa(t, e, n) {
        if (n.shapes = [],
        Array.isArray(t))
            for (var r = 0, i = t.length; r < i; r++) {
                var o = t[r];
                n.shapes.push(o.uuid)
            }
        else
            n.shapes.push(t.uuid);
        return void 0 !== e.extrudePath && (n.options.extrudePath = e.extrudePath.toJSON()),
        n
    }
    function ua(t, e) {
        kn.call(this),
        this.type = "TextGeometry",
        this.parameters = {
            text: t,
            parameters: e
        },
        this.fromBufferGeometry(new ca(t,e)),
        this.mergeVertices()
    }
    function ca(t, e) {
        var n = (e = e || {}).font;
        if (!n || !n.isFont)
            return console.error("THREE.TextGeometry: font parameter is not an instance of THREE.Font."),
            new kn;
        var r = n.generateShapes(t, e.size);
        e.depth = void 0 !== e.height ? e.height : 50,
        void 0 === e.bevelThickness && (e.bevelThickness = 10),
        void 0 === e.bevelSize && (e.bevelSize = 8),
        void 0 === e.bevelEnabled && (e.bevelEnabled = !1),
        oa.call(this, r, e),
        this.type = "TextBufferGeometry"
    }
    function fa(t, e, n, r, i, o, a) {
        kn.call(this),
        this.type = "SphereGeometry",
        this.parameters = {
            radius: t,
            widthSegments: e,
            heightSegments: n,
            phiStart: r,
            phiLength: i,
            thetaStart: o,
            thetaLength: a
        },
        this.fromBufferGeometry(new la(t,e,n,r,i,o,a)),
        this.mergeVertices()
    }
    function la(t, e, n, r, i, o, a) {
        tr.call(this),
        this.type = "SphereBufferGeometry",
        this.parameters = {
            radius: t,
            widthSegments: e,
            heightSegments: n,
            phiStart: r,
            phiLength: i,
            thetaStart: o,
            thetaLength: a
        },
        t = t || 1,
        e = Math.max(3, Math.floor(e) || 8),
        n = Math.max(2, Math.floor(n) || 6),
        r = void 0 !== r ? r : 0,
        i = void 0 !== i ? i : 2 * Math.PI;
        var s, u, c = (o = void 0 !== o ? o : 0) + (a = void 0 !== a ? a : Math.PI), f = 0, l = [], h = new Ke, d = new Ke, p = [], m = [], v = [], g = [];
        for (u = 0; u <= n; u++) {
            var y = []
              , b = u / n;
            for (s = 0; s <= e; s++) {
                var _ = s / e;
                h.x = -t * Math.cos(r + _ * i) * Math.sin(o + b * a),
                h.y = t * Math.cos(o + b * a),
                h.z = t * Math.sin(r + _ * i) * Math.sin(o + b * a),
                m.push(h.x, h.y, h.z),
                d.set(h.x, h.y, h.z).normalize(),
                v.push(d.x, d.y, d.z),
                g.push(_, 1 - b),
                y.push(f++)
            }
            l.push(y)
        }
        for (u = 0; u < n; u++)
            for (s = 0; s < e; s++) {
                var x = l[u][s + 1]
                  , w = l[u][s]
                  , M = l[u + 1][s]
                  , E = l[u + 1][s + 1];
                (0 !== u || o > 0) && p.push(x, w, E),
                (u !== n - 1 || c < Math.PI) && p.push(w, M, E)
            }
        this.setIndex(p),
        this.addAttribute("position", new Zn(m,3)),
        this.addAttribute("normal", new Zn(v,3)),
        this.addAttribute("uv", new Zn(g,2))
    }
    function ha(t, e, n, r, i, o) {
        kn.call(this),
        this.type = "RingGeometry",
        this.parameters = {
            innerRadius: t,
            outerRadius: e,
            thetaSegments: n,
            phiSegments: r,
            thetaStart: i,
            thetaLength: o
        },
        this.fromBufferGeometry(new da(t,e,n,r,i,o)),
        this.mergeVertices()
    }
    function da(t, e, n, r, i, o) {
        tr.call(this),
        this.type = "RingBufferGeometry",
        this.parameters = {
            innerRadius: t,
            outerRadius: e,
            thetaSegments: n,
            phiSegments: r,
            thetaStart: i,
            thetaLength: o
        },
        t = t || .5,
        e = e || 1,
        i = void 0 !== i ? i : 0,
        o = void 0 !== o ? o : 2 * Math.PI,
        n = void 0 !== n ? Math.max(3, n) : 8;
        var a, s, u, c = [], f = [], l = [], h = [], d = t, p = (e - t) / (r = void 0 !== r ? Math.max(1, r) : 1), m = new Ke, v = new Ze;
        for (s = 0; s <= r; s++) {
            for (u = 0; u <= n; u++)
                a = i + u / n * o,
                m.x = d * Math.cos(a),
                m.y = d * Math.sin(a),
                f.push(m.x, m.y, m.z),
                l.push(0, 0, 1),
                v.x = (m.x / e + 1) / 2,
                v.y = (m.y / e + 1) / 2,
                h.push(v.x, v.y);
            d += p
        }
        for (s = 0; s < r; s++) {
            var g = s * (n + 1);
            for (u = 0; u < n; u++) {
                var y = a = u + g
                  , b = a + n + 1
                  , _ = a + n + 2
                  , x = a + 1;
                c.push(y, b, x),
                c.push(b, _, x)
            }
        }
        this.setIndex(c),
        this.addAttribute("position", new Zn(f,3)),
        this.addAttribute("normal", new Zn(l,3)),
        this.addAttribute("uv", new Zn(h,2))
    }
    function pa(t, e, n, r) {
        kn.call(this),
        this.type = "LatheGeometry",
        this.parameters = {
            points: t,
            segments: e,
            phiStart: n,
            phiLength: r
        },
        this.fromBufferGeometry(new ma(t,e,n,r)),
        this.mergeVertices()
    }
    function ma(t, e, n, r) {
        tr.call(this),
        this.type = "LatheBufferGeometry",
        this.parameters = {
            points: t,
            segments: e,
            phiStart: n,
            phiLength: r
        },
        e = Math.floor(e) || 12,
        n = n || 0,
        r = r || 2 * Math.PI,
        r = Ye.clamp(r, 0, 2 * Math.PI);
        var i, o, a, s = [], u = [], c = [], f = 1 / e, l = new Ke, h = new Ze;
        for (o = 0; o <= e; o++) {
            var d = n + o * f * r
              , p = Math.sin(d)
              , m = Math.cos(d);
            for (a = 0; a <= t.length - 1; a++)
                l.x = t[a].x * p,
                l.y = t[a].y,
                l.z = t[a].x * m,
                u.push(l.x, l.y, l.z),
                h.x = o / e,
                h.y = a / (t.length - 1),
                c.push(h.x, h.y)
        }
        for (o = 0; o < e; o++)
            for (a = 0; a < t.length - 1; a++) {
                var v = i = a + o * t.length
                  , g = i + t.length
                  , y = i + t.length + 1
                  , b = i + 1;
                s.push(v, g, b),
                s.push(g, y, b)
            }
        if (this.setIndex(s),
        this.addAttribute("position", new Zn(u,3)),
        this.addAttribute("uv", new Zn(c,2)),
        this.computeVertexNormals(),
        r === 2 * Math.PI) {
            var _ = this.attributes.normal.array
              , x = new Ke
              , w = new Ke
              , M = new Ke;
            for (i = e * t.length * 3,
            o = 0,
            a = 0; o < t.length; o++,
            a += 3)
                x.x = _[a + 0],
                x.y = _[a + 1],
                x.z = _[a + 2],
                w.x = _[i + a + 0],
                w.y = _[i + a + 1],
                w.z = _[i + a + 2],
                M.addVectors(x, w).normalize(),
                _[a + 0] = _[i + a + 0] = M.x,
                _[a + 1] = _[i + a + 1] = M.y,
                _[a + 2] = _[i + a + 2] = M.z
        }
    }
    function va(t, e) {
        kn.call(this),
        this.type = "ShapeGeometry",
        "object" == typeof e && (console.warn("THREE.ShapeGeometry: Options parameter has been removed."),
        e = e.curveSegments),
        this.parameters = {
            shapes: t,
            curveSegments: e
        },
        this.fromBufferGeometry(new ga(t,e)),
        this.mergeVertices()
    }
    function ga(t, e) {
        tr.call(this),
        this.type = "ShapeBufferGeometry",
        this.parameters = {
            shapes: t,
            curveSegments: e
        },
        e = e || 12;
        var n = []
          , r = []
          , i = []
          , o = []
          , a = 0
          , s = 0;
        if (!1 === Array.isArray(t))
            c(t);
        else
            for (var u = 0; u < t.length; u++)
                c(t[u]),
                this.addGroup(a, s, u),
                a += s,
                s = 0;
        function c(t) {
            var a, u, c, f = r.length / 3, l = t.extractPoints(e), h = l.shape, d = l.holes;
            if (!1 === ea.isClockWise(h))
                for (h = h.reverse(),
                a = 0,
                u = d.length; a < u; a++)
                    c = d[a],
                    !0 === ea.isClockWise(c) && (d[a] = c.reverse());
            var p = ea.triangulateShape(h, d);
            for (a = 0,
            u = d.length; a < u; a++)
                c = d[a],
                h = h.concat(c);
            for (a = 0,
            u = h.length; a < u; a++) {
                var m = h[a];
                r.push(m.x, m.y, 0),
                i.push(0, 0, 1),
                o.push(m.x, m.y)
            }
            for (a = 0,
            u = p.length; a < u; a++) {
                var v = p[a]
                  , g = v[0] + f
                  , y = v[1] + f
                  , b = v[2] + f;
                n.push(g, y, b),
                s += 3
            }
        }
        this.setIndex(n),
        this.addAttribute("position", new Zn(r,3)),
        this.addAttribute("normal", new Zn(i,3)),
        this.addAttribute("uv", new Zn(o,2))
    }
    function ya(t, e) {
        if (e.shapes = [],
        Array.isArray(t))
            for (var n = 0, r = t.length; n < r; n++) {
                var i = t[n];
                e.shapes.push(i.uuid)
            }
        else
            e.shapes.push(t.uuid);
        return e
    }
    function ba(t, e) {
        tr.call(this),
        this.type = "EdgesGeometry",
        this.parameters = {
            thresholdAngle: e
        },
        e = void 0 !== e ? e : 1;
        var n, r, i, o, a = [], s = Math.cos(Ye.DEG2RAD * e), u = [0, 0], c = {}, f = ["a", "b", "c"];
        t.isBufferGeometry ? (o = new kn).fromBufferGeometry(t) : o = t.clone(),
        o.mergeVertices(),
        o.computeFaceNormals();
        for (var l = o.vertices, h = o.faces, d = 0, p = h.length; d < p; d++)
            for (var m = h[d], v = 0; v < 3; v++)
                n = m[f[v]],
                r = m[f[(v + 1) % 3]],
                u[0] = Math.min(n, r),
                u[1] = Math.max(n, r),
                void 0 === c[i = u[0] + "," + u[1]] ? c[i] = {
                    index1: u[0],
                    index2: u[1],
                    face1: d,
                    face2: void 0
                } : c[i].face2 = d;
        for (i in c) {
            var g = c[i];
            if (void 0 === g.face2 || h[g.face1].normal.dot(h[g.face2].normal) <= s) {
                var y = l[g.index1];
                a.push(y.x, y.y, y.z),
                y = l[g.index2],
                a.push(y.x, y.y, y.z)
            }
        }
        this.addAttribute("position", new Zn(a,3))
    }
    function _a(t, e, n, r, i, o, a, s) {
        kn.call(this),
        this.type = "CylinderGeometry",
        this.parameters = {
            radiusTop: t,
            radiusBottom: e,
            height: n,
            radialSegments: r,
            heightSegments: i,
            openEnded: o,
            thetaStart: a,
            thetaLength: s
        },
        this.fromBufferGeometry(new xa(t,e,n,r,i,o,a,s)),
        this.mergeVertices()
    }
    function xa(t, e, n, r, i, o, a, s) {
        tr.call(this),
        this.type = "CylinderBufferGeometry",
        this.parameters = {
            radiusTop: t,
            radiusBottom: e,
            height: n,
            radialSegments: r,
            heightSegments: i,
            openEnded: o,
            thetaStart: a,
            thetaLength: s
        };
        var u = this;
        t = void 0 !== t ? t : 1,
        e = void 0 !== e ? e : 1,
        n = n || 1,
        r = Math.floor(r) || 8,
        i = Math.floor(i) || 1,
        o = void 0 !== o && o,
        a = void 0 !== a ? a : 0,
        s = void 0 !== s ? s : 2 * Math.PI;
        var c = []
          , f = []
          , l = []
          , h = []
          , d = 0
          , p = []
          , m = n / 2
          , v = 0;
        function g(n) {
            var i, o, p, g = new Ze, y = new Ke, b = 0, _ = !0 === n ? t : e, x = !0 === n ? 1 : -1;
            for (o = d,
            i = 1; i <= r; i++)
                f.push(0, m * x, 0),
                l.push(0, x, 0),
                h.push(.5, .5),
                d++;
            for (p = d,
            i = 0; i <= r; i++) {
                var w = i / r * s + a
                  , M = Math.cos(w)
                  , E = Math.sin(w);
                y.x = _ * E,
                y.y = m * x,
                y.z = _ * M,
                f.push(y.x, y.y, y.z),
                l.push(0, x, 0),
                g.x = .5 * M + .5,
                g.y = .5 * E * x + .5,
                h.push(g.x, g.y),
                d++
            }
            for (i = 0; i < r; i++) {
                var T = o + i
                  , S = p + i;
                !0 === n ? c.push(S, S + 1, T) : c.push(S + 1, S, T),
                b += 3
            }
            u.addGroup(v, b, !0 === n ? 1 : 2),
            v += b
        }
        !function() {
            var o, g, y = new Ke, b = new Ke, _ = 0, x = (e - t) / n;
            for (g = 0; g <= i; g++) {
                var w = []
                  , M = g / i
                  , E = M * (e - t) + t;
                for (o = 0; o <= r; o++) {
                    var T = o / r
                      , S = T * s + a
                      , O = Math.sin(S)
                      , A = Math.cos(S);
                    b.x = E * O,
                    b.y = -M * n + m,
                    b.z = E * A,
                    f.push(b.x, b.y, b.z),
                    y.set(O, x, A).normalize(),
                    l.push(y.x, y.y, y.z),
                    h.push(T, 1 - M),
                    w.push(d++)
                }
                p.push(w)
            }
            for (o = 0; o < r; o++)
                for (g = 0; g < i; g++) {
                    var L = p[g][o]
                      , R = p[g + 1][o]
                      , C = p[g + 1][o + 1]
                      , j = p[g][o + 1];
                    c.push(L, R, j),
                    c.push(R, C, j),
                    _ += 6
                }
            u.addGroup(v, _, 0),
            v += _
        }(),
        !1 === o && (t > 0 && g(!0),
        e > 0 && g(!1)),
        this.setIndex(c),
        this.addAttribute("position", new Zn(f,3)),
        this.addAttribute("normal", new Zn(l,3)),
        this.addAttribute("uv", new Zn(h,2))
    }
    function wa(t, e, n, r, i, o, a) {
        _a.call(this, 0, t, e, n, r, i, o, a),
        this.type = "ConeGeometry",
        this.parameters = {
            radius: t,
            height: e,
            radialSegments: n,
            heightSegments: r,
            openEnded: i,
            thetaStart: o,
            thetaLength: a
        }
    }
    function Ma(t, e, n, r, i, o, a) {
        xa.call(this, 0, t, e, n, r, i, o, a),
        this.type = "ConeBufferGeometry",
        this.parameters = {
            radius: t,
            height: e,
            radialSegments: n,
            heightSegments: r,
            openEnded: i,
            thetaStart: o,
            thetaLength: a
        }
    }
    function Ea(t, e, n, r) {
        kn.call(this),
        this.type = "CircleGeometry",
        this.parameters = {
            radius: t,
            segments: e,
            thetaStart: n,
            thetaLength: r
        },
        this.fromBufferGeometry(new Ta(t,e,n,r)),
        this.mergeVertices()
    }
    function Ta(t, e, n, r) {
        tr.call(this),
        this.type = "CircleBufferGeometry",
        this.parameters = {
            radius: t,
            segments: e,
            thetaStart: n,
            thetaLength: r
        },
        t = t || 1,
        e = void 0 !== e ? Math.max(3, e) : 8,
        n = void 0 !== n ? n : 0,
        r = void 0 !== r ? r : 2 * Math.PI;
        var i, o, a = [], s = [], u = [], c = [], f = new Ke, l = new Ze;
        for (s.push(0, 0, 0),
        u.push(0, 0, 1),
        c.push(.5, .5),
        o = 0,
        i = 3; o <= e; o++,
        i += 3) {
            var h = n + o / e * r;
            f.x = t * Math.cos(h),
            f.y = t * Math.sin(h),
            s.push(f.x, f.y, f.z),
            u.push(0, 0, 1),
            l.x = (s[i] / t + 1) / 2,
            l.y = (s[i + 1] / t + 1) / 2,
            c.push(l.x, l.y)
        }
        for (i = 1; i <= e; i++)
            a.push(i, i + 1, 0);
        this.setIndex(a),
        this.addAttribute("position", new Zn(s,3)),
        this.addAttribute("normal", new Zn(u,3)),
        this.addAttribute("uv", new Zn(c,2))
    }
    ua.prototype = Object.create(kn.prototype),
    ua.prototype.constructor = ua,
    ca.prototype = Object.create(oa.prototype),
    ca.prototype.constructor = ca,
    fa.prototype = Object.create(kn.prototype),
    fa.prototype.constructor = fa,
    la.prototype = Object.create(tr.prototype),
    la.prototype.constructor = la,
    ha.prototype = Object.create(kn.prototype),
    ha.prototype.constructor = ha,
    da.prototype = Object.create(tr.prototype),
    da.prototype.constructor = da,
    pa.prototype = Object.create(kn.prototype),
    pa.prototype.constructor = pa,
    ma.prototype = Object.create(tr.prototype),
    ma.prototype.constructor = ma,
    va.prototype = Object.create(kn.prototype),
    va.prototype.constructor = va,
    va.prototype.toJSON = function() {
        var t = kn.prototype.toJSON.call(this);
        return ya(this.parameters.shapes, t)
    }
    ,
    ga.prototype = Object.create(tr.prototype),
    ga.prototype.constructor = ga,
    ga.prototype.toJSON = function() {
        var t = tr.prototype.toJSON.call(this);
        return ya(this.parameters.shapes, t)
    }
    ,
    ba.prototype = Object.create(tr.prototype),
    ba.prototype.constructor = ba,
    _a.prototype = Object.create(kn.prototype),
    _a.prototype.constructor = _a,
    xa.prototype = Object.create(tr.prototype),
    xa.prototype.constructor = xa,
    wa.prototype = Object.create(_a.prototype),
    wa.prototype.constructor = wa,
    Ma.prototype = Object.create(xa.prototype),
    Ma.prototype.constructor = Ma,
    Ea.prototype = Object.create(kn.prototype),
    Ea.prototype.constructor = Ea,
    Ta.prototype = Object.create(tr.prototype),
    Ta.prototype.constructor = Ta;
    var Sa = Object.freeze({
        WireframeGeometry: po,
        ParametricGeometry: mo,
        ParametricBufferGeometry: vo,
        TetrahedronGeometry: bo,
        TetrahedronBufferGeometry: _o,
        OctahedronGeometry: xo,
        OctahedronBufferGeometry: wo,
        IcosahedronGeometry: Mo,
        IcosahedronBufferGeometry: Eo,
        DodecahedronGeometry: To,
        DodecahedronBufferGeometry: So,
        PolyhedronGeometry: go,
        PolyhedronBufferGeometry: yo,
        TubeGeometry: Oo,
        TubeBufferGeometry: Ao,
        TorusKnotGeometry: Lo,
        TorusKnotBufferGeometry: Ro,
        TorusGeometry: Co,
        TorusBufferGeometry: jo,
        TextGeometry: ua,
        TextBufferGeometry: ca,
        SphereGeometry: fa,
        SphereBufferGeometry: la,
        RingGeometry: ha,
        RingBufferGeometry: da,
        PlaneGeometry: rr,
        PlaneBufferGeometry: ir,
        LatheGeometry: pa,
        LatheBufferGeometry: ma,
        ShapeGeometry: va,
        ShapeBufferGeometry: ga,
        ExtrudeGeometry: ia,
        ExtrudeBufferGeometry: oa,
        EdgesGeometry: ba,
        ConeGeometry: wa,
        ConeBufferGeometry: Ma,
        CylinderGeometry: _a,
        CylinderBufferGeometry: xa,
        CircleGeometry: Ea,
        CircleBufferGeometry: Ta,
        BoxGeometry: er,
        BoxBufferGeometry: nr
    });
    function Oa(t) {
        gr.call(this),
        this.type = "ShadowMaterial",
        this.color = new _n(0),
        this.transparent = !0,
        this.setValues(t)
    }
    function Aa(t) {
        br.call(this, t),
        this.type = "RawShaderMaterial"
    }
    function La(t) {
        gr.call(this),
        this.defines = {
            STANDARD: ""
        },
        this.type = "MeshStandardMaterial",
        this.color = new _n(16777215),
        this.roughness = .5,
        this.metalness = .5,
        this.map = null,
        this.lightMap = null,
        this.lightMapIntensity = 1,
        this.aoMap = null,
        this.aoMapIntensity = 1,
        this.emissive = new _n(0),
        this.emissiveIntensity = 1,
        this.emissiveMap = null,
        this.bumpMap = null,
        this.bumpScale = 1,
        this.normalMap = null,
        this.normalMapType = qe,
        this.normalScale = new Ze(1,1),
        this.displacementMap = null,
        this.displacementScale = 1,
        this.displacementBias = 0,
        this.roughnessMap = null,
        this.metalnessMap = null,
        this.alphaMap = null,
        this.envMap = null,
        this.envMapIntensity = 1,
        this.refractionRatio = .98,
        this.wireframe = !1,
        this.wireframeLinewidth = 1,
        this.wireframeLinecap = "round",
        this.wireframeLinejoin = "round",
        this.skinning = !1,
        this.morphTargets = !1,
        this.morphNormals = !1,
        this.setValues(t)
    }
    function Ra(t) {
        La.call(this),
        this.defines = {
            PHYSICAL: ""
        },
        this.type = "MeshPhysicalMaterial",
        this.reflectivity = .5,
        this.clearCoat = 0,
        this.clearCoatRoughness = 0,
        this.setValues(t)
    }
    function Ca(t) {
        gr.call(this),
        this.type = "MeshPhongMaterial",
        this.color = new _n(16777215),
        this.specular = new _n(1118481),
        this.shininess = 30,
        this.map = null,
        this.lightMap = null,
        this.lightMapIntensity = 1,
        this.aoMap = null,
        this.aoMapIntensity = 1,
        this.emissive = new _n(0),
        this.emissiveIntensity = 1,
        this.emissiveMap = null,
        this.bumpMap = null,
        this.bumpScale = 1,
        this.normalMap = null,
        this.normalMapType = qe,
        this.normalScale = new Ze(1,1),
        this.displacementMap = null,
        this.displacementScale = 1,
        this.displacementBias = 0,
        this.specularMap = null,
        this.alphaMap = null,
        this.envMap = null,
        this.combine = ft,
        this.reflectivity = 1,
        this.refractionRatio = .98,
        this.wireframe = !1,
        this.wireframeLinewidth = 1,
        this.wireframeLinecap = "round",
        this.wireframeLinejoin = "round",
        this.skinning = !1,
        this.morphTargets = !1,
        this.morphNormals = !1,
        this.setValues(t)
    }
    function ja(t) {
        Ca.call(this),
        this.defines = {
            TOON: ""
        },
        this.type = "MeshToonMaterial",
        this.gradientMap = null,
        this.setValues(t)
    }
    function Pa(t) {
        gr.call(this),
        this.type = "MeshNormalMaterial",
        this.bumpMap = null,
        this.bumpScale = 1,
        this.normalMap = null,
        this.normalMapType = qe,
        this.normalScale = new Ze(1,1),
        this.displacementMap = null,
        this.displacementScale = 1,
        this.displacementBias = 0,
        this.wireframe = !1,
        this.wireframeLinewidth = 1,
        this.fog = !1,
        this.lights = !1,
        this.skinning = !1,
        this.morphTargets = !1,
        this.morphNormals = !1,
        this.setValues(t)
    }
    function Na(t) {
        gr.call(this),
        this.type = "MeshLambertMaterial",
        this.color = new _n(16777215),
        this.map = null,
        this.lightMap = null,
        this.lightMapIntensity = 1,
        this.aoMap = null,
        this.aoMapIntensity = 1,
        this.emissive = new _n(0),
        this.emissiveIntensity = 1,
        this.emissiveMap = null,
        this.specularMap = null,
        this.alphaMap = null,
        this.envMap = null,
        this.combine = ft,
        this.reflectivity = 1,
        this.refractionRatio = .98,
        this.wireframe = !1,
        this.wireframeLinewidth = 1,
        this.wireframeLinecap = "round",
        this.wireframeLinejoin = "round",
        this.skinning = !1,
        this.morphTargets = !1,
        this.morphNormals = !1,
        this.setValues(t)
    }
    function Ia(t) {
        ro.call(this),
        this.type = "LineDashedMaterial",
        this.scale = 1,
        this.dashSize = 3,
        this.gapSize = 1,
        this.setValues(t)
    }
    Oa.prototype = Object.create(gr.prototype),
    Oa.prototype.constructor = Oa,
    Oa.prototype.isShadowMaterial = !0,
    Oa.prototype.copy = function(t) {
        return gr.prototype.copy.call(this, t),
        this.color.copy(t.color),
        this
    }
    ,
    Aa.prototype = Object.create(br.prototype),
    Aa.prototype.constructor = Aa,
    Aa.prototype.isRawShaderMaterial = !0,
    La.prototype = Object.create(gr.prototype),
    La.prototype.constructor = La,
    La.prototype.isMeshStandardMaterial = !0,
    La.prototype.copy = function(t) {
        return gr.prototype.copy.call(this, t),
        this.defines = {
            STANDARD: ""
        },
        this.color.copy(t.color),
        this.roughness = t.roughness,
        this.metalness = t.metalness,
        this.map = t.map,
        this.lightMap = t.lightMap,
        this.lightMapIntensity = t.lightMapIntensity,
        this.aoMap = t.aoMap,
        this.aoMapIntensity = t.aoMapIntensity,
        this.emissive.copy(t.emissive),
        this.emissiveMap = t.emissiveMap,
        this.emissiveIntensity = t.emissiveIntensity,
        this.bumpMap = t.bumpMap,
        this.bumpScale = t.bumpScale,
        this.normalMap = t.normalMap,
        this.normalMapType = t.normalMapType,
        this.normalScale.copy(t.normalScale),
        this.displacementMap = t.displacementMap,
        this.displacementScale = t.displacementScale,
        this.displacementBias = t.displacementBias,
        this.roughnessMap = t.roughnessMap,
        this.metalnessMap = t.metalnessMap,
        this.alphaMap = t.alphaMap,
        this.envMap = t.envMap,
        this.envMapIntensity = t.envMapIntensity,
        this.refractionRatio = t.refractionRatio,
        this.wireframe = t.wireframe,
        this.wireframeLinewidth = t.wireframeLinewidth,
        this.wireframeLinecap = t.wireframeLinecap,
        this.wireframeLinejoin = t.wireframeLinejoin,
        this.skinning = t.skinning,
        this.morphTargets = t.morphTargets,
        this.morphNormals = t.morphNormals,
        this
    }
    ,
    Ra.prototype = Object.create(La.prototype),
    Ra.prototype.constructor = Ra,
    Ra.prototype.isMeshPhysicalMaterial = !0,
    Ra.prototype.copy = function(t) {
        return La.prototype.copy.call(this, t),
        this.defines = {
            PHYSICAL: ""
        },
        this.reflectivity = t.reflectivity,
        this.clearCoat = t.clearCoat,
        this.clearCoatRoughness = t.clearCoatRoughness,
        this
    }
    ,
    Ca.prototype = Object.create(gr.prototype),
    Ca.prototype.constructor = Ca,
    Ca.prototype.isMeshPhongMaterial = !0,
    Ca.prototype.copy = function(t) {
        return gr.prototype.copy.call(this, t),
        this.color.copy(t.color),
        this.specular.copy(t.specular),
        this.shininess = t.shininess,
        this.map = t.map,
        this.lightMap = t.lightMap,
        this.lightMapIntensity = t.lightMapIntensity,
        this.aoMap = t.aoMap,
        this.aoMapIntensity = t.aoMapIntensity,
        this.emissive.copy(t.emissive),
        this.emissiveMap = t.emissiveMap,
        this.emissiveIntensity = t.emissiveIntensity,
        this.bumpMap = t.bumpMap,
        this.bumpScale = t.bumpScale,
        this.normalMap = t.normalMap,
        this.normalMapType = t.normalMapType,
        this.normalScale.copy(t.normalScale),
        this.displacementMap = t.displacementMap,
        this.displacementScale = t.displacementScale,
        this.displacementBias = t.displacementBias,
        this.specularMap = t.specularMap,
        this.alphaMap = t.alphaMap,
        this.envMap = t.envMap,
        this.combine = t.combine,
        this.reflectivity = t.reflectivity,
        this.refractionRatio = t.refractionRatio,
        this.wireframe = t.wireframe,
        this.wireframeLinewidth = t.wireframeLinewidth,
        this.wireframeLinecap = t.wireframeLinecap,
        this.wireframeLinejoin = t.wireframeLinejoin,
        this.skinning = t.skinning,
        this.morphTargets = t.morphTargets,
        this.morphNormals = t.morphNormals,
        this
    }
    ,
    ja.prototype = Object.create(Ca.prototype),
    ja.prototype.constructor = ja,
    ja.prototype.isMeshToonMaterial = !0,
    ja.prototype.copy = function(t) {
        return Ca.prototype.copy.call(this, t),
        this.gradientMap = t.gradientMap,
        this
    }
    ,
    Pa.prototype = Object.create(gr.prototype),
    Pa.prototype.constructor = Pa,
    Pa.prototype.isMeshNormalMaterial = !0,
    Pa.prototype.copy = function(t) {
        return gr.prototype.copy.call(this, t),
        this.bumpMap = t.bumpMap,
        this.bumpScale = t.bumpScale,
        this.normalMap = t.normalMap,
        this.normalMapType = t.normalMapType,
        this.normalScale.copy(t.normalScale),
        this.displacementMap = t.displacementMap,
        this.displacementScale = t.displacementScale,
        this.displacementBias = t.displacementBias,
        this.wireframe = t.wireframe,
        this.wireframeLinewidth = t.wireframeLinewidth,
        this.skinning = t.skinning,
        this.morphTargets = t.morphTargets,
        this.morphNormals = t.morphNormals,
        this
    }
    ,
    Na.prototype = Object.create(gr.prototype),
    Na.prototype.constructor = Na,
    Na.prototype.isMeshLambertMaterial = !0,
    Na.prototype.copy = function(t) {
        return gr.prototype.copy.call(this, t),
        this.color.copy(t.color),
        this.map = t.map,
        this.lightMap = t.lightMap,
        this.lightMapIntensity = t.lightMapIntensity,
        this.aoMap = t.aoMap,
        this.aoMapIntensity = t.aoMapIntensity,
        this.emissive.copy(t.emissive),
        this.emissiveMap = t.emissiveMap,
        this.emissiveIntensity = t.emissiveIntensity,
        this.specularMap = t.specularMap,
        this.alphaMap = t.alphaMap,
        this.envMap = t.envMap,
        this.combine = t.combine,
        this.reflectivity = t.reflectivity,
        this.refractionRatio = t.refractionRatio,
        this.wireframe = t.wireframe,
        this.wireframeLinewidth = t.wireframeLinewidth,
        this.wireframeLinecap = t.wireframeLinecap,
        this.wireframeLinejoin = t.wireframeLinejoin,
        this.skinning = t.skinning,
        this.morphTargets = t.morphTargets,
        this.morphNormals = t.morphNormals,
        this
    }
    ,
    Ia.prototype = Object.create(ro.prototype),
    Ia.prototype.constructor = Ia,
    Ia.prototype.isLineDashedMaterial = !0,
    Ia.prototype.copy = function(t) {
        return ro.prototype.copy.call(this, t),
        this.scale = t.scale,
        this.dashSize = t.dashSize,
        this.gapSize = t.gapSize,
        this
    }
    ;
    var Da = Object.freeze({
        ShadowMaterial: Oa,
        SpriteMaterial: Qi,
        RawShaderMaterial: Aa,
        ShaderMaterial: br,
        PointsMaterial: so,
        MeshPhysicalMaterial: Ra,
        MeshStandardMaterial: La,
        MeshPhongMaterial: Ca,
        MeshToonMaterial: ja,
        MeshNormalMaterial: Pa,
        MeshLambertMaterial: Na,
        MeshDepthMaterial: Di,
        MeshDistanceMaterial: Ui,
        MeshBasicMaterial: yr,
        LineDashedMaterial: Ia,
        LineBasicMaterial: ro,
        Material: gr
    })
      , Ua = {
        enabled: !1,
        files: {},
        add: function(t, e) {
            !1 !== this.enabled && (this.files[t] = e)
        },
        get: function(t) {
            if (!1 !== this.enabled)
                return this.files[t]
        },
        remove: function(t) {
            delete this.files[t]
        },
        clear: function() {
            this.files = {}
        }
    };
    function za(t, e, n) {
        var r = this
          , i = !1
          , o = 0
          , a = 0
          , s = void 0;
        this.onStart = void 0,
        this.onLoad = t,
        this.onProgress = e,
        this.onError = n,
        this.itemStart = function(t) {
            a++,
            !1 === i && void 0 !== r.onStart && r.onStart(t, o, a),
            i = !0
        }
        ,
        this.itemEnd = function(t) {
            o++,
            void 0 !== r.onProgress && r.onProgress(t, o, a),
            o === a && (i = !1,
            void 0 !== r.onLoad && r.onLoad())
        }
        ,
        this.itemError = function(t) {
            void 0 !== r.onError && r.onError(t)
        }
        ,
        this.resolveURL = function(t) {
            return s ? s(t) : t
        }
        ,
        this.setURLModifier = function(t) {
            return s = t,
            this
        }
    }
    var Ba = new za
      , ka = {};
    function Fa(t) {
        this.manager = void 0 !== t ? t : Ba
    }
    function Ga(t) {
        this.manager = void 0 !== t ? t : Ba,
        this._parser = null
    }
    function Ha(t) {
        this.manager = void 0 !== t ? t : Ba,
        this._parser = null
    }
    function Va(t) {
        this.manager = void 0 !== t ? t : Ba
    }
    function Wa(t) {
        this.manager = void 0 !== t ? t : Ba
    }
    function qa(t) {
        this.manager = void 0 !== t ? t : Ba
    }
    function Xa() {
        this.type = "Curve",
        this.arcLengthDivisions = 200
    }
    function Ya(t, e, n, r, i, o, a, s) {
        Xa.call(this),
        this.type = "EllipseCurve",
        this.aX = t || 0,
        this.aY = e || 0,
        this.xRadius = n || 1,
        this.yRadius = r || 1,
        this.aStartAngle = i || 0,
        this.aEndAngle = o || 2 * Math.PI,
        this.aClockwise = a || !1,
        this.aRotation = s || 0
    }
    function Za(t, e, n, r, i, o) {
        Ya.call(this, t, e, n, n, r, i, o),
        this.type = "ArcCurve"
    }
    function Ja() {
        var t = 0
          , e = 0
          , n = 0
          , r = 0;
        function i(i, o, a, s) {
            t = i,
            e = a,
            n = -3 * i + 3 * o - 2 * a - s,
            r = 2 * i - 2 * o + a + s
        }
        return {
            initCatmullRom: function(t, e, n, r, o) {
                i(e, n, o * (n - t), o * (r - e))
            },
            initNonuniformCatmullRom: function(t, e, n, r, o, a, s) {
                var u = (e - t) / o - (n - t) / (o + a) + (n - e) / a
                  , c = (n - e) / a - (r - e) / (a + s) + (r - n) / s;
                i(e, n, u *= a, c *= a)
            },
            calc: function(i) {
                var o = i * i;
                return t + e * i + n * o + r * (o * i)
            }
        }
    }
    Object.assign(Fa.prototype, {
        load: function(t, e, n, r) {
            void 0 === t && (t = ""),
            void 0 !== this.path && (t = this.path + t),
            t = this.manager.resolveURL(t);
            var i = this
              , o = Ua.get(t);
            if (void 0 !== o)
                return i.manager.itemStart(t),
                setTimeout(function() {
                    e && e(o),
                    i.manager.itemEnd(t)
                }, 0),
                o;
            if (void 0 === ka[t]) {
                var a = t.match(/^data:(.*?)(;base64)?,(.*)$/);
                if (a) {
                    var s = a[1]
                      , u = !!a[2]
                      , c = a[3];
                    c = window.decodeURIComponent(c),
                    u && (c = window.atob(c));
                    try {
                        var f, l = (this.responseType || "").toLowerCase();
                        switch (l) {
                        case "arraybuffer":
                        case "blob":
                            for (var h = new Uint8Array(c.length), d = 0; d < c.length; d++)
                                h[d] = c.charCodeAt(d);
                            f = "blob" === l ? new Blob([h.buffer],{
                                type: s
                            }) : h.buffer;
                            break;
                        case "document":
                            var p = new DOMParser;
                            f = p.parseFromString(c, s);
                            break;
                        case "json":
                            f = JSON.parse(c);
                            break;
                        default:
                            f = c
                        }
                        window.setTimeout(function() {
                            e && e(f),
                            i.manager.itemEnd(t)
                        }, 0)
                    } catch (e) {
                        window.setTimeout(function() {
                            r && r(e),
                            i.manager.itemEnd(t),
                            i.manager.itemError(t)
                        }, 0)
                    }
                } else {
                    ka[t] = [],
                    ka[t].push({
                        onLoad: e,
                        onProgress: n,
                        onError: r
                    });
                    var m = new XMLHttpRequest;
                    for (var v in m.open("GET", t, !0),
                    m.addEventListener("load", function(e) {
                        var n = this.response;
                        Ua.add(t, n);
                        var r = ka[t];
                        if (delete ka[t],
                        200 === this.status || 0 === this.status) {
                            0 === this.status && console.warn("THREE.FileLoader: HTTP Status 0 received.");
                            for (var o = 0, a = r.length; o < a; o++) {
                                (s = r[o]).onLoad && s.onLoad(n)
                            }
                            i.manager.itemEnd(t)
                        } else {
                            for (o = 0,
                            a = r.length; o < a; o++) {
                                var s;
                                (s = r[o]).onError && s.onError(e)
                            }
                            i.manager.itemEnd(t),
                            i.manager.itemError(t)
                        }
                    }, !1),
                    m.addEventListener("progress", function(e) {
                        for (var n = ka[t], r = 0, i = n.length; r < i; r++) {
                            var o = n[r];
                            o.onProgress && o.onProgress(e)
                        }
                    }, !1),
                    m.addEventListener("error", function(e) {
                        var n = ka[t];
                        delete ka[t];
                        for (var r = 0, o = n.length; r < o; r++) {
                            var a = n[r];
                            a.onError && a.onError(e)
                        }
                        i.manager.itemEnd(t),
                        i.manager.itemError(t)
                    }, !1),
                    void 0 !== this.responseType && (m.responseType = this.responseType),
                    void 0 !== this.withCredentials && (m.withCredentials = this.withCredentials),
                    m.overrideMimeType && m.overrideMimeType(void 0 !== this.mimeType ? this.mimeType : "text/plain"),
                    this.requestHeader)
                        m.setRequestHeader(v, this.requestHeader[v]);
                    m.send(null)
                }
                return i.manager.itemStart(t),
                m
            }
            ka[t].push({
                onLoad: e,
                onProgress: n,
                onError: r
            })
        },
        setPath: function(t) {
            return this.path = t,
            this
        },
        setResponseType: function(t) {
            return this.responseType = t,
            this
        },
        setWithCredentials: function(t) {
            return this.withCredentials = t,
            this
        },
        setMimeType: function(t) {
            return this.mimeType = t,
            this
        },
        setRequestHeader: function(t) {
            return this.requestHeader = t,
            this
        }
    }),
    Object.assign(Ga.prototype, {
        load: function(t, e, n, r) {
            var i = this
              , o = []
              , a = new fo;
            a.image = o;
            var s = new Fa(this.manager);
            function u(u) {
                s.load(t[u], function(t) {
                    var n = i._parser(t, !0);
                    o[u] = {
                        width: n.width,
                        height: n.height,
                        format: n.format,
                        mipmaps: n.mipmaps
                    },
                    6 === (c += 1) && (1 === n.mipmapCount && (a.minFilter = jt),
                    a.format = n.format,
                    a.needsUpdate = !0,
                    e && e(a))
                }, n, r)
            }
            if (s.setPath(this.path),
            s.setResponseType("arraybuffer"),
            Array.isArray(t))
                for (var c = 0, f = 0, l = t.length; f < l; ++f)
                    u(f);
            else
                s.load(t, function(t) {
                    var n = i._parser(t, !0);
                    if (n.isCubemap)
                        for (var r = n.mipmaps.length / n.mipmapCount, s = 0; s < r; s++) {
                            o[s] = {
                                mipmaps: []
                            };
                            for (var u = 0; u < n.mipmapCount; u++)
                                o[s].mipmaps.push(n.mipmaps[s * n.mipmapCount + u]),
                                o[s].format = n.format,
                                o[s].width = n.width,
                                o[s].height = n.height
                        }
                    else
                        a.image.width = n.width,
                        a.image.height = n.height,
                        a.mipmaps = n.mipmaps;
                    1 === n.mipmapCount && (a.minFilter = jt),
                    a.format = n.format,
                    a.needsUpdate = !0,
                    e && e(a)
                }, n, r);
            return a
        },
        setPath: function(t) {
            return this.path = t,
            this
        }
    }),
    Object.assign(Ha.prototype, {
        load: function(t, e, n, r) {
            var i = this
              , o = new ln
              , a = new Fa(this.manager);
            return a.setResponseType("arraybuffer"),
            a.load(t, function(t) {
                var n = i._parser(t);
                n && (void 0 !== n.image ? o.image = n.image : void 0 !== n.data && (o.image.width = n.width,
                o.image.height = n.height,
                o.image.data = n.data),
                o.wrapS = void 0 !== n.wrapS ? n.wrapS : Ot,
                o.wrapT = void 0 !== n.wrapT ? n.wrapT : Ot,
                o.magFilter = void 0 !== n.magFilter ? n.magFilter : jt,
                o.minFilter = void 0 !== n.minFilter ? n.minFilter : Nt,
                o.anisotropy = void 0 !== n.anisotropy ? n.anisotropy : 1,
                void 0 !== n.format && (o.format = n.format),
                void 0 !== n.type && (o.type = n.type),
                void 0 !== n.mipmaps && (o.mipmaps = n.mipmaps),
                1 === n.mipmapCount && (o.minFilter = jt),
                o.needsUpdate = !0,
                e && e(o, n))
            }, n, r),
            o
        }
    }),
    Object.assign(Va.prototype, {
        crossOrigin: "anonymous",
        load: function(t, e, n, r) {
            void 0 === t && (t = ""),
            void 0 !== this.path && (t = this.path + t),
            t = this.manager.resolveURL(t);
            var i = this
              , o = Ua.get(t);
            if (void 0 !== o)
                return i.manager.itemStart(t),
                setTimeout(function() {
                    e && e(o),
                    i.manager.itemEnd(t)
                }, 0),
                o;
            var a = document.createElementNS("http://www.w3.org/1999/xhtml", "img");
            function s() {
                a.removeEventListener("load", s, !1),
                a.removeEventListener("error", u, !1),
                Ua.add(t, this),
                e && e(this),
                i.manager.itemEnd(t)
            }
            function u(e) {
                a.removeEventListener("load", s, !1),
                a.removeEventListener("error", u, !1),
                r && r(e),
                i.manager.itemEnd(t),
                i.manager.itemError(t)
            }
            return a.addEventListener("load", s, !1),
            a.addEventListener("error", u, !1),
            "data:" !== t.substr(0, 5) && void 0 !== this.crossOrigin && (a.crossOrigin = this.crossOrigin),
            i.manager.itemStart(t),
            a.src = t,
            a
        },
        setCrossOrigin: function(t) {
            return this.crossOrigin = t,
            this
        },
        setPath: function(t) {
            return this.path = t,
            this
        }
    }),
    Object.assign(Wa.prototype, {
        crossOrigin: "anonymous",
        load: function(t, e, n, r) {
            var i = new Er
              , o = new Va(this.manager);
            o.setCrossOrigin(this.crossOrigin),
            o.setPath(this.path);
            var a = 0;
            function s(n) {
                o.load(t[n], function(t) {
                    i.images[n] = t,
                    6 === ++a && (i.needsUpdate = !0,
                    e && e(i))
                }, void 0, r)
            }
            for (var u = 0; u < t.length; ++u)
                s(u);
            return i
        },
        setCrossOrigin: function(t) {
            return this.crossOrigin = t,
            this
        },
        setPath: function(t) {
            return this.path = t,
            this
        }
    }),
    Object.assign(qa.prototype, {
        crossOrigin: "anonymous",
        load: function(t, e, n, r) {
            var i = new sn
              , o = new Va(this.manager);
            return o.setCrossOrigin(this.crossOrigin),
            o.setPath(this.path),
            o.load(t, function(n) {
                i.image = n;
                var r = t.search(/\.(jpg|jpeg)$/) > 0 || 0 === t.search(/^data\:image\/jpeg/);
                i.format = r ? Yt : Zt,
                i.needsUpdate = !0,
                void 0 !== e && e(i)
            }, n, r),
            i
        },
        setCrossOrigin: function(t) {
            return this.crossOrigin = t,
            this
        },
        setPath: function(t) {
            return this.path = t,
            this
        }
    }),
    Object.assign(Xa.prototype, {
        getPoint: function() {
            return console.warn("THREE.Curve: .getPoint() not implemented."),
            null
        },
        getPointAt: function(t, e) {
            var n = this.getUtoTmapping(t);
            return this.getPoint(n, e)
        },
        getPoints: function(t) {
            void 0 === t && (t = 5);
            for (var e = [], n = 0; n <= t; n++)
                e.push(this.getPoint(n / t));
            return e
        },
        getSpacedPoints: function(t) {
            void 0 === t && (t = 5);
            for (var e = [], n = 0; n <= t; n++)
                e.push(this.getPointAt(n / t));
            return e
        },
        getLength: function() {
            var t = this.getLengths();
            return t[t.length - 1]
        },
        getLengths: function(t) {
            if (void 0 === t && (t = this.arcLengthDivisions),
            this.cacheArcLengths && this.cacheArcLengths.length === t + 1 && !this.needsUpdate)
                return this.cacheArcLengths;
            this.needsUpdate = !1;
            var e, n, r = [], i = this.getPoint(0), o = 0;
            for (r.push(0),
            n = 1; n <= t; n++)
                o += (e = this.getPoint(n / t)).distanceTo(i),
                r.push(o),
                i = e;
            return this.cacheArcLengths = r,
            r
        },
        updateArcLengths: function() {
            this.needsUpdate = !0,
            this.getLengths()
        },
        getUtoTmapping: function(t, e) {
            var n, r = this.getLengths(), i = 0, o = r.length;
            n = e || t * r[o - 1];
            for (var a, s = 0, u = o - 1; s <= u; )
                if ((a = r[i = Math.floor(s + (u - s) / 2)] - n) < 0)
                    s = i + 1;
                else {
                    if (!(a > 0)) {
                        u = i;
                        break
                    }
                    u = i - 1
                }
            if (r[i = u] === n)
                return i / (o - 1);
            var c = r[i];
            return (i + (n - c) / (r[i + 1] - c)) / (o - 1)
        },
        getTangent: function(t) {
            var e = t - 1e-4
              , n = t + 1e-4;
            e < 0 && (e = 0),
            n > 1 && (n = 1);
            var r = this.getPoint(e);
            return this.getPoint(n).clone().sub(r).normalize()
        },
        getTangentAt: function(t) {
            var e = this.getUtoTmapping(t);
            return this.getTangent(e)
        },
        computeFrenetFrames: function(t, e) {
            var n, r, i, o = new Ke, a = [], s = [], u = [], c = new Ke, f = new Je;
            for (n = 0; n <= t; n++)
                r = n / t,
                a[n] = this.getTangentAt(r),
                a[n].normalize();
            s[0] = new Ke,
            u[0] = new Ke;
            var l = Number.MAX_VALUE
              , h = Math.abs(a[0].x)
              , d = Math.abs(a[0].y)
              , p = Math.abs(a[0].z);
            for (h <= l && (l = h,
            o.set(1, 0, 0)),
            d <= l && (l = d,
            o.set(0, 1, 0)),
            p <= l && o.set(0, 0, 1),
            c.crossVectors(a[0], o).normalize(),
            s[0].crossVectors(a[0], c),
            u[0].crossVectors(a[0], s[0]),
            n = 1; n <= t; n++)
                s[n] = s[n - 1].clone(),
                u[n] = u[n - 1].clone(),
                c.crossVectors(a[n - 1], a[n]),
                c.length() > Number.EPSILON && (c.normalize(),
                i = Math.acos(Ye.clamp(a[n - 1].dot(a[n]), -1, 1)),
                s[n].applyMatrix4(f.makeRotationAxis(c, i))),
                u[n].crossVectors(a[n], s[n]);
            if (!0 === e)
                for (i = Math.acos(Ye.clamp(s[0].dot(s[t]), -1, 1)),
                i /= t,
                a[0].dot(c.crossVectors(s[0], s[t])) > 0 && (i = -i),
                n = 1; n <= t; n++)
                    s[n].applyMatrix4(f.makeRotationAxis(a[n], i * n)),
                    u[n].crossVectors(a[n], s[n]);
            return {
                tangents: a,
                normals: s,
                binormals: u
            }
        },
        clone: function() {
            return (new this.constructor).copy(this)
        },
        copy: function(t) {
            return this.arcLengthDivisions = t.arcLengthDivisions,
            this
        },
        toJSON: function() {
            var t = {
                metadata: {
                    version: 4.5,
                    type: "Curve",
                    generator: "Curve.toJSON"
                }
            };
            return t.arcLengthDivisions = this.arcLengthDivisions,
            t.type = this.type,
            t
        },
        fromJSON: function(t) {
            return this.arcLengthDivisions = t.arcLengthDivisions,
            this
        }
    }),
    Ya.prototype = Object.create(Xa.prototype),
    Ya.prototype.constructor = Ya,
    Ya.prototype.isEllipseCurve = !0,
    Ya.prototype.getPoint = function(t, e) {
        for (var n = e || new Ze, r = 2 * Math.PI, i = this.aEndAngle - this.aStartAngle, o = Math.abs(i) < Number.EPSILON; i < 0; )
            i += r;
        for (; i > r; )
            i -= r;
        i < Number.EPSILON && (i = o ? 0 : r),
        !0 !== this.aClockwise || o || (i === r ? i = -r : i -= r);
        var a = this.aStartAngle + t * i
          , s = this.aX + this.xRadius * Math.cos(a)
          , u = this.aY + this.yRadius * Math.sin(a);
        if (0 !== this.aRotation) {
            var c = Math.cos(this.aRotation)
              , f = Math.sin(this.aRotation)
              , l = s - this.aX
              , h = u - this.aY;
            s = l * c - h * f + this.aX,
            u = l * f + h * c + this.aY
        }
        return n.set(s, u)
    }
    ,
    Ya.prototype.copy = function(t) {
        return Xa.prototype.copy.call(this, t),
        this.aX = t.aX,
        this.aY = t.aY,
        this.xRadius = t.xRadius,
        this.yRadius = t.yRadius,
        this.aStartAngle = t.aStartAngle,
        this.aEndAngle = t.aEndAngle,
        this.aClockwise = t.aClockwise,
        this.aRotation = t.aRotation,
        this
    }
    ,
    Ya.prototype.toJSON = function() {
        var t = Xa.prototype.toJSON.call(this);
        return t.aX = this.aX,
        t.aY = this.aY,
        t.xRadius = this.xRadius,
        t.yRadius = this.yRadius,
        t.aStartAngle = this.aStartAngle,
        t.aEndAngle = this.aEndAngle,
        t.aClockwise = this.aClockwise,
        t.aRotation = this.aRotation,
        t
    }
    ,
    Ya.prototype.fromJSON = function(t) {
        return Xa.prototype.fromJSON.call(this, t),
        this.aX = t.aX,
        this.aY = t.aY,
        this.xRadius = t.xRadius,
        this.yRadius = t.yRadius,
        this.aStartAngle = t.aStartAngle,
        this.aEndAngle = t.aEndAngle,
        this.aClockwise = t.aClockwise,
        this.aRotation = t.aRotation,
        this
    }
    ,
    Za.prototype = Object.create(Ya.prototype),
    Za.prototype.constructor = Za,
    Za.prototype.isArcCurve = !0;
    var Qa = new Ke
      , Ka = new Ja
      , $a = new Ja
      , ts = new Ja;
    function es(t, e, n, r) {
        Xa.call(this),
        this.type = "CatmullRomCurve3",
        this.points = t || [],
        this.closed = e || !1,
        this.curveType = n || "centripetal",
        this.tension = r || .5
    }
    function ns(t, e, n, r, i) {
        var o = .5 * (r - e)
          , a = .5 * (i - n)
          , s = t * t;
        return (2 * n - 2 * r + o + a) * (t * s) + (-3 * n + 3 * r - 2 * o - a) * s + o * t + n
    }
    function rs(t, e, n, r) {
        return function(t, e) {
            var n = 1 - t;
            return n * n * e
        }(t, e) + function(t, e) {
            return 2 * (1 - t) * t * e
        }(t, n) + function(t, e) {
            return t * t * e
        }(t, r)
    }
    function is(t, e, n, r, i) {
        return function(t, e) {
            var n = 1 - t;
            return n * n * n * e
        }(t, e) + function(t, e) {
            var n = 1 - t;
            return 3 * n * n * t * e
        }(t, n) + function(t, e) {
            return 3 * (1 - t) * t * t * e
        }(t, r) + function(t, e) {
            return t * t * t * e
        }(t, i)
    }
    function os(t, e, n, r) {
        Xa.call(this),
        this.type = "CubicBezierCurve",
        this.v0 = t || new Ze,
        this.v1 = e || new Ze,
        this.v2 = n || new Ze,
        this.v3 = r || new Ze
    }
    function as(t, e, n, r) {
        Xa.call(this),
        this.type = "CubicBezierCurve3",
        this.v0 = t || new Ke,
        this.v1 = e || new Ke,
        this.v2 = n || new Ke,
        this.v3 = r || new Ke
    }
    function ss(t, e) {
        Xa.call(this),
        this.type = "LineCurve",
        this.v1 = t || new Ze,
        this.v2 = e || new Ze
    }
    function us(t, e) {
        Xa.call(this),
        this.type = "LineCurve3",
        this.v1 = t || new Ke,
        this.v2 = e || new Ke
    }
    function cs(t, e, n) {
        Xa.call(this),
        this.type = "QuadraticBezierCurve",
        this.v0 = t || new Ze,
        this.v1 = e || new Ze,
        this.v2 = n || new Ze
    }
    function fs(t, e, n) {
        Xa.call(this),
        this.type = "QuadraticBezierCurve3",
        this.v0 = t || new Ke,
        this.v1 = e || new Ke,
        this.v2 = n || new Ke
    }
    function ls(t) {
        Xa.call(this),
        this.type = "SplineCurve",
        this.points = t || []
    }
    es.prototype = Object.create(Xa.prototype),
    es.prototype.constructor = es,
    es.prototype.isCatmullRomCurve3 = !0,
    es.prototype.getPoint = function(t, e) {
        var n, r, i, o, a = e || new Ke, s = this.points, u = s.length, c = (u - (this.closed ? 0 : 1)) * t, f = Math.floor(c), l = c - f;
        if (this.closed ? f += f > 0 ? 0 : (Math.floor(Math.abs(f) / u) + 1) * u : 0 === l && f === u - 1 && (f = u - 2,
        l = 1),
        this.closed || f > 0 ? n = s[(f - 1) % u] : (Qa.subVectors(s[0], s[1]).add(s[0]),
        n = Qa),
        r = s[f % u],
        i = s[(f + 1) % u],
        this.closed || f + 2 < u ? o = s[(f + 2) % u] : (Qa.subVectors(s[u - 1], s[u - 2]).add(s[u - 1]),
        o = Qa),
        "centripetal" === this.curveType || "chordal" === this.curveType) {
            var h = "chordal" === this.curveType ? .5 : .25
              , d = Math.pow(n.distanceToSquared(r), h)
              , p = Math.pow(r.distanceToSquared(i), h)
              , m = Math.pow(i.distanceToSquared(o), h);
            p < 1e-4 && (p = 1),
            d < 1e-4 && (d = p),
            m < 1e-4 && (m = p),
            Ka.initNonuniformCatmullRom(n.x, r.x, i.x, o.x, d, p, m),
            $a.initNonuniformCatmullRom(n.y, r.y, i.y, o.y, d, p, m),
            ts.initNonuniformCatmullRom(n.z, r.z, i.z, o.z, d, p, m)
        } else
            "catmullrom" === this.curveType && (Ka.initCatmullRom(n.x, r.x, i.x, o.x, this.tension),
            $a.initCatmullRom(n.y, r.y, i.y, o.y, this.tension),
            ts.initCatmullRom(n.z, r.z, i.z, o.z, this.tension));
        return a.set(Ka.calc(l), $a.calc(l), ts.calc(l)),
        a
    }
    ,
    es.prototype.copy = function(t) {
        Xa.prototype.copy.call(this, t),
        this.points = [];
        for (var e = 0, n = t.points.length; e < n; e++) {
            var r = t.points[e];
            this.points.push(r.clone())
        }
        return this.closed = t.closed,
        this.curveType = t.curveType,
        this.tension = t.tension,
        this
    }
    ,
    es.prototype.toJSON = function() {
        var t = Xa.prototype.toJSON.call(this);
        t.points = [];
        for (var e = 0, n = this.points.length; e < n; e++) {
            var r = this.points[e];
            t.points.push(r.toArray())
        }
        return t.closed = this.closed,
        t.curveType = this.curveType,
        t.tension = this.tension,
        t
    }
    ,
    es.prototype.fromJSON = function(t) {
        Xa.prototype.fromJSON.call(this, t),
        this.points = [];
        for (var e = 0, n = t.points.length; e < n; e++) {
            var r = t.points[e];
            this.points.push((new Ke).fromArray(r))
        }
        return this.closed = t.closed,
        this.curveType = t.curveType,
        this.tension = t.tension,
        this
    }
    ,
    os.prototype = Object.create(Xa.prototype),
    os.prototype.constructor = os,
    os.prototype.isCubicBezierCurve = !0,
    os.prototype.getPoint = function(t, e) {
        var n = e || new Ze
          , r = this.v0
          , i = this.v1
          , o = this.v2
          , a = this.v3;
        return n.set(is(t, r.x, i.x, o.x, a.x), is(t, r.y, i.y, o.y, a.y)),
        n
    }
    ,
    os.prototype.copy = function(t) {
        return Xa.prototype.copy.call(this, t),
        this.v0.copy(t.v0),
        this.v1.copy(t.v1),
        this.v2.copy(t.v2),
        this.v3.copy(t.v3),
        this
    }
    ,
    os.prototype.toJSON = function() {
        var t = Xa.prototype.toJSON.call(this);
        return t.v0 = this.v0.toArray(),
        t.v1 = this.v1.toArray(),
        t.v2 = this.v2.toArray(),
        t.v3 = this.v3.toArray(),
        t
    }
    ,
    os.prototype.fromJSON = function(t) {
        return Xa.prototype.fromJSON.call(this, t),
        this.v0.fromArray(t.v0),
        this.v1.fromArray(t.v1),
        this.v2.fromArray(t.v2),
        this.v3.fromArray(t.v3),
        this
    }
    ,
    as.prototype = Object.create(Xa.prototype),
    as.prototype.constructor = as,
    as.prototype.isCubicBezierCurve3 = !0,
    as.prototype.getPoint = function(t, e) {
        var n = e || new Ke
          , r = this.v0
          , i = this.v1
          , o = this.v2
          , a = this.v3;
        return n.set(is(t, r.x, i.x, o.x, a.x), is(t, r.y, i.y, o.y, a.y), is(t, r.z, i.z, o.z, a.z)),
        n
    }
    ,
    as.prototype.copy = function(t) {
        return Xa.prototype.copy.call(this, t),
        this.v0.copy(t.v0),
        this.v1.copy(t.v1),
        this.v2.copy(t.v2),
        this.v3.copy(t.v3),
        this
    }
    ,
    as.prototype.toJSON = function() {
        var t = Xa.prototype.toJSON.call(this);
        return t.v0 = this.v0.toArray(),
        t.v1 = this.v1.toArray(),
        t.v2 = this.v2.toArray(),
        t.v3 = this.v3.toArray(),
        t
    }
    ,
    as.prototype.fromJSON = function(t) {
        return Xa.prototype.fromJSON.call(this, t),
        this.v0.fromArray(t.v0),
        this.v1.fromArray(t.v1),
        this.v2.fromArray(t.v2),
        this.v3.fromArray(t.v3),
        this
    }
    ,
    ss.prototype = Object.create(Xa.prototype),
    ss.prototype.constructor = ss,
    ss.prototype.isLineCurve = !0,
    ss.prototype.getPoint = function(t, e) {
        var n = e || new Ze;
        return 1 === t ? n.copy(this.v2) : (n.copy(this.v2).sub(this.v1),
        n.multiplyScalar(t).add(this.v1)),
        n
    }
    ,
    ss.prototype.getPointAt = function(t, e) {
        return this.getPoint(t, e)
    }
    ,
    ss.prototype.getTangent = function() {
        return this.v2.clone().sub(this.v1).normalize()
    }
    ,
    ss.prototype.copy = function(t) {
        return Xa.prototype.copy.call(this, t),
        this.v1.copy(t.v1),
        this.v2.copy(t.v2),
        this
    }
    ,
    ss.prototype.toJSON = function() {
        var t = Xa.prototype.toJSON.call(this);
        return t.v1 = this.v1.toArray(),
        t.v2 = this.v2.toArray(),
        t
    }
    ,
    ss.prototype.fromJSON = function(t) {
        return Xa.prototype.fromJSON.call(this, t),
        this.v1.fromArray(t.v1),
        this.v2.fromArray(t.v2),
        this
    }
    ,
    us.prototype = Object.create(Xa.prototype),
    us.prototype.constructor = us,
    us.prototype.isLineCurve3 = !0,
    us.prototype.getPoint = function(t, e) {
        var n = e || new Ke;
        return 1 === t ? n.copy(this.v2) : (n.copy(this.v2).sub(this.v1),
        n.multiplyScalar(t).add(this.v1)),
        n
    }
    ,
    us.prototype.getPointAt = function(t, e) {
        return this.getPoint(t, e)
    }
    ,
    us.prototype.copy = function(t) {
        return Xa.prototype.copy.call(this, t),
        this.v1.copy(t.v1),
        this.v2.copy(t.v2),
        this
    }
    ,
    us.prototype.toJSON = function() {
        var t = Xa.prototype.toJSON.call(this);
        return t.v1 = this.v1.toArray(),
        t.v2 = this.v2.toArray(),
        t
    }
    ,
    us.prototype.fromJSON = function(t) {
        return Xa.prototype.fromJSON.call(this, t),
        this.v1.fromArray(t.v1),
        this.v2.fromArray(t.v2),
        this
    }
    ,
    cs.prototype = Object.create(Xa.prototype),
    cs.prototype.constructor = cs,
    cs.prototype.isQuadraticBezierCurve = !0,
    cs.prototype.getPoint = function(t, e) {
        var n = e || new Ze
          , r = this.v0
          , i = this.v1
          , o = this.v2;
        return n.set(rs(t, r.x, i.x, o.x), rs(t, r.y, i.y, o.y)),
        n
    }
    ,
    cs.prototype.copy = function(t) {
        return Xa.prototype.copy.call(this, t),
        this.v0.copy(t.v0),
        this.v1.copy(t.v1),
        this.v2.copy(t.v2),
        this
    }
    ,
    cs.prototype.toJSON = function() {
        var t = Xa.prototype.toJSON.call(this);
        return t.v0 = this.v0.toArray(),
        t.v1 = this.v1.toArray(),
        t.v2 = this.v2.toArray(),
        t
    }
    ,
    cs.prototype.fromJSON = function(t) {
        return Xa.prototype.fromJSON.call(this, t),
        this.v0.fromArray(t.v0),
        this.v1.fromArray(t.v1),
        this.v2.fromArray(t.v2),
        this
    }
    ,
    fs.prototype = Object.create(Xa.prototype),
    fs.prototype.constructor = fs,
    fs.prototype.isQuadraticBezierCurve3 = !0,
    fs.prototype.getPoint = function(t, e) {
        var n = e || new Ke
          , r = this.v0
          , i = this.v1
          , o = this.v2;
        return n.set(rs(t, r.x, i.x, o.x), rs(t, r.y, i.y, o.y), rs(t, r.z, i.z, o.z)),
        n
    }
    ,
    fs.prototype.copy = function(t) {
        return Xa.prototype.copy.call(this, t),
        this.v0.copy(t.v0),
        this.v1.copy(t.v1),
        this.v2.copy(t.v2),
        this
    }
    ,
    fs.prototype.toJSON = function() {
        var t = Xa.prototype.toJSON.call(this);
        return t.v0 = this.v0.toArray(),
        t.v1 = this.v1.toArray(),
        t.v2 = this.v2.toArray(),
        t
    }
    ,
    fs.prototype.fromJSON = function(t) {
        return Xa.prototype.fromJSON.call(this, t),
        this.v0.fromArray(t.v0),
        this.v1.fromArray(t.v1),
        this.v2.fromArray(t.v2),
        this
    }
    ,
    ls.prototype = Object.create(Xa.prototype),
    ls.prototype.constructor = ls,
    ls.prototype.isSplineCurve = !0,
    ls.prototype.getPoint = function(t, e) {
        var n = e || new Ze
          , r = this.points
          , i = (r.length - 1) * t
          , o = Math.floor(i)
          , a = i - o
          , s = r[0 === o ? o : o - 1]
          , u = r[o]
          , c = r[o > r.length - 2 ? r.length - 1 : o + 1]
          , f = r[o > r.length - 3 ? r.length - 1 : o + 2];
        return n.set(ns(a, s.x, u.x, c.x, f.x), ns(a, s.y, u.y, c.y, f.y)),
        n
    }
    ,
    ls.prototype.copy = function(t) {
        Xa.prototype.copy.call(this, t),
        this.points = [];
        for (var e = 0, n = t.points.length; e < n; e++) {
            var r = t.points[e];
            this.points.push(r.clone())
        }
        return this
    }
    ,
    ls.prototype.toJSON = function() {
        var t = Xa.prototype.toJSON.call(this);
        t.points = [];
        for (var e = 0, n = this.points.length; e < n; e++) {
            var r = this.points[e];
            t.points.push(r.toArray())
        }
        return t
    }
    ,
    ls.prototype.fromJSON = function(t) {
        Xa.prototype.fromJSON.call(this, t),
        this.points = [];
        for (var e = 0, n = t.points.length; e < n; e++) {
            var r = t.points[e];
            this.points.push((new Ze).fromArray(r))
        }
        return this
    }
    ;
    var hs = Object.freeze({
        ArcCurve: Za,
        CatmullRomCurve3: es,
        CubicBezierCurve: os,
        CubicBezierCurve3: as,
        EllipseCurve: Ya,
        LineCurve: ss,
        LineCurve3: us,
        QuadraticBezierCurve: cs,
        QuadraticBezierCurve3: fs,
        SplineCurve: ls
    });
    function ds() {
        Xa.call(this),
        this.type = "CurvePath",
        this.curves = [],
        this.autoClose = !1
    }
    function ps(t) {
        ds.call(this),
        this.type = "Path",
        this.currentPoint = new Ze,
        t && this.setFromPoints(t)
    }
    function ms(t) {
        ps.call(this, t),
        this.uuid = Ye.generateUUID(),
        this.type = "Shape",
        this.holes = []
    }
    function vs(t, e) {
        Pn.call(this),
        this.type = "Light",
        this.color = new _n(t),
        this.intensity = void 0 !== e ? e : 1,
        this.receiveShadow = void 0
    }
    function gs(t, e, n) {
        vs.call(this, t, n),
        this.type = "HemisphereLight",
        this.castShadow = void 0,
        this.position.copy(Pn.DefaultUp),
        this.updateMatrix(),
        this.groundColor = new _n(e)
    }
    function ys(t) {
        this.camera = t,
        this.bias = 0,
        this.radius = 1,
        this.mapSize = new Ze(512,512),
        this.map = null,
        this.matrix = new Je
    }
    function bs() {
        ys.call(this, new Gi(50,1,.5,500))
    }
    function _s(t, e, n, r, i, o) {
        vs.call(this, t, e),
        this.type = "SpotLight",
        this.position.copy(Pn.DefaultUp),
        this.updateMatrix(),
        this.target = new Pn,
        Object.defineProperty(this, "power", {
            get: function() {
                return this.intensity * Math.PI
            },
            set: function(t) {
                this.intensity = t / Math.PI
            }
        }),
        this.distance = void 0 !== n ? n : 0,
        this.angle = void 0 !== r ? r : Math.PI / 3,
        this.penumbra = void 0 !== i ? i : 0,
        this.decay = void 0 !== o ? o : 1,
        this.shadow = new bs
    }
    function xs(t, e, n, r) {
        vs.call(this, t, e),
        this.type = "PointLight",
        Object.defineProperty(this, "power", {
            get: function() {
                return 4 * this.intensity * Math.PI
            },
            set: function(t) {
                this.intensity = t / (4 * Math.PI)
            }
        }),
        this.distance = void 0 !== n ? n : 0,
        this.decay = void 0 !== r ? r : 1,
        this.shadow = new ys(new Gi(90,1,.5,500))
    }
    function ws() {
        ys.call(this, new In(-5,5,5,-5,.5,500))
    }
    function Ms(t, e) {
        vs.call(this, t, e),
        this.type = "DirectionalLight",
        this.position.copy(Pn.DefaultUp),
        this.updateMatrix(),
        this.target = new Pn,
        this.shadow = new ws
    }
    function Es(t, e) {
        vs.call(this, t, e),
        this.type = "AmbientLight",
        this.castShadow = void 0
    }
    function Ts(t, e, n, r) {
        vs.call(this, t, e),
        this.type = "RectAreaLight",
        this.width = void 0 !== n ? n : 10,
        this.height = void 0 !== r ? r : 10
    }
    ds.prototype = Object.assign(Object.create(Xa.prototype), {
        constructor: ds,
        add: function(t) {
            this.curves.push(t)
        },
        closePath: function() {
            var t = this.curves[0].getPoint(0)
              , e = this.curves[this.curves.length - 1].getPoint(1);
            t.equals(e) || this.curves.push(new ss(e,t))
        },
        getPoint: function(t) {
            for (var e = t * this.getLength(), n = this.getCurveLengths(), r = 0; r < n.length; ) {
                if (n[r] >= e) {
                    var i = n[r] - e
                      , o = this.curves[r]
                      , a = o.getLength()
                      , s = 0 === a ? 0 : 1 - i / a;
                    return o.getPointAt(s)
                }
                r++
            }
            return null
        },
        getLength: function() {
            var t = this.getCurveLengths();
            return t[t.length - 1]
        },
        updateArcLengths: function() {
            this.needsUpdate = !0,
            this.cacheLengths = null,
            this.getCurveLengths()
        },
        getCurveLengths: function() {
            if (this.cacheLengths && this.cacheLengths.length === this.curves.length)
                return this.cacheLengths;
            for (var t = [], e = 0, n = 0, r = this.curves.length; n < r; n++)
                e += this.curves[n].getLength(),
                t.push(e);
            return this.cacheLengths = t,
            t
        },
        getSpacedPoints: function(t) {
            void 0 === t && (t = 40);
            for (var e = [], n = 0; n <= t; n++)
                e.push(this.getPoint(n / t));
            return this.autoClose && e.push(e[0]),
            e
        },
        getPoints: function(t) {
            t = t || 12;
            for (var e, n = [], r = 0, i = this.curves; r < i.length; r++)
                for (var o = i[r], a = o && o.isEllipseCurve ? 2 * t : o && (o.isLineCurve || o.isLineCurve3) ? 1 : o && o.isSplineCurve ? t * o.points.length : t, s = o.getPoints(a), u = 0; u < s.length; u++) {
                    var c = s[u];
                    e && e.equals(c) || (n.push(c),
                    e = c)
                }
            return this.autoClose && n.length > 1 && !n[n.length - 1].equals(n[0]) && n.push(n[0]),
            n
        },
        copy: function(t) {
            Xa.prototype.copy.call(this, t),
            this.curves = [];
            for (var e = 0, n = t.curves.length; e < n; e++) {
                var r = t.curves[e];
                this.curves.push(r.clone())
            }
            return this.autoClose = t.autoClose,
            this
        },
        toJSON: function() {
            var t = Xa.prototype.toJSON.call(this);
            t.autoClose = this.autoClose,
            t.curves = [];
            for (var e = 0, n = this.curves.length; e < n; e++) {
                var r = this.curves[e];
                t.curves.push(r.toJSON())
            }
            return t
        },
        fromJSON: function(t) {
            Xa.prototype.fromJSON.call(this, t),
            this.autoClose = t.autoClose,
            this.curves = [];
            for (var e = 0, n = t.curves.length; e < n; e++) {
                var r = t.curves[e];
                this.curves.push((new hs[r.type]).fromJSON(r))
            }
            return this
        }
    }),
    ps.prototype = Object.assign(Object.create(ds.prototype), {
        constructor: ps,
        setFromPoints: function(t) {
            this.moveTo(t[0].x, t[0].y);
            for (var e = 1, n = t.length; e < n; e++)
                this.lineTo(t[e].x, t[e].y)
        },
        moveTo: function(t, e) {
            this.currentPoint.set(t, e)
        },
        lineTo: function(t, e) {
            var n = new ss(this.currentPoint.clone(),new Ze(t,e));
            this.curves.push(n),
            this.currentPoint.set(t, e)
        },
        quadraticCurveTo: function(t, e, n, r) {
            var i = new cs(this.currentPoint.clone(),new Ze(t,e),new Ze(n,r));
            this.curves.push(i),
            this.currentPoint.set(n, r)
        },
        bezierCurveTo: function(t, e, n, r, i, o) {
            var a = new os(this.currentPoint.clone(),new Ze(t,e),new Ze(n,r),new Ze(i,o));
            this.curves.push(a),
            this.currentPoint.set(i, o)
        },
        splineThru: function(t) {
            var e = new ls([this.currentPoint.clone()].concat(t));
            this.curves.push(e),
            this.currentPoint.copy(t[t.length - 1])
        },
        arc: function(t, e, n, r, i, o) {
            var a = this.currentPoint.x
              , s = this.currentPoint.y;
            this.absarc(t + a, e + s, n, r, i, o)
        },
        absarc: function(t, e, n, r, i, o) {
            this.absellipse(t, e, n, n, r, i, o)
        },
        ellipse: function(t, e, n, r, i, o, a, s) {
            var u = this.currentPoint.x
              , c = this.currentPoint.y;
            this.absellipse(t + u, e + c, n, r, i, o, a, s)
        },
        absellipse: function(t, e, n, r, i, o, a, s) {
            var u = new Ya(t,e,n,r,i,o,a,s);
            if (this.curves.length > 0) {
                var c = u.getPoint(0);
                c.equals(this.currentPoint) || this.lineTo(c.x, c.y)
            }
            this.curves.push(u);
            var f = u.getPoint(1);
            this.currentPoint.copy(f)
        },
        copy: function(t) {
            return ds.prototype.copy.call(this, t),
            this.currentPoint.copy(t.currentPoint),
            this
        },
        toJSON: function() {
            var t = ds.prototype.toJSON.call(this);
            return t.currentPoint = this.currentPoint.toArray(),
            t
        },
        fromJSON: function(t) {
            return ds.prototype.fromJSON.call(this, t),
            this.currentPoint.fromArray(t.currentPoint),
            this
        }
    }),
    ms.prototype = Object.assign(Object.create(ps.prototype), {
        constructor: ms,
        getPointsHoles: function(t) {
            for (var e = [], n = 0, r = this.holes.length; n < r; n++)
                e[n] = this.holes[n].getPoints(t);
            return e
        },
        extractPoints: function(t) {
            return {
                shape: this.getPoints(t),
                holes: this.getPointsHoles(t)
            }
        },
        copy: function(t) {
            ps.prototype.copy.call(this, t),
            this.holes = [];
            for (var e = 0, n = t.holes.length; e < n; e++) {
                var r = t.holes[e];
                this.holes.push(r.clone())
            }
            return this
        },
        toJSON: function() {
            var t = ps.prototype.toJSON.call(this);
            t.uuid = this.uuid,
            t.holes = [];
            for (var e = 0, n = this.holes.length; e < n; e++) {
                var r = this.holes[e];
                t.holes.push(r.toJSON())
            }
            return t
        },
        fromJSON: function(t) {
            ps.prototype.fromJSON.call(this, t),
            this.uuid = t.uuid,
            this.holes = [];
            for (var e = 0, n = t.holes.length; e < n; e++) {
                var r = t.holes[e];
                this.holes.push((new ps).fromJSON(r))
            }
            return this
        }
    }),
    vs.prototype = Object.assign(Object.create(Pn.prototype), {
        constructor: vs,
        isLight: !0,
        copy: function(t) {
            return Pn.prototype.copy.call(this, t),
            this.color.copy(t.color),
            this.intensity = t.intensity,
            this
        },
        toJSON: function(t) {
            var e = Pn.prototype.toJSON.call(this, t);
            return e.object.color = this.color.getHex(),
            e.object.intensity = this.intensity,
            void 0 !== this.groundColor && (e.object.groundColor = this.groundColor.getHex()),
            void 0 !== this.distance && (e.object.distance = this.distance),
            void 0 !== this.angle && (e.object.angle = this.angle),
            void 0 !== this.decay && (e.object.decay = this.decay),
            void 0 !== this.penumbra && (e.object.penumbra = this.penumbra),
            void 0 !== this.shadow && (e.object.shadow = this.shadow.toJSON()),
            e
        }
    }),
    gs.prototype = Object.assign(Object.create(vs.prototype), {
        constructor: gs,
        isHemisphereLight: !0,
        copy: function(t) {
            return vs.prototype.copy.call(this, t),
            this.groundColor.copy(t.groundColor),
            this
        }
    }),
    Object.assign(ys.prototype, {
        copy: function(t) {
            return this.camera = t.camera.clone(),
            this.bias = t.bias,
            this.radius = t.radius,
            this.mapSize.copy(t.mapSize),
            this
        },
        clone: function() {
            return (new this.constructor).copy(this)
        },
        toJSON: function() {
            var t = {};
            return 0 !== this.bias && (t.bias = this.bias),
            1 !== this.radius && (t.radius = this.radius),
            512 === this.mapSize.x && 512 === this.mapSize.y || (t.mapSize = this.mapSize.toArray()),
            t.camera = this.camera.toJSON(!1).object,
            delete t.camera.matrix,
            t
        }
    }),
    bs.prototype = Object.assign(Object.create(ys.prototype), {
        constructor: bs,
        isSpotLightShadow: !0,
        update: function(t) {
            var e = this.camera
              , n = 2 * Ye.RAD2DEG * t.angle
              , r = this.mapSize.width / this.mapSize.height
              , i = t.distance || e.far;
            n === e.fov && r === e.aspect && i === e.far || (e.fov = n,
            e.aspect = r,
            e.far = i,
            e.updateProjectionMatrix())
        }
    }),
    _s.prototype = Object.assign(Object.create(vs.prototype), {
        constructor: _s,
        isSpotLight: !0,
        copy: function(t) {
            return vs.prototype.copy.call(this, t),
            this.distance = t.distance,
            this.angle = t.angle,
            this.penumbra = t.penumbra,
            this.decay = t.decay,
            this.target = t.target.clone(),
            this.shadow = t.shadow.clone(),
            this
        }
    }),
    xs.prototype = Object.assign(Object.create(vs.prototype), {
        constructor: xs,
        isPointLight: !0,
        copy: function(t) {
            return vs.prototype.copy.call(this, t),
            this.distance = t.distance,
            this.decay = t.decay,
            this.shadow = t.shadow.clone(),
            this
        }
    }),
    ws.prototype = Object.assign(Object.create(ys.prototype), {
        constructor: ws
    }),
    Ms.prototype = Object.assign(Object.create(vs.prototype), {
        constructor: Ms,
        isDirectionalLight: !0,
        copy: function(t) {
            return vs.prototype.copy.call(this, t),
            this.target = t.target.clone(),
            this.shadow = t.shadow.clone(),
            this
        }
    }),
    Es.prototype = Object.assign(Object.create(vs.prototype), {
        constructor: Es,
        isAmbientLight: !0
    }),
    Ts.prototype = Object.assign(Object.create(vs.prototype), {
        constructor: Ts,
        isRectAreaLight: !0,
        copy: function(t) {
            return vs.prototype.copy.call(this, t),
            this.width = t.width,
            this.height = t.height,
            this
        },
        toJSON: function(t) {
            var e = vs.prototype.toJSON.call(this, t);
            return e.object.width = this.width,
            e.object.height = this.height,
            e
        }
    });
    var Ss = {
        arraySlice: function(t, e, n) {
            return Ss.isTypedArray(t) ? new t.constructor(t.subarray(e, void 0 !== n ? n : t.length)) : t.slice(e, n)
        },
        convertArray: function(t, e, n) {
            return !t || !n && t.constructor === e ? t : "number" == typeof e.BYTES_PER_ELEMENT ? new e(t) : Array.prototype.slice.call(t)
        },
        isTypedArray: function(t) {
            return ArrayBuffer.isView(t) && !(t instanceof DataView)
        },
        getKeyframeOrder: function(t) {
            for (var e = t.length, n = new Array(e), r = 0; r !== e; ++r)
                n[r] = r;
            return n.sort(function(e, n) {
                return t[e] - t[n]
            }),
            n
        },
        sortedArray: function(t, e, n) {
            for (var r = t.length, i = new t.constructor(r), o = 0, a = 0; a !== r; ++o)
                for (var s = n[o] * e, u = 0; u !== e; ++u)
                    i[a++] = t[s + u];
            return i
        },
        flattenJSON: function(t, e, n, r) {
            for (var i = 1, o = t[0]; void 0 !== o && void 0 === o[r]; )
                o = t[i++];
            if (void 0 !== o) {
                var a = o[r];
                if (void 0 !== a)
                    if (Array.isArray(a))
                        do {
                            void 0 !== (a = o[r]) && (e.push(o.time),
                            n.push.apply(n, a)),
                            o = t[i++]
                        } while (void 0 !== o);
                    else if (void 0 !== a.toArray)
                        do {
                            void 0 !== (a = o[r]) && (e.push(o.time),
                            a.toArray(n, n.length)),
                            o = t[i++]
                        } while (void 0 !== o);
                    else
                        do {
                            void 0 !== (a = o[r]) && (e.push(o.time),
                            n.push(a)),
                            o = t[i++]
                        } while (void 0 !== o)
            }
        }
    };
    function Os(t, e, n, r) {
        this.parameterPositions = t,
        this._cachedIndex = 0,
        this.resultBuffer = void 0 !== r ? r : new e.constructor(n),
        this.sampleValues = e,
        this.valueSize = n
    }
    function As(t, e, n, r) {
        Os.call(this, t, e, n, r),
        this._weightPrev = -0,
        this._offsetPrev = -0,
        this._weightNext = -0,
        this._offsetNext = -0
    }
    function Ls(t, e, n, r) {
        Os.call(this, t, e, n, r)
    }
    function Rs(t, e, n, r) {
        Os.call(this, t, e, n, r)
    }
    function Cs(t, e, n, r) {
        if (void 0 === t)
            throw new Error("THREE.KeyframeTrack: track name is undefined");
        if (void 0 === e || 0 === e.length)
            throw new Error("THREE.KeyframeTrack: no keyframes in track named " + t);
        this.name = t,
        this.times = Ss.convertArray(e, this.TimeBufferType),
        this.values = Ss.convertArray(n, this.ValueBufferType),
        this.setInterpolation(r || this.DefaultInterpolation)
    }
    function js(t, e, n) {
        Cs.call(this, t, e, n)
    }
    function Ps(t, e, n, r) {
        Cs.call(this, t, e, n, r)
    }
    function Ns(t, e, n, r) {
        Cs.call(this, t, e, n, r)
    }
    function Is(t, e, n, r) {
        Os.call(this, t, e, n, r)
    }
    function Ds(t, e, n, r) {
        Cs.call(this, t, e, n, r)
    }
    function Us(t, e, n, r) {
        Cs.call(this, t, e, n, r)
    }
    function zs(t, e, n, r) {
        Cs.call(this, t, e, n, r)
    }
    function Bs(t, e, n) {
        this.name = t,
        this.tracks = n,
        this.duration = void 0 !== e ? e : -1,
        this.uuid = Ye.generateUUID(),
        this.duration < 0 && this.resetDuration()
    }
    function ks(t) {
        if (void 0 === t.type)
            throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");
        var e = function(t) {
            switch (t.toLowerCase()) {
            case "scalar":
            case "double":
            case "float":
            case "number":
            case "integer":
                return Ns;
            case "vector":
            case "vector2":
            case "vector3":
            case "vector4":
                return zs;
            case "color":
                return Ps;
            case "quaternion":
                return Ds;
            case "bool":
            case "boolean":
                return js;
            case "string":
                return Us
            }
            throw new Error("THREE.KeyframeTrack: Unsupported typeName: " + t)
        }(t.type);
        if (void 0 === t.times) {
            var n = []
              , r = [];
            Ss.flattenJSON(t.keys, n, r, "value"),
            t.times = n,
            t.values = r
        }
        return void 0 !== e.parse ? e.parse(t) : new e(t.name,t.times,t.values,t.interpolation)
    }
    function Fs(t) {
        this.manager = void 0 !== t ? t : Ba,
        this.textures = {}
    }
    function Gs(t) {
        this.manager = void 0 !== t ? t : Ba
    }
    Object.assign(Os.prototype, {
        evaluate: function(t) {
            var e = this.parameterPositions
              , n = this._cachedIndex
              , r = e[n]
              , i = e[n - 1];
            t: {
                e: {
                    var o;
                    n: {
                        r: if (!(t < r)) {
                            for (var a = n + 2; ; ) {
                                if (void 0 === r) {
                                    if (t < i)
                                        break r;
                                    return n = e.length,
                                    this._cachedIndex = n,
                                    this.afterEnd_(n - 1, t, i)
                                }
                                if (n === a)
                                    break;
                                if (i = r,
                                t < (r = e[++n]))
                                    break e
                            }
                            o = e.length;
                            break n
                        }
                        if (t >= i)
                            break t;
                        var s = e[1];
                        t < s && (n = 2,
                        i = s);
                        for (a = n - 2; ; ) {
                            if (void 0 === i)
                                return this._cachedIndex = 0,
                                this.beforeStart_(0, t, r);
                            if (n === a)
                                break;
                            if (r = i,
                            t >= (i = e[--n - 1]))
                                break e
                        }
                        o = n,
                        n = 0
                    }
                    for (; n < o; ) {
                        var u = n + o >>> 1;
                        t < e[u] ? o = u : n = u + 1
                    }
                    if (r = e[n],
                    void 0 === (i = e[n - 1]))
                        return this._cachedIndex = 0,
                        this.beforeStart_(0, t, r);
                    if (void 0 === r)
                        return n = e.length,
                        this._cachedIndex = n,
                        this.afterEnd_(n - 1, i, t)
                }
                this._cachedIndex = n,
                this.intervalChanged_(n, i, r)
            }
            return this.interpolate_(n, i, t, r)
        },
        settings: null,
        DefaultSettings_: {},
        getSettings_: function() {
            return this.settings || this.DefaultSettings_
        },
        copySampleValue_: function(t) {
            for (var e = this.resultBuffer, n = this.sampleValues, r = this.valueSize, i = t * r, o = 0; o !== r; ++o)
                e[o] = n[i + o];
            return e
        },
        interpolate_: function() {
            throw new Error("call to abstract method")
        },
        intervalChanged_: function() {}
    }),
    //!\ DECLARE ALIAS AFTER assign prototype !
    Object.assign(Os.prototype, {
        beforeStart_: Os.prototype.copySampleValue_,
        afterEnd_: Os.prototype.copySampleValue_
    }),
    As.prototype = Object.assign(Object.create(Os.prototype), {
        constructor: As,
        DefaultSettings_: {
            endingStart: Re,
            endingEnd: Re
        },
        intervalChanged_: function(t, e, n) {
            var r = this.parameterPositions
              , i = t - 2
              , o = t + 1
              , a = r[i]
              , s = r[o];
            if (void 0 === a)
                switch (this.getSettings_().endingStart) {
                case Ce:
                    i = t,
                    a = 2 * e - n;
                    break;
                case je:
                    a = e + r[i = r.length - 2] - r[i + 1];
                    break;
                default:
                    i = t,
                    a = n
                }
            if (void 0 === s)
                switch (this.getSettings_().endingEnd) {
                case Ce:
                    o = t,
                    s = 2 * n - e;
                    break;
                case je:
                    o = 1,
                    s = n + r[1] - r[0];
                    break;
                default:
                    o = t - 1,
                    s = e
                }
            var u = .5 * (n - e)
              , c = this.valueSize;
            this._weightPrev = u / (e - a),
            this._weightNext = u / (s - n),
            this._offsetPrev = i * c,
            this._offsetNext = o * c
        },
        interpolate_: function(t, e, n, r) {
            for (var i = this.resultBuffer, o = this.sampleValues, a = this.valueSize, s = t * a, u = s - a, c = this._offsetPrev, f = this._offsetNext, l = this._weightPrev, h = this._weightNext, d = (n - e) / (r - e), p = d * d, m = p * d, v = -l * m + 2 * l * p - l * d, g = (1 + l) * m + (-1.5 - 2 * l) * p + (-.5 + l) * d + 1, y = (-1 - h) * m + (1.5 + h) * p + .5 * d, b = h * m - h * p, _ = 0; _ !== a; ++_)
                i[_] = v * o[c + _] + g * o[u + _] + y * o[s + _] + b * o[f + _];
            return i
        }
    }),
    Ls.prototype = Object.assign(Object.create(Os.prototype), {
        constructor: Ls,
        interpolate_: function(t, e, n, r) {
            for (var i = this.resultBuffer, o = this.sampleValues, a = this.valueSize, s = t * a, u = s - a, c = (n - e) / (r - e), f = 1 - c, l = 0; l !== a; ++l)
                i[l] = o[u + l] * f + o[s + l] * c;
            return i
        }
    }),
    Rs.prototype = Object.assign(Object.create(Os.prototype), {
        constructor: Rs,
        interpolate_: function(t) {
            return this.copySampleValue_(t - 1)
        }
    }),
    Object.assign(Cs, {
        toJSON: function(t) {
            var e, n = t.constructor;
            if (void 0 !== n.toJSON)
                e = n.toJSON(t);
            else {
                e = {
                    name: t.name,
                    times: Ss.convertArray(t.times, Array),
                    values: Ss.convertArray(t.values, Array)
                };
                var r = t.getInterpolation();
                r !== t.DefaultInterpolation && (e.interpolation = r)
            }
            return e.type = t.ValueTypeName,
            e
        }
    }),
    Object.assign(Cs.prototype, {
        constructor: Cs,
        TimeBufferType: Float32Array,
        ValueBufferType: Float32Array,
        DefaultInterpolation: Ae,
        InterpolantFactoryMethodDiscrete: function(t) {
            return new Rs(this.times,this.values,this.getValueSize(),t)
        },
        InterpolantFactoryMethodLinear: function(t) {
            return new Ls(this.times,this.values,this.getValueSize(),t)
        },
        InterpolantFactoryMethodSmooth: function(t) {
            return new As(this.times,this.values,this.getValueSize(),t)
        },
        setInterpolation: function(t) {
            var e;
            switch (t) {
            case Oe:
                e = this.InterpolantFactoryMethodDiscrete;
                break;
            case Ae:
                e = this.InterpolantFactoryMethodLinear;
                break;
            case Le:
                e = this.InterpolantFactoryMethodSmooth
            }
            if (void 0 === e) {
                var n = "unsupported interpolation for " + this.ValueTypeName + " keyframe track named " + this.name;
                if (void 0 === this.createInterpolant) {
                    if (t === this.DefaultInterpolation)
                        throw new Error(n);
                    this.setInterpolation(this.DefaultInterpolation)
                }
                return console.warn("THREE.KeyframeTrack:", n),
                this
            }
            return this.createInterpolant = e,
            this
        },
        getInterpolation: function() {
            switch (this.createInterpolant) {
            case this.InterpolantFactoryMethodDiscrete:
                return Oe;
            case this.InterpolantFactoryMethodLinear:
                return Ae;
            case this.InterpolantFactoryMethodSmooth:
                return Le
            }
        },
        getValueSize: function() {
            return this.values.length / this.times.length
        },
        shift: function(t) {
            if (0 !== t)
                for (var e = this.times, n = 0, r = e.length; n !== r; ++n)
                    e[n] += t;
            return this
        },
        scale: function(t) {
            if (1 !== t)
                for (var e = this.times, n = 0, r = e.length; n !== r; ++n)
                    e[n] *= t;
            return this
        },
        trim: function(t, e) {
            for (var n = this.times, r = n.length, i = 0, o = r - 1; i !== r && n[i] < t; )
                ++i;
            for (; -1 !== o && n[o] > e; )
                --o;
            if (++o,
            0 !== i || o !== r) {
                i >= o && (i = (o = Math.max(o, 1)) - 1);
                var a = this.getValueSize();
                this.times = Ss.arraySlice(n, i, o),
                this.values = Ss.arraySlice(this.values, i * a, o * a)
            }
            return this
        },
        validate: function() {
            var t = !0
              , e = this.getValueSize();
            e - Math.floor(e) != 0 && (console.error("THREE.KeyframeTrack: Invalid value size in track.", this),
            t = !1);
            var n = this.times
              , r = this.values
              , i = n.length;
            0 === i && (console.error("THREE.KeyframeTrack: Track is empty.", this),
            t = !1);
            for (var o = null, a = 0; a !== i; a++) {
                var s = n[a];
                if ("number" == typeof s && isNaN(s)) {
                    console.error("THREE.KeyframeTrack: Time is not a valid number.", this, a, s),
                    t = !1;
                    break
                }
                if (null !== o && o > s) {
                    console.error("THREE.KeyframeTrack: Out of order keys.", this, a, s, o),
                    t = !1;
                    break
                }
                o = s
            }
            if (void 0 !== r && Ss.isTypedArray(r)) {
                a = 0;
                for (var u = r.length; a !== u; ++a) {
                    var c = r[a];
                    if (isNaN(c)) {
                        console.error("THREE.KeyframeTrack: Value is not a valid number.", this, a, c),
                        t = !1;
                        break
                    }
                }
            }
            return t
        },
        optimize: function() {
            for (var t = this.times, e = this.values, n = this.getValueSize(), r = this.getInterpolation() === Le, i = 1, o = t.length - 1, a = 1; a < o; ++a) {
                var s = !1
                  , u = t[a];
                if (u !== t[a + 1] && (1 !== a || u !== u[0]))
                    if (r)
                        s = !0;
                    else
                        for (var c = a * n, f = c - n, l = c + n, h = 0; h !== n; ++h) {
                            var d = e[c + h];
                            if (d !== e[f + h] || d !== e[l + h]) {
                                s = !0;
                                break
                            }
                        }
                if (s) {
                    if (a !== i) {
                        t[i] = t[a];
                        var p = a * n
                          , m = i * n;
                        for (h = 0; h !== n; ++h)
                            e[m + h] = e[p + h]
                    }
                    ++i
                }
            }
            if (o > 0) {
                t[i] = t[o];
                for (p = o * n,
                m = i * n,
                h = 0; h !== n; ++h)
                    e[m + h] = e[p + h];
                ++i
            }
            return i !== t.length && (this.times = Ss.arraySlice(t, 0, i),
            this.values = Ss.arraySlice(e, 0, i * n)),
            this
        }
    }),
    js.prototype = Object.assign(Object.create(Cs.prototype), {
        constructor: js,
        ValueTypeName: "bool",
        ValueBufferType: Array,
        DefaultInterpolation: Oe,
        InterpolantFactoryMethodLinear: void 0,
        InterpolantFactoryMethodSmooth: void 0
    }),
    Ps.prototype = Object.assign(Object.create(Cs.prototype), {
        constructor: Ps,
        ValueTypeName: "color"
    }),
    Ns.prototype = Object.assign(Object.create(Cs.prototype), {
        constructor: Ns,
        ValueTypeName: "number"
    }),
    Is.prototype = Object.assign(Object.create(Os.prototype), {
        constructor: Is,
        interpolate_: function(t, e, n, r) {
            for (var i = this.resultBuffer, o = this.sampleValues, a = this.valueSize, s = t * a, u = (n - e) / (r - e), c = s + a; s !== c; s += 4)
                Qe.slerpFlat(i, 0, o, s - a, o, s, u);
            return i
        }
    }),
    Ds.prototype = Object.assign(Object.create(Cs.prototype), {
        constructor: Ds,
        ValueTypeName: "quaternion",
        DefaultInterpolation: Ae,
        InterpolantFactoryMethodLinear: function(t) {
            return new Is(this.times,this.values,this.getValueSize(),t)
        },
        InterpolantFactoryMethodSmooth: void 0
    }),
    Us.prototype = Object.assign(Object.create(Cs.prototype), {
        constructor: Us,
        ValueTypeName: "string",
        ValueBufferType: Array,
        DefaultInterpolation: Oe,
        InterpolantFactoryMethodLinear: void 0,
        InterpolantFactoryMethodSmooth: void 0
    }),
    zs.prototype = Object.assign(Object.create(Cs.prototype), {
        constructor: zs,
        ValueTypeName: "vector"
    }),
    Object.assign(Bs, {
        parse: function(t) {
            for (var e = [], n = t.tracks, r = 1 / (t.fps || 1), i = 0, o = n.length; i !== o; ++i)
                e.push(ks(n[i]).scale(r));
            return new Bs(t.name,t.duration,e)
        },
        toJSON: function(t) {
            for (var e = [], n = t.tracks, r = {
                name: t.name,
                duration: t.duration,
                tracks: e,
                uuid: t.uuid
            }, i = 0, o = n.length; i !== o; ++i)
                e.push(Cs.toJSON(n[i]));
            return r
        },
        CreateFromMorphTargetSequence: function(t, e, n, r) {
            for (var i = e.length, o = [], a = 0; a < i; a++) {
                var s = []
                  , u = [];
                s.push((a + i - 1) % i, a, (a + 1) % i),
                u.push(0, 1, 0);
                var c = Ss.getKeyframeOrder(s);
                s = Ss.sortedArray(s, 1, c),
                u = Ss.sortedArray(u, 1, c),
                r || 0 !== s[0] || (s.push(i),
                u.push(u[0])),
                o.push(new Ns(".morphTargetInfluences[" + e[a].name + "]",s,u).scale(1 / n))
            }
            return new Bs(t,-1,o)
        },
        findByName: function(t, e) {
            var n = t;
            if (!Array.isArray(t)) {
                var r = t;
                n = r.geometry && r.geometry.animations || r.animations
            }
            for (var i = 0; i < n.length; i++)
                if (n[i].name === e)
                    return n[i];
            return null
        },
        CreateClipsFromMorphTargetSequences: function(t, e, n) {
            for (var r = {}, i = /^([\w-]*?)([\d]+)$/, o = 0, a = t.length; o < a; o++) {
                var s = t[o]
                  , u = s.name.match(i);
                if (u && u.length > 1) {
                    var c = r[l = u[1]];
                    c || (r[l] = c = []),
                    c.push(s)
                }
            }
            var f = [];
            for (var l in r)
                f.push(Bs.CreateFromMorphTargetSequence(l, r[l], e, n));
            return f
        },
        parseAnimation: function(t, e) {
            if (!t)
                return console.error("THREE.AnimationClip: No animation in JSONLoader data."),
                null;
            for (var n = function(t, e, n, r, i) {
                if (0 !== n.length) {
                    var o = []
                      , a = [];
                    Ss.flattenJSON(n, o, a, r),
                    0 !== o.length && i.push(new t(e,o,a))
                }
            }, r = [], i = t.name || "default", o = t.length || -1, a = t.fps || 30, s = t.hierarchy || [], u = 0; u < s.length; u++) {
                var c = s[u].keys;
                if (c && 0 !== c.length)
                    if (c[0].morphTargets) {
                        for (var f = {}, l = 0; l < c.length; l++)
                            if (c[l].morphTargets)
                                for (var h = 0; h < c[l].morphTargets.length; h++)
                                    f[c[l].morphTargets[h]] = -1;
                        for (var d in f) {
                            var p = []
                              , m = [];
                            for (h = 0; h !== c[l].morphTargets.length; ++h) {
                                var v = c[l];
                                p.push(v.time),
                                m.push(v.morphTarget === d ? 1 : 0)
                            }
                            r.push(new Ns(".morphTargetInfluence[" + d + "]",p,m))
                        }
                        o = f.length * (a || 1)
                    } else {
                        var g = ".bones[" + e[u].name + "]";
                        n(zs, g + ".position", c, "pos", r),
                        n(Ds, g + ".quaternion", c, "rot", r),
                        n(zs, g + ".scale", c, "scl", r)
                    }
            }
            return 0 === r.length ? null : new Bs(i,o,r)
        }
    }),
    Object.assign(Bs.prototype, {
        resetDuration: function() {
            for (var t = 0, e = 0, n = this.tracks.length; e !== n; ++e) {
                var r = this.tracks[e];
                t = Math.max(t, r.times[r.times.length - 1])
            }
            return this.duration = t,
            this
        },
        trim: function() {
            for (var t = 0; t < this.tracks.length; t++)
                this.tracks[t].trim(0, this.duration);
            return this
        },
        validate: function() {
            for (var t = !0, e = 0; e < this.tracks.length; e++)
                t = t && this.tracks[e].validate();
            return t
        },
        optimize: function() {
            for (var t = 0; t < this.tracks.length; t++)
                this.tracks[t].optimize();
            return this
        }
    }),
    Object.assign(Fs.prototype, {
        load: function(t, e, n, r) {
            var i = this;
            new Fa(i.manager).load(t, function(t) {
                e(i.parse(JSON.parse(t)))
            }, n, r)
        },
        setTextures: function(t) {
            this.textures = t
        },
        parse: function(t) {
            var e = this.textures;
            function n(t) {
                return void 0 === e[t] && console.warn("THREE.MaterialLoader: Undefined texture", t),
                e[t]
            }
            var r = new Da[t.type];
            if (void 0 !== t.uuid && (r.uuid = t.uuid),
            void 0 !== t.name && (r.name = t.name),
            void 0 !== t.color && r.color.setHex(t.color),
            void 0 !== t.roughness && (r.roughness = t.roughness),
            void 0 !== t.metalness && (r.metalness = t.metalness),
            void 0 !== t.emissive && r.emissive.setHex(t.emissive),
            void 0 !== t.specular && r.specular.setHex(t.specular),
            void 0 !== t.shininess && (r.shininess = t.shininess),
            void 0 !== t.clearCoat && (r.clearCoat = t.clearCoat),
            void 0 !== t.clearCoatRoughness && (r.clearCoatRoughness = t.clearCoatRoughness),
            void 0 !== t.uniforms && (r.uniforms = t.uniforms),
            void 0 !== t.vertexShader && (r.vertexShader = t.vertexShader),
            void 0 !== t.fragmentShader && (r.fragmentShader = t.fragmentShader),
            void 0 !== t.vertexColors && (r.vertexColors = t.vertexColors),
            void 0 !== t.fog && (r.fog = t.fog),
            void 0 !== t.flatShading && (r.flatShading = t.flatShading),
            void 0 !== t.blending && (r.blending = t.blending),
            void 0 !== t.side && (r.side = t.side),
            void 0 !== t.opacity && (r.opacity = t.opacity),
            void 0 !== t.transparent && (r.transparent = t.transparent),
            void 0 !== t.alphaTest && (r.alphaTest = t.alphaTest),
            void 0 !== t.depthTest && (r.depthTest = t.depthTest),
            void 0 !== t.depthWrite && (r.depthWrite = t.depthWrite),
            void 0 !== t.colorWrite && (r.colorWrite = t.colorWrite),
            void 0 !== t.wireframe && (r.wireframe = t.wireframe),
            void 0 !== t.wireframeLinewidth && (r.wireframeLinewidth = t.wireframeLinewidth),
            void 0 !== t.wireframeLinecap && (r.wireframeLinecap = t.wireframeLinecap),
            void 0 !== t.wireframeLinejoin && (r.wireframeLinejoin = t.wireframeLinejoin),
            void 0 !== t.rotation && (r.rotation = t.rotation),
            1 !== t.linewidth && (r.linewidth = t.linewidth),
            void 0 !== t.dashSize && (r.dashSize = t.dashSize),
            void 0 !== t.gapSize && (r.gapSize = t.gapSize),
            void 0 !== t.scale && (r.scale = t.scale),
            void 0 !== t.polygonOffset && (r.polygonOffset = t.polygonOffset),
            void 0 !== t.polygonOffsetFactor && (r.polygonOffsetFactor = t.polygonOffsetFactor),
            void 0 !== t.polygonOffsetUnits && (r.polygonOffsetUnits = t.polygonOffsetUnits),
            void 0 !== t.skinning && (r.skinning = t.skinning),
            void 0 !== t.morphTargets && (r.morphTargets = t.morphTargets),
            void 0 !== t.dithering && (r.dithering = t.dithering),
            void 0 !== t.visible && (r.visible = t.visible),
            void 0 !== t.userData && (r.userData = t.userData),
            void 0 !== t.shading && (r.flatShading = 1 === t.shading),
            void 0 !== t.size && (r.size = t.size),
            void 0 !== t.sizeAttenuation && (r.sizeAttenuation = t.sizeAttenuation),
            void 0 !== t.map && (r.map = n(t.map)),
            void 0 !== t.alphaMap && (r.alphaMap = n(t.alphaMap),
            r.transparent = !0),
            void 0 !== t.bumpMap && (r.bumpMap = n(t.bumpMap)),
            void 0 !== t.bumpScale && (r.bumpScale = t.bumpScale),
            void 0 !== t.normalMap && (r.normalMap = n(t.normalMap)),
            void 0 !== t.normalMapType && (r.normalMapType = t.normalMapType),
            void 0 !== t.normalScale) {
                var i = t.normalScale;
                !1 === Array.isArray(i) && (i = [i, i]),
                r.normalScale = (new Ze).fromArray(i)
            }
            return void 0 !== t.displacementMap && (r.displacementMap = n(t.displacementMap)),
            void 0 !== t.displacementScale && (r.displacementScale = t.displacementScale),
            void 0 !== t.displacementBias && (r.displacementBias = t.displacementBias),
            void 0 !== t.roughnessMap && (r.roughnessMap = n(t.roughnessMap)),
            void 0 !== t.metalnessMap && (r.metalnessMap = n(t.metalnessMap)),
            void 0 !== t.emissiveMap && (r.emissiveMap = n(t.emissiveMap)),
            void 0 !== t.emissiveIntensity && (r.emissiveIntensity = t.emissiveIntensity),
            void 0 !== t.specularMap && (r.specularMap = n(t.specularMap)),
            void 0 !== t.envMap && (r.envMap = n(t.envMap)),
            void 0 !== t.reflectivity && (r.reflectivity = t.reflectivity),
            void 0 !== t.lightMap && (r.lightMap = n(t.lightMap)),
            void 0 !== t.lightMapIntensity && (r.lightMapIntensity = t.lightMapIntensity),
            void 0 !== t.aoMap && (r.aoMap = n(t.aoMap)),
            void 0 !== t.aoMapIntensity && (r.aoMapIntensity = t.aoMapIntensity),
            void 0 !== t.gradientMap && (r.gradientMap = n(t.gradientMap)),
            r
        }
    }),
    Object.assign(Gs.prototype, {
        load: function(t, e, n, r) {
            var i = this;
            new Fa(i.manager).load(t, function(t) {
                e(i.parse(JSON.parse(t)))
            }, n, r)
        },
        parse: function(t) {
            var e = new tr
              , n = t.data.index;
            if (void 0 !== n) {
                var r = new Xs[n.type](n.array);
                e.setIndex(new Fn(r,1))
            }
            var i = t.data.attributes;
            for (var o in i) {
                var a = i[o];
                r = new Xs[a.type](a.array);
                e.addAttribute(o, new Fn(r,a.itemSize,a.normalized))
            }
            var s = t.data.groups || t.data.drawcalls || t.data.offsets;
            if (void 0 !== s)
                for (var u = 0, c = s.length; u !== c; ++u) {
                    var f = s[u];
                    e.addGroup(f.start, f.count, f.materialIndex)
                }
            var l = t.data.boundingSphere;
            if (void 0 !== l) {
                var h = new Ke;
                void 0 !== l.center && h.fromArray(l.center),
                e.boundingSphere = new dn(h,l.radius)
            }
            return e
        }
    });
    var Hs, Vs, Ws, qs, Xs = {
        Int8Array,
        Uint8Array,
        Uint8ClampedArray: "undefined" != typeof Uint8ClampedArray ? Uint8ClampedArray : Uint8Array,
        Int16Array,
        Uint16Array,
        Int32Array,
        Uint32Array,
        Float32Array,
        Float64Array
    };
    function Ys() {}
    Ys.Handlers = {
        handlers: [],
        add: function(t, e) {
            this.handlers.push(t, e)
        },
        get: function(t) {
            for (var e = this.handlers, n = 0, r = e.length; n < r; n += 2) {
                var i = e[n]
                  , o = e[n + 1];
                if (i.test(t))
                    return o
            }
            return null
        }
    },
    Object.assign(Ys.prototype, {
        crossOrigin: "anonymous",
        onLoadStart: function() {},
        onLoadProgress: function() {},
        onLoadComplete: function() {},
        initMaterials: function(t, e, n) {
            for (var r = [], i = 0; i < t.length; ++i)
                r[i] = this.createMaterial(t[i], e, n);
            return r
        },
        createMaterial: (Hs = {
            NoBlending: N,
            NormalBlending: I,
            AdditiveBlending: D,
            SubtractiveBlending: U,
            MultiplyBlending: z,
            CustomBlending: B
        },
        Vs = new _n,
        Ws = new qa,
        qs = new Fs,
        function(t, e, n) {
            var r = {};
            function i(t, i, o, a, s) {
                var u, c = e + t, f = Ys.Handlers.get(c);
                null !== f ? u = f.load(c) : (Ws.setCrossOrigin(n),
                u = Ws.load(c)),
                void 0 !== i && (u.repeat.fromArray(i),
                1 !== i[0] && (u.wrapS = St),
                1 !== i[1] && (u.wrapT = St)),
                void 0 !== o && u.offset.fromArray(o),
                void 0 !== a && ("repeat" === a[0] && (u.wrapS = St),
                "mirror" === a[0] && (u.wrapS = At),
                "repeat" === a[1] && (u.wrapT = St),
                "mirror" === a[1] && (u.wrapT = At)),
                void 0 !== s && (u.anisotropy = s);
                var l = Ye.generateUUID();
                return r[l] = u,
                l
            }
            var o = {
                uuid: Ye.generateUUID(),
                type: "MeshLambertMaterial"
            };
            for (var a in t) {
                var s = t[a];
                switch (a) {
                case "DbgColor":
                case "DbgIndex":
                case "opticalDensity":
                case "illumination":
                    break;
                case "DbgName":
                    o.name = s;
                    break;
                case "blending":
                    o.blending = Hs[s];
                    break;
                case "colorAmbient":
                case "mapAmbient":
                    console.warn("THREE.Loader.createMaterial:", a, "is no longer supported.");
                    break;
                case "colorDiffuse":
                    o.color = Vs.fromArray(s).getHex();
                    break;
                case "colorSpecular":
                    o.specular = Vs.fromArray(s).getHex();
                    break;
                case "colorEmissive":
                    o.emissive = Vs.fromArray(s).getHex();
                    break;
                case "specularCoef":
                    o.shininess = s;
                    break;
                case "shading":
                    "basic" === s.toLowerCase() && (o.type = "MeshBasicMaterial"),
                    "phong" === s.toLowerCase() && (o.type = "MeshPhongMaterial"),
                    "standard" === s.toLowerCase() && (o.type = "MeshStandardMaterial");
                    break;
                case "mapDiffuse":
                    o.map = i(s, t.mapDiffuseRepeat, t.mapDiffuseOffset, t.mapDiffuseWrap, t.mapDiffuseAnisotropy);
                    break;
                case "mapDiffuseRepeat":
                case "mapDiffuseOffset":
                case "mapDiffuseWrap":
                case "mapDiffuseAnisotropy":
                    break;
                case "mapEmissive":
                    o.emissiveMap = i(s, t.mapEmissiveRepeat, t.mapEmissiveOffset, t.mapEmissiveWrap, t.mapEmissiveAnisotropy);
                    break;
                case "mapEmissiveRepeat":
                case "mapEmissiveOffset":
                case "mapEmissiveWrap":
                case "mapEmissiveAnisotropy":
                    break;
                case "mapLight":
                    o.lightMap = i(s, t.mapLightRepeat, t.mapLightOffset, t.mapLightWrap, t.mapLightAnisotropy);
                    break;
                case "mapLightRepeat":
                case "mapLightOffset":
                case "mapLightWrap":
                case "mapLightAnisotropy":
                    break;
                case "mapAO":
                    o.aoMap = i(s, t.mapAORepeat, t.mapAOOffset, t.mapAOWrap, t.mapAOAnisotropy);
                    break;
                case "mapAORepeat":
                case "mapAOOffset":
                case "mapAOWrap":
                case "mapAOAnisotropy":
                    break;
                case "mapBump":
                    o.bumpMap = i(s, t.mapBumpRepeat, t.mapBumpOffset, t.mapBumpWrap, t.mapBumpAnisotropy);
                    break;
                case "mapBumpScale":
                    o.bumpScale = s;
                    break;
                case "mapBumpRepeat":
                case "mapBumpOffset":
                case "mapBumpWrap":
                case "mapBumpAnisotropy":
                    break;
                case "mapNormal":
                    o.normalMap = i(s, t.mapNormalRepeat, t.mapNormalOffset, t.mapNormalWrap, t.mapNormalAnisotropy);
                    break;
                case "mapNormalFactor":
                    o.normalScale = s;
                    break;
                case "mapNormalRepeat":
                case "mapNormalOffset":
                case "mapNormalWrap":
                case "mapNormalAnisotropy":
                    break;
                case "mapSpecular":
                    o.specularMap = i(s, t.mapSpecularRepeat, t.mapSpecularOffset, t.mapSpecularWrap, t.mapSpecularAnisotropy);
                    break;
                case "mapSpecularRepeat":
                case "mapSpecularOffset":
                case "mapSpecularWrap":
                case "mapSpecularAnisotropy":
                    break;
                case "mapMetalness":
                    o.metalnessMap = i(s, t.mapMetalnessRepeat, t.mapMetalnessOffset, t.mapMetalnessWrap, t.mapMetalnessAnisotropy);
                    break;
                case "mapMetalnessRepeat":
                case "mapMetalnessOffset":
                case "mapMetalnessWrap":
                case "mapMetalnessAnisotropy":
                    break;
                case "mapRoughness":
                    o.roughnessMap = i(s, t.mapRoughnessRepeat, t.mapRoughnessOffset, t.mapRoughnessWrap, t.mapRoughnessAnisotropy);
                    break;
                case "mapRoughnessRepeat":
                case "mapRoughnessOffset":
                case "mapRoughnessWrap":
                case "mapRoughnessAnisotropy":
                    break;
                case "mapAlpha":
                    o.alphaMap = i(s, t.mapAlphaRepeat, t.mapAlphaOffset, t.mapAlphaWrap, t.mapAlphaAnisotropy);
                    break;
                case "mapAlphaRepeat":
                case "mapAlphaOffset":
                case "mapAlphaWrap":
                case "mapAlphaAnisotropy":
                    break;
                case "flipSided":
                    o.side = O;
                    break;
                case "doubleSided":
                    o.side = A;
                    break;
                case "transparency":
                    console.warn("THREE.Loader.createMaterial: transparency has been renamed to opacity"),
                    o.opacity = s;
                    break;
                case "depthTest":
                case "depthWrite":
                case "colorWrite":
                case "opacity":
                case "reflectivity":
                case "transparent":
                case "visible":
                case "wireframe":
                    o[a] = s;
                    break;
                case "vertexColors":
                    !0 === s && (o.vertexColors = P),
                    "face" === s && (o.vertexColors = j);
                    break;
                default:
                    console.error("THREE.Loader.createMaterial: Unsupported", a, s)
                }
            }
            return "MeshBasicMaterial" === o.type && delete o.emissive,
            "MeshPhongMaterial" !== o.type && delete o.specular,
            o.opacity < 1 && (o.transparent = !0),
            qs.setTextures(r),
            qs.parse(o)
        }
        )
    });
    var Zs = {
        decodeText: function(t) {
            if ("undefined" != typeof TextDecoder)
                return (new TextDecoder).decode(t);
            for (var e = "", n = 0, r = t.length; n < r; n++)
                e += String.fromCharCode(t[n]);
            return decodeURIComponent(escape(e))
        },
        extractUrlBase: function(t) {
            var e = t.lastIndexOf("/");
            return -1 === e ? "./" : t.substr(0, e + 1)
        }
    };
    function Js(t) {
        "boolean" == typeof t && (console.warn("THREE.JSONLoader: showStatus parameter has been removed from constructor."),
        t = void 0),
        this.manager = void 0 !== t ? t : Ba,
        this.withCredentials = !1
    }
    function Qs(t) {
        this.manager = void 0 !== t ? t : Ba,
        this.texturePath = ""
    }
    Object.assign(Js.prototype, {
        crossOrigin: "anonymous",
        load: function(t, e, n, r) {
            var i = this
              , o = this.texturePath && "string" == typeof this.texturePath ? this.texturePath : Zs.extractUrlBase(t)
              , a = new Fa(this.manager);
            a.setWithCredentials(this.withCredentials),
            a.load(t, function(n) {
                var r = JSON.parse(n)
                  , a = r.metadata;
                if (void 0 !== a) {
                    var s = a.type;
                    if (void 0 !== s && "object" === s.toLowerCase())
                        return void console.error("THREE.JSONLoader: " + t + " should be loaded with THREE.ObjectLoader instead.")
                }
                var u = i.parse(r, o);
                e(u.geometry, u.materials)
            }, n, r)
        },
        setCrossOrigin: function(t) {
            return this.crossOrigin = t,
            this
        },
        setTexturePath: function(t) {
            return this.texturePath = t,
            this
        },
        parse: function() {
            return function(t, e) {
                void 0 !== t.data && (t = t.data),
                void 0 !== t.scale ? t.scale = 1 / t.scale : t.scale = 1;
                var n = new kn;
                return function(t, e) {
                    function n(t, e) {
                        return t & 1 << e
                    }
                    var r, i, o, a, s, u, c, f, l, h, d, p, m, v, g, y, b, _, x, w, M, E, T, S, O, A = t.faces, L = t.vertices, R = t.normals, C = t.colors, j = t.scale, P = 0;
                    if (void 0 !== t.uvs) {
                        for (r = 0; r < t.uvs.length; r++)
                            t.uvs[r].length && P++;
                        for (r = 0; r < P; r++)
                            e.faceVertexUvs[r] = []
                    }
                    for (a = 0,
                    s = L.length; a < s; )
                        (_ = new Ke).x = L[a++] * j,
                        _.y = L[a++] * j,
                        _.z = L[a++] * j,
                        e.vertices.push(_);
                    for (a = 0,
                    s = A.length; a < s; )
                        if (d = n(h = A[a++], 0),
                        p = n(h, 1),
                        m = n(h, 3),
                        v = n(h, 4),
                        g = n(h, 5),
                        y = n(h, 6),
                        b = n(h, 7),
                        d) {
                            if ((w = new Dn).a = A[a],
                            w.b = A[a + 1],
                            w.c = A[a + 3],
                            (M = new Dn).a = A[a + 1],
                            M.b = A[a + 2],
                            M.c = A[a + 3],
                            a += 4,
                            p && (l = A[a++],
                            w.materialIndex = l,
                            M.materialIndex = l),
                            o = e.faces.length,
                            m)
                                for (r = 0; r < P; r++)
                                    for (S = t.uvs[r],
                                    e.faceVertexUvs[r][o] = [],
                                    e.faceVertexUvs[r][o + 1] = [],
                                    i = 0; i < 4; i++)
                                        O = new Ze(S[2 * (f = A[a++])],S[2 * f + 1]),
                                        2 !== i && e.faceVertexUvs[r][o].push(O),
                                        0 !== i && e.faceVertexUvs[r][o + 1].push(O);
                            if (v && (c = 3 * A[a++],
                            w.normal.set(R[c++], R[c++], R[c]),
                            M.normal.copy(w.normal)),
                            g)
                                for (r = 0; r < 4; r++)
                                    c = 3 * A[a++],
                                    T = new Ke(R[c++],R[c++],R[c]),
                                    2 !== r && w.vertexNormals.push(T),
                                    0 !== r && M.vertexNormals.push(T);
                            if (y && (E = C[u = A[a++]],
                            w.color.setHex(E),
                            M.color.setHex(E)),
                            b)
                                for (r = 0; r < 4; r++)
                                    E = C[u = A[a++]],
                                    2 !== r && w.vertexColors.push(new _n(E)),
                                    0 !== r && M.vertexColors.push(new _n(E));
                            e.faces.push(w),
                            e.faces.push(M)
                        } else {
                            if ((x = new Dn).a = A[a++],
                            x.b = A[a++],
                            x.c = A[a++],
                            p && (l = A[a++],
                            x.materialIndex = l),
                            o = e.faces.length,
                            m)
                                for (r = 0; r < P; r++)
                                    for (S = t.uvs[r],
                                    e.faceVertexUvs[r][o] = [],
                                    i = 0; i < 3; i++)
                                        O = new Ze(S[2 * (f = A[a++])],S[2 * f + 1]),
                                        e.faceVertexUvs[r][o].push(O);
                            if (v && (c = 3 * A[a++],
                            x.normal.set(R[c++], R[c++], R[c])),
                            g)
                                for (r = 0; r < 3; r++)
                                    c = 3 * A[a++],
                                    T = new Ke(R[c++],R[c++],R[c]),
                                    x.vertexNormals.push(T);
                            if (y && (u = A[a++],
                            x.color.setHex(C[u])),
                            b)
                                for (r = 0; r < 3; r++)
                                    u = A[a++],
                                    x.vertexColors.push(new _n(C[u]));
                            e.faces.push(x)
                        }
                }(t, n),
                function(t, e) {
                    var n = void 0 !== t.influencesPerVertex ? t.influencesPerVertex : 2;
                    if (t.skinWeights)
                        for (var r = 0, i = t.skinWeights.length; r < i; r += n) {
                            var o = t.skinWeights[r]
                              , a = n > 1 ? t.skinWeights[r + 1] : 0
                              , s = n > 2 ? t.skinWeights[r + 2] : 0
                              , u = n > 3 ? t.skinWeights[r + 3] : 0;
                            e.skinWeights.push(new un(o,a,s,u))
                        }
                    if (t.skinIndices)
                        for (r = 0,
                        i = t.skinIndices.length; r < i; r += n) {
                            var c = t.skinIndices[r]
                              , f = n > 1 ? t.skinIndices[r + 1] : 0
                              , l = n > 2 ? t.skinIndices[r + 2] : 0
                              , h = n > 3 ? t.skinIndices[r + 3] : 0;
                            e.skinIndices.push(new un(c,f,l,h))
                        }
                    e.bones = t.bones,
                    e.bones && e.bones.length > 0 && (e.skinWeights.length !== e.skinIndices.length || e.skinIndices.length !== e.vertices.length) && console.warn("When skinning, number of vertices (" + e.vertices.length + "), skinIndices (" + e.skinIndices.length + "), and skinWeights (" + e.skinWeights.length + ") should match.")
                }(t, n),
                function(t, e) {
                    var n = t.scale;
                    if (void 0 !== t.morphTargets)
                        for (var r = 0, i = t.morphTargets.length; r < i; r++) {
                            e.morphTargets[r] = {},
                            e.morphTargets[r].name = t.morphTargets[r].name,
                            e.morphTargets[r].vertices = [];
                            for (var o = e.morphTargets[r].vertices, a = t.morphTargets[r].vertices, s = 0, u = a.length; s < u; s += 3) {
                                var c = new Ke;
                                c.x = a[s] * n,
                                c.y = a[s + 1] * n,
                                c.z = a[s + 2] * n,
                                o.push(c)
                            }
                        }
                    if (void 0 !== t.morphColors && t.morphColors.length > 0) {
                        console.warn('THREE.JSONLoader: "morphColors" no longer supported. Using them as face colors.');
                        var f = e.faces
                          , l = t.morphColors[0].colors;
                        for (r = 0,
                        i = f.length; r < i; r++)
                            f[r].color.fromArray(l, 3 * r)
                    }
                }(t, n),
                function(t, e) {
                    var n = []
                      , r = [];
                    void 0 !== t.animation && r.push(t.animation),
                    void 0 !== t.animations && (t.animations.length ? r = r.concat(t.animations) : r.push(t.animations));
                    for (var i = 0; i < r.length; i++) {
                        var o = Bs.parseAnimation(r[i], e.bones);
                        o && n.push(o)
                    }
                    if (e.morphTargets) {
                        var a = Bs.CreateClipsFromMorphTargetSequences(e.morphTargets, 10);
                        n = n.concat(a)
                    }
                    n.length > 0 && (e.animations = n)
                }(t, n),
                n.computeFaceNormals(),
                n.computeBoundingSphere(),
                void 0 === t.materials || 0 === t.materials.length ? {
                    geometry: n
                } : {
                    geometry: n,
                    materials: Ys.prototype.initMaterials(t.materials, e, this.crossOrigin)
                }
            }
        }()
    }),
    Object.assign(Qs.prototype, {
        crossOrigin: "anonymous",
        load: function(t, e, n, r) {
            "" === this.texturePath && (this.texturePath = t.substring(0, t.lastIndexOf("/") + 1));
            var i = this;
            new Fa(i.manager).load(t, function(n) {
                var o = null;
                try {
                    o = JSON.parse(n)
                } catch (e) {
                    return void 0 !== r && r(e),
                    void console.error("THREE:ObjectLoader: Can't parse " + t + ".", e.message)
                }
                var a = o.metadata;
                void 0 !== a && void 0 !== a.type && "geometry" !== a.type.toLowerCase() ? i.parse(o, e) : console.error("THREE.ObjectLoader: Can't load " + t + ". Use THREE.JSONLoader instead.")
            }, n, r)
        },
        setTexturePath: function(t) {
            return this.texturePath = t,
            this
        },
        setCrossOrigin: function(t) {
            return this.crossOrigin = t,
            this
        },
        parse: function(t, e) {
            var n = this.parseShape(t.shapes)
              , r = this.parseGeometries(t.geometries, n)
              , i = this.parseImages(t.images, function() {
                void 0 !== e && e(s)
            })
              , o = this.parseTextures(t.textures, i)
              , a = this.parseMaterials(t.materials, o)
              , s = this.parseObject(t.object, r, a);
            return t.animations && (s.animations = this.parseAnimations(t.animations)),
            void 0 !== t.images && 0 !== t.images.length || void 0 !== e && e(s),
            s
        },
        parseShape: function(t) {
            var e = {};
            if (void 0 !== t)
                for (var n = 0, r = t.length; n < r; n++) {
                    var i = (new ms).fromJSON(t[n]);
                    e[i.uuid] = i
                }
            return e
        },
        parseGeometries: function(t, e) {
            var n = {};
            if (void 0 !== t)
                for (var r = new Js, i = new Gs, o = 0, a = t.length; o < a; o++) {
                    var s, u = t[o];
                    switch (u.type) {
                    case "PlaneGeometry":
                    case "PlaneBufferGeometry":
                        s = new Sa[u.type](u.width,u.height,u.widthSegments,u.heightSegments);
                        break;
                    case "BoxGeometry":
                    case "BoxBufferGeometry":
                    case "CubeGeometry":
                        s = new Sa[u.type](u.width,u.height,u.depth,u.widthSegments,u.heightSegments,u.depthSegments);
                        break;
                    case "CircleGeometry":
                    case "CircleBufferGeometry":
                        s = new Sa[u.type](u.radius,u.segments,u.thetaStart,u.thetaLength);
                        break;
                    case "CylinderGeometry":
                    case "CylinderBufferGeometry":
                        s = new Sa[u.type](u.radiusTop,u.radiusBottom,u.height,u.radialSegments,u.heightSegments,u.openEnded,u.thetaStart,u.thetaLength);
                        break;
                    case "ConeGeometry":
                    case "ConeBufferGeometry":
                        s = new Sa[u.type](u.radius,u.height,u.radialSegments,u.heightSegments,u.openEnded,u.thetaStart,u.thetaLength);
                        break;
                    case "SphereGeometry":
                    case "SphereBufferGeometry":
                        s = new Sa[u.type](u.radius,u.widthSegments,u.heightSegments,u.phiStart,u.phiLength,u.thetaStart,u.thetaLength);
                        break;
                    case "DodecahedronGeometry":
                    case "DodecahedronBufferGeometry":
                    case "IcosahedronGeometry":
                    case "IcosahedronBufferGeometry":
                    case "OctahedronGeometry":
                    case "OctahedronBufferGeometry":
                    case "TetrahedronGeometry":
                    case "TetrahedronBufferGeometry":
                        s = new Sa[u.type](u.radius,u.detail);
                        break;
                    case "RingGeometry":
                    case "RingBufferGeometry":
                        s = new Sa[u.type](u.innerRadius,u.outerRadius,u.thetaSegments,u.phiSegments,u.thetaStart,u.thetaLength);
                        break;
                    case "TorusGeometry":
                    case "TorusBufferGeometry":
                        s = new Sa[u.type](u.radius,u.tube,u.radialSegments,u.tubularSegments,u.arc);
                        break;
                    case "TorusKnotGeometry":
                    case "TorusKnotBufferGeometry":
                        s = new Sa[u.type](u.radius,u.tube,u.tubularSegments,u.radialSegments,u.p,u.q);
                        break;
                    case "LatheGeometry":
                    case "LatheBufferGeometry":
                        s = new Sa[u.type](u.points,u.segments,u.phiStart,u.phiLength);
                        break;
                    case "PolyhedronGeometry":
                    case "PolyhedronBufferGeometry":
                        s = new Sa[u.type](u.vertices,u.indices,u.radius,u.details);
                        break;
                    case "ShapeGeometry":
                    case "ShapeBufferGeometry":
                        for (var c = [], f = 0, l = u.shapes.length; f < l; f++) {
                            var h = e[u.shapes[f]];
                            c.push(h)
                        }
                        s = new Sa[u.type](c,u.curveSegments);
                        break;
                    case "ExtrudeGeometry":
                    case "ExtrudeBufferGeometry":
                        for (c = [],
                        f = 0,
                        l = u.shapes.length; f < l; f++) {
                            h = e[u.shapes[f]];
                            c.push(h)
                        }
                        var d = u.options.extrudePath;
                        void 0 !== d && (u.options.extrudePath = (new hs[d.type]).fromJSON(d)),
                        s = new Sa[u.type](c,u.options);
                        break;
                    case "BufferGeometry":
                        s = i.parse(u);
                        break;
                    case "Geometry":
                        s = r.parse(u, this.texturePath).geometry;
                        break;
                    default:
                        console.warn('THREE.ObjectLoader: Unsupported geometry type "' + u.type + '"');
                        continue
                    }
                    s.uuid = u.uuid,
                    void 0 !== u.name && (s.name = u.name),
                    !0 === s.isBufferGeometry && void 0 !== u.userData && (s.userData = u.userData),
                    n[u.uuid] = s
                }
            return n
        },
        parseMaterials: function(t, e) {
            var n = {};
            if (void 0 !== t) {
                var r = new Fs;
                r.setTextures(e);
                for (var i = 0, o = t.length; i < o; i++) {
                    var a = t[i];
                    if ("MultiMaterial" === a.type) {
                        for (var s = [], u = 0; u < a.materials.length; u++)
                            s.push(r.parse(a.materials[u]));
                        n[a.uuid] = s
                    } else
                        n[a.uuid] = r.parse(a)
                }
            }
            return n
        },
        parseAnimations: function(t) {
            for (var e = [], n = 0; n < t.length; n++) {
                var r = t[n]
                  , i = Bs.parse(r);
                void 0 !== r.uuid && (i.uuid = r.uuid),
                e.push(i)
            }
            return e
        },
        parseImages: function(t, e) {
            var n = this
              , r = {};
            function i(t) {
                return n.manager.itemStart(t),
                o.load(t, function() {
                    n.manager.itemEnd(t)
                }, void 0, function() {
                    n.manager.itemEnd(t),
                    n.manager.itemError(t)
                })
            }
            if (void 0 !== t && t.length > 0) {
                var o = new Va(new za(e));
                o.setCrossOrigin(this.crossOrigin);
                for (var a = 0, s = t.length; a < s; a++) {
                    var u = t[a]
                      , c = u.url;
                    if (Array.isArray(c)) {
                        r[u.uuid] = [];
                        for (var f = 0, l = c.length; f < l; f++) {
                            var h = c[f]
                              , d = /^(\/\/)|([a-z]+:(\/\/)?)/i.test(h) ? h : n.texturePath + h;
                            r[u.uuid].push(i(d))
                        }
                    } else {
                        d = /^(\/\/)|([a-z]+:(\/\/)?)/i.test(u.url) ? u.url : n.texturePath + u.url;
                        r[u.uuid] = i(d)
                    }
                }
            }
            return r
        },
        parseTextures: function(t, e) {
            function n(t, e) {
                return "number" == typeof t ? t : (console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.", t),
                e[t])
            }
            var r = {};
            if (void 0 !== t)
                for (var i = 0, o = t.length; i < o; i++) {
                    var a, s = t[i];
                    void 0 === s.image && console.warn('THREE.ObjectLoader: No "image" specified for', s.uuid),
                    void 0 === e[s.image] && console.warn("THREE.ObjectLoader: Undefined image", s.image),
                    (a = Array.isArray(e[s.image]) ? new Er(e[s.image]) : new sn(e[s.image])).needsUpdate = !0,
                    a.uuid = s.uuid,
                    void 0 !== s.name && (a.name = s.name),
                    void 0 !== s.mapping && (a.mapping = n(s.mapping, $s)),
                    void 0 !== s.offset && a.offset.fromArray(s.offset),
                    void 0 !== s.repeat && a.repeat.fromArray(s.repeat),
                    void 0 !== s.center && a.center.fromArray(s.center),
                    void 0 !== s.rotation && (a.rotation = s.rotation),
                    void 0 !== s.wrap && (a.wrapS = n(s.wrap[0], tu),
                    a.wrapT = n(s.wrap[1], tu)),
                    void 0 !== s.format && (a.format = s.format),
                    void 0 !== s.minFilter && (a.minFilter = n(s.minFilter, eu)),
                    void 0 !== s.magFilter && (a.magFilter = n(s.magFilter, eu)),
                    void 0 !== s.anisotropy && (a.anisotropy = s.anisotropy),
                    void 0 !== s.flipY && (a.flipY = s.flipY),
                    r[s.uuid] = a
                }
            return r
        },
        parseObject: function(t, e, n) {
            var r;
            function i(t) {
                return void 0 === e[t] && console.warn("THREE.ObjectLoader: Undefined geometry", t),
                e[t]
            }
            function o(t) {
                if (void 0 !== t) {
                    if (Array.isArray(t)) {
                        for (var e = [], r = 0, i = t.length; r < i; r++) {
                            var o = t[r];
                            void 0 === n[o] && console.warn("THREE.ObjectLoader: Undefined material", o),
                            e.push(n[o])
                        }
                        return e
                    }
                    return void 0 === n[t] && console.warn("THREE.ObjectLoader: Undefined material", t),
                    n[t]
                }
            }
            switch (t.type) {
            case "Scene":
                r = new Yi,
                void 0 !== t.background && Number.isInteger(t.background) && (r.background = new _n(t.background)),
                void 0 !== t.fog && ("Fog" === t.fog.type ? r.fog = new Xi(t.fog.color,t.fog.near,t.fog.far) : "FogExp2" === t.fog.type && (r.fog = new qi(t.fog.color,t.fog.density)));
                break;
            case "PerspectiveCamera":
                r = new Gi(t.fov,t.aspect,t.near,t.far),
                void 0 !== t.focus && (r.focus = t.focus),
                void 0 !== t.zoom && (r.zoom = t.zoom),
                void 0 !== t.filmGauge && (r.filmGauge = t.filmGauge),
                void 0 !== t.filmOffset && (r.filmOffset = t.filmOffset),
                void 0 !== t.view && (r.view = Object.assign({}, t.view));
                break;
            case "OrthographicCamera":
                r = new In(t.left,t.right,t.top,t.bottom,t.near,t.far),
                void 0 !== t.zoom && (r.zoom = t.zoom),
                void 0 !== t.view && (r.view = Object.assign({}, t.view));
                break;
            case "AmbientLight":
                r = new Es(t.color,t.intensity);
                break;
            case "DirectionalLight":
                r = new Ms(t.color,t.intensity);
                break;
            case "PointLight":
                r = new xs(t.color,t.intensity,t.distance,t.decay);
                break;
            case "RectAreaLight":
                r = new Ts(t.color,t.intensity,t.width,t.height);
                break;
            case "SpotLight":
                r = new _s(t.color,t.intensity,t.distance,t.angle,t.penumbra,t.decay);
                break;
            case "HemisphereLight":
                r = new gs(t.color,t.groundColor,t.intensity);
                break;
            case "SkinnedMesh":
                console.warn("THREE.ObjectLoader.parseObject() does not support SkinnedMesh yet.");
            case "Mesh":
                var a = i(t.geometry)
                  , s = o(t.material);
                r = a.bones && a.bones.length > 0 ? new no(a,s) : new wr(a,s);
                break;
            case "LOD":
                r = new $i;
                break;
            case "Line":
                r = new io(i(t.geometry),o(t.material),t.mode);
                break;
            case "LineLoop":
                r = new ao(i(t.geometry),o(t.material));
                break;
            case "LineSegments":
                r = new oo(i(t.geometry),o(t.material));
                break;
            case "PointCloud":
            case "Points":
                r = new uo(i(t.geometry),o(t.material));
                break;
            case "Sprite":
                r = new Ki(o(t.material));
                break;
            case "Group":
                r = new Fi;
                break;
            default:
                r = new Pn
            }
            if (r.uuid = t.uuid,
            void 0 !== t.name && (r.name = t.name),
            void 0 !== t.matrix ? (r.matrix.fromArray(t.matrix),
            void 0 !== t.matrixAutoUpdate && (r.matrixAutoUpdate = t.matrixAutoUpdate),
            r.matrixAutoUpdate && r.matrix.decompose(r.position, r.quaternion, r.scale)) : (void 0 !== t.position && r.position.fromArray(t.position),
            void 0 !== t.rotation && r.rotation.fromArray(t.rotation),
            void 0 !== t.quaternion && r.quaternion.fromArray(t.quaternion),
            void 0 !== t.scale && r.scale.fromArray(t.scale)),
            void 0 !== t.castShadow && (r.castShadow = t.castShadow),
            void 0 !== t.receiveShadow && (r.receiveShadow = t.receiveShadow),
            t.shadow && (void 0 !== t.shadow.bias && (r.shadow.bias = t.shadow.bias),
            void 0 !== t.shadow.radius && (r.shadow.radius = t.shadow.radius),
            void 0 !== t.shadow.mapSize && r.shadow.mapSize.fromArray(t.shadow.mapSize),
            void 0 !== t.shadow.camera && (r.shadow.camera = this.parseObject(t.shadow.camera))),
            void 0 !== t.visible && (r.visible = t.visible),
            void 0 !== t.frustumCulled && (r.frustumCulled = t.frustumCulled),
            void 0 !== t.renderOrder && (r.renderOrder = t.renderOrder),
            void 0 !== t.userData && (r.userData = t.userData),
            void 0 !== t.layers && (r.layers.mask = t.layers),
            void 0 !== t.children)
                for (var u = t.children, c = 0; c < u.length; c++)
                    r.add(this.parseObject(u[c], e, n));
            if ("LOD" === t.type)
                for (var f = t.levels, l = 0; l < f.length; l++) {
                    var h = f[l]
                      , d = r.getObjectByProperty("uuid", h.object);
                    void 0 !== d && r.addLevel(d, h.distance)
                }
            return r
        }
    });
    var Ks, $s = {
        UVMapping: yt,
        CubeReflectionMapping: bt,
        CubeRefractionMapping: _t,
        EquirectangularReflectionMapping: xt,
        EquirectangularRefractionMapping: wt,
        SphericalReflectionMapping: Mt,
        CubeUVReflectionMapping: Et,
        CubeUVRefractionMapping: Tt
    }, tu = {
        RepeatWrapping: St,
        ClampToEdgeWrapping: Ot,
        MirroredRepeatWrapping: At
    }, eu = {
        NearestFilter: Lt,
        NearestMipMapNearestFilter: Rt,
        NearestMipMapLinearFilter: Ct,
        LinearFilter: jt,
        LinearMipMapNearestFilter: Pt,
        LinearMipMapLinearFilter: Nt
    };
    function nu(t) {
        "undefined" == typeof createImageBitmap && console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),
        "undefined" == typeof fetch && console.warn("THREE.ImageBitmapLoader: fetch() not supported."),
        this.manager = void 0 !== t ? t : Ba,
        this.options = void 0
    }
    function ru() {
        this.type = "ShapePath",
        this.color = new _n,
        this.subPaths = [],
        this.currentPath = null
    }
    function iu(t) {
        this.type = "Font",
        this.data = t
    }
    function ou(t, e, n, r, i) {
        var o = i.glyphs[t] || i.glyphs["?"];
        if (o) {
            var a, s, u, c, f, l, h, d, p = new ru;
            if (o.o)
                for (var m = o._cachedOutline || (o._cachedOutline = o.o.split(" ")), v = 0, g = m.length; v < g; ) {
                    switch (m[v++]) {
                    case "m":
                        a = m[v++] * e + n,
                        s = m[v++] * e + r,
                        p.moveTo(a, s);
                        break;
                    case "l":
                        a = m[v++] * e + n,
                        s = m[v++] * e + r,
                        p.lineTo(a, s);
                        break;
                    case "q":
                        u = m[v++] * e + n,
                        c = m[v++] * e + r,
                        f = m[v++] * e + n,
                        l = m[v++] * e + r,
                        p.quadraticCurveTo(f, l, u, c);
                        break;
                    case "b":
                        u = m[v++] * e + n,
                        c = m[v++] * e + r,
                        f = m[v++] * e + n,
                        l = m[v++] * e + r,
                        h = m[v++] * e + n,
                        d = m[v++] * e + r,
                        p.bezierCurveTo(f, l, h, d, u, c)
                    }
                }
            return {
                offsetX: o.ha * e,
                path: p
            }
        }
    }
    function au(t) {
        this.manager = void 0 !== t ? t : Ba
    }
    nu.prototype = {
        constructor: nu,
        setOptions: function(t) {
            return this.options = t,
            this
        },
        load: function(t, e, n, r) {
            void 0 === t && (t = ""),
            void 0 !== this.path && (t = this.path + t),
            t = this.manager.resolveURL(t);
            var i = this
              , o = Ua.get(t);
            if (void 0 !== o)
                return i.manager.itemStart(t),
                setTimeout(function() {
                    e && e(o),
                    i.manager.itemEnd(t)
                }, 0),
                o;
            fetch(t).then(function(t) {
                return t.blob()
            }).then(function(t) {
                return createImageBitmap(t, i.options)
            }).then(function(n) {
                Ua.add(t, n),
                e && e(n),
                i.manager.itemEnd(t)
            }).catch(function(e) {
                r && r(e),
                i.manager.itemEnd(t),
                i.manager.itemError(t)
            })
        },
        setCrossOrigin: function() {
            return this
        },
        setPath: function(t) {
            return this.path = t,
            this
        }
    },
    Object.assign(ru.prototype, {
        moveTo: function(t, e) {
            this.currentPath = new ps,
            this.subPaths.push(this.currentPath),
            this.currentPath.moveTo(t, e)
        },
        lineTo: function(t, e) {
            this.currentPath.lineTo(t, e)
        },
        quadraticCurveTo: function(t, e, n, r) {
            this.currentPath.quadraticCurveTo(t, e, n, r)
        },
        bezierCurveTo: function(t, e, n, r, i, o) {
            this.currentPath.bezierCurveTo(t, e, n, r, i, o)
        },
        splineThru: function(t) {
            this.currentPath.splineThru(t)
        },
        toShapes: function(t, e) {
            function n(t) {
                for (var e = [], n = 0, r = t.length; n < r; n++) {
                    var i = t[n]
                      , o = new ms;
                    o.curves = i.curves,
                    e.push(o)
                }
                return e
            }
            function r(t, e) {
                for (var n = e.length, r = !1, i = n - 1, o = 0; o < n; i = o++) {
                    var a = e[i]
                      , s = e[o]
                      , u = s.x - a.x
                      , c = s.y - a.y;
                    if (Math.abs(c) > Number.EPSILON) {
                        if (c < 0 && (a = e[o],
                        u = -u,
                        s = e[i],
                        c = -c),
                        t.y < a.y || t.y > s.y)
                            continue;
                        if (t.y === a.y) {
                            if (t.x === a.x)
                                return !0
                        } else {
                            var f = c * (t.x - a.x) - u * (t.y - a.y);
                            if (0 === f)
                                return !0;
                            if (f < 0)
                                continue;
                            r = !r
                        }
                    } else {
                        if (t.y !== a.y)
                            continue;
                        if (s.x <= t.x && t.x <= a.x || a.x <= t.x && t.x <= s.x)
                            return !0
                    }
                }
                return r
            }
            var i = ea.isClockWise
              , o = this.subPaths;
            if (0 === o.length)
                return [];
            if (!0 === e)
                return n(o);
            var a, s, u, c = [];
            if (1 === o.length)
                return s = o[0],
                (u = new ms).curves = s.curves,
                c.push(u),
                c;
            var f = !i(o[0].getPoints());
            f = t ? !f : f;
            var l, h, d = [], p = [], m = [], v = 0;
            p[v] = void 0,
            m[v] = [];
            for (var g = 0, y = o.length; g < y; g++)
                a = i(l = (s = o[g]).getPoints()),
                (a = t ? !a : a) ? (!f && p[v] && v++,
                p[v] = {
                    s: new ms,
                    p: l
                },
                p[v].s.curves = s.curves,
                f && v++,
                m[v] = []) : m[v].push({
                    h: s,
                    p: l[0]
                });
            if (!p[0])
                return n(o);
            if (p.length > 1) {
                for (var b = !1, _ = [], x = 0, w = p.length; x < w; x++)
                    d[x] = [];
                for (x = 0,
                w = p.length; x < w; x++)
                    for (var M = m[x], E = 0; E < M.length; E++) {
                        for (var T = M[E], S = !0, O = 0; O < p.length; O++)
                            r(T.p, p[O].p) && (x !== O && _.push({
                                froms: x,
                                tos: O,
                                hole: E
                            }),
                            S ? (S = !1,
                            d[O].push(T)) : b = !0);
                        S && d[x].push(T)
                    }
                _.length > 0 && (b || (m = d))
            }
            g = 0;
            for (var A = p.length; g < A; g++) {
                u = p[g].s,
                c.push(u);
                for (var L = 0, R = (h = m[g]).length; L < R; L++)
                    u.holes.push(h[L].h)
            }
            return c
        }
    }),
    Object.assign(iu.prototype, {
        isFont: !0,
        generateShapes: function(t, e) {
            void 0 === e && (e = 100);
            for (var n = [], r = function(t, e, n) {
                for (var r = Array.from ? Array.from(t) : String(t).split(""), i = e / n.resolution, o = (n.boundingBox.yMax - n.boundingBox.yMin + n.underlineThickness) * i, a = [], s = 0, u = 0, c = 0; c < r.length; c++) {
                    var f = r[c];
                    if ("\n" === f)
                        s = 0,
                        u -= o;
                    else {
                        var l = ou(f, i, s, u, n);
                        s += l.offsetX,
                        a.push(l.path)
                    }
                }
                return a
            }(t, e, this.data), i = 0, o = r.length; i < o; i++)
                Array.prototype.push.apply(n, r[i].toShapes());
            return n
        }
    }),
    Object.assign(au.prototype, {
        load: function(t, e, n, r) {
            var i = this
              , o = new Fa(this.manager);
            o.setPath(this.path),
            o.load(t, function(t) {
                var n;
                try {
                    n = JSON.parse(t)
                } catch (e) {
                    console.warn("THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead."),
                    n = JSON.parse(t.substring(65, t.length - 2))
                }
                var r = i.parse(n);
                e && e(r)
            }, n, r)
        },
        parse: function(t) {
            return new iu(t)
        },
        setPath: function(t) {
            return this.path = t,
            this
        }
    });
    var su, uu, cu, fu, lu, hu, du, pu, mu, vu, gu = {
        getContext: function() {
            return void 0 === Ks && (Ks = new (window.AudioContext || window.webkitAudioContext)),
            Ks
        },
        setContext: function(t) {
            Ks = t
        }
    };
    function yu(t) {
        this.manager = void 0 !== t ? t : Ba
    }
    function bu() {
        this.type = "StereoCamera",
        this.aspect = 1,
        this.eyeSep = .064,
        this.cameraL = new Gi,
        this.cameraL.layers.enable(1),
        this.cameraL.matrixAutoUpdate = !1,
        this.cameraR = new Gi,
        this.cameraR.layers.enable(2),
        this.cameraR.matrixAutoUpdate = !1
    }
    function _u(t, e, n) {
        Pn.call(this),
        this.type = "CubeCamera";
        var r = new Gi(90,1,t,e);
        r.up.set(0, -1, 0),
        r.lookAt(new Ke(1,0,0)),
        this.add(r);
        var i = new Gi(90,1,t,e);
        i.up.set(0, -1, 0),
        i.lookAt(new Ke(-1,0,0)),
        this.add(i);
        var o = new Gi(90,1,t,e);
        o.up.set(0, 0, 1),
        o.lookAt(new Ke(0,1,0)),
        this.add(o);
        var a = new Gi(90,1,t,e);
        a.up.set(0, 0, -1),
        a.lookAt(new Ke(0,-1,0)),
        this.add(a);
        var s = new Gi(90,1,t,e);
        s.up.set(0, -1, 0),
        s.lookAt(new Ke(0,0,1)),
        this.add(s);
        var u = new Gi(90,1,t,e);
        u.up.set(0, -1, 0),
        u.lookAt(new Ke(0,0,-1)),
        this.add(u);
        var c = {
            format: Yt,
            magFilter: jt,
            minFilter: jt
        };
        this.renderTarget = new fn(n,n,c),
        this.renderTarget.texture.name = "CubeCamera",
        this.update = function(t, e) {
            null === this.parent && this.updateMatrixWorld();
            var n = this.renderTarget
              , c = n.texture.generateMipmaps;
            n.texture.generateMipmaps = !1,
            n.activeCubeFace = 0,
            t.render(e, r, n),
            n.activeCubeFace = 1,
            t.render(e, i, n),
            n.activeCubeFace = 2,
            t.render(e, o, n),
            n.activeCubeFace = 3,
            t.render(e, a, n),
            n.activeCubeFace = 4,
            t.render(e, s, n),
            n.texture.generateMipmaps = c,
            n.activeCubeFace = 5,
            t.render(e, u, n),
            t.setRenderTarget(null)
        }
        ,
        this.clear = function(t, e, n, r) {
            for (var i = this.renderTarget, o = 0; o < 6; o++)
                i.activeCubeFace = o,
                t.setRenderTarget(i),
                t.clear(e, n, r);
            t.setRenderTarget(null)
        }
    }
    function xu() {
        Pn.call(this),
        this.type = "AudioListener",
        this.context = gu.getContext(),
        this.gain = this.context.createGain(),
        this.gain.connect(this.context.destination),
        this.filter = null
    }
    function wu(t) {
        Pn.call(this),
        this.type = "Audio",
        this.context = t.context,
        this.gain = this.context.createGain(),
        this.gain.connect(t.getInput()),
        this.autoplay = !1,
        this.buffer = null,
        this.loop = !1,
        this.startTime = 0,
        this.offset = 0,
        this.playbackRate = 1,
        this.isPlaying = !1,
        this.hasPlaybackControl = !0,
        this.sourceType = "empty",
        this.filters = []
    }
    function Mu(t) {
        wu.call(this, t),
        this.panner = this.context.createPanner(),
        this.panner.connect(this.gain)
    }
    function Eu(t, e) {
        this.analyser = t.context.createAnalyser(),
        this.analyser.fftSize = void 0 !== e ? e : 2048,
        this.data = new Uint8Array(this.analyser.frequencyBinCount),
        t.getOutput().connect(this.analyser)
    }
    function Tu(t, e, n) {
        this.binding = t,
        this.valueSize = n;
        var r, i = Float64Array;
        switch (e) {
        case "quaternion":
            r = this._slerp;
            break;
        case "string":
        case "bool":
            i = Array,
            r = this._select;
            break;
        default:
            r = this._lerp
        }
        this.buffer = new i(4 * n),
        this._mixBufferRegion = r,
        this.cumulativeWeight = 0,
        this.useCount = 0,
        this.referenceCount = 0
    }
    Object.assign(yu.prototype, {
        load: function(t, e, n, r) {
            var i = new Fa(this.manager);
            i.setResponseType("arraybuffer"),
            i.load(t, function(t) {
                var n = t.slice(0);
                gu.getContext().decodeAudioData(n, function(t) {
                    e(t)
                })
            }, n, r)
        }
    }),
    Object.assign(bu.prototype, {
        update: (mu = new Je,
        vu = new Je,
        function(t) {
            if (su !== this || uu !== t.focus || cu !== t.fov || fu !== t.aspect * this.aspect || lu !== t.near || hu !== t.far || du !== t.zoom || pu !== this.eyeSep) {
                su = this,
                uu = t.focus,
                cu = t.fov,
                fu = t.aspect * this.aspect,
                lu = t.near,
                hu = t.far,
                du = t.zoom;
                var e, n, r = t.projectionMatrix.clone(), i = (pu = this.eyeSep / 2) * lu / uu, o = lu * Math.tan(Ye.DEG2RAD * cu * .5) / du;
                vu.elements[12] = -pu,
                mu.elements[12] = pu,
                e = -o * fu + i,
                n = o * fu + i,
                r.elements[0] = 2 * lu / (n - e),
                r.elements[8] = (n + e) / (n - e),
                this.cameraL.projectionMatrix.copy(r),
                e = -o * fu - i,
                n = o * fu - i,
                r.elements[0] = 2 * lu / (n - e),
                r.elements[8] = (n + e) / (n - e),
                this.cameraR.projectionMatrix.copy(r)
            }
            this.cameraL.matrixWorld.copy(t.matrixWorld).multiply(vu),
            this.cameraR.matrixWorld.copy(t.matrixWorld).multiply(mu)
        }
        )
    }),
    _u.prototype = Object.create(Pn.prototype),
    _u.prototype.constructor = _u,
    xu.prototype = Object.assign(Object.create(Pn.prototype), {
        constructor: xu,
        getInput: function() {
            return this.gain
        },
        removeFilter: function() {
            return null !== this.filter && (this.gain.disconnect(this.filter),
            this.filter.disconnect(this.context.destination),
            this.gain.connect(this.context.destination),
            this.filter = null),
            this
        },
        getFilter: function() {
            return this.filter
        },
        setFilter: function(t) {
            return null !== this.filter ? (this.gain.disconnect(this.filter),
            this.filter.disconnect(this.context.destination)) : this.gain.disconnect(this.context.destination),
            this.filter = t,
            this.gain.connect(this.filter),
            this.filter.connect(this.context.destination),
            this
        },
        getMasterVolume: function() {
            return this.gain.gain.value
        },
        setMasterVolume: function(t) {
            return this.gain.gain.setTargetAtTime(t, this.context.currentTime, .01),
            this
        },
        updateMatrixWorld: function() {
            var t = new Ke
              , e = new Qe
              , n = new Ke
              , r = new Ke;
            return function(i) {
                Pn.prototype.updateMatrixWorld.call(this, i);
                var o = this.context.listener
                  , a = this.up;
                this.matrixWorld.decompose(t, e, n),
                r.set(0, 0, -1).applyQuaternion(e),
                o.positionX ? (o.positionX.setValueAtTime(t.x, this.context.currentTime),
                o.positionY.setValueAtTime(t.y, this.context.currentTime),
                o.positionZ.setValueAtTime(t.z, this.context.currentTime),
                o.forwardX.setValueAtTime(r.x, this.context.currentTime),
                o.forwardY.setValueAtTime(r.y, this.context.currentTime),
                o.forwardZ.setValueAtTime(r.z, this.context.currentTime),
                o.upX.setValueAtTime(a.x, this.context.currentTime),
                o.upY.setValueAtTime(a.y, this.context.currentTime),
                o.upZ.setValueAtTime(a.z, this.context.currentTime)) : (o.setPosition(t.x, t.y, t.z),
                o.setOrientation(r.x, r.y, r.z, a.x, a.y, a.z))
            }
        }()
    }),
    wu.prototype = Object.assign(Object.create(Pn.prototype), {
        constructor: wu,
        getOutput: function() {
            return this.gain
        },
        setNodeSource: function(t) {
            return this.hasPlaybackControl = !1,
            this.sourceType = "audioNode",
            this.source = t,
            this.connect(),
            this
        },
        setMediaElementSource: function(t) {
            return this.hasPlaybackControl = !1,
            this.sourceType = "mediaNode",
            this.source = this.context.createMediaElementSource(t),
            this.connect(),
            this
        },
        setBuffer: function(t) {
            return this.buffer = t,
            this.sourceType = "buffer",
            this.autoplay && this.play(),
            this
        },
        play: function() {
            if (!0 !== this.isPlaying) {
                if (!1 !== this.hasPlaybackControl) {
                    var t = this.context.createBufferSource();
                    return t.buffer = this.buffer,
                    t.loop = this.loop,
                    t.onended = this.onEnded.bind(this),
                    t.playbackRate.setValueAtTime(this.playbackRate, this.startTime),
                    this.startTime = this.context.currentTime,
                    t.start(this.startTime, this.offset),
                    this.isPlaying = !0,
                    this.source = t,
                    this.connect()
                }
                console.warn("THREE.Audio: this Audio has no playback control.")
            } else
                console.warn("THREE.Audio: Audio is already playing.")
        },
        pause: function() {
            if (!1 !== this.hasPlaybackControl)
                return !0 === this.isPlaying && (this.source.stop(),
                this.source.onended = null,
                this.offset += (this.context.currentTime - this.startTime) * this.playbackRate,
                this.isPlaying = !1),
                this;
            console.warn("THREE.Audio: this Audio has no playback control.")
        },
        stop: function() {
            if (!1 !== this.hasPlaybackControl)
                return this.source.stop(),
                this.source.onended = null,
                this.offset = 0,
                this.isPlaying = !1,
                this;
            console.warn("THREE.Audio: this Audio has no playback control.")
        },
        connect: function() {
            if (this.filters.length > 0) {
                this.source.connect(this.filters[0]);
                for (var t = 1, e = this.filters.length; t < e; t++)
                    this.filters[t - 1].connect(this.filters[t]);
                this.filters[this.filters.length - 1].connect(this.getOutput())
            } else
                this.source.connect(this.getOutput());
            return this
        },
        disconnect: function() {
            if (this.filters.length > 0) {
                this.source.disconnect(this.filters[0]);
                for (var t = 1, e = this.filters.length; t < e; t++)
                    this.filters[t - 1].disconnect(this.filters[t]);
                this.filters[this.filters.length - 1].disconnect(this.getOutput())
            } else
                this.source.disconnect(this.getOutput());
            return this
        },
        getFilters: function() {
            return this.filters
        },
        setFilters: function(t) {
            return t || (t = []),
            !0 === this.isPlaying ? (this.disconnect(),
            this.filters = t,
            this.connect()) : this.filters = t,
            this
        },
        getFilter: function() {
            return this.getFilters()[0]
        },
        setFilter: function(t) {
            return this.setFilters(t ? [t] : [])
        },
        setPlaybackRate: function(t) {
            if (!1 !== this.hasPlaybackControl)
                return this.playbackRate = t,
                !0 === this.isPlaying && this.source.playbackRate.setValueAtTime(this.playbackRate, this.context.currentTime),
                this;
            console.warn("THREE.Audio: this Audio has no playback control.")
        },
        getPlaybackRate: function() {
            return this.playbackRate
        },
        onEnded: function() {
            this.isPlaying = !1
        },
        getLoop: function() {
            return !1 === this.hasPlaybackControl ? (console.warn("THREE.Audio: this Audio has no playback control."),
            !1) : this.loop
        },
        setLoop: function(t) {
            if (!1 !== this.hasPlaybackControl)
                return this.loop = t,
                !0 === this.isPlaying && (this.source.loop = this.loop),
                this;
            console.warn("THREE.Audio: this Audio has no playback control.")
        },
        getVolume: function() {
            return this.gain.gain.value
        },
        setVolume: function(t) {
            return this.gain.gain.setTargetAtTime(t, this.context.currentTime, .01),
            this
        }
    }),
    Mu.prototype = Object.assign(Object.create(wu.prototype), {
        constructor: Mu,
        getOutput: function() {
            return this.panner
        },
        getRefDistance: function() {
            return this.panner.refDistance
        },
        setRefDistance: function(t) {
            return this.panner.refDistance = t,
            this
        },
        getRolloffFactor: function() {
            return this.panner.rolloffFactor
        },
        setRolloffFactor: function(t) {
            return this.panner.rolloffFactor = t,
            this
        },
        getDistanceModel: function() {
            return this.panner.distanceModel
        },
        setDistanceModel: function(t) {
            return this.panner.distanceModel = t,
            this
        },
        getMaxDistance: function() {
            return this.panner.maxDistance
        },
        setMaxDistance: function(t) {
            return this.panner.maxDistance = t,
            this
        },
        setDirectionalCone: function(t, e, n) {
            return this.panner.coneInnerAngle = t,
            this.panner.coneOuterAngle = e,
            this.panner.coneOuterGain = n,
            this
        },
        updateMatrixWorld: function() {
            var t = new Ke
              , e = new Qe
              , n = new Ke
              , r = new Ke;
            return function(i) {
                Pn.prototype.updateMatrixWorld.call(this, i);
                var o = this.panner;
                this.matrixWorld.decompose(t, e, n),
                r.set(0, 0, 1).applyQuaternion(e),
                o.setPosition(t.x, t.y, t.z),
                o.setOrientation(r.x, r.y, r.z)
            }
        }()
    }),
    Object.assign(Eu.prototype, {
        getFrequencyData: function() {
            return this.analyser.getByteFrequencyData(this.data),
            this.data
        },
        getAverageFrequency: function() {
            for (var t = 0, e = this.getFrequencyData(), n = 0; n < e.length; n++)
                t += e[n];
            return t / e.length
        }
    }),
    Object.assign(Tu.prototype, {
        accumulate: function(t, e) {
            var n = this.buffer
              , r = this.valueSize
              , i = t * r + r
              , o = this.cumulativeWeight;
            if (0 === o) {
                for (var a = 0; a !== r; ++a)
                    n[i + a] = n[a];
                o = e
            } else {
                var s = e / (o += e);
                this._mixBufferRegion(n, i, 0, s, r)
            }
            this.cumulativeWeight = o
        },
        apply: function(t) {
            var e = this.valueSize
              , n = this.buffer
              , r = t * e + e
              , i = this.cumulativeWeight
              , o = this.binding;
            if (this.cumulativeWeight = 0,
            i < 1) {
                var a = 3 * e;
                this._mixBufferRegion(n, r, a, 1 - i, e)
            }
            for (var s = e, u = e + e; s !== u; ++s)
                if (n[s] !== n[s + e]) {
                    o.setValue(n, r);
                    break
                }
        },
        saveOriginalState: function() {
            var t = this.binding
              , e = this.buffer
              , n = this.valueSize
              , r = 3 * n;
            t.getValue(e, r);
            for (var i = n, o = r; i !== o; ++i)
                e[i] = e[r + i % n];
            this.cumulativeWeight = 0
        },
        restoreOriginalState: function() {
            var t = 3 * this.valueSize;
            this.binding.setValue(this.buffer, t)
        },
        _select: function(t, e, n, r, i) {
            if (r >= .5)
                for (var o = 0; o !== i; ++o)
                    t[e + o] = t[n + o]
        },
        _slerp: function(t, e, n, r) {
            Qe.slerpFlat(t, e, t, e, t, n, r)
        },
        _lerp: function(t, e, n, r, i) {
            for (var o = 1 - r, a = 0; a !== i; ++a) {
                var s = e + a;
                t[s] = t[s] * o + t[n + a] * r
            }
        }
    });
    var Su, Ou, Au, Lu, Ru, Cu, ju, Pu, Nu, Iu, Du, Uu, zu, Bu, ku;
    function Fu(t, e, n) {
        var r = n || Gu.parseTrackName(e);
        this._targetGroup = t,
        this._bindings = t.subscribe_(e, r)
    }
    function Gu(t, e, n) {
        this.path = e,
        this.parsedPath = n || Gu.parseTrackName(e),
        this.node = Gu.findNode(t, this.parsedPath.nodeName) || t,
        this.rootNode = t
    }
    function Hu() {
        this.uuid = Ye.generateUUID(),
        this._objects = Array.prototype.slice.call(arguments),
        this.nCachedObjects_ = 0;
        var t = {};
        this._indicesByUUID = t;
        for (var e = 0, n = arguments.length; e !== n; ++e)
            t[arguments[e].uuid] = e;
        this._paths = [],
        this._parsedPaths = [],
        this._bindings = [],
        this._bindingsIndicesByPath = {};
        var r = this;
        this.stats = {
            objects: {
                get total() {
                    return r._objects.length
                },
                get inUse() {
                    return this.total - r.nCachedObjects_
                }
            },
            get bindingsPerObject() {
                return r._bindings.length
            }
        }
    }
    function Vu(t, e, n) {
        this._mixer = t,
        this._clip = e,
        this._localRoot = n || null;
        for (var r = e.tracks, i = r.length, o = new Array(i), a = {
            endingStart: Re,
            endingEnd: Re
        }, s = 0; s !== i; ++s) {
            var u = r[s].createInterpolant(null);
            o[s] = u,
            u.settings = a
        }
        this._interpolantSettings = a,
        this._interpolants = o,
        this._propertyBindings = new Array(i),
        this._cacheIndex = null,
        this._byClipCacheIndex = null,
        this._timeScaleInterpolant = null,
        this._weightInterpolant = null,
        this.loop = Te,
        this._loopCount = -1,
        this._startTime = null,
        this.time = 0,
        this.timeScale = 1,
        this._effectiveTimeScale = 1,
        this.weight = 1,
        this._effectiveWeight = 1,
        this.repetitions = 1 / 0,
        this.paused = !1,
        this.enabled = !0,
        this.clampWhenFinished = !1,
        this.zeroSlopeAtStart = !0,
        this.zeroSlopeAtEnd = !0
    }
    function Wu(t) {
        this._root = t,
        this._initMemoryManager(),
        this._accuIndex = 0,
        this.time = 0,
        this.timeScale = 1
    }
    function qu(t) {
        "string" == typeof t && (console.warn("THREE.Uniform: Type parameter is no longer needed."),
        t = arguments[1]),
        this.value = t
    }
    function Xu() {
        tr.call(this),
        this.type = "InstancedBufferGeometry",
        this.maxInstancedCount = void 0
    }
    function Yu(t, e, n) {
        Zi.call(this, t, e),
        this.meshPerAttribute = n || 1
    }
    function Zu(t, e, n) {
        Fn.call(this, t, e),
        this.meshPerAttribute = n || 1
    }
    function Ju(t, e, n, r) {
        this.ray = new _r(t,e),
        this.near = n || 0,
        this.far = r || 1 / 0,
        this.params = {
            Mesh: {},
            Line: {},
            LOD: {},
            Points: {
                threshold: 1
            },
            Sprite: {}
        },
        Object.defineProperties(this.params, {
            PointCloud: {
                get: function() {
                    return console.warn("THREE.Raycaster: params.PointCloud has been renamed to params.Points."),
                    this.Points
                }
            }
        })
    }
    function Qu(t, e) {
        return t.distance - e.distance
    }
    function Ku(t, e, n, r) {
        if (!1 !== t.visible && (t.raycast(e, n),
        !0 === r))
            for (var i = t.children, o = 0, a = i.length; o < a; o++)
                Ku(i[o], e, n, !0)
    }
    function $u(t) {
        this.autoStart = void 0 === t || t,
        this.startTime = 0,
        this.oldTime = 0,
        this.elapsedTime = 0,
        this.running = !1
    }
    function tc(t, e, n) {
        return this.radius = void 0 !== t ? t : 1,
        this.phi = void 0 !== e ? e : 0,
        this.theta = void 0 !== n ? n : 0,
        this
    }
    function ec(t, e, n) {
        return this.radius = void 0 !== t ? t : 1,
        this.theta = void 0 !== e ? e : 0,
        this.y = void 0 !== n ? n : 0,
        this
    }
    function nc(t, e) {
        this.min = void 0 !== t ? t : new Ze(1 / 0,1 / 0),
        this.max = void 0 !== e ? e : new Ze(-1 / 0,-1 / 0)
    }
    function rc(t, e) {
        this.start = void 0 !== t ? t : new Ke,
        this.end = void 0 !== e ? e : new Ke
    }
    function ic(t) {
        Pn.call(this),
        this.material = t,
        this.render = function() {}
    }
    function oc(t, e, n, r) {
        this.object = t,
        this.size = void 0 !== e ? e : 1;
        var i = void 0 !== n ? n : 16711680
          , o = void 0 !== r ? r : 1
          , a = 0
          , s = this.object.geometry;
        s && s.isGeometry ? a = 3 * s.faces.length : s && s.isBufferGeometry && (a = s.attributes.normal.count);
        var u = new tr
          , c = new Zn(2 * a * 3,3);
        u.addAttribute("position", c),
        oo.call(this, u, new ro({
            color: i,
            linewidth: o
        })),
        this.matrixAutoUpdate = !1,
        this.update()
    }
    function ac(t, e) {
        Pn.call(this),
        this.light = t,
        this.light.updateMatrixWorld(),
        this.matrix = t.matrixWorld,
        this.matrixAutoUpdate = !1,
        this.color = e;
        for (var n = new tr, r = [0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 0, 0, 0, -1, 0, 1, 0, 0, 0, 0, 1, 1, 0, 0, 0, 0, -1, 1], i = 0, o = 1; i < 32; i++,
        o++) {
            var a = i / 32 * Math.PI * 2
              , s = o / 32 * Math.PI * 2;
            r.push(Math.cos(a), Math.sin(a), 1, Math.cos(s), Math.sin(s), 1)
        }
        n.addAttribute("position", new Zn(r,3));
        var u = new ro({
            fog: !1
        });
        this.cone = new oo(n,u),
        this.add(this.cone),
        this.update()
    }
    function sc(t) {
        for (var e = function t(e) {
            var n = [];
            e && e.isBone && n.push(e);
            for (var r = 0; r < e.children.length; r++)
                n.push.apply(n, t(e.children[r]));
            return n
        }(t), n = new tr, r = [], i = [], o = new _n(0,0,1), a = new _n(0,1,0), s = 0; s < e.length; s++) {
            var u = e[s];
            u.parent && u.parent.isBone && (r.push(0, 0, 0),
            r.push(0, 0, 0),
            i.push(o.r, o.g, o.b),
            i.push(a.r, a.g, a.b))
        }
        n.addAttribute("position", new Zn(r,3)),
        n.addAttribute("color", new Zn(i,3));
        var c = new ro({
            vertexColors: P,
            depthTest: !1,
            depthWrite: !1,
            transparent: !0
        });
        oo.call(this, n, c),
        this.root = t,
        this.bones = e,
        this.matrix = t.matrixWorld,
        this.matrixAutoUpdate = !1
    }
    function uc(t, e, n) {
        this.light = t,
        this.light.updateMatrixWorld(),
        this.color = n;
        var r = new la(e,4,2)
          , i = new yr({
            wireframe: !0,
            fog: !1
        });
        wr.call(this, r, i),
        this.matrix = this.light.matrixWorld,
        this.matrixAutoUpdate = !1,
        this.update()
    }
    function cc(t, e) {
        Pn.call(this),
        this.light = t,
        this.light.updateMatrixWorld(),
        this.matrix = t.matrixWorld,
        this.matrixAutoUpdate = !1,
        this.color = e;
        var n = new ro({
            fog: !1
        })
          , r = new tr;
        r.addAttribute("position", new Fn(new Float32Array(15),3)),
        this.line = new io(r,n),
        this.add(this.line),
        this.update()
    }
    function fc(t, e, n) {
        Pn.call(this),
        this.light = t,
        this.light.updateMatrixWorld(),
        this.matrix = t.matrixWorld,
        this.matrixAutoUpdate = !1,
        this.color = n;
        var r = new wo(e);
        r.rotateY(.5 * Math.PI),
        this.material = new yr({
            wireframe: !0,
            fog: !1
        }),
        void 0 === this.color && (this.material.vertexColors = P);
        var i = r.getAttribute("position")
          , o = new Float32Array(3 * i.count);
        r.addAttribute("color", new Fn(o,3)),
        this.add(new wr(r,this.material)),
        this.update()
    }
    function lc(t, e, n, r) {
        t = t || 10,
        e = e || 10,
        n = new _n(void 0 !== n ? n : 4473924),
        r = new _n(void 0 !== r ? r : 8947848);
        for (var i = e / 2, o = t / e, a = t / 2, s = [], u = [], c = 0, f = 0, l = -a; c <= e; c++,
        l += o) {
            s.push(-a, 0, l, a, 0, l),
            s.push(l, 0, -a, l, 0, a);
            var h = c === i ? n : r;
            h.toArray(u, f),
            f += 3,
            h.toArray(u, f),
            f += 3,
            h.toArray(u, f),
            f += 3,
            h.toArray(u, f),
            f += 3
        }
        var d = new tr;
        d.addAttribute("position", new Zn(s,3)),
        d.addAttribute("color", new Zn(u,3));
        var p = new ro({
            vertexColors: P
        });
        oo.call(this, d, p)
    }
    function hc(t, e, n, r, i, o) {
        t = t || 10,
        e = e || 16,
        n = n || 8,
        r = r || 64,
        i = new _n(void 0 !== i ? i : 4473924),
        o = new _n(void 0 !== o ? o : 8947848);
        var a, s, u, c, f, l, h, d = [], p = [];
        for (c = 0; c <= e; c++)
            u = c / e * (2 * Math.PI),
            a = Math.sin(u) * t,
            s = Math.cos(u) * t,
            d.push(0, 0, 0),
            d.push(a, 0, s),
            h = 1 & c ? i : o,
            p.push(h.r, h.g, h.b),
            p.push(h.r, h.g, h.b);
        for (c = 0; c <= n; c++)
            for (h = 1 & c ? i : o,
            l = t - t / n * c,
            f = 0; f < r; f++)
                u = f / r * (2 * Math.PI),
                a = Math.sin(u) * l,
                s = Math.cos(u) * l,
                d.push(a, 0, s),
                p.push(h.r, h.g, h.b),
                u = (f + 1) / r * (2 * Math.PI),
                a = Math.sin(u) * l,
                s = Math.cos(u) * l,
                d.push(a, 0, s),
                p.push(h.r, h.g, h.b);
        var m = new tr;
        m.addAttribute("position", new Zn(d,3)),
        m.addAttribute("color", new Zn(p,3));
        var v = new ro({
            vertexColors: P
        });
        oo.call(this, m, v)
    }
    function dc(t, e, n, r) {
        this.object = t,
        this.size = void 0 !== e ? e : 1;
        var i = void 0 !== n ? n : 16776960
          , o = void 0 !== r ? r : 1
          , a = 0
          , s = this.object.geometry;
        s && s.isGeometry ? a = s.faces.length : console.warn("THREE.FaceNormalsHelper: only THREE.Geometry is supported. Use THREE.VertexNormalsHelper, instead.");
        var u = new tr
          , c = new Zn(2 * a * 3,3);
        u.addAttribute("position", c),
        oo.call(this, u, new ro({
            color: i,
            linewidth: o
        })),
        this.matrixAutoUpdate = !1,
        this.update()
    }
    function pc(t, e, n) {
        Pn.call(this),
        this.light = t,
        this.light.updateMatrixWorld(),
        this.matrix = t.matrixWorld,
        this.matrixAutoUpdate = !1,
        this.color = n,
        void 0 === e && (e = 1);
        var r = new tr;
        r.addAttribute("position", new Zn([-e, e, 0, e, e, 0, e, -e, 0, -e, -e, 0, -e, e, 0],3));
        var i = new ro({
            fog: !1
        });
        this.lightPlane = new io(r,i),
        this.add(this.lightPlane),
        (r = new tr).addAttribute("position", new Zn([0, 0, 0, 0, 0, 1],3)),
        this.targetLine = new io(r,i),
        this.add(this.targetLine),
        this.update()
    }
    function mc(t) {
        var e = new tr
          , n = new ro({
            color: 16777215,
            vertexColors: j
        })
          , r = []
          , i = []
          , o = {}
          , a = new _n(16755200)
          , s = new _n(16711680)
          , u = new _n(43775)
          , c = new _n(16777215)
          , f = new _n(3355443);
        function l(t, e, n) {
            h(t, n),
            h(e, n)
        }
        function h(t, e) {
            r.push(0, 0, 0),
            i.push(e.r, e.g, e.b),
            void 0 === o[t] && (o[t] = []),
            o[t].push(r.length / 3 - 1)
        }
        l("n1", "n2", a),
        l("n2", "n4", a),
        l("n4", "n3", a),
        l("n3", "n1", a),
        l("f1", "f2", a),
        l("f2", "f4", a),
        l("f4", "f3", a),
        l("f3", "f1", a),
        l("n1", "f1", a),
        l("n2", "f2", a),
        l("n3", "f3", a),
        l("n4", "f4", a),
        l("p", "n1", s),
        l("p", "n2", s),
        l("p", "n3", s),
        l("p", "n4", s),
        l("u1", "u2", u),
        l("u2", "u3", u),
        l("u3", "u1", u),
        l("c", "t", c),
        l("p", "c", f),
        l("cn1", "cn2", f),
        l("cn3", "cn4", f),
        l("cf1", "cf2", f),
        l("cf3", "cf4", f),
        e.addAttribute("position", new Zn(r,3)),
        e.addAttribute("color", new Zn(i,3)),
        oo.call(this, e, n),
        this.camera = t,
        this.camera.updateProjectionMatrix && this.camera.updateProjectionMatrix(),
        this.matrix = t.matrixWorld,
        this.matrixAutoUpdate = !1,
        this.pointMap = o,
        this.update()
    }
    function vc(t, e) {
        this.object = t,
        void 0 === e && (e = 16776960);
        var n = new Uint16Array([0, 1, 1, 2, 2, 3, 3, 0, 4, 5, 5, 6, 6, 7, 7, 4, 0, 4, 1, 5, 2, 6, 3, 7])
          , r = new Float32Array(24)
          , i = new tr;
        i.setIndex(new Fn(n,1)),
        i.addAttribute("position", new Fn(r,3)),
        oo.call(this, i, new ro({
            color: e
        })),
        this.matrixAutoUpdate = !1,
        this.update()
    }
    function gc(t, e) {
        this.type = "Box3Helper",
        this.box = t;
        var n = void 0 !== e ? e : 16776960
          , r = new Uint16Array([0, 1, 1, 2, 2, 3, 3, 0, 4, 5, 5, 6, 6, 7, 7, 4, 0, 4, 1, 5, 2, 6, 3, 7])
          , i = new tr;
        i.setIndex(new Fn(r,1)),
        i.addAttribute("position", new Zn([1, 1, 1, -1, 1, 1, -1, -1, 1, 1, -1, 1, 1, 1, -1, -1, 1, -1, -1, -1, -1, 1, -1, -1],3)),
        oo.call(this, i, new ro({
            color: n
        })),
        this.geometry.computeBoundingSphere()
    }
    function yc(t, e, n) {
        this.type = "PlaneHelper",
        this.plane = t,
        this.size = void 0 === e ? 1 : e;
        var r = void 0 !== n ? n : 16776960
          , i = new tr;
        i.addAttribute("position", new Zn([1, -1, 1, -1, 1, 1, -1, -1, 1, 1, 1, 1, -1, 1, 1, -1, -1, 1, 1, -1, 1, 1, 1, 1, 0, 0, 1, 0, 0, 0],3)),
        i.computeBoundingSphere(),
        io.call(this, i, new ro({
            color: r
        }));
        var o = new tr;
        o.addAttribute("position", new Zn([1, 1, 1, -1, 1, 1, -1, -1, 1, 1, 1, 1, -1, -1, 1, 1, -1, 1],3)),
        o.computeBoundingSphere(),
        this.add(new wr(o,new yr({
            color: r,
            opacity: .2,
            transparent: !0,
            depthWrite: !1
        })))
    }
    function bc(t, e, n, r, i, o) {
        Pn.call(this),
        void 0 === r && (r = 16776960),
        void 0 === n && (n = 1),
        void 0 === i && (i = .2 * n),
        void 0 === o && (o = .2 * i),
        void 0 === Uu && ((Uu = new tr).addAttribute("position", new Zn([0, 0, 0, 0, 1, 0],3)),
        (zu = new xa(0,.5,1,5,1)).translate(0, -.5, 0)),
        this.position.copy(e),
        this.line = new io(Uu,new ro({
            color: r
        })),
        this.line.matrixAutoUpdate = !1,
        this.add(this.line),
        this.cone = new wr(zu,new yr({
            color: r
        })),
        this.cone.matrixAutoUpdate = !1,
        this.add(this.cone),
        this.setDirection(t),
        this.setLength(n, i, o)
    }
    function _c(t) {
        var e = [0, 0, 0, t = t || 1, 0, 0, 0, 0, 0, 0, t, 0, 0, 0, 0, 0, 0, t]
          , n = new tr;
        n.addAttribute("position", new Zn(e,3)),
        n.addAttribute("color", new Zn([1, 0, 0, 1, .6, 0, 0, 1, 0, .6, 1, 0, 0, 0, 1, 0, .6, 1],3));
        var r = new ro({
            vertexColors: P
        });
        oo.call(this, n, r)
    }
    function xc(t, e, n, r, i, o, a) {
        return console.warn("THREE.Face4 has been removed. A THREE.Face3 will be created instead."),
        new Dn(t,e,n,i,o,a)
    }
    Object.assign(Fu.prototype, {
        getValue: function(t, e) {
            this.bind();
            var n = this._targetGroup.nCachedObjects_
              , r = this._bindings[n];
            void 0 !== r && r.getValue(t, e)
        },
        setValue: function(t, e) {
            for (var n = this._bindings, r = this._targetGroup.nCachedObjects_, i = n.length; r !== i; ++r)
                n[r].setValue(t, e)
        },
        bind: function() {
            for (var t = this._bindings, e = this._targetGroup.nCachedObjects_, n = t.length; e !== n; ++e)
                t[e].bind()
        },
        unbind: function() {
            for (var t = this._bindings, e = this._targetGroup.nCachedObjects_, n = t.length; e !== n; ++e)
                t[e].unbind()
        }
    }),
    Object.assign(Gu, {
        Composite: Fu,
        create: function(t, e, n) {
            return t && t.isAnimationObjectGroup ? new Gu.Composite(t,e,n) : new Gu(t,e,n)
        },
        sanitizeNodeName: (Nu = new RegExp("[\\[\\]\\.:\\/]","g"),
        function(t) {
            return t.replace(/\s/g, "_").replace(Nu, "")
        }
        ),
        parseTrackName: (Su = "[^\\[\\]\\.:\\/]",
        Ou = "[^" + "\\[\\]\\.:\\/".replace("\\.", "") + "]",
        Au = /((?:WC+[\/:])*)/.source.replace("WC", Su),
        Lu = /(WCOD+)?/.source.replace("WCOD", Ou),
        Ru = /(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC", Su),
        Cu = /\.(WC+)(?:\[(.+)\])?/.source.replace("WC", Su),
        ju = new RegExp("^" + Au + Lu + Ru + Cu + "$"),
        Pu = ["material", "materials", "bones"],
        function(t) {
            var e = ju.exec(t);
            if (!e)
                throw new Error("PropertyBinding: Cannot parse trackName: " + t);
            var n = {
                nodeName: e[2],
                objectName: e[3],
                objectIndex: e[4],
                propertyName: e[5],
                propertyIndex: e[6]
            }
              , r = n.nodeName && n.nodeName.lastIndexOf(".");
            if (void 0 !== r && -1 !== r) {
                var i = n.nodeName.substring(r + 1);
                -1 !== Pu.indexOf(i) && (n.nodeName = n.nodeName.substring(0, r),
                n.objectName = i)
            }
            if (null === n.propertyName || 0 === n.propertyName.length)
                throw new Error("PropertyBinding: can not parse propertyName from trackName: " + t);
            return n
        }
        ),
        findNode: function(t, e) {
            if (!e || "" === e || "root" === e || "." === e || -1 === e || e === t.name || e === t.uuid)
                return t;
            if (t.skeleton) {
                var n = t.skeleton.getBoneByName(e);
                if (void 0 !== n)
                    return n
            }
            if (t.children) {
                var r = function(t) {
                    for (var n = 0; n < t.length; n++) {
                        var i = t[n];
                        if (i.name === e || i.uuid === e)
                            return i;
                        var o = r(i.children);
                        if (o)
                            return o
                    }
                    return null
                }
                  , i = r(t.children);
                if (i)
                    return i
            }
            return null
        }
    }),
    Object.assign(Gu.prototype, {
        _getValue_unavailable: function() {},
        _setValue_unavailable: function() {},
        BindingType: {
            Direct: 0,
            EntireArray: 1,
            ArrayElement: 2,
            HasFromToArray: 3
        },
        Versioning: {
            None: 0,
            NeedsUpdate: 1,
            MatrixWorldNeedsUpdate: 2
        },
        GetterByBindingType: [function(t, e) {
            t[e] = this.node[this.propertyName]
        }
        , function(t, e) {
            for (var n = this.resolvedProperty, r = 0, i = n.length; r !== i; ++r)
                t[e++] = n[r]
        }
        , function(t, e) {
            t[e] = this.resolvedProperty[this.propertyIndex]
        }
        , function(t, e) {
            this.resolvedProperty.toArray(t, e)
        }
        ],
        SetterByBindingTypeAndVersioning: [[function(t, e) {
            this.targetObject[this.propertyName] = t[e]
        }
        , function(t, e) {
            this.targetObject[this.propertyName] = t[e],
            this.targetObject.needsUpdate = !0
        }
        , function(t, e) {
            this.targetObject[this.propertyName] = t[e],
            this.targetObject.matrixWorldNeedsUpdate = !0
        }
        ], [function(t, e) {
            for (var n = this.resolvedProperty, r = 0, i = n.length; r !== i; ++r)
                n[r] = t[e++]
        }
        , function(t, e) {
            for (var n = this.resolvedProperty, r = 0, i = n.length; r !== i; ++r)
                n[r] = t[e++];
            this.targetObject.needsUpdate = !0
        }
        , function(t, e) {
            for (var n = this.resolvedProperty, r = 0, i = n.length; r !== i; ++r)
                n[r] = t[e++];
            this.targetObject.matrixWorldNeedsUpdate = !0
        }
        ], [function(t, e) {
            this.resolvedProperty[this.propertyIndex] = t[e]
        }
        , function(t, e) {
            this.resolvedProperty[this.propertyIndex] = t[e],
            this.targetObject.needsUpdate = !0
        }
        , function(t, e) {
            this.resolvedProperty[this.propertyIndex] = t[e],
            this.targetObject.matrixWorldNeedsUpdate = !0
        }
        ], [function(t, e) {
            this.resolvedProperty.fromArray(t, e)
        }
        , function(t, e) {
            this.resolvedProperty.fromArray(t, e),
            this.targetObject.needsUpdate = !0
        }
        , function(t, e) {
            this.resolvedProperty.fromArray(t, e),
            this.targetObject.matrixWorldNeedsUpdate = !0
        }
        ]],
        getValue: function(t, e) {
            this.bind(),
            this.getValue(t, e)
        },
        setValue: function(t, e) {
            this.bind(),
            this.setValue(t, e)
        },
        bind: function() {
            var t = this.node
              , e = this.parsedPath
              , n = e.objectName
              , r = e.propertyName
              , i = e.propertyIndex;
            if (t || (t = Gu.findNode(this.rootNode, e.nodeName) || this.rootNode,
            this.node = t),
            this.getValue = this._getValue_unavailable,
            this.setValue = this._setValue_unavailable,
            t) {
                if (n) {
                    var o = e.objectIndex;
                    switch (n) {
                    case "materials":
                        if (!t.material)
                            return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.", this);
                        if (!t.material.materials)
                            return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.", this);
                        t = t.material.materials;
                        break;
                    case "bones":
                        if (!t.skeleton)
                            return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.", this);
                        t = t.skeleton.bones;
                        for (var a = 0; a < t.length; a++)
                            if (t[a].name === o) {
                                o = a;
                                break
                            }
                        break;
                    default:
                        if (void 0 === t[n])
                            return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.", this);
                        t = t[n]
                    }
                    if (void 0 !== o) {
                        if (void 0 === t[o])
                            return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.", this, t);
                        t = t[o]
                    }
                }
                var s = t[r];
                if (void 0 !== s) {
                    var u = this.Versioning.None;
                    void 0 !== t.needsUpdate ? (u = this.Versioning.NeedsUpdate,
                    this.targetObject = t) : void 0 !== t.matrixWorldNeedsUpdate && (u = this.Versioning.MatrixWorldNeedsUpdate,
                    this.targetObject = t);
                    var c = this.BindingType.Direct;
                    if (void 0 !== i) {
                        if ("morphTargetInfluences" === r) {
                            if (!t.geometry)
                                return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.", this);
                            if (t.geometry.isBufferGeometry) {
                                if (!t.geometry.morphAttributes)
                                    return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.", this);
                                for (a = 0; a < this.node.geometry.morphAttributes.position.length; a++)
                                    if (t.geometry.morphAttributes.position[a].name === i) {
                                        i = a;
                                        break
                                    }
                            } else {
                                if (!t.geometry.morphTargets)
                                    return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphTargets.", this);
                                for (a = 0; a < this.node.geometry.morphTargets.length; a++)
                                    if (t.geometry.morphTargets[a].name === i) {
                                        i = a;
                                        break
                                    }
                            }
                        }
                        c = this.BindingType.ArrayElement,
                        this.resolvedProperty = s,
                        this.propertyIndex = i
                    } else
                        void 0 !== s.fromArray && void 0 !== s.toArray ? (c = this.BindingType.HasFromToArray,
                        this.resolvedProperty = s) : Array.isArray(s) ? (c = this.BindingType.EntireArray,
                        this.resolvedProperty = s) : this.propertyName = r;
                    this.getValue = this.GetterByBindingType[c],
                    this.setValue = this.SetterByBindingTypeAndVersioning[c][u]
                } else {
                    var f = e.nodeName;
                    console.error("THREE.PropertyBinding: Trying to update property for track: " + f + "." + r + " but it wasn't found.", t)
                }
            } else
                console.error("THREE.PropertyBinding: Trying to update node for track: " + this.path + " but it wasn't found.")
        },
        unbind: function() {
            this.node = null,
            this.getValue = this._getValue_unbound,
            this.setValue = this._setValue_unbound
        }
    }),
    //!\ DECLARE ALIAS AFTER assign prototype !
    Object.assign(Gu.prototype, {
        _getValue_unbound: Gu.prototype.getValue,
        _setValue_unbound: Gu.prototype.setValue
    }),
    Object.assign(Hu.prototype, {
        isAnimationObjectGroup: !0,
        add: function() {
            for (var t = this._objects, e = t.length, n = this.nCachedObjects_, r = this._indicesByUUID, i = this._paths, o = this._parsedPaths, a = this._bindings, s = a.length, u = void 0, c = 0, f = arguments.length; c !== f; ++c) {
                var l = arguments[c]
                  , h = l.uuid
                  , d = r[h];
                if (void 0 === d) {
                    d = e++,
                    r[h] = d,
                    t.push(l);
                    for (var p = 0, m = s; p !== m; ++p)
                        a[p].push(new Gu(l,i[p],o[p]))
                } else if (d < n) {
                    u = t[d];
                    var v = --n
                      , g = t[v];
                    r[g.uuid] = d,
                    t[d] = g,
                    r[h] = v,
                    t[v] = l;
                    for (p = 0,
                    m = s; p !== m; ++p) {
                        var y = a[p]
                          , b = y[v]
                          , _ = y[d];
                        y[d] = b,
                        void 0 === _ && (_ = new Gu(l,i[p],o[p])),
                        y[v] = _
                    }
                } else
                    t[d] !== u && console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")
            }
            this.nCachedObjects_ = n
        },
        remove: function() {
            for (var t = this._objects, e = this.nCachedObjects_, n = this._indicesByUUID, r = this._bindings, i = r.length, o = 0, a = arguments.length; o !== a; ++o) {
                var s = arguments[o]
                  , u = s.uuid
                  , c = n[u];
                if (void 0 !== c && c >= e) {
                    var f = e++
                      , l = t[f];
                    n[l.uuid] = c,
                    t[c] = l,
                    n[u] = f,
                    t[f] = s;
                    for (var h = 0, d = i; h !== d; ++h) {
                        var p = r[h]
                          , m = p[f]
                          , v = p[c];
                        p[c] = m,
                        p[f] = v
                    }
                }
            }
            this.nCachedObjects_ = e
        },
        uncache: function() {
            for (var t = this._objects, e = t.length, n = this.nCachedObjects_, r = this._indicesByUUID, i = this._bindings, o = i.length, a = 0, s = arguments.length; a !== s; ++a) {
                var u = arguments[a].uuid
                  , c = r[u];
                if (void 0 !== c)
                    if (delete r[u],
                    c < n) {
                        var f = --n
                          , l = t[f]
                          , h = t[g = --e];
                        r[l.uuid] = c,
                        t[c] = l,
                        r[h.uuid] = f,
                        t[f] = h,
                        t.pop();
                        for (var d = 0, p = o; d !== p; ++d) {
                            var m = (y = i[d])[f]
                              , v = y[g];
                            y[c] = m,
                            y[f] = v,
                            y.pop()
                        }
                    } else {
                        var g;
                        r[(h = t[g = --e]).uuid] = c,
                        t[c] = h,
                        t.pop();
                        for (d = 0,
                        p = o; d !== p; ++d) {
                            var y;
                            (y = i[d])[c] = y[g],
                            y.pop()
                        }
                    }
            }
            this.nCachedObjects_ = n
        },
        subscribe_: function(t, e) {
            var n = this._bindingsIndicesByPath
              , r = n[t]
              , i = this._bindings;
            if (void 0 !== r)
                return i[r];
            var o = this._paths
              , a = this._parsedPaths
              , s = this._objects
              , u = s.length
              , c = this.nCachedObjects_
              , f = new Array(u);
            r = i.length,
            n[t] = r,
            o.push(t),
            a.push(e),
            i.push(f);
            for (var l = c, h = s.length; l !== h; ++l) {
                var d = s[l];
                f[l] = new Gu(d,t,e)
            }
            return f
        },
        unsubscribe_: function(t) {
            var e = this._bindingsIndicesByPath
              , n = e[t];
            if (void 0 !== n) {
                var r = this._paths
                  , i = this._parsedPaths
                  , o = this._bindings
                  , a = o.length - 1
                  , s = o[a];
                e[t[a]] = n,
                o[n] = s,
                o.pop(),
                i[n] = i[a],
                i.pop(),
                r[n] = r[a],
                r.pop()
            }
        }
    }),
    Object.assign(Vu.prototype, {
        play: function() {
            return this._mixer._activateAction(this),
            this
        },
        stop: function() {
            return this._mixer._deactivateAction(this),
            this.reset()
        },
        reset: function() {
            return this.paused = !1,
            this.enabled = !0,
            this.time = 0,
            this._loopCount = -1,
            this._startTime = null,
            this.stopFading().stopWarping()
        },
        isRunning: function() {
            return this.enabled && !this.paused && 0 !== this.timeScale && null === this._startTime && this._mixer._isActiveAction(this)
        },
        isScheduled: function() {
            return this._mixer._isActiveAction(this)
        },
        startAt: function(t) {
            return this._startTime = t,
            this
        },
        setLoop: function(t, e) {
            return this.loop = t,
            this.repetitions = e,
            this
        },
        setEffectiveWeight: function(t) {
            return this.weight = t,
            this._effectiveWeight = this.enabled ? t : 0,
            this.stopFading()
        },
        getEffectiveWeight: function() {
            return this._effectiveWeight
        },
        fadeIn: function(t) {
            return this._scheduleFading(t, 0, 1)
        },
        fadeOut: function(t) {
            return this._scheduleFading(t, 1, 0)
        },
        crossFadeFrom: function(t, e, n) {
            if (t.fadeOut(e),
            this.fadeIn(e),
            n) {
                var r = this._clip.duration
                  , i = t._clip.duration
                  , o = i / r
                  , a = r / i;
                t.warp(1, o, e),
                this.warp(a, 1, e)
            }
            return this
        },
        crossFadeTo: function(t, e, n) {
            return t.crossFadeFrom(this, e, n)
        },
        stopFading: function() {
            var t = this._weightInterpolant;
            return null !== t && (this._weightInterpolant = null,
            this._mixer._takeBackControlInterpolant(t)),
            this
        },
        setEffectiveTimeScale: function(t) {
            return this.timeScale = t,
            this._effectiveTimeScale = this.paused ? 0 : t,
            this.stopWarping()
        },
        getEffectiveTimeScale: function() {
            return this._effectiveTimeScale
        },
        setDuration: function(t) {
            return this.timeScale = this._clip.duration / t,
            this.stopWarping()
        },
        syncWith: function(t) {
            return this.time = t.time,
            this.timeScale = t.timeScale,
            this.stopWarping()
        },
        halt: function(t) {
            return this.warp(this._effectiveTimeScale, 0, t)
        },
        warp: function(t, e, n) {
            var r = this._mixer
              , i = r.time
              , o = this._timeScaleInterpolant
              , a = this.timeScale;
            null === o && (o = r._lendControlInterpolant(),
            this._timeScaleInterpolant = o);
            var s = o.parameterPositions
              , u = o.sampleValues;
            return s[0] = i,
            s[1] = i + n,
            u[0] = t / a,
            u[1] = e / a,
            this
        },
        stopWarping: function() {
            var t = this._timeScaleInterpolant;
            return null !== t && (this._timeScaleInterpolant = null,
            this._mixer._takeBackControlInterpolant(t)),
            this
        },
        getMixer: function() {
            return this._mixer
        },
        getClip: function() {
            return this._clip
        },
        getRoot: function() {
            return this._localRoot || this._mixer._root
        },
        _update: function(t, e, n, r) {
            if (this.enabled) {
                var i = this._startTime;
                if (null !== i) {
                    var o = (t - i) * n;
                    if (o < 0 || 0 === n)
                        return;
                    this._startTime = null,
                    e = n * o
                }
                e *= this._updateTimeScale(t);
                var a = this._updateTime(e)
                  , s = this._updateWeight(t);
                if (s > 0)
                    for (var u = this._interpolants, c = this._propertyBindings, f = 0, l = u.length; f !== l; ++f)
                        u[f].evaluate(a),
                        c[f].accumulate(r, s)
            } else
                this._updateWeight(t)
        },
        _updateWeight: function(t) {
            var e = 0;
            if (this.enabled) {
                e = this.weight;
                var n = this._weightInterpolant;
                if (null !== n) {
                    var r = n.evaluate(t)[0];
                    e *= r,
                    t > n.parameterPositions[1] && (this.stopFading(),
                    0 === r && (this.enabled = !1))
                }
            }
            return this._effectiveWeight = e,
            e
        },
        _updateTimeScale: function(t) {
            var e = 0;
            if (!this.paused) {
                e = this.timeScale;
                var n = this._timeScaleInterpolant;
                if (null !== n)
                    e *= n.evaluate(t)[0],
                    t > n.parameterPositions[1] && (this.stopWarping(),
                    0 === e ? this.paused = !0 : this.timeScale = e)
            }
            return this._effectiveTimeScale = e,
            e
        },
        _updateTime: function(t) {
            var e = this.time + t
              , n = this._clip.duration
              , r = this.loop
              , i = this._loopCount
              , o = r === Se;
            if (0 === t)
                return -1 === i ? e : o && 1 == (1 & i) ? n - e : e;
            if (r === Ee) {
                -1 === i && (this._loopCount = 0,
                this._setEndings(!0, !0, !1));
                t: {
                    if (e >= n)
                        e = n;
                    else {
                        if (!(e < 0))
                            break t;
                        e = 0
                    }
                    this.clampWhenFinished ? this.paused = !0 : this.enabled = !1,
                    this._mixer.dispatchEvent({
                        type: "finished",
                        action: this,
                        direction: t < 0 ? -1 : 1
                    })
                }
            } else {
                if (-1 === i && (t >= 0 ? (i = 0,
                this._setEndings(!0, 0 === this.repetitions, o)) : this._setEndings(0 === this.repetitions, !0, o)),
                e >= n || e < 0) {
                    var a = Math.floor(e / n);
                    e -= n * a,
                    i += Math.abs(a);
                    var s = this.repetitions - i;
                    if (s <= 0)
                        this.clampWhenFinished ? this.paused = !0 : this.enabled = !1,
                        e = t > 0 ? n : 0,
                        this._mixer.dispatchEvent({
                            type: "finished",
                            action: this,
                            direction: t > 0 ? 1 : -1
                        });
                    else {
                        if (1 === s) {
                            var u = t < 0;
                            this._setEndings(u, !u, o)
                        } else
                            this._setEndings(!1, !1, o);
                        this._loopCount = i,
                        this._mixer.dispatchEvent({
                            type: "loop",
                            action: this,
                            loopDelta: a
                        })
                    }
                }
                if (o && 1 == (1 & i))
                    return this.time = e,
                    n - e
            }
            return this.time = e,
            e
        },
        _setEndings: function(t, e, n) {
            var r = this._interpolantSettings;
            n ? (r.endingStart = Ce,
            r.endingEnd = Ce) : (r.endingStart = t ? this.zeroSlopeAtStart ? Ce : Re : je,
            r.endingEnd = e ? this.zeroSlopeAtEnd ? Ce : Re : je)
        },
        _scheduleFading: function(t, e, n) {
            var r = this._mixer
              , i = r.time
              , o = this._weightInterpolant;
            null === o && (o = r._lendControlInterpolant(),
            this._weightInterpolant = o);
            var a = o.parameterPositions
              , s = o.sampleValues;
            return a[0] = i,
            s[0] = e,
            a[1] = i + t,
            s[1] = n,
            this
        }
    }),
    Wu.prototype = Object.assign(Object.create(r.prototype), {
        constructor: Wu,
        _bindAction: function(t, e) {
            var n = t._localRoot || this._root
              , r = t._clip.tracks
              , i = r.length
              , o = t._propertyBindings
              , a = t._interpolants
              , s = n.uuid
              , u = this._bindingsByRootAndName
              , c = u[s];
            void 0 === c && (c = {},
            u[s] = c);
            for (var f = 0; f !== i; ++f) {
                var l = r[f]
                  , h = l.name
                  , d = c[h];
                if (void 0 !== d)
                    o[f] = d;
                else {
                    if (void 0 !== (d = o[f])) {
                        null === d._cacheIndex && (++d.referenceCount,
                        this._addInactiveBinding(d, s, h));
                        continue
                    }
                    var p = e && e._propertyBindings[f].binding.parsedPath;
                    ++(d = new Tu(Gu.create(n, h, p),l.ValueTypeName,l.getValueSize())).referenceCount,
                    this._addInactiveBinding(d, s, h),
                    o[f] = d
                }
                a[f].resultBuffer = d.buffer
            }
        },
        _activateAction: function(t) {
            if (!this._isActiveAction(t)) {
                if (null === t._cacheIndex) {
                    var e = (t._localRoot || this._root).uuid
                      , n = t._clip.uuid
                      , r = this._actionsByClip[n];
                    this._bindAction(t, r && r.knownActions[0]),
                    this._addInactiveAction(t, n, e)
                }
                for (var i = t._propertyBindings, o = 0, a = i.length; o !== a; ++o) {
                    var s = i[o];
                    0 == s.useCount++ && (this._lendBinding(s),
                    s.saveOriginalState())
                }
                this._lendAction(t)
            }
        },
        _deactivateAction: function(t) {
            if (this._isActiveAction(t)) {
                for (var e = t._propertyBindings, n = 0, r = e.length; n !== r; ++n) {
                    var i = e[n];
                    0 == --i.useCount && (i.restoreOriginalState(),
                    this._takeBackBinding(i))
                }
                this._takeBackAction(t)
            }
        },
        _initMemoryManager: function() {
            this._actions = [],
            this._nActiveActions = 0,
            this._actionsByClip = {},
            this._bindings = [],
            this._nActiveBindings = 0,
            this._bindingsByRootAndName = {},
            this._controlInterpolants = [],
            this._nActiveControlInterpolants = 0;
            var t = this;
            this.stats = {
                actions: {
                    get total() {
                        return t._actions.length
                    },
                    get inUse() {
                        return t._nActiveActions
                    }
                },
                bindings: {
                    get total() {
                        return t._bindings.length
                    },
                    get inUse() {
                        return t._nActiveBindings
                    }
                },
                controlInterpolants: {
                    get total() {
                        return t._controlInterpolants.length
                    },
                    get inUse() {
                        return t._nActiveControlInterpolants
                    }
                }
            }
        },
        _isActiveAction: function(t) {
            var e = t._cacheIndex;
            return null !== e && e < this._nActiveActions
        },
        _addInactiveAction: function(t, e, n) {
            var r = this._actions
              , i = this._actionsByClip
              , o = i[e];
            if (void 0 === o)
                o = {
                    knownActions: [t],
                    actionByRoot: {}
                },
                t._byClipCacheIndex = 0,
                i[e] = o;
            else {
                var a = o.knownActions;
                t._byClipCacheIndex = a.length,
                a.push(t)
            }
            t._cacheIndex = r.length,
            r.push(t),
            o.actionByRoot[n] = t
        },
        _removeInactiveAction: function(t) {
            var e = this._actions
              , n = e[e.length - 1]
              , r = t._cacheIndex;
            n._cacheIndex = r,
            e[r] = n,
            e.pop(),
            t._cacheIndex = null;
            var i = t._clip.uuid
              , o = this._actionsByClip
              , a = o[i]
              , s = a.knownActions
              , u = s[s.length - 1]
              , c = t._byClipCacheIndex;
            u._byClipCacheIndex = c,
            s[c] = u,
            s.pop(),
            t._byClipCacheIndex = null,
            delete a.actionByRoot[(t._localRoot || this._root).uuid],
            0 === s.length && delete o[i],
            this._removeInactiveBindingsForAction(t)
        },
        _removeInactiveBindingsForAction: function(t) {
            for (var e = t._propertyBindings, n = 0, r = e.length; n !== r; ++n) {
                var i = e[n];
                0 == --i.referenceCount && this._removeInactiveBinding(i)
            }
        },
        _lendAction: function(t) {
            var e = this._actions
              , n = t._cacheIndex
              , r = this._nActiveActions++
              , i = e[r];
            t._cacheIndex = r,
            e[r] = t,
            i._cacheIndex = n,
            e[n] = i
        },
        _takeBackAction: function(t) {
            var e = this._actions
              , n = t._cacheIndex
              , r = --this._nActiveActions
              , i = e[r];
            t._cacheIndex = r,
            e[r] = t,
            i._cacheIndex = n,
            e[n] = i
        },
        _addInactiveBinding: function(t, e, n) {
            var r = this._bindingsByRootAndName
              , i = r[e]
              , o = this._bindings;
            void 0 === i && (i = {},
            r[e] = i),
            i[n] = t,
            t._cacheIndex = o.length,
            o.push(t)
        },
        _removeInactiveBinding: function(t) {
            var e = this._bindings
              , n = t.binding
              , r = n.rootNode.uuid
              , i = n.path
              , o = this._bindingsByRootAndName
              , a = o[r]
              , s = e[e.length - 1]
              , u = t._cacheIndex;
            s._cacheIndex = u,
            e[u] = s,
            e.pop(),
            delete a[i];
            t: {
                for (var c in a)
                    break t;
                delete o[r]
            }
        },
        _lendBinding: function(t) {
            var e = this._bindings
              , n = t._cacheIndex
              , r = this._nActiveBindings++
              , i = e[r];
            t._cacheIndex = r,
            e[r] = t,
            i._cacheIndex = n,
            e[n] = i
        },
        _takeBackBinding: function(t) {
            var e = this._bindings
              , n = t._cacheIndex
              , r = --this._nActiveBindings
              , i = e[r];
            t._cacheIndex = r,
            e[r] = t,
            i._cacheIndex = n,
            e[n] = i
        },
        _lendControlInterpolant: function() {
            var t = this._controlInterpolants
              , e = this._nActiveControlInterpolants++
              , n = t[e];
            return void 0 === n && ((n = new Ls(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer)).__cacheIndex = e,
            t[e] = n),
            n
        },
        _takeBackControlInterpolant: function(t) {
            var e = this._controlInterpolants
              , n = t.__cacheIndex
              , r = --this._nActiveControlInterpolants
              , i = e[r];
            t.__cacheIndex = r,
            e[r] = t,
            i.__cacheIndex = n,
            e[n] = i
        },
        _controlInterpolantsResultBuffer: new Float32Array(1),
        clipAction: function(t, e) {
            var n = e || this._root
              , r = n.uuid
              , i = "string" == typeof t ? Bs.findByName(n, t) : t
              , o = null !== i ? i.uuid : t
              , a = this._actionsByClip[o]
              , s = null;
            if (void 0 !== a) {
                var u = a.actionByRoot[r];
                if (void 0 !== u)
                    return u;
                s = a.knownActions[0],
                null === i && (i = s._clip)
            }
            if (null === i)
                return null;
            var c = new Vu(this,i,e);
            return this._bindAction(c, s),
            this._addInactiveAction(c, o, r),
            c
        },
        existingAction: function(t, e) {
            var n = e || this._root
              , r = n.uuid
              , i = "string" == typeof t ? Bs.findByName(n, t) : t
              , o = i ? i.uuid : t
              , a = this._actionsByClip[o];
            return void 0 !== a && a.actionByRoot[r] || null
        },
        stopAllAction: function() {
            var t = this._actions
              , e = this._nActiveActions
              , n = this._bindings
              , r = this._nActiveBindings;
            this._nActiveActions = 0,
            this._nActiveBindings = 0;
            for (var i = 0; i !== e; ++i)
                t[i].reset();
            for (i = 0; i !== r; ++i)
                n[i].useCount = 0;
            return this
        },
        update: function(t) {
            t *= this.timeScale;
            for (var e = this._actions, n = this._nActiveActions, r = this.time += t, i = Math.sign(t), o = this._accuIndex ^= 1, a = 0; a !== n; ++a) {
                e[a]._update(r, t, i, o)
            }
            var s = this._bindings
              , u = this._nActiveBindings;
            for (a = 0; a !== u; ++a)
                s[a].apply(o);
            return this
        },
        getRoot: function() {
            return this._root
        },
        uncacheClip: function(t) {
            var e = this._actions
              , n = t.uuid
              , r = this._actionsByClip
              , i = r[n];
            if (void 0 !== i) {
                for (var o = i.knownActions, a = 0, s = o.length; a !== s; ++a) {
                    var u = o[a];
                    this._deactivateAction(u);
                    var c = u._cacheIndex
                      , f = e[e.length - 1];
                    u._cacheIndex = null,
                    u._byClipCacheIndex = null,
                    f._cacheIndex = c,
                    e[c] = f,
                    e.pop(),
                    this._removeInactiveBindingsForAction(u)
                }
                delete r[n]
            }
        },
        uncacheRoot: function(t) {
            var e = t.uuid
              , n = this._actionsByClip;
            for (var r in n) {
                var i = n[r].actionByRoot[e];
                void 0 !== i && (this._deactivateAction(i),
                this._removeInactiveAction(i))
            }
            var o = this._bindingsByRootAndName[e];
            if (void 0 !== o)
                for (var a in o) {
                    var s = o[a];
                    s.restoreOriginalState(),
                    this._removeInactiveBinding(s)
                }
        },
        uncacheAction: function(t, e) {
            var n = this.existingAction(t, e);
            null !== n && (this._deactivateAction(n),
            this._removeInactiveAction(n))
        }
    }),
    qu.prototype.clone = function() {
        return new qu(void 0 === this.value.clone ? this.value : this.value.clone())
    }
    ,
    Xu.prototype = Object.assign(Object.create(tr.prototype), {
        constructor: Xu,
        isInstancedBufferGeometry: !0,
        copy: function(t) {
            return tr.prototype.copy.call(this, t),
            this.maxInstancedCount = t.maxInstancedCount,
            this
        },
        clone: function() {
            return (new this.constructor).copy(this)
        }
    }),
    Yu.prototype = Object.assign(Object.create(Zi.prototype), {
        constructor: Yu,
        isInstancedInterleavedBuffer: !0,
        copy: function(t) {
            return Zi.prototype.copy.call(this, t),
            this.meshPerAttribute = t.meshPerAttribute,
            this
        }
    }),
    Zu.prototype = Object.assign(Object.create(Fn.prototype), {
        constructor: Zu,
        isInstancedBufferAttribute: !0,
        copy: function(t) {
            return Fn.prototype.copy.call(this, t),
            this.meshPerAttribute = t.meshPerAttribute,
            this
        }
    }),
    Object.assign(Ju.prototype, {
        linePrecision: 1,
        set: function(t, e) {
            this.ray.set(t, e)
        },
        setFromCamera: function(t, e) {
            e && e.isPerspectiveCamera ? (this.ray.origin.setFromMatrixPosition(e.matrixWorld),
            this.ray.direction.set(t.x, t.y, .5).unproject(e).sub(this.ray.origin).normalize()) : e && e.isOrthographicCamera ? (this.ray.origin.set(t.x, t.y, (e.near + e.far) / (e.near - e.far)).unproject(e),
            this.ray.direction.set(0, 0, -1).transformDirection(e.matrixWorld)) : console.error("THREE.Raycaster: Unsupported camera type.")
        },
        intersectObject: function(t, e, n) {
            var r = n || [];
            return Ku(t, this, r, e),
            r.sort(Qu),
            r
        },
        intersectObjects: function(t, e, n) {
            var r = n || [];
            if (!1 === Array.isArray(t))
                return console.warn("THREE.Raycaster.intersectObjects: objects is not an Array."),
                r;
            for (var i = 0, o = t.length; i < o; i++)
                Ku(t[i], this, r, e);
            return r.sort(Qu),
            r
        }
    }),
    Object.assign($u.prototype, {
        start: function() {
            this.startTime = ("undefined" == typeof performance ? Date : performance).now(),
            this.oldTime = this.startTime,
            this.elapsedTime = 0,
            this.running = !0
        },
        stop: function() {
            this.getElapsedTime(),
            this.running = !1,
            this.autoStart = !1
        },
        getElapsedTime: function() {
            return this.getDelta(),
            this.elapsedTime
        },
        getDelta: function() {
            var t = 0;
            if (this.autoStart && !this.running)
                return this.start(),
                0;
            if (this.running) {
                var e = ("undefined" == typeof performance ? Date : performance).now();
                t = (e - this.oldTime) / 1e3,
                this.oldTime = e,
                this.elapsedTime += t
            }
            return t
        }
    }),
    Object.assign(tc.prototype, {
        set: function(t, e, n) {
            return this.radius = t,
            this.phi = e,
            this.theta = n,
            this
        },
        clone: function() {
            return (new this.constructor).copy(this)
        },
        copy: function(t) {
            return this.radius = t.radius,
            this.phi = t.phi,
            this.theta = t.theta,
            this
        },
        makeSafe: function() {
            return this.phi = Math.max(1e-6, Math.min(Math.PI - 1e-6, this.phi)),
            this
        },
        setFromVector3: function(t) {
            return this.radius = t.length(),
            0 === this.radius ? (this.theta = 0,
            this.phi = 0) : (this.theta = Math.atan2(t.x, t.z),
            this.phi = Math.acos(Ye.clamp(t.y / this.radius, -1, 1))),
            this
        }
    }),
    Object.assign(ec.prototype, {
        set: function(t, e, n) {
            return this.radius = t,
            this.theta = e,
            this.y = n,
            this
        },
        clone: function() {
            return (new this.constructor).copy(this)
        },
        copy: function(t) {
            return this.radius = t.radius,
            this.theta = t.theta,
            this.y = t.y,
            this
        },
        setFromVector3: function(t) {
            return this.radius = Math.sqrt(t.x * t.x + t.z * t.z),
            this.theta = Math.atan2(t.x, t.z),
            this.y = t.y,
            this
        }
    }),
    Object.assign(nc.prototype, {
        set: function(t, e) {
            return this.min.copy(t),
            this.max.copy(e),
            this
        },
        setFromPoints: function(t) {
            this.makeEmpty();
            for (var e = 0, n = t.length; e < n; e++)
                this.expandByPoint(t[e]);
            return this
        },
        setFromCenterAndSize: function() {
            var t = new Ze;
            return function(e, n) {
                var r = t.copy(n).multiplyScalar(.5);
                return this.min.copy(e).sub(r),
                this.max.copy(e).add(r),
                this
            }
        }(),
        clone: function() {
            return (new this.constructor).copy(this)
        },
        copy: function(t) {
            return this.min.copy(t.min),
            this.max.copy(t.max),
            this
        },
        makeEmpty: function() {
            return this.min.x = this.min.y = 1 / 0,
            this.max.x = this.max.y = -1 / 0,
            this
        },
        isEmpty: function() {
            return this.max.x < this.min.x || this.max.y < this.min.y
        },
        getCenter: function(t) {
            return void 0 === t && (console.warn("THREE.Box2: .getCenter() target is now required"),
            t = new Ze),
            this.isEmpty() ? t.set(0, 0) : t.addVectors(this.min, this.max).multiplyScalar(.5)
        },
        getSize: function(t) {
            return void 0 === t && (console.warn("THREE.Box2: .getSize() target is now required"),
            t = new Ze),
            this.isEmpty() ? t.set(0, 0) : t.subVectors(this.max, this.min)
        },
        expandByPoint: function(t) {
            return this.min.min(t),
            this.max.max(t),
            this
        },
        expandByVector: function(t) {
            return this.min.sub(t),
            this.max.add(t),
            this
        },
        expandByScalar: function(t) {
            return this.min.addScalar(-t),
            this.max.addScalar(t),
            this
        },
        containsPoint: function(t) {
            return !(t.x < this.min.x || t.x > this.max.x || t.y < this.min.y || t.y > this.max.y)
        },
        containsBox: function(t) {
            return this.min.x <= t.min.x && t.max.x <= this.max.x && this.min.y <= t.min.y && t.max.y <= this.max.y
        },
        getParameter: function(t, e) {
            return void 0 === e && (console.warn("THREE.Box2: .getParameter() target is now required"),
            e = new Ze),
            e.set((t.x - this.min.x) / (this.max.x - this.min.x), (t.y - this.min.y) / (this.max.y - this.min.y))
        },
        intersectsBox: function(t) {
            return !(t.max.x < this.min.x || t.min.x > this.max.x || t.max.y < this.min.y || t.min.y > this.max.y)
        },
        clampPoint: function(t, e) {
            return void 0 === e && (console.warn("THREE.Box2: .clampPoint() target is now required"),
            e = new Ze),
            e.copy(t).clamp(this.min, this.max)
        },
        distanceToPoint: function() {
            var t = new Ze;
            return function(e) {
                return t.copy(e).clamp(this.min, this.max).sub(e).length()
            }
        }(),
        intersect: function(t) {
            return this.min.max(t.min),
            this.max.min(t.max),
            this
        },
        union: function(t) {
            return this.min.min(t.min),
            this.max.max(t.max),
            this
        },
        translate: function(t) {
            return this.min.add(t),
            this.max.add(t),
            this
        },
        equals: function(t) {
            return t.min.equals(this.min) && t.max.equals(this.max)
        }
    }),
    Object.assign(rc.prototype, {
        set: function(t, e) {
            return this.start.copy(t),
            this.end.copy(e),
            this
        },
        clone: function() {
            return (new this.constructor).copy(this)
        },
        copy: function(t) {
            return this.start.copy(t.start),
            this.end.copy(t.end),
            this
        },
        getCenter: function(t) {
            return void 0 === t && (console.warn("THREE.Line3: .getCenter() target is now required"),
            t = new Ke),
            t.addVectors(this.start, this.end).multiplyScalar(.5)
        },
        delta: function(t) {
            return void 0 === t && (console.warn("THREE.Line3: .delta() target is now required"),
            t = new Ke),
            t.subVectors(this.end, this.start)
        },
        distanceSq: function() {
            return this.start.distanceToSquared(this.end)
        },
        distance: function() {
            return this.start.distanceTo(this.end)
        },
        at: function(t, e) {
            return void 0 === e && (console.warn("THREE.Line3: .at() target is now required"),
            e = new Ke),
            this.delta(e).multiplyScalar(t).add(this.start)
        },
        closestPointToPointParameter: (Iu = new Ke,
        Du = new Ke,
        function(t, e) {
            Iu.subVectors(t, this.start),
            Du.subVectors(this.end, this.start);
            var n = Du.dot(Du)
              , r = Du.dot(Iu) / n;
            return e && (r = Ye.clamp(r, 0, 1)),
            r
        }
        ),
        closestPointToPoint: function(t, e, n) {
            var r = this.closestPointToPointParameter(t, e);
            return void 0 === n && (console.warn("THREE.Line3: .closestPointToPoint() target is now required"),
            n = new Ke),
            this.delta(n).multiplyScalar(r).add(this.start)
        },
        applyMatrix4: function(t) {
            return this.start.applyMatrix4(t),
            this.end.applyMatrix4(t),
            this
        },
        equals: function(t) {
            return t.start.equals(this.start) && t.end.equals(this.end)
        }
    }),
    ic.prototype = Object.create(Pn.prototype),
    ic.prototype.constructor = ic,
    ic.prototype.isImmediateRenderObject = !0,
    oc.prototype = Object.create(oo.prototype),
    oc.prototype.constructor = oc,
    oc.prototype.update = function() {
        var t = new Ke
          , e = new Ke
          , n = new $e;
        return function() {
            var r = ["a", "b", "c"];
            this.object.updateMatrixWorld(!0),
            n.getNormalMatrix(this.object.matrixWorld);
            var i = this.object.matrixWorld
              , o = this.geometry.attributes.position
              , a = this.object.geometry;
            if (a && a.isGeometry)
                for (var s = a.vertices, u = a.faces, c = 0, f = 0, l = u.length; f < l; f++)
                    for (var h = u[f], d = 0, p = h.vertexNormals.length; d < p; d++) {
                        var m = s[h[r[d]]]
                          , v = h.vertexNormals[d];
                        t.copy(m).applyMatrix4(i),
                        e.copy(v).applyMatrix3(n).normalize().multiplyScalar(this.size).add(t),
                        o.setXYZ(c, t.x, t.y, t.z),
                        c += 1,
                        o.setXYZ(c, e.x, e.y, e.z),
                        c += 1
                    }
            else if (a && a.isBufferGeometry) {
                var g = a.attributes.position
                  , y = a.attributes.normal;
                for (c = 0,
                d = 0,
                p = g.count; d < p; d++)
                    t.set(g.getX(d), g.getY(d), g.getZ(d)).applyMatrix4(i),
                    e.set(y.getX(d), y.getY(d), y.getZ(d)),
                    e.applyMatrix3(n).normalize().multiplyScalar(this.size).add(t),
                    o.setXYZ(c, t.x, t.y, t.z),
                    c += 1,
                    o.setXYZ(c, e.x, e.y, e.z),
                    c += 1
            }
            o.needsUpdate = !0
        }
    }(),
    ac.prototype = Object.create(Pn.prototype),
    ac.prototype.constructor = ac,
    ac.prototype.dispose = function() {
        this.cone.geometry.dispose(),
        this.cone.material.dispose()
    }
    ,
    ac.prototype.update = function() {
        var t = new Ke
          , e = new Ke;
        return function() {
            this.light.updateMatrixWorld();
            var n = this.light.distance ? this.light.distance : 1e3
              , r = n * Math.tan(this.light.angle);
            this.cone.scale.set(r, r, n),
            t.setFromMatrixPosition(this.light.matrixWorld),
            e.setFromMatrixPosition(this.light.target.matrixWorld),
            this.cone.lookAt(e.sub(t)),
            void 0 !== this.color ? this.cone.material.color.set(this.color) : this.cone.material.color.copy(this.light.color)
        }
    }(),
    sc.prototype = Object.create(oo.prototype),
    sc.prototype.constructor = sc,
    sc.prototype.updateMatrixWorld = function() {
        var t = new Ke
          , e = new Je
          , n = new Je;
        return function(r) {
            var i = this.bones
              , o = this.geometry
              , a = o.getAttribute("position");
            n.getInverse(this.root.matrixWorld);
            for (var s = 0, u = 0; s < i.length; s++) {
                var c = i[s];
                c.parent && c.parent.isBone && (e.multiplyMatrices(n, c.matrixWorld),
                t.setFromMatrixPosition(e),
                a.setXYZ(u, t.x, t.y, t.z),
                e.multiplyMatrices(n, c.parent.matrixWorld),
                t.setFromMatrixPosition(e),
                a.setXYZ(u + 1, t.x, t.y, t.z),
                u += 2)
            }
            o.getAttribute("position").needsUpdate = !0,
            Pn.prototype.updateMatrixWorld.call(this, r)
        }
    }(),
    uc.prototype = Object.create(wr.prototype),
    uc.prototype.constructor = uc,
    uc.prototype.dispose = function() {
        this.geometry.dispose(),
        this.material.dispose()
    }
    ,
    uc.prototype.update = function() {
        void 0 !== this.color ? this.material.color.set(this.color) : this.material.color.copy(this.light.color)
    }
    ,
    cc.prototype = Object.create(Pn.prototype),
    cc.prototype.constructor = cc,
    cc.prototype.dispose = function() {
        this.children[0].geometry.dispose(),
        this.children[0].material.dispose()
    }
    ,
    cc.prototype.update = function() {
        var t = .5 * this.light.width
          , e = .5 * this.light.height
          , n = this.line.geometry.attributes.position
          , r = n.array;
        r[0] = t,
        r[1] = -e,
        r[2] = 0,
        r[3] = t,
        r[4] = e,
        r[5] = 0,
        r[6] = -t,
        r[7] = e,
        r[8] = 0,
        r[9] = -t,
        r[10] = -e,
        r[11] = 0,
        r[12] = t,
        r[13] = -e,
        r[14] = 0,
        n.needsUpdate = !0,
        void 0 !== this.color ? this.line.material.color.set(this.color) : this.line.material.color.copy(this.light.color)
    }
    ,
    fc.prototype = Object.create(Pn.prototype),
    fc.prototype.constructor = fc,
    fc.prototype.dispose = function() {
        this.children[0].geometry.dispose(),
        this.children[0].material.dispose()
    }
    ,
    fc.prototype.update = function() {
        var t = new Ke
          , e = new _n
          , n = new _n;
        return function() {
            var r = this.children[0];
            if (void 0 !== this.color)
                this.material.color.set(this.color);
            else {
                var i = r.geometry.getAttribute("color");
                e.copy(this.light.color),
                n.copy(this.light.groundColor);
                for (var o = 0, a = i.count; o < a; o++) {
                    var s = o < a / 2 ? e : n;
                    i.setXYZ(o, s.r, s.g, s.b)
                }
                i.needsUpdate = !0
            }
            r.lookAt(t.setFromMatrixPosition(this.light.matrixWorld).negate())
        }
    }(),
    lc.prototype = Object.create(oo.prototype),
    lc.prototype.constructor = lc,
    hc.prototype = Object.create(oo.prototype),
    hc.prototype.constructor = hc,
    dc.prototype = Object.create(oo.prototype),
    dc.prototype.constructor = dc,
    dc.prototype.update = function() {
        var t = new Ke
          , e = new Ke
          , n = new $e;
        return function() {
            this.object.updateMatrixWorld(!0),
            n.getNormalMatrix(this.object.matrixWorld);
            for (var r = this.object.matrixWorld, i = this.geometry.attributes.position, o = this.object.geometry, a = o.vertices, s = o.faces, u = 0, c = 0, f = s.length; c < f; c++) {
                var l = s[c]
                  , h = l.normal;
                t.copy(a[l.a]).add(a[l.b]).add(a[l.c]).divideScalar(3).applyMatrix4(r),
                e.copy(h).applyMatrix3(n).normalize().multiplyScalar(this.size).add(t),
                i.setXYZ(u, t.x, t.y, t.z),
                u += 1,
                i.setXYZ(u, e.x, e.y, e.z),
                u += 1
            }
            i.needsUpdate = !0
        }
    }(),
    pc.prototype = Object.create(Pn.prototype),
    pc.prototype.constructor = pc,
    pc.prototype.dispose = function() {
        this.lightPlane.geometry.dispose(),
        this.lightPlane.material.dispose(),
        this.targetLine.geometry.dispose(),
        this.targetLine.material.dispose()
    }
    ,
    pc.prototype.update = function() {
        var t = new Ke
          , e = new Ke
          , n = new Ke;
        return function() {
            t.setFromMatrixPosition(this.light.matrixWorld),
            e.setFromMatrixPosition(this.light.target.matrixWorld),
            n.subVectors(e, t),
            this.lightPlane.lookAt(n),
            void 0 !== this.color ? (this.lightPlane.material.color.set(this.color),
            this.targetLine.material.color.set(this.color)) : (this.lightPlane.material.color.copy(this.light.color),
            this.targetLine.material.color.copy(this.light.color)),
            this.targetLine.lookAt(n),
            this.targetLine.scale.z = n.length()
        }
    }(),
    mc.prototype = Object.create(oo.prototype),
    mc.prototype.constructor = mc,
    mc.prototype.update = function() {
        var t, e, n = new Ke, r = new Nn;
        function i(i, o, a, s) {
            n.set(o, a, s).unproject(r);
            var u = e[i];
            if (void 0 !== u)
                for (var c = t.getAttribute("position"), f = 0, l = u.length; f < l; f++)
                    c.setXYZ(u[f], n.x, n.y, n.z)
        }
        return function() {
            t = this.geometry,
            e = this.pointMap;
            r.projectionMatrix.copy(this.camera.projectionMatrix),
            i("c", 0, 0, -1),
            i("t", 0, 0, 1),
            i("n1", -1, -1, -1),
            i("n2", 1, -1, -1),
            i("n3", -1, 1, -1),
            i("n4", 1, 1, -1),
            i("f1", -1, -1, 1),
            i("f2", 1, -1, 1),
            i("f3", -1, 1, 1),
            i("f4", 1, 1, 1),
            i("u1", .7, 1.1, -1),
            i("u2", -.7, 1.1, -1),
            i("u3", 0, 2, -1),
            i("cf1", -1, 0, 1),
            i("cf2", 1, 0, 1),
            i("cf3", 0, -1, 1),
            i("cf4", 0, 1, 1),
            i("cn1", -1, 0, -1),
            i("cn2", 1, 0, -1),
            i("cn3", 0, -1, -1),
            i("cn4", 0, 1, -1),
            t.getAttribute("position").needsUpdate = !0
        }
    }(),
    vc.prototype = Object.create(oo.prototype),
    vc.prototype.constructor = vc,
    vc.prototype.update = function() {
        var t = new hn;
        return function(e) {
            if (void 0 !== e && console.warn("THREE.BoxHelper: .update() has no longer arguments."),
            void 0 !== this.object && t.setFromObject(this.object),
            !t.isEmpty()) {
                var n = t.min
                  , r = t.max
                  , i = this.geometry.attributes.position
                  , o = i.array;
                o[0] = r.x,
                o[1] = r.y,
                o[2] = r.z,
                o[3] = n.x,
                o[4] = r.y,
                o[5] = r.z,
                o[6] = n.x,
                o[7] = n.y,
                o[8] = r.z,
                o[9] = r.x,
                o[10] = n.y,
                o[11] = r.z,
                o[12] = r.x,
                o[13] = r.y,
                o[14] = n.z,
                o[15] = n.x,
                o[16] = r.y,
                o[17] = n.z,
                o[18] = n.x,
                o[19] = n.y,
                o[20] = n.z,
                o[21] = r.x,
                o[22] = n.y,
                o[23] = n.z,
                i.needsUpdate = !0,
                this.geometry.computeBoundingSphere()
            }
        }
    }(),
    vc.prototype.setFromObject = function(t) {
        return this.object = t,
        this.update(),
        this
    }
    ,
    gc.prototype = Object.create(oo.prototype),
    gc.prototype.constructor = gc,
    gc.prototype.updateMatrixWorld = function(t) {
        var e = this.box;
        e.isEmpty() || (e.getCenter(this.position),
        e.getSize(this.scale),
        this.scale.multiplyScalar(.5),
        Pn.prototype.updateMatrixWorld.call(this, t))
    }
    ,
    yc.prototype = Object.create(io.prototype),
    yc.prototype.constructor = yc,
    yc.prototype.updateMatrixWorld = function(t) {
        var e = -this.plane.constant;
        Math.abs(e) < 1e-8 && (e = 1e-8),
        this.scale.set(.5 * this.size, .5 * this.size, e),
        this.children[0].material.side = e < 0 ? O : S,
        this.lookAt(this.plane.normal),
        Pn.prototype.updateMatrixWorld.call(this, t)
    }
    ,
    bc.prototype = Object.create(Pn.prototype),
    bc.prototype.constructor = bc,
    bc.prototype.setDirection = (ku = new Ke,
    function(t) {
        t.y > .99999 ? this.quaternion.set(0, 0, 0, 1) : t.y < -.99999 ? this.quaternion.set(1, 0, 0, 0) : (ku.set(t.z, 0, -t.x).normalize(),
        Bu = Math.acos(t.y),
        this.quaternion.setFromAxisAngle(ku, Bu))
    }
    ),
    bc.prototype.setLength = function(t, e, n) {
        void 0 === e && (e = .2 * t),
        void 0 === n && (n = .2 * e),
        this.line.scale.set(1, Math.max(0, t - e), 1),
        this.line.updateMatrix(),
        this.cone.scale.set(n, e, n),
        this.cone.position.y = t,
        this.cone.updateMatrix()
    }
    ,
    bc.prototype.setColor = function(t) {
        this.line.material.color.copy(t),
        this.cone.material.color.copy(t)
    }
    ,
    _c.prototype = Object.create(oo.prototype),
    _c.prototype.constructor = _c;
    var wc = 0
      , Mc = 1;
    function Ec(t) {
        return console.warn("THREE.MeshFaceMaterial has been removed. Use an Array instead."),
        t
    }
    function Tc(t) {
        return void 0 === t && (t = []),
        console.warn("THREE.MultiMaterial has been removed. Use an Array instead."),
        t.isMultiMaterial = !0,
        t.materials = t,
        t.clone = function() {
            return t.slice()
        }
        ,
        t
    }
    function Sc(t, e) {
        return console.warn("THREE.PointCloud has been renamed to THREE.Points."),
        new uo(t,e)
    }
    function Oc(t) {
        return console.warn("THREE.Particle has been renamed to THREE.Sprite."),
        new Ki(t)
    }
    function Ac(t, e) {
        return console.warn("THREE.ParticleSystem has been renamed to THREE.Points."),
        new uo(t,e)
    }
    function Lc(t) {
        return console.warn("THREE.PointCloudMaterial has been renamed to THREE.PointsMaterial."),
        new so(t)
    }
    function Rc(t) {
        return console.warn("THREE.ParticleBasicMaterial has been renamed to THREE.PointsMaterial."),
        new so(t)
    }
    function Cc(t) {
        return console.warn("THREE.ParticleSystemMaterial has been renamed to THREE.PointsMaterial."),
        new so(t)
    }
    function jc(t, e, n) {
        return console.warn("THREE.Vertex has been removed. Use THREE.Vector3 instead."),
        new Ke(t,e,n)
    }
    function Pc(t, e) {
        return console.warn("THREE.DynamicBufferAttribute has been removed. Use new THREE.BufferAttribute().setDynamic( true ) instead."),
        new Fn(t,e).setDynamic(!0)
    }
    function Nc(t, e) {
        return console.warn("THREE.Int8Attribute has been removed. Use new THREE.Int8BufferAttribute() instead."),
        new Gn(t,e)
    }
    function Ic(t, e) {
        return console.warn("THREE.Uint8Attribute has been removed. Use new THREE.Uint8BufferAttribute() instead."),
        new Hn(t,e)
    }
    function Dc(t, e) {
        return console.warn("THREE.Uint8ClampedAttribute has been removed. Use new THREE.Uint8ClampedBufferAttribute() instead."),
        new Vn(t,e)
    }
    function Uc(t, e) {
        return console.warn("THREE.Int16Attribute has been removed. Use new THREE.Int16BufferAttribute() instead."),
        new Wn(t,e)
    }
    function zc(t, e) {
        return console.warn("THREE.Uint16Attribute has been removed. Use new THREE.Uint16BufferAttribute() instead."),
        new qn(t,e)
    }
    function Bc(t, e) {
        return console.warn("THREE.Int32Attribute has been removed. Use new THREE.Int32BufferAttribute() instead."),
        new Xn(t,e)
    }
    function kc(t, e) {
        return console.warn("THREE.Uint32Attribute has been removed. Use new THREE.Uint32BufferAttribute() instead."),
        new Yn(t,e)
    }
    function Fc(t, e) {
        return console.warn("THREE.Float32Attribute has been removed. Use new THREE.Float32BufferAttribute() instead."),
        new Zn(t,e)
    }
    function Gc(t, e) {
        return console.warn("THREE.Float64Attribute has been removed. Use new THREE.Float64BufferAttribute() instead."),
        new Jn(t,e)
    }
    function Hc(t) {
        console.warn("THREE.ClosedSplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead."),
        es.call(this, t),
        this.type = "catmullrom",
        this.closed = !0
    }
    function Vc(t) {
        console.warn("THREE.SplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead."),
        es.call(this, t),
        this.type = "catmullrom"
    }
    function Wc(t) {
        console.warn("THREE.Spline has been removed. Use THREE.CatmullRomCurve3 instead."),
        es.call(this, t),
        this.type = "catmullrom"
    }
    function qc(t) {
        return console.warn("THREE.AxisHelper has been renamed to THREE.AxesHelper."),
        new _c(t)
    }
    function Xc(t, e) {
        return console.warn("THREE.BoundingBoxHelper has been deprecated. Creating a THREE.BoxHelper instead."),
        new vc(t,e)
    }
    function Yc(t, e) {
        return console.warn("THREE.EdgesHelper has been removed. Use THREE.EdgesGeometry instead."),
        new oo(new ba(t.geometry),new ro({
            color: void 0 !== e ? e : 16777215
        }))
    }
    function Zc(t, e) {
        return console.warn("THREE.WireframeHelper has been removed. Use THREE.WireframeGeometry instead."),
        new oo(new po(t.geometry),new ro({
            color: void 0 !== e ? e : 16777215
        }))
    }
    function Jc(t) {
        return console.warn("THREE.XHRLoader has been renamed to THREE.FileLoader."),
        new Fa(t)
    }
    function Qc(t) {
        return console.warn("THREE.BinaryTextureLoader has been renamed to THREE.DataTextureLoader."),
        new Ha(t)
    }
    Xa.create = function(t, e) {
        return console.log("THREE.Curve.create() has been deprecated"),
        t.prototype = Object.create(Xa.prototype),
        t.prototype.constructor = t,
        t.prototype.getPoint = e,
        t
    }
    ,
    Object.assign(ds.prototype, {
        createPointsGeometry: function(t) {
            console.warn("THREE.CurvePath: .createPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");
            var e = this.getPoints(t);
            return this.createGeometry(e)
        },
        createSpacedPointsGeometry: function(t) {
            console.warn("THREE.CurvePath: .createSpacedPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");
            var e = this.getSpacedPoints(t);
            return this.createGeometry(e)
        },
        createGeometry: function(t) {
            console.warn("THREE.CurvePath: .createGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");
            for (var e = new kn, n = 0, r = t.length; n < r; n++) {
                var i = t[n];
                e.vertices.push(new Ke(i.x,i.y,i.z || 0))
            }
            return e
        }
    }),
    Object.assign(ps.prototype, {
        fromPoints: function(t) {
            console.warn("THREE.Path: .fromPoints() has been renamed to .setFromPoints()."),
            this.setFromPoints(t)
        }
    }),
    Hc.prototype = Object.create(es.prototype),
    Vc.prototype = Object.create(es.prototype),
    Wc.prototype = Object.create(es.prototype),
    Object.assign(Wc.prototype, {
        initFromArray: function() {
            console.error("THREE.Spline: .initFromArray() has been removed.")
        },
        getControlPointsArray: function() {
            console.error("THREE.Spline: .getControlPointsArray() has been removed.")
        },
        reparametrizeByArcLength: function() {
            console.error("THREE.Spline: .reparametrizeByArcLength() has been removed.")
        }
    }),
    lc.prototype.setColors = function() {
        console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")
    }
    ,
    sc.prototype.update = function() {
        console.error("THREE.SkeletonHelper: update() no longer needs to be called.")
    }
    ,
    Object.assign(Ys.prototype, {
        extractUrlBase: function(t) {
            return console.warn("THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead."),
            Zs.extractUrlBase(t)
        }
    }),
    Object.assign(nc.prototype, {
        center: function(t) {
            return console.warn("THREE.Box2: .center() has been renamed to .getCenter()."),
            this.getCenter(t)
        },
        empty: function() {
            return console.warn("THREE.Box2: .empty() has been renamed to .isEmpty()."),
            this.isEmpty()
        },
        isIntersectionBox: function(t) {
            return console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox()."),
            this.intersectsBox(t)
        },
        size: function(t) {
            return console.warn("THREE.Box2: .size() has been renamed to .getSize()."),
            this.getSize(t)
        }
    }),
    Object.assign(hn.prototype, {
        center: function(t) {
            return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."),
            this.getCenter(t)
        },
        empty: function() {
            return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),
            this.isEmpty()
        },
        isIntersectionBox: function(t) {
            return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),
            this.intersectsBox(t)
        },
        isIntersectionSphere: function(t) {
            return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),
            this.intersectsSphere(t)
        },
        size: function(t) {
            return console.warn("THREE.Box3: .size() has been renamed to .getSize()."),
            this.getSize(t)
        }
    }),
    rc.prototype.center = function(t) {
        return console.warn("THREE.Line3: .center() has been renamed to .getCenter()."),
        this.getCenter(t)
    }
    ,
    Object.assign(Ye, {
        random16: function() {
            return console.warn("THREE.Math: .random16() has been deprecated. Use Math.random() instead."),
            Math.random()
        },
        nearestPowerOfTwo: function(t) {
            return console.warn("THREE.Math: .nearestPowerOfTwo() has been renamed to .floorPowerOfTwo()."),
            Ye.floorPowerOfTwo(t)
        },
        nextPowerOfTwo: function(t) {
            return console.warn("THREE.Math: .nextPowerOfTwo() has been renamed to .ceilPowerOfTwo()."),
            Ye.ceilPowerOfTwo(t)
        }
    }),
    Object.assign($e.prototype, {
        flattenToArrayOffset: function(t, e) {
            return console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),
            this.toArray(t, e)
        },
        multiplyVector3: function(t) {
            return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),
            t.applyMatrix3(this)
        },
        multiplyVector3Array: function() {
            console.error("THREE.Matrix3: .multiplyVector3Array() has been removed.")
        },
        applyToBuffer: function(t) {
            return console.warn("THREE.Matrix3: .applyToBuffer() has been removed. Use matrix.applyToBufferAttribute( attribute ) instead."),
            this.applyToBufferAttribute(t)
        },
        applyToVector3Array: function() {
            console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")
        }
    }),
    Object.assign(Je.prototype, {
        extractPosition: function(t) {
            return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),
            this.copyPosition(t)
        },
        flattenToArrayOffset: function(t, e) {
            return console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),
            this.toArray(t, e)
        },
        getPosition: function() {
            var t;
            return function() {
                return void 0 === t && (t = new Ke),
                console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),
                t.setFromMatrixColumn(this, 3)
            }
        }(),
        setRotationFromQuaternion: function(t) {
            return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),
            this.makeRotationFromQuaternion(t)
        },
        multiplyToArray: function() {
            console.warn("THREE.Matrix4: .multiplyToArray() has been removed.")
        },
        multiplyVector3: function(t) {
            return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead."),
            t.applyMatrix4(this)
        },
        multiplyVector4: function(t) {
            return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),
            t.applyMatrix4(this)
        },
        multiplyVector3Array: function() {
            console.error("THREE.Matrix4: .multiplyVector3Array() has been removed.")
        },
        rotateAxis: function(t) {
            console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),
            t.transformDirection(this)
        },
        crossVector: function(t) {
            return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),
            t.applyMatrix4(this)
        },
        translate: function() {
            console.error("THREE.Matrix4: .translate() has been removed.")
        },
        rotateX: function() {
            console.error("THREE.Matrix4: .rotateX() has been removed.")
        },
        rotateY: function() {
            console.error("THREE.Matrix4: .rotateY() has been removed.")
        },
        rotateZ: function() {
            console.error("THREE.Matrix4: .rotateZ() has been removed.")
        },
        rotateByAxis: function() {
            console.error("THREE.Matrix4: .rotateByAxis() has been removed.")
        },
        applyToBuffer: function(t) {
            return console.warn("THREE.Matrix4: .applyToBuffer() has been removed. Use matrix.applyToBufferAttribute( attribute ) instead."),
            this.applyToBufferAttribute(t)
        },
        applyToVector3Array: function() {
            console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")
        },
        makeFrustum: function(t, e, n, r, i, o) {
            return console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead."),
            this.makePerspective(t, e, r, n, i, o)
        }
    }),
    pn.prototype.isIntersectionLine = function(t) {
        return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),
        this.intersectsLine(t)
    }
    ,
    Qe.prototype.multiplyVector3 = function(t) {
        return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),
        t.applyQuaternion(this)
    }
    ,
    Object.assign(_r.prototype, {
        isIntersectionBox: function(t) {
            return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),
            this.intersectsBox(t)
        },
        isIntersectionPlane: function(t) {
            return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),
            this.intersectsPlane(t)
        },
        isIntersectionSphere: function(t) {
            return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),
            this.intersectsSphere(t)
        }
    }),
    Object.assign(xr.prototype, {
        area: function() {
            return console.warn("THREE.Triangle: .area() has been renamed to .getArea()."),
            this.getArea()
        },
        barycoordFromPoint: function(t, e) {
            return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),
            this.getBarycoord(t, e)
        },
        midpoint: function(t) {
            return console.warn("THREE.Triangle: .midpoint() has been renamed to .getMidpoint()."),
            this.getMidpoint(t)
        },
        normal: function(t) {
            return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),
            this.getNormal(t)
        },
        plane: function(t) {
            return console.warn("THREE.Triangle: .plane() has been renamed to .getPlane()."),
            this.getPlane(t)
        }
    }),
    Object.assign(xr, {
        barycoordFromPoint: function(t, e, n, r, i) {
            return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),
            xr.getBarycoord(t, e, n, r, i)
        },
        normal: function(t, e, n, r) {
            return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),
            xr.getNormal(t, e, n, r)
        }
    }),
    Object.assign(ms.prototype, {
        extractAllPoints: function(t) {
            return console.warn("THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead."),
            this.extractPoints(t)
        },
        extrude: function(t) {
            return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."),
            new ia(this,t)
        },
        makeGeometry: function(t) {
            return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."),
            new va(this,t)
        }
    }),
    Object.assign(Ze.prototype, {
        fromAttribute: function(t, e, n) {
            return console.warn("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute()."),
            this.fromBufferAttribute(t, e, n)
        },
        distanceToManhattan: function(t) {
            return console.warn("THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),
            this.manhattanDistanceTo(t)
        },
        lengthManhattan: function() {
            return console.warn("THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength()."),
            this.manhattanLength()
        }
    }),
    Object.assign(Ke.prototype, {
        setEulerFromRotationMatrix: function() {
            console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")
        },
        setEulerFromQuaternion: function() {
            console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")
        },
        getPositionFromMatrix: function(t) {
            return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),
            this.setFromMatrixPosition(t)
        },
        getScaleFromMatrix: function(t) {
            return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),
            this.setFromMatrixScale(t)
        },
        getColumnFromMatrix: function(t, e) {
            return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),
            this.setFromMatrixColumn(e, t)
        },
        applyProjection: function(t) {
            return console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead."),
            this.applyMatrix4(t)
        },
        fromAttribute: function(t, e, n) {
            return console.warn("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute()."),
            this.fromBufferAttribute(t, e, n)
        },
        distanceToManhattan: function(t) {
            return console.warn("THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),
            this.manhattanDistanceTo(t)
        },
        lengthManhattan: function() {
            return console.warn("THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength()."),
            this.manhattanLength()
        }
    }),
    Object.assign(un.prototype, {
        fromAttribute: function(t, e, n) {
            return console.warn("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute()."),
            this.fromBufferAttribute(t, e, n)
        },
        lengthManhattan: function() {
            return console.warn("THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength()."),
            this.manhattanLength()
        }
    }),
    Object.assign(kn.prototype, {
        computeTangents: function() {
            console.error("THREE.Geometry: .computeTangents() has been removed.")
        },
        computeLineDistances: function() {
            console.error("THREE.Geometry: .computeLineDistances() has been removed. Use THREE.Line.computeLineDistances() instead.")
        }
    }),
    Object.assign(Pn.prototype, {
        getChildByName: function(t) {
            return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),
            this.getObjectByName(t)
        },
        renderDepth: function() {
            console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")
        },
        translate: function(t, e) {
            return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),
            this.translateOnAxis(e, t)
        },
        getWorldRotation: function() {
            console.error("THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.")
        }
    }),
    Object.defineProperties(Pn.prototype, {
        eulerOrder: {
            get: function() {
                return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),
                this.rotation.order
            },
            set: function(t) {
                console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),
                this.rotation.order = t
            }
        },
        useQuaternion: {
            get: function() {
                console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")
            },
            set: function() {
                console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")
            }
        }
    }),
    Object.defineProperties($i.prototype, {
        objects: {
            get: function() {
                return console.warn("THREE.LOD: .objects has been renamed to .levels."),
                this.levels
            }
        }
    }),
    Object.defineProperty(to.prototype, "useVertexTexture", {
        get: function() {
            console.warn("THREE.Skeleton: useVertexTexture has been removed.")
        },
        set: function() {
            console.warn("THREE.Skeleton: useVertexTexture has been removed.")
        }
    }),
    Object.defineProperty(Xa.prototype, "__arcLengthDivisions", {
        get: function() {
            return console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),
            this.arcLengthDivisions
        },
        set: function(t) {
            console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),
            this.arcLengthDivisions = t
        }
    }),
    Gi.prototype.setLens = function(t, e) {
        console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),
        void 0 !== e && (this.filmGauge = e),
        this.setFocalLength(t)
    }
    ,
    Object.defineProperties(vs.prototype, {
        onlyShadow: {
            set: function() {
                console.warn("THREE.Light: .onlyShadow has been removed.")
            }
        },
        shadowCameraFov: {
            set: function(t) {
                console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),
                this.shadow.camera.fov = t
            }
        },
        shadowCameraLeft: {
            set: function(t) {
                console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),
                this.shadow.camera.left = t
            }
        },
        shadowCameraRight: {
            set: function(t) {
                console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),
                this.shadow.camera.right = t
            }
        },
        shadowCameraTop: {
            set: function(t) {
                console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),
                this.shadow.camera.top = t
            }
        },
        shadowCameraBottom: {
            set: function(t) {
                console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),
                this.shadow.camera.bottom = t
            }
        },
        shadowCameraNear: {
            set: function(t) {
                console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),
                this.shadow.camera.near = t
            }
        },
        shadowCameraFar: {
            set: function(t) {
                console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),
                this.shadow.camera.far = t
            }
        },
        shadowCameraVisible: {
            set: function() {
                console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")
            }
        },
        shadowBias: {
            set: function(t) {
                console.warn("THREE.Light: .shadowBias is now .shadow.bias."),
                this.shadow.bias = t
            }
        },
        shadowDarkness: {
            set: function() {
                console.warn("THREE.Light: .shadowDarkness has been removed.")
            }
        },
        shadowMapWidth: {
            set: function(t) {
                console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),
                this.shadow.mapSize.width = t
            }
        },
        shadowMapHeight: {
            set: function(t) {
                console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),
                this.shadow.mapSize.height = t
            }
        }
    }),
    Object.defineProperties(Fn.prototype, {
        length: {
            get: function() {
                return console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead."),
                this.array.length
            }
        },
        copyIndicesArray: function() {
            console.error("THREE.BufferAttribute: .copyIndicesArray() has been removed.")
        }
    }),
    Object.assign(tr.prototype, {
        addIndex: function(t) {
            console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),
            this.setIndex(t)
        },
        addDrawCall: function(t, e, n) {
            void 0 !== n && console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),
            console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),
            this.addGroup(t, e)
        },
        clearDrawCalls: function() {
            console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),
            this.clearGroups()
        },
        computeTangents: function() {
            console.warn("THREE.BufferGeometry: .computeTangents() has been removed.")
        },
        computeOffsets: function() {
            console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")
        }
    }),
    Object.defineProperties(tr.prototype, {
        drawcalls: {
            get: function() {
                return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),
                this.groups
            }
        },
        offsets: {
            get: function() {
                return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),
                this.groups
            }
        }
    }),
    Object.assign(oa.prototype, {
        getArrays: function() {
            console.error("THREE.ExtrudeBufferGeometry: .getArrays() has been removed.")
        },
        addShapeList: function() {
            console.error("THREE.ExtrudeBufferGeometry: .addShapeList() has been removed.")
        },
        addShape: function() {
            console.error("THREE.ExtrudeBufferGeometry: .addShape() has been removed.")
        }
    }),
    Object.defineProperties(qu.prototype, {
        dynamic: {
            set: function() {
                console.warn("THREE.Uniform: .dynamic has been removed. Use object.onBeforeRender() instead.")
            }
        },
        onUpdate: {
            value: function() {
                return console.warn("THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead."),
                this
            }
        }
    }),
    Object.defineProperties(gr.prototype, {
        wrapAround: {
            get: function() {
                console.warn("THREE.Material: .wrapAround has been removed.")
            },
            set: function() {
                console.warn("THREE.Material: .wrapAround has been removed.")
            }
        },
        wrapRGB: {
            get: function() {
                return console.warn("THREE.Material: .wrapRGB has been removed."),
                new _n
            }
        },
        shading: {
            get: function() {
                console.error("THREE." + this.type + ": .shading has been removed. Use the boolean .flatShading instead.")
            },
            set: function(t) {
                console.warn("THREE." + this.type + ": .shading has been removed. Use the boolean .flatShading instead."),
                this.flatShading = t === L
            }
        }
    }),
    Object.defineProperties(Ca.prototype, {
        metal: {
            get: function() {
                return console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead."),
                !1
            },
            set: function() {
                console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead")
            }
        }
    }),
    Object.defineProperties(br.prototype, {
        derivatives: {
            get: function() {
                return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),
                this.extensions.derivatives
            },
            set: function(t) {
                console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),
                this.extensions.derivatives = t
            }
        }
    }),
    Object.assign(Wi.prototype, {
        animate: function(t) {
            console.warn("THREE.WebGLRenderer: .animate() is now .setAnimationLoop()."),
            this.setAnimationLoop(t)
        },
        getCurrentRenderTarget: function() {
            return console.warn("THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget()."),
            this.getRenderTarget()
        },
        getMaxAnisotropy: function() {
            return console.warn("THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy()."),
            this.capabilities.getMaxAnisotropy()
        },
        getPrecision: function() {
            return console.warn("THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision."),
            this.capabilities.precision
        },
        resetGLState: function() {
            return console.warn("THREE.WebGLRenderer: .resetGLState() is now .state.reset()."),
            this.state.reset()
        },
        supportsFloatTextures: function() {
            return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),
            this.extensions.get("OES_texture_float")
        },
        supportsHalfFloatTextures: function() {
            return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),
            this.extensions.get("OES_texture_half_float")
        },
        supportsStandardDerivatives: function() {
            return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),
            this.extensions.get("OES_standard_derivatives")
        },
        supportsCompressedTextureS3TC: function() {
            return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),
            this.extensions.get("WEBGL_compressed_texture_s3tc")
        },
        supportsCompressedTexturePVRTC: function() {
            return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),
            this.extensions.get("WEBGL_compressed_texture_pvrtc")
        },
        supportsBlendMinMax: function() {
            return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),
            this.extensions.get("EXT_blend_minmax")
        },
        supportsVertexTextures: function() {
            return console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."),
            this.capabilities.vertexTextures
        },
        supportsInstancedArrays: function() {
            return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),
            this.extensions.get("ANGLE_instanced_arrays")
        },
        enableScissorTest: function(t) {
            console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),
            this.setScissorTest(t)
        },
        initMaterial: function() {
            console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")
        },
        addPrePlugin: function() {
            console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")
        },
        addPostPlugin: function() {
            console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")
        },
        updateShadowMap: function() {
            console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")
        },
        setFaceCulling: function() {
            console.warn("THREE.WebGLRenderer: .setFaceCulling() has been removed.")
        }
    }),
    Object.defineProperties(Wi.prototype, {
        shadowMapEnabled: {
            get: function() {
                return this.shadowMap.enabled
            },
            set: function(t) {
                console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),
                this.shadowMap.enabled = t
            }
        },
        shadowMapType: {
            get: function() {
                return this.shadowMap.type
            },
            set: function(t) {
                console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),
                this.shadowMap.type = t
            }
        },
        shadowMapCullFace: {
            get: function() {
                console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")
            },
            set: function() {
                console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")
            }
        }
    }),
    Object.defineProperties(zi.prototype, {
        cullFace: {
            get: function() {
                console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")
            },
            set: function() {
                console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")
            }
        },
        renderReverseSided: {
            get: function() {
                console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")
            },
            set: function() {
                console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")
            }
        },
        renderSingleSided: {
            get: function() {
                console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")
            },
            set: function() {
                console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")
            }
        }
    }),
    Object.defineProperties(cn.prototype, {
        wrapS: {
            get: function() {
                return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),
                this.texture.wrapS
            },
            set: function(t) {
                console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),
                this.texture.wrapS = t
            }
        },
        wrapT: {
            get: function() {
                return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),
                this.texture.wrapT
            },
            set: function(t) {
                console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),
                this.texture.wrapT = t
            }
        },
        magFilter: {
            get: function() {
                return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),
                this.texture.magFilter
            },
            set: function(t) {
                console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),
                this.texture.magFilter = t
            }
        },
        minFilter: {
            get: function() {
                return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),
                this.texture.minFilter
            },
            set: function(t) {
                console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),
                this.texture.minFilter = t
            }
        },
        anisotropy: {
            get: function() {
                return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),
                this.texture.anisotropy
            },
            set: function(t) {
                console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),
                this.texture.anisotropy = t
            }
        },
        offset: {
            get: function() {
                return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),
                this.texture.offset
            },
            set: function(t) {
                console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),
                this.texture.offset = t
            }
        },
        repeat: {
            get: function() {
                return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),
                this.texture.repeat
            },
            set: function(t) {
                console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),
                this.texture.repeat = t
            }
        },
        format: {
            get: function() {
                return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),
                this.texture.format
            },
            set: function(t) {
                console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),
                this.texture.format = t
            }
        },
        type: {
            get: function() {
                return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),
                this.texture.type
            },
            set: function(t) {
                console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),
                this.texture.type = t
            }
        },
        generateMipmaps: {
            get: function() {
                return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),
                this.texture.generateMipmaps
            },
            set: function(t) {
                console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),
                this.texture.generateMipmaps = t
            }
        }
    }),
    Object.defineProperties(Vi.prototype, {
        standing: {
            set: function() {
                console.warn("THREE.WebVRManager: .standing has been removed.")
            }
        }
    }),
    wu.prototype.load = function(t) {
        console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");
        var e = this;
        return (new yu).load(t, function(t) {
            e.setBuffer(t)
        }),
        this
    }
    ,
    Eu.prototype.getData = function() {
        return console.warn("THREE.AudioAnalyser: .getData() is now .getFrequencyData()."),
        this.getFrequencyData()
    }
    ,
    _u.prototype.updateCubeMap = function(t, e) {
        return console.warn("THREE.CubeCamera: .updateCubeMap() is now .update()."),
        this.update(t, e)
    }
    ;
    var Kc = {
        merge: function(t, e, n) {
            var r;
            console.warn("THREE.GeometryUtils: .merge() has been moved to Geometry. Use geometry.merge( geometry2, matrix, materialIndexOffset ) instead."),
            e.isMesh && (e.matrixAutoUpdate && e.updateMatrix(),
            r = e.matrix,
            e = e.geometry),
            t.merge(e, r, n)
        },
        center: function(t) {
            return console.warn("THREE.GeometryUtils: .center() has been moved to Geometry. Use geometry.center() instead."),
            t.center()
        }
    };
    function $c() {
        console.error("THREE.Projector has been moved to /examples/js/renderers/Projector.js."),
        this.projectVector = function(t, e) {
            console.warn("THREE.Projector: .projectVector() is now vector.project()."),
            t.project(e)
        }
        ,
        this.unprojectVector = function(t, e) {
            console.warn("THREE.Projector: .unprojectVector() is now vector.unproject()."),
            t.unproject(e)
        }
        ,
        this.pickingRay = function() {
            console.error("THREE.Projector: .pickingRay() is now raycaster.setFromCamera().")
        }
    }
    function tf() {
        console.error("THREE.CanvasRenderer has been moved to /examples/js/renderers/CanvasRenderer.js"),
        this.domElement = document.createElementNS("http://www.w3.org/1999/xhtml", "canvas"),
        this.clear = function() {}
        ,
        this.render = function() {}
        ,
        this.setClearColor = function() {}
        ,
        this.setSize = function() {}
    }
    on.crossOrigin = void 0,
    on.loadTexture = function(t, e, n, r) {
        console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");
        var i = new qa;
        i.setCrossOrigin(this.crossOrigin);
        var o = i.load(t, n, void 0, r);
        return e && (o.mapping = e),
        o
    }
    ,
    on.loadTextureCube = function(t, e, n, r) {
        console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");
        var i = new Wa;
        i.setCrossOrigin(this.crossOrigin);
        var o = i.load(t, n, void 0, r);
        return e && (o.mapping = e),
        o
    }
    ,
    on.loadCompressedTexture = function() {
        console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")
    }
    ,
    on.loadCompressedTextureCube = function() {
        console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")
    }
    ;
    var ef = {
        createMultiMaterialObject: function() {
            console.error("THREE.SceneUtils has been moved to /examples/js/utils/SceneUtils.js")
        },
        detach: function() {
            console.error("THREE.SceneUtils has been moved to /examples/js/utils/SceneUtils.js")
        },
        attach: function() {
            console.error("THREE.SceneUtils has been moved to /examples/js/utils/SceneUtils.js")
        }
    };
    function nf() {
        console.error("THREE.LensFlare has been moved to /examples/js/objects/Lensflare.js")
    }
}
, function(t, e, n) {
    "use strict";
    var r = n(27);
    e.a = function(t, e, n) {
        if (null == n && (n = r.a),
        i = t.length) {
            if ((e = +e) <= 0 || i < 2)
                return +n(t[0], 0, t);
            if (e >= 1)
                return +n(t[i - 1], i - 1, t);
            var i, o = (i - 1) * e, a = Math.floor(o), s = +n(t[a], a, t);
            return s + (+n(t[a + 1], a + 1, t) - s) * (o - a)
        }
    }
}
, function(t, e, n) {
    "use strict";
    var r = n(213);
    n.d(e, "a", function() {
        return r.a
    });
    var i = n(112);
    n.d(e, "b", function() {
        return i.a
    }),
    n.d(e, "c", function() {
        return i.b
    })
}
, function(t, e, n) {
    "use strict";
    var r = n(55);
    e.a = function(t) {
        var e = t += ""
          , n = e.indexOf(":");
        return n >= 0 && "xmlns" !== (e = t.slice(0, n)) && (t = t.slice(n + 1)),
        r.a.hasOwnProperty(e) ? {
            space: r.a[e],
            local: t
        } : t
    }
}
, function(t, e, n) {
    "use strict";
    n.d(e, "b", function() {
        return r
    });
    var r = "http://www.w3.org/1999/xhtml";
    e.a = {
        svg: "http://www.w3.org/2000/svg",
        xhtml: r,
        xlink: "http://www.w3.org/1999/xlink",
        xml: "http://www.w3.org/XML/1998/namespace",
        xmlns: "http://www.w3.org/2000/xmlns/"
    }
}
, function(t, e, n) {
    "use strict";
    function r() {}
    e.a = function(t) {
        return null == t ? r : function() {
            return this.querySelector(t)
        }
    }
}
, function(t, e, n) {
    "use strict";
    e.a = function(t) {
        return t.ownerDocument && t.ownerDocument.defaultView || t.document && t || t.defaultView
    }
}
, function(t, e, n) {
    "use strict";
    n.d(e, "c", function() {
        return i
    }),
    e.a = function(t, e, n, r) {
        var o = i;
        t.sourceEvent = i,
        i = t;
        try {
            return e.apply(n, r)
        } finally {
            i = o
        }
    }
    ;
    var r = {}
      , i = null;
    "undefined" != typeof document && ("onmouseenter"in document.documentElement || (r = {
        mouseenter: "mouseover",
        mouseleave: "mouseout"
    }));
    function o(t, e, n) {
        return t = a(t, e, n),
        function(e) {
            var n = e.relatedTarget;
            n && (n === this || 8 & n.compareDocumentPosition(this)) || t.call(this, e)
        }
    }
    function a(t, e, n) {
        return function(r) {
            var o = i;
            i = r;
            try {
                t.call(this, this.__data__, e, n)
            } finally {
                i = o
            }
        }
    }
    function s(t) {
        return function() {
            var e = this.__on;
            if (e) {
                for (var n, r = 0, i = -1, o = e.length; r < o; ++r)
                    n = e[r],
                    t.type && n.type !== t.type || n.name !== t.name ? e[++i] = n : this.removeEventListener(n.type, n.listener, n.capture);
                ++i ? e.length = i : delete this.__on
            }
        }
    }
    function u(t, e, n) {
        var i = r.hasOwnProperty(t.type) ? o : a;
        return function(r, o, a) {
            var s, u = this.__on, c = i(e, o, a);
            if (u)
                for (var f = 0, l = u.length; f < l; ++f)
                    if ((s = u[f]).type === t.type && s.name === t.name)
                        return this.removeEventListener(s.type, s.listener, s.capture),
                        this.addEventListener(s.type, s.listener = c, s.capture = n),
                        void (s.value = e);
            this.addEventListener(t.type, c, n),
            s = {
                type: t.type,
                name: t.name,
                value: e,
                listener: c,
                capture: n
            },
            u ? u.push(s) : this.__on = [s]
        }
    }
    e.b = function(t, e, n) {
        var r, i, o = function(t) {
            return t.trim().split(/^|\s+/).map(function(t) {
                var e = ""
                  , n = t.indexOf(".");
                return n >= 0 && (e = t.slice(n + 1),
                t = t.slice(0, n)),
                {
                    type: t,
                    name: e
                }
            })
        }(t + ""), a = o.length;
        if (!(arguments.length < 2)) {
            for (c = e ? u : s,
            null == n && (n = !1),
            r = 0; r < a; ++r)
                this.each(c(o[r], e, n));
            return this
        }
        var c = this.node().__on;
        if (c)
            for (var f, l = 0, h = c.length; l < h; ++l)
                for (r = 0,
                f = c[l]; r < a; ++r)
                    if ((i = o[r]).type === f.type && i.name === f.name)
                        return f.value
    }
}
, function(t, e, n) {
    "use strict";
    var r = n(58);
    e.a = function() {
        for (var t, e = r.c; t = e.sourceEvent; )
            e = t;
        return e
    }
}
, function(t, e, n) {
    "use strict";
    var r = n(9)
      , i = n(115)
      , o = n(118)
      , a = n(119)
      , s = n(37)
      , u = n(120)
      , c = n(121)
      , f = n(117);
    e.a = function(t, e) {
        var n, l = typeof e;
        return null == e || "boolean" === l ? Object(f.a)(e) : ("number" === l ? s.a : "string" === l ? (n = Object(r.a)(e)) ? (e = n,
        i.a) : c.a : e instanceof r.a ? i.a : e instanceof Date ? a.a : Array.isArray(e) ? o.a : "function" != typeof e.valueOf && "function" != typeof e.toString || isNaN(e) ? u.a : s.a)(t, e)
    }
}
, function(t, e, n) {
    "use strict";
    e.a = i,
    n.d(e, "d", function() {
        return o
    }),
    n.d(e, "c", function() {
        return a
    }),
    e.e = b,
    e.h = w,
    e.g = M,
    e.b = E,
    e.f = O;
    var r = n(62);
    function i() {}
    var o = .7
      , a = 1 / o
      , s = "\\s*([+-]?\\d+)\\s*"
      , u = "\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*"
      , c = "\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*"
      , f = /^#([0-9a-f]{3})$/
      , l = /^#([0-9a-f]{6})$/
      , h = new RegExp("^rgb\\(" + [s, s, s] + "\\)$")
      , d = new RegExp("^rgb\\(" + [c, c, c] + "\\)$")
      , p = new RegExp("^rgba\\(" + [s, s, s, u] + "\\)$")
      , m = new RegExp("^rgba\\(" + [c, c, c, u] + "\\)$")
      , v = new RegExp("^hsl\\(" + [u, c, c] + "\\)$")
      , g = new RegExp("^hsla\\(" + [u, c, c, u] + "\\)$")
      , y = {
        aliceblue: 15792383,
        antiquewhite: 16444375,
        aqua: 65535,
        aquamarine: 8388564,
        azure: 15794175,
        beige: 16119260,
        bisque: 16770244,
        black: 0,
        blanchedalmond: 16772045,
        blue: 255,
        blueviolet: 9055202,
        brown: 10824234,
        burlywood: 14596231,
        cadetblue: 6266528,
        chartreuse: 8388352,
        chocolate: 13789470,
        coral: 16744272,
        cornflowerblue: 6591981,
        cornsilk: 16775388,
        crimson: 14423100,
        cyan: 65535,
        darkblue: 139,
        darkcyan: 35723,
        darkgoldenrod: 12092939,
        darkgray: 11119017,
        darkgreen: 25600,
        darkgrey: 11119017,
        darkkhaki: 12433259,
        darkmagenta: 9109643,
        darkolivegreen: 5597999,
        darkorange: 16747520,
        darkorchid: 10040012,
        darkred: 9109504,
        darksalmon: 15308410,
        darkseagreen: 9419919,
        darkslateblue: 4734347,
        darkslategray: 3100495,
        darkslategrey: 3100495,
        darkturquoise: 52945,
        darkviolet: 9699539,
        deeppink: 16716947,
        deepskyblue: 49151,
        dimgray: 6908265,
        dimgrey: 6908265,
        dodgerblue: 2003199,
        firebrick: 11674146,
        floralwhite: 16775920,
        forestgreen: 2263842,
        fuchsia: 16711935,
        gainsboro: 14474460,
        ghostwhite: 16316671,
        gold: 16766720,
        goldenrod: 14329120,
        gray: 8421504,
        green: 32768,
        greenyellow: 11403055,
        grey: 8421504,
        honeydew: 15794160,
        hotpink: 16738740,
        indianred: 13458524,
        indigo: 4915330,
        ivory: 16777200,
        khaki: 15787660,
        lavender: 15132410,
        lavenderblush: 16773365,
        lawngreen: 8190976,
        lemonchiffon: 16775885,
        lightblue: 11393254,
        lightcoral: 15761536,
        lightcyan: 14745599,
        lightgoldenrodyellow: 16448210,
        lightgray: 13882323,
        lightgreen: 9498256,
        lightgrey: 13882323,
        lightpink: 16758465,
        lightsalmon: 16752762,
        lightseagreen: 2142890,
        lightskyblue: 8900346,
        lightslategray: 7833753,
        lightslategrey: 7833753,
        lightsteelblue: 11584734,
        lightyellow: 16777184,
        lime: 65280,
        limegreen: 3329330,
        linen: 16445670,
        magenta: 16711935,
        maroon: 8388608,
        mediumaquamarine: 6737322,
        mediumblue: 205,
        mediumorchid: 12211667,
        mediumpurple: 9662683,
        mediumseagreen: 3978097,
        mediumslateblue: 8087790,
        mediumspringgreen: 64154,
        mediumturquoise: 4772300,
        mediumvioletred: 13047173,
        midnightblue: 1644912,
        mintcream: 16121850,
        mistyrose: 16770273,
        moccasin: 16770229,
        navajowhite: 16768685,
        navy: 128,
        oldlace: 16643558,
        olive: 8421376,
        olivedrab: 7048739,
        orange: 16753920,
        orangered: 16729344,
        orchid: 14315734,
        palegoldenrod: 15657130,
        palegreen: 10025880,
        paleturquoise: 11529966,
        palevioletred: 14381203,
        papayawhip: 16773077,
        peachpuff: 16767673,
        peru: 13468991,
        pink: 16761035,
        plum: 14524637,
        powderblue: 11591910,
        purple: 8388736,
        rebeccapurple: 6697881,
        red: 16711680,
        rosybrown: 12357519,
        royalblue: 4286945,
        saddlebrown: 9127187,
        salmon: 16416882,
        sandybrown: 16032864,
        seagreen: 3050327,
        seashell: 16774638,
        sienna: 10506797,
        silver: 12632256,
        skyblue: 8900331,
        slateblue: 6970061,
        slategray: 7372944,
        slategrey: 7372944,
        snow: 16775930,
        springgreen: 65407,
        steelblue: 4620980,
        tan: 13808780,
        teal: 32896,
        thistle: 14204888,
        tomato: 16737095,
        turquoise: 4251856,
        violet: 15631086,
        wheat: 16113331,
        white: 16777215,
        whitesmoke: 16119285,
        yellow: 16776960,
        yellowgreen: 10145074
    };
    function b(t) {
        var e;
        return t = (t + "").trim().toLowerCase(),
        (e = f.exec(t)) ? new E((e = parseInt(e[1], 16)) >> 8 & 15 | e >> 4 & 240,e >> 4 & 15 | 240 & e,(15 & e) << 4 | 15 & e,1) : (e = l.exec(t)) ? _(parseInt(e[1], 16)) : (e = h.exec(t)) ? new E(e[1],e[2],e[3],1) : (e = d.exec(t)) ? new E(255 * e[1] / 100,255 * e[2] / 100,255 * e[3] / 100,1) : (e = p.exec(t)) ? x(e[1], e[2], e[3], e[4]) : (e = m.exec(t)) ? x(255 * e[1] / 100, 255 * e[2] / 100, 255 * e[3] / 100, e[4]) : (e = v.exec(t)) ? S(e[1], e[2] / 100, e[3] / 100, 1) : (e = g.exec(t)) ? S(e[1], e[2] / 100, e[3] / 100, e[4]) : y.hasOwnProperty(t) ? _(y[t]) : "transparent" === t ? new E(NaN,NaN,NaN,0) : null
    }
    function _(t) {
        return new E(t >> 16 & 255,t >> 8 & 255,255 & t,1)
    }
    function x(t, e, n, r) {
        return r <= 0 && (t = e = n = NaN),
        new E(t,e,n,r)
    }
    function w(t) {
        return t instanceof i || (t = b(t)),
        t ? new E((t = t.rgb()).r,t.g,t.b,t.opacity) : new E
    }
    function M(t, e, n, r) {
        return 1 === arguments.length ? w(t) : new E(t,e,n,null == r ? 1 : r)
    }
    function E(t, e, n, r) {
        this.r = +t,
        this.g = +e,
        this.b = +n,
        this.opacity = +r
    }
    function T(t) {
        return ((t = Math.max(0, Math.min(255, Math.round(t) || 0))) < 16 ? "0" : "") + t.toString(16)
    }
    function S(t, e, n, r) {
        return r <= 0 ? t = e = n = NaN : n <= 0 || n >= 1 ? t = e = NaN : e <= 0 && (t = NaN),
        new A(t,e,n,r)
    }
    function O(t, e, n, r) {
        return 1 === arguments.length ? function(t) {
            if (t instanceof A)
                return new A(t.h,t.s,t.l,t.opacity);
            if (t instanceof i || (t = b(t)),
            !t)
                return new A;
            if (t instanceof A)
                return t;
            var e = (t = t.rgb()).r / 255
              , n = t.g / 255
              , r = t.b / 255
              , o = Math.min(e, n, r)
              , a = Math.max(e, n, r)
              , s = NaN
              , u = a - o
              , c = (a + o) / 2;
            return u ? (s = e === a ? (n - r) / u + 6 * (n < r) : n === a ? (r - e) / u + 2 : (e - n) / u + 4,
            u /= c < .5 ? a + o : 2 - a - o,
            s *= 60) : u = c > 0 && c < 1 ? 0 : s,
            new A(s,u,c,t.opacity)
        }(t) : new A(t,e,n,null == r ? 1 : r)
    }
    function A(t, e, n, r) {
        this.h = +t,
        this.s = +e,
        this.l = +n,
        this.opacity = +r
    }
    function L(t, e, n) {
        return 255 * (t < 60 ? e + (n - e) * t / 60 : t < 180 ? n : t < 240 ? e + (n - e) * (240 - t) / 60 : e)
    }
    Object(r.a)(i, b, {
        displayable: function() {
            return this.rgb().displayable()
        },
        hex: function() {
            return this.rgb().hex()
        },
        toString: function() {
            return this.rgb() + ""
        }
    }),
    Object(r.a)(E, M, Object(r.b)(i, {
        brighter: function(t) {
            return t = null == t ? a : Math.pow(a, t),
            new E(this.r * t,this.g * t,this.b * t,this.opacity)
        },
        darker: function(t) {
            return t = null == t ? o : Math.pow(o, t),
            new E(this.r * t,this.g * t,this.b * t,this.opacity)
        },
        rgb: function() {
            return this
        },
        displayable: function() {
            return 0 <= this.r && this.r <= 255 && 0 <= this.g && this.g <= 255 && 0 <= this.b && this.b <= 255 && 0 <= this.opacity && this.opacity <= 1
        },
        hex: function() {
            return "#" + T(this.r) + T(this.g) + T(this.b)
        },
        toString: function() {
            var t = this.opacity;
            return (1 === (t = isNaN(t) ? 1 : Math.max(0, Math.min(1, t))) ? "rgb(" : "rgba(") + Math.max(0, Math.min(255, Math.round(this.r) || 0)) + ", " + Math.max(0, Math.min(255, Math.round(this.g) || 0)) + ", " + Math.max(0, Math.min(255, Math.round(this.b) || 0)) + (1 === t ? ")" : ", " + t + ")")
        }
    })),
    Object(r.a)(A, O, Object(r.b)(i, {
        brighter: function(t) {
            return t = null == t ? a : Math.pow(a, t),
            new A(this.h,this.s,this.l * t,this.opacity)
        },
        darker: function(t) {
            return t = null == t ? o : Math.pow(o, t),
            new A(this.h,this.s,this.l * t,this.opacity)
        },
        rgb: function() {
            var t = this.h % 360 + 360 * (this.h < 0)
              , e = isNaN(t) || isNaN(this.s) ? 0 : this.s
              , n = this.l
              , r = n + (n < .5 ? n : 1 - n) * e
              , i = 2 * n - r;
            return new E(L(t >= 240 ? t - 240 : t + 120, i, r),L(t, i, r),L(t < 120 ? t + 240 : t - 120, i, r),this.opacity)
        },
        displayable: function() {
            return (0 <= this.s && this.s <= 1 || isNaN(this.s)) && 0 <= this.l && this.l <= 1 && 0 <= this.opacity && this.opacity <= 1
        }
    }))
}
, function(t, e, n) {
    "use strict";
    e.b = function(t, e) {
        var n = Object.create(t.prototype);
        for (var r in e)
            n[r] = e[r];
        return n
    }
    ,
    e.a = function(t, e, n) {
        t.prototype = e.prototype = n,
        n.constructor = t
    }
}
, function(t, e, n) {
    "use strict";
    function r(t, e, n, r, i) {
        var o = t * t
          , a = o * t;
        return ((1 - 3 * t + 3 * o - a) * e + (4 - 6 * o + 3 * a) * n + (1 + 3 * t + 3 * o - 3 * a) * r + a * i) / 6
    }
    e.a = r,
    e.b = function(t) {
        var e = t.length - 1;
        return function(n) {
            var i = n <= 0 ? n = 0 : n >= 1 ? (n = 1,
            e - 1) : Math.floor(n * e)
              , o = t[i]
              , a = t[i + 1]
              , s = i > 0 ? t[i - 1] : 2 * o - a
              , u = i < e - 1 ? t[i + 2] : 2 * a - o;
            return r((n - i / e) * e, s, o, a, u)
        }
    }
}
, function(t, e, n) {
    "use strict";
    n(266);
    var r = n(13);
    n.d(e, "c", function() {
        return r.b
    });
    var i = n(298);
    n.d(e, "a", function() {
        return i.a
    });
    var o = n(122);
    n.d(e, "b", function() {
        return o.a
    })
}
, function(t, e, n) {
    "use strict";
    e.b = p,
    e.a = v,
    e.c = g,
    e.d = y;
    var r, i, o = 0, a = 0, s = 0, u = 1e3, c = 0, f = 0, l = 0, h = "object" == typeof performance && performance.now ? performance : Date, d = "object" == typeof window && window.requestAnimationFrame ? window.requestAnimationFrame.bind(window) : function(t) {
        setTimeout(t, 17)
    }
    ;
    function p() {
        return f || (d(m),
        f = h.now() + l)
    }
    function m() {
        f = 0
    }
    function v() {
        this._call = this._time = this._next = null
    }
    function g(t, e, n) {
        var r = new v;
        return r.restart(t, e, n),
        r
    }
    function y() {
        p(),
        ++o;
        for (var t, e = r; e; )
            (t = f - e._time) >= 0 && e._call.call(null, t),
            e = e._next;
        --o
    }
    function b() {
        f = (c = h.now()) + l,
        o = a = 0;
        try {
            y()
        } finally {
            o = 0,
            function() {
                var t, e, n = r, o = 1 / 0;
                for (; n; )
                    n._call ? (o > n._time && (o = n._time),
                    t = n,
                    n = n._next) : (e = n._next,
                    n._next = null,
                    n = t ? t._next = e : r = e);
                i = t,
                x(o)
            }(),
            f = 0
        }
    }
    function _() {
        var t = h.now()
          , e = t - c;
        e > u && (l -= e,
        c = t)
    }
    function x(t) {
        o || (a && (a = clearTimeout(a)),
        t - f > 24 ? (t < 1 / 0 && (a = setTimeout(b, t - h.now() - l)),
        s && (s = clearInterval(s))) : (s || (c = h.now(),
        s = setInterval(_, u)),
        o = 1,
        d(b)))
    }
    v.prototype = g.prototype = {
        constructor: v,
        restart: function(t, e, n) {
            if ("function" != typeof t)
                throw new TypeError("callback is not a function");
            n = (null == n ? p() : +n) + (null == e ? 0 : +e),
            this._next || i === this || (i ? i._next = this : r = this,
            i = this),
            this._call = t,
            this._time = n,
            x()
        },
        stop: function() {
            this._call && (this._call = null,
            this._time = 1 / 0,
            x())
        }
    }
}
, function(t, e, n) {
    "use strict";
    n.d(e, "b", function() {
        return r
    });
    var r = "$";
    function i() {}
    function o(t, e) {
        var n = new i;
        if (t instanceof i)
            t.each(function(t, e) {
                n.set(e, t)
            });
        else if (Array.isArray(t)) {
            var r, o = -1, a = t.length;
            if (null == e)
                for (; ++o < a; )
                    n.set(o, t[o]);
            else
                for (; ++o < a; )
                    n.set(e(r = t[o], o, t), r)
        } else if (t)
            for (var s in t)
                n.set(s, t[s]);
        return n
    }
    i.prototype = o.prototype = {
        constructor: i,
        has: function(t) {
            return r + t in this
        },
        get: function(t) {
            return this[r + t]
        },
        set: function(t, e) {
            return this[r + t] = e,
            this
        },
        remove: function(t) {
            var e = r + t;
            return e in this && delete this[e]
        },
        clear: function() {
            for (var t in this)
                t[0] === r && delete this[t]
        },
        keys: function() {
            var t = [];
            for (var e in this)
                e[0] === r && t.push(e.slice(1));
            return t
        },
        values: function() {
            var t = [];
            for (var e in this)
                e[0] === r && t.push(this[e]);
            return t
        },
        entries: function() {
            var t = [];
            for (var e in this)
                e[0] === r && t.push({
                    key: e.slice(1),
                    value: this[e]
                });
            return t
        },
        size: function() {
            var t = 0;
            for (var e in this)
                e[0] === r && ++t;
            return t
        },
        empty: function() {
            for (var t in this)
                if (t[0] === r)
                    return !1;
            return !0
        },
        each: function(t) {
            for (var e in this)
                e[0] === r && t(this[e], e.slice(1), this)
        }
    },
    e.a = o
}
, function(t, e, n) {
    "use strict";
    var r = {}
      , i = {}
      , o = 34
      , a = 10
      , s = 13;
    function u(t) {
        return new Function("d","return {" + t.map(function(t, e) {
            return JSON.stringify(t) + ": d[" + e + "]"
        }).join(",") + "}")
    }
    function c(t) {
        var e = Object.create(null)
          , n = [];
        return t.forEach(function(t) {
            for (var r in t)
                r in e || n.push(e[r] = r)
        }),
        n
    }
    function f(t, e) {
        var n = t + ""
          , r = n.length;
        return r < e ? new Array(e - r + 1).join(0) + n : n
    }
    function l(t) {
        var e, n = t.getUTCHours(), r = t.getUTCMinutes(), i = t.getUTCSeconds(), o = t.getUTCMilliseconds();
        return isNaN(t) ? "Invalid Date" : ((e = t.getUTCFullYear()) < 0 ? "-" + f(-e, 6) : e > 9999 ? "+" + f(e, 6) : f(e, 4)) + "-" + f(t.getUTCMonth() + 1, 2) + "-" + f(t.getUTCDate(), 2) + (o ? "T" + f(n, 2) + ":" + f(r, 2) + ":" + f(i, 2) + "." + f(o, 3) + "Z" : i ? "T" + f(n, 2) + ":" + f(r, 2) + ":" + f(i, 2) + "Z" : r || n ? "T" + f(n, 2) + ":" + f(r, 2) + "Z" : "")
    }
    e.a = function(t) {
        var e = new RegExp('["' + t + "\n\r]")
          , n = t.charCodeAt(0);
        function f(t, e) {
            var u, c = [], f = t.length, l = 0, h = 0, d = f <= 0, p = !1;
            function m() {
                if (d)
                    return i;
                if (p)
                    return p = !1,
                    r;
                var e, u, c = l;
                if (t.charCodeAt(c) === o) {
                    for (; l++ < f && t.charCodeAt(l) !== o || t.charCodeAt(++l) === o; )
                        ;
                    return (e = l) >= f ? d = !0 : (u = t.charCodeAt(l++)) === a ? p = !0 : u === s && (p = !0,
                    t.charCodeAt(l) === a && ++l),
                    t.slice(c + 1, e - 1).replace(/""/g, '"')
                }
                for (; l < f; ) {
                    if ((u = t.charCodeAt(e = l++)) === a)
                        p = !0;
                    else if (u === s)
                        p = !0,
                        t.charCodeAt(l) === a && ++l;
                    else if (u !== n)
                        continue;
                    return t.slice(c, e)
                }
                return d = !0,
                t.slice(c, f)
            }
            for (t.charCodeAt(f - 1) === a && --f,
            t.charCodeAt(f - 1) === s && --f; (u = m()) !== i; ) {
                for (var v = []; u !== r && u !== i; )
                    v.push(u),
                    u = m();
                e && null == (v = e(v, h++)) || c.push(v)
            }
            return c
        }
        function h(e, n) {
            return e.map(function(e) {
                return n.map(function(t) {
                    return p(e[t])
                }).join(t)
            })
        }
        function d(e) {
            return e.map(p).join(t)
        }
        function p(t) {
            return null == t ? "" : t instanceof Date ? l(t) : e.test(t += "") ? '"' + t.replace(/"/g, '""') + '"' : t
        }
        return {
            parse: function(t, e) {
                var n, r, i = f(t, function(t, i) {
                    if (n)
                        return n(t, i - 1);
                    r = t,
                    n = e ? function(t, e) {
                        var n = u(t);
                        return function(r, i) {
                            return e(n(r), i, t)
                        }
                    }(t, e) : u(t)
                });
                return i.columns = r || [],
                i
            },
            parseRows: f,
            format: function(e, n) {
                return null == n && (n = c(e)),
                [n.map(p).join(t)].concat(h(e, n)).join("\n")
            },
            formatBody: function(t, e) {
                return null == e && (e = c(t)),
                h(t, e).join("\n")
            },
            formatRows: function(t) {
                return t.map(d).join("\n")
            }
        }
    }
}
, function(t, e, n) {
    "use strict";
    function r(t) {
        if (!t.ok)
            throw new Error(t.status + " " + t.statusText);
        return t.text()
    }
    e.a = function(t, e) {
        return fetch(t, e).then(r)
    }
}
, function(t, e, n) {
    "use strict";
    e.a = function() {
        return 1e-6 * (Math.random() - .5)
    }
}
, function(t, e, n) {
    "use strict";
    var r = n(333);
    n.d(e, "a", function() {
        return r.a
    })
}
, function(t, e, n) {
    "use strict";
    e.a = function(t, e, n, r, i) {
        this.node = t,
        this.x0 = e,
        this.y0 = n,
        this.x1 = r,
        this.y1 = i
    }
}
, function(t, e, n) {
    "use strict";
    var r = n(351);
    n.d(e, "b", function() {
        return r.a
    }),
    n.d(e, "a", function() {
        return r.b
    }),
    n.d(e, "d", function() {
        return r.c
    });
    var i = n(131);
    n.d(e, "c", function() {
        return i.a
    });
    var o = n(132);
    n.d(e, "e", function() {
        return o.a
    });
    var a = n(358);
    n.d(e, "f", function() {
        return a.a
    });
    var s = n(359);
    n.d(e, "g", function() {
        return s.a
    });
    var u = n(360);
    n.d(e, "h", function() {
        return u.a
    })
}
, function(t, e, n) {
    "use strict";
    e.a = function(t, e) {
        if ((n = (t = e ? t.toExponential(e - 1) : t.toExponential()).indexOf("e")) < 0)
            return null;
        var n, r = t.slice(0, n);
        return [r.length > 1 ? r[0] + r.slice(2) : r, +t.slice(n + 1)]
    }
}
, function(t, e, n) {
    "use strict";
    e.a = function(t) {
        return t
    }
}
, function(t, e, n) {
    "use strict";
    e.a = a;
    var r = n(0)
      , i = n(76)
      , o = n(377);
    function a(t, e) {
        var n = Object(r.t)(t)
          , i = (n + Object(r.t)(e)) / 2;
        if (Object(r.a)(i) < r.i)
            return Object(o.a)(t);
        var a = 1 + n * (2 * i - n)
          , s = Object(r.u)(a) / i;
        function u(t, e) {
            var n = Object(r.u)(a - 2 * i * Object(r.t)(e)) / i;
            return [n * Object(r.t)(t *= i), s - n * Object(r.g)(t)]
        }
        return u.invert = function(t, e) {
            var n = s - e;
            return [Object(r.e)(t, Object(r.a)(n)) / i * Object(r.s)(n), Object(r.c)((a - (t * t + n * n) * i * i) / (2 * i))]
        }
        ,
        u
    }
    e.b = function() {
        return Object(i.a)(a).scale(155.424).center([0, 33.6442])
    }
}
, function(t, e, n) {
    "use strict";
    e.a = function(t) {
        var e = 0
          , n = r.o / 3
          , o = Object(i.b)(t)
          , a = o(e, n);
        return a.parallels = function(t) {
            return arguments.length ? o(e = t[0] * r.r, n = t[1] * r.r) : [e * r.h, n * r.h]
        }
        ,
        a
    }
    ;
    var r = n(0)
      , i = n(10)
}
, function(t, e, n) {
    "use strict";
    e.a = a,
    e.c = function(t, e, n) {
        return a(t, [[0, 0], e], n)
    }
    ,
    e.d = function(t, e, n) {
        return o(t, function(n) {
            var r = +e
              , i = r / (n[1][0] - n[0][0])
              , o = (r - i * (n[1][0] + n[0][0])) / 2
              , a = -i * n[0][1];
            t.scale(150 * i).translate([o, a])
        }, n)
    }
    ,
    e.b = function(t, e, n) {
        return o(t, function(n) {
            var r = +e
              , i = r / (n[1][1] - n[0][1])
              , o = -i * n[0][0]
              , a = (r - i * (n[1][1] + n[0][1])) / 2;
            t.scale(150 * i).translate([o, a])
        }, n)
    }
    ;
    var r = n(17)
      , i = n(146);
    function o(t, e, n) {
        var o = t.clipExtent && t.clipExtent();
        return t.scale(150).translate([0, 0]),
        null != o && t.clipExtent(null),
        Object(r.a)(n, t.stream(i.a)),
        e(i.a.result()),
        null != o && t.clipExtent(o),
        t
    }
    function a(t, e, n) {
        return o(t, function(n) {
            var r = e[1][0] - e[0][0]
              , i = e[1][1] - e[0][1]
              , o = Math.min(r / (n[1][0] - n[0][0]), i / (n[1][1] - n[0][1]))
              , a = +e[0][0] + (r - o * (n[1][0] + n[0][0])) / 2
              , s = +e[0][1] + (i - o * (n[1][1] + n[0][1])) / 2;
            t.scale(150 * o).translate([a, s])
        }, n)
    }
}
, function(t, e, n) {
    "use strict";
    e.c = a,
    e.b = s;
    var r = n(0)
      , i = n(42)
      , o = n(10);
    function a(t, e) {
        return [t, Object(r.n)(Object(r.v)((r.l + e) / 2))]
    }
    function s(t) {
        var e, n, s, u = Object(o.a)(t), c = u.center, f = u.scale, l = u.translate, h = u.clipExtent, d = null;
        function p() {
            var o = r.o * f()
              , c = u(Object(i.a)(u.rotate()).invert([0, 0]));
            return h(null == d ? [[c[0] - o, c[1] - o], [c[0] + o, c[1] + o]] : t === a ? [[Math.max(c[0] - o, d), e], [Math.min(c[0] + o, n), s]] : [[d, Math.max(c[1] - o, e)], [n, Math.min(c[1] + o, s)]])
        }
        return u.scale = function(t) {
            return arguments.length ? (f(t),
            p()) : f()
        }
        ,
        u.translate = function(t) {
            return arguments.length ? (l(t),
            p()) : l()
        }
        ,
        u.center = function(t) {
            return arguments.length ? (c(t),
            p()) : c()
        }
        ,
        u.clipExtent = function(t) {
            return arguments.length ? (null == t ? d = e = n = s = null : (d = +t[0][0],
            e = +t[0][1],
            n = +t[1][0],
            s = +t[1][1]),
            p()) : null == d ? null : [[d, e], [n, s]]
        }
        ,
        p()
    }
    a.invert = function(t, e) {
        return [t, 2 * Object(r.d)(Object(r.k)(e)) - r.l]
    }
    ,
    e.a = function() {
        return s(a).scale(961 / r.w)
    }
}
, function(t, e, n) {
    "use strict";
    e.c = p,
    e.b = g,
    e.a = y;
    var r = n(392)
      , i = n(393)
      , o = n(394)
      , a = n(395)
      , s = n(396)
      , u = n(397)
      , c = n(398)
      , f = n(399)
      , l = n(400)
      , h = n(401)
      , d = n(402);
    function p(t, e) {
        var n, r, i, o, a, s = new y(t), u = +t.value && (s.value = t.value), c = [s];
        for (null == e && (e = m); n = c.pop(); )
            if (u && (n.value = +n.data.value),
            (i = e(n.data)) && (a = i.length))
                for (n.children = new Array(a),
                o = a - 1; o >= 0; --o)
                    c.push(r = n.children[o] = new y(i[o])),
                    r.parent = n,
                    r.depth = n.depth + 1;
        return s.eachBefore(g)
    }
    function m(t) {
        return t.children
    }
    function v(t) {
        t.data = t.data.data
    }
    function g(t) {
        var e = 0;
        do {
            t.height = e
        } while ((t = t.parent) && t.height < ++e)
    }
    function y(t) {
        this.data = t,
        this.depth = this.height = 0,
        this.parent = null
    }
    y.prototype = p.prototype = {
        constructor: y,
        count: r.a,
        each: i.a,
        eachAfter: a.a,
        eachBefore: o.a,
        sum: s.a,
        sort: u.a,
        path: c.a,
        ancestors: f.a,
        descendants: l.a,
        leaves: h.a,
        links: d.a,
        copy: function() {
            return p(this).eachBefore(v)
        }
    }
}
, function(t, e, n) {
    "use strict";
    function r(t) {
        if ("function" != typeof t)
            throw new Error;
        return t
    }
    e.a = function(t) {
        return null == t ? null : r(t)
    }
    ,
    e.b = r
}
, function(t, e, n) {
    "use strict";
    n.d(e, "b", function() {
        return o
    }),
    e.c = a;
    var r = n(30)
      , i = n(45)
      , o = (1 + Math.sqrt(5)) / 2;
    function a(t, e, n, o, a, s) {
        for (var u, c, f, l, h, d, p, m, v, g, y, b = [], _ = e.children, x = 0, w = 0, M = _.length, E = e.value; x < M; ) {
            f = a - n,
            l = s - o;
            do {
                h = _[w++].value
            } while (!h && w < M);for (d = p = h,
            y = h * h * (g = Math.max(l / f, f / l) / (E * t)),
            v = Math.max(p / y, y / d); w < M; ++w) {
                if (h += c = _[w].value,
                c < d && (d = c),
                c > p && (p = c),
                y = h * h * g,
                (m = Math.max(p / y, y / d)) > v) {
                    h -= c;
                    break
                }
                v = m
            }
            b.push(u = {
                value: h,
                dice: f < l,
                children: _.slice(x, w)
            }),
            u.dice ? Object(r.a)(u, n, o, a, E ? o += l * h / E : s) : Object(i.a)(u, n, o, E ? n += f * h / E : a, s),
            E -= h,
            x = w
        }
        return b
    }
    e.a = function t(e) {
        function n(t, n, r, i, o) {
            a(e, t, n, r, i, o)
        }
        return n.ratio = function(e) {
            return t((e = +e) > 1 ? e : 1)
        }
        ,
        n
    }(o)
}
, function(t, e, n) {
    "use strict";
    e.b = p,
    e.a = function t() {
        var e = p(Object(a.d)()).domain([1, 10]);
        e.copy = function() {
            return Object(a.a)(e, t()).base(e.base())
        }
        ;
        s.b.apply(e, arguments);
        return e
    }
    ;
    var r = n(3)
      , i = n(72)
      , o = n(158)
      , a = n(15)
      , s = n(6);
    function u(t) {
        return Math.log(t)
    }
    function c(t) {
        return Math.exp(t)
    }
    function f(t) {
        return -Math.log(-t)
    }
    function l(t) {
        return -Math.exp(-t)
    }
    function h(t) {
        return isFinite(t) ? +("1e" + t) : t < 0 ? 0 : t
    }
    function d(t) {
        return function(e) {
            return -t(-e)
        }
    }
    function p(t) {
        var e, n, a = t(u, c), s = a.domain, p = 10;
        function m() {
            return e = function(t) {
                return t === Math.E ? Math.log : 10 === t && Math.log10 || 2 === t && Math.log2 || (t = Math.log(t),
                function(e) {
                    return Math.log(e) / t
                }
                )
            }(p),
            n = function(t) {
                return 10 === t ? h : t === Math.E ? Math.exp : function(e) {
                    return Math.pow(t, e)
                }
            }(p),
            s()[0] < 0 ? (e = d(e),
            n = d(n),
            t(f, l)) : t(u, c),
            a
        }
        return a.base = function(t) {
            return arguments.length ? (p = +t,
            m()) : p
        }
        ,
        a.domain = function(t) {
            return arguments.length ? (s(t),
            m()) : s()
        }
        ,
        a.ticks = function(t) {
            var i, o = s(), a = o[0], u = o[o.length - 1];
            (i = u < a) && (h = a,
            a = u,
            u = h);
            var c, f, l, h = e(a), d = e(u), m = null == t ? 10 : +t, v = [];
            if (!(p % 1) && d - h < m) {
                if (h = Math.round(h) - 1,
                d = Math.round(d) + 1,
                a > 0) {
                    for (; h < d; ++h)
                        for (f = 1,
                        c = n(h); f < p; ++f)
                            if (!((l = c * f) < a)) {
                                if (l > u)
                                    break;
                                v.push(l)
                            }
                } else
                    for (; h < d; ++h)
                        for (f = p - 1,
                        c = n(h); f >= 1; --f)
                            if (!((l = c * f) < a)) {
                                if (l > u)
                                    break;
                                v.push(l)
                            }
            } else
                v = Object(r.B)(h, d, Math.min(d - h, m)).map(n);
            return i ? v.reverse() : v
        }
        ,
        a.tickFormat = function(t, r) {
            if (null == r && (r = 10 === p ? ".0e" : ","),
            "function" != typeof r && (r = Object(i.a)(r)),
            t === 1 / 0)
                return r;
            null == t && (t = 10);
            var o = Math.max(1, p * t / a.ticks().length);
            return function(t) {
                var i = t / n(Math.round(e(t)));
                return i * p < p - .5 && (i *= p),
                i <= o ? r(t) : ""
            }
        }
        ,
        a.nice = function() {
            return s(Object(o.a)(s(), {
                floor: function(t) {
                    return n(Math.floor(e(t)))
                },
                ceil: function(t) {
                    return n(Math.ceil(e(t)))
                }
            }))
        }
        ,
        a
    }
}
, function(t, e, n) {
    "use strict";
    e.b = u,
    e.a = function t() {
        var e = u(Object(i.d)());
        e.copy = function() {
            return Object(i.a)(e, t()).constant(e.constant())
        }
        ;
        return o.b.apply(e, arguments)
    }
    ;
    var r = n(19)
      , i = n(15)
      , o = n(6);
    function a(t) {
        return function(e) {
            return Math.sign(e) * Math.log1p(Math.abs(e / t))
        }
    }
    function s(t) {
        return function(e) {
            return Math.sign(e) * Math.expm1(Math.abs(e)) * t
        }
    }
    function u(t) {
        var e = 1
          , n = t(a(e), s(e));
        return n.constant = function(n) {
            return arguments.length ? t(a(e = +n), s(e)) : e
        }
        ,
        Object(r.b)(n)
    }
}
, function(t, e, n) {
    "use strict";
    e.b = c,
    e.a = f,
    e.c = function() {
        return f.apply(null, arguments).exponent(.5)
    }
    ;
    var r = n(19)
      , i = n(15)
      , o = n(6);
    function a(t) {
        return function(e) {
            return e < 0 ? -Math.pow(-e, t) : Math.pow(e, t)
        }
    }
    function s(t) {
        return t < 0 ? -Math.sqrt(-t) : Math.sqrt(t)
    }
    function u(t) {
        return t < 0 ? -t * t : t * t
    }
    function c(t) {
        var e = t(i.c, i.c)
          , n = 1;
        return e.exponent = function(e) {
            return arguments.length ? 1 === (n = +e) ? t(i.c, i.c) : .5 === n ? t(s, u) : t(a(n), a(1 / n)) : n
        }
        ,
        Object(r.b)(e)
    }
    function f() {
        var t = c(Object(i.d)());
        return t.copy = function() {
            return Object(i.a)(t, f()).exponent(t.exponent())
        }
        ,
        o.b.apply(t, arguments),
        t
    }
}
, function(t, e, n) {
    "use strict";
    var r = n(86);
    n.d(e, "d", function() {
        return r.a
    }),
    n.d(e, "c", function() {
        return r.b
    }),
    n.d(e, "f", function() {
        return r.c
    }),
    n.d(e, "g", function() {
        return r.d
    }),
    n.d(e, "h", function() {
        return r.e
    });
    var i = n(160);
    n.d(e, "e", function() {
        return i.a
    });
    var o = n(161);
    n.d(e, "a", function() {
        return o.a
    });
    var a = n(445);
    n.d(e, "b", function() {
        return a.a
    })
}
, function(t, e, n) {
    "use strict";
    n.d(e, "b", function() {
        return i
    }),
    n.d(e, "c", function() {
        return o
    }),
    n.d(e, "d", function() {
        return a
    }),
    n.d(e, "e", function() {
        return s
    }),
    e.a = c;
    var r, i, o, a, s, u = n(160);
    function c(t) {
        return r = Object(u.a)(t),
        i = r.format,
        o = r.parse,
        a = r.utcFormat,
        s = r.utcParse,
        r
    }
    c({
        dateTime: "%x, %X",
        date: "%-m/%-d/%Y",
        time: "%-I:%M:%S %p",
        periods: ["AM", "PM"],
        days: ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"],
        shortDays: ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"],
        months: ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"],
        shortMonths: ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"]
    })
}
, function(t, e, n) {
    "use strict";
    var r = n(16)
      , i = n(20)
      , o = n(47)
      , a = n(88);
    e.a = function() {
        var t = a.a
          , e = a.b
          , n = Object(i.a)(!0)
          , s = null
          , u = o.a
          , c = null;
        function f(i) {
            var o, a, f, l = i.length, h = !1;
            for (null == s && (c = u(f = Object(r.a)())),
            o = 0; o <= l; ++o)
                !(o < l && n(a = i[o], o, i)) === h && ((h = !h) ? c.lineStart() : c.lineEnd()),
                h && c.point(+t(a, o, i), +e(a, o, i));
            if (f)
                return c = null,
                f + "" || null
        }
        return f.x = function(e) {
            return arguments.length ? (t = "function" == typeof e ? e : Object(i.a)(+e),
            f) : t
        }
        ,
        f.y = function(t) {
            return arguments.length ? (e = "function" == typeof t ? t : Object(i.a)(+t),
            f) : e
        }
        ,
        f.defined = function(t) {
            return arguments.length ? (n = "function" == typeof t ? t : Object(i.a)(!!t),
            f) : n
        }
        ,
        f.curve = function(t) {
            return arguments.length ? (u = t,
            null != s && (c = u(s)),
            f) : u
        }
        ,
        f.context = function(t) {
            return arguments.length ? (null == t ? s = c = null : c = u(s = t),
            f) : s
        }
        ,
        f
    }
}
, function(t, e, n) {
    "use strict";
    e.a = function(t) {
        return t[0]
    }
    ,
    e.b = function(t) {
        return t[1]
    }
}
, function(t, e, n) {
    "use strict";
    e.b = o;
    var r = n(31)
      , i = n(50);
    function o(t, e, n) {
        var i = t._x1
          , o = t._y1
          , a = t._x2
          , s = t._y2;
        if (t._l01_a > r.f) {
            var u = 2 * t._l01_2a + 3 * t._l01_a * t._l12_a + t._l12_2a
              , c = 3 * t._l01_a * (t._l01_a + t._l12_a);
            i = (i * u - t._x0 * t._l12_2a + t._x2 * t._l01_2a) / c,
            o = (o * u - t._y0 * t._l12_2a + t._y2 * t._l01_2a) / c
        }
        if (t._l23_a > r.f) {
            var f = 2 * t._l23_2a + 3 * t._l23_a * t._l12_a + t._l12_2a
              , l = 3 * t._l23_a * (t._l23_a + t._l12_a);
            a = (a * f + t._x1 * t._l23_2a - e * t._l12_2a) / l,
            s = (s * f + t._y1 * t._l23_2a - n * t._l12_2a) / l
        }
        t._context.bezierCurveTo(i, o, a, s, t._x2, t._y2)
    }
    function a(t, e) {
        this._context = t,
        this._alpha = e
    }
    a.prototype = {
        areaStart: function() {
            this._line = 0
        },
        areaEnd: function() {
            this._line = NaN
        },
        lineStart: function() {
            this._x0 = this._x1 = this._x2 = this._y0 = this._y1 = this._y2 = NaN,
            this._l01_a = this._l12_a = this._l23_a = this._l01_2a = this._l12_2a = this._l23_2a = this._point = 0
        },
        lineEnd: function() {
            switch (this._point) {
            case 2:
                this._context.lineTo(this._x2, this._y2);
                break;
            case 3:
                this.point(this._x2, this._y2)
            }
            (this._line || 0 !== this._line && 1 === this._point) && this._context.closePath(),
            this._line = 1 - this._line
        },
        point: function(t, e) {
            if (t = +t,
            e = +e,
            this._point) {
                var n = this._x2 - t
                  , r = this._y2 - e;
                this._l23_a = Math.sqrt(this._l23_2a = Math.pow(n * n + r * r, this._alpha))
            }
            switch (this._point) {
            case 0:
                this._point = 1,
                this._line ? this._context.lineTo(t, e) : this._context.moveTo(t, e);
                break;
            case 1:
                this._point = 2;
                break;
            case 2:
                this._point = 3;
            default:
                o(this, t, e)
            }
            this._l01_a = this._l12_a,
            this._l12_a = this._l23_a,
            this._l01_2a = this._l12_2a,
            this._l12_2a = this._l23_2a,
            this._x0 = this._x1,
            this._x1 = this._x2,
            this._x2 = t,
            this._y0 = this._y1,
            this._y1 = this._y2,
            this._y2 = e
        }
    },
    e.a = function t(e) {
        function n(t) {
            return e ? new a(t,e) : new i.a(t,0)
        }
        return n.alpha = function(e) {
            return t(+e)
        }
        ,
        n
    }(.5)
}
, function(t, e, n) {
    "use strict";
    e.b = i;
    var r = n(33);
    function i(t) {
        for (var e, n = 0, r = -1, i = t.length; ++r < i; )
            (e = +t[r][1]) && (n += e);
        return n
    }
    e.a = function(t) {
        var e = t.map(i);
        return Object(r.a)(t).sort(function(t, n) {
            return e[t] - e[n]
        })
    }
}
, function(t, e, n) {
    "use strict";
    function r() {
        this._ = null
    }
    function i(t, e) {
        var n = e
          , r = e.R
          , i = n.U;
        i ? i.L === n ? i.L = r : i.R = r : t._ = r,
        r.U = i,
        n.U = r,
        n.R = r.L,
        n.R && (n.R.U = n),
        r.L = n
    }
    function o(t, e) {
        var n = e
          , r = e.L
          , i = n.U;
        i ? i.L === n ? i.L = r : i.R = r : t._ = r,
        r.U = i,
        n.U = r,
        n.L = r.R,
        n.L && (n.L.U = n),
        r.R = n
    }
    function a(t) {
        for (; t.L; )
            t = t.L;
        return t
    }
    e.a = function(t) {
        t.U = t.C = t.L = t.R = t.P = t.N = null
    }
    ,
    r.prototype = {
        constructor: r,
        insert: function(t, e) {
            var n, r, s;
            if (t) {
                if (e.P = t,
                e.N = t.N,
                t.N && (t.N.P = e),
                t.N = e,
                t.R) {
                    for (t = t.R; t.L; )
                        t = t.L;
                    t.L = e
                } else
                    t.R = e;
                n = t
            } else
                this._ ? (t = a(this._),
                e.P = null,
                e.N = t,
                t.P = t.L = e,
                n = t) : (e.P = e.N = null,
                this._ = e,
                n = null);
            for (e.L = e.R = null,
            e.U = n,
            e.C = !0,
            t = e; n && n.C; )
                n === (r = n.U).L ? (s = r.R) && s.C ? (n.C = s.C = !1,
                r.C = !0,
                t = r) : (t === n.R && (i(this, n),
                n = (t = n).U),
                n.C = !1,
                r.C = !0,
                o(this, r)) : (s = r.L) && s.C ? (n.C = s.C = !1,
                r.C = !0,
                t = r) : (t === n.L && (o(this, n),
                n = (t = n).U),
                n.C = !1,
                r.C = !0,
                i(this, r)),
                n = t.U;
            this._.C = !1
        },
        remove: function(t) {
            t.N && (t.N.P = t.P),
            t.P && (t.P.N = t.N),
            t.N = t.P = null;
            var e, n, r, s = t.U, u = t.L, c = t.R;
            if (n = u ? c ? a(c) : u : c,
            s ? s.L === t ? s.L = n : s.R = n : this._ = n,
            u && c ? (r = n.C,
            n.C = t.C,
            n.L = u,
            u.U = n,
            n !== c ? (s = n.U,
            n.U = t.U,
            t = n.R,
            s.L = t,
            n.R = c,
            c.U = n) : (n.U = s,
            s = n,
            t = n.R)) : (r = t.C,
            t = n),
            t && (t.U = s),
            !r)
                if (t && t.C)
                    t.C = !1;
                else {
                    do {
                        if (t === this._)
                            break;
                        if (t === s.L) {
                            if ((e = s.R).C && (e.C = !1,
                            s.C = !0,
                            i(this, s),
                            e = s.R),
                            e.L && e.L.C || e.R && e.R.C) {
                                e.R && e.R.C || (e.L.C = !1,
                                e.C = !0,
                                o(this, e),
                                e = s.R),
                                e.C = s.C,
                                s.C = e.R.C = !1,
                                i(this, s),
                                t = this._;
                                break
                            }
                        } else if ((e = s.L).C && (e.C = !1,
                        s.C = !0,
                        o(this, s),
                        e = s.L),
                        e.L && e.L.C || e.R && e.R.C) {
                            e.L && e.L.C || (e.R.C = !1,
                            e.C = !0,
                            i(this, e),
                            e = s.L),
                            e.C = s.C,
                            s.C = e.L.C = !1,
                            o(this, s),
                            t = this._;
                            break
                        }
                        e.C = !0,
                        t = s,
                        s = s.U
                    } while (!t.C);t && (t.C = !1)
                }
        }
    },
    e.b = r
}
, function(t, e, n) {
    "use strict";
    e.c = function(t, e, n, o) {
        var a = [null, null]
          , s = r.e.push(a) - 1;
        a.left = t,
        a.right = e,
        n && i(a, t, e, n);
        o && i(a, e, t, o);
        return r.b[t.index].halfedges.push(s),
        r.b[e.index].halfedges.push(s),
        a
    }
    ,
    e.b = function(t, e, n) {
        var r = [e, n];
        return r.left = t,
        r
    }
    ,
    e.d = i,
    e.a = function(t, e, n, i) {
        var s, u = r.e.length;
        for (; u--; )
            a(s = r.e[u], t, e, n, i) && o(s, t, e, n, i) && (Math.abs(s[0][0] - s[1][0]) > r.f || Math.abs(s[0][1] - s[1][1]) > r.f) || delete r.e[u]
    }
    ;
    var r = n(34);
    function i(t, e, n, r) {
        t[0] || t[1] ? t.left === n ? t[1] = r : t[0] = r : (t[0] = r,
        t.left = e,
        t.right = n)
    }
    function o(t, e, n, r, i) {
        var o, a = t[0], s = t[1], u = a[0], c = a[1], f = 0, l = 1, h = s[0] - u, d = s[1] - c;
        if (o = e - u,
        h || !(o > 0)) {
            if (o /= h,
            h < 0) {
                if (o < f)
                    return;
                o < l && (l = o)
            } else if (h > 0) {
                if (o > l)
                    return;
                o > f && (f = o)
            }
            if (o = r - u,
            h || !(o < 0)) {
                if (o /= h,
                h < 0) {
                    if (o > l)
                        return;
                    o > f && (f = o)
                } else if (h > 0) {
                    if (o < f)
                        return;
                    o < l && (l = o)
                }
                if (o = n - c,
                d || !(o > 0)) {
                    if (o /= d,
                    d < 0) {
                        if (o < f)
                            return;
                        o < l && (l = o)
                    } else if (d > 0) {
                        if (o > l)
                            return;
                        o > f && (f = o)
                    }
                    if (o = i - c,
                    d || !(o < 0)) {
                        if (o /= d,
                        d < 0) {
                            if (o > l)
                                return;
                            o > f && (f = o)
                        } else if (d > 0) {
                            if (o < f)
                                return;
                            o < l && (l = o)
                        }
                        return !(f > 0 || l < 1) || (f > 0 && (t[0] = [u + f * h, c + f * d]),
                        l < 1 && (t[1] = [u + l * h, c + l * d]),
                        !0)
                    }
                }
            }
        }
    }
    function a(t, e, n, r, i) {
        var o = t[1];
        if (o)
            return !0;
        var a, s, u = t[0], c = t.left, f = t.right, l = c[0], h = c[1], d = f[0], p = f[1], m = (l + d) / 2, v = (h + p) / 2;
        if (p === h) {
            if (m < e || m >= r)
                return;
            if (l > d) {
                if (u) {
                    if (u[1] >= i)
                        return
                } else
                    u = [m, n];
                o = [m, i]
            } else {
                if (u) {
                    if (u[1] < n)
                        return
                } else
                    u = [m, i];
                o = [m, n]
            }
        } else if (s = v - (a = (l - d) / (p - h)) * m,
        a < -1 || a > 1)
            if (l > d) {
                if (u) {
                    if (u[1] >= i)
                        return
                } else
                    u = [(n - s) / a, n];
                o = [(i - s) / a, i]
            } else {
                if (u) {
                    if (u[1] < n)
                        return
                } else
                    u = [(i - s) / a, i];
                o = [(n - s) / a, n]
            }
        else if (h < p) {
            if (u) {
                if (u[0] >= r)
                    return
            } else
                u = [e, a * e + s];
            o = [r, a * r + s]
        } else {
            if (u) {
                if (u[0] < e)
                    return
            } else
                u = [r, a * r + s];
            o = [e, a * e + s]
        }
        return t[0] = u,
        t[1] = o,
        !0
    }
}
, function(t, e, n) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    }),
    e.Colors = e.GraphLayout = e.D3Sliders = e.MenuVisible = e.Playback = e.DebugFlags = e.Config = void 0;
    var r = function(t) {
        if (t && t.__esModule)
            return t;
        var e = {};
        if (null != t)
            for (var n in t)
                Object.prototype.hasOwnProperty.call(t, n) && (e[n] = t[n]);
        return e.default = t,
        e
    }(n(51));
    var i = !("undefined" != typeof WorkerGlobalScope && self instanceof WorkerGlobalScope) && /^\/records/gi.test(window.location.pathname)
      , o = {
        canRecord: i,
        isCollaborate: /^\/collaborate/gi.test(self.location.pathname),
        isShare: /^\/share\/[0-9a-z]{22,}\/.+/.test(self.location.pathname),
        isDebug: /debug/gi.test(self.location.hash),
        layoutEngine: i ? "d3-3D" : "worker",
        force2d: !0,
        graphDirectional: !0,
        numEdgeSize: 5,
        edgeDegreeThreshold: [0, 2, 4, 8, 16, 1e6],
        edgeThickness: [1, 2, 4, 8, 16, 32],
        pageItems: 25,
        pointerReachDistance: 4,
        nodeSizeScale: 1,
        freezNode: !0,
        edgeDefaultAlpha: .6
    };
    o.nodeSizeScale = "d3" == o.layoutEngine ? 12 : 1;
    var a = {
        showAxis: !0
    }
      , s = {
        advance_days: 1,
        duration: 10,
        play_pause: 2e3
    }
      , u = {
        company: {
            name: !0,
            vendors: !0,
            id: !0,
            collaborators: !0,
            accounts: !0
        },
        layout: {
            physics: !0,
            linkDegree: !0,
            edgeBundle: !0,
            downloads: !0
        },
        help: {
            playback: !0,
            music: !0,
            capture: !0,
            contact: !0,
            leaf: !0,
            edge: !0,
            messageCloud: !0,
            tags: !0
        },
        node: {
            internal: {
                email: !0,
                id: !0,
                role: !0,
                companyName: !1,
                companyId: !0,
                actions: !0,
                activity: !0,
                notes: !0
            },
            external: {
                email: !0,
                id: !0,
                role: !0,
                companyName: !0,
                companyId: !0,
                actions: !0,
                activity: !0,
                notes: !0
            }
        }
    }
      , c = {
        linkStrength: {
            name: "Link strength",
            min: .01,
            max: 3,
            defaultValue: 1,
            step: .01
        },
        linkDistance: {
            name: "Link distance",
            min: 0,
            max: 1.5,
            defaultValue: .5,
            step: .1
        },
        charge: {
            name: "Charge",
            min: -.02,
            max: -.001,
            defaultValue: -.01,
            step: .001
        },
        gravity: {
            name: "Gravity",
            min: .001,
            max: .5,
            defaultValue: .2,
            step: .001
        },
        friction: { // 
            name: "Friction",
            min: 0,
            max: 1,
            defaultValue: .3,
            step: .01
        },
        heightCompress: {
            name: "HeightCompress",
            min: 1,
            max: 30,
            defaultValue: 1,
            step: 1
        }
    }
      , f = {
        force2d: !0,
        width: 1,
        height: 1,
        iterations: 1e4,
        pcscale: .02,
        attraction: 336.7,
        repulsion: 1.45,
        pointSize: .5,
        lineSize: 1,
        gravity_center: new r.Vector3(0,0,0),
        gravity: .03,
        skip: 0,
        degreeFilter: {
            active: !0,
            min: 0,
            max: 100,
            from: 0,
            to: 100
        },
        edgeBundle: {
            stepSize: {
                name: "Step Size",
                min: 0,
                max: 1,
                defaultValue: .2,
                step: .01
            },
            compatibilityThreshold: {
                name: "Compatibility Threshold",
                min: 0,
                max: 1,
                defaultValue: .4,
                step: .01
            }
        },
        genNodesReportFunc: null,
        getNodeKeysMap: null,
        updateGraphNodeWithIds: null,
        updateGraphNodeHighlightWithId: null,
        genEdgesReportFunc: null,
        getEdgeKeysMap: null,
        updateGraphEdgeWithIds: null,
        updateGraphEdgeHighlightWithId: null
    }
      , l = {
        background: 1316898,
        clear_alpha: 1,
        msaaRenderPass_sample_level: 2,
        internal: new r.Color(4754148),
        external: new r.Color(16099072),
        send_only: new r.Color(8378624),
        receive_only: new r.Color(13631503),
        send_and_receive: new r.Color(8789),
        edge: new r.Color(8421504),
        edge_alpha: .8,
        mouseoverHighlightNode: .85
    };
    e.Config = o,
    e.DebugFlags = a,
    e.Playback = s,
    e.MenuVisible = u,
    e.D3Sliders = c,
    e.GraphLayout = f,
    e.Colors = l,
    e.default = {
        config: o,
        debugFlags: a,
        playback: s,
        menuVisible: u,
        d3Sliders: c,
        graphLayout: f,
        colors: l
    }
}
, function(t, e, n) {
    "use strict";
    n.d(e, "b", function() {
        return a
    }),
    n.d(e, "a", function() {
        return s
    });
    var r = n(21)
      , i = n(95)
      , o = Object(i.a)(r.a)
      , a = o.right
      , s = o.left;
    e.c = a
}
, function(t, e, n) {
    "use strict";
    var r = n(21);
    e.a = function(t) {
        var e;
        return 1 === t.length && (e = t,
        t = function(t, n) {
            return Object(r.a)(e(t), n)
        }
        ),
        {
            left: function(e, n, r, i) {
                for (null == r && (r = 0),
                null == i && (i = e.length); r < i; ) {
                    var o = r + i >>> 1;
                    t(e[o], n) < 0 ? r = o + 1 : i = o
                }
                return r
            },
            right: function(e, n, r, i) {
                for (null == r && (r = 0),
                null == i && (i = e.length); r < i; ) {
                    var o = r + i >>> 1;
                    t(e[o], n) > 0 ? i = o : r = o + 1
                }
                return r
            }
        }
    }
}
, function(t, e, n) {
    "use strict";
    function r(t, e) {
        return [t, e]
    }
    e.b = r,
    e.a = function(t, e) {
        null == e && (e = r);
        for (var n = 0, i = t.length - 1, o = t[0], a = new Array(i < 0 ? 0 : i); n < i; )
            a[n] = e(o, o = t[++n]);
        return a
    }
}
, function(t, e, n) {
    "use strict";
    var r = n(98);
    e.a = function(t, e) {
        var n = Object(r.a)(t, e);
        return n ? Math.sqrt(n) : n
    }
}
, function(t, e, n) {
    "use strict";
    var r = n(27);
    e.a = function(t, e) {
        var n, i, o = t.length, a = 0, s = -1, u = 0, c = 0;
        if (null == e)
            for (; ++s < o; )
                isNaN(n = Object(r.a)(t[s])) || (c += (i = n - u) * (n - (u += i / ++a)));
        else
            for (; ++s < o; )
                isNaN(n = Object(r.a)(e(t[s], s, t))) || (c += (i = n - u) * (n - (u += i / ++a)));
        if (a > 1)
            return c / (a - 1)
    }
}
, function(t, e, n) {
    "use strict";
    e.a = function(t, e) {
        var n, r, i, o = t.length, a = -1;
        if (null == e) {
            for (; ++a < o; )
                if (null != (n = t[a]) && n >= n)
                    for (r = i = n; ++a < o; )
                        null != (n = t[a]) && (r > n && (r = n),
                        i < n && (i = n))
        } else
            for (; ++a < o; )
                if (null != (n = e(t[a], a, t)) && n >= n)
                    for (r = i = n; ++a < o; )
                        null != (n = e(t[a], a, t)) && (r > n && (r = n),
                        i < n && (i = n));
        return [r, i]
    }
}
, function(t, e, n) {
    "use strict";
    n.d(e, "b", function() {
        return i
    }),
    n.d(e, "a", function() {
        return o
    });
    var r = Array.prototype
      , i = r.slice
      , o = r.map
}
, function(t, e, n) {
    "use strict";
    e.a = function(t, e, n) {
        t = +t,
        e = +e,
        n = (i = arguments.length) < 2 ? (e = t,
        t = 0,
        1) : i < 3 ? 1 : +n;
        for (var r = -1, i = 0 | Math.max(0, Math.ceil((e - t) / n)), o = new Array(i); ++r < i; )
            o[r] = t + r * n;
        return o
    }
}
, function(t, e, n) {
    "use strict";
    e.b = a,
    e.c = function(t, e, n) {
        var a = Math.abs(e - t) / Math.max(0, n)
          , s = Math.pow(10, Math.floor(Math.log(a) / Math.LN10))
          , u = a / s;
        u >= r ? s *= 10 : u >= i ? s *= 5 : u >= o && (s *= 2);
        return e < t ? -s : s
    }
    ;
    var r = Math.sqrt(50)
      , i = Math.sqrt(10)
      , o = Math.sqrt(2);
    function a(t, e, n) {
        var a = (e - t) / Math.max(0, n)
          , s = Math.floor(Math.log(a) / Math.LN10)
          , u = a / Math.pow(10, s);
        return s >= 0 ? (u >= r ? 10 : u >= i ? 5 : u >= o ? 2 : 1) * Math.pow(10, s) : -Math.pow(10, -s) / (u >= r ? 10 : u >= i ? 5 : u >= o ? 2 : 1)
    }
    e.a = function(t, e, n) {
        var r, i, o, s, u = -1;
        if (n = +n,
        (t = +t) === (e = +e) && n > 0)
            return [t];
        if ((r = e < t) && (i = t,
        t = e,
        e = i),
        0 === (s = a(t, e, n)) || !isFinite(s))
            return [];
        if (s > 0)
            for (t = Math.ceil(t / s),
            e = Math.floor(e / s),
            o = new Array(i = Math.ceil(e - t + 1)); ++u < i; )
                o[u] = (t + u) * s;
        else
            for (t = Math.floor(t * s),
            e = Math.ceil(e * s),
            o = new Array(i = Math.ceil(t - e + 1)); ++u < i; )
                o[u] = (t - u) / s;
        return r && o.reverse(),
        o
    }
}
, function(t, e, n) {
    "use strict";
    e.a = function(t) {
        return Math.ceil(Math.log(t.length) / Math.LN2) + 1
    }
}
, function(t, e, n) {
    "use strict";
    e.a = function(t, e) {
        var n, r, i = t.length, o = -1;
        if (null == e) {
            for (; ++o < i; )
                if (null != (n = t[o]) && n >= n)
                    for (r = n; ++o < i; )
                        null != (n = t[o]) && r > n && (r = n)
        } else
            for (; ++o < i; )
                if (null != (n = e(t[o], o, t)) && n >= n)
                    for (r = n; ++o < i; )
                        null != (n = e(t[o], o, t)) && r > n && (r = n);
        return r
    }
}
, function(t, e, n) {
    "use strict";
    var r = n(104);
    function i(t) {
        return t.length
    }
    e.a = function(t) {
        if (!(a = t.length))
            return [];
        for (var e = -1, n = Object(r.a)(t, i), o = new Array(n); ++e < n; )
            for (var a, s = -1, u = o[e] = new Array(a); ++s < a; )
                u[s] = t[s][e];
        return o
    }
}
, function(t, e, n) {
    "use strict";
    var r = n(8);
    e.a = function(t) {
        return "string" == typeof t ? new r.a([[document.querySelector(t)]],[document.documentElement]) : new r.a([[t]],r.c)
    }
}
, function(t, e, n) {
    "use strict";
    function r() {
        return []
    }
    e.a = function(t) {
        return null == t ? r : function() {
            return this.querySelectorAll(t)
        }
    }
}
, function(t, e, n) {
    "use strict";
    e.a = function(t) {
        return function() {
            return this.matches(t)
        }
    }
}
, function(t, e, n) {
    "use strict";
    e.a = o;
    var r = n(110)
      , i = n(8);
    function o(t, e) {
        this.ownerDocument = t.ownerDocument,
        this.namespaceURI = t.namespaceURI,
        this._next = null,
        this._parent = t,
        this.__data__ = e
    }
    e.b = function() {
        return new i.a(this._enter || this._groups.map(r.a),this._parents)
    }
    ,
    o.prototype = {
        constructor: o,
        appendChild: function(t) {
            return this._parent.insertBefore(t, this._next)
        },
        insertBefore: function(t, e) {
            return this._parent.insertBefore(t, e)
        },
        querySelector: function(t) {
            return this._parent.querySelector(t)
        },
        querySelectorAll: function(t) {
            return this._parent.querySelectorAll(t)
        }
    }
}
, function(t, e, n) {
    "use strict";
    e.a = function(t) {
        return new Array(t.length)
    }
}
, function(t, e, n) {
    "use strict";
    e.b = i;
    var r = n(57);
    function i(t, e) {
        return t.style.getPropertyValue(e) || Object(r.a)(t).getComputedStyle(t, null).getPropertyValue(e)
    }
    e.a = function(t, e, n) {
        return arguments.length > 1 ? this.each((null == e ? function(t) {
            return function() {
                this.style.removeProperty(t)
            }
        }
        : "function" == typeof e ? function(t, e, n) {
            return function() {
                var r = e.apply(this, arguments);
                null == r ? this.style.removeProperty(t) : this.style.setProperty(t, r, n)
            }
        }
        : function(t, e, n) {
            return function() {
                this.style.setProperty(t, e, n)
            }
        }
        )(t, e, null == n ? "" : n)) : i(this.node(), t)
    }
}
, function(t, e, n) {
    "use strict";
    e.b = function(t, e) {
        var n = t.document.documentElement
          , o = Object(r.k)(t).on("dragstart.drag", null);
        e && (o.on("click.drag", i.a, !0),
        setTimeout(function() {
            o.on("click.drag", null)
        }, 0));
        "onselectstart"in n ? o.on("selectstart.drag", null) : (n.style.MozUserSelect = n.__noselect,
        delete n.__noselect)
    }
    ;
    var r = n(4)
      , i = n(113);
    e.a = function(t) {
        var e = t.document.documentElement
          , n = Object(r.k)(t).on("dragstart.drag", i.a, !0);
        "onselectstart"in e ? n.on("selectstart.drag", i.a, !0) : (e.__noselect = e.style.MozUserSelect,
        e.style.MozUserSelect = "none")
    }
}
, function(t, e, n) {
    "use strict";
    e.b = function() {
        r.e.stopImmediatePropagation()
    }
    ;
    var r = n(4);
    e.a = function() {
        r.e.preventDefault(),
        r.e.stopImmediatePropagation()
    }
}
, function(t, e, n) {
    "use strict";
    n.d(e, "a", function() {
        return r
    }),
    n.d(e, "b", function() {
        return i
    });
    var r = Math.PI / 180
      , i = 180 / Math.PI
}
, function(t, e, n) {
    "use strict";
    n.d(e, "b", function() {
        return u
    }),
    n.d(e, "c", function() {
        return c
    });
    var r = n(9)
      , i = n(63)
      , o = n(116)
      , a = n(23);
    function s(t) {
        return function(e) {
            var n, i, o = e.length, a = new Array(o), s = new Array(o), u = new Array(o);
            for (n = 0; n < o; ++n)
                i = Object(r.h)(e[n]),
                a[n] = i.r || 0,
                s[n] = i.g || 0,
                u[n] = i.b || 0;
            return a = t(a),
            s = t(s),
            u = t(u),
            i.opacity = 1,
            function(t) {
                return i.r = a(t),
                i.g = s(t),
                i.b = u(t),
                i + ""
            }
        }
    }
    e.a = function t(e) {
        var n = Object(a.b)(e);
        function i(t, e) {
            var i = n((t = Object(r.h)(t)).r, (e = Object(r.h)(e)).r)
              , o = n(t.g, e.g)
              , s = n(t.b, e.b)
              , u = Object(a.a)(t.opacity, e.opacity);
            return function(e) {
                return t.r = i(e),
                t.g = o(e),
                t.b = s(e),
                t.opacity = u(e),
                t + ""
            }
        }
        return i.gamma = t,
        i
    }(1);
    var u = s(i.b)
      , c = s(o.a)
}
, function(t, e, n) {
    "use strict";
    var r = n(63);
    e.a = function(t) {
        var e = t.length;
        return function(n) {
            var i = Math.floor(((n %= 1) < 0 ? ++n : n) * e)
              , o = t[(i + e - 1) % e]
              , a = t[i % e]
              , s = t[(i + 1) % e]
              , u = t[(i + 2) % e];
            return Object(r.a)((n - i / e) * e, o, a, s, u)
        }
    }
}
, function(t, e, n) {
    "use strict";
    e.a = function(t) {
        return function() {
            return t
        }
    }
}
, function(t, e, n) {
    "use strict";
    var r = n(60);
    e.a = function(t, e) {
        var n, i = e ? e.length : 0, o = t ? Math.min(i, t.length) : 0, a = new Array(o), s = new Array(i);
        for (n = 0; n < o; ++n)
            a[n] = Object(r.a)(t[n], e[n]);
        for (; n < i; ++n)
            s[n] = e[n];
        return function(t) {
            for (n = 0; n < o; ++n)
                s[n] = a[n](t);
            return s
        }
    }
}
, function(t, e, n) {
    "use strict";
    e.a = function(t, e) {
        var n = new Date;
        return e -= t = +t,
        function(r) {
            return n.setTime(t + e * r),
            n
        }
    }
}
, function(t, e, n) {
    "use strict";
    var r = n(60);
    e.a = function(t, e) {
        var n, i = {}, o = {};
        for (n in null !== t && "object" == typeof t || (t = {}),
        null !== e && "object" == typeof e || (e = {}),
        e)
            n in t ? i[n] = Object(r.a)(t[n], e[n]) : o[n] = e[n];
        return function(t) {
            for (n in i)
                o[n] = i[n](t);
            return o
        }
    }
}
, function(t, e, n) {
    "use strict";
    var r = n(37)
      , i = /[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g
      , o = new RegExp(i.source,"g");
    e.a = function(t, e) {
        var n, a, s, u = i.lastIndex = o.lastIndex = 0, c = -1, f = [], l = [];
        for (t += "",
        e += ""; (n = i.exec(t)) && (a = o.exec(e)); )
            (s = a.index) > u && (s = e.slice(u, s),
            f[c] ? f[c] += s : f[++c] = s),
            (n = n[0]) === (a = a[0]) ? f[c] ? f[c] += a : f[++c] = a : (f[++c] = null,
            l.push({
                i: c,
                x: Object(r.a)(n, a)
            })),
            u = o.lastIndex;
        return u < e.length && (s = e.slice(u),
        f[c] ? f[c] += s : f[++c] = s),
        f.length < 2 ? l[0] ? function(t) {
            return function(e) {
                return t(e) + ""
            }
        }(l[0].x) : function(t) {
            return function() {
                return t
            }
        }(e) : (e = l.length,
        function(t) {
            for (var n, r = 0; r < e; ++r)
                f[(n = l[r]).i] = n.x(t);
            return f.join("")
        }
        )
    }
}
, function(t, e, n) {
    "use strict";
    var r = n(7);
    e.a = function(t, e) {
        var n, i, o, a = t.__transition, s = !0;
        if (a) {
            for (o in e = null == e ? null : e + "",
            a)
                (n = a[o]).name === e ? (i = n.state > r.d && n.state < r.b,
                n.state = r.a,
                n.timer.stop(),
                n.on.call(i ? "interrupt" : "cancel", t, t.__data__, n.index, n.group),
                delete a[o]) : s = !1;
            s && delete t.__transition
        }
    }
}
, function(t, e, n) {
    "use strict";
    var r = n(9)
      , i = n(11);
    e.a = function(t, e) {
        var n;
        return ("number" == typeof e ? i.o : e instanceof r.a ? i.q : (n = Object(r.a)(e)) ? (e = n,
        i.q) : i.u)(t, e)
    }
}
, function(t, e, n) {
    "use strict";
    var r = n(288);
    n.d(e, "y", function() {
        return r.a
    });
    var i = n(289);
    n.d(e, "D", function() {
        return i.b
    }),
    n.d(e, "E", function() {
        return i.a
    }),
    n.d(e, "G", function() {
        return i.c
    }),
    n.d(e, "F", function() {
        return i.b
    });
    var o = n(290);
    n.d(e, "m", function() {
        return o.b
    }),
    n.d(e, "n", function() {
        return o.a
    }),
    n.d(e, "p", function() {
        return o.c
    }),
    n.d(e, "o", function() {
        return o.b
    });
    var a = n(291);
    n.d(e, "z", function() {
        return a.b
    }),
    n.d(e, "A", function() {
        return a.a
    }),
    n.d(e, "C", function() {
        return a.c
    }),
    n.d(e, "B", function() {
        return a.b
    });
    var s = n(292);
    n.d(e, "H", function() {
        return s.b
    }),
    n.d(e, "I", function() {
        return s.a
    }),
    n.d(e, "K", function() {
        return s.c
    }),
    n.d(e, "J", function() {
        return s.b
    });
    var u = n(293);
    n.d(e, "u", function() {
        return u.b
    }),
    n.d(e, "v", function() {
        return u.a
    }),
    n.d(e, "x", function() {
        return u.c
    }),
    n.d(e, "w", function() {
        return u.b
    });
    var c = n(294);
    n.d(e, "i", function() {
        return c.b
    }),
    n.d(e, "j", function() {
        return c.a
    }),
    n.d(e, "l", function() {
        return c.c
    }),
    n.d(e, "k", function() {
        return c.b
    });
    var f = n(295);
    n.d(e, "e", function() {
        return f.c
    }),
    n.d(e, "f", function() {
        return f.a
    }),
    n.d(e, "h", function() {
        return f.c
    }),
    n.d(e, "g", function() {
        return f.b
    });
    var l = n(296);
    n.d(e, "a", function() {
        return l.b
    }),
    n.d(e, "b", function() {
        return l.a
    }),
    n.d(e, "d", function() {
        return l.c
    }),
    n.d(e, "c", function() {
        return l.b
    });
    var h = n(297);
    n.d(e, "q", function() {
        return h.c
    }),
    n.d(e, "r", function() {
        return h.a
    }),
    n.d(e, "t", function() {
        return h.c
    }),
    n.d(e, "s", function() {
        return h.b
    })
}
, function(t, e, n) {
    "use strict";
    n.d(e, "a", function() {
        return r
    }),
    n.d(e, "d", function() {
        return i
    }),
    n.d(e, "b", function() {
        return a
    }),
    n.d(e, "e", function() {
        return s
    }),
    n.d(e, "c", function() {
        return u
    });
    var r = Math.cos
      , i = Math.sin
      , o = Math.PI
      , a = o / 2
      , s = 2 * o
      , u = Math.max
}
, function(t, e, n) {
    "use strict";
    var r = n(3)
      , i = n(127)
      , o = n(314)
      , a = n(315)
      , s = n(128)
      , u = n(316)
      , c = n(317)
      , f = [[], [[[1, 1.5], [.5, 1]]], [[[1.5, 1], [1, 1.5]]], [[[1.5, 1], [.5, 1]]], [[[1, .5], [1.5, 1]]], [[[1, 1.5], [.5, 1]], [[1, .5], [1.5, 1]]], [[[1, .5], [1, 1.5]]], [[[1, .5], [.5, 1]]], [[[.5, 1], [1, .5]]], [[[1, 1.5], [1, .5]]], [[[.5, 1], [1, .5]], [[1.5, 1], [1, 1.5]]], [[[1.5, 1], [1, .5]]], [[[.5, 1], [1.5, 1]]], [[[1, 1.5], [1.5, 1]]], [[[.5, 1], [1, 1.5]]], []];
    e.a = function() {
        var t = 1
          , e = 1
          , n = r.y
          , l = m;
        function h(t) {
            var e = n(t);
            if (Array.isArray(e))
                e = e.slice().sort(o.a);
            else {
                var i = Object(r.i)(t)
                  , a = i[0]
                  , s = i[1];
                e = Object(r.A)(a, s, e),
                e = Object(r.s)(Math.floor(a / e) * e, Math.floor(s / e) * e, e)
            }
            return e.map(function(e) {
                return d(t, e)
            })
        }
        function d(n, r) {
            var i = []
              , o = [];
            return function(n, r, i) {
                var o, a, s, u, c, l, h = new Array, d = new Array;
                o = a = -1,
                u = n[0] >= r,
                f[u << 1].forEach(m);
                for (; ++o < t - 1; )
                    s = u,
                    u = n[o + 1] >= r,
                    f[s | u << 1].forEach(m);
                f[u << 0].forEach(m);
                for (; ++a < e - 1; ) {
                    for (o = -1,
                    u = n[a * t + t] >= r,
                    c = n[a * t] >= r,
                    f[u << 1 | c << 2].forEach(m); ++o < t - 1; )
                        s = u,
                        u = n[a * t + t + o + 1] >= r,
                        l = c,
                        c = n[a * t + o + 1] >= r,
                        f[s | u << 1 | c << 2 | l << 3].forEach(m);
                    f[u | c << 3].forEach(m)
                }
                o = -1,
                c = n[a * t] >= r,
                f[c << 2].forEach(m);
                for (; ++o < t - 1; )
                    l = c,
                    c = n[a * t + o + 1] >= r,
                    f[c << 2 | l << 3].forEach(m);
                function m(t) {
                    var e, n, r = [t[0][0] + o, t[0][1] + a], s = [t[1][0] + o, t[1][1] + a], u = p(r), c = p(s);
                    (e = d[u]) ? (n = h[c]) ? (delete d[e.end],
                    delete h[n.start],
                    e === n ? (e.ring.push(s),
                    i(e.ring)) : h[e.start] = d[n.end] = {
                        start: e.start,
                        end: n.end,
                        ring: e.ring.concat(n.ring)
                    }) : (delete d[e.end],
                    e.ring.push(s),
                    d[e.end = c] = e) : (e = h[c]) ? (n = d[u]) ? (delete h[e.start],
                    delete d[n.end],
                    e === n ? (e.ring.push(s),
                    i(e.ring)) : h[n.start] = d[e.end] = {
                        start: n.start,
                        end: e.end,
                        ring: n.ring.concat(e.ring)
                    }) : (delete h[e.start],
                    e.ring.unshift(r),
                    h[e.start = u] = e) : h[u] = d[c] = {
                        start: u,
                        end: c,
                        ring: [r, s]
                    }
                }
                f[c << 3].forEach(m)
            }(n, r, function(t) {
                l(t, n, r),
                Object(a.a)(t) > 0 ? i.push([t]) : o.push(t)
            }),
            o.forEach(function(t) {
                for (var e, n = 0, r = i.length; n < r; ++n)
                    if (-1 !== Object(u.a)((e = i[n])[0], t))
                        return void e.push(t)
            }),
            {
                type: "MultiPolygon",
                value: r,
                coordinates: i
            }
        }
        function p(e) {
            return 2 * e[0] + e[1] * (t + 1) * 4
        }
        function m(n, r, i) {
            n.forEach(function(n) {
                var o, a = n[0], s = n[1], u = 0 | a, c = 0 | s, f = r[c * t + u];
                a > 0 && a < t && u === a && (o = r[c * t + u - 1],
                n[0] = a + (i - o) / (f - o) - .5),
                s > 0 && s < e && c === s && (o = r[(c - 1) * t + u],
                n[1] = s + (i - o) / (f - o) - .5)
            })
        }
        return h.contour = d,
        h.size = function(n) {
            if (!arguments.length)
                return [t, e];
            var r = Math.ceil(n[0])
              , i = Math.ceil(n[1]);
            if (!(r > 0 && i > 0))
                throw new Error("invalid size");
            return t = r,
            e = i,
            h
        }
        ,
        h.thresholds = function(t) {
            return arguments.length ? (n = "function" == typeof t ? t : Array.isArray(t) ? Object(s.a)(i.a.call(t)) : Object(s.a)(t),
            h) : n
        }
        ,
        h.smooth = function(t) {
            return arguments.length ? (l = t ? m : c.a,
            h) : l === m
        }
        ,
        h
    }
}
, function(t, e, n) {
    "use strict";
    n.d(e, "a", function() {
        return r
    });
    var r = Array.prototype.slice
}
, function(t, e, n) {
    "use strict";
    e.a = function(t) {
        return function() {
            return t
        }
    }
}
, function(t, e, n) {
    "use strict";
    var r = n(67);
    n.d(e, "g", function() {
        return r.a
    });
    var i = n(320);
    n.d(e, "e", function() {
        return i.d
    }),
    n.d(e, "f", function() {
        return i.e
    }),
    n.d(e, "b", function() {
        return i.a
    }),
    n.d(e, "c", function() {
        return i.b
    }),
    n.d(e, "d", function() {
        return i.c
    });
    var o = n(321);
    n.d(e, "k", function() {
        return o.d
    }),
    n.d(e, "l", function() {
        return o.e
    }),
    n.d(e, "h", function() {
        return o.a
    }),
    n.d(e, "i", function() {
        return o.b
    }),
    n.d(e, "j", function() {
        return o.c
    });
    var a = n(322);
    n.d(e, "a", function() {
        return a.a
    })
}
, function(t, e, n) {
    "use strict";
    e.b = function(t) {
        return t.x
    }
    ,
    e.c = function(t) {
        return t.y
    }
    ;
    var r = n(22)
      , i = n(40)
      , o = n(38);
    var a = 10
      , s = Math.PI * (3 - Math.sqrt(5));
    e.a = function(t) {
        var e, n = 1, u = .001, c = 1 - Math.pow(u, 1 / 300), f = 0, l = .6, h = Object(i.c)(), d = Object(o.d)(m), p = Object(r.a)("tick", "end");
        function m() {
            v(),
            p.call("tick", e),
            n < u && (d.stop(),
            p.call("end", e))
        }
        function v(r) {
            var i, o, a = t.length;
            void 0 === r && (r = 1);
            for (var s = 0; s < r; ++s)
                for (n += (f - n) * c,
                h.each(function(t) {
                    t(n)
                }),
                i = 0; i < a; ++i)
                    null == (o = t[i]).fx ? o.x += o.vx *= l : (o.x = o.fx,
                    o.vx = 0),
                    null == o.fy ? o.y += o.vy *= l : (o.y = o.fy,
                    o.vy = 0);
            return e
        }
        function g() {
            for (var e, n = 0, r = t.length; n < r; ++n) {
                if ((e = t[n]).index = n,
                isNaN(e.fx) || (e.x = e.fx),
                isNaN(e.fy) || (e.y = e.fy),
                isNaN(e.x) || isNaN(e.y)) {
                    var i = a * Math.sqrt(n)
                      , o = n * s;
                    e.x = i * Math.cos(o),
                    e.y = i * Math.sin(o)
                }
                (isNaN(e.vx) || isNaN(e.vy)) && (e.vx = e.vy = 0)
            }
        }
        function y(e) {
            return e.initialize && e.initialize(t),
            e
        }
        return null == t && (t = []),
        g(),
        e = {
            tick: v,
            restart: function() {
                return d.restart(m),
                e
            },
            stop: function() {
                return d.stop(),
                e
            },
            nodes: function(n) {
                return arguments.length ? (t = n,
                g(),
                h.each(y),
                e) : t
            },
            alpha: function(t) {
                return arguments.length ? (n = +t,
                e) : n
            },
            alphaMin: function(t) {
                return arguments.length ? (u = +t,
                e) : u
            },
            alphaDecay: function(t) {
                return arguments.length ? (c = +t,
                e) : +c
            },
            alphaTarget: function(t) {
                return arguments.length ? (f = +t,
                e) : f
            },
            velocityDecay: function(t) {
                return arguments.length ? (l = 1 - t,
                e) : 1 - l
            },
            force: function(t, n) {
                return arguments.length > 1 ? (null == n ? h.remove(t) : h.set(t, y(n)),
                e) : h.get(t)
            },
            find: function(e, n, r) {
                var i, o, a, s, u, c = 0, f = t.length;
                for (null == r ? r = 1 / 0 : r *= r,
                c = 0; c < f; ++c)
                    (a = (i = e - (s = t[c]).x) * i + (o = n - s.y) * o) < r && (u = s,
                    r = a);
                return u
            },
            on: function(t, n) {
                return arguments.length > 1 ? (p.on(t, n),
                e) : p.on(t)
            }
        }
    }
}
, function(t, e, n) {
    "use strict";
    var r = n(41)
      , i = n(352)
      , o = n(353)
      , a = n(132)
      , s = n(354)
      , u = n(355)
      , c = n(133)
      , f = n(357)
      , l = ["y", "z", "a", "f", "p", "n", "", "m", "", "k", "M", "G", "T", "P", "E", "Z", "Y"];
    e.a = function(t) {
        var e = t.grouping && t.thousands ? Object(i.a)(t.grouping, t.thousands) : f.a
          , n = t.currency
          , h = t.decimal
          , d = t.numerals ? Object(o.a)(t.numerals) : f.a
          , p = t.percent || "%";
        function m(t) {
            var r = (t = Object(a.a)(t)).fill
              , i = t.align
              , o = t.sign
              , f = t.symbol
              , m = t.zero
              , v = t.width
              , g = t.comma
              , y = t.precision
              , b = t.trim
              , _ = t.type;
            "n" === _ ? (g = !0,
            _ = "g") : u.a[_] || (null == y && (y = 12),
            b = !0,
            _ = "g"),
            (m || "0" === r && "=" === i) && (m = !0,
            r = "0",
            i = "=");
            var x = "$" === f ? n[0] : "#" === f && /[boxX]/.test(_) ? "0" + _.toLowerCase() : ""
              , w = "$" === f ? n[1] : /[%p]/.test(_) ? p : ""
              , M = u.a[_]
              , E = /[defgprs%]/.test(_);
            function T(t) {
                var n, a, u, f = x, p = w;
                if ("c" === _)
                    p = M(t) + p,
                    t = "";
                else {
                    var T = (t = +t) < 0;
                    if (t = M(Math.abs(t), y),
                    b && (t = Object(s.a)(t)),
                    T && 0 == +t && (T = !1),
                    f = (T ? "(" === o ? o : "-" : "-" === o || "(" === o ? "" : o) + f,
                    p = ("s" === _ ? l[8 + c.b / 3] : "") + p + (T && "(" === o ? ")" : ""),
                    E)
                        for (n = -1,
                        a = t.length; ++n < a; )
                            if (48 > (u = t.charCodeAt(n)) || u > 57) {
                                p = (46 === u ? h + t.slice(n + 1) : t.slice(n)) + p,
                                t = t.slice(0, n);
                                break
                            }
                }
                g && !m && (t = e(t, 1 / 0));
                var S = f.length + t.length + p.length
                  , O = S < v ? new Array(v - S + 1).join(r) : "";
                switch (g && m && (t = e(O + t, O.length ? v - p.length : 1 / 0),
                O = ""),
                i) {
                case "<":
                    t = f + t + p + O;
                    break;
                case "=":
                    t = f + O + t + p;
                    break;
                case "^":
                    t = O.slice(0, S = O.length >> 1) + f + t + p + O.slice(S);
                    break;
                default:
                    t = O + f + t + p
                }
                return d(t)
            }
            return y = null == y ? 6 : /[gprs]/.test(_) ? Math.max(1, Math.min(21, y)) : Math.max(0, Math.min(20, y)),
            T.toString = function() {
                return t + ""
            }
            ,
            T
        }
        return {
            format: m,
            formatPrefix: function(t, e) {
                var n = m(((t = Object(a.a)(t)).type = "f",
                t))
                  , i = 3 * Math.max(-8, Math.min(8, Math.floor(Object(r.a)(e) / 3)))
                  , o = Math.pow(10, -i)
                  , s = l[8 + i / 3];
                return function(t) {
                    return n(o * t) + s
                }
            }
        }
    }
}
, function(t, e, n) {
    "use strict";
    e.a = i;
    var r = /^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;
    function i(t) {
        return new o(t)
    }
    function o(t) {
        if (!(e = r.exec(t)))
            throw new Error("invalid format: " + t);
        var e;
        this.fill = e[1] || " ",
        this.align = e[2] || ">",
        this.sign = e[3] || "-",
        this.symbol = e[4] || "",
        this.zero = !!e[5],
        this.width = e[6] && +e[6],
        this.comma = !!e[7],
        this.precision = e[8] && +e[8].slice(1),
        this.trim = !!e[9],
        this.type = e[10] || ""
    }
    i.prototype = o.prototype,
    o.prototype.toString = function() {
        return this.fill + this.align + this.sign + this.symbol + (this.zero ? "0" : "") + (null == this.width ? "" : Math.max(1, 0 | this.width)) + (this.comma ? "," : "") + (null == this.precision ? "" : "." + Math.max(0, 0 | this.precision)) + (this.trim ? "~" : "") + this.type
    }
}
, function(t, e, n) {
    "use strict";
    n.d(e, "b", function() {
        return r
    });
    var r, i = n(73);
    e.a = function(t, e) {
        var n = Object(i.a)(t, e);
        if (!n)
            return t + "";
        var o = n[0]
          , a = n[1]
          , s = a - (r = 3 * Math.max(-8, Math.min(8, Math.floor(a / 3)))) + 1
          , u = o.length;
        return s === u ? o : s > u ? o + new Array(s - u + 1).join("0") : s > 0 ? o.slice(0, s) + "." + o.slice(s) : "0." + new Array(1 - s).join("0") + Object(i.a)(t, Math.max(0, e + s - 1))[0]
    }
}
, function(t, e, n) {
    "use strict";
    n.d(e, "a", function() {
        return h
    }),
    n.d(e, "b", function() {
        return p
    });
    var r, i, o, a, s, u = n(25), c = n(0), f = n(14), l = n(17), h = Object(u.a)(), d = Object(u.a)(), p = {
        point: f.a,
        lineStart: f.a,
        lineEnd: f.a,
        polygonStart: function() {
            h.reset(),
            p.lineStart = m,
            p.lineEnd = v
        },
        polygonEnd: function() {
            var t = +h;
            d.add(t < 0 ? c.w + t : t),
            this.lineStart = this.lineEnd = this.point = f.a
        },
        sphere: function() {
            d.add(c.w)
        }
    };
    function m() {
        p.point = g
    }
    function v() {
        y(r, i)
    }
    function g(t, e) {
        p.point = y,
        r = t,
        i = e,
        t *= c.r,
        e *= c.r,
        o = t,
        a = Object(c.g)(e = e / 2 + c.q),
        s = Object(c.t)(e)
    }
    function y(t, e) {
        t *= c.r,
        e = (e *= c.r) / 2 + c.q;
        var n = t - o
          , r = n >= 0 ? 1 : -1
          , i = r * n
          , u = Object(c.g)(e)
          , f = Object(c.t)(e)
          , l = s * f
          , d = a * u + l * Object(c.g)(i)
          , p = l * r * Object(c.t)(i);
        h.add(Object(c.e)(p, d)),
        o = t,
        a = u,
        s = f
    }
    e.c = function(t) {
        return d.reset(),
        Object(l.a)(t, p),
        2 * d
    }
}
, function(t, e, n) {
    "use strict";
    e.a = s;
    var r = n(28)
      , i = n(364)
      , o = n(0)
      , a = n(42);
    function s(t, e, n, i, a, s) {
        if (n) {
            var c = Object(o.g)(e)
              , f = Object(o.t)(e)
              , l = i * n;
            null == a ? (a = e + i * o.w,
            s = e - l / 2) : (a = u(c, a),
            s = u(c, s),
            (i > 0 ? a < s : a > s) && (a += i * o.w));
            for (var h, d = a; i > 0 ? d > s : d < s; d -= l)
                h = Object(r.g)([c, -f * Object(o.g)(d), -f * Object(o.t)(d)]),
                t.point(h[0], h[1])
        }
    }
    function u(t, e) {
        (e = Object(r.a)(e))[0] -= t,
        Object(r.e)(e);
        var n = Object(o.b)(-e[1]);
        return ((-e[2] < 0 ? -n : n) + o.w - o.i) % o.w
    }
    e.b = function() {
        var t, e, n = Object(i.a)([0, 0]), r = Object(i.a)(90), u = Object(i.a)(6), c = {
            point: function(n, r) {
                t.push(n = e(n, r)),
                n[0] *= o.h,
                n[1] *= o.h
            }
        };
        function f() {
            var i = n.apply(this, arguments)
              , f = r.apply(this, arguments) * o.r
              , l = u.apply(this, arguments) * o.r;
            return t = [],
            e = Object(a.b)(-i[0] * o.r, -i[1] * o.r, 0).invert,
            s(c, f, l, 1),
            i = {
                type: "Polygon",
                coordinates: [t]
            },
            t = e = null,
            i
        }
        return f.center = function(t) {
            return arguments.length ? (n = "function" == typeof t ? t : Object(i.a)([+t[0], +t[1]]),
            f) : n
        }
        ,
        f.radius = function(t) {
            return arguments.length ? (r = "function" == typeof t ? t : Object(i.a)(+t),
            f) : r
        }
        ,
        f.precision = function(t) {
            return arguments.length ? (u = "function" == typeof t ? t : Object(i.a)(+t),
            f) : u
        }
        ,
        f
    }
}
, function(t, e, n) {
    "use strict";
    e.a = function(t, e) {
        function n(n, r) {
            return n = t(n, r),
            e(n[0], n[1])
        }
        return t.invert && e.invert && (n.invert = function(n, r) {
            return (n = e.invert(n, r)) && t.invert(n[0], n[1])
        }
        ),
        n
    }
}
, function(t, e, n) {
    "use strict";
    var r = n(138)
      , i = n(0);
    e.a = Object(r.a)(function() {
        return !0
    }, function(t) {
        var e, n = NaN, r = NaN, o = NaN;
        return {
            lineStart: function() {
                t.lineStart(),
                e = 1
            },
            point: function(a, s) {
                var u = a > 0 ? i.o : -i.o
                  , c = Object(i.a)(a - n);
                Object(i.a)(c - i.o) < i.i ? (t.point(n, r = (r + s) / 2 > 0 ? i.l : -i.l),
                t.point(o, r),
                t.lineEnd(),
                t.lineStart(),
                t.point(u, r),
                t.point(a, r),
                e = 0) : o !== u && c >= i.o && (Object(i.a)(n - o) < i.i && (n -= o * i.i),
                Object(i.a)(a - u) < i.i && (a -= u * i.i),
                r = function(t, e, n, r) {
                    var o, a, s = Object(i.t)(t - n);
                    return Object(i.a)(s) > i.i ? Object(i.d)((Object(i.t)(e) * (a = Object(i.g)(r)) * Object(i.t)(n) - Object(i.t)(r) * (o = Object(i.g)(e)) * Object(i.t)(t)) / (o * a * s)) : (e + r) / 2
                }(n, r, a, s),
                t.point(o, r),
                t.lineEnd(),
                t.lineStart(),
                t.point(u, r),
                e = 0),
                t.point(n = a, r = s),
                o = u
            },
            lineEnd: function() {
                t.lineEnd(),
                n = r = NaN
            },
            clean: function() {
                return 2 - e
            }
        }
    }, function(t, e, n, r) {
        var o;
        if (null == t)
            o = n * i.l,
            r.point(-i.o, o),
            r.point(0, o),
            r.point(i.o, o),
            r.point(i.o, 0),
            r.point(i.o, -o),
            r.point(0, -o),
            r.point(-i.o, -o),
            r.point(-i.o, 0),
            r.point(-i.o, o);
        else if (Object(i.a)(t[0] - e[0]) > i.i) {
            var a = t[0] < e[0] ? i.o : -i.o;
            o = n * a / 2,
            r.point(-a, o),
            r.point(0, o),
            r.point(a, o)
        } else
            r.point(e[0], e[1])
    }, [-i.o, -i.l])
}
, function(t, e, n) {
    "use strict";
    var r = n(139)
      , i = n(140)
      , o = n(0)
      , a = n(142)
      , s = n(3);
    function u(t) {
        return t.length > 1
    }
    function c(t, e) {
        return ((t = t.x)[0] < 0 ? t[1] - o.l - o.i : o.l - t[1]) - ((e = e.x)[0] < 0 ? e[1] - o.l - o.i : o.l - e[1])
    }
    e.a = function(t, e, n, o) {
        return function(f) {
            var l, h, d, p = e(f), m = Object(r.a)(), v = e(m), g = !1, y = {
                point: b,
                lineStart: x,
                lineEnd: w,
                polygonStart: function() {
                    y.point = M,
                    y.lineStart = E,
                    y.lineEnd = T,
                    h = [],
                    l = []
                },
                polygonEnd: function() {
                    y.point = b,
                    y.lineStart = x,
                    y.lineEnd = w,
                    h = Object(s.n)(h);
                    var t = Object(a.a)(l, o);
                    h.length ? (g || (f.polygonStart(),
                    g = !0),
                    Object(i.a)(h, c, t, n, f)) : t && (g || (f.polygonStart(),
                    g = !0),
                    f.lineStart(),
                    n(null, null, 1, f),
                    f.lineEnd()),
                    g && (f.polygonEnd(),
                    g = !1),
                    h = l = null
                },
                sphere: function() {
                    f.polygonStart(),
                    f.lineStart(),
                    n(null, null, 1, f),
                    f.lineEnd(),
                    f.polygonEnd()
                }
            };
            function b(e, n) {
                t(e, n) && f.point(e, n)
            }
            function _(t, e) {
                p.point(t, e)
            }
            function x() {
                y.point = _,
                p.lineStart()
            }
            function w() {
                y.point = b,
                p.lineEnd()
            }
            function M(t, e) {
                d.push([t, e]),
                v.point(t, e)
            }
            function E() {
                v.lineStart(),
                d = []
            }
            function T() {
                M(d[0][0], d[0][1]),
                v.lineEnd();
                var t, e, n, r, i = v.clean(), o = m.result(), a = o.length;
                if (d.pop(),
                l.push(d),
                d = null,
                a)
                    if (1 & i) {
                        if ((e = (n = o[0]).length - 1) > 0) {
                            for (g || (f.polygonStart(),
                            g = !0),
                            f.lineStart(),
                            t = 0; t < e; ++t)
                                f.point((r = n[t])[0], r[1]);
                            f.lineEnd()
                        }
                    } else
                        a > 1 && 2 & i && o.push(o.pop().concat(o.shift())),
                        h.push(o.filter(u))
            }
            return y
        }
    }
}
, function(t, e, n) {
    "use strict";
    var r = n(14);
    e.a = function() {
        var t, e = [];
        return {
            point: function(e, n) {
                t.push([e, n])
            },
            lineStart: function() {
                e.push(t = [])
            },
            lineEnd: r.a,
            rejoin: function() {
                e.length > 1 && e.push(e.pop().concat(e.shift()))
            },
            result: function() {
                var n = e;
                return e = [],
                t = null,
                n
            }
        }
    }
}
, function(t, e, n) {
    "use strict";
    var r = n(141);
    function i(t, e, n, r) {
        this.x = t,
        this.z = e,
        this.o = n,
        this.e = r,
        this.v = !1,
        this.n = this.p = null
    }
    function o(t) {
        if (e = t.length) {
            for (var e, n, r = 0, i = t[0]; ++r < e; )
                i.n = n = t[r],
                n.p = i,
                i = n;
            i.n = n = t[0],
            n.p = i
        }
    }
    e.a = function(t, e, n, a, s) {
        var u, c, f = [], l = [];
        if (t.forEach(function(t) {
            if (!((e = t.length - 1) <= 0)) {
                var e, n, o = t[0], a = t[e];
                if (Object(r.a)(o, a)) {
                    for (s.lineStart(),
                    u = 0; u < e; ++u)
                        s.point((o = t[u])[0], o[1]);
                    s.lineEnd()
                } else
                    f.push(n = new i(o,t,null,!0)),
                    l.push(n.o = new i(o,null,n,!1)),
                    f.push(n = new i(a,t,null,!1)),
                    l.push(n.o = new i(a,null,n,!0))
            }
        }),
        f.length) {
            for (l.sort(e),
            o(f),
            o(l),
            u = 0,
            c = l.length; u < c; ++u)
                l[u].e = n = !n;
            for (var h, d, p = f[0]; ; ) {
                for (var m = p, v = !0; m.v; )
                    if ((m = m.n) === p)
                        return;
                h = m.z,
                s.lineStart();
                do {
                    if (m.v = m.o.v = !0,
                    m.e) {
                        if (v)
                            for (u = 0,
                            c = h.length; u < c; ++u)
                                s.point((d = h[u])[0], d[1]);
                        else
                            a(m.x, m.n.x, 1, s);
                        m = m.n
                    } else {
                        if (v)
                            for (h = m.p.z,
                            u = h.length - 1; u >= 0; --u)
                                s.point((d = h[u])[0], d[1]);
                        else
                            a(m.x, m.p.x, -1, s);
                        m = m.p
                    }
                    h = (m = m.o).z,
                    v = !v
                } while (!m.v);s.lineEnd()
            }
        }
    }
}
, function(t, e, n) {
    "use strict";
    var r = n(0);
    e.a = function(t, e) {
        return Object(r.a)(t[0] - e[0]) < r.i && Object(r.a)(t[1] - e[1]) < r.i
    }
}
, function(t, e, n) {
    "use strict";
    var r = n(25)
      , i = n(28)
      , o = n(0)
      , a = Object(r.a)();
    e.a = function(t, e) {
        var n = e[0]
          , r = e[1]
          , s = Object(o.t)(r)
          , u = [Object(o.t)(n), -Object(o.g)(n), 0]
          , c = 0
          , f = 0;
        a.reset(),
        1 === s ? r = o.l + o.i : -1 === s && (r = -o.l - o.i);
        for (var l = 0, h = t.length; l < h; ++l)
            if (p = (d = t[l]).length)
                for (var d, p, m = d[p - 1], v = m[0], g = m[1] / 2 + o.q, y = Object(o.t)(g), b = Object(o.g)(g), _ = 0; _ < p; ++_,
                v = w,
                y = E,
                b = T,
                m = x) {
                    var x = d[_]
                      , w = x[0]
                      , M = x[1] / 2 + o.q
                      , E = Object(o.t)(M)
                      , T = Object(o.g)(M)
                      , S = w - v
                      , O = S >= 0 ? 1 : -1
                      , A = O * S
                      , L = A > o.o
                      , R = y * E;
                    if (a.add(Object(o.e)(R * O * Object(o.t)(A), b * T + R * Object(o.g)(A))),
                    c += L ? S + O * o.w : S,
                    L ^ v >= n ^ w >= n) {
                        var C = Object(i.c)(Object(i.a)(m), Object(i.a)(x));
                        Object(i.e)(C);
                        var j = Object(i.c)(u, C);
                        Object(i.e)(j);
                        var P = (L ^ S >= 0 ? -1 : 1) * Object(o.c)(j[2]);
                        (r > P || r === P && (C[0] || C[1])) && (f += L ^ S >= 0 ? 1 : -1)
                    }
                }
        return (c < -o.i || c < o.i && a < -o.i) ^ 1 & f
    }
}
, function(t, e, n) {
    "use strict";
    var r = n(28)
      , i = n(135)
      , o = n(0)
      , a = n(141)
      , s = n(138);
    e.a = function(t) {
        var e = Object(o.g)(t)
          , n = 6 * o.r
          , u = e > 0
          , c = Object(o.a)(e) > o.i;
        function f(t, n) {
            return Object(o.g)(t) * Object(o.g)(n) > e
        }
        function l(t, n, i) {
            var a = Object(r.a)(t)
              , s = Object(r.a)(n)
              , u = [1, 0, 0]
              , c = Object(r.c)(a, s)
              , f = Object(r.d)(c, c)
              , l = c[0]
              , h = f - l * l;
            if (!h)
                return !i && t;
            var d = e * f / h
              , p = -e * l / h
              , m = Object(r.c)(u, c)
              , v = Object(r.f)(u, d)
              , g = Object(r.f)(c, p);
            Object(r.b)(v, g);
            var y = m
              , b = Object(r.d)(v, y)
              , _ = Object(r.d)(y, y)
              , x = b * b - _ * (Object(r.d)(v, v) - 1);
            if (!(x < 0)) {
                var w = Object(o.u)(x)
                  , M = Object(r.f)(y, (-b - w) / _);
                if (Object(r.b)(M, v),
                M = Object(r.g)(M),
                !i)
                    return M;
                var E, T = t[0], S = n[0], O = t[1], A = n[1];
                S < T && (E = T,
                T = S,
                S = E);
                var L = S - T
                  , R = Object(o.a)(L - o.o) < o.i
                  , C = R || L < o.i;
                if (!R && A < O && (E = O,
                O = A,
                A = E),
                C ? R ? O + A > 0 ^ M[1] < (Object(o.a)(M[0] - T) < o.i ? O : A) : O <= M[1] && M[1] <= A : L > o.o ^ (T <= M[0] && M[0] <= S)) {
                    var j = Object(r.f)(y, (-b + w) / _);
                    return Object(r.b)(j, v),
                    [M, Object(r.g)(j)]
                }
            }
        }
        function h(e, n) {
            var r = u ? t : o.o - t
              , i = 0;
            return e < -r ? i |= 1 : e > r && (i |= 2),
            n < -r ? i |= 4 : n > r && (i |= 8),
            i
        }
        return Object(s.a)(f, function(t) {
            var e, n, r, i, s;
            return {
                lineStart: function() {
                    i = r = !1,
                    s = 1
                },
                point: function(d, p) {
                    var m, v = [d, p], g = f(d, p), y = u ? g ? 0 : h(d, p) : g ? h(d + (d < 0 ? o.o : -o.o), p) : 0;
                    if (!e && (i = r = g) && t.lineStart(),
                    g !== r && (!(m = l(e, v)) || Object(a.a)(e, m) || Object(a.a)(v, m)) && (v[0] += o.i,
                    v[1] += o.i,
                    g = f(v[0], v[1])),
                    g !== r)
                        s = 0,
                        g ? (t.lineStart(),
                        m = l(v, e),
                        t.point(m[0], m[1])) : (m = l(e, v),
                        t.point(m[0], m[1]),
                        t.lineEnd()),
                        e = m;
                    else if (c && e && u ^ g) {
                        var b;
                        y & n || !(b = l(v, e, !0)) || (s = 0,
                        u ? (t.lineStart(),
                        t.point(b[0][0], b[0][1]),
                        t.point(b[1][0], b[1][1]),
                        t.lineEnd()) : (t.point(b[1][0], b[1][1]),
                        t.lineEnd(),
                        t.lineStart(),
                        t.point(b[0][0], b[0][1])))
                    }
                    !g || e && Object(a.a)(e, v) || t.point(v[0], v[1]),
                    e = v,
                    r = g,
                    n = y
                },
                lineEnd: function() {
                    r && t.lineEnd(),
                    e = null
                },
                clean: function() {
                    return s | (i && r) << 1
                }
            }
        }, function(e, r, o, a) {
            Object(i.a)(a, t, n, o, e, r)
        }, u ? [0, -t] : [-o.o, t - o.o])
    }
}
, function(t, e, n) {
    "use strict";
    var r = n(145)
      , i = [null, null]
      , o = {
        type: "LineString",
        coordinates: i
    };
    e.a = function(t, e) {
        return i[0] = t,
        i[1] = e,
        Object(r.a)(o)
    }
}
, function(t, e, n) {
    "use strict";
    var r, i, o, a = n(25), s = n(0), u = n(14), c = n(17), f = Object(a.a)(), l = {
        sphere: u.a,
        point: u.a,
        lineStart: function() {
            l.point = d,
            l.lineEnd = h
        },
        lineEnd: u.a,
        polygonStart: u.a,
        polygonEnd: u.a
    };
    function h() {
        l.point = l.lineEnd = u.a
    }
    function d(t, e) {
        t *= s.r,
        e *= s.r,
        r = t,
        i = Object(s.t)(e),
        o = Object(s.g)(e),
        l.point = p
    }
    function p(t, e) {
        t *= s.r,
        e *= s.r;
        var n = Object(s.t)(e)
          , a = Object(s.g)(e)
          , u = Object(s.a)(t - r)
          , c = Object(s.g)(u)
          , l = a * Object(s.t)(u)
          , h = o * n - i * a * c
          , d = i * n + o * a * c;
        f.add(Object(s.e)(Object(s.u)(l * l + h * h), d)),
        r = t,
        i = n,
        o = a
    }
    e.a = function(t) {
        return f.reset(),
        Object(c.a)(t, l),
        +f
    }
}
, function(t, e, n) {
    "use strict";
    var r = n(14)
      , i = 1 / 0
      , o = i
      , a = -i
      , s = a
      , u = {
        point: function(t, e) {
            t < i && (i = t);
            t > a && (a = t);
            e < o && (o = e);
            e > s && (s = e)
        },
        lineStart: r.a,
        lineEnd: r.a,
        polygonStart: r.a,
        polygonEnd: r.a,
        result: function() {
            var t = [[i, o], [a, s]];
            return a = s = -(o = i = 1 / 0),
            t
        }
    };
    e.a = u
}
, function(t, e, n) {
    "use strict";
    var r = n(75);
    e.a = function() {
        return Object(r.b)().parallels([29.5, 45.5]).scale(1070).translate([480, 250]).rotate([96, 0]).center([-.6, 38.7])
    }
}
, function(t, e, n) {
    "use strict";
    e.b = i;
    var r = n(10);
    function i(t, e) {
        return [t, e]
    }
    i.invert = i,
    e.a = function() {
        return Object(r.a)(i).scale(152.63)
    }
}
, function(t, e, n) {
    "use strict";
    e.b = u;
    var r = n(150);
    function i(t, e, n) {
        var r, i, o, a, s = t.x - e.x, u = t.y - e.y, c = s * s + u * u;
        c ? (i = e.r + n.r,
        i *= i,
        a = t.r + n.r,
        i > (a *= a) ? (r = (c + a - i) / (2 * c),
        o = Math.sqrt(Math.max(0, a / c - r * r)),
        n.x = t.x - r * s - o * u,
        n.y = t.y - r * u + o * s) : (r = (c + i - a) / (2 * c),
        o = Math.sqrt(Math.max(0, i / c - r * r)),
        n.x = e.x + r * s - o * u,
        n.y = e.y + r * u + o * s)) : (n.x = e.x + n.r,
        n.y = e.y)
    }
    function o(t, e) {
        var n = t.r + e.r - 1e-6
          , r = e.x - t.x
          , i = e.y - t.y;
        return n > 0 && n * n > r * r + i * i
    }
    function a(t) {
        var e = t._
          , n = t.next._
          , r = e.r + n.r
          , i = (e.x * n.r + n.x * e.r) / r
          , o = (e.y * n.r + n.y * e.r) / r;
        return i * i + o * o
    }
    function s(t) {
        this._ = t,
        this.next = null,
        this.previous = null
    }
    function u(t) {
        if (!(c = t.length))
            return 0;
        var e, n, u, c, f, l, h, d, p, m, v;
        if ((e = t[0]).x = 0,
        e.y = 0,
        !(c > 1))
            return e.r;
        if (n = t[1],
        e.x = -n.r,
        n.x = e.r,
        n.y = 0,
        !(c > 2))
            return e.r + n.r;
        i(n, e, u = t[2]),
        e = new s(e),
        n = new s(n),
        u = new s(u),
        e.next = u.previous = n,
        n.next = e.previous = u,
        u.next = n.previous = e;
        t: for (h = 3; h < c; ++h) {
            i(e._, n._, u = t[h]),
            u = new s(u),
            d = n.next,
            p = e.previous,
            m = n._.r,
            v = e._.r;
            do {
                if (m <= v) {
                    if (o(d._, u._)) {
                        n = d,
                        e.next = n,
                        n.previous = e,
                        --h;
                        continue t
                    }
                    m += d._.r,
                    d = d.next
                } else {
                    if (o(p._, u._)) {
                        (e = p).next = n,
                        n.previous = e,
                        --h;
                        continue t
                    }
                    v += p._.r,
                    p = p.previous
                }
            } while (d !== p.next);for (u.previous = e,
            u.next = n,
            e.next = n.previous = n = u,
            f = a(e); (u = u.next) !== n; )
                (l = a(u)) < f && (e = u,
                f = l);
            n = e.next
        }
        for (e = [n._],
        u = n; (u = u.next) !== n; )
            e.push(u._);
        for (u = Object(r.a)(e),
        h = 0; h < c; ++h)
            (e = t[h]).x -= u.x,
            e.y -= u.y;
        return u.r
    }
    e.a = function(t) {
        return u(t),
        t
    }
}
, function(t, e, n) {
    "use strict";
    var r = n(404);
    function i(t, e) {
        var n, r;
        if (s(e, t))
            return [e];
        for (n = 0; n < t.length; ++n)
            if (o(e, t[n]) && s(c(t[n], e), t))
                return [t[n], e];
        for (n = 0; n < t.length - 1; ++n)
            for (r = n + 1; r < t.length; ++r)
                if (o(c(t[n], t[r]), e) && o(c(t[n], e), t[r]) && o(c(t[r], e), t[n]) && s(f(t[n], t[r], e), t))
                    return [t[n], t[r], e];
        throw new Error
    }
    function o(t, e) {
        var n = t.r - e.r
          , r = e.x - t.x
          , i = e.y - t.y;
        return n < 0 || n * n < r * r + i * i
    }
    function a(t, e) {
        var n = t.r - e.r + 1e-6
          , r = e.x - t.x
          , i = e.y - t.y;
        return n > 0 && n * n > r * r + i * i
    }
    function s(t, e) {
        for (var n = 0; n < e.length; ++n)
            if (!a(t, e[n]))
                return !1;
        return !0
    }
    function u(t) {
        switch (t.length) {
        case 1:
            return {
                x: (e = t[0]).x,
                y: e.y,
                r: e.r
            };
        case 2:
            return c(t[0], t[1]);
        case 3:
            return f(t[0], t[1], t[2])
        }
        var e
    }
    function c(t, e) {
        var n = t.x
          , r = t.y
          , i = t.r
          , o = e.x
          , a = e.y
          , s = e.r
          , u = o - n
          , c = a - r
          , f = s - i
          , l = Math.sqrt(u * u + c * c);
        return {
            x: (n + o + u / l * f) / 2,
            y: (r + a + c / l * f) / 2,
            r: (l + i + s) / 2
        }
    }
    function f(t, e, n) {
        var r = t.x
          , i = t.y
          , o = t.r
          , a = e.x
          , s = e.y
          , u = e.r
          , c = n.x
          , f = n.y
          , l = n.r
          , h = r - a
          , d = r - c
          , p = i - s
          , m = i - f
          , v = u - o
          , g = l - o
          , y = r * r + i * i - o * o
          , b = y - a * a - s * s + u * u
          , _ = y - c * c - f * f + l * l
          , x = d * p - h * m
          , w = (p * _ - m * b) / (2 * x) - r
          , M = (m * v - p * g) / x
          , E = (d * b - h * _) / (2 * x) - i
          , T = (h * g - d * v) / x
          , S = M * M + T * T - 1
          , O = 2 * (o + w * M + E * T)
          , A = w * w + E * E - o * o
          , L = -(S ? (O + Math.sqrt(O * O - 4 * S * A)) / (2 * S) : A / O);
        return {
            x: r + w + M * L,
            y: i + E + T * L,
            r: L
        }
    }
    e.a = function(t) {
        for (var e, n, o = 0, s = (t = Object(r.a)(r.b.call(t))).length, c = []; o < s; )
            e = t[o],
            n && a(n, e) ? ++o : (n = u(c = i(c, e)),
            o = 0);
        return n
    }
}
, function(t, e, n) {
    "use strict";
    e.a = function() {
        return 0
    }
    ,
    e.b = function(t) {
        return function() {
            return t
        }
    }
}
, function(t, e, n) {
    "use strict";
    e.a = function(t) {
        t.x0 = Math.round(t.x0),
        t.y0 = Math.round(t.y0),
        t.x1 = Math.round(t.x1),
        t.y1 = Math.round(t.y1)
    }
}
, function(t, e, n) {
    "use strict";
    var r = n(26);
    e.a = function t(e) {
        function n(t, n) {
            var r, i;
            return t = null == t ? 0 : +t,
            n = null == n ? 1 : +n,
            function() {
                var o;
                if (null != r)
                    o = r,
                    r = null;
                else
                    do {
                        r = 2 * e() - 1,
                        o = 2 * e() - 1,
                        i = r * r + o * o
                    } while (!i || i > 1);return t + n * o * Math.sqrt(-2 * Math.log(i) / i)
            }
        }
        return n.source = t,
        n
    }(r.a)
}
, function(t, e, n) {
    "use strict";
    var r = n(26);
    e.a = function t(e) {
        function n(t) {
            return function() {
                for (var n = 0, r = 0; r < t; ++r)
                    n += e();
                return n
            }
        }
        return n.source = t,
        n
    }(r.a)
}
, function(t, e, n) {
    "use strict";
    n.d(e, "b", function() {
        return a
    }),
    e.a = function t() {
        var e = Object(r.c)()
          , n = []
          , s = []
          , u = a;
        function c(t) {
            var r = t + ""
              , i = e.get(r);
            if (!i) {
                if (u !== a)
                    return u;
                e.set(r, i = n.push(t))
            }
            return s[(i - 1) % s.length]
        }
        c.domain = function(t) {
            if (!arguments.length)
                return n.slice();
            n = [],
            e = Object(r.c)();
            for (var i, o, a = -1, s = t.length; ++a < s; )
                e.has(o = (i = t[a]) + "") || e.set(o, n.push(i));
            return c
        }
        ;
        c.range = function(t) {
            return arguments.length ? (s = i.b.call(t),
            c) : s.slice()
        }
        ;
        c.unknown = function(t) {
            return arguments.length ? (u = t,
            c) : u
        }
        ;
        c.copy = function() {
            return t(n, s).unknown(u)
        }
        ;
        o.b.apply(c, arguments);
        return c
    }
    ;
    var r = n(40)
      , i = n(18)
      , o = n(6)
      , a = {
        name: "implicit"
    }
}
, function(t, e, n) {
    "use strict";
    e.a = function(t) {
        return +t
    }
}
, function(t, e, n) {
    "use strict";
    var r = n(3)
      , i = n(72);
    e.a = function(t, e, n, o) {
        var a, s = Object(r.A)(t, e, n);
        switch ((o = Object(i.e)(null == o ? ",f" : o)).type) {
        case "s":
            var u = Math.max(Math.abs(t), Math.abs(e));
            return null != o.precision || isNaN(a = Object(i.g)(s, u)) || (o.precision = a),
            Object(i.d)(o, u);
        case "":
        case "e":
        case "g":
        case "p":
        case "r":
            null != o.precision || isNaN(a = Object(i.h)(s, Math.max(Math.abs(t), Math.abs(e)))) || (o.precision = a - ("e" === o.type));
            break;
        case "f":
        case "%":
            null != o.precision || isNaN(a = Object(i.f)(s)) || (o.precision = a - 2 * ("%" === o.type))
        }
        return Object(i.a)(o)
    }
}
, function(t, e, n) {
    "use strict";
    e.a = function(t, e) {
        var n, r = 0, i = (t = t.slice()).length - 1, o = t[r], a = t[i];
        return a < o && (n = r,
        r = i,
        i = n,
        n = o,
        o = a,
        a = n),
        t[r] = e.floor(o),
        t[i] = e.ceil(a),
        t
    }
}
, function(t, e, n) {
    "use strict";
    e.a = b;
    var r = n(3)
      , i = n(46)
      , o = n(85)
      , a = n(18)
      , s = n(15)
      , u = n(6)
      , c = n(158)
      , f = 1e3
      , l = 60 * f
      , h = 60 * l
      , d = 24 * h
      , p = 7 * d
      , m = 30 * d
      , v = 365 * d;
    function g(t) {
        return new Date(t)
    }
    function y(t) {
        return t instanceof Date ? +t : +new Date(+t)
    }
    function b(t, e, n, i, o, u, _, x, w) {
        var M = Object(s.b)(s.c, s.c)
          , E = M.invert
          , T = M.domain
          , S = w(".%L")
          , O = w(":%S")
          , A = w("%I:%M")
          , L = w("%I %p")
          , R = w("%a %d")
          , C = w("%b %d")
          , j = w("%B")
          , P = w("%Y")
          , N = [[_, 1, f], [_, 5, 5 * f], [_, 15, 15 * f], [_, 30, 30 * f], [u, 1, l], [u, 5, 5 * l], [u, 15, 15 * l], [u, 30, 30 * l], [o, 1, h], [o, 3, 3 * h], [o, 6, 6 * h], [o, 12, 12 * h], [i, 1, d], [i, 2, 2 * d], [n, 1, p], [e, 1, m], [e, 3, 3 * m], [t, 1, v]];
        function I(r) {
            return (_(r) < r ? S : u(r) < r ? O : o(r) < r ? A : i(r) < r ? L : e(r) < r ? n(r) < r ? R : C : t(r) < r ? j : P)(r)
        }
        function D(e, n, i, o) {
            if (null == e && (e = 10),
            "number" == typeof e) {
                var a = Math.abs(i - n) / e
                  , s = Object(r.e)(function(t) {
                    return t[2]
                }).right(N, a);
                s === N.length ? (o = Object(r.A)(n / v, i / v, e),
                e = t) : s ? (o = (s = N[a / N[s - 1][2] < N[s][2] / a ? s - 1 : s])[1],
                e = s[0]) : (o = Math.max(Object(r.A)(n, i, e), 1),
                e = x)
            }
            return null == o ? e : e.every(o)
        }
        return M.invert = function(t) {
            return new Date(E(t))
        }
        ,
        M.domain = function(t) {
            return arguments.length ? T(a.a.call(t, y)) : T().map(g)
        }
        ,
        M.ticks = function(t, e) {
            var n, r = T(), i = r[0], o = r[r.length - 1], a = o < i;
            return a && (n = i,
            i = o,
            o = n),
            n = (n = D(t, i, o, e)) ? n.range(i, o + 1) : [],
            a ? n.reverse() : n
        }
        ,
        M.tickFormat = function(t, e) {
            return null == e ? I : w(e)
        }
        ,
        M.nice = function(t, e) {
            var n = T();
            return (t = D(t, n[0], n[n.length - 1], e)) ? T(Object(c.a)(n, t)) : M
        }
        ,
        M.copy = function() {
            return Object(s.a)(M, b(t, e, n, i, o, u, _, x, w))
        }
        ,
        M
    }
    e.b = function() {
        return u.b.apply(b(i.D, i.n, i.B, i.a, i.e, i.j, i.r, i.h, o.c).domain([new Date(2e3,0,1), new Date(2e3,0,2)]), arguments)
    }
}
, function(t, e, n) {
    "use strict";
    e.a = function(t) {
        var e = t.dateTime
          , n = t.date
          , u = t.time
          , c = t.periods
          , f = t.days
          , l = t.shortDays
          , h = t.months
          , gt = t.shortMonths
          , yt = d(c)
          , bt = p(c)
          , _t = d(f)
          , xt = p(f)
          , wt = d(l)
          , Mt = p(l)
          , Et = d(h)
          , Tt = p(h)
          , St = d(gt)
          , Ot = p(gt)
          , At = {
            a: function(t) {
                return l[t.getDay()]
            },
            A: function(t) {
                return f[t.getDay()]
            },
            b: function(t) {
                return gt[t.getMonth()]
            },
            B: function(t) {
                return h[t.getMonth()]
            },
            c: null,
            d: N,
            e: N,
            f: B,
            H: I,
            I: D,
            j: U,
            L: z,
            m: k,
            M: F,
            p: function(t) {
                return c[+(t.getHours() >= 12)]
            },
            Q: mt,
            s: vt,
            S: G,
            u: H,
            U: V,
            V: W,
            w: q,
            W: X,
            x: null,
            X: null,
            y: Y,
            Y: Z,
            Z: J,
            "%": pt
        }
          , Lt = {
            a: function(t) {
                return l[t.getUTCDay()]
            },
            A: function(t) {
                return f[t.getUTCDay()]
            },
            b: function(t) {
                return gt[t.getUTCMonth()]
            },
            B: function(t) {
                return h[t.getUTCMonth()]
            },
            c: null,
            d: Q,
            e: Q,
            f: nt,
            H: K,
            I: $,
            j: tt,
            L: et,
            m: rt,
            M: it,
            p: function(t) {
                return c[+(t.getUTCHours() >= 12)]
            },
            Q: mt,
            s: vt,
            S: ot,
            u: at,
            U: st,
            V: ut,
            w: ct,
            W: ft,
            x: null,
            X: null,
            y: lt,
            Y: ht,
            Z: dt,
            "%": pt
        }
          , Rt = {
            a: function(t, e, n) {
                var r = wt.exec(e.slice(n));
                return r ? (t.w = Mt[r[0].toLowerCase()],
                n + r[0].length) : -1
            },
            A: function(t, e, n) {
                var r = _t.exec(e.slice(n));
                return r ? (t.w = xt[r[0].toLowerCase()],
                n + r[0].length) : -1
            },
            b: function(t, e, n) {
                var r = St.exec(e.slice(n));
                return r ? (t.m = Ot[r[0].toLowerCase()],
                n + r[0].length) : -1
            },
            B: function(t, e, n) {
                var r = Et.exec(e.slice(n));
                return r ? (t.m = Tt[r[0].toLowerCase()],
                n + r[0].length) : -1
            },
            c: function(t, n, r) {
                return Pt(t, e, n, r)
            },
            d: E,
            e: E,
            f: R,
            H: S,
            I: S,
            j: T,
            L,
            m: M,
            M: O,
            p: function(t, e, n) {
                var r = yt.exec(e.slice(n));
                return r ? (t.p = bt[r[0].toLowerCase()],
                n + r[0].length) : -1
            },
            Q: j,
            s: P,
            S: A,
            u: v,
            U: g,
            V: y,
            w: m,
            W: b,
            x: function(t, e, r) {
                return Pt(t, n, e, r)
            },
            X: function(t, e, n) {
                return Pt(t, u, e, n)
            },
            y: x,
            Y: _,
            Z: w,
            "%": C
        };
        function Ct(t, e) {
            return function(n) {
                var r, i, o, a = [], u = -1, c = 0, f = t.length;
                for (n instanceof Date || (n = new Date(+n)); ++u < f; )
                    37 === t.charCodeAt(u) && (a.push(t.slice(c, u)),
                    null != (i = s[r = t.charAt(++u)]) ? r = t.charAt(++u) : i = "e" === r ? " " : "0",
                    (o = e[r]) && (r = o(n, i)),
                    a.push(r),
                    c = u + 1);
                return a.push(t.slice(c, u)),
                a.join("")
            }
        }
        function jt(t, e) {
            return function(n) {
                var i, s, u = a(1900), c = Pt(u, t, n += "", 0);
                if (c != n.length)
                    return null;
                if ("Q"in u)
                    return new Date(u.Q);
                if ("p"in u && (u.H = u.H % 12 + 12 * u.p),
                "V"in u) {
                    if (u.V < 1 || u.V > 53)
                        return null;
                    "w"in u || (u.w = 1),
                    "Z"in u ? (i = o(a(u.y)),
                    s = i.getUTCDay(),
                    i = s > 4 || 0 === s ? r.P.ceil(i) : Object(r.P)(i),
                    i = r.F.offset(i, 7 * (u.V - 1)),
                    u.y = i.getUTCFullYear(),
                    u.m = i.getUTCMonth(),
                    u.d = i.getUTCDate() + (u.w + 6) % 7) : (i = e(a(u.y)),
                    s = i.getDay(),
                    i = s > 4 || 0 === s ? r.l.ceil(i) : Object(r.l)(i),
                    i = r.a.offset(i, 7 * (u.V - 1)),
                    u.y = i.getFullYear(),
                    u.m = i.getMonth(),
                    u.d = i.getDate() + (u.w + 6) % 7)
                } else
                    ("W"in u || "U"in u) && ("w"in u || (u.w = "u"in u ? u.u % 7 : "W"in u ? 1 : 0),
                    s = "Z"in u ? o(a(u.y)).getUTCDay() : e(a(u.y)).getDay(),
                    u.m = 0,
                    u.d = "W"in u ? (u.w + 6) % 7 + 7 * u.W - (s + 5) % 7 : u.w + 7 * u.U - (s + 6) % 7);
                return "Z"in u ? (u.H += u.Z / 100 | 0,
                u.M += u.Z % 100,
                o(u)) : e(u)
            }
        }
        function Pt(t, e, n, r) {
            for (var i, o, a = 0, u = e.length, c = n.length; a < u; ) {
                if (r >= c)
                    return -1;
                if (37 === (i = e.charCodeAt(a++))) {
                    if (i = e.charAt(a++),
                    !(o = Rt[i in s ? e.charAt(a++) : i]) || (r = o(t, n, r)) < 0)
                        return -1
                } else if (i != n.charCodeAt(r++))
                    return -1
            }
            return r
        }
        return At.x = Ct(n, At),
        At.X = Ct(u, At),
        At.c = Ct(e, At),
        Lt.x = Ct(n, Lt),
        Lt.X = Ct(u, Lt),
        Lt.c = Ct(e, Lt),
        {
            format: function(t) {
                var e = Ct(t += "", At);
                return e.toString = function() {
                    return t
                }
                ,
                e
            },
            parse: function(t) {
                var e = jt(t += "", i);
                return e.toString = function() {
                    return t
                }
                ,
                e
            },
            utcFormat: function(t) {
                var e = Ct(t += "", Lt);
                return e.toString = function() {
                    return t
                }
                ,
                e
            },
            utcParse: function(t) {
                var e = jt(t, o);
                return e.toString = function() {
                    return t
                }
                ,
                e
            }
        }
    }
    ;
    var r = n(46);
    function i(t) {
        if (0 <= t.y && t.y < 100) {
            var e = new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);
            return e.setFullYear(t.y),
            e
        }
        return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)
    }
    function o(t) {
        if (0 <= t.y && t.y < 100) {
            var e = new Date(Date.UTC(-1, t.m, t.d, t.H, t.M, t.S, t.L));
            return e.setUTCFullYear(t.y),
            e
        }
        return new Date(Date.UTC(t.y, t.m, t.d, t.H, t.M, t.S, t.L))
    }
    function a(t) {
        return {
            y: t,
            m: 0,
            d: 1,
            H: 0,
            M: 0,
            S: 0,
            L: 0
        }
    }
    var s = {
        "-": "",
        _: " ",
        0: "0"
    }
      , u = /^\s*\d+/
      , c = /^%/
      , f = /[\\^$*+?|[\]().{}]/g;
    function l(t, e, n) {
        var r = t < 0 ? "-" : ""
          , i = (r ? -t : t) + ""
          , o = i.length;
        return r + (o < n ? new Array(n - o + 1).join(e) + i : i)
    }
    function h(t) {
        return t.replace(f, "\\$&")
    }
    function d(t) {
        return new RegExp("^(?:" + t.map(h).join("|") + ")","i")
    }
    function p(t) {
        for (var e = {}, n = -1, r = t.length; ++n < r; )
            e[t[n].toLowerCase()] = n;
        return e
    }
    function m(t, e, n) {
        var r = u.exec(e.slice(n, n + 1));
        return r ? (t.w = +r[0],
        n + r[0].length) : -1
    }
    function v(t, e, n) {
        var r = u.exec(e.slice(n, n + 1));
        return r ? (t.u = +r[0],
        n + r[0].length) : -1
    }
    function g(t, e, n) {
        var r = u.exec(e.slice(n, n + 2));
        return r ? (t.U = +r[0],
        n + r[0].length) : -1
    }
    function y(t, e, n) {
        var r = u.exec(e.slice(n, n + 2));
        return r ? (t.V = +r[0],
        n + r[0].length) : -1
    }
    function b(t, e, n) {
        var r = u.exec(e.slice(n, n + 2));
        return r ? (t.W = +r[0],
        n + r[0].length) : -1
    }
    function _(t, e, n) {
        var r = u.exec(e.slice(n, n + 4));
        return r ? (t.y = +r[0],
        n + r[0].length) : -1
    }
    function x(t, e, n) {
        var r = u.exec(e.slice(n, n + 2));
        return r ? (t.y = +r[0] + (+r[0] > 68 ? 1900 : 2e3),
        n + r[0].length) : -1
    }
    function w(t, e, n) {
        var r = /^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n, n + 6));
        return r ? (t.Z = r[1] ? 0 : -(r[2] + (r[3] || "00")),
        n + r[0].length) : -1
    }
    function M(t, e, n) {
        var r = u.exec(e.slice(n, n + 2));
        return r ? (t.m = r[0] - 1,
        n + r[0].length) : -1
    }
    function E(t, e, n) {
        var r = u.exec(e.slice(n, n + 2));
        return r ? (t.d = +r[0],
        n + r[0].length) : -1
    }
    function T(t, e, n) {
        var r = u.exec(e.slice(n, n + 3));
        return r ? (t.m = 0,
        t.d = +r[0],
        n + r[0].length) : -1
    }
    function S(t, e, n) {
        var r = u.exec(e.slice(n, n + 2));
        return r ? (t.H = +r[0],
        n + r[0].length) : -1
    }
    function O(t, e, n) {
        var r = u.exec(e.slice(n, n + 2));
        return r ? (t.M = +r[0],
        n + r[0].length) : -1
    }
    function A(t, e, n) {
        var r = u.exec(e.slice(n, n + 2));
        return r ? (t.S = +r[0],
        n + r[0].length) : -1
    }
    function L(t, e, n) {
        var r = u.exec(e.slice(n, n + 3));
        return r ? (t.L = +r[0],
        n + r[0].length) : -1
    }
    function R(t, e, n) {
        var r = u.exec(e.slice(n, n + 6));
        return r ? (t.L = Math.floor(r[0] / 1e3),
        n + r[0].length) : -1
    }
    function C(t, e, n) {
        var r = c.exec(e.slice(n, n + 1));
        return r ? n + r[0].length : -1
    }
    function j(t, e, n) {
        var r = u.exec(e.slice(n));
        return r ? (t.Q = +r[0],
        n + r[0].length) : -1
    }
    function P(t, e, n) {
        var r = u.exec(e.slice(n));
        return r ? (t.Q = 1e3 * +r[0],
        n + r[0].length) : -1
    }
    function N(t, e) {
        return l(t.getDate(), e, 2)
    }
    function I(t, e) {
        return l(t.getHours(), e, 2)
    }
    function D(t, e) {
        return l(t.getHours() % 12 || 12, e, 2)
    }
    function U(t, e) {
        return l(1 + r.a.count(Object(r.D)(t), t), e, 3)
    }
    function z(t, e) {
        return l(t.getMilliseconds(), e, 3)
    }
    function B(t, e) {
        return z(t, e) + "000"
    }
    function k(t, e) {
        return l(t.getMonth() + 1, e, 2)
    }
    function F(t, e) {
        return l(t.getMinutes(), e, 2)
    }
    function G(t, e) {
        return l(t.getSeconds(), e, 2)
    }
    function H(t) {
        var e = t.getDay();
        return 0 === e ? 7 : e
    }
    function V(t, e) {
        return l(r.t.count(Object(r.D)(t), t), e, 2)
    }
    function W(t, e) {
        var n = t.getDay();
        return t = n >= 4 || 0 === n ? Object(r.v)(t) : r.v.ceil(t),
        l(r.v.count(Object(r.D)(t), t) + (4 === Object(r.D)(t).getDay()), e, 2)
    }
    function q(t) {
        return t.getDay()
    }
    function X(t, e) {
        return l(r.l.count(Object(r.D)(t), t), e, 2)
    }
    function Y(t, e) {
        return l(t.getFullYear() % 100, e, 2)
    }
    function Z(t, e) {
        return l(t.getFullYear() % 1e4, e, 4)
    }
    function J(t) {
        var e = t.getTimezoneOffset();
        return (e > 0 ? "-" : (e *= -1,
        "+")) + l(e / 60 | 0, "0", 2) + l(e % 60, "0", 2)
    }
    function Q(t, e) {
        return l(t.getUTCDate(), e, 2)
    }
    function K(t, e) {
        return l(t.getUTCHours(), e, 2)
    }
    function $(t, e) {
        return l(t.getUTCHours() % 12 || 12, e, 2)
    }
    function tt(t, e) {
        return l(1 + r.F.count(Object(r._7)(t), t), e, 3)
    }
    function et(t, e) {
        return l(t.getUTCMilliseconds(), e, 3)
    }
    function nt(t, e) {
        return et(t, e) + "000"
    }
    function rt(t, e) {
        return l(t.getUTCMonth() + 1, e, 2)
    }
    function it(t, e) {
        return l(t.getUTCMinutes(), e, 2)
    }
    function ot(t, e) {
        return l(t.getUTCSeconds(), e, 2)
    }
    function at(t) {
        var e = t.getUTCDay();
        return 0 === e ? 7 : e
    }
    function st(t, e) {
        return l(r.X.count(Object(r._7)(t), t), e, 2)
    }
    function ut(t, e) {
        var n = t.getUTCDay();
        return t = n >= 4 || 0 === n ? Object(r.Z)(t) : r.Z.ceil(t),
        l(r.Z.count(Object(r._7)(t), t) + (4 === Object(r._7)(t).getUTCDay()), e, 2)
    }
    function ct(t) {
        return t.getUTCDay()
    }
    function ft(t, e) {
        return l(r.P.count(Object(r._7)(t), t), e, 2)
    }
    function lt(t, e) {
        return l(t.getUTCFullYear() % 100, e, 2)
    }
    function ht(t, e) {
        return l(t.getUTCFullYear() % 1e4, e, 4)
    }
    function dt() {
        return "+0000"
    }
    function pt() {
        return "%"
    }
    function mt(t) {
        return +t
    }
    function vt(t) {
        return Math.floor(+t / 1e3)
    }
}
, function(t, e, n) {
    "use strict";
    n.d(e, "b", function() {
        return i
    });
    var r = n(86)
      , i = "%Y-%m-%dT%H:%M:%S.%LZ";
    var o = Date.prototype.toISOString ? function(t) {
        return t.toISOString()
    }
    : Object(r.d)(i);
    e.a = o
}
, function(t, e, n) {
    "use strict";
    e.a = f,
    e.b = function t() {
        var e = Object(o.b)(c()(r.c));
        e.copy = function() {
            return f(e, t())
        }
        ;
        return i.a.apply(e, arguments)
    }
    ,
    e.c = function t() {
        var e = Object(a.b)(c()).domain([1, 10]);
        e.copy = function() {
            return f(e, t()).base(e.base())
        }
        ;
        return i.a.apply(e, arguments)
    }
    ,
    e.f = function t() {
        var e = Object(s.b)(c());
        e.copy = function() {
            return f(e, t()).constant(e.constant())
        }
        ;
        return i.a.apply(e, arguments)
    }
    ,
    e.d = l,
    e.e = function() {
        return l.apply(null, arguments).exponent(.5)
    }
    ;
    var r = n(15)
      , i = n(6)
      , o = n(19)
      , a = n(82)
      , s = n(83)
      , u = n(84);
    function c() {
        var t, e, n, i, o, a = 0, s = 1, u = r.c, c = !1;
        function f(e) {
            return isNaN(e = +e) ? o : u(0 === n ? .5 : (e = (i(e) - t) * n,
            c ? Math.max(0, Math.min(1, e)) : e))
        }
        return f.domain = function(r) {
            return arguments.length ? (t = i(a = +r[0]),
            e = i(s = +r[1]),
            n = t === e ? 0 : 1 / (e - t),
            f) : [a, s]
        }
        ,
        f.clamp = function(t) {
            return arguments.length ? (c = !!t,
            f) : c
        }
        ,
        f.interpolator = function(t) {
            return arguments.length ? (u = t,
            f) : u
        }
        ,
        f.unknown = function(t) {
            return arguments.length ? (o = t,
            f) : o
        }
        ,
        function(r) {
            return i = r,
            t = r(a),
            e = r(s),
            n = t === e ? 0 : 1 / (e - t),
            f
        }
    }
    function f(t, e) {
        return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())
    }
    function l() {
        var t = Object(u.b)(c());
        return t.copy = function() {
            return f(t, l()).exponent(t.exponent())
        }
        ,
        i.a.apply(t, arguments)
    }
}
, function(t, e, n) {
    "use strict";
    var r = n(16)
      , i = n(20)
      , o = n(47)
      , a = n(87)
      , s = n(88);
    e.a = function() {
        var t = s.a
          , e = null
          , n = Object(i.a)(0)
          , u = s.b
          , c = Object(i.a)(!0)
          , f = null
          , l = o.a
          , h = null;
        function d(i) {
            var o, a, s, d, p, m = i.length, v = !1, g = new Array(m), y = new Array(m);
            for (null == f && (h = l(p = Object(r.a)())),
            o = 0; o <= m; ++o) {
                if (!(o < m && c(d = i[o], o, i)) === v)
                    if (v = !v)
                        a = o,
                        h.areaStart(),
                        h.lineStart();
                    else {
                        for (h.lineEnd(),
                        h.lineStart(),
                        s = o - 1; s >= a; --s)
                            h.point(g[s], y[s]);
                        h.lineEnd(),
                        h.areaEnd()
                    }
                v && (g[o] = +t(d, o, i),
                y[o] = +n(d, o, i),
                h.point(e ? +e(d, o, i) : g[o], u ? +u(d, o, i) : y[o]))
            }
            if (p)
                return h = null,
                p + "" || null
        }
        function p() {
            return Object(a.a)().defined(c).curve(l).context(f)
        }
        return d.x = function(n) {
            return arguments.length ? (t = "function" == typeof n ? n : Object(i.a)(+n),
            e = null,
            d) : t
        }
        ,
        d.x0 = function(e) {
            return arguments.length ? (t = "function" == typeof e ? e : Object(i.a)(+e),
            d) : t
        }
        ,
        d.x1 = function(t) {
            return arguments.length ? (e = null == t ? null : "function" == typeof t ? t : Object(i.a)(+t),
            d) : e
        }
        ,
        d.y = function(t) {
            return arguments.length ? (n = "function" == typeof t ? t : Object(i.a)(+t),
            u = null,
            d) : n
        }
        ,
        d.y0 = function(t) {
            return arguments.length ? (n = "function" == typeof t ? t : Object(i.a)(+t),
            d) : n
        }
        ,
        d.y1 = function(t) {
            return arguments.length ? (u = null == t ? null : "function" == typeof t ? t : Object(i.a)(+t),
            d) : u
        }
        ,
        d.lineX0 = d.lineY0 = function() {
            return p().x(t).y(n)
        }
        ,
        d.lineY1 = function() {
            return p().x(t).y(u)
        }
        ,
        d.lineX1 = function() {
            return p().x(e).y(n)
        }
        ,
        d.defined = function(t) {
            return arguments.length ? (c = "function" == typeof t ? t : Object(i.a)(!!t),
            d) : c
        }
        ,
        d.curve = function(t) {
            return arguments.length ? (l = t,
            null != f && (h = l(f)),
            d) : l
        }
        ,
        d.context = function(t) {
            return arguments.length ? (null == t ? f = h = null : h = l(f = t),
            d) : f
        }
        ,
        d
    }
}
, function(t, e, n) {
    "use strict";
    n.d(e, "a", function() {
        return r
    }),
    e.b = o;
    var r = o(n(47).a);
    function i(t) {
        this._curve = t
    }
    function o(t) {
        function e(e) {
            return new i(t(e))
        }
        return e._curve = t,
        e
    }
    i.prototype = {
        areaStart: function() {
            this._curve.areaStart()
        },
        areaEnd: function() {
            this._curve.areaEnd()
        },
        lineStart: function() {
            this._curve.lineStart()
        },
        lineEnd: function() {
            this._curve.lineEnd()
        },
        point: function(t, e) {
            this._curve.point(e * Math.sin(t), e * -Math.cos(t))
        }
    }
}
, function(t, e, n) {
    "use strict";
    e.b = o;
    var r = n(164)
      , i = n(87);
    function o(t) {
        var e = t.curve;
        return t.angle = t.x,
        delete t.x,
        t.radius = t.y,
        delete t.y,
        t.curve = function(t) {
            return arguments.length ? e(Object(r.b)(t)) : e()._curve
        }
        ,
        t
    }
    e.a = function() {
        return o(Object(i.a)().curve(r.a))
    }
}
, function(t, e, n) {
    "use strict";
    e.a = function(t, e) {
        return [(e = +e) * Math.cos(t -= Math.PI / 2), e * Math.sin(t)]
    }
}
, function(t, e, n) {
    "use strict";
    n.d(e, "a", function() {
        return r
    });
    var r = Array.prototype.slice
}
, function(t, e, n) {
    "use strict";
    var r = n(31);
    e.a = {
        draw: function(t, e) {
            var n = Math.sqrt(e / r.j);
            t.moveTo(n, 0),
            t.arc(0, 0, n, 0, r.m)
        }
    }
}
, function(t, e, n) {
    "use strict";
    e.a = {
        draw: function(t, e) {
            var n = Math.sqrt(e / 5) / 2;
            t.moveTo(-3 * n, -n),
            t.lineTo(-n, -n),
            t.lineTo(-n, -3 * n),
            t.lineTo(n, -3 * n),
            t.lineTo(n, -n),
            t.lineTo(3 * n, -n),
            t.lineTo(3 * n, n),
            t.lineTo(n, n),
            t.lineTo(n, 3 * n),
            t.lineTo(-n, 3 * n),
            t.lineTo(-n, n),
            t.lineTo(-3 * n, n),
            t.closePath()
        }
    }
}
, function(t, e, n) {
    "use strict";
    var r = Math.sqrt(1 / 3)
      , i = 2 * r;
    e.a = {
        draw: function(t, e) {
            var n = Math.sqrt(e / i)
              , o = n * r;
            t.moveTo(0, -n),
            t.lineTo(o, 0),
            t.lineTo(0, n),
            t.lineTo(-o, 0),
            t.closePath()
        }
    }
}
, function(t, e, n) {
    "use strict";
    var r = n(31)
      , i = Math.sin(r.j / 10) / Math.sin(7 * r.j / 10)
      , o = Math.sin(r.m / 10) * i
      , a = -Math.cos(r.m / 10) * i;
    e.a = {
        draw: function(t, e) {
            var n = Math.sqrt(.8908130915292852 * e)
              , i = o * n
              , s = a * n;
            t.moveTo(0, -n),
            t.lineTo(i, s);
            for (var u = 1; u < 5; ++u) {
                var c = r.m * u / 5
                  , f = Math.cos(c)
                  , l = Math.sin(c);
                t.lineTo(l * n, -f * n),
                t.lineTo(f * i - l * s, l * i + f * s)
            }
            t.closePath()
        }
    }
}
, function(t, e, n) {
    "use strict";
    e.a = {
        draw: function(t, e) {
            var n = Math.sqrt(e)
              , r = -n / 2;
            t.rect(r, r, n, n)
        }
    }
}
, function(t, e, n) {
    "use strict";
    var r = Math.sqrt(3);
    e.a = {
        draw: function(t, e) {
            var n = -Math.sqrt(e / (3 * r));
            t.moveTo(0, 2 * n),
            t.lineTo(-r * n, -n),
            t.lineTo(r * n, -n),
            t.closePath()
        }
    }
}
, function(t, e, n) {
    "use strict";
    var r = -.5
      , i = Math.sqrt(3) / 2
      , o = 1 / Math.sqrt(12)
      , a = 3 * (o / 2 + 1);
    e.a = {
        draw: function(t, e) {
            var n = Math.sqrt(e / a)
              , s = n / 2
              , u = n * o
              , c = s
              , f = n * o + n
              , l = -c
              , h = f;
            t.moveTo(s, u),
            t.lineTo(c, f),
            t.lineTo(l, h),
            t.lineTo(r * s - i * u, i * s + r * u),
            t.lineTo(r * c - i * f, i * c + r * f),
            t.lineTo(r * l - i * h, i * l + r * h),
            t.lineTo(r * s + i * u, r * u - i * s),
            t.lineTo(r * c + i * f, r * f - i * c),
            t.lineTo(r * l + i * h, r * h - i * l),
            t.closePath()
        }
    }
}
, function(t, e, n) {
    "use strict";
    e.a = o;
    var r = n(48)
      , i = n(50);
    function o(t, e) {
        this._context = t,
        this._k = (1 - e) / 6
    }
    o.prototype = {
        areaStart: r.a,
        areaEnd: r.a,
        lineStart: function() {
            this._x0 = this._x1 = this._x2 = this._x3 = this._x4 = this._x5 = this._y0 = this._y1 = this._y2 = this._y3 = this._y4 = this._y5 = NaN,
            this._point = 0
        },
        lineEnd: function() {
            switch (this._point) {
            case 1:
                this._context.moveTo(this._x3, this._y3),
                this._context.closePath();
                break;
            case 2:
                this._context.lineTo(this._x3, this._y3),
                this._context.closePath();
                break;
            case 3:
                this.point(this._x3, this._y3),
                this.point(this._x4, this._y4),
                this.point(this._x5, this._y5)
            }
        },
        point: function(t, e) {
            switch (t = +t,
            e = +e,
            this._point) {
            case 0:
                this._point = 1,
                this._x3 = t,
                this._y3 = e;
                break;
            case 1:
                this._point = 2,
                this._context.moveTo(this._x4 = t, this._y4 = e);
                break;
            case 2:
                this._point = 3,
                this._x5 = t,
                this._y5 = e;
                break;
            default:
                Object(i.c)(this, t, e)
            }
            this._x0 = this._x1,
            this._x1 = this._x2,
            this._x2 = t,
            this._y0 = this._y1,
            this._y1 = this._y2,
            this._y2 = e
        }
    },
    e.b = function t(e) {
        function n(t) {
            return new o(t,e)
        }
        return n.tension = function(e) {
            return t(+e)
        }
        ,
        n
    }(0)
}
, function(t, e, n) {
    "use strict";
    e.a = i;
    var r = n(50);
    function i(t, e) {
        this._context = t,
        this._k = (1 - e) / 6
    }
    i.prototype = {
        areaStart: function() {
            this._line = 0
        },
        areaEnd: function() {
            this._line = NaN
        },
        lineStart: function() {
            this._x0 = this._x1 = this._x2 = this._y0 = this._y1 = this._y2 = NaN,
            this._point = 0
        },
        lineEnd: function() {
            (this._line || 0 !== this._line && 3 === this._point) && this._context.closePath(),
            this._line = 1 - this._line
        },
        point: function(t, e) {
            switch (t = +t,
            e = +e,
            this._point) {
            case 0:
                this._point = 1;
                break;
            case 1:
                this._point = 2;
                break;
            case 2:
                this._point = 3,
                this._line ? this._context.lineTo(this._x2, this._y2) : this._context.moveTo(this._x2, this._y2);
                break;
            case 3:
                this._point = 4;
            default:
                Object(r.c)(this, t, e)
            }
            this._x0 = this._x1,
            this._x1 = this._x2,
            this._x2 = t,
            this._y0 = this._y1,
            this._y1 = this._y2,
            this._y2 = e
        }
    },
    e.b = function t(e) {
        function n(t) {
            return new i(t,e)
        }
        return n.tension = function(e) {
            return t(+e)
        }
        ,
        n
    }(0)
}
, function(t, e, n) {
    "use strict";
    var r = n(33);
    function i(t) {
        for (var e, n = -1, r = 0, i = t.length, o = -1 / 0; ++n < i; )
            (e = +t[n][1]) > o && (o = e,
            r = n);
        return r
    }
    e.a = function(t) {
        var e = t.map(i);
        return Object(r.a)(t).sort(function(t, n) {
            return e[t] - e[n]
        })
    }
}
, function(t, e, n) {
    "use strict";
    e.c = function(t) {
        return i.b[t.index] = {
            site: t,
            halfedges: []
        }
    }
    ,
    e.a = a,
    e.d = function() {
        for (var t, e, n, r, a = 0, s = i.b.length; a < s; ++a)
            if ((t = i.b[a]) && (r = (e = t.halfedges).length)) {
                var u = new Array(r)
                  , c = new Array(r);
                for (n = 0; n < r; ++n)
                    u[n] = n,
                    c[n] = o(t, i.e[e[n]]);
                for (u.sort(function(t, e) {
                    return c[e] - c[t]
                }),
                n = 0; n < r; ++n)
                    c[n] = e[u[n]];
                for (n = 0; n < r; ++n)
                    e[n] = c[n]
            }
    }
    ,
    e.b = function(t, e, n, o) {
        var u, c, f, l, h, d, p, m, v, g, y, b, _ = i.b.length, x = !0;
        for (u = 0; u < _; ++u)
            if (c = i.b[u]) {
                for (f = c.site,
                h = c.halfedges,
                l = h.length; l--; )
                    i.e[h[l]] || h.splice(l, 1);
                for (l = 0,
                d = h.length; l < d; )
                    g = s(c, i.e[h[l]]),
                    y = g[0],
                    b = g[1],
                    p = a(c, i.e[h[++l % d]]),
                    m = p[0],
                    v = p[1],
                    (Math.abs(y - m) > i.f || Math.abs(b - v) > i.f) && (h.splice(l, 0, i.e.push(Object(r.b)(f, g, Math.abs(y - t) < i.f && o - b > i.f ? [t, Math.abs(m - t) < i.f ? v : o] : Math.abs(b - o) < i.f && n - y > i.f ? [Math.abs(v - o) < i.f ? m : n, o] : Math.abs(y - n) < i.f && b - e > i.f ? [n, Math.abs(m - n) < i.f ? v : e] : Math.abs(b - e) < i.f && y - t > i.f ? [Math.abs(v - e) < i.f ? m : t, e] : null)) - 1),
                    ++d);
                d && (x = !1)
            }
        if (x) {
            var w, M, E, T = 1 / 0;
            for (u = 0,
            x = null; u < _; ++u)
                (c = i.b[u]) && (f = c.site,
                w = f[0] - t,
                M = f[1] - e,
                (E = w * w + M * M) < T && (T = E,
                x = c));
            if (x) {
                var S = [t, e]
                  , O = [t, o]
                  , A = [n, o]
                  , L = [n, e];
                x.halfedges.push(i.e.push(Object(r.b)(f = x.site, S, O)) - 1, i.e.push(Object(r.b)(f, O, A)) - 1, i.e.push(Object(r.b)(f, A, L)) - 1, i.e.push(Object(r.b)(f, L, S)) - 1)
            }
        }
        for (u = 0; u < _; ++u)
            (c = i.b[u]) && (c.halfedges.length || delete i.b[u])
    }
    ;
    var r = n(92)
      , i = n(34);
    function o(t, e) {
        var n = t.site
          , r = e.left
          , i = e.right;
        return n === i && (i = r,
        r = n),
        i ? Math.atan2(i[1] - r[1], i[0] - r[0]) : (n === r ? (r = e[1],
        i = e[0]) : (r = e[0],
        i = e[1]),
        Math.atan2(r[0] - i[0], i[1] - r[1]))
    }
    function a(t, e) {
        return e[+(e.left !== t.site)]
    }
    function s(t, e) {
        return e[+(e.left === t.site)]
    }
}
, function(t, e, n) {
    "use strict";
    n.d(e, "c", function() {
        return r
    }),
    e.a = function(t) {
        var e = t.P
          , n = t.N;
        if (!e || !n)
            return;
        var s = e.site
          , u = t.site
          , c = n.site;
        if (s === c)
            return;
        var f = u[0]
          , l = u[1]
          , h = s[0] - f
          , d = s[1] - l
          , p = c[0] - f
          , m = c[1] - l
          , v = 2 * (h * m - d * p);
        if (v >= -o.g)
            return;
        var g = h * h + d * d
          , y = p * p + m * m
          , b = (m * g - d * y) / v
          , _ = (h * y - p * g) / v
          , x = a.pop() || new function() {
            Object(i.a)(this),
            this.x = this.y = this.arc = this.site = this.cy = null
        }
        ;
        x.arc = t,
        x.site = u,
        x.x = b + f,
        x.y = (x.cy = _ + l) + Math.sqrt(b * b + _ * _),
        t.circle = x;
        var w = null
          , M = o.c._;
        for (; M; )
            if (x.y < M.y || x.y === M.y && x.x <= M.x) {
                if (!M.L) {
                    w = M.P;
                    break
                }
                M = M.L
            } else {
                if (!M.R) {
                    w = M;
                    break
                }
                M = M.R
            }
        o.c.insert(w, x),
        w || (r = x)
    }
    ,
    e.b = function(t) {
        var e = t.circle;
        e && (e.P || (r = e.N),
        o.c.remove(e),
        a.push(e),
        Object(i.a)(e),
        t.circle = null)
    }
    ;
    var r, i = n(91), o = n(34), a = []
}
, function(t, e, n) {
    "use strict";
    function r(t, e, n) {
        this.k = t,
        this.x = e,
        this.y = n
    }
    e.a = r,
    n.d(e, "c", function() {
        return i
    }),
    e.b = o,
    r.prototype = {
        constructor: r,
        scale: function(t) {
            return 1 === t ? this : new r(this.k * t,this.x,this.y)
        },
        translate: function(t, e) {
            return 0 === t & 0 === e ? this : new r(this.k,this.x + this.k * t,this.y + this.k * e)
        },
        apply: function(t) {
            return [t[0] * this.k + this.x, t[1] * this.k + this.y]
        },
        applyX: function(t) {
            return t * this.k + this.x
        },
        applyY: function(t) {
            return t * this.k + this.y
        },
        invert: function(t) {
            return [(t[0] - this.x) / this.k, (t[1] - this.y) / this.k]
        },
        invertX: function(t) {
            return (t - this.x) / this.k
        },
        invertY: function(t) {
            return (t - this.y) / this.k
        },
        rescaleX: function(t) {
            return t.copy().domain(t.range().map(this.invertX, this).map(t.invert, t))
        },
        rescaleY: function(t) {
            return t.copy().domain(t.range().map(this.invertY, this).map(t.invert, t))
        },
        toString: function() {
            return "translate(" + this.x + "," + this.y + ") scale(" + this.k + ")"
        }
    };
    var i = new r(1,0,0);
    function o(t) {
        return t.__zoom || i
    }
    o.prototype = r.prototype
}
, function(t, e, n) {
    "use strict";
    !function(t) {
        if (t && t.__esModule)
            return t;
        var e = {};
        if (null != t)
            for (var n in t)
                Object.prototype.hasOwnProperty.call(t, n) && (e[n] = t[n]);
        e.default = t
    }(n(51));
    var r, i = n(182), o = n(186), a = (r = o) && r.__esModule ? r : {
        default: r
    };
    ({
        graph: new i.GraphXR,
        layout: a.default,
        timer: null,
        lastReportTime: 0,
        currentTime: (new Date).getTime(),
        init: function() {
            var t = this;
            self.onmessage = function(e) {
                return t.handleMessage(e)
            }
            ,
            this.layout.handleTick = function() {
                return t.handleTick()
            }
            ,
            this.layout.handleStart = function() {
                self.postMessage({
                    command: "new_stats",
                    payload: {
                        isStart: !0,
                        isFinish: !1
                    }
                })
            }
            ,
            this.layout.handleStop = function() {
                self.postMessage({
                    command: "new_stats",
                    payload: {
                        isStart: !1,
                        isFinish: !0
                    }
                }),
                t.clearTimer(),
                t.timer = setTimeout(function() {
                    t.handleTick()
                }, 16)
            }
        },
        clearTimer: function() {
            this.timer && (clearTimeout(this.timer),
            this.timer = null)
        },
        handleMessage: function(t) {
            var e = t.data
              , n = e.command
              , r = e.payload;
            switch (n) {
            case "init_graph":
                console.log("Worker: Initializing graph"),
                this.graph.createFromArray(r.graph),
                this.layout.init(this.graph, r.options),
                this.layout.start_layout(),
                void 0 !== r.options.alpha && this.layout.force.alpha(r.options.alpha),
                this.startAutoTick();
                break;
            case "init_or_continue_graph":
                console.log("Worker: updating graph"),
                this.graph.createFromArray(r.graph),
                this.layout.initOrContinueGraph(this.graph, r.options),
                this.startAutoTick();
                break;
            case "update_separate_region":
                this.layout.updateSeparateRegion(r.separateRegion);
                break;
            case "update_region_x_scale":
                this.layout.updateRegionXScale(r.regionXScale);
                break;
            case "update_layout_option":
                this.layout.updateLayoutOption(r.id, r.value);
                break;
            case "updateRegionCenter":
                this.layout.updateRegionCenter(r.regionCenter, r.defaultRegion);
                break;
            case "start_layout":
                console.log("Worker: starting layout"),
                this.layout.start_layout(),
                this.startAutoTick();
                break;
            case "stop_layout":
                console.log("Worker: stoping layout"),
                this.layout.stop_layout();
                break;
            case "restart_layout":
                console.log("Worker: restart layout"),
                this.layout.restart_layout(),
                this.startAutoTick();
                break;
            case "set_node_position":
                this.layout.set_node_position(r.id, r.position),
                this.startAutoTick();
                break;
            case "setNodesPositions":
                this.layout.setNodesPositions(r.nodeIds, r.positions),
                this.startAutoTick();
                break;
            case "pinNodeIds":
                this.layout.pinNodeIds(r.nodeIds, r.isUnPin),
                this.startAutoTick();
                break;
            case "pin_node":
                this.layout.pin_node(r.id),
                this.startAutoTick();
                break;
            case "pin_all":
                this.layout.pinAll(r.isPin),
                this.startAutoTick();
                break;
            case "unpin_node":
                this.layout.unpin_node(r.id),
                this.startAutoTick();
                break;
            case "clean_graph":
                this.layout.clean_graph(),
                this.startAutoTick();
                break;
            case "fix":
                this.layout.fix(r.id, r.position),
                this.startAutoTick();
            case "reset_graph_restart_layout":
                this.layout.reset_graph_restart_layout(r.graph),
                this.startAutoTick();
                break;
            case "enable":
            case "updateEnableWithNoLayout":
                this.layout.enable = r.enable;
                break;
            default:
                console.log("Worker: command unrecognized:", n)
            }
        },
        handleTick: function() {
            if (!this.layout.enable)
                return this.clearTimer();
            this.layout.isFinish && this.clearTimer(),
            this.currentTime = performance.now(),
            this.currentTime - this.lastReportTime > 17 && (this.layout.render(!0),
            self.postMessage({
                command: "new_position",
                payload: this.graph.serialize(),
                isFinish: this.layout.isFinish
            }),
            this.lastReportTime = this.currentTime)
        },
        startAutoTick: function() {
            var t = this;
            this.autoTick(),
            this.clearTimer(),
            this.timer = setTimeout(function() {
                t.autoTick()
            }, 50)
        },
        autoTick: function() {
            var t = this;
            this.clearTimer(),
            this.timer = setTimeout(function() {
                t.autoTick()
            }, 50),
            this.layout.isFinish ? this.clearTimer() : this.handleTick()
        }
    }).init()
}
, function(t, e, n) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    }),
    e.Edge = e.Node = e.ColorSchema = e.GraphXR = void 0;
    var r = function() {
        function t(t, e) {
            for (var n = 0; n < e.length; n++) {
                var r = e[n];
                r.enumerable = r.enumerable || !1,
                r.configurable = !0,
                "value"in r && (r.writable = !0),
                Object.defineProperty(t, r.key, r)
            }
        }
        return function(e, n, r) {
            return n && t(e.prototype, n),
            r && t(e, r),
            e
        }
    }()
      , i = s(n(183))
      , o = function(t) {
        if (t && t.__esModule)
            return t;
        var e = {};
        if (null != t)
            for (var n in t)
                Object.prototype.hasOwnProperty.call(t, n) && (e[n] = t[n]);
        return e.default = t,
        e
    }(n(51))
      , a = s(n(93));
    function s(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    function u(t, e) {
        if (!(t instanceof e))
            throw new TypeError("Cannot call a class as a function")
    }
    var c = {
        LABEL: 0,
        TAG: 1,
        PROPERTY: 2
    }
      , f = function() {
        function t(e) {
            u(this, t),
            this.options = e || {},
            this.nodeSet = {},
            this.nodes = [],
            this.edges = [],
            this.filters = [],
            this.renderNeedsUpdate = !1,
            this.colorSchema = c.LABEL,
            this.visibleNodes = [],
            this.visibleEdges = [],
            this.layoutNodes = this.visibleNodes,
            this.layoutEdges = this.visibleEdges
        }
        return r(t, [{
            key: "addFilter",
            value: function(t) {
                this.filters.push(t)
            }
        }, {
            key: "resetFilter",
            value: function() {
                this.nodes.forEach(function(t) {
                    t.alpha = 1,
                    t.image && (t.alpha = 0,
                    t.imageAlpha = 1)
                }),
                this.edges.forEach(function(t) {
                    t.alpha = 1
                })
            }
        }, {
            key: "applyFilters",
            value: function() {
                var t = this;
                this.filters.forEach(function(e) {
                    e.apply(t)
                })
            }
        }, {
            key: "addNode",
            value: function(t) {
                var e = !(arguments.length > 1 && void 0 !== arguments[1]) || arguments[1];
                if (this.reached_limit())
                    return !1;
                if (this.renderNeedsUpdate = e,
                void 0 == this.nodeSet[t.id]) {
                    var n = t;
                    return t instanceof l || (n = new l(t.id)).restore(t),
                    this.nodeSet[t.id] = n,
                    this.nodes.push(n),
                    this.layoutNodes.push(n),
                    !0
                }
                return !!this.nodeSet[t.id] && (this.nodeSet[t.id].restore(t, !0),
                !0)
            }
        }, {
            key: "addNodes",
            value: function(t) {
                var e = this;
                t.forEach(function(t) {
                    e.addNode(t)
                })
            }
        }, {
            key: "clear",
            value: function() {
                for (var t in this.renderNeedsUpdate = !0,
                this.nodeSet)
                    delete this.nodeSet[t];
                this.nodes.length = 0,
                this.edges.length = 0,
                this.layoutEdges.length = 0,
                this.layoutNodes.length = 0,
                this.visibleEdges.length = 0,
                this.visibleNodes.length = 0
            }
        }, {
            key: "removeAllNodesAndEdges",
            value: function() {
                this.clear()
            }
        }, {
            key: "nodeIdExist",
            value: function(t) {
                return void 0 != this.nodeSet[t]
            }
        }, {
            key: "getNode",
            value: function(t) {
                return this.getNodeById(t)
            }
        }, {
            key: "getNodeById",
            value: function(t) {
                return this.nodeSet[t]
            }
        }, {
            key: "getEdgesToNode",
            value: function(t) {
                return this.getEdgesWithNodeId(t.id)
            }
        }, {
            key: "getEdgesWithNodeId",
            value: function(t) {
                return i.default.filter(this.edges, function(e) {
                    return e.sourceId == t || e.targetId == t
                })
            }
        }, {
            key: "addEdges",
            value: function(t) {
                var e, n, r, i = this, o = [];
                (t.forEach(function(t) {
                    var e = i.nodeSet[t.sourceId]
                      , n = i.nodeSet[t.targetId]
                      , r = i.getEdgeWithId(t.sourceId, t.targetId);
                    if (e && n && !r) {
                        var a = t;
                        t instanceof h ? (a.source = e,
                        a.target = n) : a = new h(e,n,{
                            color: t.color,
                            alpha: t.alpha
                        }),
                        o.push(a)
                    } else
                        r && (r.restore(t),
                        r.source = e,
                        r.target = n)
                }),
                (e = this.edges).push.apply(e, o),
                (n = this.layoutEdges).push.apply(n, o),
                this.layoutEdges != this.visibleEdges) && (r = this.visibleEdges).push.apply(r, o)
            }
        }, {
            key: "getNodeByName",
            value: function(t) {
                return i.default.find(this.nodes, function(e) {
                    return e.data.name == t
                })
            }
        }, {
            key: "getEdgeWithId",
            value: function(t, e) {
                return i.default.find(this.edges, function(n) {
                    return n.sourceId == t && n.targetId == e
                })
            }
        }, {
            key: "getEdge",
            value: function(t, e) {
                return t && e ? this.getEdgeWithId(t.id, e.id) : null
            }
        }, {
            key: "addEdge",
            value: function(t, e, n) {
                var r = !(arguments.length > 3 && void 0 !== arguments[3]) || arguments[3];
                if (!t || !e)
                    return null;
                this.renderNeedsUpdate = r;
                var i = this.getEdge(t, e);
                return i || (i = new h(t,e),
                n && (n.data && (i.data = n.data),
                n.color && (i.color = n.color),
                n.alpha && (i.alpha = n.alpha)),
                this.edges.push(i),
                this.layoutEdges.push(i),
                this.layoutEdges != this.visibleEdges && this.visibleEdges.push(i)),
                i
            }
        }, {
            key: "removeEdge",
            value: function(t, e) {
                i.default.remove(this.edges, function(n) {
                    return n.sourceId == t && n.targetId == e
                }),
                i.default.remove(this.layoutEdges, function(n) {
                    return n.sourceId == t && n.targetId == e
                }),
                i.default.remove(this.visibleEdges, function(n) {
                    return n.sourceId == t && n.targetId == e
                }),
                this.renderNeedsUpdate = !0
            }
        }, {
            key: "reached_limit",
            value: function() {
                return void 0 != this.options.limit && this.options.limit <= this.nodes.length
            }
        }, {
            key: "update_degree",
            value: function() {
                this.nodes.forEach(function(t) {
                    t.degree = 0,
                    t.neighbor = []
                }),
                this.edges.forEach(function(t) {
                    t.source.degree += 1,
                    t.source.neighbor.push(t.target.id),
                    t.target.degree += 1,
                    t.target.neighbor.push(t.source.id)
                })
            }
        }, {
            key: "sanity_check",
            value: function() {
                this.edges.forEach(function(t) {
                    t.source == t.target && console.log("src == tgt " + t.sourceId + " --- " + t.targetId)
                })
            }
        }, {
            key: "createFromArray",
            value: function(t) {
                var e = this
                  , n = {};
                t.layoutNodes.forEach(function(t) {
                    e.addNode(t, !1),
                    n[t.id] = t.id
                }),
                this.removeNodesByIds(this.nodes.filter(function(t) {
                    return void 0 === n[t.id]
                }).map(function(t) {
                    return t.id
                }));
                var r = {};
                t.layoutEdges.forEach(function(t) {
                    var n = e.addEdge(e.getNodeById(t.sourceId), e.getNodeById(t.targetId), {}, !1);
                    n && n.id && (r[n.id] = n.id)
                }),
                i.default.remove(this.edges, function(t) {
                    return !r[t.id]
                }),
                i.default.remove(this.layoutEdges, function(t) {
                    return !r[t.id]
                }),
                i.default.remove(this.visibleEdges, function(t) {
                    return !r[t.id]
                }),
                this.renderNeedsUpdate = !0
            }
        }, {
            key: "serialize",
            value: function() {
                var t = this.layoutEdges
                  , e = this.layoutNodes;
                return {
                    layoutEdges: t.map(function(t) {
                        return {
                            alpha: t.alpha,
                            sourceId: t.sourceId,
                            targetId: t.targetId
                        }
                    }),
                    layoutNodes: e.map(function(t) {
                        return {
                            alpha: t.alpha,
                            id: t.id,
                            position: t.position,
                            data: {}
                        }
                    })
                }
            }
        }, {
            key: "updatePositionFromArray",
            value: function(t) {
                var e = this;
                t.length == this.layoutNodes.length && (t.forEach(function(t) {
                    e.nodeSet[t.id] && (e.nodeSet[t.id].position.x = t.position.x,
                    e.nodeSet[t.id].position.y = t.position.y,
                    e.nodeSet[t.id].position.z = t.position.z)
                }),
                this.renderNeedsUpdate = !0)
            }
        }, {
            key: "updatePropertyByLabel",
            value: function(t, e, n) {
                this.nodes.filter(function(e) {
                    return e.data.detail.type == t
                }).forEach(function(t) {
                    void 0 !== t[e] && (t[e] = n)
                })
            }
        }, {
            key: "updateNodeSizeByProperty",
            value: function(t, e) {
                if ("" == e)
                    this.nodes.filter(function(e) {
                        return e.data.detail.type == t
                    }).forEach(function(t) {
                        return t.size = window.currentNodesSize ? window.currentNodesSize : 1.585
                    });
                else {
                    var n = this.nodes.filter(function(e) {
                        return e.data.detail.type == t
                    }).filter(function(t) {
                        return void 0 !== t.data.detail.data[e] && "number" == typeof t.data.detail.data[e]
                    })
                      , r = n.map(function(t) {
                        return t.data.detail.data[e]
                    }).filter(function(t) {
                        return !isNaN(t)
                    });
                    if (r.length < 2)
                        console.log("Not enough valid number for node size scaling");
                    else {
                        var o = i.default.max(r) + 1e-4
                          , a = i.default.min(r);
                        n.forEach(function(t) {
                            var n, r, i;
                            void 0 !== t.data.detail.data[e] && "number" == typeof t.data.detail.data[e] && (t.size = (n = t.data.detail.data[e],
                            r = o,
                            i = a,
                            window.currentNodesSize ? (1 + (n - i) / (r - i) * 3) * window.currentNodesSize : 1 * (1 + (n - i) / (r - i) * 3)))
                        })
                    }
                }
            }
        }, {
            key: "updateNodeParams",
            value: function(t) {
                var e = this;
                Object.keys(t).forEach(function(n) {
                    e.nodeSet[n] && (e.nodeSet[n].position.x = t[n].position.x,
                    e.nodeSet[n].position.y = t[n].position.y,
                    e.nodeSet[n].position.z = t[n].position.z,
                    e.nodeSet[n].alpha = t[n].alpha,
                    e.nodeSet[n].imageAlpha = t[n].imageAlpha,
                    e.nodeSet[n].size = t[n].size,
                    e.nodeSet[n].selected = t[n].selected,
                    e.nodeSet[n].icon = t[n].icon)
                }),
                this.renderNeedsUpdate = !0
            }
        }, {
            key: "updateVisibleAndLayoutElements",
            value: function(t) {
                t || this.update_degree(),
                this.visibleNodes = t ? this.nodes.filter(function(t) {
                    return t.degree > 1
                }) : [].concat(this.nodes),
                this.visibleEdges = t ? this.edges.filter(function(t) {
                    return t.source.degree > 1 && t.target.degree > 1
                }) : [].concat(this.edges),
                this.layoutNodes = this.visibleNodes,
                this.layoutEdges = this.visibleEdges,
                console.log("full: " + this.nodes.length + ", " + this.edges.length + "\n      visible: " + this.visibleNodes.length + ", " + this.visibleEdges.length),
                this.renderNeedsUpdate = !0
            }
        }, {
            key: "removeVisibleLeaf",
            value: function() {
                var t = {};
                this.visibleEdges.forEach(function(e) {
                    t[e.sourceId] || (t[e.sourceId] = {}),
                    t[e.targetId] || (t[e.targetId] = {}),
                    t[e.sourceId][e.id] = e.id,
                    t[e.targetId][e.id] = e.id
                }),
                i.default.forEach(t, function(e, n) {
                    t[n] = i.default.size(e)
                }),
                this.visibleNodes = this.visibleNodes.filter(function(e) {
                    return t[e.id] > 1
                }),
                this.visibleEdges = this.visibleEdges.filter(function(e) {
                    return t[e.sourceId] > 1 && t[e.targetId] > 1
                }),
                this.layoutNodes = this.visibleNodes,
                this.layoutEdges = this.visibleEdges,
                this.renderNeedsUpdate = !0
            }
        }, {
            key: "removeNodeWithoutEdges",
            value: function() {
                var t = this
                  , e = this.visibleNodes.filter(function(e) {
                    var n = i.default.filter(t.visibleEdges, function(t) {
                        return t.sourceId == e.id || t.targetId == e.id
                    });
                    return !n || 0 == n.length
                });
                this.removeNodesByIds(e.map(function(t) {
                    return t.id
                }), !0)
            }
        }, {
            key: "removeEdgesNodeNotExist",
            value: function() {
                var t = this
                  , e = this.edges.filter(function(e) {
                    var n = t.nodeSet[e.sourceId]
                      , r = t.nodeSet[e.targetId];
                    return void 0 == n || void 0 == r
                }).map(function(t) {
                    return t.id
                });
                this.removeEdgesByIds(e)
            }
        }, {
            key: "removeNodeById",
            value: function(t) {
                this.nodeIdExist(t) && this.removeNodesByIds([t])
            }
        }, {
            key: "removeNodesByIds",
            value: function(t, e) {
                var n = this;
                if (t && Array.isArray(t) && t.length > 0) {
                    var r = i.default.remove(e ? this.visibleEdges : this.edges, function(e) {
                        return t.includes(e.sourceId) || t.includes(e.targetId)
                    })
                      , o = {};
                    r.forEach(function(t) {
                        o[t.id] = !0
                    }),
                    i.default.remove(this.edges, function(t) {
                        return o[t.id]
                    }),
                    i.default.remove(this.visibleEdges, function(t) {
                        return o[t.id]
                    }),
                    i.default.remove(this.layoutEdges, function(t) {
                        return o[t.id]
                    }),
                    r && r.length > 0 && r.forEach(function(t) {
                        t.source.data.neighborsCount = 0,
                        t.source.data.hasAllNeighbors = !1,
                        t.target.data.neighborsCount = 0,
                        t.target.data.hasAllNeighbors = !1
                    });
                    var a = i.default.remove(e ? this.visibleNodes : this.nodes, function(e) {
                        return t.includes(e.id)
                    }).map(function(t) {
                        return t.id
                    });
                    a && a.length > 0 && (a.forEach(function(t) {
                        delete n.nodeSet[t]
                    }),
                    i.default.remove(this.nodes, function(t) {
                        return a.includes(t.id)
                    }),
                    i.default.remove(this.layoutNodes, function(t) {
                        return a.includes(t.id)
                    }),
                    i.default.remove(this.visibleNodes, function(t) {
                        return a.includes(t.id)
                    }))
                }
            }
        }, {
            key: "removeEdgesByIds",
            value: function(t) {
                if (t && Array.isArray(t) && t.length > 0) {
                    var e = i.default.remove(this.edges, function(e) {
                        return t.includes(e.id)
                    });
                    i.default.remove(this.layoutEdges, function(e) {
                        return t.includes(e.id)
                    }),
                    i.default.remove(this.visibleEdges, function(e) {
                        return t.includes(e.id)
                    }),
                    e && e.length > 0 && e.forEach(function(t) {
                        t.source.data.neighborsCount = 0,
                        t.source.data.hasAllNeighbors = !1,
                        t.target.data.neighborsCount = 0,
                        t.target.data.hasAllNeighbors = !1
                    })
                }
            }
        }, {
            key: "updateEdgeSourceTarget",
            value: function(t) {
                t && (t.target = this.nodeSet[t.targetId],
                t.source = this.nodeSet[t.sourceId])
            }
        }]),
        t
    }()
      , l = function() {
        function t(e, n) {
            u(this, t),
            this.id = String(e),
            this.index = 0,
            this.degree = 0,
            this.position = new o.Vector3(0,0,0),
            this.color = new o.Color(3836361),
            this.alpha = 1,
            this.imageAlpha = 1,
            this.icon = 0,
            this.data = {},
            this.pinned = !1,
            this.fixed = !1,
            this.selected = !1,
            this.wasFixed = !1,
            this.size = Math.pow(10, .2),
            this.clone = this.clone.bind(this)
        }
        return r(t, [{
            key: "clone",
            value: function() {
                var e = new t(this.id);
                return e.index = this.index,
                e.degree = this.degree,
                e.position = this.position.clone(),
                e.color = this.color.clone(),
                e.size = this.size,
                e.alpha = this.alpha,
                e.imageAlpha = this.imageAlpha,
                e.icon = this.icon,
                e.data = this.data,
                e.pinned = this.pinned,
                e.fixed = this.fixed,
                e.selected = this.selected,
                e.wasFixed = this.wasFixed,
                e
            }
        }, {
            key: "restore",
            value: function(t) {
                var e = arguments.length > 1 && void 0 !== arguments[1] && arguments[1];
                return this.index = t.index,
                this.degree = t.degree,
                e || (this.position = (new o.Vector3).fromArray(t.position)),
                this.color = new o.Color(t.color),
                this.alpha = t.alpha,
                this.imageAlpha = t.imageAlpha,
                this.icon = t.icon,
                this.size = t.size,
                this.data = t.data || this.data,
                this.pinned = t.pinned,
                this.fixed = t.fixed,
                this.selected = t.selected,
                this.wasFixed = t.wasFixed,
                this
            }
        }, {
            key: "toJSON",
            value: function() {
                return {
                    id: this.id,
                    index: this.index,
                    degree: this.degree,
                    position: this.position.toArray(),
                    color: this.color.getStyle(),
                    size: this.size,
                    alpha: this.alpha,
                    imageAlpha: this.imageAlpha,
                    icon: this.icon,
                    data: this.data,
                    pinned: this.pinned,
                    fixed: this.fixed,
                    selected: this.selected,
                    wasFixed: this.wasFixed
                }
            }
        }]),
        t
    }()
      , h = function() {
        function t(e, n, r) {
            u(this, t),
            this.uid = "",
            this.sourceId = e.id,
            this.targetId = n.id,
            this.source = e,
            this.target = n,
            this.name = "",
            this.alpha = r && r.alpha ? r.alpha : a.default.config.edgeDefaultAlpha,
            this.properties = {},
            this.color = new o.Color(r && r.color ? r.color : a.default.colors.edge)
        }
        return r(t, [{
            key: "toJSON",
            value: function() {
                return {
                    id: this.id,
                    sourceId: this.sourceId,
                    targetId: this.targetId,
                    name: this.name,
                    data: this.data,
                    properties: this.properties,
                    alpha: this.alpha,
                    color: this.color.getStyle()
                }
            }
        }, {
            key: "restore",
            value: function(t) {
                return this.sourceId = t.sourceId,
                this.targetId = t.targetId,
                this.name = t.name,
                this.data = t.data || this.data,
                this.alpha = t.alpha,
                this.properties = t.properties || this.properties || {},
                this.color = new o.Color(t.color),
                this
            }
        }, {
            key: "id",
            get: function() {
                return this.sourceId + "-" + this.targetId
            }
        }]),
        t
    }();
    e.GraphXR = f,
    e.ColorSchema = c,
    e.Node = l,
    e.Edge = h
}
, function(t, e, n) {
    (function(t, r) {
        var i;
        /**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright JS Foundation and other contributors <https://js.foundation/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */
        (function() {
            var o, a = 200, s = "Unsupported core-js use. Try https://npms.io/search?q=ponyfill.", u = "Expected a function", c = "__lodash_hash_undefined__", f = 500, l = "__lodash_placeholder__", h = 1, d = 2, p = 4, m = 1, v = 2, g = 1, y = 2, b = 4, _ = 8, x = 16, w = 32, M = 64, E = 128, T = 256, S = 512, O = 30, A = "...", L = 800, R = 16, C = 1, j = 2, P = 1 / 0, N = 9007199254740991, I = 1.7976931348623157e308, D = NaN, U = 4294967295, z = U - 1, B = U >>> 1, k = [["ary", E], ["bind", g], ["bindKey", y], ["curry", _], ["curryRight", x], ["flip", S], ["partial", w], ["partialRight", M], ["rearg", T]], F = "[object Arguments]", G = "[object Array]", H = "[object AsyncFunction]", V = "[object Boolean]", W = "[object Date]", q = "[object DOMException]", X = "[object Error]", Y = "[object Function]", Z = "[object GeneratorFunction]", J = "[object Map]", Q = "[object Number]", K = "[object Null]", $ = "[object Object]", tt = "[object Proxy]", et = "[object RegExp]", nt = "[object Set]", rt = "[object String]", it = "[object Symbol]", ot = "[object Undefined]", at = "[object WeakMap]", st = "[object WeakSet]", ut = "[object ArrayBuffer]", ct = "[object DataView]", ft = "[object Float32Array]", lt = "[object Float64Array]", ht = "[object Int8Array]", dt = "[object Int16Array]", pt = "[object Int32Array]", mt = "[object Uint8Array]", vt = "[object Uint8ClampedArray]", gt = "[object Uint16Array]", yt = "[object Uint32Array]", bt = /\b__p \+= '';/g, _t = /\b(__p \+=) '' \+/g, xt = /(__e\(.*?\)|\b__t\)) \+\n'';/g, wt = /&(?:amp|lt|gt|quot|#39);/g, Mt = /[&<>"']/g, Et = RegExp(wt.source), Tt = RegExp(Mt.source), St = /<%-([\s\S]+?)%>/g, Ot = /<%([\s\S]+?)%>/g, At = /<%=([\s\S]+?)%>/g, Lt = /\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/, Rt = /^\w*$/, Ct = /[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g, jt = /[\\^$.*+?()[\]{}|]/g, Pt = RegExp(jt.source), Nt = /^\s+|\s+$/g, It = /^\s+/, Dt = /\s+$/, Ut = /\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/, zt = /\{\n\/\* \[wrapped with (.+)\] \*/, Bt = /,? & /, kt = /[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g, Ft = /\\(\\)?/g, Gt = /\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g, Ht = /\w*$/, Vt = /^[-+]0x[0-9a-f]+$/i, Wt = /^0b[01]+$/i, qt = /^\[object .+?Constructor\]$/, Xt = /^0o[0-7]+$/i, Yt = /^(?:0|[1-9]\d*)$/, Zt = /[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g, Jt = /($^)/, Qt = /['\n\r\u2028\u2029\\]/g, Kt = "\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff", $t = "\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000", te = "[\\ud800-\\udfff]", ee = "[" + $t + "]", ne = "[" + Kt + "]", re = "\\d+", ie = "[\\u2700-\\u27bf]", oe = "[a-z\\xdf-\\xf6\\xf8-\\xff]", ae = "[^\\ud800-\\udfff" + $t + re + "\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]", se = "\\ud83c[\\udffb-\\udfff]", ue = "[^\\ud800-\\udfff]", ce = "(?:\\ud83c[\\udde6-\\uddff]){2}", fe = "[\\ud800-\\udbff][\\udc00-\\udfff]", le = "[A-Z\\xc0-\\xd6\\xd8-\\xde]", he = "(?:" + oe + "|" + ae + ")", de = "(?:" + le + "|" + ae + ")", pe = "(?:" + ne + "|" + se + ")" + "?", me = "[\\ufe0e\\ufe0f]?" + pe + ("(?:\\u200d(?:" + [ue, ce, fe].join("|") + ")[\\ufe0e\\ufe0f]?" + pe + ")*"), ve = "(?:" + [ie, ce, fe].join("|") + ")" + me, ge = "(?:" + [ue + ne + "?", ne, ce, fe, te].join("|") + ")", ye = RegExp("[']", "g"), be = RegExp(ne, "g"), _e = RegExp(se + "(?=" + se + ")|" + ge + me, "g"), xe = RegExp([le + "?" + oe + "+(?:['](?:d|ll|m|re|s|t|ve))?(?=" + [ee, le, "$"].join("|") + ")", de + "+(?:['](?:D|LL|M|RE|S|T|VE))?(?=" + [ee, le + he, "$"].join("|") + ")", le + "?" + he + "+(?:['](?:d|ll|m|re|s|t|ve))?", le + "+(?:['](?:D|LL|M|RE|S|T|VE))?", "\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])", "\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])", re, ve].join("|"), "g"), we = RegExp("[\\u200d\\ud800-\\udfff" + Kt + "\\ufe0e\\ufe0f]"), Me = /[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/, Ee = ["Array", "Buffer", "DataView", "Date", "Error", "Float32Array", "Float64Array", "Function", "Int8Array", "Int16Array", "Int32Array", "Map", "Math", "Object", "Promise", "RegExp", "Set", "String", "Symbol", "TypeError", "Uint8Array", "Uint8ClampedArray", "Uint16Array", "Uint32Array", "WeakMap", "_", "clearTimeout", "isFinite", "parseInt", "setTimeout"], Te = -1, Se = {};
            Se[ft] = Se[lt] = Se[ht] = Se[dt] = Se[pt] = Se[mt] = Se[vt] = Se[gt] = Se[yt] = !0,
            Se[F] = Se[G] = Se[ut] = Se[V] = Se[ct] = Se[W] = Se[X] = Se[Y] = Se[J] = Se[Q] = Se[$] = Se[et] = Se[nt] = Se[rt] = Se[at] = !1;
            var Oe = {};
            Oe[F] = Oe[G] = Oe[ut] = Oe[ct] = Oe[V] = Oe[W] = Oe[ft] = Oe[lt] = Oe[ht] = Oe[dt] = Oe[pt] = Oe[J] = Oe[Q] = Oe[$] = Oe[et] = Oe[nt] = Oe[rt] = Oe[it] = Oe[mt] = Oe[vt] = Oe[gt] = Oe[yt] = !0,
            Oe[X] = Oe[Y] = Oe[at] = !1;
            var Ae = {
                "\\": "\\",
                "'": "'",
                "\n": "n",
                "\r": "r",
                "\u2028": "u2028",
                "\u2029": "u2029"
            }
              , Le = parseFloat
              , Re = parseInt
              , Ce = "object" == typeof t && t && t.Object === Object && t
              , je = "object" == typeof self && self && self.Object === Object && self
              , Pe = Ce || je || Function("return this")()
              , Ne = "object" == typeof e && e && !e.nodeType && e
              , Ie = Ne && "object" == typeof r && r && !r.nodeType && r
              , De = Ie && Ie.exports === Ne
              , Ue = De && Ce.process
              , ze = function() {
                try {
                    var t = Ie && Ie.require && Ie.require("util").types;
                    return t || Ue && Ue.binding && Ue.binding("util")
                } catch (t) {}
            }()
              , Be = ze && ze.isArrayBuffer
              , ke = ze && ze.isDate
              , Fe = ze && ze.isMap
              , Ge = ze && ze.isRegExp
              , He = ze && ze.isSet
              , Ve = ze && ze.isTypedArray;
            function We(t, e, n) {
                switch (n.length) {
                case 0:
                    return t.call(e);
                case 1:
                    return t.call(e, n[0]);
                case 2:
                    return t.call(e, n[0], n[1]);
                case 3:
                    return t.call(e, n[0], n[1], n[2])
                }
                return t.apply(e, n)
            }
            function qe(t, e, n, r) {
                for (var i = -1, o = null == t ? 0 : t.length; ++i < o; ) {
                    var a = t[i];
                    e(r, a, n(a), t)
                }
                return r
            }
            function Xe(t, e) {
                for (var n = -1, r = null == t ? 0 : t.length; ++n < r && !1 !== e(t[n], n, t); )
                    ;
                return t
            }
            function Ye(t, e) {
                for (var n = null == t ? 0 : t.length; n-- && !1 !== e(t[n], n, t); )
                    ;
                return t
            }
            function Ze(t, e) {
                for (var n = -1, r = null == t ? 0 : t.length; ++n < r; )
                    if (!e(t[n], n, t))
                        return !1;
                return !0
            }
            function Je(t, e) {
                for (var n = -1, r = null == t ? 0 : t.length, i = 0, o = []; ++n < r; ) {
                    var a = t[n];
                    e(a, n, t) && (o[i++] = a)
                }
                return o
            }
            function Qe(t, e) {
                return !!(null == t ? 0 : t.length) && un(t, e, 0) > -1
            }
            function Ke(t, e, n) {
                for (var r = -1, i = null == t ? 0 : t.length; ++r < i; )
                    if (n(e, t[r]))
                        return !0;
                return !1
            }
            function $e(t, e) {
                for (var n = -1, r = null == t ? 0 : t.length, i = Array(r); ++n < r; )
                    i[n] = e(t[n], n, t);
                return i
            }
            function tn(t, e) {
                for (var n = -1, r = e.length, i = t.length; ++n < r; )
                    t[i + n] = e[n];
                return t
            }
            function en(t, e, n, r) {
                var i = -1
                  , o = null == t ? 0 : t.length;
                for (r && o && (n = t[++i]); ++i < o; )
                    n = e(n, t[i], i, t);
                return n
            }
            function nn(t, e, n, r) {
                var i = null == t ? 0 : t.length;
                for (r && i && (n = t[--i]); i--; )
                    n = e(n, t[i], i, t);
                return n
            }
            function rn(t, e) {
                for (var n = -1, r = null == t ? 0 : t.length; ++n < r; )
                    if (e(t[n], n, t))
                        return !0;
                return !1
            }
            var on = hn("length");
            function an(t, e, n) {
                var r;
                return n(t, function(t, n, i) {
                    if (e(t, n, i))
                        return r = n,
                        !1
                }),
                r
            }
            function sn(t, e, n, r) {
                for (var i = t.length, o = n + (r ? 1 : -1); r ? o-- : ++o < i; )
                    if (e(t[o], o, t))
                        return o;
                return -1
            }
            function un(t, e, n) {
                return e == e ? function(t, e, n) {
                    var r = n - 1
                      , i = t.length;
                    for (; ++r < i; )
                        if (t[r] === e)
                            return r;
                    return -1
                }(t, e, n) : sn(t, fn, n)
            }
            function cn(t, e, n, r) {
                for (var i = n - 1, o = t.length; ++i < o; )
                    if (r(t[i], e))
                        return i;
                return -1
            }
            function fn(t) {
                return t != t
            }
            function ln(t, e) {
                var n = null == t ? 0 : t.length;
                return n ? mn(t, e) / n : D
            }
            function hn(t) {
                return function(e) {
                    return null == e ? o : e[t]
                }
            }
            function dn(t) {
                return function(e) {
                    return null == t ? o : t[e]
                }
            }
            function pn(t, e, n, r, i) {
                return i(t, function(t, i, o) {
                    n = r ? (r = !1,
                    t) : e(n, t, i, o)
                }),
                n
            }
            function mn(t, e) {
                for (var n, r = -1, i = t.length; ++r < i; ) {
                    var a = e(t[r]);
                    a !== o && (n = n === o ? a : n + a)
                }
                return n
            }
            function vn(t, e) {
                for (var n = -1, r = Array(t); ++n < t; )
                    r[n] = e(n);
                return r
            }
            function gn(t) {
                return function(e) {
                    return t(e)
                }
            }
            function yn(t, e) {
                return $e(e, function(e) {
                    return t[e]
                })
            }
            function bn(t, e) {
                return t.has(e)
            }
            function _n(t, e) {
                for (var n = -1, r = t.length; ++n < r && un(e, t[n], 0) > -1; )
                    ;
                return n
            }
            function xn(t, e) {
                for (var n = t.length; n-- && un(e, t[n], 0) > -1; )
                    ;
                return n
            }
            var wn = dn({
                "": "A",
                "": "A",
                "": "A",
                "": "A",
                "": "A",
                "": "A",
                "": "a",
                "": "a",
                "": "a",
                "": "a",
                "": "a",
                "": "a",
                "": "C",
                "": "c",
                "": "D",
                "": "d",
                "": "E",
                "": "E",
                "": "E",
                "": "E",
                "": "e",
                "": "e",
                "": "e",
                "": "e",
                "": "I",
                "": "I",
                "": "I",
                "": "I",
                "": "i",
                "": "i",
                "": "i",
                "": "i",
                "": "N",
                "": "n",
                "": "O",
                "": "O",
                "": "O",
                "": "O",
                "": "O",
                "": "O",
                "": "o",
                "": "o",
                "": "o",
                "": "o",
                "": "o",
                "": "o",
                "": "U",
                "": "U",
                "": "U",
                "": "U",
                "": "u",
                "": "u",
                "": "u",
                "": "u",
                "": "Y",
                "": "y",
                "": "y",
                "": "Ae",
                "": "ae",
                "": "Th",
                "": "th",
                "": "ss",
                "": "A",
                "": "A",
                "": "A",
                "": "a",
                "": "a",
                "": "a",
                "": "C",
                "": "C",
                "": "C",
                "": "C",
                "": "c",
                "": "c",
                "": "c",
                "": "c",
                "": "D",
                "": "D",
                "": "d",
                "": "d",
                "": "E",
                "": "E",
                "": "E",
                "": "E",
                "": "E",
                "": "e",
                "": "e",
                "": "e",
                "": "e",
                "": "e",
                "": "G",
                "": "G",
                "": "G",
                "": "G",
                "": "g",
                "": "g",
                "": "g",
                "": "g",
                "": "H",
                "": "H",
                "": "h",
                "": "h",
                "": "I",
                "": "I",
                "": "I",
                "": "I",
                "": "I",
                "": "i",
                "": "i",
                "": "i",
                "": "i",
                "": "i",
                "": "J",
                "": "j",
                "": "K",
                "": "k",
                "": "k",
                "": "L",
                "": "L",
                "": "L",
                "": "L",
                "": "L",
                "": "l",
                "": "l",
                "": "l",
                "": "l",
                "": "l",
                "": "N",
                "": "N",
                "": "N",
                "": "N",
                "": "n",
                "": "n",
                "": "n",
                "": "n",
                "": "O",
                "": "O",
                "": "O",
                "": "o",
                "": "o",
                "": "o",
                "": "R",
                "": "R",
                "": "R",
                "": "r",
                "": "r",
                "": "r",
                "": "S",
                "": "S",
                "": "S",
                "": "S",
                "": "s",
                "": "s",
                "": "s",
                "": "s",
                "": "T",
                "": "T",
                "": "T",
                "": "t",
                "": "t",
                "": "t",
                "": "U",
                "": "U",
                "": "U",
                "": "U",
                "": "U",
                "": "U",
                "": "u",
                "": "u",
                "": "u",
                "": "u",
                "": "u",
                "": "u",
                "": "W",
                "": "w",
                "": "Y",
                "": "y",
                "": "Y",
                "": "Z",
                "": "Z",
                "": "Z",
                "": "z",
                "": "z",
                "": "z",
                "": "IJ",
                "": "ij",
                "": "Oe",
                "": "oe",
                "": "'n",
                "": "s"
            })
              , Mn = dn({
                "&": "&amp;",
                "<": "&lt;",
                ">": "&gt;",
                '"': "&quot;",
                "'": "&#39;"
            });
            function En(t) {
                return "\\" + Ae[t]
            }
            function Tn(t) {
                return we.test(t)
            }
            function Sn(t) {
                var e = -1
                  , n = Array(t.size);
                return t.forEach(function(t, r) {
                    n[++e] = [r, t]
                }),
                n
            }
            function On(t, e) {
                return function(n) {
                    return t(e(n))
                }
            }
            function An(t, e) {
                for (var n = -1, r = t.length, i = 0, o = []; ++n < r; ) {
                    var a = t[n];
                    a !== e && a !== l || (t[n] = l,
                    o[i++] = n)
                }
                return o
            }
            function Ln(t) {
                var e = -1
                  , n = Array(t.size);
                return t.forEach(function(t) {
                    n[++e] = t
                }),
                n
            }
            function Rn(t) {
                var e = -1
                  , n = Array(t.size);
                return t.forEach(function(t) {
                    n[++e] = [t, t]
                }),
                n
            }
            function Cn(t) {
                return Tn(t) ? function(t) {
                    var e = _e.lastIndex = 0;
                    for (; _e.test(t); )
                        ++e;
                    return e
                }(t) : on(t)
            }
            function jn(t) {
                return Tn(t) ? function(t) {
                    return t.match(_e) || []
                }(t) : function(t) {
                    return t.split("")
                }(t)
            }
            var Pn = dn({
                "&amp;": "&",
                "&lt;": "<",
                "&gt;": ">",
                "&quot;": '"',
                "&#39;": "'"
            });
            var Nn = function t(e) {
                var n, r = (e = null == e ? Pe : Nn.defaults(Pe.Object(), e, Nn.pick(Pe, Ee))).Array, i = e.Date, Kt = e.Error, $t = e.Function, te = e.Math, ee = e.Object, ne = e.RegExp, re = e.String, ie = e.TypeError, oe = r.prototype, ae = $t.prototype, se = ee.prototype, ue = e["__core-js_shared__"], ce = ae.toString, fe = se.hasOwnProperty, le = 0, he = (n = /[^.]+$/.exec(ue && ue.keys && ue.keys.IE_PROTO || "")) ? "Symbol(src)_1." + n : "", de = se.toString, pe = ce.call(ee), me = Pe._, ve = ne("^" + ce.call(fe).replace(jt, "\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g, "$1.*?") + "$"), ge = De ? e.Buffer : o, _e = e.Symbol, we = e.Uint8Array, Ae = ge ? ge.allocUnsafe : o, Ce = On(ee.getPrototypeOf, ee), je = ee.create, Ne = se.propertyIsEnumerable, Ie = oe.splice, Ue = _e ? _e.isConcatSpreadable : o, ze = _e ? _e.iterator : o, on = _e ? _e.toStringTag : o, dn = function() {
                    try {
                        var t = Bo(ee, "defineProperty");
                        return t({}, "", {}),
                        t
                    } catch (t) {}
                }(), In = e.clearTimeout !== Pe.clearTimeout && e.clearTimeout, Dn = i && i.now !== Pe.Date.now && i.now, Un = e.setTimeout !== Pe.setTimeout && e.setTimeout, zn = te.ceil, Bn = te.floor, kn = ee.getOwnPropertySymbols, Fn = ge ? ge.isBuffer : o, Gn = e.isFinite, Hn = oe.join, Vn = On(ee.keys, ee), Wn = te.max, qn = te.min, Xn = i.now, Yn = e.parseInt, Zn = te.random, Jn = oe.reverse, Qn = Bo(e, "DataView"), Kn = Bo(e, "Map"), $n = Bo(e, "Promise"), tr = Bo(e, "Set"), er = Bo(e, "WeakMap"), nr = Bo(ee, "create"), rr = er && new er, ir = {}, or = la(Qn), ar = la(Kn), sr = la($n), ur = la(tr), cr = la(er), fr = _e ? _e.prototype : o, lr = fr ? fr.valueOf : o, hr = fr ? fr.toString : o;
                function dr(t) {
                    if (As(t) && !gs(t) && !(t instanceof gr)) {
                        if (t instanceof vr)
                            return t;
                        if (fe.call(t, "__wrapped__"))
                            return ha(t)
                    }
                    return new vr(t)
                }
                var pr = function() {
                    function t() {}
                    return function(e) {
                        if (!Os(e))
                            return {};
                        if (je)
                            return je(e);
                        t.prototype = e;
                        var n = new t;
                        return t.prototype = o,
                        n
                    }
                }();
                function mr() {}
                function vr(t, e) {
                    this.__wrapped__ = t,
                    this.__actions__ = [],
                    this.__chain__ = !!e,
                    this.__index__ = 0,
                    this.__values__ = o
                }
                function gr(t) {
                    this.__wrapped__ = t,
                    this.__actions__ = [],
                    this.__dir__ = 1,
                    this.__filtered__ = !1,
                    this.__iteratees__ = [],
                    this.__takeCount__ = U,
                    this.__views__ = []
                }
                function yr(t) {
                    var e = -1
                      , n = null == t ? 0 : t.length;
                    for (this.clear(); ++e < n; ) {
                        var r = t[e];
                        this.set(r[0], r[1])
                    }
                }
                function br(t) {
                    var e = -1
                      , n = null == t ? 0 : t.length;
                    for (this.clear(); ++e < n; ) {
                        var r = t[e];
                        this.set(r[0], r[1])
                    }
                }
                function _r(t) {
                    var e = -1
                      , n = null == t ? 0 : t.length;
                    for (this.clear(); ++e < n; ) {
                        var r = t[e];
                        this.set(r[0], r[1])
                    }
                }
                function xr(t) {
                    var e = -1
                      , n = null == t ? 0 : t.length;
                    for (this.__data__ = new _r; ++e < n; )
                        this.add(t[e])
                }
                function wr(t) {
                    var e = this.__data__ = new br(t);
                    this.size = e.size
                }
                function Mr(t, e) {
                    var n = gs(t)
                      , r = !n && vs(t)
                      , i = !n && !r && xs(t)
                      , o = !n && !r && !i && Ds(t)
                      , a = n || r || i || o
                      , s = a ? vn(t.length, re) : []
                      , u = s.length;
                    for (var c in t)
                        !e && !fe.call(t, c) || a && ("length" == c || i && ("offset" == c || "parent" == c) || o && ("buffer" == c || "byteLength" == c || "byteOffset" == c) || qo(c, u)) || s.push(c);
                    return s
                }
                function Er(t) {
                    var e = t.length;
                    return e ? t[xi(0, e - 1)] : o
                }
                function Tr(t, e) {
                    return ua(no(t), Nr(e, 0, t.length))
                }
                function Sr(t) {
                    return ua(no(t))
                }
                function Or(t, e, n) {
                    (n === o || ds(t[e], n)) && (n !== o || e in t) || jr(t, e, n)
                }
                function Ar(t, e, n) {
                    var r = t[e];
                    fe.call(t, e) && ds(r, n) && (n !== o || e in t) || jr(t, e, n)
                }
                function Lr(t, e) {
                    for (var n = t.length; n--; )
                        if (ds(t[n][0], e))
                            return n;
                    return -1
                }
                function Rr(t, e, n, r) {
                    return Br(t, function(t, i, o) {
                        e(r, t, n(t), o)
                    }),
                    r
                }
                function Cr(t, e) {
                    return t && ro(e, iu(e), t)
                }
                function jr(t, e, n) {
                    "__proto__" == e && dn ? dn(t, e, {
                        configurable: !0,
                        enumerable: !0,
                        value: n,
                        writable: !0
                    }) : t[e] = n
                }
                function Pr(t, e) {
                    for (var n = -1, i = e.length, a = r(i), s = null == t; ++n < i; )
                        a[n] = s ? o : $s(t, e[n]);
                    return a
                }
                function Nr(t, e, n) {
                    return t == t && (n !== o && (t = t <= n ? t : n),
                    e !== o && (t = t >= e ? t : e)),
                    t
                }
                function Ir(t, e, n, r, i, a) {
                    var s, u = e & h, c = e & d, f = e & p;
                    if (n && (s = i ? n(t, r, i, a) : n(t)),
                    s !== o)
                        return s;
                    if (!Os(t))
                        return t;
                    var l = gs(t);
                    if (l) {
                        if (s = function(t) {
                            var e = t.length
                              , n = new t.constructor(e);
                            return e && "string" == typeof t[0] && fe.call(t, "index") && (n.index = t.index,
                            n.input = t.input),
                            n
                        }(t),
                        !u)
                            return no(t, s)
                    } else {
                        var m = Go(t)
                          , v = m == Y || m == Z;
                        if (xs(t))
                            return Ji(t, u);
                        if (m == $ || m == F || v && !i) {
                            if (s = c || v ? {} : Vo(t),
                            !u)
                                return c ? function(t, e) {
                                    return ro(t, Fo(t), e)
                                }(t, function(t, e) {
                                    return t && ro(e, ou(e), t)
                                }(s, t)) : function(t, e) {
                                    return ro(t, ko(t), e)
                                }(t, Cr(s, t))
                        } else {
                            if (!Oe[m])
                                return i ? t : {};
                            s = function(t, e, n) {
                                var r, i, o, a = t.constructor;
                                switch (e) {
                                case ut:
                                    return Qi(t);
                                case V:
                                case W:
                                    return new a(+t);
                                case ct:
                                    return function(t, e) {
                                        var n = e ? Qi(t.buffer) : t.buffer;
                                        return new t.constructor(n,t.byteOffset,t.byteLength)
                                    }(t, n);
                                case ft:
                                case lt:
                                case ht:
                                case dt:
                                case pt:
                                case mt:
                                case vt:
                                case gt:
                                case yt:
                                    return Ki(t, n);
                                case J:
                                    return new a;
                                case Q:
                                case rt:
                                    return new a(t);
                                case et:
                                    return (o = new (i = t).constructor(i.source,Ht.exec(i))).lastIndex = i.lastIndex,
                                    o;
                                case nt:
                                    return new a;
                                case it:
                                    return r = t,
                                    lr ? ee(lr.call(r)) : {}
                                }
                            }(t, m, u)
                        }
                    }
                    a || (a = new wr);
                    var g = a.get(t);
                    if (g)
                        return g;
                    if (a.set(t, s),
                    Ps(t))
                        return t.forEach(function(r) {
                            s.add(Ir(r, e, n, r, t, a))
                        }),
                        s;
                    if (Ls(t))
                        return t.forEach(function(r, i) {
                            s.set(i, Ir(r, e, n, i, t, a))
                        }),
                        s;
                    var y = l ? o : (f ? c ? jo : Co : c ? ou : iu)(t);
                    return Xe(y || t, function(r, i) {
                        y && (r = t[i = r]),
                        Ar(s, i, Ir(r, e, n, i, t, a))
                    }),
                    s
                }
                function Dr(t, e, n) {
                    var r = n.length;
                    if (null == t)
                        return !r;
                    for (t = ee(t); r--; ) {
                        var i = n[r]
                          , a = e[i]
                          , s = t[i];
                        if (s === o && !(i in t) || !a(s))
                            return !1
                    }
                    return !0
                }
                function Ur(t, e, n) {
                    if ("function" != typeof t)
                        throw new ie(u);
                    return ia(function() {
                        t.apply(o, n)
                    }, e)
                }
                function zr(t, e, n, r) {
                    var i = -1
                      , o = Qe
                      , s = !0
                      , u = t.length
                      , c = []
                      , f = e.length;
                    if (!u)
                        return c;
                    n && (e = $e(e, gn(n))),
                    r ? (o = Ke,
                    s = !1) : e.length >= a && (o = bn,
                    s = !1,
                    e = new xr(e));
                    t: for (; ++i < u; ) {
                        var l = t[i]
                          , h = null == n ? l : n(l);
                        if (l = r || 0 !== l ? l : 0,
                        s && h == h) {
                            for (var d = f; d--; )
                                if (e[d] === h)
                                    continue t;
                            c.push(l)
                        } else
                            o(e, h, r) || c.push(l)
                    }
                    return c
                }
                dr.templateSettings = {
                    escape: St,
                    evaluate: Ot,
                    interpolate: At,
                    variable: "",
                    imports: {
                        _: dr
                    }
                },
                dr.prototype = mr.prototype,
                dr.prototype.constructor = dr,
                vr.prototype = pr(mr.prototype),
                vr.prototype.constructor = vr,
                gr.prototype = pr(mr.prototype),
                gr.prototype.constructor = gr,
                yr.prototype.clear = function() {
                    this.__data__ = nr ? nr(null) : {},
                    this.size = 0
                }
                ,
                yr.prototype.delete = function(t) {
                    var e = this.has(t) && delete this.__data__[t];
                    return this.size -= e ? 1 : 0,
                    e
                }
                ,
                yr.prototype.get = function(t) {
                    var e = this.__data__;
                    if (nr) {
                        var n = e[t];
                        return n === c ? o : n
                    }
                    return fe.call(e, t) ? e[t] : o
                }
                ,
                yr.prototype.has = function(t) {
                    var e = this.__data__;
                    return nr ? e[t] !== o : fe.call(e, t)
                }
                ,
                yr.prototype.set = function(t, e) {
                    var n = this.__data__;
                    return this.size += this.has(t) ? 0 : 1,
                    n[t] = nr && e === o ? c : e,
                    this
                }
                ,
                br.prototype.clear = function() {
                    this.__data__ = [],
                    this.size = 0
                }
                ,
                br.prototype.delete = function(t) {
                    var e = this.__data__
                      , n = Lr(e, t);
                    return !(n < 0 || (n == e.length - 1 ? e.pop() : Ie.call(e, n, 1),
                    --this.size,
                    0))
                }
                ,
                br.prototype.get = function(t) {
                    var e = this.__data__
                      , n = Lr(e, t);
                    return n < 0 ? o : e[n][1]
                }
                ,
                br.prototype.has = function(t) {
                    return Lr(this.__data__, t) > -1
                }
                ,
                br.prototype.set = function(t, e) {
                    var n = this.__data__
                      , r = Lr(n, t);
                    return r < 0 ? (++this.size,
                    n.push([t, e])) : n[r][1] = e,
                    this
                }
                ,
                _r.prototype.clear = function() {
                    this.size = 0,
                    this.__data__ = {
                        hash: new yr,
                        map: new (Kn || br),
                        string: new yr
                    }
                }
                ,
                _r.prototype.delete = function(t) {
                    var e = Uo(this, t).delete(t);
                    return this.size -= e ? 1 : 0,
                    e
                }
                ,
                _r.prototype.get = function(t) {
                    return Uo(this, t).get(t)
                }
                ,
                _r.prototype.has = function(t) {
                    return Uo(this, t).has(t)
                }
                ,
                _r.prototype.set = function(t, e) {
                    var n = Uo(this, t)
                      , r = n.size;
                    return n.set(t, e),
                    this.size += n.size == r ? 0 : 1,
                    this
                }
                ,
                xr.prototype.add = xr.prototype.push = function(t) {
                    return this.__data__.set(t, c),
                    this
                }
                ,
                xr.prototype.has = function(t) {
                    return this.__data__.has(t)
                }
                ,
                wr.prototype.clear = function() {
                    this.__data__ = new br,
                    this.size = 0
                }
                ,
                wr.prototype.delete = function(t) {
                    var e = this.__data__
                      , n = e.delete(t);
                    return this.size = e.size,
                    n
                }
                ,
                wr.prototype.get = function(t) {
                    return this.__data__.get(t)
                }
                ,
                wr.prototype.has = function(t) {
                    return this.__data__.has(t)
                }
                ,
                wr.prototype.set = function(t, e) {
                    var n = this.__data__;
                    if (n instanceof br) {
                        var r = n.__data__;
                        if (!Kn || r.length < a - 1)
                            return r.push([t, e]),
                            this.size = ++n.size,
                            this;
                        n = this.__data__ = new _r(r)
                    }
                    return n.set(t, e),
                    this.size = n.size,
                    this
                }
                ;
                var Br = ao(Xr)
                  , kr = ao(Yr, !0);
                function Fr(t, e) {
                    var n = !0;
                    return Br(t, function(t, r, i) {
                        return n = !!e(t, r, i)
                    }),
                    n
                }
                function Gr(t, e, n) {
                    for (var r = -1, i = t.length; ++r < i; ) {
                        var a = t[r]
                          , s = e(a);
                        if (null != s && (u === o ? s == s && !Is(s) : n(s, u)))
                            var u = s
                              , c = a
                    }
                    return c
                }
                function Hr(t, e) {
                    var n = [];
                    return Br(t, function(t, r, i) {
                        e(t, r, i) && n.push(t)
                    }),
                    n
                }
                function Vr(t, e, n, r, i) {
                    var o = -1
                      , a = t.length;
                    for (n || (n = Wo),
                    i || (i = []); ++o < a; ) {
                        var s = t[o];
                        e > 0 && n(s) ? e > 1 ? Vr(s, e - 1, n, r, i) : tn(i, s) : r || (i[i.length] = s)
                    }
                    return i
                }
                var Wr = so()
                  , qr = so(!0);
                function Xr(t, e) {
                    return t && Wr(t, e, iu)
                }
                function Yr(t, e) {
                    return t && qr(t, e, iu)
                }
                function Zr(t, e) {
                    return Je(e, function(e) {
                        return Es(t[e])
                    })
                }
                function Jr(t, e) {
                    for (var n = 0, r = (e = qi(e, t)).length; null != t && n < r; )
                        t = t[fa(e[n++])];
                    return n && n == r ? t : o
                }
                function Qr(t, e, n) {
                    var r = e(t);
                    return gs(t) ? r : tn(r, n(t))
                }
                function Kr(t) {
                    return null == t ? t === o ? ot : K : on && on in ee(t) ? function(t) {
                        var e = fe.call(t, on)
                          , n = t[on];
                        try {
                            t[on] = o;
                            var r = !0
                        } catch (t) {}
                        var i = de.call(t);
                        return r && (e ? t[on] = n : delete t[on]),
                        i
                    }(t) : function(t) {
                        return de.call(t)
                    }(t)
                }
                function $r(t, e) {
                    return t > e
                }
                function ti(t, e) {
                    return null != t && fe.call(t, e)
                }
                function ei(t, e) {
                    return null != t && e in ee(t)
                }
                function ni(t, e, n) {
                    for (var i = n ? Ke : Qe, a = t[0].length, s = t.length, u = s, c = r(s), f = 1 / 0, l = []; u--; ) {
                        var h = t[u];
                        u && e && (h = $e(h, gn(e))),
                        f = qn(h.length, f),
                        c[u] = !n && (e || a >= 120 && h.length >= 120) ? new xr(u && h) : o
                    }
                    h = t[0];
                    var d = -1
                      , p = c[0];
                    t: for (; ++d < a && l.length < f; ) {
                        var m = h[d]
                          , v = e ? e(m) : m;
                        if (m = n || 0 !== m ? m : 0,
                        !(p ? bn(p, v) : i(l, v, n))) {
                            for (u = s; --u; ) {
                                var g = c[u];
                                if (!(g ? bn(g, v) : i(t[u], v, n)))
                                    continue t
                            }
                            p && p.push(v),
                            l.push(m)
                        }
                    }
                    return l
                }
                function ri(t, e, n) {
                    var r = null == (t = ea(t, e = qi(e, t))) ? t : t[fa(Ma(e))];
                    return null == r ? o : We(r, t, n)
                }
                function ii(t) {
                    return As(t) && Kr(t) == F
                }
                function oi(t, e, n, r, i) {
                    return t === e || (null == t || null == e || !As(t) && !As(e) ? t != t && e != e : function(t, e, n, r, i, a) {
                        var s = gs(t)
                          , u = gs(e)
                          , c = s ? G : Go(t)
                          , f = u ? G : Go(e)
                          , l = (c = c == F ? $ : c) == $
                          , h = (f = f == F ? $ : f) == $
                          , d = c == f;
                        if (d && xs(t)) {
                            if (!xs(e))
                                return !1;
                            s = !0,
                            l = !1
                        }
                        if (d && !l)
                            return a || (a = new wr),
                            s || Ds(t) ? Lo(t, e, n, r, i, a) : function(t, e, n, r, i, o, a) {
                                switch (n) {
                                case ct:
                                    if (t.byteLength != e.byteLength || t.byteOffset != e.byteOffset)
                                        return !1;
                                    t = t.buffer,
                                    e = e.buffer;
                                case ut:
                                    return !(t.byteLength != e.byteLength || !o(new we(t), new we(e)));
                                case V:
                                case W:
                                case Q:
                                    return ds(+t, +e);
                                case X:
                                    return t.name == e.name && t.message == e.message;
                                case et:
                                case rt:
                                    return t == e + "";
                                case J:
                                    var s = Sn;
                                case nt:
                                    var u = r & m;
                                    if (s || (s = Ln),
                                    t.size != e.size && !u)
                                        return !1;
                                    var c = a.get(t);
                                    if (c)
                                        return c == e;
                                    r |= v,
                                    a.set(t, e);
                                    var f = Lo(s(t), s(e), r, i, o, a);
                                    return a.delete(t),
                                    f;
                                case it:
                                    if (lr)
                                        return lr.call(t) == lr.call(e)
                                }
                                return !1
                            }(t, e, c, n, r, i, a);
                        if (!(n & m)) {
                            var p = l && fe.call(t, "__wrapped__")
                              , g = h && fe.call(e, "__wrapped__");
                            if (p || g) {
                                var y = p ? t.value() : t
                                  , b = g ? e.value() : e;
                                return a || (a = new wr),
                                i(y, b, n, r, a)
                            }
                        }
                        return !!d && (a || (a = new wr),
                        function(t, e, n, r, i, a) {
                            var s = n & m
                              , u = Co(t)
                              , c = u.length
                              , f = Co(e).length;
                            if (c != f && !s)
                                return !1;
                            for (var l = c; l--; ) {
                                var h = u[l];
                                if (!(s ? h in e : fe.call(e, h)))
                                    return !1
                            }
                            var d = a.get(t);
                            if (d && a.get(e))
                                return d == e;
                            var p = !0;
                            a.set(t, e),
                            a.set(e, t);
                            for (var v = s; ++l < c; ) {
                                h = u[l];
                                var g = t[h]
                                  , y = e[h];
                                if (r)
                                    var b = s ? r(y, g, h, e, t, a) : r(g, y, h, t, e, a);
                                if (!(b === o ? g === y || i(g, y, n, r, a) : b)) {
                                    p = !1;
                                    break
                                }
                                v || (v = "constructor" == h)
                            }
                            if (p && !v) {
                                var _ = t.constructor
                                  , x = e.constructor;
                                _ != x && "constructor"in t && "constructor"in e && !("function" == typeof _ && _ instanceof _ && "function" == typeof x && x instanceof x) && (p = !1)
                            }
                            return a.delete(t),
                            a.delete(e),
                            p
                        }(t, e, n, r, i, a))
                    }(t, e, n, r, oi, i))
                }
                function ai(t, e, n, r) {
                    var i = n.length
                      , a = i
                      , s = !r;
                    if (null == t)
                        return !a;
                    for (t = ee(t); i--; ) {
                        var u = n[i];
                        if (s && u[2] ? u[1] !== t[u[0]] : !(u[0]in t))
                            return !1
                    }
                    for (; ++i < a; ) {
                        var c = (u = n[i])[0]
                          , f = t[c]
                          , l = u[1];
                        if (s && u[2]) {
                            if (f === o && !(c in t))
                                return !1
                        } else {
                            var h = new wr;
                            if (r)
                                var d = r(f, l, c, t, e, h);
                            if (!(d === o ? oi(l, f, m | v, r, h) : d))
                                return !1
                        }
                    }
                    return !0
                }
                function si(t) {
                    return !(!Os(t) || he && he in t) && (Es(t) ? ve : qt).test(la(t))
                }
                function ui(t) {
                    return "function" == typeof t ? t : null == t ? Ru : "object" == typeof t ? gs(t) ? pi(t[0], t[1]) : di(t) : Bu(t)
                }
                function ci(t) {
                    if (!Qo(t))
                        return Vn(t);
                    var e = [];
                    for (var n in ee(t))
                        fe.call(t, n) && "constructor" != n && e.push(n);
                    return e
                }
                function fi(t) {
                    if (!Os(t))
                        return function(t) {
                            var e = [];
                            if (null != t)
                                for (var n in ee(t))
                                    e.push(n);
                            return e
                        }(t);
                    var e = Qo(t)
                      , n = [];
                    for (var r in t)
                        ("constructor" != r || !e && fe.call(t, r)) && n.push(r);
                    return n
                }
                function li(t, e) {
                    return t < e
                }
                function hi(t, e) {
                    var n = -1
                      , i = bs(t) ? r(t.length) : [];
                    return Br(t, function(t, r, o) {
                        i[++n] = e(t, r, o)
                    }),
                    i
                }
                function di(t) {
                    var e = zo(t);
                    return 1 == e.length && e[0][2] ? $o(e[0][0], e[0][1]) : function(n) {
                        return n === t || ai(n, t, e)
                    }
                }
                function pi(t, e) {
                    return Yo(t) && Ko(e) ? $o(fa(t), e) : function(n) {
                        var r = $s(n, t);
                        return r === o && r === e ? tu(n, t) : oi(e, r, m | v)
                    }
                }
                function mi(t, e, n, r, i) {
                    t !== e && Wr(e, function(a, s) {
                        if (Os(a))
                            i || (i = new wr),
                            function(t, e, n, r, i, a, s) {
                                var u = na(t, n)
                                  , c = na(e, n)
                                  , f = s.get(c);
                                if (f)
                                    Or(t, n, f);
                                else {
                                    var l = a ? a(u, c, n + "", t, e, s) : o
                                      , h = l === o;
                                    if (h) {
                                        var d = gs(c)
                                          , p = !d && xs(c)
                                          , m = !d && !p && Ds(c);
                                        l = c,
                                        d || p || m ? gs(u) ? l = u : _s(u) ? l = no(u) : p ? (h = !1,
                                        l = Ji(c, !0)) : m ? (h = !1,
                                        l = Ki(c, !0)) : l = [] : Cs(c) || vs(c) ? (l = u,
                                        vs(u) ? l = Vs(u) : Os(u) && !Es(u) || (l = Vo(c))) : h = !1
                                    }
                                    h && (s.set(c, l),
                                    i(l, c, r, a, s),
                                    s.delete(c)),
                                    Or(t, n, l)
                                }
                            }(t, e, s, n, mi, r, i);
                        else {
                            var u = r ? r(na(t, s), a, s + "", t, e, i) : o;
                            u === o && (u = a),
                            Or(t, s, u)
                        }
                    }, ou)
                }
                function vi(t, e) {
                    var n = t.length;
                    if (n)
                        return qo(e += e < 0 ? n : 0, n) ? t[e] : o
                }
                function gi(t, e, n) {
                    var r = -1;
                    return e = $e(e.length ? e : [Ru], gn(Do())),
                    function(t, e) {
                        var n = t.length;
                        for (t.sort(e); n--; )
                            t[n] = t[n].value;
                        return t
                    }(hi(t, function(t, n, i) {
                        return {
                            criteria: $e(e, function(e) {
                                return e(t)
                            }),
                            index: ++r,
                            value: t
                        }
                    }), function(t, e) {
                        return function(t, e, n) {
                            for (var r = -1, i = t.criteria, o = e.criteria, a = i.length, s = n.length; ++r < a; ) {
                                var u = $i(i[r], o[r]);
                                if (u) {
                                    if (r >= s)
                                        return u;
                                    var c = n[r];
                                    return u * ("desc" == c ? -1 : 1)
                                }
                            }
                            return t.index - e.index
                        }(t, e, n)
                    })
                }
                function yi(t, e, n) {
                    for (var r = -1, i = e.length, o = {}; ++r < i; ) {
                        var a = e[r]
                          , s = Jr(t, a);
                        n(s, a) && Si(o, qi(a, t), s)
                    }
                    return o
                }
                function bi(t, e, n, r) {
                    var i = r ? cn : un
                      , o = -1
                      , a = e.length
                      , s = t;
                    for (t === e && (e = no(e)),
                    n && (s = $e(t, gn(n))); ++o < a; )
                        for (var u = 0, c = e[o], f = n ? n(c) : c; (u = i(s, f, u, r)) > -1; )
                            s !== t && Ie.call(s, u, 1),
                            Ie.call(t, u, 1);
                    return t
                }
                function _i(t, e) {
                    for (var n = t ? e.length : 0, r = n - 1; n--; ) {
                        var i = e[n];
                        if (n == r || i !== o) {
                            var o = i;
                            qo(i) ? Ie.call(t, i, 1) : zi(t, i)
                        }
                    }
                    return t
                }
                function xi(t, e) {
                    return t + Bn(Zn() * (e - t + 1))
                }
                function wi(t, e) {
                    var n = "";
                    if (!t || e < 1 || e > N)
                        return n;
                    do {
                        e % 2 && (n += t),
                        (e = Bn(e / 2)) && (t += t)
                    } while (e);return n
                }
                function Mi(t, e) {
                    return oa(ta(t, e, Ru), t + "")
                }
                function Ei(t) {
                    return Er(du(t))
                }
                function Ti(t, e) {
                    var n = du(t);
                    return ua(n, Nr(e, 0, n.length))
                }
                function Si(t, e, n, r) {
                    if (!Os(t))
                        return t;
                    for (var i = -1, a = (e = qi(e, t)).length, s = a - 1, u = t; null != u && ++i < a; ) {
                        var c = fa(e[i])
                          , f = n;
                        if (i != s) {
                            var l = u[c];
                            (f = r ? r(l, c, u) : o) === o && (f = Os(l) ? l : qo(e[i + 1]) ? [] : {})
                        }
                        Ar(u, c, f),
                        u = u[c]
                    }
                    return t
                }
                var Oi = rr ? function(t, e) {
                    return rr.set(t, e),
                    t
                }
                : Ru
                  , Ai = dn ? function(t, e) {
                    return dn(t, "toString", {
                        configurable: !0,
                        enumerable: !1,
                        value: Ou(e),
                        writable: !0
                    })
                }
                : Ru;
                function Li(t) {
                    return ua(du(t))
                }
                function Ri(t, e, n) {
                    var i = -1
                      , o = t.length;
                    e < 0 && (e = -e > o ? 0 : o + e),
                    (n = n > o ? o : n) < 0 && (n += o),
                    o = e > n ? 0 : n - e >>> 0,
                    e >>>= 0;
                    for (var a = r(o); ++i < o; )
                        a[i] = t[i + e];
                    return a
                }
                function Ci(t, e) {
                    var n;
                    return Br(t, function(t, r, i) {
                        return !(n = e(t, r, i))
                    }),
                    !!n
                }
                function ji(t, e, n) {
                    var r = 0
                      , i = null == t ? r : t.length;
                    if ("number" == typeof e && e == e && i <= B) {
                        for (; r < i; ) {
                            var o = r + i >>> 1
                              , a = t[o];
                            null !== a && !Is(a) && (n ? a <= e : a < e) ? r = o + 1 : i = o
                        }
                        return i
                    }
                    return Pi(t, e, Ru, n)
                }
                function Pi(t, e, n, r) {
                    e = n(e);
                    for (var i = 0, a = null == t ? 0 : t.length, s = e != e, u = null === e, c = Is(e), f = e === o; i < a; ) {
                        var l = Bn((i + a) / 2)
                          , h = n(t[l])
                          , d = h !== o
                          , p = null === h
                          , m = h == h
                          , v = Is(h);
                        if (s)
                            var g = r || m;
                        else
                            g = f ? m && (r || d) : u ? m && d && (r || !p) : c ? m && d && !p && (r || !v) : !p && !v && (r ? h <= e : h < e);
                        g ? i = l + 1 : a = l
                    }
                    return qn(a, z)
                }
                function Ni(t, e) {
                    for (var n = -1, r = t.length, i = 0, o = []; ++n < r; ) {
                        var a = t[n]
                          , s = e ? e(a) : a;
                        if (!n || !ds(s, u)) {
                            var u = s;
                            o[i++] = 0 === a ? 0 : a
                        }
                    }
                    return o
                }
                function Ii(t) {
                    return "number" == typeof t ? t : Is(t) ? D : +t
                }
                function Di(t) {
                    if ("string" == typeof t)
                        return t;
                    if (gs(t))
                        return $e(t, Di) + "";
                    if (Is(t))
                        return hr ? hr.call(t) : "";
                    var e = t + "";
                    return "0" == e && 1 / t == -P ? "-0" : e
                }
                function Ui(t, e, n) {
                    var r = -1
                      , i = Qe
                      , o = t.length
                      , s = !0
                      , u = []
                      , c = u;
                    if (n)
                        s = !1,
                        i = Ke;
                    else if (o >= a) {
                        var f = e ? null : Mo(t);
                        if (f)
                            return Ln(f);
                        s = !1,
                        i = bn,
                        c = new xr
                    } else
                        c = e ? [] : u;
                    t: for (; ++r < o; ) {
                        var l = t[r]
                          , h = e ? e(l) : l;
                        if (l = n || 0 !== l ? l : 0,
                        s && h == h) {
                            for (var d = c.length; d--; )
                                if (c[d] === h)
                                    continue t;
                            e && c.push(h),
                            u.push(l)
                        } else
                            i(c, h, n) || (c !== u && c.push(h),
                            u.push(l))
                    }
                    return u
                }
                function zi(t, e) {
                    return null == (t = ea(t, e = qi(e, t))) || delete t[fa(Ma(e))]
                }
                function Bi(t, e, n, r) {
                    return Si(t, e, n(Jr(t, e)), r)
                }
                function ki(t, e, n, r) {
                    for (var i = t.length, o = r ? i : -1; (r ? o-- : ++o < i) && e(t[o], o, t); )
                        ;
                    return n ? Ri(t, r ? 0 : o, r ? o + 1 : i) : Ri(t, r ? o + 1 : 0, r ? i : o)
                }
                function Fi(t, e) {
                    var n = t;
                    return n instanceof gr && (n = n.value()),
                    en(e, function(t, e) {
                        return e.func.apply(e.thisArg, tn([t], e.args))
                    }, n)
                }
                function Gi(t, e, n) {
                    var i = t.length;
                    if (i < 2)
                        return i ? Ui(t[0]) : [];
                    for (var o = -1, a = r(i); ++o < i; )
                        for (var s = t[o], u = -1; ++u < i; )
                            u != o && (a[o] = zr(a[o] || s, t[u], e, n));
                    return Ui(Vr(a, 1), e, n)
                }
                function Hi(t, e, n) {
                    for (var r = -1, i = t.length, a = e.length, s = {}; ++r < i; ) {
                        var u = r < a ? e[r] : o;
                        n(s, t[r], u)
                    }
                    return s
                }
                function Vi(t) {
                    return _s(t) ? t : []
                }
                function Wi(t) {
                    return "function" == typeof t ? t : Ru
                }
                function qi(t, e) {
                    return gs(t) ? t : Yo(t, e) ? [t] : ca(Ws(t))
                }
                var Xi = Mi;
                function Yi(t, e, n) {
                    var r = t.length;
                    return n = n === o ? r : n,
                    !e && n >= r ? t : Ri(t, e, n)
                }
                var Zi = In || function(t) {
                    return Pe.clearTimeout(t)
                }
                ;
                function Ji(t, e) {
                    if (e)
                        return t.slice();
                    var n = t.length
                      , r = Ae ? Ae(n) : new t.constructor(n);
                    return t.copy(r),
                    r
                }
                function Qi(t) {
                    var e = new t.constructor(t.byteLength);
                    return new we(e).set(new we(t)),
                    e
                }
                function Ki(t, e) {
                    var n = e ? Qi(t.buffer) : t.buffer;
                    return new t.constructor(n,t.byteOffset,t.length)
                }
                function $i(t, e) {
                    if (t !== e) {
                        var n = t !== o
                          , r = null === t
                          , i = t == t
                          , a = Is(t)
                          , s = e !== o
                          , u = null === e
                          , c = e == e
                          , f = Is(e);
                        if (!u && !f && !a && t > e || a && s && c && !u && !f || r && s && c || !n && c || !i)
                            return 1;
                        if (!r && !a && !f && t < e || f && n && i && !r && !a || u && n && i || !s && i || !c)
                            return -1
                    }
                    return 0
                }
                function to(t, e, n, i) {
                    for (var o = -1, a = t.length, s = n.length, u = -1, c = e.length, f = Wn(a - s, 0), l = r(c + f), h = !i; ++u < c; )
                        l[u] = e[u];
                    for (; ++o < s; )
                        (h || o < a) && (l[n[o]] = t[o]);
                    for (; f--; )
                        l[u++] = t[o++];
                    return l
                }
                function eo(t, e, n, i) {
                    for (var o = -1, a = t.length, s = -1, u = n.length, c = -1, f = e.length, l = Wn(a - u, 0), h = r(l + f), d = !i; ++o < l; )
                        h[o] = t[o];
                    for (var p = o; ++c < f; )
                        h[p + c] = e[c];
                    for (; ++s < u; )
                        (d || o < a) && (h[p + n[s]] = t[o++]);
                    return h
                }
                function no(t, e) {
                    var n = -1
                      , i = t.length;
                    for (e || (e = r(i)); ++n < i; )
                        e[n] = t[n];
                    return e
                }
                function ro(t, e, n, r) {
                    var i = !n;
                    n || (n = {});
                    for (var a = -1, s = e.length; ++a < s; ) {
                        var u = e[a]
                          , c = r ? r(n[u], t[u], u, n, t) : o;
                        c === o && (c = t[u]),
                        i ? jr(n, u, c) : Ar(n, u, c)
                    }
                    return n
                }
                function io(t, e) {
                    return function(n, r) {
                        var i = gs(n) ? qe : Rr
                          , o = e ? e() : {};
                        return i(n, t, Do(r, 2), o)
                    }
                }
                function oo(t) {
                    return Mi(function(e, n) {
                        var r = -1
                          , i = n.length
                          , a = i > 1 ? n[i - 1] : o
                          , s = i > 2 ? n[2] : o;
                        for (a = t.length > 3 && "function" == typeof a ? (i--,
                        a) : o,
                        s && Xo(n[0], n[1], s) && (a = i < 3 ? o : a,
                        i = 1),
                        e = ee(e); ++r < i; ) {
                            var u = n[r];
                            u && t(e, u, r, a)
                        }
                        return e
                    })
                }
                function ao(t, e) {
                    return function(n, r) {
                        if (null == n)
                            return n;
                        if (!bs(n))
                            return t(n, r);
                        for (var i = n.length, o = e ? i : -1, a = ee(n); (e ? o-- : ++o < i) && !1 !== r(a[o], o, a); )
                            ;
                        return n
                    }
                }
                function so(t) {
                    return function(e, n, r) {
                        for (var i = -1, o = ee(e), a = r(e), s = a.length; s--; ) {
                            var u = a[t ? s : ++i];
                            if (!1 === n(o[u], u, o))
                                break
                        }
                        return e
                    }
                }
                function uo(t) {
                    return function(e) {
                        var n = Tn(e = Ws(e)) ? jn(e) : o
                          , r = n ? n[0] : e.charAt(0)
                          , i = n ? Yi(n, 1).join("") : e.slice(1);
                        return r[t]() + i
                    }
                }
                function co(t) {
                    return function(e) {
                        return en(Eu(vu(e).replace(ye, "")), t, "")
                    }
                }
                function fo(t) {
                    return function() {
                        var e = arguments;
                        switch (e.length) {
                        case 0:
                            return new t;
                        case 1:
                            return new t(e[0]);
                        case 2:
                            return new t(e[0],e[1]);
                        case 3:
                            return new t(e[0],e[1],e[2]);
                        case 4:
                            return new t(e[0],e[1],e[2],e[3]);
                        case 5:
                            return new t(e[0],e[1],e[2],e[3],e[4]);
                        case 6:
                            return new t(e[0],e[1],e[2],e[3],e[4],e[5]);
                        case 7:
                            return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])
                        }
                        var n = pr(t.prototype)
                          , r = t.apply(n, e);
                        return Os(r) ? r : n
                    }
                }
                function lo(t) {
                    return function(e, n, r) {
                        var i = ee(e);
                        if (!bs(e)) {
                            var a = Do(n, 3);
                            e = iu(e),
                            n = function(t) {
                                return a(i[t], t, i)
                            }
                        }
                        var s = t(e, n, r);
                        return s > -1 ? i[a ? e[s] : s] : o
                    }
                }
                function ho(t) {
                    return Ro(function(e) {
                        var n = e.length
                          , r = n
                          , i = vr.prototype.thru;
                        for (t && e.reverse(); r--; ) {
                            var a = e[r];
                            if ("function" != typeof a)
                                throw new ie(u);
                            if (i && !s && "wrapper" == No(a))
                                var s = new vr([],!0)
                        }
                        for (r = s ? r : n; ++r < n; ) {
                            var c = No(a = e[r])
                              , f = "wrapper" == c ? Po(a) : o;
                            s = f && Zo(f[0]) && f[1] == (E | _ | w | T) && !f[4].length && 1 == f[9] ? s[No(f[0])].apply(s, f[3]) : 1 == a.length && Zo(a) ? s[c]() : s.thru(a)
                        }
                        return function() {
                            var t = arguments
                              , r = t[0];
                            if (s && 1 == t.length && gs(r))
                                return s.plant(r).value();
                            for (var i = 0, o = n ? e[i].apply(this, t) : r; ++i < n; )
                                o = e[i].call(this, o);
                            return o
                        }
                    })
                }
                function po(t, e, n, i, a, s, u, c, f, l) {
                    var h = e & E
                      , d = e & g
                      , p = e & y
                      , m = e & (_ | x)
                      , v = e & S
                      , b = p ? o : fo(t);
                    return function g() {
                        for (var y = arguments.length, _ = r(y), x = y; x--; )
                            _[x] = arguments[x];
                        if (m)
                            var w = Io(g)
                              , M = function(t, e) {
                                for (var n = t.length, r = 0; n--; )
                                    t[n] === e && ++r;
                                return r
                            }(_, w);
                        if (i && (_ = to(_, i, a, m)),
                        s && (_ = eo(_, s, u, m)),
                        y -= M,
                        m && y < l) {
                            var E = An(_, w);
                            return xo(t, e, po, g.placeholder, n, _, E, c, f, l - y)
                        }
                        var T = d ? n : this
                          , S = p ? T[t] : t;
                        return y = _.length,
                        c ? _ = function(t, e) {
                            for (var n = t.length, r = qn(e.length, n), i = no(t); r--; ) {
                                var a = e[r];
                                t[r] = qo(a, n) ? i[a] : o
                            }
                            return t
                        }(_, c) : v && y > 1 && _.reverse(),
                        h && f < y && (_.length = f),
                        this && this !== Pe && this instanceof g && (S = b || fo(S)),
                        S.apply(T, _)
                    }
                }
                function mo(t, e) {
                    return function(n, r) {
                        return function(t, e, n, r) {
                            return Xr(t, function(t, i, o) {
                                e(r, n(t), i, o)
                            }),
                            r
                        }(n, t, e(r), {})
                    }
                }
                function vo(t, e) {
                    return function(n, r) {
                        var i;
                        if (n === o && r === o)
                            return e;
                        if (n !== o && (i = n),
                        r !== o) {
                            if (i === o)
                                return r;
                            "string" == typeof n || "string" == typeof r ? (n = Di(n),
                            r = Di(r)) : (n = Ii(n),
                            r = Ii(r)),
                            i = t(n, r)
                        }
                        return i
                    }
                }
                function go(t) {
                    return Ro(function(e) {
                        return e = $e(e, gn(Do())),
                        Mi(function(n) {
                            var r = this;
                            return t(e, function(t) {
                                return We(t, r, n)
                            })
                        })
                    })
                }
                function yo(t, e) {
                    var n = (e = e === o ? " " : Di(e)).length;
                    if (n < 2)
                        return n ? wi(e, t) : e;
                    var r = wi(e, zn(t / Cn(e)));
                    return Tn(e) ? Yi(jn(r), 0, t).join("") : r.slice(0, t)
                }
                function bo(t) {
                    return function(e, n, i) {
                        return i && "number" != typeof i && Xo(e, n, i) && (n = i = o),
                        e = ks(e),
                        n === o ? (n = e,
                        e = 0) : n = ks(n),
                        function(t, e, n, i) {
                            for (var o = -1, a = Wn(zn((e - t) / (n || 1)), 0), s = r(a); a--; )
                                s[i ? a : ++o] = t,
                                t += n;
                            return s
                        }(e, n, i = i === o ? e < n ? 1 : -1 : ks(i), t)
                    }
                }
                function _o(t) {
                    return function(e, n) {
                        return "string" == typeof e && "string" == typeof n || (e = Hs(e),
                        n = Hs(n)),
                        t(e, n)
                    }
                }
                function xo(t, e, n, r, i, a, s, u, c, f) {
                    var l = e & _;
                    e |= l ? w : M,
                    (e &= ~(l ? M : w)) & b || (e &= ~(g | y));
                    var h = [t, e, i, l ? a : o, l ? s : o, l ? o : a, l ? o : s, u, c, f]
                      , d = n.apply(o, h);
                    return Zo(t) && ra(d, h),
                    d.placeholder = r,
                    aa(d, t, e)
                }
                function wo(t) {
                    var e = te[t];
                    return function(t, n) {
                        if (t = Hs(t),
                        n = null == n ? 0 : qn(Fs(n), 292)) {
                            var r = (Ws(t) + "e").split("e");
                            return +((r = (Ws(e(r[0] + "e" + (+r[1] + n))) + "e").split("e"))[0] + "e" + (+r[1] - n))
                        }
                        return e(t)
                    }
                }
                var Mo = tr && 1 / Ln(new tr([, -0]))[1] == P ? function(t) {
                    return new tr(t)
                }
                : Iu;
                function Eo(t) {
                    return function(e) {
                        var n = Go(e);
                        return n == J ? Sn(e) : n == nt ? Rn(e) : function(t, e) {
                            return $e(e, function(e) {
                                return [e, t[e]]
                            })
                        }(e, t(e))
                    }
                }
                function To(t, e, n, i, a, s, c, f) {
                    var h = e & y;
                    if (!h && "function" != typeof t)
                        throw new ie(u);
                    var d = i ? i.length : 0;
                    if (d || (e &= ~(w | M),
                    i = a = o),
                    c = c === o ? c : Wn(Fs(c), 0),
                    f = f === o ? f : Fs(f),
                    d -= a ? a.length : 0,
                    e & M) {
                        var p = i
                          , m = a;
                        i = a = o
                    }
                    var v = h ? o : Po(t)
                      , S = [t, e, n, i, a, p, m, s, c, f];
                    if (v && function(t, e) {
                        var n = t[1]
                          , r = e[1]
                          , i = n | r
                          , o = i < (g | y | E)
                          , a = r == E && n == _ || r == E && n == T && t[7].length <= e[8] || r == (E | T) && e[7].length <= e[8] && n == _;
                        if (!o && !a)
                            return t;
                        r & g && (t[2] = e[2],
                        i |= n & g ? 0 : b);
                        var s = e[3];
                        if (s) {
                            var u = t[3];
                            t[3] = u ? to(u, s, e[4]) : s,
                            t[4] = u ? An(t[3], l) : e[4]
                        }
                        (s = e[5]) && (u = t[5],
                        t[5] = u ? eo(u, s, e[6]) : s,
                        t[6] = u ? An(t[5], l) : e[6]),
                        (s = e[7]) && (t[7] = s),
                        r & E && (t[8] = null == t[8] ? e[8] : qn(t[8], e[8])),
                        null == t[9] && (t[9] = e[9]),
                        t[0] = e[0],
                        t[1] = i
                    }(S, v),
                    t = S[0],
                    e = S[1],
                    n = S[2],
                    i = S[3],
                    a = S[4],
                    !(f = S[9] = S[9] === o ? h ? 0 : t.length : Wn(S[9] - d, 0)) && e & (_ | x) && (e &= ~(_ | x)),
                    e && e != g)
                        O = e == _ || e == x ? function(t, e, n) {
                            var i = fo(t);
                            return function a() {
                                for (var s = arguments.length, u = r(s), c = s, f = Io(a); c--; )
                                    u[c] = arguments[c];
                                var l = s < 3 && u[0] !== f && u[s - 1] !== f ? [] : An(u, f);
                                return (s -= l.length) < n ? xo(t, e, po, a.placeholder, o, u, l, o, o, n - s) : We(this && this !== Pe && this instanceof a ? i : t, this, u)
                            }
                        }(t, e, f) : e != w && e != (g | w) || a.length ? po.apply(o, S) : function(t, e, n, i) {
                            var o = e & g
                              , a = fo(t);
                            return function e() {
                                for (var s = -1, u = arguments.length, c = -1, f = i.length, l = r(f + u), h = this && this !== Pe && this instanceof e ? a : t; ++c < f; )
                                    l[c] = i[c];
                                for (; u--; )
                                    l[c++] = arguments[++s];
                                return We(h, o ? n : this, l)
                            }
                        }(t, e, n, i);
                    else
                        var O = function(t, e, n) {
                            var r = e & g
                              , i = fo(t);
                            return function e() {
                                return (this && this !== Pe && this instanceof e ? i : t).apply(r ? n : this, arguments)
                            }
                        }(t, e, n);
                    return aa((v ? Oi : ra)(O, S), t, e)
                }
                function So(t, e, n, r) {
                    return t === o || ds(t, se[n]) && !fe.call(r, n) ? e : t
                }
                function Oo(t, e, n, r, i, a) {
                    return Os(t) && Os(e) && (a.set(e, t),
                    mi(t, e, o, Oo, a),
                    a.delete(e)),
                    t
                }
                function Ao(t) {
                    return Cs(t) ? o : t
                }
                function Lo(t, e, n, r, i, a) {
                    var s = n & m
                      , u = t.length
                      , c = e.length;
                    if (u != c && !(s && c > u))
                        return !1;
                    var f = a.get(t);
                    if (f && a.get(e))
                        return f == e;
                    var l = -1
                      , h = !0
                      , d = n & v ? new xr : o;
                    for (a.set(t, e),
                    a.set(e, t); ++l < u; ) {
                        var p = t[l]
                          , g = e[l];
                        if (r)
                            var y = s ? r(g, p, l, e, t, a) : r(p, g, l, t, e, a);
                        if (y !== o) {
                            if (y)
                                continue;
                            h = !1;
                            break
                        }
                        if (d) {
                            if (!rn(e, function(t, e) {
                                if (!bn(d, e) && (p === t || i(p, t, n, r, a)))
                                    return d.push(e)
                            })) {
                                h = !1;
                                break
                            }
                        } else if (p !== g && !i(p, g, n, r, a)) {
                            h = !1;
                            break
                        }
                    }
                    return a.delete(t),
                    a.delete(e),
                    h
                }
                function Ro(t) {
                    return oa(ta(t, o, ya), t + "")
                }
                function Co(t) {
                    return Qr(t, iu, ko)
                }
                function jo(t) {
                    return Qr(t, ou, Fo)
                }
                var Po = rr ? function(t) {
                    return rr.get(t)
                }
                : Iu;
                function No(t) {
                    for (var e = t.name + "", n = ir[e], r = fe.call(ir, e) ? n.length : 0; r--; ) {
                        var i = n[r]
                          , o = i.func;
                        if (null == o || o == t)
                            return i.name
                    }
                    return e
                }
                function Io(t) {
                    return (fe.call(dr, "placeholder") ? dr : t).placeholder
                }
                function Do() {
                    var t = dr.iteratee || Cu;
                    return t = t === Cu ? ui : t,
                    arguments.length ? t(arguments[0], arguments[1]) : t
                }
                function Uo(t, e) {
                    var n, r, i = t.__data__;
                    return ("string" == (r = typeof (n = e)) || "number" == r || "symbol" == r || "boolean" == r ? "__proto__" !== n : null === n) ? i["string" == typeof e ? "string" : "hash"] : i.map
                }
                function zo(t) {
                    for (var e = iu(t), n = e.length; n--; ) {
                        var r = e[n]
                          , i = t[r];
                        e[n] = [r, i, Ko(i)]
                    }
                    return e
                }
                function Bo(t, e) {
                    var n = function(t, e) {
                        return null == t ? o : t[e]
                    }(t, e);
                    return si(n) ? n : o
                }
                var ko = kn ? function(t) {
                    return null == t ? [] : (t = ee(t),
                    Je(kn(t), function(e) {
                        return Ne.call(t, e)
                    }))
                }
                : Gu
                  , Fo = kn ? function(t) {
                    for (var e = []; t; )
                        tn(e, ko(t)),
                        t = Ce(t);
                    return e
                }
                : Gu
                  , Go = Kr;
                function Ho(t, e, n) {
                    for (var r = -1, i = (e = qi(e, t)).length, o = !1; ++r < i; ) {
                        var a = fa(e[r]);
                        if (!(o = null != t && n(t, a)))
                            break;
                        t = t[a]
                    }
                    return o || ++r != i ? o : !!(i = null == t ? 0 : t.length) && Ss(i) && qo(a, i) && (gs(t) || vs(t))
                }
                function Vo(t) {
                    return "function" != typeof t.constructor || Qo(t) ? {} : pr(Ce(t))
                }
                function Wo(t) {
                    return gs(t) || vs(t) || !!(Ue && t && t[Ue])
                }
                function qo(t, e) {
                    var n = typeof t;
                    return !!(e = null == e ? N : e) && ("number" == n || "symbol" != n && Yt.test(t)) && t > -1 && t % 1 == 0 && t < e
                }
                function Xo(t, e, n) {
                    if (!Os(n))
                        return !1;
                    var r = typeof e;
                    return !!("number" == r ? bs(n) && qo(e, n.length) : "string" == r && e in n) && ds(n[e], t)
                }
                function Yo(t, e) {
                    if (gs(t))
                        return !1;
                    var n = typeof t;
                    return !("number" != n && "symbol" != n && "boolean" != n && null != t && !Is(t)) || Rt.test(t) || !Lt.test(t) || null != e && t in ee(e)
                }
                function Zo(t) {
                    var e = No(t)
                      , n = dr[e];
                    if ("function" != typeof n || !(e in gr.prototype))
                        return !1;
                    if (t === n)
                        return !0;
                    var r = Po(n);
                    return !!r && t === r[0]
                }
                (Qn && Go(new Qn(new ArrayBuffer(1))) != ct || Kn && Go(new Kn) != J || $n && "[object Promise]" != Go($n.resolve()) || tr && Go(new tr) != nt || er && Go(new er) != at) && (Go = function(t) {
                    var e = Kr(t)
                      , n = e == $ ? t.constructor : o
                      , r = n ? la(n) : "";
                    if (r)
                        switch (r) {
                        case or:
                            return ct;
                        case ar:
                            return J;
                        case sr:
                            return "[object Promise]";
                        case ur:
                            return nt;
                        case cr:
                            return at
                        }
                    return e
                }
                );
                var Jo = ue ? Es : Hu;
                function Qo(t) {
                    var e = t && t.constructor;
                    return t === ("function" == typeof e && e.prototype || se)
                }
                function Ko(t) {
                    return t == t && !Os(t)
                }
                function $o(t, e) {
                    return function(n) {
                        return null != n && n[t] === e && (e !== o || t in ee(n))
                    }
                }
                function ta(t, e, n) {
                    return e = Wn(e === o ? t.length - 1 : e, 0),
                    function() {
                        for (var i = arguments, o = -1, a = Wn(i.length - e, 0), s = r(a); ++o < a; )
                            s[o] = i[e + o];
                        o = -1;
                        for (var u = r(e + 1); ++o < e; )
                            u[o] = i[o];
                        return u[e] = n(s),
                        We(t, this, u)
                    }
                }
                function ea(t, e) {
                    return e.length < 2 ? t : Jr(t, Ri(e, 0, -1))
                }
                function na(t, e) {
                    if ("__proto__" != e)
                        return t[e]
                }
                var ra = sa(Oi)
                  , ia = Un || function(t, e) {
                    return Pe.setTimeout(t, e)
                }
                  , oa = sa(Ai);
                function aa(t, e, n) {
                    var r = e + "";
                    return oa(t, function(t, e) {
                        var n = e.length;
                        if (!n)
                            return t;
                        var r = n - 1;
                        return e[r] = (n > 1 ? "& " : "") + e[r],
                        e = e.join(n > 2 ? ", " : " "),
                        t.replace(Ut, "{\n/* [wrapped with " + e + "] */\n")
                    }(r, function(t, e) {
                        return Xe(k, function(n) {
                            var r = "_." + n[0];
                            e & n[1] && !Qe(t, r) && t.push(r)
                        }),
                        t.sort()
                    }(function(t) {
                        var e = t.match(zt);
                        return e ? e[1].split(Bt) : []
                    }(r), n)))
                }
                function sa(t) {
                    var e = 0
                      , n = 0;
                    return function() {
                        var r = Xn()
                          , i = R - (r - n);
                        if (n = r,
                        i > 0) {
                            if (++e >= L)
                                return arguments[0]
                        } else
                            e = 0;
                        return t.apply(o, arguments)
                    }
                }
                function ua(t, e) {
                    var n = -1
                      , r = t.length
                      , i = r - 1;
                    for (e = e === o ? r : e; ++n < e; ) {
                        var a = xi(n, i)
                          , s = t[a];
                        t[a] = t[n],
                        t[n] = s
                    }
                    return t.length = e,
                    t
                }
                var ca = function(t) {
                    var e = ss(t, function(t) {
                        return n.size === f && n.clear(),
                        t
                    })
                      , n = e.cache;
                    return e
                }(function(t) {
                    var e = [];
                    return 46 === t.charCodeAt(0) && e.push(""),
                    t.replace(Ct, function(t, n, r, i) {
                        e.push(r ? i.replace(Ft, "$1") : n || t)
                    }),
                    e
                });
                function fa(t) {
                    if ("string" == typeof t || Is(t))
                        return t;
                    var e = t + "";
                    return "0" == e && 1 / t == -P ? "-0" : e
                }
                function la(t) {
                    if (null != t) {
                        try {
                            return ce.call(t)
                        } catch (t) {}
                        try {
                            return t + ""
                        } catch (t) {}
                    }
                    return ""
                }
                function ha(t) {
                    if (t instanceof gr)
                        return t.clone();
                    var e = new vr(t.__wrapped__,t.__chain__);
                    return e.__actions__ = no(t.__actions__),
                    e.__index__ = t.__index__,
                    e.__values__ = t.__values__,
                    e
                }
                var da = Mi(function(t, e) {
                    return _s(t) ? zr(t, Vr(e, 1, _s, !0)) : []
                })
                  , pa = Mi(function(t, e) {
                    var n = Ma(e);
                    return _s(n) && (n = o),
                    _s(t) ? zr(t, Vr(e, 1, _s, !0), Do(n, 2)) : []
                })
                  , ma = Mi(function(t, e) {
                    var n = Ma(e);
                    return _s(n) && (n = o),
                    _s(t) ? zr(t, Vr(e, 1, _s, !0), o, n) : []
                });
                function va(t, e, n) {
                    var r = null == t ? 0 : t.length;
                    if (!r)
                        return -1;
                    var i = null == n ? 0 : Fs(n);
                    return i < 0 && (i = Wn(r + i, 0)),
                    sn(t, Do(e, 3), i)
                }
                function ga(t, e, n) {
                    var r = null == t ? 0 : t.length;
                    if (!r)
                        return -1;
                    var i = r - 1;
                    return n !== o && (i = Fs(n),
                    i = n < 0 ? Wn(r + i, 0) : qn(i, r - 1)),
                    sn(t, Do(e, 3), i, !0)
                }
                function ya(t) {
                    return null != t && t.length ? Vr(t, 1) : []
                }
                function ba(t) {
                    return t && t.length ? t[0] : o
                }
                var _a = Mi(function(t) {
                    var e = $e(t, Vi);
                    return e.length && e[0] === t[0] ? ni(e) : []
                })
                  , xa = Mi(function(t) {
                    var e = Ma(t)
                      , n = $e(t, Vi);
                    return e === Ma(n) ? e = o : n.pop(),
                    n.length && n[0] === t[0] ? ni(n, Do(e, 2)) : []
                })
                  , wa = Mi(function(t) {
                    var e = Ma(t)
                      , n = $e(t, Vi);
                    return (e = "function" == typeof e ? e : o) && n.pop(),
                    n.length && n[0] === t[0] ? ni(n, o, e) : []
                });
                function Ma(t) {
                    var e = null == t ? 0 : t.length;
                    return e ? t[e - 1] : o
                }
                var Ea = Mi(Ta);
                function Ta(t, e) {
                    return t && t.length && e && e.length ? bi(t, e) : t
                }
                var Sa = Ro(function(t, e) {
                    var n = null == t ? 0 : t.length
                      , r = Pr(t, e);
                    return _i(t, $e(e, function(t) {
                        return qo(t, n) ? +t : t
                    }).sort($i)),
                    r
                });
                function Oa(t) {
                    return null == t ? t : Jn.call(t)
                }
                var Aa = Mi(function(t) {
                    return Ui(Vr(t, 1, _s, !0))
                })
                  , La = Mi(function(t) {
                    var e = Ma(t);
                    return _s(e) && (e = o),
                    Ui(Vr(t, 1, _s, !0), Do(e, 2))
                })
                  , Ra = Mi(function(t) {
                    var e = Ma(t);
                    return e = "function" == typeof e ? e : o,
                    Ui(Vr(t, 1, _s, !0), o, e)
                });
                function Ca(t) {
                    if (!t || !t.length)
                        return [];
                    var e = 0;
                    return t = Je(t, function(t) {
                        if (_s(t))
                            return e = Wn(t.length, e),
                            !0
                    }),
                    vn(e, function(e) {
                        return $e(t, hn(e))
                    })
                }
                function ja(t, e) {
                    if (!t || !t.length)
                        return [];
                    var n = Ca(t);
                    return null == e ? n : $e(n, function(t) {
                        return We(e, o, t)
                    })
                }
                var Pa = Mi(function(t, e) {
                    return _s(t) ? zr(t, e) : []
                })
                  , Na = Mi(function(t) {
                    return Gi(Je(t, _s))
                })
                  , Ia = Mi(function(t) {
                    var e = Ma(t);
                    return _s(e) && (e = o),
                    Gi(Je(t, _s), Do(e, 2))
                })
                  , Da = Mi(function(t) {
                    var e = Ma(t);
                    return e = "function" == typeof e ? e : o,
                    Gi(Je(t, _s), o, e)
                })
                  , Ua = Mi(Ca);
                var za = Mi(function(t) {
                    var e = t.length
                      , n = e > 1 ? t[e - 1] : o;
                    return ja(t, n = "function" == typeof n ? (t.pop(),
                    n) : o)
                });
                function Ba(t) {
                    var e = dr(t);
                    return e.__chain__ = !0,
                    e
                }
                function ka(t, e) {
                    return e(t)
                }
                var Fa = Ro(function(t) {
                    var e = t.length
                      , n = e ? t[0] : 0
                      , r = this.__wrapped__
                      , i = function(e) {
                        return Pr(e, t)
                    };
                    return !(e > 1 || this.__actions__.length) && r instanceof gr && qo(n) ? ((r = r.slice(n, +n + (e ? 1 : 0))).__actions__.push({
                        func: ka,
                        args: [i],
                        thisArg: o
                    }),
                    new vr(r,this.__chain__).thru(function(t) {
                        return e && !t.length && t.push(o),
                        t
                    })) : this.thru(i)
                });
                var Ga = io(function(t, e, n) {
                    fe.call(t, n) ? ++t[n] : jr(t, n, 1)
                });
                var Ha = lo(va)
                  , Va = lo(ga);
                function Wa(t, e) {
                    return (gs(t) ? Xe : Br)(t, Do(e, 3))
                }
                function qa(t, e) {
                    return (gs(t) ? Ye : kr)(t, Do(e, 3))
                }
                var Xa = io(function(t, e, n) {
                    fe.call(t, n) ? t[n].push(e) : jr(t, n, [e])
                });
                var Ya = Mi(function(t, e, n) {
                    var i = -1
                      , o = "function" == typeof e
                      , a = bs(t) ? r(t.length) : [];
                    return Br(t, function(t) {
                        a[++i] = o ? We(e, t, n) : ri(t, e, n)
                    }),
                    a
                })
                  , Za = io(function(t, e, n) {
                    jr(t, n, e)
                });
                function Ja(t, e) {
                    return (gs(t) ? $e : hi)(t, Do(e, 3))
                }
                var Qa = io(function(t, e, n) {
                    t[n ? 0 : 1].push(e)
                }, function() {
                    return [[], []]
                });
                var Ka = Mi(function(t, e) {
                    if (null == t)
                        return [];
                    var n = e.length;
                    return n > 1 && Xo(t, e[0], e[1]) ? e = [] : n > 2 && Xo(e[0], e[1], e[2]) && (e = [e[0]]),
                    gi(t, Vr(e, 1), [])
                })
                  , $a = Dn || function() {
                    return Pe.Date.now()
                }
                ;
                function ts(t, e, n) {
                    return e = n ? o : e,
                    e = t && null == e ? t.length : e,
                    To(t, E, o, o, o, o, e)
                }
                function es(t, e) {
                    var n;
                    if ("function" != typeof e)
                        throw new ie(u);
                    return t = Fs(t),
                    function() {
                        return --t > 0 && (n = e.apply(this, arguments)),
                        t <= 1 && (e = o),
                        n
                    }
                }
                var ns = Mi(function(t, e, n) {
                    var r = g;
                    if (n.length) {
                        var i = An(n, Io(ns));
                        r |= w
                    }
                    return To(t, r, e, n, i)
                })
                  , rs = Mi(function(t, e, n) {
                    var r = g | y;
                    if (n.length) {
                        var i = An(n, Io(rs));
                        r |= w
                    }
                    return To(e, r, t, n, i)
                });
                function is(t, e, n) {
                    var r, i, a, s, c, f, l = 0, h = !1, d = !1, p = !0;
                    if ("function" != typeof t)
                        throw new ie(u);
                    function m(e) {
                        var n = r
                          , a = i;
                        return r = i = o,
                        l = e,
                        s = t.apply(a, n)
                    }
                    function v(t) {
                        var n = t - f;
                        return f === o || n >= e || n < 0 || d && t - l >= a
                    }
                    function g() {
                        var t = $a();
                        if (v(t))
                            return y(t);
                        c = ia(g, function(t) {
                            var n = e - (t - f);
                            return d ? qn(n, a - (t - l)) : n
                        }(t))
                    }
                    function y(t) {
                        return c = o,
                        p && r ? m(t) : (r = i = o,
                        s)
                    }
                    function b() {
                        var t = $a()
                          , n = v(t);
                        if (r = arguments,
                        i = this,
                        f = t,
                        n) {
                            if (c === o)
                                return function(t) {
                                    return l = t,
                                    c = ia(g, e),
                                    h ? m(t) : s
                                }(f);
                            if (d)
                                return c = ia(g, e),
                                m(f)
                        }
                        return c === o && (c = ia(g, e)),
                        s
                    }
                    return e = Hs(e) || 0,
                    Os(n) && (h = !!n.leading,
                    a = (d = "maxWait"in n) ? Wn(Hs(n.maxWait) || 0, e) : a,
                    p = "trailing"in n ? !!n.trailing : p),
                    b.cancel = function() {
                        c !== o && Zi(c),
                        l = 0,
                        r = f = i = c = o
                    }
                    ,
                    b.flush = function() {
                        return c === o ? s : y($a())
                    }
                    ,
                    b
                }
                var os = Mi(function(t, e) {
                    return Ur(t, 1, e)
                })
                  , as = Mi(function(t, e, n) {
                    return Ur(t, Hs(e) || 0, n)
                });
                function ss(t, e) {
                    if ("function" != typeof t || null != e && "function" != typeof e)
                        throw new ie(u);
                    var n = function() {
                        var r = arguments
                          , i = e ? e.apply(this, r) : r[0]
                          , o = n.cache;
                        if (o.has(i))
                            return o.get(i);
                        var a = t.apply(this, r);
                        return n.cache = o.set(i, a) || o,
                        a
                    };
                    return n.cache = new (ss.Cache || _r),
                    n
                }
                function us(t) {
                    if ("function" != typeof t)
                        throw new ie(u);
                    return function() {
                        var e = arguments;
                        switch (e.length) {
                        case 0:
                            return !t.call(this);
                        case 1:
                            return !t.call(this, e[0]);
                        case 2:
                            return !t.call(this, e[0], e[1]);
                        case 3:
                            return !t.call(this, e[0], e[1], e[2])
                        }
                        return !t.apply(this, e)
                    }
                }
                ss.Cache = _r;
                var cs = Xi(function(t, e) {
                    var n = (e = 1 == e.length && gs(e[0]) ? $e(e[0], gn(Do())) : $e(Vr(e, 1), gn(Do()))).length;
                    return Mi(function(r) {
                        for (var i = -1, o = qn(r.length, n); ++i < o; )
                            r[i] = e[i].call(this, r[i]);
                        return We(t, this, r)
                    })
                })
                  , fs = Mi(function(t, e) {
                    var n = An(e, Io(fs));
                    return To(t, w, o, e, n)
                })
                  , ls = Mi(function(t, e) {
                    var n = An(e, Io(ls));
                    return To(t, M, o, e, n)
                })
                  , hs = Ro(function(t, e) {
                    return To(t, T, o, o, o, e)
                });
                function ds(t, e) {
                    return t === e || t != t && e != e
                }
                var ps = _o($r)
                  , ms = _o(function(t, e) {
                    return t >= e
                })
                  , vs = ii(function() {
                    return arguments
                }()) ? ii : function(t) {
                    return As(t) && fe.call(t, "callee") && !Ne.call(t, "callee")
                }
                  , gs = r.isArray
                  , ys = Be ? gn(Be) : function(t) {
                    return As(t) && Kr(t) == ut
                }
                ;
                function bs(t) {
                    return null != t && Ss(t.length) && !Es(t)
                }
                function _s(t) {
                    return As(t) && bs(t)
                }
                var xs = Fn || Hu
                  , ws = ke ? gn(ke) : function(t) {
                    return As(t) && Kr(t) == W
                }
                ;
                function Ms(t) {
                    if (!As(t))
                        return !1;
                    var e = Kr(t);
                    return e == X || e == q || "string" == typeof t.message && "string" == typeof t.name && !Cs(t)
                }
                function Es(t) {
                    if (!Os(t))
                        return !1;
                    var e = Kr(t);
                    return e == Y || e == Z || e == H || e == tt
                }
                function Ts(t) {
                    return "number" == typeof t && t == Fs(t)
                }
                function Ss(t) {
                    return "number" == typeof t && t > -1 && t % 1 == 0 && t <= N
                }
                function Os(t) {
                    var e = typeof t;
                    return null != t && ("object" == e || "function" == e)
                }
                function As(t) {
                    return null != t && "object" == typeof t
                }
                var Ls = Fe ? gn(Fe) : function(t) {
                    return As(t) && Go(t) == J
                }
                ;
                function Rs(t) {
                    return "number" == typeof t || As(t) && Kr(t) == Q
                }
                function Cs(t) {
                    if (!As(t) || Kr(t) != $)
                        return !1;
                    var e = Ce(t);
                    if (null === e)
                        return !0;
                    var n = fe.call(e, "constructor") && e.constructor;
                    return "function" == typeof n && n instanceof n && ce.call(n) == pe
                }
                var js = Ge ? gn(Ge) : function(t) {
                    return As(t) && Kr(t) == et
                }
                ;
                var Ps = He ? gn(He) : function(t) {
                    return As(t) && Go(t) == nt
                }
                ;
                function Ns(t) {
                    return "string" == typeof t || !gs(t) && As(t) && Kr(t) == rt
                }
                function Is(t) {
                    return "symbol" == typeof t || As(t) && Kr(t) == it
                }
                var Ds = Ve ? gn(Ve) : function(t) {
                    return As(t) && Ss(t.length) && !!Se[Kr(t)]
                }
                ;
                var Us = _o(li)
                  , zs = _o(function(t, e) {
                    return t <= e
                });
                function Bs(t) {
                    if (!t)
                        return [];
                    if (bs(t))
                        return Ns(t) ? jn(t) : no(t);
                    if (ze && t[ze])
                        return function(t) {
                            for (var e, n = []; !(e = t.next()).done; )
                                n.push(e.value);
                            return n
                        }(t[ze]());
                    var e = Go(t);
                    return (e == J ? Sn : e == nt ? Ln : du)(t)
                }
                function ks(t) {
                    return t ? (t = Hs(t)) === P || t === -P ? (t < 0 ? -1 : 1) * I : t == t ? t : 0 : 0 === t ? t : 0
                }
                function Fs(t) {
                    var e = ks(t)
                      , n = e % 1;
                    return e == e ? n ? e - n : e : 0
                }
                function Gs(t) {
                    return t ? Nr(Fs(t), 0, U) : 0
                }
                function Hs(t) {
                    if ("number" == typeof t)
                        return t;
                    if (Is(t))
                        return D;
                    if (Os(t)) {
                        var e = "function" == typeof t.valueOf ? t.valueOf() : t;
                        t = Os(e) ? e + "" : e
                    }
                    if ("string" != typeof t)
                        return 0 === t ? t : +t;
                    t = t.replace(Nt, "");
                    var n = Wt.test(t);
                    return n || Xt.test(t) ? Re(t.slice(2), n ? 2 : 8) : Vt.test(t) ? D : +t
                }
                function Vs(t) {
                    return ro(t, ou(t))
                }
                function Ws(t) {
                    return null == t ? "" : Di(t)
                }
                var qs = oo(function(t, e) {
                    if (Qo(e) || bs(e))
                        ro(e, iu(e), t);
                    else
                        for (var n in e)
                            fe.call(e, n) && Ar(t, n, e[n])
                })
                  , Xs = oo(function(t, e) {
                    ro(e, ou(e), t)
                })
                  , Ys = oo(function(t, e, n, r) {
                    ro(e, ou(e), t, r)
                })
                  , Zs = oo(function(t, e, n, r) {
                    ro(e, iu(e), t, r)
                })
                  , Js = Ro(Pr);
                var Qs = Mi(function(t, e) {
                    t = ee(t);
                    var n = -1
                      , r = e.length
                      , i = r > 2 ? e[2] : o;
                    for (i && Xo(e[0], e[1], i) && (r = 1); ++n < r; )
                        for (var a = e[n], s = ou(a), u = -1, c = s.length; ++u < c; ) {
                            var f = s[u]
                              , l = t[f];
                            (l === o || ds(l, se[f]) && !fe.call(t, f)) && (t[f] = a[f])
                        }
                    return t
                })
                  , Ks = Mi(function(t) {
                    return t.push(o, Oo),
                    We(su, o, t)
                });
                function $s(t, e, n) {
                    var r = null == t ? o : Jr(t, e);
                    return r === o ? n : r
                }
                function tu(t, e) {
                    return null != t && Ho(t, e, ei)
                }
                var eu = mo(function(t, e, n) {
                    null != e && "function" != typeof e.toString && (e = de.call(e)),
                    t[e] = n
                }, Ou(Ru))
                  , nu = mo(function(t, e, n) {
                    null != e && "function" != typeof e.toString && (e = de.call(e)),
                    fe.call(t, e) ? t[e].push(n) : t[e] = [n]
                }, Do)
                  , ru = Mi(ri);
                function iu(t) {
                    return bs(t) ? Mr(t) : ci(t)
                }
                function ou(t) {
                    return bs(t) ? Mr(t, !0) : fi(t)
                }
                var au = oo(function(t, e, n) {
                    mi(t, e, n)
                })
                  , su = oo(function(t, e, n, r) {
                    mi(t, e, n, r)
                })
                  , uu = Ro(function(t, e) {
                    var n = {};
                    if (null == t)
                        return n;
                    var r = !1;
                    e = $e(e, function(e) {
                        return e = qi(e, t),
                        r || (r = e.length > 1),
                        e
                    }),
                    ro(t, jo(t), n),
                    r && (n = Ir(n, h | d | p, Ao));
                    for (var i = e.length; i--; )
                        zi(n, e[i]);
                    return n
                });
                var cu = Ro(function(t, e) {
                    return null == t ? {} : function(t, e) {
                        return yi(t, e, function(e, n) {
                            return tu(t, n)
                        })
                    }(t, e)
                });
                function fu(t, e) {
                    if (null == t)
                        return {};
                    var n = $e(jo(t), function(t) {
                        return [t]
                    });
                    return e = Do(e),
                    yi(t, n, function(t, n) {
                        return e(t, n[0])
                    })
                }
                var lu = Eo(iu)
                  , hu = Eo(ou);
                function du(t) {
                    return null == t ? [] : yn(t, iu(t))
                }
                var pu = co(function(t, e, n) {
                    return e = e.toLowerCase(),
                    t + (n ? mu(e) : e)
                });
                function mu(t) {
                    return Mu(Ws(t).toLowerCase())
                }
                function vu(t) {
                    return (t = Ws(t)) && t.replace(Zt, wn).replace(be, "")
                }
                var gu = co(function(t, e, n) {
                    return t + (n ? "-" : "") + e.toLowerCase()
                })
                  , yu = co(function(t, e, n) {
                    return t + (n ? " " : "") + e.toLowerCase()
                })
                  , bu = uo("toLowerCase");
                var _u = co(function(t, e, n) {
                    return t + (n ? "_" : "") + e.toLowerCase()
                });
                var xu = co(function(t, e, n) {
                    return t + (n ? " " : "") + Mu(e)
                });
                var wu = co(function(t, e, n) {
                    return t + (n ? " " : "") + e.toUpperCase()
                })
                  , Mu = uo("toUpperCase");
                function Eu(t, e, n) {
                    return t = Ws(t),
                    (e = n ? o : e) === o ? function(t) {
                        return Me.test(t)
                    }(t) ? function(t) {
                        return t.match(xe) || []
                    }(t) : function(t) {
                        return t.match(kt) || []
                    }(t) : t.match(e) || []
                }
                var Tu = Mi(function(t, e) {
                    try {
                        return We(t, o, e)
                    } catch (t) {
                        return Ms(t) ? t : new Kt(t)
                    }
                })
                  , Su = Ro(function(t, e) {
                    return Xe(e, function(e) {
                        e = fa(e),
                        jr(t, e, ns(t[e], t))
                    }),
                    t
                });
                function Ou(t) {
                    return function() {
                        return t
                    }
                }
                var Au = ho()
                  , Lu = ho(!0);
                function Ru(t) {
                    return t
                }
                function Cu(t) {
                    return ui("function" == typeof t ? t : Ir(t, h))
                }
                var ju = Mi(function(t, e) {
                    return function(n) {
                        return ri(n, t, e)
                    }
                })
                  , Pu = Mi(function(t, e) {
                    return function(n) {
                        return ri(t, n, e)
                    }
                });
                function Nu(t, e, n) {
                    var r = iu(e)
                      , i = Zr(e, r);
                    null != n || Os(e) && (i.length || !r.length) || (n = e,
                    e = t,
                    t = this,
                    i = Zr(e, iu(e)));
                    var o = !(Os(n) && "chain"in n && !n.chain)
                      , a = Es(t);
                    return Xe(i, function(n) {
                        var r = e[n];
                        t[n] = r,
                        a && (t.prototype[n] = function() {
                            var e = this.__chain__;
                            if (o || e) {
                                var n = t(this.__wrapped__);
                                return (n.__actions__ = no(this.__actions__)).push({
                                    func: r,
                                    args: arguments,
                                    thisArg: t
                                }),
                                n.__chain__ = e,
                                n
                            }
                            return r.apply(t, tn([this.value()], arguments))
                        }
                        )
                    }),
                    t
                }
                function Iu() {}
                var Du = go($e)
                  , Uu = go(Ze)
                  , zu = go(rn);
                function Bu(t) {
                    return Yo(t) ? hn(fa(t)) : function(t) {
                        return function(e) {
                            return Jr(e, t)
                        }
                    }(t)
                }
                var ku = bo()
                  , Fu = bo(!0);
                function Gu() {
                    return []
                }
                function Hu() {
                    return !1
                }
                var Vu = vo(function(t, e) {
                    return t + e
                }, 0)
                  , Wu = wo("ceil")
                  , qu = vo(function(t, e) {
                    return t / e
                }, 1)
                  , Xu = wo("floor");
                var Yu, Zu = vo(function(t, e) {
                    return t * e
                }, 1), Ju = wo("round"), Qu = vo(function(t, e) {
                    return t - e
                }, 0);
                return dr.after = function(t, e) {
                    if ("function" != typeof e)
                        throw new ie(u);
                    return t = Fs(t),
                    function() {
                        if (--t < 1)
                            return e.apply(this, arguments)
                    }
                }
                ,
                dr.ary = ts,
                dr.assign = qs,
                dr.assignIn = Xs,
                dr.assignInWith = Ys,
                dr.assignWith = Zs,
                dr.at = Js,
                dr.before = es,
                dr.bind = ns,
                dr.bindAll = Su,
                dr.bindKey = rs,
                dr.castArray = function() {
                    if (!arguments.length)
                        return [];
                    var t = arguments[0];
                    return gs(t) ? t : [t]
                }
                ,
                dr.chain = Ba,
                dr.chunk = function(t, e, n) {
                    e = (n ? Xo(t, e, n) : e === o) ? 1 : Wn(Fs(e), 0);
                    var i = null == t ? 0 : t.length;
                    if (!i || e < 1)
                        return [];
                    for (var a = 0, s = 0, u = r(zn(i / e)); a < i; )
                        u[s++] = Ri(t, a, a += e);
                    return u
                }
                ,
                dr.compact = function(t) {
                    for (var e = -1, n = null == t ? 0 : t.length, r = 0, i = []; ++e < n; ) {
                        var o = t[e];
                        o && (i[r++] = o)
                    }
                    return i
                }
                ,
                dr.concat = function() {
                    var t = arguments.length;
                    if (!t)
                        return [];
                    for (var e = r(t - 1), n = arguments[0], i = t; i--; )
                        e[i - 1] = arguments[i];
                    return tn(gs(n) ? no(n) : [n], Vr(e, 1))
                }
                ,
                dr.cond = function(t) {
                    var e = null == t ? 0 : t.length
                      , n = Do();
                    return t = e ? $e(t, function(t) {
                        if ("function" != typeof t[1])
                            throw new ie(u);
                        return [n(t[0]), t[1]]
                    }) : [],
                    Mi(function(n) {
                        for (var r = -1; ++r < e; ) {
                            var i = t[r];
                            if (We(i[0], this, n))
                                return We(i[1], this, n)
                        }
                    })
                }
                ,
                dr.conforms = function(t) {
                    return function(t) {
                        var e = iu(t);
                        return function(n) {
                            return Dr(n, t, e)
                        }
                    }(Ir(t, h))
                }
                ,
                dr.constant = Ou,
                dr.countBy = Ga,
                dr.create = function(t, e) {
                    var n = pr(t);
                    return null == e ? n : Cr(n, e)
                }
                ,
                dr.curry = function t(e, n, r) {
                    var i = To(e, _, o, o, o, o, o, n = r ? o : n);
                    return i.placeholder = t.placeholder,
                    i
                }
                ,
                dr.curryRight = function t(e, n, r) {
                    var i = To(e, x, o, o, o, o, o, n = r ? o : n);
                    return i.placeholder = t.placeholder,
                    i
                }
                ,
                dr.debounce = is,
                dr.defaults = Qs,
                dr.defaultsDeep = Ks,
                dr.defer = os,
                dr.delay = as,
                dr.difference = da,
                dr.differenceBy = pa,
                dr.differenceWith = ma,
                dr.drop = function(t, e, n) {
                    var r = null == t ? 0 : t.length;
                    return r ? Ri(t, (e = n || e === o ? 1 : Fs(e)) < 0 ? 0 : e, r) : []
                }
                ,
                dr.dropRight = function(t, e, n) {
                    var r = null == t ? 0 : t.length;
                    return r ? Ri(t, 0, (e = r - (e = n || e === o ? 1 : Fs(e))) < 0 ? 0 : e) : []
                }
                ,
                dr.dropRightWhile = function(t, e) {
                    return t && t.length ? ki(t, Do(e, 3), !0, !0) : []
                }
                ,
                dr.dropWhile = function(t, e) {
                    return t && t.length ? ki(t, Do(e, 3), !0) : []
                }
                ,
                dr.fill = function(t, e, n, r) {
                    var i = null == t ? 0 : t.length;
                    return i ? (n && "number" != typeof n && Xo(t, e, n) && (n = 0,
                    r = i),
                    function(t, e, n, r) {
                        var i = t.length;
                        for ((n = Fs(n)) < 0 && (n = -n > i ? 0 : i + n),
                        (r = r === o || r > i ? i : Fs(r)) < 0 && (r += i),
                        r = n > r ? 0 : Gs(r); n < r; )
                            t[n++] = e;
                        return t
                    }(t, e, n, r)) : []
                }
                ,
                dr.filter = function(t, e) {
                    return (gs(t) ? Je : Hr)(t, Do(e, 3))
                }
                ,
                dr.flatMap = function(t, e) {
                    return Vr(Ja(t, e), 1)
                }
                ,
                dr.flatMapDeep = function(t, e) {
                    return Vr(Ja(t, e), P)
                }
                ,
                dr.flatMapDepth = function(t, e, n) {
                    return n = n === o ? 1 : Fs(n),
                    Vr(Ja(t, e), n)
                }
                ,
                dr.flatten = ya,
                dr.flattenDeep = function(t) {
                    return null != t && t.length ? Vr(t, P) : []
                }
                ,
                dr.flattenDepth = function(t, e) {
                    return null != t && t.length ? Vr(t, e = e === o ? 1 : Fs(e)) : []
                }
                ,
                dr.flip = function(t) {
                    return To(t, S)
                }
                ,
                dr.flow = Au,
                dr.flowRight = Lu,
                dr.fromPairs = function(t) {
                    for (var e = -1, n = null == t ? 0 : t.length, r = {}; ++e < n; ) {
                        var i = t[e];
                        r[i[0]] = i[1]
                    }
                    return r
                }
                ,
                dr.functions = function(t) {
                    return null == t ? [] : Zr(t, iu(t))
                }
                ,
                dr.functionsIn = function(t) {
                    return null == t ? [] : Zr(t, ou(t))
                }
                ,
                dr.groupBy = Xa,
                dr.initial = function(t) {
                    return null != t && t.length ? Ri(t, 0, -1) : []
                }
                ,
                dr.intersection = _a,
                dr.intersectionBy = xa,
                dr.intersectionWith = wa,
                dr.invert = eu,
                dr.invertBy = nu,
                dr.invokeMap = Ya,
                dr.iteratee = Cu,
                dr.keyBy = Za,
                dr.keys = iu,
                dr.keysIn = ou,
                dr.map = Ja,
                dr.mapKeys = function(t, e) {
                    var n = {};
                    return e = Do(e, 3),
                    Xr(t, function(t, r, i) {
                        jr(n, e(t, r, i), t)
                    }),
                    n
                }
                ,
                dr.mapValues = function(t, e) {
                    var n = {};
                    return e = Do(e, 3),
                    Xr(t, function(t, r, i) {
                        jr(n, r, e(t, r, i))
                    }),
                    n
                }
                ,
                dr.matches = function(t) {
                    return di(Ir(t, h))
                }
                ,
                dr.matchesProperty = function(t, e) {
                    return pi(t, Ir(e, h))
                }
                ,
                dr.memoize = ss,
                dr.merge = au,
                dr.mergeWith = su,
                dr.method = ju,
                dr.methodOf = Pu,
                dr.mixin = Nu,
                dr.negate = us,
                dr.nthArg = function(t) {
                    return t = Fs(t),
                    Mi(function(e) {
                        return vi(e, t)
                    })
                }
                ,
                dr.omit = uu,
                dr.omitBy = function(t, e) {
                    return fu(t, us(Do(e)))
                }
                ,
                dr.once = function(t) {
                    return es(2, t)
                }
                ,
                dr.orderBy = function(t, e, n, r) {
                    return null == t ? [] : (gs(e) || (e = null == e ? [] : [e]),
                    gs(n = r ? o : n) || (n = null == n ? [] : [n]),
                    gi(t, e, n))
                }
                ,
                dr.over = Du,
                dr.overArgs = cs,
                dr.overEvery = Uu,
                dr.overSome = zu,
                dr.partial = fs,
                dr.partialRight = ls,
                dr.partition = Qa,
                dr.pick = cu,
                dr.pickBy = fu,
                dr.property = Bu,
                dr.propertyOf = function(t) {
                    return function(e) {
                        return null == t ? o : Jr(t, e)
                    }
                }
                ,
                dr.pull = Ea,
                dr.pullAll = Ta,
                dr.pullAllBy = function(t, e, n) {
                    return t && t.length && e && e.length ? bi(t, e, Do(n, 2)) : t
                }
                ,
                dr.pullAllWith = function(t, e, n) {
                    return t && t.length && e && e.length ? bi(t, e, o, n) : t
                }
                ,
                dr.pullAt = Sa,
                dr.range = ku,
                dr.rangeRight = Fu,
                dr.rearg = hs,
                dr.reject = function(t, e) {
                    return (gs(t) ? Je : Hr)(t, us(Do(e, 3)))
                }
                ,
                dr.remove = function(t, e) {
                    var n = [];
                    if (!t || !t.length)
                        return n;
                    var r = -1
                      , i = []
                      , o = t.length;
                    for (e = Do(e, 3); ++r < o; ) {
                        var a = t[r];
                        e(a, r, t) && (n.push(a),
                        i.push(r))
                    }
                    return _i(t, i),
                    n
                }
                ,
                dr.rest = function(t, e) {
                    if ("function" != typeof t)
                        throw new ie(u);
                    return Mi(t, e = e === o ? e : Fs(e))
                }
                ,
                dr.reverse = Oa,
                dr.sampleSize = function(t, e, n) {
                    return e = (n ? Xo(t, e, n) : e === o) ? 1 : Fs(e),
                    (gs(t) ? Tr : Ti)(t, e)
                }
                ,
                dr.set = function(t, e, n) {
                    return null == t ? t : Si(t, e, n)
                }
                ,
                dr.setWith = function(t, e, n, r) {
                    return r = "function" == typeof r ? r : o,
                    null == t ? t : Si(t, e, n, r)
                }
                ,
                dr.shuffle = function(t) {
                    return (gs(t) ? Sr : Li)(t)
                }
                ,
                dr.slice = function(t, e, n) {
                    var r = null == t ? 0 : t.length;
                    return r ? (n && "number" != typeof n && Xo(t, e, n) ? (e = 0,
                    n = r) : (e = null == e ? 0 : Fs(e),
                    n = n === o ? r : Fs(n)),
                    Ri(t, e, n)) : []
                }
                ,
                dr.sortBy = Ka,
                dr.sortedUniq = function(t) {
                    return t && t.length ? Ni(t) : []
                }
                ,
                dr.sortedUniqBy = function(t, e) {
                    return t && t.length ? Ni(t, Do(e, 2)) : []
                }
                ,
                dr.split = function(t, e, n) {
                    return n && "number" != typeof n && Xo(t, e, n) && (e = n = o),
                    (n = n === o ? U : n >>> 0) ? (t = Ws(t)) && ("string" == typeof e || null != e && !js(e)) && !(e = Di(e)) && Tn(t) ? Yi(jn(t), 0, n) : t.split(e, n) : []
                }
                ,
                dr.spread = function(t, e) {
                    if ("function" != typeof t)
                        throw new ie(u);
                    return e = null == e ? 0 : Wn(Fs(e), 0),
                    Mi(function(n) {
                        var r = n[e]
                          , i = Yi(n, 0, e);
                        return r && tn(i, r),
                        We(t, this, i)
                    })
                }
                ,
                dr.tail = function(t) {
                    var e = null == t ? 0 : t.length;
                    return e ? Ri(t, 1, e) : []
                }
                ,
                dr.take = function(t, e, n) {
                    return t && t.length ? Ri(t, 0, (e = n || e === o ? 1 : Fs(e)) < 0 ? 0 : e) : []
                }
                ,
                dr.takeRight = function(t, e, n) {
                    var r = null == t ? 0 : t.length;
                    return r ? Ri(t, (e = r - (e = n || e === o ? 1 : Fs(e))) < 0 ? 0 : e, r) : []
                }
                ,
                dr.takeRightWhile = function(t, e) {
                    return t && t.length ? ki(t, Do(e, 3), !1, !0) : []
                }
                ,
                dr.takeWhile = function(t, e) {
                    return t && t.length ? ki(t, Do(e, 3)) : []
                }
                ,
                dr.tap = function(t, e) {
                    return e(t),
                    t
                }
                ,
                dr.throttle = function(t, e, n) {
                    var r = !0
                      , i = !0;
                    if ("function" != typeof t)
                        throw new ie(u);
                    return Os(n) && (r = "leading"in n ? !!n.leading : r,
                    i = "trailing"in n ? !!n.trailing : i),
                    is(t, e, {
                        leading: r,
                        maxWait: e,
                        trailing: i
                    })
                }
                ,
                dr.thru = ka,
                dr.toArray = Bs,
                dr.toPairs = lu,
                dr.toPairsIn = hu,
                dr.toPath = function(t) {
                    return gs(t) ? $e(t, fa) : Is(t) ? [t] : no(ca(Ws(t)))
                }
                ,
                dr.toPlainObject = Vs,
                dr.transform = function(t, e, n) {
                    var r = gs(t)
                      , i = r || xs(t) || Ds(t);
                    if (e = Do(e, 4),
                    null == n) {
                        var o = t && t.constructor;
                        n = i ? r ? new o : [] : Os(t) && Es(o) ? pr(Ce(t)) : {}
                    }
                    return (i ? Xe : Xr)(t, function(t, r, i) {
                        return e(n, t, r, i)
                    }),
                    n
                }
                ,
                dr.unary = function(t) {
                    return ts(t, 1)
                }
                ,
                dr.union = Aa,
                dr.unionBy = La,
                dr.unionWith = Ra,
                dr.uniq = function(t) {
                    return t && t.length ? Ui(t) : []
                }
                ,
                dr.uniqBy = function(t, e) {
                    return t && t.length ? Ui(t, Do(e, 2)) : []
                }
                ,
                dr.uniqWith = function(t, e) {
                    return e = "function" == typeof e ? e : o,
                    t && t.length ? Ui(t, o, e) : []
                }
                ,
                dr.unset = function(t, e) {
                    return null == t || zi(t, e)
                }
                ,
                dr.unzip = Ca,
                dr.unzipWith = ja,
                dr.update = function(t, e, n) {
                    return null == t ? t : Bi(t, e, Wi(n))
                }
                ,
                dr.updateWith = function(t, e, n, r) {
                    return r = "function" == typeof r ? r : o,
                    null == t ? t : Bi(t, e, Wi(n), r)
                }
                ,
                dr.values = du,
                dr.valuesIn = function(t) {
                    return null == t ? [] : yn(t, ou(t))
                }
                ,
                dr.without = Pa,
                dr.words = Eu,
                dr.wrap = function(t, e) {
                    return fs(Wi(e), t)
                }
                ,
                dr.xor = Na,
                dr.xorBy = Ia,
                dr.xorWith = Da,
                dr.zip = Ua,
                dr.zipObject = function(t, e) {
                    return Hi(t || [], e || [], Ar)
                }
                ,
                dr.zipObjectDeep = function(t, e) {
                    return Hi(t || [], e || [], Si)
                }
                ,
                dr.zipWith = za,
                dr.entries = lu,
                dr.entriesIn = hu,
                dr.extend = Xs,
                dr.extendWith = Ys,
                Nu(dr, dr),
                dr.add = Vu,
                dr.attempt = Tu,
                dr.camelCase = pu,
                dr.capitalize = mu,
                dr.ceil = Wu,
                dr.clamp = function(t, e, n) {
                    return n === o && (n = e,
                    e = o),
                    n !== o && (n = (n = Hs(n)) == n ? n : 0),
                    e !== o && (e = (e = Hs(e)) == e ? e : 0),
                    Nr(Hs(t), e, n)
                }
                ,
                dr.clone = function(t) {
                    return Ir(t, p)
                }
                ,
                dr.cloneDeep = function(t) {
                    return Ir(t, h | p)
                }
                ,
                dr.cloneDeepWith = function(t, e) {
                    return Ir(t, h | p, e = "function" == typeof e ? e : o)
                }
                ,
                dr.cloneWith = function(t, e) {
                    return Ir(t, p, e = "function" == typeof e ? e : o)
                }
                ,
                dr.conformsTo = function(t, e) {
                    return null == e || Dr(t, e, iu(e))
                }
                ,
                dr.deburr = vu,
                dr.defaultTo = function(t, e) {
                    return null == t || t != t ? e : t
                }
                ,
                dr.divide = qu,
                dr.endsWith = function(t, e, n) {
                    t = Ws(t),
                    e = Di(e);
                    var r = t.length
                      , i = n = n === o ? r : Nr(Fs(n), 0, r);
                    return (n -= e.length) >= 0 && t.slice(n, i) == e
                }
                ,
                dr.eq = ds,
                dr.escape = function(t) {
                    return (t = Ws(t)) && Tt.test(t) ? t.replace(Mt, Mn) : t
                }
                ,
                dr.escapeRegExp = function(t) {
                    return (t = Ws(t)) && Pt.test(t) ? t.replace(jt, "\\$&") : t
                }
                ,
                dr.every = function(t, e, n) {
                    var r = gs(t) ? Ze : Fr;
                    return n && Xo(t, e, n) && (e = o),
                    r(t, Do(e, 3))
                }
                ,
                dr.find = Ha,
                dr.findIndex = va,
                dr.findKey = function(t, e) {
                    return an(t, Do(e, 3), Xr)
                }
                ,
                dr.findLast = Va,
                dr.findLastIndex = ga,
                dr.findLastKey = function(t, e) {
                    return an(t, Do(e, 3), Yr)
                }
                ,
                dr.floor = Xu,
                dr.forEach = Wa,
                dr.forEachRight = qa,
                dr.forIn = function(t, e) {
                    return null == t ? t : Wr(t, Do(e, 3), ou)
                }
                ,
                dr.forInRight = function(t, e) {
                    return null == t ? t : qr(t, Do(e, 3), ou)
                }
                ,
                dr.forOwn = function(t, e) {
                    return t && Xr(t, Do(e, 3))
                }
                ,
                dr.forOwnRight = function(t, e) {
                    return t && Yr(t, Do(e, 3))
                }
                ,
                dr.get = $s,
                dr.gt = ps,
                dr.gte = ms,
                dr.has = function(t, e) {
                    return null != t && Ho(t, e, ti)
                }
                ,
                dr.hasIn = tu,
                dr.head = ba,
                dr.identity = Ru,
                dr.includes = function(t, e, n, r) {
                    t = bs(t) ? t : du(t),
                    n = n && !r ? Fs(n) : 0;
                    var i = t.length;
                    return n < 0 && (n = Wn(i + n, 0)),
                    Ns(t) ? n <= i && t.indexOf(e, n) > -1 : !!i && un(t, e, n) > -1
                }
                ,
                dr.indexOf = function(t, e, n) {
                    var r = null == t ? 0 : t.length;
                    if (!r)
                        return -1;
                    var i = null == n ? 0 : Fs(n);
                    return i < 0 && (i = Wn(r + i, 0)),
                    un(t, e, i)
                }
                ,
                dr.inRange = function(t, e, n) {
                    return e = ks(e),
                    n === o ? (n = e,
                    e = 0) : n = ks(n),
                    function(t, e, n) {
                        return t >= qn(e, n) && t < Wn(e, n)
                    }(t = Hs(t), e, n)
                }
                ,
                dr.invoke = ru,
                dr.isArguments = vs,
                dr.isArray = gs,
                dr.isArrayBuffer = ys,
                dr.isArrayLike = bs,
                dr.isArrayLikeObject = _s,
                dr.isBoolean = function(t) {
                    return !0 === t || !1 === t || As(t) && Kr(t) == V
                }
                ,
                dr.isBuffer = xs,
                dr.isDate = ws,
                dr.isElement = function(t) {
                    return As(t) && 1 === t.nodeType && !Cs(t)
                }
                ,
                dr.isEmpty = function(t) {
                    if (null == t)
                        return !0;
                    if (bs(t) && (gs(t) || "string" == typeof t || "function" == typeof t.splice || xs(t) || Ds(t) || vs(t)))
                        return !t.length;
                    var e = Go(t);
                    if (e == J || e == nt)
                        return !t.size;
                    if (Qo(t))
                        return !ci(t).length;
                    for (var n in t)
                        if (fe.call(t, n))
                            return !1;
                    return !0
                }
                ,
                dr.isEqual = function(t, e) {
                    return oi(t, e)
                }
                ,
                dr.isEqualWith = function(t, e, n) {
                    var r = (n = "function" == typeof n ? n : o) ? n(t, e) : o;
                    return r === o ? oi(t, e, o, n) : !!r
                }
                ,
                dr.isError = Ms,
                dr.isFinite = function(t) {
                    return "number" == typeof t && Gn(t)
                }
                ,
                dr.isFunction = Es,
                dr.isInteger = Ts,
                dr.isLength = Ss,
                dr.isMap = Ls,
                dr.isMatch = function(t, e) {
                    return t === e || ai(t, e, zo(e))
                }
                ,
                dr.isMatchWith = function(t, e, n) {
                    return n = "function" == typeof n ? n : o,
                    ai(t, e, zo(e), n)
                }
                ,
                dr.isNaN = function(t) {
                    return Rs(t) && t != +t
                }
                ,
                dr.isNative = function(t) {
                    if (Jo(t))
                        throw new Kt(s);
                    return si(t)
                }
                ,
                dr.isNil = function(t) {
                    return null == t
                }
                ,
                dr.isNull = function(t) {
                    return null === t
                }
                ,
                dr.isNumber = Rs,
                dr.isObject = Os,
                dr.isObjectLike = As,
                dr.isPlainObject = Cs,
                dr.isRegExp = js,
                dr.isSafeInteger = function(t) {
                    return Ts(t) && t >= -N && t <= N
                }
                ,
                dr.isSet = Ps,
                dr.isString = Ns,
                dr.isSymbol = Is,
                dr.isTypedArray = Ds,
                dr.isUndefined = function(t) {
                    return t === o
                }
                ,
                dr.isWeakMap = function(t) {
                    return As(t) && Go(t) == at
                }
                ,
                dr.isWeakSet = function(t) {
                    return As(t) && Kr(t) == st
                }
                ,
                dr.join = function(t, e) {
                    return null == t ? "" : Hn.call(t, e)
                }
                ,
                dr.kebabCase = gu,
                dr.last = Ma,
                dr.lastIndexOf = function(t, e, n) {
                    var r = null == t ? 0 : t.length;
                    if (!r)
                        return -1;
                    var i = r;
                    return n !== o && (i = (i = Fs(n)) < 0 ? Wn(r + i, 0) : qn(i, r - 1)),
                    e == e ? function(t, e, n) {
                        for (var r = n + 1; r--; )
                            if (t[r] === e)
                                return r;
                        return r
                    }(t, e, i) : sn(t, fn, i, !0)
                }
                ,
                dr.lowerCase = yu,
                dr.lowerFirst = bu,
                dr.lt = Us,
                dr.lte = zs,
                dr.max = function(t) {
                    return t && t.length ? Gr(t, Ru, $r) : o
                }
                ,
                dr.maxBy = function(t, e) {
                    return t && t.length ? Gr(t, Do(e, 2), $r) : o
                }
                ,
                dr.mean = function(t) {
                    return ln(t, Ru)
                }
                ,
                dr.meanBy = function(t, e) {
                    return ln(t, Do(e, 2))
                }
                ,
                dr.min = function(t) {
                    return t && t.length ? Gr(t, Ru, li) : o
                }
                ,
                dr.minBy = function(t, e) {
                    return t && t.length ? Gr(t, Do(e, 2), li) : o
                }
                ,
                dr.stubArray = Gu,
                dr.stubFalse = Hu,
                dr.stubObject = function() {
                    return {}
                }
                ,
                dr.stubString = function() {
                    return ""
                }
                ,
                dr.stubTrue = function() {
                    return !0
                }
                ,
                dr.multiply = Zu,
                dr.nth = function(t, e) {
                    return t && t.length ? vi(t, Fs(e)) : o
                }
                ,
                dr.noConflict = function() {
                    return Pe._ === this && (Pe._ = me),
                    this
                }
                ,
                dr.noop = Iu,
                dr.now = $a,
                dr.pad = function(t, e, n) {
                    t = Ws(t);
                    var r = (e = Fs(e)) ? Cn(t) : 0;
                    if (!e || r >= e)
                        return t;
                    var i = (e - r) / 2;
                    return yo(Bn(i), n) + t + yo(zn(i), n)
                }
                ,
                dr.padEnd = function(t, e, n) {
                    t = Ws(t);
                    var r = (e = Fs(e)) ? Cn(t) : 0;
                    return e && r < e ? t + yo(e - r, n) : t
                }
                ,
                dr.padStart = function(t, e, n) {
                    t = Ws(t);
                    var r = (e = Fs(e)) ? Cn(t) : 0;
                    return e && r < e ? yo(e - r, n) + t : t
                }
                ,
                dr.parseInt = function(t, e, n) {
                    return n || null == e ? e = 0 : e && (e = +e),
                    Yn(Ws(t).replace(It, ""), e || 0)
                }
                ,
                dr.random = function(t, e, n) {
                    if (n && "boolean" != typeof n && Xo(t, e, n) && (e = n = o),
                    n === o && ("boolean" == typeof e ? (n = e,
                    e = o) : "boolean" == typeof t && (n = t,
                    t = o)),
                    t === o && e === o ? (t = 0,
                    e = 1) : (t = ks(t),
                    e === o ? (e = t,
                    t = 0) : e = ks(e)),
                    t > e) {
                        var r = t;
                        t = e,
                        e = r
                    }
                    if (n || t % 1 || e % 1) {
                        var i = Zn();
                        return qn(t + i * (e - t + Le("1e-" + ((i + "").length - 1))), e)
                    }
                    return xi(t, e)
                }
                ,
                dr.reduce = function(t, e, n) {
                    var r = gs(t) ? en : pn
                      , i = arguments.length < 3;
                    return r(t, Do(e, 4), n, i, Br)
                }
                ,
                dr.reduceRight = function(t, e, n) {
                    var r = gs(t) ? nn : pn
                      , i = arguments.length < 3;
                    return r(t, Do(e, 4), n, i, kr)
                }
                ,
                dr.repeat = function(t, e, n) {
                    return e = (n ? Xo(t, e, n) : e === o) ? 1 : Fs(e),
                    wi(Ws(t), e)
                }
                ,
                dr.replace = function() {
                    var t = arguments
                      , e = Ws(t[0]);
                    return t.length < 3 ? e : e.replace(t[1], t[2])
                }
                ,
                dr.result = function(t, e, n) {
                    var r = -1
                      , i = (e = qi(e, t)).length;
                    for (i || (i = 1,
                    t = o); ++r < i; ) {
                        var a = null == t ? o : t[fa(e[r])];
                        a === o && (r = i,
                        a = n),
                        t = Es(a) ? a.call(t) : a
                    }
                    return t
                }
                ,
                dr.round = Ju,
                dr.runInContext = t,
                dr.sample = function(t) {
                    return (gs(t) ? Er : Ei)(t)
                }
                ,
                dr.size = function(t) {
                    if (null == t)
                        return 0;
                    if (bs(t))
                        return Ns(t) ? Cn(t) : t.length;
                    var e = Go(t);
                    return e == J || e == nt ? t.size : ci(t).length
                }
                ,
                dr.snakeCase = _u,
                dr.some = function(t, e, n) {
                    var r = gs(t) ? rn : Ci;
                    return n && Xo(t, e, n) && (e = o),
                    r(t, Do(e, 3))
                }
                ,
                dr.sortedIndex = function(t, e) {
                    return ji(t, e)
                }
                ,
                dr.sortedIndexBy = function(t, e, n) {
                    return Pi(t, e, Do(n, 2))
                }
                ,
                dr.sortedIndexOf = function(t, e) {
                    var n = null == t ? 0 : t.length;
                    if (n) {
                        var r = ji(t, e);
                        if (r < n && ds(t[r], e))
                            return r
                    }
                    return -1
                }
                ,
                dr.sortedLastIndex = function(t, e) {
                    return ji(t, e, !0)
                }
                ,
                dr.sortedLastIndexBy = function(t, e, n) {
                    return Pi(t, e, Do(n, 2), !0)
                }
                ,
                dr.sortedLastIndexOf = function(t, e) {
                    if (null != t && t.length) {
                        var n = ji(t, e, !0) - 1;
                        if (ds(t[n], e))
                            return n
                    }
                    return -1
                }
                ,
                dr.startCase = xu,
                dr.startsWith = function(t, e, n) {
                    return t = Ws(t),
                    n = null == n ? 0 : Nr(Fs(n), 0, t.length),
                    e = Di(e),
                    t.slice(n, n + e.length) == e
                }
                ,
                dr.subtract = Qu,
                dr.sum = function(t) {
                    return t && t.length ? mn(t, Ru) : 0
                }
                ,
                dr.sumBy = function(t, e) {
                    return t && t.length ? mn(t, Do(e, 2)) : 0
                }
                ,
                dr.template = function(t, e, n) {
                    var r = dr.templateSettings;
                    n && Xo(t, e, n) && (e = o),
                    t = Ws(t),
                    e = Ys({}, e, r, So);
                    var i, a, s = Ys({}, e.imports, r.imports, So), u = iu(s), c = yn(s, u), f = 0, l = e.interpolate || Jt, h = "__p += '", d = ne((e.escape || Jt).source + "|" + l.source + "|" + (l === At ? Gt : Jt).source + "|" + (e.evaluate || Jt).source + "|$", "g"), p = "//# sourceURL=" + ("sourceURL"in e ? e.sourceURL : "lodash.templateSources[" + ++Te + "]") + "\n";
                    t.replace(d, function(e, n, r, o, s, u) {
                        return r || (r = o),
                        h += t.slice(f, u).replace(Qt, En),
                        n && (i = !0,
                        h += "' +\n__e(" + n + ") +\n'"),
                        s && (a = !0,
                        h += "';\n" + s + ";\n__p += '"),
                        r && (h += "' +\n((__t = (" + r + ")) == null ? '' : __t) +\n'"),
                        f = u + e.length,
                        e
                    }),
                    h += "';\n";
                    var m = e.variable;
                    m || (h = "with (obj) {\n" + h + "\n}\n"),
                    h = (a ? h.replace(bt, "") : h).replace(_t, "$1").replace(xt, "$1;"),
                    h = "function(" + (m || "obj") + ") {\n" + (m ? "" : "obj || (obj = {});\n") + "var __t, __p = ''" + (i ? ", __e = _.escape" : "") + (a ? ", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n" : ";\n") + h + "return __p\n}";
                    var v = Tu(function() {
                        return $t(u, p + "return " + h).apply(o, c)
                    });
                    if (v.source = h,
                    Ms(v))
                        throw v;
                    return v
                }
                ,
                dr.times = function(t, e) {
                    if ((t = Fs(t)) < 1 || t > N)
                        return [];
                    var n = U
                      , r = qn(t, U);
                    e = Do(e),
                    t -= U;
                    for (var i = vn(r, e); ++n < t; )
                        e(n);
                    return i
                }
                ,
                dr.toFinite = ks,
                dr.toInteger = Fs,
                dr.toLength = Gs,
                dr.toLower = function(t) {
                    return Ws(t).toLowerCase()
                }
                ,
                dr.toNumber = Hs,
                dr.toSafeInteger = function(t) {
                    return t ? Nr(Fs(t), -N, N) : 0 === t ? t : 0
                }
                ,
                dr.toString = Ws,
                dr.toUpper = function(t) {
                    return Ws(t).toUpperCase()
                }
                ,
                dr.trim = function(t, e, n) {
                    if ((t = Ws(t)) && (n || e === o))
                        return t.replace(Nt, "");
                    if (!t || !(e = Di(e)))
                        return t;
                    var r = jn(t)
                      , i = jn(e);
                    return Yi(r, _n(r, i), xn(r, i) + 1).join("")
                }
                ,
                dr.trimEnd = function(t, e, n) {
                    if ((t = Ws(t)) && (n || e === o))
                        return t.replace(Dt, "");
                    if (!t || !(e = Di(e)))
                        return t;
                    var r = jn(t);
                    return Yi(r, 0, xn(r, jn(e)) + 1).join("")
                }
                ,
                dr.trimStart = function(t, e, n) {
                    if ((t = Ws(t)) && (n || e === o))
                        return t.replace(It, "");
                    if (!t || !(e = Di(e)))
                        return t;
                    var r = jn(t);
                    return Yi(r, _n(r, jn(e))).join("")
                }
                ,
                dr.truncate = function(t, e) {
                    var n = O
                      , r = A;
                    if (Os(e)) {
                        var i = "separator"in e ? e.separator : i;
                        n = "length"in e ? Fs(e.length) : n,
                        r = "omission"in e ? Di(e.omission) : r
                    }
                    var a = (t = Ws(t)).length;
                    if (Tn(t)) {
                        var s = jn(t);
                        a = s.length
                    }
                    if (n >= a)
                        return t;
                    var u = n - Cn(r);
                    if (u < 1)
                        return r;
                    var c = s ? Yi(s, 0, u).join("") : t.slice(0, u);
                    if (i === o)
                        return c + r;
                    if (s && (u += c.length - u),
                    js(i)) {
                        if (t.slice(u).search(i)) {
                            var f, l = c;
                            for (i.global || (i = ne(i.source, Ws(Ht.exec(i)) + "g")),
                            i.lastIndex = 0; f = i.exec(l); )
                                var h = f.index;
                            c = c.slice(0, h === o ? u : h)
                        }
                    } else if (t.indexOf(Di(i), u) != u) {
                        var d = c.lastIndexOf(i);
                        d > -1 && (c = c.slice(0, d))
                    }
                    return c + r
                }
                ,
                dr.unescape = function(t) {
                    return (t = Ws(t)) && Et.test(t) ? t.replace(wt, Pn) : t
                }
                ,
                dr.uniqueId = function(t) {
                    var e = ++le;
                    return Ws(t) + e
                }
                ,
                dr.upperCase = wu,
                dr.upperFirst = Mu,
                dr.each = Wa,
                dr.eachRight = qa,
                dr.first = ba,
                Nu(dr, (Yu = {},
                Xr(dr, function(t, e) {
                    fe.call(dr.prototype, e) || (Yu[e] = t)
                }),
                Yu), {
                    chain: !1
                }),
                dr.VERSION = "4.17.11",
                Xe(["bind", "bindKey", "curry", "curryRight", "partial", "partialRight"], function(t) {
                    dr[t].placeholder = dr
                }),
                Xe(["drop", "take"], function(t, e) {
                    gr.prototype[t] = function(n) {
                        n = n === o ? 1 : Wn(Fs(n), 0);
                        var r = this.__filtered__ && !e ? new gr(this) : this.clone();
                        return r.__filtered__ ? r.__takeCount__ = qn(n, r.__takeCount__) : r.__views__.push({
                            size: qn(n, U),
                            type: t + (r.__dir__ < 0 ? "Right" : "")
                        }),
                        r
                    }
                    ,
                    gr.prototype[t + "Right"] = function(e) {
                        return this.reverse()[t](e).reverse()
                    }
                }),
                Xe(["filter", "map", "takeWhile"], function(t, e) {
                    var n = e + 1
                      , r = n == C || 3 == n;
                    gr.prototype[t] = function(t) {
                        var e = this.clone();
                        return e.__iteratees__.push({
                            iteratee: Do(t, 3),
                            type: n
                        }),
                        e.__filtered__ = e.__filtered__ || r,
                        e
                    }
                }),
                Xe(["head", "last"], function(t, e) {
                    var n = "take" + (e ? "Right" : "");
                    gr.prototype[t] = function() {
                        return this[n](1).value()[0]
                    }
                }),
                Xe(["initial", "tail"], function(t, e) {
                    var n = "drop" + (e ? "" : "Right");
                    gr.prototype[t] = function() {
                        return this.__filtered__ ? new gr(this) : this[n](1)
                    }
                }),
                gr.prototype.compact = function() {
                    return this.filter(Ru)
                }
                ,
                gr.prototype.find = function(t) {
                    return this.filter(t).head()
                }
                ,
                gr.prototype.findLast = function(t) {
                    return this.reverse().find(t)
                }
                ,
                gr.prototype.invokeMap = Mi(function(t, e) {
                    return "function" == typeof t ? new gr(this) : this.map(function(n) {
                        return ri(n, t, e)
                    })
                }),
                gr.prototype.reject = function(t) {
                    return this.filter(us(Do(t)))
                }
                ,
                gr.prototype.slice = function(t, e) {
                    t = Fs(t);
                    var n = this;
                    return n.__filtered__ && (t > 0 || e < 0) ? new gr(n) : (t < 0 ? n = n.takeRight(-t) : t && (n = n.drop(t)),
                    e !== o && (n = (e = Fs(e)) < 0 ? n.dropRight(-e) : n.take(e - t)),
                    n)
                }
                ,
                gr.prototype.takeRightWhile = function(t) {
                    return this.reverse().takeWhile(t).reverse()
                }
                ,
                gr.prototype.toArray = function() {
                    return this.take(U)
                }
                ,
                Xr(gr.prototype, function(t, e) {
                    var n = /^(?:filter|find|map|reject)|While$/.test(e)
                      , r = /^(?:head|last)$/.test(e)
                      , i = dr[r ? "take" + ("last" == e ? "Right" : "") : e]
                      , a = r || /^find/.test(e);
                    i && (dr.prototype[e] = function() {
                        var e = this.__wrapped__
                          , s = r ? [1] : arguments
                          , u = e instanceof gr
                          , c = s[0]
                          , f = u || gs(e)
                          , l = function(t) {
                            var e = i.apply(dr, tn([t], s));
                            return r && h ? e[0] : e
                        };
                        f && n && "function" == typeof c && 1 != c.length && (u = f = !1);
                        var h = this.__chain__
                          , d = !!this.__actions__.length
                          , p = a && !h
                          , m = u && !d;
                        if (!a && f) {
                            e = m ? e : new gr(this);
                            var v = t.apply(e, s);
                            return v.__actions__.push({
                                func: ka,
                                args: [l],
                                thisArg: o
                            }),
                            new vr(v,h)
                        }
                        return p && m ? t.apply(this, s) : (v = this.thru(l),
                        p ? r ? v.value()[0] : v.value() : v)
                    }
                    )
                }),
                Xe(["pop", "push", "shift", "sort", "splice", "unshift"], function(t) {
                    var e = oe[t]
                      , n = /^(?:push|sort|unshift)$/.test(t) ? "tap" : "thru"
                      , r = /^(?:pop|shift)$/.test(t);
                    dr.prototype[t] = function() {
                        var t = arguments;
                        if (r && !this.__chain__) {
                            var i = this.value();
                            return e.apply(gs(i) ? i : [], t)
                        }
                        return this[n](function(n) {
                            return e.apply(gs(n) ? n : [], t)
                        })
                    }
                }),
                Xr(gr.prototype, function(t, e) {
                    var n = dr[e];
                    if (n) {
                        var r = n.name + "";
                        (ir[r] || (ir[r] = [])).push({
                            name: e,
                            func: n
                        })
                    }
                }),
                ir[po(o, y).name] = [{
                    name: "wrapper",
                    func: o
                }],
                gr.prototype.clone = function() {
                    var t = new gr(this.__wrapped__);
                    return t.__actions__ = no(this.__actions__),
                    t.__dir__ = this.__dir__,
                    t.__filtered__ = this.__filtered__,
                    t.__iteratees__ = no(this.__iteratees__),
                    t.__takeCount__ = this.__takeCount__,
                    t.__views__ = no(this.__views__),
                    t
                }
                ,
                gr.prototype.reverse = function() {
                    if (this.__filtered__) {
                        var t = new gr(this);
                        t.__dir__ = -1,
                        t.__filtered__ = !0
                    } else
                        (t = this.clone()).__dir__ *= -1;
                    return t
                }
                ,
                gr.prototype.value = function() {
                    var t = this.__wrapped__.value()
                      , e = this.__dir__
                      , n = gs(t)
                      , r = e < 0
                      , i = n ? t.length : 0
                      , o = function(t, e, n) {
                        for (var r = -1, i = n.length; ++r < i; ) {
                            var o = n[r]
                              , a = o.size;
                            switch (o.type) {
                            case "drop":
                                t += a;
                                break;
                            case "dropRight":
                                e -= a;
                                break;
                            case "take":
                                e = qn(e, t + a);
                                break;
                            case "takeRight":
                                t = Wn(t, e - a)
                            }
                        }
                        return {
                            start: t,
                            end: e
                        }
                    }(0, i, this.__views__)
                      , a = o.start
                      , s = o.end
                      , u = s - a
                      , c = r ? s : a - 1
                      , f = this.__iteratees__
                      , l = f.length
                      , h = 0
                      , d = qn(u, this.__takeCount__);
                    if (!n || !r && i == u && d == u)
                        return Fi(t, this.__actions__);
                    var p = [];
                    t: for (; u-- && h < d; ) {
                        for (var m = -1, v = t[c += e]; ++m < l; ) {
                            var g = f[m]
                              , y = g.iteratee
                              , b = g.type
                              , _ = y(v);
                            if (b == j)
                                v = _;
                            else if (!_) {
                                if (b == C)
                                    continue t;
                                break t
                            }
                        }
                        p[h++] = v
                    }
                    return p
                }
                ,
                dr.prototype.at = Fa,
                dr.prototype.chain = function() {
                    return Ba(this)
                }
                ,
                dr.prototype.commit = function() {
                    return new vr(this.value(),this.__chain__)
                }
                ,
                dr.prototype.next = function() {
                    this.__values__ === o && (this.__values__ = Bs(this.value()));
                    var t = this.__index__ >= this.__values__.length;
                    return {
                        done: t,
                        value: t ? o : this.__values__[this.__index__++]
                    }
                }
                ,
                dr.prototype.plant = function(t) {
                    for (var e, n = this; n instanceof mr; ) {
                        var r = ha(n);
                        r.__index__ = 0,
                        r.__values__ = o,
                        e ? i.__wrapped__ = r : e = r;
                        var i = r;
                        n = n.__wrapped__
                    }
                    return i.__wrapped__ = t,
                    e
                }
                ,
                dr.prototype.reverse = function() {
                    var t = this.__wrapped__;
                    if (t instanceof gr) {
                        var e = t;
                        return this.__actions__.length && (e = new gr(this)),
                        (e = e.reverse()).__actions__.push({
                            func: ka,
                            args: [Oa],
                            thisArg: o
                        }),
                        new vr(e,this.__chain__)
                    }
                    return this.thru(Oa)
                }
                ,
                dr.prototype.toJSON = dr.prototype.valueOf = dr.prototype.value = function() {
                    return Fi(this.__wrapped__, this.__actions__)
                }
                ,
                dr.prototype.first = dr.prototype.head,
                ze && (dr.prototype[ze] = function() {
                    return this
                }
                ),
                dr
            }();
            Pe._ = Nn,
            (i = function() {
                return Nn
            }
            .call(e, n, e, r)) === o || (r.exports = i)
        }
        ).call(this)
    }
    ).call(e, n(184), n(185)(t))
}
, function(t, e) {
    var n;
    n = function() {
        return this
    }();
    try {
        n = n || Function("return this")() || (0,
        eval)("this")
    } catch (t) {
        "object" == typeof window && (n = window)
    }
    t.exports = n
}
, function(t, e) {
    t.exports = function(t) {
        return t.webpackPolyfill || (t.deprecate = function() {}
        ,
        t.paths = [],
        t.children || (t.children = []),
        Object.defineProperty(t, "loaded", {
            enumerable: !0,
            get: function() {
                return t.l
            }
        }),
        Object.defineProperty(t, "id", {
            enumerable: !0,
            get: function() {
                return t.i
            }
        }),
        t.webpackPolyfill = 1),
        t
    }
}
, function(t, e, n) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var r, i = n(93), o = n(187), a = (r = o) && r.__esModule ? r : {
        default: r
    };
    var s = {
        handleStart: null,
        handleStop: null,
        graphD3Layout: {
            linkStrength: i.D3Sliders.linkStrength.defaultValue,
            linkDistance: i.D3Sliders.linkDistance.defaultValue,
            charge: i.D3Sliders.charge.defaultValue,
            gravity: i.D3Sliders.gravity.defaultValue,
            friction: i.D3Sliders.friction.defaultValue,
            heightCompress: i.D3Sliders.heightCompress.defaultValue
        },
        isDateChage: !1,
        isFinish: !1,
        force: null,
        nodes: [],
        links: [],
        graph: null,
        idMap: {},
        pinNodes: {},
        enable: !0,
        init: function(t, e) {
            var n = this;
            this.graph = t,
            this.graphD3Layout = Object.assign({}, this.graphD3Layout, e || {}),
            this.isDateChage = !1,
            this.isFinish = !1,
            this.nodes = [],
            this.graph.layoutNodes.forEach(function(t, e) {
                n.nodes.push({
                    id: t.id,
                    x: t.position.x,
                    y: t.position.y,
                    z: t.position.z
                }),
                n.idMap[t.id] = e
            }),
            this.links = this.graph.layoutEdges.map(function(t) {
                return {
                    source: n.idMap[t.sourceId],
                    target: n.idMap[t.targetId]
                }
            }),
            console.log("initialize Layout..."),
            this.force && (this.force.on("tick", null),
            this.force.on("end", null));
            var r = this.graphD3Layout.heightCompress;
            this.force ? this.force.alpha() <= .5 && this.force.alpha(.6) : (this.force = a.default.layout.force3D(),
            this.force.size([0, 0, 0])),
            this.force.nodes(this.nodes).links(this.links).linkStrength(this.graphD3Layout.linkStrength).linkDistance(this.graphD3Layout.linkDistance).charge(this.graphD3Layout.charge).gravity(this.graphD3Layout.gravity).heightCompress(r).friction(this.graphD3Layout.friction).on("tick", function() {
                _.size(n.pinNodes) > 0 && _.forEach(n.pinNodes, function(t, e) {
                    n.idMap[e] >= 0 && n.idMap[e] < n.nodes.length && (n.nodes[n.idMap[e]].x = t.x,
                    n.nodes[n.idMap[e]].y = t.y,
                    n.nodes[n.idMap[e]].z = t.z)
                }),
                n.isDateChage = !0,
                n.isFinish = !1
            }),
            this.enable ? this.force.start() : this.force.stop(),
            this.force.on("end", function() {
                n.isFinish = !0,
                n.handleStop && n.handleStop()
            }),
            this.last_time_set = 0
        },
        updateLayoutOption: function(t, e) {
            this.stop_layout(),
            this.graphD3Layout[t] = e,
            this.force[t](e),
            this.start_layout()
        },
        render: function(t) {
            var e = this;
            this.enable && (this.isDateChage || t) && (this.isDateChage = !1,
            this.graph.layoutNodes.length > 0 && this.nodes.forEach(function(t, n) {
                e.graph.layoutNodes[n] && (e.pinNodes[t.id] ? (e.graph.layoutNodes[n].position.x = e.pinNodes[t.id].x,
                e.graph.layoutNodes[n].position.y = e.pinNodes[t.id].y,
                e.graph.layoutNodes[n].position.z = e.pinNodes[t.id].z) : (e.graph.layoutNodes[n].position.x = t.x,
                e.graph.layoutNodes[n].position.y = t.y,
                e.graph.layoutNodes[n].position.z = t.z))
            }),
            null !== this.graph && (this.graph.renderNeedsUpdate = !0))
        },
        start_layout: function() {
            this.handleStart && this.handleStart(),
            this.isFinish = !1,
            this.force && this.force.start()
        },
        stop_layout: function() {
            this.force && this.force.stop()
        },
        restart_layout: function() {
            this.force && performance.now() - this.last_time_set > 500 && (this.last_time_set = performance.now(),
            this.isFinish = !1,
            this.force.alpha(.6),
            this.force.start())
        },
        reset_graph_restart_layout: function(t) {
            var e = this;
            this.stop_layout(),
            this.isFinish = !1,
            t && (this.graph = t);
            var n = this.nodes;
            this.nodes = [],
            this.graph.layoutNodes.forEach(function(t, r) {
                e.idMap[t.id] < n.length && n[e.idMap[t.id]] && n[e.idMap[t.id]].id == t.id ? e.nodes.push(n[e.idMap[t.id]]) : (e.nodes.push({
                    x: t.position.x,
                    y: t.position.y,
                    z: t.position.z
                }),
                e.idMap[t.id] = r)
            }),
            this.links = this.graph.layoutEdges.map(function(t) {
                return {
                    source: e.idMap[t.sourceId],
                    target: e.idMap[t.targetId]
                }
            }),
            this.force.nodes(this.nodes).links(this.links).start()
        },
        setNodesPositions: function(t, e) {
            var n = this;
            Array.isArray(t) && Array.isArray(e) && t.map(function(r, i) {
                n.set_node_position(r, e[i], i != t.length - 1)
            })
        },
        set_node_position: function(t, e, n) {
            e && t && (this.pinNodes[t] && (this.pinNodes[t].x = e.x,
            this.pinNodes[t].y = e.y,
            this.pinNodes[t].z = e.z),
            this.idMap[t] >= 0 && this.idMap[t] < this.nodes.length ? (this.nodes[this.idMap[t]].x = e.x,
            this.nodes[this.idMap[t]].y = e.y,
            this.nodes[this.idMap[t]].z = e.z) : console.warn("Ignore the node set_node_postion :", t, e),
            !n && this.enable && performance.now() - this.last_time_set > 500 && (this.last_time_set = performance.now(),
            this.stop_layout(),
            this.start_layout()))
        },
        pinNodeIds: function(t, e) {
            var n = this;
            (t = !Array.isArray(t) && this.idMap[t] >= 0 ? [t] : t || []).forEach(function(t) {
                !e && !n.pinNodes[t] && n.idMap[t] >= 0 && n.idMap[t] < n.nodes.length ? n.pinNodes[t] = {
                    x: n.nodes[n.idMap[t]].x,
                    y: n.nodes[n.idMap[t]].y,
                    z: n.nodes[n.idMap[t]].z
                } : e && n.pinNodes[t] && delete n.pinNodes[t]
            })
        },
        pin_node: function(t) {
            t < 0 || "" == t ? console.log("will ignore the node :", t) : this.pinNodes[t] ? console.log("already pin the node :", t) : this.idMap[t] >= 0 && this.idMap[t] < this.nodes.length ? (console.log("pin-node:", t),
            this.pinNodes[t] = {
                x: this.nodes[this.idMap[t]].x,
                y: this.nodes[this.idMap[t]].y,
                z: this.nodes[this.idMap[t]].z
            }) : console.warn("Ignore the node set_node_postion :", t)
        },
        pinAll: function(t) {
            var e = this;
            t ? this.nodes.forEach(function(t, n) {
                e.pinNodes[t.id] = {
                    x: t.x,
                    y: t.y,
                    z: t.z
                }
            }) : this.pinNodes = {}
        },
        unpin_node: function(t) {
            this.pinNodes[t] && (console.log("unpin-node:", t),
            delete this.pinNodes[t])
        },
        clean_graph: function() {
            this.pinNodes = {}
        },
        fix: function(t, e) {
            void 0 !== e && console.log("fix to current graph position")
        },
        set_weight: function(t, e) {
            this.nodes[t].weight = e
        },
        getLayout: function() {
            return this.force
        },
        updateDataChange: function(t) {
            this.isDateChage = t
        }
    };
    e.default = s
}
, function(t, e, n) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var r = function(t) {
        if (t && t.__esModule)
            return t;
        var e = {};
        if (null != t)
            for (var n in t)
                Object.prototype.hasOwnProperty.call(t, n) && (e[n] = t[n]);
        return e.default = t,
        e
    }(n(188));
    if (!r)
        throw "force3D: Unable to inject d3.layout.force3D into d3.js . Be sure to load D3js beforehand.";
    r.layout || r.geom || (r.layout = {},
    r.geom = {});
    var i = Math.abs
      , o = 0;
    function a(t) {
        return t[0]
    }
    function s(t) {
        return t[1]
    }
    function u(t) {
        return t[2]
    }
    function c(t) {
        return "function" == typeof t ? t : function() {
            return t
        }
    }
    function f(t) {
        return t.x
    }
    function l(t) {
        return t.y
    }
    function h(t) {
        return t.z
    }
    r.geom.octree = function(t, e, n, r, d, p, m) {
        var v, g = a, y = s, b = u;
        if (v = arguments.length)
            return g = f,
            y = l,
            b = h,
            4 === v && (p = n,
            d = e,
            m = r,
            r = n = e = 0),
            _(t);
        function _(t) {
            var a, s, u, f, l, h, _, x, w, M, E, T, S = c(g), O = c(y), A = c(b);
            if (null != e)
                _ = e,
                x = n,
                w = r,
                M = d,
                E = p,
                T = m;
            else if (M = E = T = -(_ = x = w = 1 / 0),
            f = [],
            l = [],
            h = [],
            u = t.length,
            v)
                for (s = 0; s < u; ++s)
                    (a = t[s]).x < _ && (_ = a.x),
                    a.y < x && (x = a.y),
                    a.z < w && (w = a.z),
                    a.x > M && (M = a.x),
                    a.y > E && (E = a.y),
                    a.z > T && (T = a.z),
                    f.push(a.x),
                    l.push(a.y),
                    h.push(a.z);
            else
                for (s = 0; s < u; ++s) {
                    var L = +S(a = t[s], s)
                      , R = +O(a, s)
                      , C = +A(a, s);
                    L < _ && (_ = L),
                    R < x && (x = R),
                    C < w && (w = C),
                    L > M && (M = L),
                    R > E && (E = R),
                    C > T && (T = C),
                    f.push(L),
                    l.push(R),
                    h.push(C)
                }
            var j = M - _
              , P = E - x
              , N = T - w;
            function I(t, e, n, r, o, a, s, u, c, f, l) {
                if (!(isNaN(n) || isNaN(r) || isNaN(o)))
                    if (t.leaf) {
                        var h = t.x
                          , d = t.y
                          , p = t.z;
                        if (null != h)
                            if (i(h - n) + i(d - r) + i(p - o) < .01)
                                D(t, e, n, r, o, a, s, u, c, f, l);
                            else {
                                var m = t.point;
                                t.x = t.y = t.z = t.point = null,
                                D(t, m, h, d, p, a, s, u, c, f, l),
                                D(t, e, n, r, o, a, s, u, c, f, l)
                            }
                        else
                            t.x = n,
                            t.y = r,
                            t.z = o,
                            t.point = e
                    } else
                        D(t, e, n, r, o, a, s, u, c, f, l)
            }
            function D(t, e, n, r, i, a, s, u, c, f, l) {
                var h = .5 * (a + c)
                  , d = .5 * (s + f)
                  , p = .5 * (u + l)
                  , m = n >= h
                  , v = r >= d
                  , g = i >= p
                  , y = g << 2 | v << 1 | m;
                t.leaf = !1,
                t = t.nodes[y] || (t.nodes[y] = {
                    leaf: !0,
                    nodes: [],
                    point: null,
                    x: null,
                    y: null,
                    z: null,
                    add: function(t) {
                        I(U, t, +S(t, ++s), +O(t, s), +A(t, s), _, x, w, M, E, T)
                    }
                }),
                m ? a = h : c = h,
                v ? s = d : f = d,
                g ? u = p : l = p,
                ++o > 500 ? (o = 0,
                setTimeout(function() {
                    I(t, e, n, r, i, a, s, u, c, f, l)
                }, 5)) : I(t, e, n, r, i, a, s, u, c, f, l)
            }
            j >= P && j >= N ? (E = x + j,
            T = w + j) : P >= N && P >= j ? (M = _ + P,
            T = w + P) : (M = _ + N,
            E = x + N);
            var U = {
                leaf: !0,
                nodes: [],
                point: null,
                x: null,
                y: null,
                z: null,
                add: function(t) {
                    I(U, t, +S(t, ++s), +O(t, s), +A(t, s), _, x, w, M, E, T)
                }
            };
            if (U.visit = function(t) {
                !function t(e, n, r, i, o, a, s, u) {
                    if (!e(n, r, i, o, a, s, u)) {
                        var c = .5 * (r + a)
                          , f = .5 * (i + s)
                          , l = .5 * (o + u)
                          , h = n.nodes;
                        h[0] && t(e, h[0], r, i, o, c, f, l),
                        h[1] && t(e, h[1], c, i, o, a, f, l),
                        h[2] && t(e, h[2], r, f, o, c, s, l),
                        h[3] && t(e, h[3], c, f, o, a, s, l),
                        h[4] && t(e, h[4], r, i, l, c, f, u),
                        h[5] && t(e, h[5], c, i, l, a, f, u),
                        h[6] && t(e, h[6], r, f, l, c, s, u),
                        h[7] && t(e, h[7], c, f, l, a, s, u)
                    }
                }(t, U, _, x, w, M, E, T)
            }
            ,
            U.find = function(t) {
                return function(t, e, n, r, i, o, a, s, u, c) {
                    var f, l = 1 / 0;
                    return function t(h, d, p, m, v, g, y) {
                        if (!(d > s || p > u || m > c || v < i || g < o || y < a)) {
                            if (b = h.point) {
                                var b, _ = e - h.x, x = n - h.y, w = r - h.z, M = _ * _ + x * x + w * w;
                                if (M < l) {
                                    var E = Math.sqrt(l = M);
                                    i = e - E,
                                    o = n - E,
                                    a = r - E,
                                    s = e + E,
                                    u = n + E,
                                    c = r + E,
                                    f = b
                                }
                            }
                            for (var T = h.nodes, S = .5 * (d + v), O = .5 * (p + g), A = .5 * (m + y), L = (r >= A) << 2 | (n >= O) << 1 | e >= S, R = L + 8; L < R; ++L)
                                if (h = T[7 & L])
                                    switch (7 & L) {
                                    case 0:
                                        t(h, d, p, m, S, O, A);
                                        break;
                                    case 1:
                                        t(h, S, p, m, v, O, A);
                                        break;
                                    case 2:
                                        t(h, d, O, m, S, g, A);
                                        break;
                                    case 3:
                                        t(h, S, O, m, v, g, A);
                                        break;
                                    case 4:
                                        t(h, d, p, A, S, O, y);
                                        break;
                                    case 5:
                                        t(h, S, p, A, v, O, y);
                                        break;
                                    case 6:
                                        t(h, d, O, A, S, g, y);
                                        break;
                                    case 7:
                                        t(h, S, O, A, v, g, y)
                                    }
                        }
                    }(t, i, o, a, s, u, c),
                    f
                }(U, t[0], t[1], t[2], _, x, w, M, E, T)
            }
            ,
            s = -1,
            null == e) {
                for (; ++s < u; )
                    I(U, t[s], f[s], l[s], h[s], _, x, w, M, E, T);
                --s
            } else
                t.forEach(U.add);
            return f = l = h = t = a = null,
            U
        }
        return _.x = function(t) {
            return arguments.length ? (g = t,
            _) : g
        }
        ,
        _.y = function(t) {
            return arguments.length ? (y = t,
            _) : y
        }
        ,
        _.z = function(t) {
            return arguments.length ? (b = t,
            _) : b
        }
        ,
        _.extent = function(t) {
            return arguments.length ? (null == t ? e = n = r = d = p = m = null : (e = +t[0][0],
            n = +t[0][1],
            r = +t[0][2],
            d = +t[1][0],
            p = +t[1][1],
            m = +t[1][2]),
            _) : null == e ? null : [[e, n, r], [d, p, m]]
        }
        ,
        _.size = function(t) {
            return arguments.length ? (null == t ? e = n = r = d = p = m = null : (e = n = r = 0,
            d = +t[0],
            p = +t[1],
            m = +t[1]),
            _) : null == e ? null : [d - e, p - n, m - r]
        }
        ,
        _
    }
    ;
    r.layout.force3D = function() {
        var t, e, n, i, a = {}, s = r.dispatch("start", "tick", "end"), u = [1, 1, 1], c = .9, f = 20, l = 1, h = -30, d = 1 / 0, p = .1, m = 1, v = .64, g = [], y = [];
        function b(t) {
            return function(e, n, r, i, o) {
                if (e.point !== t) {
                    var a = e.cx - t.x
                      , s = e.cy - t.y
                      , u = e.cz - t.z
                      , c = o - n
                      , f = a * a + s * s + u * u;
                    if (c * c / v < f) {
                        if (f < d) {
                            var l = e.charge / f;
                            t.px -= a * l,
                            t.py -= s * l,
                            t.pz -= u * l
                        }
                        return !0
                    }
                    if (e.point && f && f < d) {
                        l = e.pointCharge / f;
                        t.px -= a * l,
                        t.py -= s * l,
                        t.pz -= u * l
                    }
                }
                return !e.charge
            }
        }
        return a.tick = function() {
            if (0 === t)
                return !0;
            if ((t *= .99) < .005)
                return s.call("end", {
                    type: "end",
                    alpha: t = 0
                }),
                o = 0,
                !0;
            var a, f, l, d, v, _, x, w, M, E, T = g.length, S = y.length;
            for (f = 0; f < S; ++f)
                d = (l = y[f]).source,
                (_ = (w = (v = l.target).x - d.x) * w + (M = v.y - d.y) * M + (E = v.z - d.z) * E) && (w *= _ = t * n[f] * ((_ = Math.sqrt(_)) - e[f]) / _,
                M *= _,
                E *= _,
                v.x -= w * (x = d.weight / (v.weight + d.weight)),
                v.y -= M * x,
                v.z -= E * x,
                d.x += w * (x = 1 - x),
                d.y += M * x,
                d.z += E * x);
            if ((x = t * p) && (w = u[0] / 2,
            M = u[1] / 2,
            E = u[2] / 2,
            f = -1,
            x))
                for (; ++f < T; )
                    (l = g[f]).x += (w - l.x) * x,
                    l.y += (M - l.y) * x,
                    l.z += (E - l.z) * x * m;
            if (h)
                for (!function t(e, n, r) {
                    var i = 0
                      , o = 0
                      , a = 0;
                    if (e.charge = 0,
                    !e.leaf)
                        for (var s, u = e.nodes, c = u.length, f = -1; ++f < c; )
                            null != (s = u[f]) && (t(s, n, r),
                            e.charge += s.charge,
                            i += s.charge * s.cx,
                            o += s.charge * s.cy,
                            a += s.charge * s.cz);
                    if (e.point) {
                        e.leaf || (e.point.x += Math.random() - .5,
                        e.point.y += Math.random() - .5,
                        e.point.z += Math.random() - .5);
                        var l = n * r[e.point.index];
                        e.charge += e.pointCharge = l,
                        i += l * e.point.x,
                        o += l * e.point.y,
                        a += l * e.point.z
                    }
                    e.cx = i / e.charge,
                    e.cy = o / e.charge,
                    e.cz = a / e.charge
                }(a = r.geom.octree(g), t, i),
                f = -1; ++f < T; )
                    (l = g[f]).fixed || a.visit(b(l));
            for (f = -1; ++f < T; )
                (l = g[f]).fixed ? (l.x = l.px,
                l.y = l.py,
                l.z = l.pz) : (l.x -= (l.px - (l.px = l.x)) * c,
                l.y -= (l.py - (l.py = l.y)) * c,
                l.z -= (l.pz - (l.pz = l.z)) * c);
            s.call("tick", {
                type: "tick",
                alpha: t
            })
        }
        ,
        a.nodes = function(t) {
            return arguments.length ? (g = t,
            a) : g
        }
        ,
        a.links = function(t) {
            return arguments.length ? (y = t,
            a) : y
        }
        ,
        a.size = function(t) {
            return arguments.length ? (u = t,
            a) : u
        }
        ,
        a.on = function(t, e) {
            return "function" == typeof e ? s.on(t, function(t) {
                e(t)
            }) : s.on(t, null),
            a
        }
        ,
        a.linkDistance = function(t) {
            return arguments.length ? (f = "function" == typeof t ? t : +t,
            a) : f
        }
        ,
        a.distance = a.linkDistance,
        a.linkStrength = function(t) {
            return arguments.length ? (l = "function" == typeof t ? t : +t,
            a) : l
        }
        ,
        a.friction = function(t) {
            return arguments.length ? (c = +t,
            a) : c
        }
        ,
        a.charge = function(t) {
            return arguments.length ? (h = "function" == typeof t ? t : +t,
            a) : h
        }
        ,
        a.chargeDistance = function(t) {
            return arguments.length ? (d = t * t,
            a) : Math.sqrt(d)
        }
        ,
        a.gravity = function(t) {
            return arguments.length ? (p = +t,
            a) : p
        }
        ,
        a.heightCompress = function(t) {
            return arguments.length ? (m = +t,
            a) : m
        }
        ,
        a.theta = function(t) {
            return arguments.length ? (v = t * t,
            a) : Math.sqrt(v)
        }
        ,
        a.alpha = function(e) {
            return arguments.length ? (e = +e,
            t ? t = e > 0 ? e : 0 : e > 0 && (s.call("start", {
                type: "start",
                alpha: t = e
            }),
            r.timer(a.tick)),
            a) : t
        }
        ,
        a.start = function() {
            o = 0;
            var t, r, s, c = g.length, d = y.length, p = u[0], m = u[1], v = u[2];
            for (t = 0; t < c; ++t)
                (s = g[t]).index = t,
                s.weight = 0;
            for (t = 0; t < d; ++t)
                "number" == typeof (s = y[t]).source && (s.source = g[s.source]),
                "number" == typeof s.target && (s.target = g[s.target]),
                ++s.source.weight,
                ++s.target.weight;
            for (t = 0; t < c; ++t)
                s = g[t],
                isNaN(s.x) && (s.x = b("x", p)),
                isNaN(s.y) && (s.y = b("y", m)),
                isNaN(s.z) && (s.z = b("z", v)),
                isNaN(s.px) && (s.px = s.x),
                isNaN(s.py) && (s.py = s.y),
                isNaN(s.pz) && (s.pz = s.z);
            if (e = [],
            "function" == typeof f)
                for (t = 0; t < d; ++t)
                    e[t] = +f.call(this, y[t], t);
            else
                for (t = 0; t < d; ++t)
                    e[t] = f;
            if (n = [],
            "function" == typeof l)
                for (t = 0; t < d; ++t)
                    n[t] = +l.call(this, y[t], t);
            else
                for (t = 0; t < d; ++t)
                    n[t] = l;
            if (i = [],
            "function" == typeof h)
                for (t = 0; t < c; ++t)
                    i[t] = +h.call(this, g[t], t);
            else
                for (t = 0; t < c; ++t)
                    i[t] = h;
            function b(e, n) {
                if (!r) {
                    for (r = new Array(c),
                    s = 0; s < c; ++s)
                        r[s] = [];
                    for (s = 0; s < d; ++s) {
                        var i = y[s];
                        r[i.source.index].push(i.target),
                        r[i.target.index].push(i.source)
                    }
                }
                for (var o, a = r[t], s = -1, u = a.length; ++s < u; )
                    if (!isNaN(o = a[s][e]))
                        return o;
                return Math.random() * n
            }
            return a.resume()
        }
        ,
        a.resume = function() {
            return a.alpha(.1)
        }
        ,
        a.stop = function() {
            return a.alpha(0)
        }
        ,
        a
    }
    ,
    e.default = r
}
, function(t, e, n) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var r = n(189);
    n.d(e, "version", function() {
        return r.a
    });
    var i = n(3);
    n.d(e, "bisect", function() {
        return i.b
    }),
    n.d(e, "bisectRight", function() {
        return i.d
    }),
    n.d(e, "bisectLeft", function() {
        return i.c
    }),
    n.d(e, "ascending", function() {
        return i.a
    }),
    n.d(e, "bisector", function() {
        return i.e
    }),
    n.d(e, "cross", function() {
        return i.f
    }),
    n.d(e, "descending", function() {
        return i.g
    }),
    n.d(e, "deviation", function() {
        return i.h
    }),
    n.d(e, "extent", function() {
        return i.i
    }),
    n.d(e, "histogram", function() {
        return i.j
    }),
    n.d(e, "thresholdFreedmanDiaconis", function() {
        return i.w
    }),
    n.d(e, "thresholdScott", function() {
        return i.x
    }),
    n.d(e, "thresholdSturges", function() {
        return i.y
    }),
    n.d(e, "max", function() {
        return i.k
    }),
    n.d(e, "mean", function() {
        return i.l
    }),
    n.d(e, "median", function() {
        return i.m
    }),
    n.d(e, "merge", function() {
        return i.n
    }),
    n.d(e, "min", function() {
        return i.o
    }),
    n.d(e, "pairs", function() {
        return i.p
    }),
    n.d(e, "permute", function() {
        return i.q
    }),
    n.d(e, "quantile", function() {
        return i.r
    }),
    n.d(e, "range", function() {
        return i.s
    }),
    n.d(e, "scan", function() {
        return i.t
    }),
    n.d(e, "shuffle", function() {
        return i.u
    }),
    n.d(e, "sum", function() {
        return i.v
    }),
    n.d(e, "ticks", function() {
        return i.B
    }),
    n.d(e, "tickIncrement", function() {
        return i.z
    }),
    n.d(e, "tickStep", function() {
        return i.A
    }),
    n.d(e, "transpose", function() {
        return i.C
    }),
    n.d(e, "variance", function() {
        return i.D
    }),
    n.d(e, "zip", function() {
        return i.E
    });
    var o = n(206);
    n.d(e, "axisTop", function() {
        return o.d
    }),
    n.d(e, "axisRight", function() {
        return o.c
    }),
    n.d(e, "axisBottom", function() {
        return o.a
    }),
    n.d(e, "axisLeft", function() {
        return o.b
    });
    var a = n(210);
    n.d(e, "brush", function() {
        return a.a
    }),
    n.d(e, "brushX", function() {
        return a.c
    }),
    n.d(e, "brushY", function() {
        return a.d
    }),
    n.d(e, "brushSelection", function() {
        return a.b
    });
    var s = n(302);
    n.d(e, "chord", function() {
        return s.a
    }),
    n.d(e, "ribbon", function() {
        return s.b
    });
    var u = n(40);
    n.d(e, "nest", function() {
        return u.d
    }),
    n.d(e, "set", function() {
        return u.e
    }),
    n.d(e, "map", function() {
        return u.c
    }),
    n.d(e, "keys", function() {
        return u.b
    }),
    n.d(e, "values", function() {
        return u.f
    }),
    n.d(e, "entries", function() {
        return u.a
    });
    var c = n(9);
    n.d(e, "color", function() {
        return c.a
    }),
    n.d(e, "rgb", function() {
        return c.h
    }),
    n.d(e, "hsl", function() {
        return c.e
    }),
    n.d(e, "lab", function() {
        return c.f
    }),
    n.d(e, "hcl", function() {
        return c.d
    }),
    n.d(e, "lch", function() {
        return c.g
    }),
    n.d(e, "gray", function() {
        return c.c
    }),
    n.d(e, "cubehelix", function() {
        return c.b
    });
    var f = n(313);
    n.d(e, "contours", function() {
        return f.b
    }),
    n.d(e, "contourDensity", function() {
        return f.a
    });
    var l = n(22);
    n.d(e, "dispatch", function() {
        return l.a
    });
    var h = n(53);
    n.d(e, "drag", function() {
        return h.a
    }),
    n.d(e, "dragDisable", function() {
        return h.b
    }),
    n.d(e, "dragEnable", function() {
        return h.c
    });
    var d = n(129);
    n.d(e, "dsvFormat", function() {
        return d.g
    }),
    n.d(e, "csvParse", function() {
        return d.e
    }),
    n.d(e, "csvParseRows", function() {
        return d.f
    }),
    n.d(e, "csvFormat", function() {
        return d.b
    }),
    n.d(e, "csvFormatBody", function() {
        return d.c
    }),
    n.d(e, "csvFormatRows", function() {
        return d.d
    }),
    n.d(e, "tsvParse", function() {
        return d.k
    }),
    n.d(e, "tsvParseRows", function() {
        return d.l
    }),
    n.d(e, "tsvFormat", function() {
        return d.h
    }),
    n.d(e, "tsvFormatBody", function() {
        return d.i
    }),
    n.d(e, "tsvFormatRows", function() {
        return d.j
    }),
    n.d(e, "autoType", function() {
        return d.a
    });
    var p = n(124);
    n.d(e, "easeLinear", function() {
        return p.y
    }),
    n.d(e, "easeQuad", function() {
        return p.D
    }),
    n.d(e, "easeQuadIn", function() {
        return p.E
    }),
    n.d(e, "easeQuadOut", function() {
        return p.G
    }),
    n.d(e, "easeQuadInOut", function() {
        return p.F
    }),
    n.d(e, "easeCubic", function() {
        return p.m
    }),
    n.d(e, "easeCubicIn", function() {
        return p.n
    }),
    n.d(e, "easeCubicOut", function() {
        return p.p
    }),
    n.d(e, "easeCubicInOut", function() {
        return p.o
    }),
    n.d(e, "easePoly", function() {
        return p.z
    }),
    n.d(e, "easePolyIn", function() {
        return p.A
    }),
    n.d(e, "easePolyOut", function() {
        return p.C
    }),
    n.d(e, "easePolyInOut", function() {
        return p.B
    }),
    n.d(e, "easeSin", function() {
        return p.H
    }),
    n.d(e, "easeSinIn", function() {
        return p.I
    }),
    n.d(e, "easeSinOut", function() {
        return p.K
    }),
    n.d(e, "easeSinInOut", function() {
        return p.J
    }),
    n.d(e, "easeExp", function() {
        return p.u
    }),
    n.d(e, "easeExpIn", function() {
        return p.v
    }),
    n.d(e, "easeExpOut", function() {
        return p.x
    }),
    n.d(e, "easeExpInOut", function() {
        return p.w
    }),
    n.d(e, "easeCircle", function() {
        return p.i
    }),
    n.d(e, "easeCircleIn", function() {
        return p.j
    }),
    n.d(e, "easeCircleOut", function() {
        return p.l
    }),
    n.d(e, "easeCircleInOut", function() {
        return p.k
    }),
    n.d(e, "easeBounce", function() {
        return p.e
    }),
    n.d(e, "easeBounceIn", function() {
        return p.f
    }),
    n.d(e, "easeBounceOut", function() {
        return p.h
    }),
    n.d(e, "easeBounceInOut", function() {
        return p.g
    }),
    n.d(e, "easeBack", function() {
        return p.a
    }),
    n.d(e, "easeBackIn", function() {
        return p.b
    }),
    n.d(e, "easeBackOut", function() {
        return p.d
    }),
    n.d(e, "easeBackInOut", function() {
        return p.c
    }),
    n.d(e, "easeElastic", function() {
        return p.q
    }),
    n.d(e, "easeElasticIn", function() {
        return p.r
    }),
    n.d(e, "easeElasticOut", function() {
        return p.t
    }),
    n.d(e, "easeElasticInOut", function() {
        return p.s
    });
    var m = n(323);
    n.d(e, "blob", function() {
        return m.a
    }),
    n.d(e, "buffer", function() {
        return m.b
    }),
    n.d(e, "dsv", function() {
        return m.d
    }),
    n.d(e, "csv", function() {
        return m.c
    }),
    n.d(e, "tsv", function() {
        return m.j
    }),
    n.d(e, "image", function() {
        return m.f
    }),
    n.d(e, "json", function() {
        return m.g
    }),
    n.d(e, "text", function() {
        return m.i
    }),
    n.d(e, "xml", function() {
        return m.k
    }),
    n.d(e, "html", function() {
        return m.e
    }),
    n.d(e, "svg", function() {
        return m.h
    });
    var v = n(330);
    n.d(e, "forceCenter", function() {
        return v.a
    }),
    n.d(e, "forceCollide", function() {
        return v.b
    }),
    n.d(e, "forceLink", function() {
        return v.c
    }),
    n.d(e, "forceManyBody", function() {
        return v.d
    }),
    n.d(e, "forceRadial", function() {
        return v.e
    }),
    n.d(e, "forceSimulation", function() {
        return v.f
    }),
    n.d(e, "forceX", function() {
        return v.g
    }),
    n.d(e, "forceY", function() {
        return v.h
    });
    var g = n(72);
    n.d(e, "formatDefaultLocale", function() {
        return g.b
    }),
    n.d(e, "format", function() {
        return g.a
    }),
    n.d(e, "formatPrefix", function() {
        return g.d
    }),
    n.d(e, "formatLocale", function() {
        return g.c
    }),
    n.d(e, "formatSpecifier", function() {
        return g.e
    }),
    n.d(e, "precisionFixed", function() {
        return g.f
    }),
    n.d(e, "precisionPrefix", function() {
        return g.g
    }),
    n.d(e, "precisionRound", function() {
        return g.h
    });
    var y = n(361);
    n.d(e, "geoArea", function() {
        return y.c
    }),
    n.d(e, "geoBounds", function() {
        return y.h
    }),
    n.d(e, "geoCentroid", function() {
        return y.i
    }),
    n.d(e, "geoCircle", function() {
        return y.j
    }),
    n.d(e, "geoClipAntimeridian", function() {
        return y.k
    }),
    n.d(e, "geoClipCircle", function() {
        return y.l
    }),
    n.d(e, "geoClipExtent", function() {
        return y.m
    }),
    n.d(e, "geoClipRectangle", function() {
        return y.n
    }),
    n.d(e, "geoContains", function() {
        return y.u
    }),
    n.d(e, "geoDistance", function() {
        return y.v
    }),
    n.d(e, "geoGraticule", function() {
        return y.C
    }),
    n.d(e, "geoGraticule10", function() {
        return y.D
    }),
    n.d(e, "geoInterpolate", function() {
        return y.F
    }),
    n.d(e, "geoLength", function() {
        return y.G
    }),
    n.d(e, "geoPath", function() {
        return y.N
    }),
    n.d(e, "geoAlbers", function() {
        return y.a
    }),
    n.d(e, "geoAlbersUsa", function() {
        return y.b
    }),
    n.d(e, "geoAzimuthalEqualArea", function() {
        return y.d
    }),
    n.d(e, "geoAzimuthalEqualAreaRaw", function() {
        return y.e
    }),
    n.d(e, "geoAzimuthalEquidistant", function() {
        return y.f
    }),
    n.d(e, "geoAzimuthalEquidistantRaw", function() {
        return y.g
    }),
    n.d(e, "geoConicConformal", function() {
        return y.o
    }),
    n.d(e, "geoConicConformalRaw", function() {
        return y.p
    }),
    n.d(e, "geoConicEqualArea", function() {
        return y.q
    }),
    n.d(e, "geoConicEqualAreaRaw", function() {
        return y.r
    }),
    n.d(e, "geoConicEquidistant", function() {
        return y.s
    }),
    n.d(e, "geoConicEquidistantRaw", function() {
        return y.t
    }),
    n.d(e, "geoEqualEarth", function() {
        return y.w
    }),
    n.d(e, "geoEqualEarthRaw", function() {
        return y.x
    }),
    n.d(e, "geoEquirectangular", function() {
        return y.y
    }),
    n.d(e, "geoEquirectangularRaw", function() {
        return y.z
    }),
    n.d(e, "geoGnomonic", function() {
        return y.A
    }),
    n.d(e, "geoGnomonicRaw", function() {
        return y.B
    }),
    n.d(e, "geoIdentity", function() {
        return y.E
    }),
    n.d(e, "geoProjection", function() {
        return y.O
    }),
    n.d(e, "geoProjectionMutator", function() {
        return y.P
    }),
    n.d(e, "geoMercator", function() {
        return y.H
    }),
    n.d(e, "geoMercatorRaw", function() {
        return y.I
    }),
    n.d(e, "geoNaturalEarth1", function() {
        return y.J
    }),
    n.d(e, "geoNaturalEarth1Raw", function() {
        return y.K
    }),
    n.d(e, "geoOrthographic", function() {
        return y.L
    }),
    n.d(e, "geoOrthographicRaw", function() {
        return y.M
    }),
    n.d(e, "geoStereographic", function() {
        return y.R
    }),
    n.d(e, "geoStereographicRaw", function() {
        return y.S
    }),
    n.d(e, "geoTransverseMercator", function() {
        return y.V
    }),
    n.d(e, "geoTransverseMercatorRaw", function() {
        return y.W
    }),
    n.d(e, "geoRotation", function() {
        return y.Q
    }),
    n.d(e, "geoStream", function() {
        return y.T
    }),
    n.d(e, "geoTransform", function() {
        return y.U
    });
    var b = n(390);
    n.d(e, "cluster", function() {
        return b.a
    }),
    n.d(e, "hierarchy", function() {
        return b.b
    }),
    n.d(e, "pack", function() {
        return b.c
    }),
    n.d(e, "packSiblings", function() {
        return b.e
    }),
    n.d(e, "packEnclose", function() {
        return b.d
    }),
    n.d(e, "partition", function() {
        return b.f
    }),
    n.d(e, "stratify", function() {
        return b.g
    }),
    n.d(e, "tree", function() {
        return b.h
    }),
    n.d(e, "treemap", function() {
        return b.i
    }),
    n.d(e, "treemapBinary", function() {
        return b.j
    }),
    n.d(e, "treemapDice", function() {
        return b.k
    }),
    n.d(e, "treemapSlice", function() {
        return b.m
    }),
    n.d(e, "treemapSliceDice", function() {
        return b.n
    }),
    n.d(e, "treemapSquarify", function() {
        return b.o
    }),
    n.d(e, "treemapResquarify", function() {
        return b.l
    });
    var _ = n(11);
    n.d(e, "interpolate", function() {
        return _.a
    }),
    n.d(e, "interpolateArray", function() {
        return _.b
    }),
    n.d(e, "interpolateBasis", function() {
        return _.c
    }),
    n.d(e, "interpolateBasisClosed", function() {
        return _.d
    }),
    n.d(e, "interpolateDate", function() {
        return _.g
    }),
    n.d(e, "interpolateDiscrete", function() {
        return _.h
    }),
    n.d(e, "interpolateHue", function() {
        return _.m
    }),
    n.d(e, "interpolateNumber", function() {
        return _.o
    }),
    n.d(e, "interpolateObject", function() {
        return _.p
    }),
    n.d(e, "interpolateRound", function() {
        return _.t
    }),
    n.d(e, "interpolateString", function() {
        return _.u
    }),
    n.d(e, "interpolateTransformCss", function() {
        return _.v
    }),
    n.d(e, "interpolateTransformSvg", function() {
        return _.w
    }),
    n.d(e, "interpolateZoom", function() {
        return _.x
    }),
    n.d(e, "interpolateRgb", function() {
        return _.q
    }),
    n.d(e, "interpolateRgbBasis", function() {
        return _.r
    }),
    n.d(e, "interpolateRgbBasisClosed", function() {
        return _.s
    }),
    n.d(e, "interpolateHsl", function() {
        return _.k
    }),
    n.d(e, "interpolateHslLong", function() {
        return _.l
    }),
    n.d(e, "interpolateLab", function() {
        return _.n
    }),
    n.d(e, "interpolateHcl", function() {
        return _.i
    }),
    n.d(e, "interpolateHclLong", function() {
        return _.j
    }),
    n.d(e, "interpolateCubehelix", function() {
        return _.e
    }),
    n.d(e, "interpolateCubehelixLong", function() {
        return _.f
    }),
    n.d(e, "piecewise", function() {
        return _.y
    }),
    n.d(e, "quantize", function() {
        return _.z
    });
    var x = n(16);
    n.d(e, "path", function() {
        return x.a
    });
    var w = n(412);
    n.d(e, "polygonArea", function() {
        return w.a
    }),
    n.d(e, "polygonCentroid", function() {
        return w.b
    }),
    n.d(e, "polygonHull", function() {
        return w.d
    }),
    n.d(e, "polygonContains", function() {
        return w.c
    }),
    n.d(e, "polygonLength", function() {
        return w.e
    });
    var M = n(70);
    n.d(e, "quadtree", function() {
        return M.a
    });
    var E = n(419);
    n.d(e, "randomUniform", function() {
        return E.f
    }),
    n.d(e, "randomNormal", function() {
        return E.e
    }),
    n.d(e, "randomLogNormal", function() {
        return E.d
    }),
    n.d(e, "randomBates", function() {
        return E.a
    }),
    n.d(e, "randomIrwinHall", function() {
        return E.c
    }),
    n.d(e, "randomExponential", function() {
        return E.b
    });
    var T = n(424);
    n.d(e, "scaleBand", function() {
        return T.a
    }),
    n.d(e, "scalePoint", function() {
        return T.l
    }),
    n.d(e, "scaleIdentity", function() {
        return T.g
    }),
    n.d(e, "scaleLinear", function() {
        return T.i
    }),
    n.d(e, "scaleLog", function() {
        return T.j
    }),
    n.d(e, "scaleSymlog", function() {
        return T.w
    }),
    n.d(e, "scaleOrdinal", function() {
        return T.k
    }),
    n.d(e, "scaleImplicit", function() {
        return T.h
    }),
    n.d(e, "scalePow", function() {
        return T.m
    }),
    n.d(e, "scaleSqrt", function() {
        return T.v
    }),
    n.d(e, "scaleQuantile", function() {
        return T.n
    }),
    n.d(e, "scaleQuantize", function() {
        return T.o
    }),
    n.d(e, "scaleThreshold", function() {
        return T.x
    }),
    n.d(e, "scaleTime", function() {
        return T.y
    }),
    n.d(e, "scaleUtc", function() {
        return T.z
    }),
    n.d(e, "scaleSequential", function() {
        return T.p
    }),
    n.d(e, "scaleSequentialLog", function() {
        return T.q
    }),
    n.d(e, "scaleSequentialPow", function() {
        return T.r
    }),
    n.d(e, "scaleSequentialSqrt", function() {
        return T.t
    }),
    n.d(e, "scaleSequentialSymlog", function() {
        return T.u
    }),
    n.d(e, "scaleSequentialQuantile", function() {
        return T.s
    }),
    n.d(e, "scaleDiverging", function() {
        return T.b
    }),
    n.d(e, "scaleDivergingLog", function() {
        return T.c
    }),
    n.d(e, "scaleDivergingPow", function() {
        return T.d
    }),
    n.d(e, "scaleDivergingSqrt", function() {
        return T.e
    }),
    n.d(e, "scaleDivergingSymlog", function() {
        return T.f
    }),
    n.d(e, "tickFormat", function() {
        return T.A
    });
    var S = n(449);
    n.d(e, "schemeCategory10", function() {
        return S.P
    }),
    n.d(e, "schemeAccent", function() {
        return S.K
    }),
    n.d(e, "schemeDark2", function() {
        return S.Q
    }),
    n.d(e, "schemePaired", function() {
        return S.X
    }),
    n.d(e, "schemePastel1", function() {
        return S.Y
    }),
    n.d(e, "schemePastel2", function() {
        return S.Z
    }),
    n.d(e, "schemeSet1", function() {
        return S._12
    }),
    n.d(e, "schemeSet2", function() {
        return S._13
    }),
    n.d(e, "schemeSet3", function() {
        return S._14
    }),
    n.d(e, "interpolateBrBG", function() {
        return S.b
    }),
    n.d(e, "schemeBrBG", function() {
        return S.M
    }),
    n.d(e, "interpolatePRGn", function() {
        return S.n
    }),
    n.d(e, "schemePRGn", function() {
        return S.W
    }),
    n.d(e, "interpolatePiYG", function() {
        return S.o
    }),
    n.d(e, "schemePiYG", function() {
        return S._0
    }),
    n.d(e, "interpolatePuOr", function() {
        return S.s
    }),
    n.d(e, "schemePuOr", function() {
        return S._3
    }),
    n.d(e, "interpolateRdBu", function() {
        return S.w
    }),
    n.d(e, "schemeRdBu", function() {
        return S._6
    }),
    n.d(e, "interpolateRdGy", function() {
        return S.x
    }),
    n.d(e, "schemeRdGy", function() {
        return S._7
    }),
    n.d(e, "interpolateRdYlBu", function() {
        return S.z
    }),
    n.d(e, "schemeRdYlBu", function() {
        return S._9
    }),
    n.d(e, "interpolateRdYlGn", function() {
        return S.A
    }),
    n.d(e, "schemeRdYlGn", function() {
        return S._10
    }),
    n.d(e, "interpolateSpectral", function() {
        return S.D
    }),
    n.d(e, "schemeSpectral", function() {
        return S._15
    }),
    n.d(e, "interpolateBuGn", function() {
        return S.c
    }),
    n.d(e, "schemeBuGn", function() {
        return S.N
    }),
    n.d(e, "interpolateBuPu", function() {
        return S.d
    }),
    n.d(e, "schemeBuPu", function() {
        return S.O
    }),
    n.d(e, "interpolateGnBu", function() {
        return S.g
    }),
    n.d(e, "schemeGnBu", function() {
        return S.R
    }),
    n.d(e, "interpolateOrRd", function() {
        return S.l
    }),
    n.d(e, "schemeOrRd", function() {
        return S.U
    }),
    n.d(e, "interpolatePuBuGn", function() {
        return S.r
    }),
    n.d(e, "schemePuBuGn", function() {
        return S._2
    }),
    n.d(e, "interpolatePuBu", function() {
        return S.q
    }),
    n.d(e, "schemePuBu", function() {
        return S._1
    }),
    n.d(e, "interpolatePuRd", function() {
        return S.t
    }),
    n.d(e, "schemePuRd", function() {
        return S._4
    }),
    n.d(e, "interpolateRdPu", function() {
        return S.y
    }),
    n.d(e, "schemeRdPu", function() {
        return S._8
    }),
    n.d(e, "interpolateYlGnBu", function() {
        return S.H
    }),
    n.d(e, "schemeYlGnBu", function() {
        return S._17
    }),
    n.d(e, "interpolateYlGn", function() {
        return S.G
    }),
    n.d(e, "schemeYlGn", function() {
        return S._16
    }),
    n.d(e, "interpolateYlOrBr", function() {
        return S.I
    }),
    n.d(e, "schemeYlOrBr", function() {
        return S._18
    }),
    n.d(e, "interpolateYlOrRd", function() {
        return S.J
    }),
    n.d(e, "schemeYlOrRd", function() {
        return S._19
    }),
    n.d(e, "interpolateBlues", function() {
        return S.a
    }),
    n.d(e, "schemeBlues", function() {
        return S.L
    }),
    n.d(e, "interpolateGreens", function() {
        return S.h
    }),
    n.d(e, "schemeGreens", function() {
        return S.S
    }),
    n.d(e, "interpolateGreys", function() {
        return S.i
    }),
    n.d(e, "schemeGreys", function() {
        return S.T
    }),
    n.d(e, "interpolatePurples", function() {
        return S.u
    }),
    n.d(e, "schemePurples", function() {
        return S._5
    }),
    n.d(e, "interpolateReds", function() {
        return S.B
    }),
    n.d(e, "schemeReds", function() {
        return S._11
    }),
    n.d(e, "interpolateOranges", function() {
        return S.m
    }),
    n.d(e, "schemeOranges", function() {
        return S.V
    }),
    n.d(e, "interpolateCubehelixDefault", function() {
        return S.f
    }),
    n.d(e, "interpolateRainbow", function() {
        return S.v
    }),
    n.d(e, "interpolateWarm", function() {
        return S.F
    }),
    n.d(e, "interpolateCool", function() {
        return S.e
    }),
    n.d(e, "interpolateSinebow", function() {
        return S.C
    }),
    n.d(e, "interpolateViridis", function() {
        return S.E
    }),
    n.d(e, "interpolateMagma", function() {
        return S.k
    }),
    n.d(e, "interpolateInferno", function() {
        return S.j
    }),
    n.d(e, "interpolatePlasma", function() {
        return S.p
    });
    var O = n(4);
    n.d(e, "create", function() {
        return O.b
    }),
    n.d(e, "creator", function() {
        return O.c
    }),
    n.d(e, "local", function() {
        return O.f
    }),
    n.d(e, "matcher", function() {
        return O.g
    }),
    n.d(e, "mouse", function() {
        return O.h
    }),
    n.d(e, "namespace", function() {
        return O.i
    }),
    n.d(e, "namespaces", function() {
        return O.j
    }),
    n.d(e, "clientPoint", function() {
        return O.a
    }),
    n.d(e, "select", function() {
        return O.k
    }),
    n.d(e, "selectAll", function() {
        return O.l
    }),
    n.d(e, "selection", function() {
        return O.m
    }),
    n.d(e, "selector", function() {
        return O.n
    }),
    n.d(e, "selectorAll", function() {
        return O.o
    }),
    n.d(e, "style", function() {
        return O.p
    }),
    n.d(e, "touch", function() {
        return O.q
    }),
    n.d(e, "touches", function() {
        return O.r
    }),
    n.d(e, "window", function() {
        return O.s
    }),
    n.d(e, "event", function() {
        return O.e
    }),
    n.d(e, "customEvent", function() {
        return O.d
    });
    var A = n(490);
    n.d(e, "arc", function() {
        return A.a
    }),
    n.d(e, "area", function() {
        return A.b
    }),
    n.d(e, "line", function() {
        return A.v
    }),
    n.d(e, "pie", function() {
        return A.A
    }),
    n.d(e, "areaRadial", function() {
        return A.c
    }),
    n.d(e, "radialArea", function() {
        return A.C
    }),
    n.d(e, "lineRadial", function() {
        return A.w
    }),
    n.d(e, "radialLine", function() {
        return A.D
    }),
    n.d(e, "pointRadial", function() {
        return A.B
    }),
    n.d(e, "linkHorizontal", function() {
        return A.x
    }),
    n.d(e, "linkVertical", function() {
        return A.z
    }),
    n.d(e, "linkRadial", function() {
        return A.y
    }),
    n.d(e, "symbol", function() {
        return A.Q
    }),
    n.d(e, "symbols", function() {
        return A.Y
    }),
    n.d(e, "symbolCircle", function() {
        return A.R
    }),
    n.d(e, "symbolCross", function() {
        return A.S
    }),
    n.d(e, "symbolDiamond", function() {
        return A.T
    }),
    n.d(e, "symbolSquare", function() {
        return A.U
    }),
    n.d(e, "symbolStar", function() {
        return A.V
    }),
    n.d(e, "symbolTriangle", function() {
        return A.W
    }),
    n.d(e, "symbolWye", function() {
        return A.X
    }),
    n.d(e, "curveBasisClosed", function() {
        return A.e
    }),
    n.d(e, "curveBasisOpen", function() {
        return A.f
    }),
    n.d(e, "curveBasis", function() {
        return A.d
    }),
    n.d(e, "curveBundle", function() {
        return A.g
    }),
    n.d(e, "curveCardinalClosed", function() {
        return A.i
    }),
    n.d(e, "curveCardinalOpen", function() {
        return A.j
    }),
    n.d(e, "curveCardinal", function() {
        return A.h
    }),
    n.d(e, "curveCatmullRomClosed", function() {
        return A.l
    }),
    n.d(e, "curveCatmullRomOpen", function() {
        return A.m
    }),
    n.d(e, "curveCatmullRom", function() {
        return A.k
    }),
    n.d(e, "curveLinearClosed", function() {
        return A.o
    }),
    n.d(e, "curveLinear", function() {
        return A.n
    }),
    n.d(e, "curveMonotoneX", function() {
        return A.p
    }),
    n.d(e, "curveMonotoneY", function() {
        return A.q
    }),
    n.d(e, "curveNatural", function() {
        return A.r
    }),
    n.d(e, "curveStep", function() {
        return A.s
    }),
    n.d(e, "curveStepAfter", function() {
        return A.t
    }),
    n.d(e, "curveStepBefore", function() {
        return A.u
    }),
    n.d(e, "stack", function() {
        return A.E
    }),
    n.d(e, "stackOffsetExpand", function() {
        return A.G
    }),
    n.d(e, "stackOffsetDiverging", function() {
        return A.F
    }),
    n.d(e, "stackOffsetNone", function() {
        return A.H
    }),
    n.d(e, "stackOffsetSilhouette", function() {
        return A.I
    }),
    n.d(e, "stackOffsetWiggle", function() {
        return A.J
    }),
    n.d(e, "stackOrderAppearance", function() {
        return A.K
    }),
    n.d(e, "stackOrderAscending", function() {
        return A.L
    }),
    n.d(e, "stackOrderDescending", function() {
        return A.M
    }),
    n.d(e, "stackOrderInsideOut", function() {
        return A.N
    }),
    n.d(e, "stackOrderNone", function() {
        return A.O
    }),
    n.d(e, "stackOrderReverse", function() {
        return A.P
    });
    var L = n(46);
    n.d(e, "timeInterval", function() {
        return L.g
    }),
    n.d(e, "timeMillisecond", function() {
        return L.h
    }),
    n.d(e, "timeMilliseconds", function() {
        return L.i
    }),
    n.d(e, "utcMillisecond", function() {
        return L.L
    }),
    n.d(e, "utcMilliseconds", function() {
        return L.M
    }),
    n.d(e, "timeSecond", function() {
        return L.r
    }),
    n.d(e, "timeSeconds", function() {
        return L.s
    }),
    n.d(e, "utcSecond", function() {
        return L.V
    }),
    n.d(e, "utcSeconds", function() {
        return L.W
    }),
    n.d(e, "timeMinute", function() {
        return L.j
    }),
    n.d(e, "timeMinutes", function() {
        return L.k
    }),
    n.d(e, "timeHour", function() {
        return L.e
    }),
    n.d(e, "timeHours", function() {
        return L.f
    }),
    n.d(e, "timeDay", function() {
        return L.a
    }),
    n.d(e, "timeDays", function() {
        return L.b
    }),
    n.d(e, "timeWeek", function() {
        return L.B
    }),
    n.d(e, "timeWeeks", function() {
        return L.C
    }),
    n.d(e, "timeSunday", function() {
        return L.t
    }),
    n.d(e, "timeSundays", function() {
        return L.u
    }),
    n.d(e, "timeMonday", function() {
        return L.l
    }),
    n.d(e, "timeMondays", function() {
        return L.m
    }),
    n.d(e, "timeTuesday", function() {
        return L.x
    }),
    n.d(e, "timeTuesdays", function() {
        return L.y
    }),
    n.d(e, "timeWednesday", function() {
        return L.z
    }),
    n.d(e, "timeWednesdays", function() {
        return L.A
    }),
    n.d(e, "timeThursday", function() {
        return L.v
    }),
    n.d(e, "timeThursdays", function() {
        return L.w
    }),
    n.d(e, "timeFriday", function() {
        return L.c
    }),
    n.d(e, "timeFridays", function() {
        return L.d
    }),
    n.d(e, "timeSaturday", function() {
        return L.p
    }),
    n.d(e, "timeSaturdays", function() {
        return L.q
    }),
    n.d(e, "timeMonth", function() {
        return L.n
    }),
    n.d(e, "timeMonths", function() {
        return L.o
    }),
    n.d(e, "timeYear", function() {
        return L.D
    }),
    n.d(e, "timeYears", function() {
        return L.E
    }),
    n.d(e, "utcMinute", function() {
        return L.N
    }),
    n.d(e, "utcMinutes", function() {
        return L.O
    }),
    n.d(e, "utcHour", function() {
        return L.J
    }),
    n.d(e, "utcHours", function() {
        return L.K
    }),
    n.d(e, "utcDay", function() {
        return L.F
    }),
    n.d(e, "utcDays", function() {
        return L.G
    }),
    n.d(e, "utcWeek", function() {
        return L._5
    }),
    n.d(e, "utcWeeks", function() {
        return L._6
    }),
    n.d(e, "utcSunday", function() {
        return L.X
    }),
    n.d(e, "utcSundays", function() {
        return L.Y
    }),
    n.d(e, "utcMonday", function() {
        return L.P
    }),
    n.d(e, "utcMondays", function() {
        return L.Q
    }),
    n.d(e, "utcTuesday", function() {
        return L._1
    }),
    n.d(e, "utcTuesdays", function() {
        return L._2
    }),
    n.d(e, "utcWednesday", function() {
        return L._3
    }),
    n.d(e, "utcWednesdays", function() {
        return L._4
    }),
    n.d(e, "utcThursday", function() {
        return L.Z
    }),
    n.d(e, "utcThursdays", function() {
        return L._0
    }),
    n.d(e, "utcFriday", function() {
        return L.H
    }),
    n.d(e, "utcFridays", function() {
        return L.I
    }),
    n.d(e, "utcSaturday", function() {
        return L.T
    }),
    n.d(e, "utcSaturdays", function() {
        return L.U
    }),
    n.d(e, "utcMonth", function() {
        return L.R
    }),
    n.d(e, "utcMonths", function() {
        return L.S
    }),
    n.d(e, "utcYear", function() {
        return L._7
    }),
    n.d(e, "utcYears", function() {
        return L._8
    });
    var R = n(85);
    n.d(e, "timeFormatDefaultLocale", function() {
        return R.d
    }),
    n.d(e, "timeFormat", function() {
        return R.c
    }),
    n.d(e, "timeParse", function() {
        return R.f
    }),
    n.d(e, "utcFormat", function() {
        return R.g
    }),
    n.d(e, "utcParse", function() {
        return R.h
    }),
    n.d(e, "timeFormatLocale", function() {
        return R.e
    }),
    n.d(e, "isoFormat", function() {
        return R.a
    }),
    n.d(e, "isoParse", function() {
        return R.b
    });
    var C = n(38);
    n.d(e, "now", function() {
        return C.b
    }),
    n.d(e, "timer", function() {
        return C.d
    }),
    n.d(e, "timerFlush", function() {
        return C.e
    }),
    n.d(e, "timeout", function() {
        return C.c
    }),
    n.d(e, "interval", function() {
        return C.a
    });
    var j = n(64);
    n.d(e, "transition", function() {
        return j.c
    }),
    n.d(e, "active", function() {
        return j.a
    }),
    n.d(e, "interrupt", function() {
        return j.b
    });
    var P = n(515);
    n.d(e, "voronoi", function() {
        return P.a
    });
    var N = n(520);
    n.d(e, "zoom", function() {
        return N.a
    }),
    n.d(e, "zoomTransform", function() {
        return N.c
    }),
    n.d(e, "zoomIdentity", function() {
        return N.b
    })
}
, function(t, e, n) {
    "use strict";
    n.d(e, "a", function() {
        return r
    });
    var r = "5.9.1"
}
, function(t, e, n) {
    "use strict";
    var r = n(96);
    e.a = function(t, e, n) {
        var i, o, a, s, u = t.length, c = e.length, f = new Array(u * c);
        for (null == n && (n = r.b),
        i = a = 0; i < u; ++i)
            for (s = t[i],
            o = 0; o < c; ++o,
            ++a)
                f[a] = n(s, e[o]);
        return f
    }
}
, function(t, e, n) {
    "use strict";
    e.a = function(t, e) {
        return e < t ? -1 : e > t ? 1 : e >= t ? 0 : NaN
    }
}
, function(t, e, n) {
    "use strict";
    var r = n(100)
      , i = n(94)
      , o = n(193)
      , a = n(99)
      , s = n(194)
      , u = n(101)
      , c = n(102)
      , f = n(103);
    e.a = function() {
        var t = s.a
          , e = a.a
          , n = f.a;
        function l(r) {
            var o, a, s = r.length, f = new Array(s);
            for (o = 0; o < s; ++o)
                f[o] = t(r[o], o, r);
            var l = e(f)
              , h = l[0]
              , d = l[1]
              , p = n(f, h, d);
            Array.isArray(p) || (p = Object(c.c)(h, d, p),
            p = Object(u.a)(Math.ceil(h / p) * p, d, p));
            for (var m = p.length; p[0] <= h; )
                p.shift(),
                --m;
            for (; p[m - 1] > d; )
                p.pop(),
                --m;
            var v, g = new Array(m + 1);
            for (o = 0; o <= m; ++o)
                (v = g[o] = []).x0 = o > 0 ? p[o - 1] : h,
                v.x1 = o < m ? p[o] : d;
            for (o = 0; o < s; ++o)
                h <= (a = f[o]) && a <= d && g[Object(i.c)(p, a, 0, m)].push(r[o]);
            return g
        }
        return l.value = function(e) {
            return arguments.length ? (t = "function" == typeof e ? e : Object(o.a)(e),
            l) : t
        }
        ,
        l.domain = function(t) {
            return arguments.length ? (e = "function" == typeof t ? t : Object(o.a)([t[0], t[1]]),
            l) : e
        }
        ,
        l.thresholds = function(t) {
            return arguments.length ? (n = "function" == typeof t ? t : Array.isArray(t) ? Object(o.a)(r.b.call(t)) : Object(o.a)(t),
            l) : n
        }
        ,
        l
    }
}
, function(t, e, n) {
    "use strict";
    e.a = function(t) {
        return function() {
            return t
        }
    }
}
, function(t, e, n) {
    "use strict";
    e.a = function(t) {
        return t
    }
}
, function(t, e, n) {
    "use strict";
    var r = n(100)
      , i = n(21)
      , o = n(27)
      , a = n(52);
    e.a = function(t, e, n) {
        return t = r.a.call(t, o.a).sort(i.a),
        Math.ceil((n - e) / (2 * (Object(a.a)(t, .75) - Object(a.a)(t, .25)) * Math.pow(t.length, -1 / 3)))
    }
}
, function(t, e, n) {
    "use strict";
    var r = n(97);
    e.a = function(t, e, n) {
        return Math.ceil((n - e) / (3.5 * Object(r.a)(t) * Math.pow(t.length, -1 / 3)))
    }
}
, function(t, e, n) {
    "use strict";
    e.a = function(t, e) {
        var n, r, i = t.length, o = -1;
        if (null == e) {
            for (; ++o < i; )
                if (null != (n = t[o]) && n >= n)
                    for (r = n; ++o < i; )
                        null != (n = t[o]) && n > r && (r = n)
        } else
            for (; ++o < i; )
                if (null != (n = e(t[o], o, t)) && n >= n)
                    for (r = n; ++o < i; )
                        null != (n = e(t[o], o, t)) && n > r && (r = n);
        return r
    }
}
, function(t, e, n) {
    "use strict";
    var r = n(27);
    e.a = function(t, e) {
        var n, i = t.length, o = i, a = -1, s = 0;
        if (null == e)
            for (; ++a < i; )
                isNaN(n = Object(r.a)(t[a])) ? --o : s += n;
        else
            for (; ++a < i; )
                isNaN(n = Object(r.a)(e(t[a], a, t))) ? --o : s += n;
        if (o)
            return s / o
    }
}
, function(t, e, n) {
    "use strict";
    var r = n(21)
      , i = n(27)
      , o = n(52);
    e.a = function(t, e) {
        var n, a = t.length, s = -1, u = [];
        if (null == e)
            for (; ++s < a; )
                isNaN(n = Object(i.a)(t[s])) || u.push(n);
        else
            for (; ++s < a; )
                isNaN(n = Object(i.a)(e(t[s], s, t))) || u.push(n);
        return Object(o.a)(u.sort(r.a), .5)
    }
}
, function(t, e, n) {
    "use strict";
    e.a = function(t) {
        for (var e, n, r, i = t.length, o = -1, a = 0; ++o < i; )
            a += t[o].length;
        for (n = new Array(a); --i >= 0; )
            for (e = (r = t[i]).length; --e >= 0; )
                n[--a] = r[e];
        return n
    }
}
, function(t, e, n) {
    "use strict";
    e.a = function(t, e) {
        for (var n = e.length, r = new Array(n); n--; )
            r[n] = t[e[n]];
        return r
    }
}
, function(t, e, n) {
    "use strict";
    var r = n(21);
    e.a = function(t, e) {
        if (n = t.length) {
            var n, i, o = 0, a = 0, s = t[a];
            for (null == e && (e = r.a); ++o < n; )
                (e(i = t[o], s) < 0 || 0 !== e(s, s)) && (s = i,
                a = o);
            return 0 === e(s, s) ? a : void 0
        }
    }
}
, function(t, e, n) {
    "use strict";
    e.a = function(t, e, n) {
        for (var r, i, o = (null == n ? t.length : n) - (e = null == e ? 0 : +e); o; )
            i = Math.random() * o-- | 0,
            r = t[o + e],
            t[o + e] = t[i + e],
            t[i + e] = r;
        return t
    }
}
, function(t, e, n) {
    "use strict";
    e.a = function(t, e) {
        var n, r = t.length, i = -1, o = 0;
        if (null == e)
            for (; ++i < r; )
                (n = +t[i]) && (o += n);
        else
            for (; ++i < r; )
                (n = +e(t[i], i, t)) && (o += n);
        return o
    }
}
, function(t, e, n) {
    "use strict";
    var r = n(105);
    e.a = function() {
        return Object(r.a)(arguments)
    }
}
, function(t, e, n) {
    "use strict";
    var r = n(207);
    n.d(e, "d", function() {
        return r.d
    }),
    n.d(e, "c", function() {
        return r.c
    }),
    n.d(e, "a", function() {
        return r.a
    }),
    n.d(e, "b", function() {
        return r.b
    })
}
, function(t, e, n) {
    "use strict";
    e.d = function(t) {
        return d(o, t)
    }
    ,
    e.c = function(t) {
        return d(a, t)
    }
    ,
    e.a = function(t) {
        return d(s, t)
    }
    ,
    e.b = function(t) {
        return d(u, t)
    }
    ;
    var r = n(208)
      , i = n(209)
      , o = 1
      , a = 2
      , s = 3
      , u = 4
      , c = 1e-6;
    function f(t) {
        return "translate(" + (t + .5) + ",0)"
    }
    function l(t) {
        return "translate(0," + (t + .5) + ")"
    }
    function h() {
        return !this.__axis
    }
    function d(t, e) {
        var n = []
          , d = null
          , p = null
          , m = 6
          , v = 6
          , g = 3
          , y = t === o || t === u ? -1 : 1
          , b = t === u || t === a ? "x" : "y"
          , _ = t === o || t === s ? f : l;
        function x(r) {
            var f = null == d ? e.ticks ? e.ticks.apply(e, n) : e.domain() : d
              , l = null == p ? e.tickFormat ? e.tickFormat.apply(e, n) : i.a : p
              , x = Math.max(m, 0) + g
              , w = e.range()
              , M = +w[0] + .5
              , E = +w[w.length - 1] + .5
              , T = (e.bandwidth ? function(t) {
                var e = Math.max(0, t.bandwidth() - 1) / 2;
                return t.round() && (e = Math.round(e)),
                function(n) {
                    return +t(n) + e
                }
            }
            : function(t) {
                return function(e) {
                    return +t(e)
                }
            }
            )(e.copy())
              , S = r.selection ? r.selection() : r
              , O = S.selectAll(".domain").data([null])
              , A = S.selectAll(".tick").data(f, e).order()
              , L = A.exit()
              , R = A.enter().append("g").attr("class", "tick")
              , C = A.select("line")
              , j = A.select("text");
            O = O.merge(O.enter().insert("path", ".tick").attr("class", "domain").attr("stroke", "currentColor")),
            A = A.merge(R),
            C = C.merge(R.append("line").attr("stroke", "currentColor").attr(b + "2", y * m)),
            j = j.merge(R.append("text").attr("fill", "currentColor").attr(b, y * x).attr("dy", t === o ? "0em" : t === s ? "0.71em" : "0.32em")),
            r !== S && (O = O.transition(r),
            A = A.transition(r),
            C = C.transition(r),
            j = j.transition(r),
            L = L.transition(r).attr("opacity", c).attr("transform", function(t) {
                return isFinite(t = T(t)) ? _(t) : this.getAttribute("transform")
            }),
            R.attr("opacity", c).attr("transform", function(t) {
                var e = this.parentNode.__axis;
                return _(e && isFinite(e = e(t)) ? e : T(t))
            })),
            L.remove(),
            O.attr("d", t === u || t == a ? v ? "M" + y * v + "," + M + "H0.5V" + E + "H" + y * v : "M0.5," + M + "V" + E : v ? "M" + M + "," + y * v + "V0.5H" + E + "V" + y * v : "M" + M + ",0.5H" + E),
            A.attr("opacity", 1).attr("transform", function(t) {
                return _(T(t))
            }),
            C.attr(b + "2", y * m),
            j.attr(b, y * x).text(l),
            S.filter(h).attr("fill", "none").attr("font-size", 10).attr("font-family", "sans-serif").attr("text-anchor", t === a ? "start" : t === u ? "end" : "middle"),
            S.each(function() {
                this.__axis = T
            })
        }
        return x.scale = function(t) {
            return arguments.length ? (e = t,
            x) : e
        }
        ,
        x.ticks = function() {
            return n = r.a.call(arguments),
            x
        }
        ,
        x.tickArguments = function(t) {
            return arguments.length ? (n = null == t ? [] : r.a.call(t),
            x) : n.slice()
        }
        ,
        x.tickValues = function(t) {
            return arguments.length ? (d = null == t ? null : r.a.call(t),
            x) : d && d.slice()
        }
        ,
        x.tickFormat = function(t) {
            return arguments.length ? (p = t,
            x) : p
        }
        ,
        x.tickSize = function(t) {
            return arguments.length ? (m = v = +t,
            x) : m
        }
        ,
        x.tickSizeInner = function(t) {
            return arguments.length ? (m = +t,
            x) : m
        }
        ,
        x.tickSizeOuter = function(t) {
            return arguments.length ? (v = +t,
            x) : v
        }
        ,
        x.tickPadding = function(t) {
            return arguments.length ? (g = +t,
            x) : g
        }
        ,
        x
    }
}
, function(t, e, n) {
    "use strict";
    n.d(e, "a", function() {
        return r
    });
    var r = Array.prototype.slice
}
, function(t, e, n) {
    "use strict";
    e.a = function(t) {
        return t
    }
}
, function(t, e, n) {
    "use strict";
    var r = n(211);
    n.d(e, "a", function() {
        return r.d
    }),
    n.d(e, "c", function() {
        return r.b
    }),
    n.d(e, "d", function() {
        return r.c
    }),
    n.d(e, "b", function() {
        return r.a
    })
}
, function(t, e, n) {
    "use strict";
    e.a = function(t) {
        var e = t.__brush;
        return e ? e.dim.output(e.selection) : null
    }
    ,
    e.b = function() {
        return A(m)
    }
    ,
    e.c = function() {
        return A(v)
    }
    ;
    var r = n(22)
      , i = n(53)
      , o = n(11)
      , a = n(4)
      , s = n(64)
      , u = n(299)
      , c = n(300)
      , f = n(301)
      , l = {
        name: "drag"
    }
      , h = {
        name: "space"
    }
      , d = {
        name: "handle"
    }
      , p = {
        name: "center"
    }
      , m = {
        name: "x",
        handles: ["e", "w"].map(M),
        input: function(t, e) {
            return t && [[t[0], e[0][1]], [t[1], e[1][1]]]
        },
        output: function(t) {
            return t && [t[0][0], t[1][0]]
        }
    }
      , v = {
        name: "y",
        handles: ["n", "s"].map(M),
        input: function(t, e) {
            return t && [[e[0][0], t[0]], [e[1][0], t[1]]]
        },
        output: function(t) {
            return t && [t[0][1], t[1][1]]
        }
    }
      , g = {
        name: "xy",
        handles: ["n", "e", "s", "w", "nw", "ne", "se", "sw"].map(M),
        input: function(t) {
            return t
        },
        output: function(t) {
            return t
        }
    }
      , y = {
        overlay: "crosshair",
        selection: "move",
        n: "ns-resize",
        e: "ew-resize",
        s: "ns-resize",
        w: "ew-resize",
        nw: "nwse-resize",
        ne: "nesw-resize",
        se: "nwse-resize",
        sw: "nesw-resize"
    }
      , b = {
        e: "w",
        w: "e",
        nw: "ne",
        ne: "nw",
        se: "sw",
        sw: "se"
    }
      , _ = {
        n: "s",
        s: "n",
        nw: "sw",
        ne: "se",
        se: "ne",
        sw: "nw"
    }
      , x = {
        overlay: 1,
        selection: 1,
        n: null,
        e: 1,
        s: null,
        w: -1,
        nw: -1,
        ne: 1,
        se: 1,
        sw: -1
    }
      , w = {
        overlay: 1,
        selection: 1,
        n: -1,
        e: null,
        s: 1,
        w: null,
        nw: -1,
        ne: -1,
        se: 1,
        sw: 1
    };
    function M(t) {
        return {
            type: t
        }
    }
    function E() {
        return !a.e.button
    }
    function T() {
        var t = this.ownerSVGElement || this;
        return [[0, 0], [t.width.baseVal.value, t.height.baseVal.value]]
    }
    function S(t) {
        for (; !t.__brush; )
            if (!(t = t.parentNode))
                return;
        return t.__brush
    }
    function O(t) {
        return t[0][0] === t[1][0] || t[0][1] === t[1][1]
    }
    function A(t) {
        var e, n = T, g = E, A = Object(r.a)(R, "start", "brush", "end"), L = 6;
        function R(e) {
            var n = e.property("__brush", I).selectAll(".overlay").data([M("overlay")]);
            n.enter().append("rect").attr("class", "overlay").attr("pointer-events", "all").attr("cursor", y.overlay).merge(n).each(function() {
                var t = S(this).extent;
                Object(a.k)(this).attr("x", t[0][0]).attr("y", t[0][1]).attr("width", t[1][0] - t[0][0]).attr("height", t[1][1] - t[0][1])
            }),
            e.selectAll(".selection").data([M("selection")]).enter().append("rect").attr("class", "selection").attr("cursor", y.selection).attr("fill", "#777").attr("fill-opacity", .3).attr("stroke", "#fff").attr("shape-rendering", "crispEdges");
            var r = e.selectAll(".handle").data(t.handles, function(t) {
                return t.type
            });
            r.exit().remove(),
            r.enter().append("rect").attr("class", function(t) {
                return "handle handle--" + t.type
            }).attr("cursor", function(t) {
                return y[t.type]
            }),
            e.each(C).attr("fill", "none").attr("pointer-events", "all").style("-webkit-tap-highlight-color", "rgba(0,0,0,0)").on("mousedown.brush touchstart.brush", N)
        }
        function C() {
            var t = Object(a.k)(this)
              , e = S(this).selection;
            e ? (t.selectAll(".selection").style("display", null).attr("x", e[0][0]).attr("y", e[0][1]).attr("width", e[1][0] - e[0][0]).attr("height", e[1][1] - e[0][1]),
            t.selectAll(".handle").style("display", null).attr("x", function(t) {
                return "e" === t.type[t.type.length - 1] ? e[1][0] - L / 2 : e[0][0] - L / 2
            }).attr("y", function(t) {
                return "s" === t.type[0] ? e[1][1] - L / 2 : e[0][1] - L / 2
            }).attr("width", function(t) {
                return "n" === t.type || "s" === t.type ? e[1][0] - e[0][0] + L : L
            }).attr("height", function(t) {
                return "e" === t.type || "w" === t.type ? e[1][1] - e[0][1] + L : L
            })) : t.selectAll(".selection,.handle").style("display", "none").attr("x", null).attr("y", null).attr("width", null).attr("height", null)
        }
        function j(t, e) {
            return t.__brush.emitter || new P(t,e)
        }
        function P(t, e) {
            this.that = t,
            this.args = e,
            this.state = t.__brush,
            this.active = 0
        }
        function N() {
            if (a.e.touches) {
                if (a.e.changedTouches.length < a.e.touches.length)
                    return Object(f.a)()
            } else if (e)
                return;
            if (g.apply(this, arguments)) {
                var n, r, o, u, c, M, E, T, A, L, R, P, N, I = this, D = a.e.target.__data__.type, U = "selection" === (a.e.metaKey ? D = "overlay" : D) ? l : a.e.altKey ? p : d, z = t === v ? null : x[D], B = t === m ? null : w[D], k = S(I), F = k.extent, G = k.selection, H = F[0][0], V = F[0][1], W = F[1][0], q = F[1][1], X = z && B && a.e.shiftKey, Y = Object(a.h)(I), Z = Y, J = j(I, arguments).beforestart();
                "overlay" === D ? k.selection = G = [[n = t === v ? H : Y[0], o = t === m ? V : Y[1]], [c = t === v ? W : n, E = t === m ? q : o]] : (n = G[0][0],
                o = G[0][1],
                c = G[1][0],
                E = G[1][1]),
                r = n,
                u = o,
                M = c,
                T = E;
                var Q = Object(a.k)(I).attr("pointer-events", "none")
                  , K = Q.selectAll(".overlay").attr("cursor", y[D]);
                if (a.e.touches)
                    Q.on("touchmove.brush", tt, !0).on("touchend.brush touchcancel.brush", nt, !0);
                else {
                    var $ = Object(a.k)(a.e.view).on("keydown.brush", function() {
                        switch (a.e.keyCode) {
                        case 16:
                            X = z && B;
                            break;
                        case 18:
                            U === d && (z && (c = M - A * z,
                            n = r + A * z),
                            B && (E = T - L * B,
                            o = u + L * B),
                            U = p,
                            et());
                            break;
                        case 32:
                            U !== d && U !== p || (z < 0 ? c = M - A : z > 0 && (n = r - A),
                            B < 0 ? E = T - L : B > 0 && (o = u - L),
                            U = h,
                            K.attr("cursor", y.selection),
                            et());
                            break;
                        default:
                            return
                        }
                        Object(f.a)()
                    }, !0).on("keyup.brush", function() {
                        switch (a.e.keyCode) {
                        case 16:
                            X && (P = N = X = !1,
                            et());
                            break;
                        case 18:
                            U === p && (z < 0 ? c = M : z > 0 && (n = r),
                            B < 0 ? E = T : B > 0 && (o = u),
                            U = d,
                            et());
                            break;
                        case 32:
                            U === h && (a.e.altKey ? (z && (c = M - A * z,
                            n = r + A * z),
                            B && (E = T - L * B,
                            o = u + L * B),
                            U = p) : (z < 0 ? c = M : z > 0 && (n = r),
                            B < 0 ? E = T : B > 0 && (o = u),
                            U = d),
                            K.attr("cursor", y[D]),
                            et());
                            break;
                        default:
                            return
                        }
                        Object(f.a)()
                    }, !0).on("mousemove.brush", tt, !0).on("mouseup.brush", nt, !0);
                    Object(i.b)(a.e.view)
                }
                Object(f.b)(),
                Object(s.b)(I),
                C.call(I),
                J.start()
            }
            function tt() {
                var t = Object(a.h)(I);
                !X || P || N || (Math.abs(t[0] - Z[0]) > Math.abs(t[1] - Z[1]) ? N = !0 : P = !0),
                Z = t,
                R = !0,
                Object(f.a)(),
                et()
            }
            function et() {
                var t;
                switch (A = Z[0] - Y[0],
                L = Z[1] - Y[1],
                U) {
                case h:
                case l:
                    z && (A = Math.max(H - n, Math.min(W - c, A)),
                    r = n + A,
                    M = c + A),
                    B && (L = Math.max(V - o, Math.min(q - E, L)),
                    u = o + L,
                    T = E + L);
                    break;
                case d:
                    z < 0 ? (A = Math.max(H - n, Math.min(W - n, A)),
                    r = n + A,
                    M = c) : z > 0 && (A = Math.max(H - c, Math.min(W - c, A)),
                    r = n,
                    M = c + A),
                    B < 0 ? (L = Math.max(V - o, Math.min(q - o, L)),
                    u = o + L,
                    T = E) : B > 0 && (L = Math.max(V - E, Math.min(q - E, L)),
                    u = o,
                    T = E + L);
                    break;
                case p:
                    z && (r = Math.max(H, Math.min(W, n - A * z)),
                    M = Math.max(H, Math.min(W, c + A * z))),
                    B && (u = Math.max(V, Math.min(q, o - L * B)),
                    T = Math.max(V, Math.min(q, E + L * B)))
                }
                M < r && (z *= -1,
                t = n,
                n = c,
                c = t,
                t = r,
                r = M,
                M = t,
                D in b && K.attr("cursor", y[D = b[D]])),
                T < u && (B *= -1,
                t = o,
                o = E,
                E = t,
                t = u,
                u = T,
                T = t,
                D in _ && K.attr("cursor", y[D = _[D]])),
                k.selection && (G = k.selection),
                P && (r = G[0][0],
                M = G[1][0]),
                N && (u = G[0][1],
                T = G[1][1]),
                G[0][0] === r && G[0][1] === u && G[1][0] === M && G[1][1] === T || (k.selection = [[r, u], [M, T]],
                C.call(I),
                J.brush())
            }
            function nt() {
                if (Object(f.b)(),
                a.e.touches) {
                    if (a.e.touches.length)
                        return;
                    e && clearTimeout(e),
                    e = setTimeout(function() {
                        e = null
                    }, 500),
                    Q.on("touchmove.brush touchend.brush touchcancel.brush", null)
                } else
                    Object(i.c)(a.e.view, R),
                    $.on("keydown.brush keyup.brush mousemove.brush mouseup.brush", null);
                Q.attr("pointer-events", "all"),
                K.attr("cursor", y.overlay),
                k.selection && (G = k.selection),
                O(G) && (k.selection = null,
                C.call(I)),
                J.end()
            }
        }
        function I() {
            var e = this.__brush || {
                selection: null
            };
            return e.extent = n.apply(this, arguments),
            e.dim = t,
            e
        }
        return R.move = function(e, n) {
            e.selection ? e.on("start.brush", function() {
                j(this, arguments).beforestart().start()
            }).on("interrupt.brush end.brush", function() {
                j(this, arguments).end()
            }).tween("brush", function() {
                var e = this
                  , r = e.__brush
                  , i = j(e, arguments)
                  , a = r.selection
                  , s = t.input("function" == typeof n ? n.apply(this, arguments) : n, r.extent)
                  , u = Object(o.a)(a, s);
                function c(t) {
                    r.selection = 1 === t && O(s) ? null : u(t),
                    C.call(e),
                    i.brush()
                }
                return a && s ? c : c(1)
            }) : e.each(function() {
                var e = arguments
                  , r = this.__brush
                  , i = t.input("function" == typeof n ? n.apply(this, e) : n, r.extent)
                  , o = j(this, e).beforestart();
                Object(s.b)(this),
                r.selection = null == i || O(i) ? null : i,
                C.call(this),
                o.start().brush().end()
            })
        }
        ,
        P.prototype = {
            beforestart: function() {
                return 1 == ++this.active && (this.state.emitter = this,
                this.starting = !0),
                this
            },
            start: function() {
                return this.starting && (this.starting = !1,
                this.emit("start")),
                this
            },
            brush: function() {
                return this.emit("brush"),
                this
            },
            end: function() {
                return 0 == --this.active && (delete this.state.emitter,
                this.emit("end")),
                this
            },
            emit: function(e) {
                Object(a.d)(new c.a(R,e,t.output(this.state.selection)), A.apply, A, [e, this.that, this.args])
            }
        },
        R.extent = function(t) {
            return arguments.length ? (n = "function" == typeof t ? t : Object(u.a)([[+t[0][0], +t[0][1]], [+t[1][0], +t[1][1]]]),
            R) : n
        }
        ,
        R.filter = function(t) {
            return arguments.length ? (g = "function" == typeof t ? t : Object(u.a)(!!t),
            R) : g
        }
        ,
        R.handleSize = function(t) {
            return arguments.length ? (L = +t,
            R) : L
        }
        ,
        R.on = function() {
            var t = A.on.apply(A, arguments);
            return t === A ? R : t
        }
        ,
        R
    }
    e.d = function() {
        return A(g)
    }
}
, function(t, e, n) {
    "use strict";
    var r = {
        value: function() {}
    };
    function i() {
        for (var t, e = 0, n = arguments.length, r = {}; e < n; ++e) {
            if (!(t = arguments[e] + "") || t in r)
                throw new Error("illegal type: " + t);
            r[t] = []
        }
        return new o(r)
    }
    function o(t) {
        this._ = t
    }
    function a(t, e) {
        for (var n, r = 0, i = t.length; r < i; ++r)
            if ((n = t[r]).name === e)
                return n.value
    }
    function s(t, e, n) {
        for (var i = 0, o = t.length; i < o; ++i)
            if (t[i].name === e) {
                t[i] = r,
                t = t.slice(0, i).concat(t.slice(i + 1));
                break
            }
        return null != n && t.push({
            name: e,
            value: n
        }),
        t
    }
    o.prototype = i.prototype = {
        constructor: o,
        on: function(t, e) {
            var n, r, i = this._, o = (r = i,
            (t + "").trim().split(/^|\s+/).map(function(t) {
                var e = ""
                  , n = t.indexOf(".");
                if (n >= 0 && (e = t.slice(n + 1),
                t = t.slice(0, n)),
                t && !r.hasOwnProperty(t))
                    throw new Error("unknown type: " + t);
                return {
                    type: t,
                    name: e
                }
            })), u = -1, c = o.length;
            if (!(arguments.length < 2)) {
                if (null != e && "function" != typeof e)
                    throw new Error("invalid callback: " + e);
                for (; ++u < c; )
                    if (n = (t = o[u]).type)
                        i[n] = s(i[n], t.name, e);
                    else if (null == e)
                        for (n in i)
                            i[n] = s(i[n], t.name, null);
                return this
            }
            for (; ++u < c; )
                if ((n = (t = o[u]).type) && (n = a(i[n], t.name)))
                    return n
        },
        copy: function() {
            var t = {}
              , e = this._;
            for (var n in e)
                t[n] = e[n].slice();
            return new o(t)
        },
        call: function(t, e) {
            if ((n = arguments.length - 2) > 0)
                for (var n, r, i = new Array(n), o = 0; o < n; ++o)
                    i[o] = arguments[o + 2];
            if (!this._.hasOwnProperty(t))
                throw new Error("unknown type: " + t);
            for (o = 0,
            n = (r = this._[t]).length; o < n; ++o)
                r[o].value.apply(e, i)
        },
        apply: function(t, e, n) {
            if (!this._.hasOwnProperty(t))
                throw new Error("unknown type: " + t);
            for (var r = this._[t], i = 0, o = r.length; i < o; ++i)
                r[i].value.apply(e, n)
        }
    },
    e.a = i
}
, function(t, e, n) {
    "use strict";
    var r = n(22)
      , i = n(4)
      , o = n(112)
      , a = n(113)
      , s = n(249)
      , u = n(250);
    function c() {
        return !i.e.button
    }
    function f() {
        return this.parentNode
    }
    function l(t) {
        return null == t ? {
            x: i.e.x,
            y: i.e.y
        } : t
    }
    function h() {
        return "ontouchstart"in this
    }
    e.a = function() {
        var t, e, n, d, p = c, m = f, v = l, g = h, y = {}, b = Object(r.a)("start", "drag", "end"), _ = 0, x = 0;
        function w(t) {
            t.on("mousedown.drag", M).filter(g).on("touchstart.drag", S).on("touchmove.drag", O).on("touchend.drag touchcancel.drag", A).style("touch-action", "none").style("-webkit-tap-highlight-color", "rgba(0,0,0,0)")
        }
        function M() {
            if (!d && p.apply(this, arguments)) {
                var r = L("mouse", m.apply(this, arguments), i.h, this, arguments);
                r && (Object(i.k)(i.e.view).on("mousemove.drag", E, !0).on("mouseup.drag", T, !0),
                Object(o.a)(i.e.view),
                Object(a.b)(),
                n = !1,
                t = i.e.clientX,
                e = i.e.clientY,
                r("start"))
            }
        }
        function E() {
            if (Object(a.a)(),
            !n) {
                var r = i.e.clientX - t
                  , o = i.e.clientY - e;
                n = r * r + o * o > x
            }
            y.mouse("drag")
        }
        function T() {
            Object(i.k)(i.e.view).on("mousemove.drag mouseup.drag", null),
            Object(o.b)(i.e.view, n),
            Object(a.a)(),
            y.mouse("end")
        }
        function S() {
            if (p.apply(this, arguments)) {
                var t, e, n = i.e.changedTouches, r = m.apply(this, arguments), o = n.length;
                for (t = 0; t < o; ++t)
                    (e = L(n[t].identifier, r, i.q, this, arguments)) && (Object(a.b)(),
                    e("start"))
            }
        }
        function O() {
            var t, e, n = i.e.changedTouches, r = n.length;
            for (t = 0; t < r; ++t)
                (e = y[n[t].identifier]) && (Object(a.a)(),
                e("drag"))
        }
        function A() {
            var t, e, n = i.e.changedTouches, r = n.length;
            for (d && clearTimeout(d),
            d = setTimeout(function() {
                d = null
            }, 500),
            t = 0; t < r; ++t)
                (e = y[n[t].identifier]) && (Object(a.b)(),
                e("end"))
        }
        function L(t, e, n, r, o) {
            var a, s, c, f = n(e, t), l = b.copy();
            if (Object(i.d)(new u.a(w,"beforestart",a,t,_,f[0],f[1],0,0,l), function() {
                return null != (i.e.subject = a = v.apply(r, o)) && (s = a.x - f[0] || 0,
                c = a.y - f[1] || 0,
                !0)
            }))
                return function h(d) {
                    var p, m = f;
                    switch (d) {
                    case "start":
                        y[t] = h,
                        p = _++;
                        break;
                    case "end":
                        delete y[t],
                        --_;
                    case "drag":
                        f = n(e, t),
                        p = _
                    }
                    Object(i.d)(new u.a(w,d,a,t,p,f[0] + s,f[1] + c,f[0] - m[0],f[1] - m[1],l), l.apply, l, [d, r, o])
                }
        }
        return w.filter = function(t) {
            return arguments.length ? (p = "function" == typeof t ? t : Object(s.a)(!!t),
            w) : p
        }
        ,
        w.container = function(t) {
            return arguments.length ? (m = "function" == typeof t ? t : Object(s.a)(t),
            w) : m
        }
        ,
        w.subject = function(t) {
            return arguments.length ? (v = "function" == typeof t ? t : Object(s.a)(t),
            w) : v
        }
        ,
        w.touchable = function(t) {
            return arguments.length ? (g = "function" == typeof t ? t : Object(s.a)(!!t),
            w) : g
        }
        ,
        w.on = function() {
            var t = b.on.apply(b, arguments);
            return t === b ? w : t
        }
        ,
        w.clickDistance = function(t) {
            return arguments.length ? (x = (t = +t) * t,
            w) : Math.sqrt(x)
        }
        ,
        w
    }
}
, function(t, e, n) {
    "use strict";
    var r = n(35)
      , i = n(106);
    e.a = function(t) {
        return Object(i.a)(Object(r.a)(t).call(document.documentElement))
    }
}
, function(t, e, n) {
    "use strict";
    var r = n(8)
      , i = n(56);
    e.a = function(t) {
        "function" != typeof t && (t = Object(i.a)(t));
        for (var e = this._groups, n = e.length, o = new Array(n), a = 0; a < n; ++a)
            for (var s, u, c = e[a], f = c.length, l = o[a] = new Array(f), h = 0; h < f; ++h)
                (s = c[h]) && (u = t.call(s, s.__data__, h, c)) && ("__data__"in s && (u.__data__ = s.__data__),
                l[h] = u);
        return new r.a(o,this._parents)
    }
}
, function(t, e, n) {
    "use strict";
    var r = n(8)
      , i = n(107);
    e.a = function(t) {
        "function" != typeof t && (t = Object(i.a)(t));
        for (var e = this._groups, n = e.length, o = [], a = [], s = 0; s < n; ++s)
            for (var u, c = e[s], f = c.length, l = 0; l < f; ++l)
                (u = c[l]) && (o.push(t.call(u, u.__data__, l, c)),
                a.push(u));
        return new r.a(o,a)
    }
}
, function(t, e, n) {
    "use strict";
    var r = n(8)
      , i = n(108);
    e.a = function(t) {
        "function" != typeof t && (t = Object(i.a)(t));
        for (var e = this._groups, n = e.length, o = new Array(n), a = 0; a < n; ++a)
            for (var s, u = e[a], c = u.length, f = o[a] = [], l = 0; l < c; ++l)
                (s = u[l]) && t.call(s, s.__data__, l, u) && f.push(s);
        return new r.a(o,this._parents)
    }
}
, function(t, e, n) {
    "use strict";
    var r = n(8)
      , i = n(109)
      , o = n(219)
      , a = "$";
    function s(t, e, n, r, o, a) {
        for (var s, u = 0, c = e.length, f = a.length; u < f; ++u)
            (s = e[u]) ? (s.__data__ = a[u],
            r[u] = s) : n[u] = new i.a(t,a[u]);
        for (; u < c; ++u)
            (s = e[u]) && (o[u] = s)
    }
    function u(t, e, n, r, o, s, u) {
        var c, f, l, h = {}, d = e.length, p = s.length, m = new Array(d);
        for (c = 0; c < d; ++c)
            (f = e[c]) && (m[c] = l = a + u.call(f, f.__data__, c, e),
            l in h ? o[c] = f : h[l] = f);
        for (c = 0; c < p; ++c)
            (f = h[l = a + u.call(t, s[c], c, s)]) ? (r[c] = f,
            f.__data__ = s[c],
            h[l] = null) : n[c] = new i.a(t,s[c]);
        for (c = 0; c < d; ++c)
            (f = e[c]) && h[m[c]] === f && (o[c] = f)
    }
    e.a = function(t, e) {
        if (!t)
            return g = new Array(this.size()),
            d = -1,
            this.each(function(t) {
                g[++d] = t
            }),
            g;
        var n = e ? u : s
          , i = this._parents
          , a = this._groups;
        "function" != typeof t && (t = Object(o.a)(t));
        for (var c = a.length, f = new Array(c), l = new Array(c), h = new Array(c), d = 0; d < c; ++d) {
            var p = i[d]
              , m = a[d]
              , v = m.length
              , g = t.call(p, p && p.__data__, d, i)
              , y = g.length
              , b = l[d] = new Array(y)
              , _ = f[d] = new Array(y);
            n(p, m, b, _, h[d] = new Array(v), g, e);
            for (var x, w, M = 0, E = 0; M < y; ++M)
                if (x = b[M]) {
                    for (M >= E && (E = M + 1); !(w = _[E]) && ++E < y; )
                        ;
                    x._next = w || null
                }
        }
        return (f = new r.a(f,i))._enter = l,
        f._exit = h,
        f
    }
}
, function(t, e, n) {
    "use strict";
    e.a = function(t) {
        return function() {
            return t
        }
    }
}
, function(t, e, n) {
    "use strict";
    var r = n(110)
      , i = n(8);
    e.a = function() {
        return new i.a(this._exit || this._groups.map(r.a),this._parents)
    }
}
, function(t, e, n) {
    "use strict";
    e.a = function(t, e, n) {
        var r = this.enter()
          , i = this
          , o = this.exit();
        return r = "function" == typeof t ? t(r) : r.append(t + ""),
        null != e && (i = e(i)),
        null == n ? o.remove() : n(o),
        r && i ? r.merge(i).order() : i
    }
}
, function(t, e, n) {
    "use strict";
    var r = n(8);
    e.a = function(t) {
        for (var e = this._groups, n = t._groups, i = e.length, o = n.length, a = Math.min(i, o), s = new Array(i), u = 0; u < a; ++u)
            for (var c, f = e[u], l = n[u], h = f.length, d = s[u] = new Array(h), p = 0; p < h; ++p)
                (c = f[p] || l[p]) && (d[p] = c);
        for (; u < i; ++u)
            s[u] = e[u];
        return new r.a(s,this._parents)
    }
}
, function(t, e, n) {
    "use strict";
    e.a = function() {
        for (var t = this._groups, e = -1, n = t.length; ++e < n; )
            for (var r, i = t[e], o = i.length - 1, a = i[o]; --o >= 0; )
                (r = i[o]) && (a && 4 ^ r.compareDocumentPosition(a) && a.parentNode.insertBefore(r, a),
                a = r);
        return this
    }
}
, function(t, e, n) {
    "use strict";
    var r = n(8);
    function i(t, e) {
        return t < e ? -1 : t > e ? 1 : t >= e ? 0 : NaN
    }
    e.a = function(t) {
        function e(e, n) {
            return e && n ? t(e.__data__, n.__data__) : !e - !n
        }
        t || (t = i);
        for (var n = this._groups, o = n.length, a = new Array(o), s = 0; s < o; ++s) {
            for (var u, c = n[s], f = c.length, l = a[s] = new Array(f), h = 0; h < f; ++h)
                (u = c[h]) && (l[h] = u);
            l.sort(e)
        }
        return new r.a(a,this._parents).order()
    }
}
, function(t, e, n) {
    "use strict";
    e.a = function() {
        var t = arguments[0];
        return arguments[0] = this,
        t.apply(null, arguments),
        this
    }
}
, function(t, e, n) {
    "use strict";
    e.a = function() {
        var t = new Array(this.size())
          , e = -1;
        return this.each(function() {
            t[++e] = this
        }),
        t
    }
}
, function(t, e, n) {
    "use strict";
    e.a = function() {
        for (var t = this._groups, e = 0, n = t.length; e < n; ++e)
            for (var r = t[e], i = 0, o = r.length; i < o; ++i) {
                var a = r[i];
                if (a)
                    return a
            }
        return null
    }
}
, function(t, e, n) {
    "use strict";
    e.a = function() {
        var t = 0;
        return this.each(function() {
            ++t
        }),
        t
    }
}
, function(t, e, n) {
    "use strict";
    e.a = function() {
        return !this.node()
    }
}
, function(t, e, n) {
    "use strict";
    e.a = function(t) {
        for (var e = this._groups, n = 0, r = e.length; n < r; ++n)
            for (var i, o = e[n], a = 0, s = o.length; a < s; ++a)
                (i = o[a]) && t.call(i, i.__data__, a, o);
        return this
    }
}
, function(t, e, n) {
    "use strict";
    var r = n(54);
    e.a = function(t, e) {
        var n = Object(r.a)(t);
        if (arguments.length < 2) {
            var i = this.node();
            return n.local ? i.getAttributeNS(n.space, n.local) : i.getAttribute(n)
        }
        return this.each((null == e ? n.local ? function(t) {
            return function() {
                this.removeAttributeNS(t.space, t.local)
            }
        }
        : function(t) {
            return function() {
                this.removeAttribute(t)
            }
        }
        : "function" == typeof e ? n.local ? function(t, e) {
            return function() {
                var n = e.apply(this, arguments);
                null == n ? this.removeAttributeNS(t.space, t.local) : this.setAttributeNS(t.space, t.local, n)
            }
        }
        : function(t, e) {
            return function() {
                var n = e.apply(this, arguments);
                null == n ? this.removeAttribute(t) : this.setAttribute(t, n)
            }
        }
        : n.local ? function(t, e) {
            return function() {
                this.setAttributeNS(t.space, t.local, e)
            }
        }
        : function(t, e) {
            return function() {
                this.setAttribute(t, e)
            }
        }
        )(n, e))
    }
}
, function(t, e, n) {
    "use strict";
    e.a = function(t, e) {
        return arguments.length > 1 ? this.each((null == e ? function(t) {
            return function() {
                delete this[t]
            }
        }
        : "function" == typeof e ? function(t, e) {
            return function() {
                var n = e.apply(this, arguments);
                null == n ? delete this[t] : this[t] = n
            }
        }
        : function(t, e) {
            return function() {
                this[t] = e
            }
        }
        )(t, e)) : this.node()[t]
    }
}
, function(t, e, n) {
    "use strict";
    function r(t) {
        return t.trim().split(/^|\s+/)
    }
    function i(t) {
        return t.classList || new o(t)
    }
    function o(t) {
        this._node = t,
        this._names = r(t.getAttribute("class") || "")
    }
    function a(t, e) {
        for (var n = i(t), r = -1, o = e.length; ++r < o; )
            n.add(e[r])
    }
    function s(t, e) {
        for (var n = i(t), r = -1, o = e.length; ++r < o; )
            n.remove(e[r])
    }
    o.prototype = {
        add: function(t) {
            this._names.indexOf(t) < 0 && (this._names.push(t),
            this._node.setAttribute("class", this._names.join(" ")))
        },
        remove: function(t) {
            var e = this._names.indexOf(t);
            e >= 0 && (this._names.splice(e, 1),
            this._node.setAttribute("class", this._names.join(" ")))
        },
        contains: function(t) {
            return this._names.indexOf(t) >= 0
        }
    },
    e.a = function(t, e) {
        var n = r(t + "");
        if (arguments.length < 2) {
            for (var o = i(this.node()), u = -1, c = n.length; ++u < c; )
                if (!o.contains(n[u]))
                    return !1;
            return !0
        }
        return this.each(("function" == typeof e ? function(t, e) {
            return function() {
                (e.apply(this, arguments) ? a : s)(this, t)
            }
        }
        : e ? function(t) {
            return function() {
                a(this, t)
            }
        }
        : function(t) {
            return function() {
                s(this, t)
            }
        }
        )(n, e))
    }
}
, function(t, e, n) {
    "use strict";
    function r() {
        this.textContent = ""
    }
    e.a = function(t) {
        return arguments.length ? this.each(null == t ? r : ("function" == typeof t ? function(t) {
            return function() {
                var e = t.apply(this, arguments);
                this.textContent = null == e ? "" : e
            }
        }
        : function(t) {
            return function() {
                this.textContent = t
            }
        }
        )(t)) : this.node().textContent
    }
}
, function(t, e, n) {
    "use strict";
    function r() {
        this.innerHTML = ""
    }
    e.a = function(t) {
        return arguments.length ? this.each(null == t ? r : ("function" == typeof t ? function(t) {
            return function() {
                var e = t.apply(this, arguments);
                this.innerHTML = null == e ? "" : e
            }
        }
        : function(t) {
            return function() {
                this.innerHTML = t
            }
        }
        )(t)) : this.node().innerHTML
    }
}
, function(t, e, n) {
    "use strict";
    function r() {
        this.nextSibling && this.parentNode.appendChild(this)
    }
    e.a = function() {
        return this.each(r)
    }
}
, function(t, e, n) {
    "use strict";
    function r() {
        this.previousSibling && this.parentNode.insertBefore(this, this.parentNode.firstChild)
    }
    e.a = function() {
        return this.each(r)
    }
}
, function(t, e, n) {
    "use strict";
    var r = n(35);
    e.a = function(t) {
        var e = "function" == typeof t ? t : Object(r.a)(t);
        return this.select(function() {
            return this.appendChild(e.apply(this, arguments))
        })
    }
}
, function(t, e, n) {
    "use strict";
    var r = n(35)
      , i = n(56);
    function o() {
        return null
    }
    e.a = function(t, e) {
        var n = "function" == typeof t ? t : Object(r.a)(t)
          , a = null == e ? o : "function" == typeof e ? e : Object(i.a)(e);
        return this.select(function() {
            return this.insertBefore(n.apply(this, arguments), a.apply(this, arguments) || null)
        })
    }
}
, function(t, e, n) {
    "use strict";
    function r() {
        var t = this.parentNode;
        t && t.removeChild(this)
    }
    e.a = function() {
        return this.each(r)
    }
}
, function(t, e, n) {
    "use strict";
    function r() {
        return this.parentNode.insertBefore(this.cloneNode(!1), this.nextSibling)
    }
    function i() {
        return this.parentNode.insertBefore(this.cloneNode(!0), this.nextSibling)
    }
    e.a = function(t) {
        return this.select(t ? i : r)
    }
}
, function(t, e, n) {
    "use strict";
    e.a = function(t) {
        return arguments.length ? this.property("__data__", t) : this.node().__data__
    }
}
, function(t, e, n) {
    "use strict";
    var r = n(57);
    function i(t, e, n) {
        var i = Object(r.a)(t)
          , o = i.CustomEvent;
        "function" == typeof o ? o = new o(e,n) : (o = i.document.createEvent("Event"),
        n ? (o.initEvent(e, n.bubbles, n.cancelable),
        o.detail = n.detail) : o.initEvent(e, !1, !1)),
        t.dispatchEvent(o)
    }
    e.a = function(t, e) {
        return this.each(("function" == typeof e ? function(t, e) {
            return function() {
                return i(this, t, e.apply(this, arguments))
            }
        }
        : function(t, e) {
            return function() {
                return i(this, t, e)
            }
        }
        )(t, e))
    }
}
, function(t, e, n) {
    "use strict";
    e.a = i;
    var r = 0;
    function i() {
        return new o
    }
    function o() {
        this._ = "@" + (++r).toString(36)
    }
    o.prototype = i.prototype = {
        constructor: o,
        get: function(t) {
            for (var e = this._; !(e in t); )
                if (!(t = t.parentNode))
                    return;
            return t[e]
        },
        set: function(t, e) {
            return t[this._] = e
        },
        remove: function(t) {
            return this._ in t && delete t[this._]
        },
        toString: function() {
            return this._
        }
    }
}
, function(t, e, n) {
    "use strict";
    var r = n(59)
      , i = n(36);
    e.a = function(t) {
        var e = Object(r.a)();
        return e.changedTouches && (e = e.changedTouches[0]),
        Object(i.a)(t, e)
    }
}
, function(t, e, n) {
    "use strict";
    var r = n(8);
    e.a = function(t) {
        return "string" == typeof t ? new r.a([document.querySelectorAll(t)],[document.documentElement]) : new r.a([null == t ? [] : t],r.c)
    }
}
, function(t, e, n) {
    "use strict";
    var r = n(59)
      , i = n(36);
    e.a = function(t, e, n) {
        arguments.length < 3 && (n = e,
        e = Object(r.a)().changedTouches);
        for (var o, a = 0, s = e ? e.length : 0; a < s; ++a)
            if ((o = e[a]).identifier === n)
                return Object(i.a)(t, o);
        return null
    }
}
, function(t, e, n) {
    "use strict";
    var r = n(59)
      , i = n(36);
    e.a = function(t, e) {
        null == e && (e = Object(r.a)().touches);
        for (var n = 0, o = e ? e.length : 0, a = new Array(o); n < o; ++n)
            a[n] = Object(i.a)(t, e[n]);
        return a
    }
}
, function(t, e, n) {
    "use strict";
    e.a = function(t) {
        return function() {
            return t
        }
    }
}
, function(t, e, n) {
    "use strict";
    function r(t, e, n, r, i, o, a, s, u, c) {
        this.target = t,
        this.type = e,
        this.subject = n,
        this.identifier = r,
        this.active = i,
        this.x = o,
        this.y = a,
        this.dx = s,
        this.dy = u,
        this._ = c
    }
    e.a = r,
    r.prototype.on = function() {
        var t = this._.on.apply(this._, arguments);
        return t === this._ ? this : t
    }
}
, function(t, e, n) {
    "use strict";
    e.b = function(t, e) {
        return new m(t,0,0,null == e ? 1 : e)
    }
    ,
    e.a = p,
    e.d = function(t, e, n, r) {
        return 1 === arguments.length ? _(t) : new w(n,e,t,null == r ? 1 : r)
    }
    ,
    e.c = x;
    var r = n(62)
      , i = n(61)
      , o = n(114)
      , a = .96422
      , s = 1
      , u = .82521
      , c = 4 / 29
      , f = 6 / 29
      , l = 3 * f * f
      , h = f * f * f;
    function d(t) {
        if (t instanceof m)
            return new m(t.l,t.a,t.b,t.opacity);
        if (t instanceof w) {
            if (isNaN(t.h))
                return new m(t.l,0,0,t.opacity);
            var e = t.h * o.a;
            return new m(t.l,Math.cos(e) * t.c,Math.sin(e) * t.c,t.opacity)
        }
        t instanceof i.b || (t = Object(i.h)(t));
        var n, r, c = b(t.r), f = b(t.g), l = b(t.b), h = v((.2225045 * c + .7168786 * f + .0606169 * l) / s);
        return c === f && f === l ? n = r = h : (n = v((.4360747 * c + .3850649 * f + .1430804 * l) / a),
        r = v((.0139322 * c + .0971045 * f + .7141733 * l) / u)),
        new m(116 * h - 16,500 * (n - h),200 * (h - r),t.opacity)
    }
    function p(t, e, n, r) {
        return 1 === arguments.length ? d(t) : new m(t,e,n,null == r ? 1 : r)
    }
    function m(t, e, n, r) {
        this.l = +t,
        this.a = +e,
        this.b = +n,
        this.opacity = +r
    }
    function v(t) {
        return t > h ? Math.pow(t, 1 / 3) : t / l + c
    }
    function g(t) {
        return t > f ? t * t * t : l * (t - c)
    }
    function y(t) {
        return 255 * (t <= .0031308 ? 12.92 * t : 1.055 * Math.pow(t, 1 / 2.4) - .055)
    }
    function b(t) {
        return (t /= 255) <= .04045 ? t / 12.92 : Math.pow((t + .055) / 1.055, 2.4)
    }
    function _(t) {
        if (t instanceof w)
            return new w(t.h,t.c,t.l,t.opacity);
        if (t instanceof m || (t = d(t)),
        0 === t.a && 0 === t.b)
            return new w(NaN,0,t.l,t.opacity);
        var e = Math.atan2(t.b, t.a) * o.b;
        return new w(e < 0 ? e + 360 : e,Math.sqrt(t.a * t.a + t.b * t.b),t.l,t.opacity)
    }
    function x(t, e, n, r) {
        return 1 === arguments.length ? _(t) : new w(t,e,n,null == r ? 1 : r)
    }
    function w(t, e, n, r) {
        this.h = +t,
        this.c = +e,
        this.l = +n,
        this.opacity = +r
    }
    Object(r.a)(m, p, Object(r.b)(i.a, {
        brighter: function(t) {
            return new m(this.l + 18 * (null == t ? 1 : t),this.a,this.b,this.opacity)
        },
        darker: function(t) {
            return new m(this.l - 18 * (null == t ? 1 : t),this.a,this.b,this.opacity)
        },
        rgb: function() {
            var t = (this.l + 16) / 116
              , e = isNaN(this.a) ? t : t + this.a / 500
              , n = isNaN(this.b) ? t : t - this.b / 200;
            return e = a * g(e),
            t = s * g(t),
            n = u * g(n),
            new i.b(y(3.1338561 * e - 1.6168667 * t - .4906146 * n),y(-.9787684 * e + 1.9161415 * t + .033454 * n),y(.0719453 * e - .2289914 * t + 1.4052427 * n),this.opacity)
        }
    })),
    Object(r.a)(w, x, Object(r.b)(i.a, {
        brighter: function(t) {
            return new w(this.h,this.c,this.l + 18 * (null == t ? 1 : t),this.opacity)
        },
        darker: function(t) {
            return new w(this.h,this.c,this.l - 18 * (null == t ? 1 : t),this.opacity)
        },
        rgb: function() {
            return d(this).rgb()
        }
    }))
}
, function(t, e, n) {
    "use strict";
    e.a = p;
    var r = n(62)
      , i = n(61)
      , o = n(114)
      , a = -.14861
      , s = 1.78277
      , u = -.29227
      , c = -.90649
      , f = 1.97294
      , l = f * c
      , h = f * s
      , d = s * u - c * a;
    function p(t, e, n, r) {
        return 1 === arguments.length ? function(t) {
            if (t instanceof m)
                return new m(t.h,t.s,t.l,t.opacity);
            t instanceof i.b || (t = Object(i.h)(t));
            var e = t.r / 255
              , n = t.g / 255
              , r = t.b / 255
              , a = (d * r + l * e - h * n) / (d + l - h)
              , s = r - a
              , p = (f * (n - a) - u * s) / c
              , v = Math.sqrt(p * p + s * s) / (f * a * (1 - a))
              , g = v ? Math.atan2(p, s) * o.b - 120 : NaN;
            return new m(g < 0 ? g + 360 : g,v,a,t.opacity)
        }(t) : new m(t,e,n,null == r ? 1 : r)
    }
    function m(t, e, n, r) {
        this.h = +t,
        this.s = +e,
        this.l = +n,
        this.opacity = +r
    }
    Object(r.a)(m, p, Object(r.b)(i.a, {
        brighter: function(t) {
            return t = null == t ? i.c : Math.pow(i.c, t),
            new m(this.h,this.s,this.l * t,this.opacity)
        },
        darker: function(t) {
            return t = null == t ? i.d : Math.pow(i.d, t),
            new m(this.h,this.s,this.l * t,this.opacity)
        },
        rgb: function() {
            var t = isNaN(this.h) ? 0 : (this.h + 120) * o.a
              , e = +this.l
              , n = isNaN(this.s) ? 0 : this.s * e * (1 - e)
              , r = Math.cos(t)
              , l = Math.sin(t);
            return new i.b(255 * (e + n * (a * r + s * l)),255 * (e + n * (u * r + c * l)),255 * (e + n * (f * r)),this.opacity)
        }
    }))
}
, function(t, e, n) {
    "use strict";
    e.a = function(t) {
        var e = t.length;
        return function(n) {
            return t[Math.max(0, Math.min(e - 1, Math.floor(n * e)))]
        }
    }
}
, function(t, e, n) {
    "use strict";
    var r = n(23);
    e.a = function(t, e) {
        var n = Object(r.c)(+t, +e);
        return function(t) {
            var e = n(t);
            return e - 360 * Math.floor(e / 360)
        }
    }
}
, function(t, e, n) {
    "use strict";
    e.a = function(t, e) {
        return e -= t = +t,
        function(n) {
            return Math.round(t + e * n)
        }
    }
}
, function(t, e, n) {
    "use strict";
    n.d(e, "a", function() {
        return a
    }),
    n.d(e, "b", function() {
        return s
    });
    var r = n(37)
      , i = n(257);
    function o(t, e, n, i) {
        function o(t) {
            return t.length ? t.pop() + " " : ""
        }
        return function(a, s) {
            var u = []
              , c = [];
            return a = t(a),
            s = t(s),
            function(t, i, o, a, s, u) {
                if (t !== o || i !== a) {
                    var c = s.push("translate(", null, e, null, n);
                    u.push({
                        i: c - 4,
                        x: Object(r.a)(t, o)
                    }, {
                        i: c - 2,
                        x: Object(r.a)(i, a)
                    })
                } else
                    (o || a) && s.push("translate(" + o + e + a + n)
            }(a.translateX, a.translateY, s.translateX, s.translateY, u, c),
            function(t, e, n, a) {
                t !== e ? (t - e > 180 ? e += 360 : e - t > 180 && (t += 360),
                a.push({
                    i: n.push(o(n) + "rotate(", null, i) - 2,
                    x: Object(r.a)(t, e)
                })) : e && n.push(o(n) + "rotate(" + e + i)
            }(a.rotate, s.rotate, u, c),
            function(t, e, n, a) {
                t !== e ? a.push({
                    i: n.push(o(n) + "skewX(", null, i) - 2,
                    x: Object(r.a)(t, e)
                }) : e && n.push(o(n) + "skewX(" + e + i)
            }(a.skewX, s.skewX, u, c),
            function(t, e, n, i, a, s) {
                if (t !== n || e !== i) {
                    var u = a.push(o(a) + "scale(", null, ",", null, ")");
                    s.push({
                        i: u - 4,
                        x: Object(r.a)(t, n)
                    }, {
                        i: u - 2,
                        x: Object(r.a)(e, i)
                    })
                } else
                    1 === n && 1 === i || a.push(o(a) + "scale(" + n + "," + i + ")")
            }(a.scaleX, a.scaleY, s.scaleX, s.scaleY, u, c),
            a = s = null,
            function(t) {
                for (var e, n = -1, r = c.length; ++n < r; )
                    u[(e = c[n]).i] = e.x(t);
                return u.join("")
            }
        }
    }
    var a = o(i.a, "px, ", "px)", "deg)")
      , s = o(i.b, ", ", ")", ")")
}
, function(t, e, n) {
    "use strict";
    e.a = function(t) {
        if ("none" === t)
            return s.b;
        r || (r = document.createElement("DIV"),
        i = document.documentElement,
        o = document.defaultView);
        return r.style.transform = t,
        t = o.getComputedStyle(i.appendChild(r), null).getPropertyValue("transform"),
        i.removeChild(r),
        t = t.slice(7, -1).split(","),
        Object(s.a)(+t[0], +t[1], +t[2], +t[3], +t[4], +t[5])
    }
    ,
    e.b = function(t) {
        if (null == t)
            return s.b;
        a || (a = document.createElementNS("http://www.w3.org/2000/svg", "g"));
        return a.setAttribute("transform", t),
        (t = a.transform.baseVal.consolidate()) ? (t = t.matrix,
        Object(s.a)(t.a, t.b, t.c, t.d, t.e, t.f)) : s.b
    }
    ;
    var r, i, o, a, s = n(258)
}
, function(t, e, n) {
    "use strict";
    n.d(e, "b", function() {
        return i
    });
    var r = 180 / Math.PI
      , i = {
        translateX: 0,
        translateY: 0,
        rotate: 0,
        skewX: 0,
        scaleX: 1,
        scaleY: 1
    };
    e.a = function(t, e, n, i, o, a) {
        var s, u, c;
        return (s = Math.sqrt(t * t + e * e)) && (t /= s,
        e /= s),
        (c = t * n + e * i) && (n -= t * c,
        i -= e * c),
        (u = Math.sqrt(n * n + i * i)) && (n /= u,
        i /= u,
        c /= u),
        t * i < e * n && (t = -t,
        e = -e,
        c = -c,
        s = -s),
        {
            translateX: o,
            translateY: a,
            rotate: Math.atan2(e, t) * r,
            skewX: Math.atan(c) * r,
            scaleX: s,
            scaleY: u
        }
    }
}
, function(t, e, n) {
    "use strict";
    var r = Math.SQRT2;
    function i(t) {
        return ((t = Math.exp(t)) + 1 / t) / 2
    }
    e.a = function(t, e) {
        var n, o, a = t[0], s = t[1], u = t[2], c = e[0], f = e[1], l = e[2], h = c - a, d = f - s, p = h * h + d * d;
        if (p < 1e-12)
            o = Math.log(l / u) / r,
            n = function(t) {
                return [a + t * h, s + t * d, u * Math.exp(r * t * o)]
            }
            ;
        else {
            var m = Math.sqrt(p)
              , v = (l * l - u * u + 4 * p) / (2 * u * 2 * m)
              , g = (l * l - u * u - 4 * p) / (2 * l * 2 * m)
              , y = Math.log(Math.sqrt(v * v + 1) - v)
              , b = Math.log(Math.sqrt(g * g + 1) - g);
            o = (b - y) / r,
            n = function(t) {
                var e, n = t * o, c = i(y), f = u / (2 * m) * (c * (e = r * n + y,
                ((e = Math.exp(2 * e)) - 1) / (e + 1)) - function(t) {
                    return ((t = Math.exp(t)) - 1 / t) / 2
                }(y));
                return [a + f * h, s + f * d, u * c / i(r * n + y)]
            }
        }
        return n.duration = 1e3 * o,
        n
    }
}
, function(t, e, n) {
    "use strict";
    n.d(e, "b", function() {
        return a
    });
    var r = n(9)
      , i = n(23);
    function o(t) {
        return function(e, n) {
            var o = t((e = Object(r.e)(e)).h, (n = Object(r.e)(n)).h)
              , a = Object(i.a)(e.s, n.s)
              , s = Object(i.a)(e.l, n.l)
              , u = Object(i.a)(e.opacity, n.opacity);
            return function(t) {
                return e.h = o(t),
                e.s = a(t),
                e.l = s(t),
                e.opacity = u(t),
                e + ""
            }
        }
    }
    e.a = o(i.c);
    var a = o(i.a)
}
, function(t, e, n) {
    "use strict";
    e.a = function(t, e) {
        var n = Object(i.a)((t = Object(r.f)(t)).l, (e = Object(r.f)(e)).l)
          , o = Object(i.a)(t.a, e.a)
          , a = Object(i.a)(t.b, e.b)
          , s = Object(i.a)(t.opacity, e.opacity);
        return function(e) {
            return t.l = n(e),
            t.a = o(e),
            t.b = a(e),
            t.opacity = s(e),
            t + ""
        }
    }
    ;
    var r = n(9)
      , i = n(23)
}
, function(t, e, n) {
    "use strict";
    n.d(e, "b", function() {
        return a
    });
    var r = n(9)
      , i = n(23);
    function o(t) {
        return function(e, n) {
            var o = t((e = Object(r.d)(e)).h, (n = Object(r.d)(n)).h)
              , a = Object(i.a)(e.c, n.c)
              , s = Object(i.a)(e.l, n.l)
              , u = Object(i.a)(e.opacity, n.opacity);
            return function(t) {
                return e.h = o(t),
                e.c = a(t),
                e.l = s(t),
                e.opacity = u(t),
                e + ""
            }
        }
    }
    e.a = o(i.c);
    var a = o(i.a)
}
, function(t, e, n) {
    "use strict";
    n.d(e, "a", function() {
        return a
    });
    var r = n(9)
      , i = n(23);
    function o(t) {
        return function e(n) {
            function o(e, o) {
                var a = t((e = Object(r.b)(e)).h, (o = Object(r.b)(o)).h)
                  , s = Object(i.a)(e.s, o.s)
                  , u = Object(i.a)(e.l, o.l)
                  , c = Object(i.a)(e.opacity, o.opacity);
                return function(t) {
                    return e.h = a(t),
                    e.s = s(t),
                    e.l = u(Math.pow(t, n)),
                    e.opacity = c(t),
                    e + ""
                }
            }
            return n = +n,
            o.gamma = e,
            o
        }(1)
    }
    e.b = o(i.c);
    var a = o(i.a)
}
, function(t, e, n) {
    "use strict";
    e.a = function(t, e) {
        var n = 0
          , r = e.length - 1
          , i = e[0]
          , o = new Array(r < 0 ? 0 : r);
        for (; n < r; )
            o[n] = t(i, i = e[++n]);
        return function(t) {
            var e = Math.max(0, Math.min(r - 1, Math.floor(t *= r)));
            return o[e](t - e)
        }
    }
}
, function(t, e, n) {
    "use strict";
    e.a = function(t, e) {
        for (var n = new Array(e), r = 0; r < e; ++r)
            n[r] = t(r / (e - 1));
        return n
    }
}
, function(t, e, n) {
    "use strict";
    var r = n(4)
      , i = n(267)
      , o = n(270);
    r.m.prototype.interrupt = i.a,
    r.m.prototype.transition = o.a
}
, function(t, e, n) {
    "use strict";
    var r = n(122);
    e.a = function(t) {
        return this.each(function() {
            Object(r.a)(this, t)
        })
    }
}
, function(t, e, n) {
    "use strict";
    var r = n(65);
    e.a = function(t, e, n) {
        var i = new r.a;
        return e = null == e ? 0 : +e,
        i.restart(function(n) {
            i.stop(),
            t(n + e)
        }, e, n),
        i
    }
}
, function(t, e, n) {
    "use strict";
    var r = n(65);
    e.a = function(t, e, n) {
        var i = new r.a
          , o = e;
        return null == e ? (i.restart(t, e, n),
        i) : (e = +e,
        n = null == n ? Object(r.b)() : +n,
        i.restart(function r(a) {
            a += o,
            i.restart(r, o += e, n),
            t(a)
        }, e, n),
        i)
    }
}
, function(t, e, n) {
    "use strict";
    var r = n(13)
      , i = n(7)
      , o = n(124)
      , a = n(38)
      , s = {
        time: null,
        delay: 0,
        duration: 250,
        ease: o.o
    };
    function u(t, e) {
        for (var n; !(n = t.__transition) || !(n = n[e]); )
            if (!(t = t.parentNode))
                return s.time = Object(a.b)(),
                s;
        return n
    }
    e.a = function(t) {
        var e, n;
        t instanceof r.a ? (e = t._id,
        t = t._name) : (e = Object(r.c)(),
        (n = s).time = Object(a.b)(),
        t = null == t ? null : t + "");
        for (var o = this._groups, c = o.length, f = 0; f < c; ++f)
            for (var l, h = o[f], d = h.length, p = 0; p < d; ++p)
                (l = h[p]) && Object(i.e)(l, t, e, p, h, n || u(l, e));
        return new r.a(o,this._parents,t,e)
    }
}
, function(t, e, n) {
    "use strict";
    var r = n(11)
      , i = n(4)
      , o = n(39)
      , a = n(123);
    e.a = function(t, e) {
        var n = Object(i.i)(t)
          , s = "transform" === n ? r.w : a.a;
        return this.attrTween(t, "function" == typeof e ? (n.local ? function(t, e, n) {
            var r, i, o;
            return function() {
                var a, s, u = n(this);
                if (null != u)
                    return (a = this.getAttributeNS(t.space, t.local)) === (s = u + "") ? null : a === r && s === i ? o : (i = s,
                    o = e(r = a, u));
                this.removeAttributeNS(t.space, t.local)
            }
        }
        : function(t, e, n) {
            var r, i, o;
            return function() {
                var a, s, u = n(this);
                if (null != u)
                    return (a = this.getAttribute(t)) === (s = u + "") ? null : a === r && s === i ? o : (i = s,
                    o = e(r = a, u));
                this.removeAttribute(t)
            }
        }
        )(n, s, Object(o.b)(this, "attr." + t, e)) : null == e ? (n.local ? function(t) {
            return function() {
                this.removeAttributeNS(t.space, t.local)
            }
        }
        : function(t) {
            return function() {
                this.removeAttribute(t)
            }
        }
        )(n) : (n.local ? function(t, e, n) {
            var r, i, o = n + "";
            return function() {
                var a = this.getAttributeNS(t.space, t.local);
                return a === o ? null : a === r ? i : i = e(r = a, n)
            }
        }
        : function(t, e, n) {
            var r, i, o = n + "";
            return function() {
                var a = this.getAttribute(t);
                return a === o ? null : a === r ? i : i = e(r = a, n)
            }
        }
        )(n, s, e))
    }
}
, function(t, e, n) {
    "use strict";
    var r = n(4);
    e.a = function(t, e) {
        var n = "attr." + t;
        if (arguments.length < 2)
            return (n = this.tween(n)) && n._value;
        if (null == e)
            return this.tween(n, null);
        if ("function" != typeof e)
            throw new Error;
        var i = Object(r.i)(t);
        return this.tween(n, (i.local ? function(t, e) {
            var n, r;
            function i() {
                var i = e.apply(this, arguments);
                return i !== r && (n = (r = i) && function(t, e) {
                    return function(n) {
                        this.setAttributeNS(t.space, t.local, e(n))
                    }
                }(t, i)),
                n
            }
            return i._value = e,
            i
        }
        : function(t, e) {
            var n, r;
            function i() {
                var i = e.apply(this, arguments);
                return i !== r && (n = (r = i) && function(t, e) {
                    return function(n) {
                        this.setAttribute(t, e(n))
                    }
                }(t, i)),
                n
            }
            return i._value = e,
            i
        }
        )(i, e))
    }
}
, function(t, e, n) {
    "use strict";
    var r = n(7);
    e.a = function(t) {
        var e = this._id;
        return arguments.length ? this.each(("function" == typeof t ? function(t, e) {
            return function() {
                Object(r.g)(this, t).delay = +e.apply(this, arguments)
            }
        }
        : function(t, e) {
            return e = +e,
            function() {
                Object(r.g)(this, t).delay = e
            }
        }
        )(e, t)) : Object(r.f)(this.node(), e).delay
    }
}
, function(t, e, n) {
    "use strict";
    var r = n(7);
    e.a = function(t) {
        var e = this._id;
        return arguments.length ? this.each(("function" == typeof t ? function(t, e) {
            return function() {
                Object(r.h)(this, t).duration = +e.apply(this, arguments)
            }
        }
        : function(t, e) {
            return e = +e,
            function() {
                Object(r.h)(this, t).duration = e
            }
        }
        )(e, t)) : Object(r.f)(this.node(), e).duration
    }
}
, function(t, e, n) {
    "use strict";
    var r = n(7);
    e.a = function(t) {
        var e = this._id;
        return arguments.length ? this.each(function(t, e) {
            if ("function" != typeof e)
                throw new Error;
            return function() {
                Object(r.h)(this, t).ease = e
            }
        }(e, t)) : Object(r.f)(this.node(), e).ease
    }
}
, function(t, e, n) {
    "use strict";
    var r = n(4)
      , i = n(13);
    e.a = function(t) {
        "function" != typeof t && (t = Object(r.g)(t));
        for (var e = this._groups, n = e.length, o = new Array(n), a = 0; a < n; ++a)
            for (var s, u = e[a], c = u.length, f = o[a] = [], l = 0; l < c; ++l)
                (s = u[l]) && t.call(s, s.__data__, l, u) && f.push(s);
        return new i.a(o,this._parents,this._name,this._id)
    }
}
, function(t, e, n) {
    "use strict";
    var r = n(13);
    e.a = function(t) {
        if (t._id !== this._id)
            throw new Error;
        for (var e = this._groups, n = t._groups, i = e.length, o = n.length, a = Math.min(i, o), s = new Array(i), u = 0; u < a; ++u)
            for (var c, f = e[u], l = n[u], h = f.length, d = s[u] = new Array(h), p = 0; p < h; ++p)
                (c = f[p] || l[p]) && (d[p] = c);
        for (; u < i; ++u)
            s[u] = e[u];
        return new r.a(s,this._parents,this._name,this._id)
    }
}
, function(t, e, n) {
    "use strict";
    var r = n(7);
    e.a = function(t, e) {
        var n = this._id;
        return arguments.length < 2 ? Object(r.f)(this.node(), n).on.on(t) : this.each(function(t, e, n) {
            var i, o, a = function(t) {
                return (t + "").trim().split(/^|\s+/).every(function(t) {
                    var e = t.indexOf(".");
                    return e >= 0 && (t = t.slice(0, e)),
                    !t || "start" === t
                })
            }(e) ? r.g : r.h;
            return function() {
                var r = a(this, t)
                  , s = r.on;
                s !== i && (o = (i = s).copy()).on(e, n),
                r.on = o
            }
        }(n, t, e))
    }
}
, function(t, e, n) {
    "use strict";
    e.a = function() {
        return this.on("end.remove", (t = this._id,
        function() {
            var e = this.parentNode;
            for (var n in this.__transition)
                if (+n !== t)
                    return;
            e && e.removeChild(this)
        }
        ));
        var t
    }
}
, function(t, e, n) {
    "use strict";
    var r = n(4)
      , i = n(13)
      , o = n(7);
    e.a = function(t) {
        var e = this._name
          , n = this._id;
        "function" != typeof t && (t = Object(r.n)(t));
        for (var a = this._groups, s = a.length, u = new Array(s), c = 0; c < s; ++c)
            for (var f, l, h = a[c], d = h.length, p = u[c] = new Array(d), m = 0; m < d; ++m)
                (f = h[m]) && (l = t.call(f, f.__data__, m, h)) && ("__data__"in f && (l.__data__ = f.__data__),
                p[m] = l,
                Object(o.e)(p[m], e, n, m, p, Object(o.f)(f, n)));
        return new i.a(u,this._parents,e,n)
    }
}
, function(t, e, n) {
    "use strict";
    var r = n(4)
      , i = n(13)
      , o = n(7);
    e.a = function(t) {
        var e = this._name
          , n = this._id;
        "function" != typeof t && (t = Object(r.o)(t));
        for (var a = this._groups, s = a.length, u = [], c = [], f = 0; f < s; ++f)
            for (var l, h = a[f], d = h.length, p = 0; p < d; ++p)
                if (l = h[p]) {
                    for (var m, v = t.call(l, l.__data__, p, h), g = Object(o.f)(l, n), y = 0, b = v.length; y < b; ++y)
                        (m = v[y]) && Object(o.e)(m, e, n, y, v, g);
                    u.push(v),
                    c.push(l)
                }
        return new i.a(u,c,e,n)
    }
}
, function(t, e, n) {
    "use strict";
    var r = n(4).m.prototype.constructor;
    e.a = function() {
        return new r(this._groups,this._parents)
    }
}
, function(t, e, n) {
    "use strict";
    var r = n(11)
      , i = n(4)
      , o = n(7)
      , a = n(39)
      , s = n(123);
    function u(t) {
        return function() {
            this.style.removeProperty(t)
        }
    }
    e.a = function(t, e, n) {
        var c = "transform" == (t += "") ? r.v : s.a;
        return null == e ? this.styleTween(t, function(t, e) {
            var n, r, o;
            return function() {
                var a = Object(i.p)(this, t)
                  , s = (this.style.removeProperty(t),
                Object(i.p)(this, t));
                return a === s ? null : a === n && s === r ? o : o = e(n = a, r = s)
            }
        }(t, c)).on("end.style." + t, u(t)) : "function" == typeof e ? this.styleTween(t, function(t, e, n) {
            var r, o, a;
            return function() {
                var s = Object(i.p)(this, t)
                  , u = n(this)
                  , c = u + "";
                return null == u && (this.style.removeProperty(t),
                c = u = Object(i.p)(this, t)),
                s === c ? null : s === r && c === o ? a : (o = c,
                a = e(r = s, u))
            }
        }(t, c, Object(a.b)(this, "style." + t, e))).each(function(t, e) {
            var n, r, i, a, s = "style." + e, c = "end." + s;
            return function() {
                var f = Object(o.h)(this, t)
                  , l = f.on
                  , h = null == f.value[s] ? a || (a = u(e)) : void 0;
                l === n && i === h || (r = (n = l).copy()).on(c, i = h),
                f.on = r
            }
        }(this._id, t)) : this.styleTween(t, function(t, e, n) {
            var r, o, a = n + "";
            return function() {
                var s = Object(i.p)(this, t);
                return s === a ? null : s === r ? o : o = e(r = s, n)
            }
        }(t, c, e), n).on("end.style." + t, null)
    }
}
, function(t, e, n) {
    "use strict";
    e.a = function(t, e, n) {
        var r = "style." + (t += "");
        if (arguments.length < 2)
            return (r = this.tween(r)) && r._value;
        if (null == e)
            return this.tween(r, null);
        if ("function" != typeof e)
            throw new Error;
        return this.tween(r, function(t, e, n) {
            var r, i;
            function o() {
                var o = e.apply(this, arguments);
                return o !== i && (r = (i = o) && function(t, e, n) {
                    return function(r) {
                        this.style.setProperty(t, e(r), n)
                    }
                }(t, o, n)),
                r
            }
            return o._value = e,
            o
        }(t, e, null == n ? "" : n))
    }
}
, function(t, e, n) {
    "use strict";
    var r = n(39);
    e.a = function(t) {
        return this.tween("text", "function" == typeof t ? function(t) {
            return function() {
                var e = t(this);
                this.textContent = null == e ? "" : e
            }
        }(Object(r.b)(this, "text", t)) : function(t) {
            return function() {
                this.textContent = t
            }
        }(null == t ? "" : t + ""))
    }
}
, function(t, e, n) {
    "use strict";
    var r = n(13)
      , i = n(7);
    e.a = function() {
        for (var t = this._name, e = this._id, n = Object(r.c)(), o = this._groups, a = o.length, s = 0; s < a; ++s)
            for (var u, c = o[s], f = c.length, l = 0; l < f; ++l)
                if (u = c[l]) {
                    var h = Object(i.f)(u, e);
                    Object(i.e)(u, t, n, l, c, {
                        time: h.time + h.delay + h.duration,
                        delay: 0,
                        duration: h.duration,
                        ease: h.ease
                    })
                }
        return new r.a(o,this._parents,t,n)
    }
}
, function(t, e, n) {
    "use strict";
    var r = n(7);
    e.a = function() {
        var t, e, n = this, i = n._id, o = n.size();
        return new Promise(function(a, s) {
            var u = {
                value: s
            }
              , c = {
                value: function() {
                    0 == --o && a()
                }
            };
            n.each(function() {
                var n = Object(r.h)(this, i)
                  , o = n.on;
                o !== t && ((e = (t = o).copy())._.cancel.push(u),
                e._.interrupt.push(u),
                e._.end.push(c)),
                n.on = e
            })
        }
        )
    }
}
, function(t, e, n) {
    "use strict";
    e.a = function(t) {
        return +t
    }
}
, function(t, e, n) {
    "use strict";
    e.a = function(t) {
        return t * t
    }
    ,
    e.c = function(t) {
        return t * (2 - t)
    }
    ,
    e.b = function(t) {
        return ((t *= 2) <= 1 ? t * t : --t * (2 - t) + 1) / 2
    }
}
, function(t, e, n) {
    "use strict";
    e.a = function(t) {
        return t * t * t
    }
    ,
    e.c = function(t) {
        return --t * t * t + 1
    }
    ,
    e.b = function(t) {
        return ((t *= 2) <= 1 ? t * t * t : (t -= 2) * t * t + 2) / 2
    }
}
, function(t, e, n) {
    "use strict";
    n.d(e, "a", function() {
        return r
    }),
    n.d(e, "c", function() {
        return i
    }),
    n.d(e, "b", function() {
        return o
    });
    var r = function t(e) {
        function n(t) {
            return Math.pow(t, e)
        }
        return e = +e,
        n.exponent = t,
        n
    }(3)
      , i = function t(e) {
        function n(t) {
            return 1 - Math.pow(1 - t, e)
        }
        return e = +e,
        n.exponent = t,
        n
    }(3)
      , o = function t(e) {
        function n(t) {
            return ((t *= 2) <= 1 ? Math.pow(t, e) : 2 - Math.pow(2 - t, e)) / 2
        }
        return e = +e,
        n.exponent = t,
        n
    }(3)
}
, function(t, e, n) {
    "use strict";
    e.a = function(t) {
        return 1 - Math.cos(t * i)
    }
    ,
    e.c = function(t) {
        return Math.sin(t * i)
    }
    ,
    e.b = function(t) {
        return (1 - Math.cos(r * t)) / 2
    }
    ;
    var r = Math.PI
      , i = r / 2
}
, function(t, e, n) {
    "use strict";
    e.a = function(t) {
        return Math.pow(2, 10 * t - 10)
    }
    ,
    e.c = function(t) {
        return 1 - Math.pow(2, -10 * t)
    }
    ,
    e.b = function(t) {
        return ((t *= 2) <= 1 ? Math.pow(2, 10 * t - 10) : 2 - Math.pow(2, 10 - 10 * t)) / 2
    }
}
, function(t, e, n) {
    "use strict";
    e.a = function(t) {
        return 1 - Math.sqrt(1 - t * t)
    }
    ,
    e.c = function(t) {
        return Math.sqrt(1 - --t * t)
    }
    ,
    e.b = function(t) {
        return ((t *= 2) <= 1 ? 1 - Math.sqrt(1 - t * t) : Math.sqrt(1 - (t -= 2) * t) + 1) / 2
    }
}
, function(t, e, n) {
    "use strict";
    e.a = function(t) {
        return 1 - d(1 - t)
    }
    ,
    e.c = d,
    e.b = function(t) {
        return ((t *= 2) <= 1 ? 1 - d(1 - t) : d(t - 1) + 1) / 2
    }
    ;
    var r = 4 / 11
      , i = 6 / 11
      , o = 8 / 11
      , a = .75
      , s = 9 / 11
      , u = 10 / 11
      , c = .9375
      , f = 21 / 22
      , l = 63 / 64
      , h = 1 / r / r;
    function d(t) {
        return (t = +t) < r ? h * t * t : t < o ? h * (t -= i) * t + a : t < u ? h * (t -= s) * t + c : h * (t -= f) * t + l
    }
}
, function(t, e, n) {
    "use strict";
    n.d(e, "a", function() {
        return r
    }),
    n.d(e, "c", function() {
        return i
    }),
    n.d(e, "b", function() {
        return o
    });
    var r = function t(e) {
        function n(t) {
            return t * t * ((e + 1) * t - e)
        }
        return e = +e,
        n.overshoot = t,
        n
    }(1.70158)
      , i = function t(e) {
        function n(t) {
            return --t * t * ((e + 1) * t + e) + 1
        }
        return e = +e,
        n.overshoot = t,
        n
    }(1.70158)
      , o = function t(e) {
        function n(t) {
            return ((t *= 2) < 1 ? t * t * ((e + 1) * t - e) : (t -= 2) * t * ((e + 1) * t + e) + 2) / 2
        }
        return e = +e,
        n.overshoot = t,
        n
    }(1.70158)
}
, function(t, e, n) {
    "use strict";
    n.d(e, "a", function() {
        return i
    }),
    n.d(e, "c", function() {
        return o
    }),
    n.d(e, "b", function() {
        return a
    });
    var r = 2 * Math.PI
      , i = function t(e, n) {
        var i = Math.asin(1 / (e = Math.max(1, e))) * (n /= r);
        function o(t) {
            return e * Math.pow(2, 10 * --t) * Math.sin((i - t) / n)
        }
        return o.amplitude = function(e) {
            return t(e, n * r)
        }
        ,
        o.period = function(n) {
            return t(e, n)
        }
        ,
        o
    }(1, .3)
      , o = function t(e, n) {
        var i = Math.asin(1 / (e = Math.max(1, e))) * (n /= r);
        function o(t) {
            return 1 - e * Math.pow(2, -10 * (t = +t)) * Math.sin((t + i) / n)
        }
        return o.amplitude = function(e) {
            return t(e, n * r)
        }
        ,
        o.period = function(n) {
            return t(e, n)
        }
        ,
        o
    }(1, .3)
      , a = function t(e, n) {
        var i = Math.asin(1 / (e = Math.max(1, e))) * (n /= r);
        function o(t) {
            return ((t = 2 * t - 1) < 0 ? e * Math.pow(2, 10 * t) * Math.sin((i - t) / n) : 2 - e * Math.pow(2, -10 * t) * Math.sin((i + t) / n)) / 2
        }
        return o.amplitude = function(e) {
            return t(e, n * r)
        }
        ,
        o.period = function(n) {
            return t(e, n)
        }
        ,
        o
    }(1, .3)
}
, function(t, e, n) {
    "use strict";
    var r = n(13)
      , i = n(7)
      , o = [null];
    e.a = function(t, e) {
        var n, a, s = t.__transition;
        if (s)
            for (a in e = null == e ? null : e + "",
            s)
                if ((n = s[a]).state > i.c && n.name === e)
                    return new r.a([[t]],o,e,+a);
        return null
    }
}
, function(t, e, n) {
    "use strict";
    e.a = function(t) {
        return function() {
            return t
        }
    }
}
, function(t, e, n) {
    "use strict";
    e.a = function(t, e, n) {
        this.target = t,
        this.type = e,
        this.selection = n
    }
}
, function(t, e, n) {
    "use strict";
    e.b = function() {
        r.e.stopImmediatePropagation()
    }
    ;
    var r = n(4);
    e.a = function() {
        r.e.preventDefault(),
        r.e.stopImmediatePropagation()
    }
}
, function(t, e, n) {
    "use strict";
    var r = n(303);
    n.d(e, "a", function() {
        return r.a
    });
    var i = n(304);
    n.d(e, "b", function() {
        return i.a
    })
}
, function(t, e, n) {
    "use strict";
    var r = n(3)
      , i = n(125);
    e.a = function() {
        var t = 0
          , e = null
          , n = null
          , o = null;
        function a(a) {
            var s, u, c, f, l, h, d = a.length, p = [], m = Object(r.s)(d), v = [], g = [], y = g.groups = new Array(d), b = new Array(d * d);
            for (s = 0,
            l = -1; ++l < d; ) {
                for (u = 0,
                h = -1; ++h < d; )
                    u += a[l][h];
                p.push(u),
                v.push(Object(r.s)(d)),
                s += u
            }
            for (e && m.sort(function(t, n) {
                return e(p[t], p[n])
            }),
            n && v.forEach(function(t, e) {
                t.sort(function(t, r) {
                    return n(a[e][t], a[e][r])
                })
            }),
            f = (s = Object(i.c)(0, i.e - t * d) / s) ? t : i.e / d,
            u = 0,
            l = -1; ++l < d; ) {
                for (c = u,
                h = -1; ++h < d; ) {
                    var _ = m[l]
                      , x = v[_][h]
                      , w = a[_][x]
                      , M = u
                      , E = u += w * s;
                    b[x * d + _] = {
                        index: _,
                        subindex: x,
                        startAngle: M,
                        endAngle: E,
                        value: w
                    }
                }
                y[_] = {
                    index: _,
                    startAngle: c,
                    endAngle: u,
                    value: p[_]
                },
                u += f
            }
            for (l = -1; ++l < d; )
                for (h = l - 1; ++h < d; ) {
                    var T = b[h * d + l]
                      , S = b[l * d + h];
                    (T.value || S.value) && g.push(T.value < S.value ? {
                        source: S,
                        target: T
                    } : {
                        source: T,
                        target: S
                    })
                }
            return o ? g.sort(o) : g
        }
        return a.padAngle = function(e) {
            return arguments.length ? (t = Object(i.c)(0, e),
            a) : t
        }
        ,
        a.sortGroups = function(t) {
            return arguments.length ? (e = t,
            a) : e
        }
        ,
        a.sortSubgroups = function(t) {
            return arguments.length ? (n = t,
            a) : n
        }
        ,
        a.sortChords = function(t) {
            return arguments.length ? (null == t ? o = null : (e = t,
            o = function(t, n) {
                return e(t.source.value + t.target.value, n.source.value + n.target.value)
            }
            )._ = t,
            a) : o && o._;
            var e
        }
        ,
        a
    }
}
, function(t, e, n) {
    "use strict";
    var r = n(305)
      , i = n(306)
      , o = n(125)
      , a = n(16);
    function s(t) {
        return t.source
    }
    function u(t) {
        return t.target
    }
    function c(t) {
        return t.radius
    }
    function f(t) {
        return t.startAngle
    }
    function l(t) {
        return t.endAngle
    }
    e.a = function() {
        var t = s
          , e = u
          , n = c
          , h = f
          , d = l
          , p = null;
        function m() {
            var i, s = r.a.call(arguments), u = t.apply(this, s), c = e.apply(this, s), f = +n.apply(this, (s[0] = u,
            s)), l = h.apply(this, s) - o.b, m = d.apply(this, s) - o.b, v = f * Object(o.a)(l), g = f * Object(o.d)(l), y = +n.apply(this, (s[0] = c,
            s)), b = h.apply(this, s) - o.b, _ = d.apply(this, s) - o.b;
            if (p || (p = i = Object(a.a)()),
            p.moveTo(v, g),
            p.arc(0, 0, f, l, m),
            l === b && m === _ || (p.quadraticCurveTo(0, 0, y * Object(o.a)(b), y * Object(o.d)(b)),
            p.arc(0, 0, y, b, _)),
            p.quadraticCurveTo(0, 0, v, g),
            p.closePath(),
            i)
                return p = null,
                i + "" || null
        }
        return m.radius = function(t) {
            return arguments.length ? (n = "function" == typeof t ? t : Object(i.a)(+t),
            m) : n
        }
        ,
        m.startAngle = function(t) {
            return arguments.length ? (h = "function" == typeof t ? t : Object(i.a)(+t),
            m) : h
        }
        ,
        m.endAngle = function(t) {
            return arguments.length ? (d = "function" == typeof t ? t : Object(i.a)(+t),
            m) : d
        }
        ,
        m.source = function(e) {
            return arguments.length ? (t = e,
            m) : t
        }
        ,
        m.target = function(t) {
            return arguments.length ? (e = t,
            m) : e
        }
        ,
        m.context = function(t) {
            return arguments.length ? (p = null == t ? null : t,
            m) : p
        }
        ,
        m
    }
}
, function(t, e, n) {
    "use strict";
    n.d(e, "a", function() {
        return r
    });
    var r = Array.prototype.slice
}
, function(t, e, n) {
    "use strict";
    e.a = function(t) {
        return function() {
            return t
        }
    }
}
, function(t, e, n) {
    "use strict";
    var r = Math.PI
      , i = 2 * r
      , o = i - 1e-6;
    function a() {
        this._x0 = this._y0 = this._x1 = this._y1 = null,
        this._ = ""
    }
    function s() {
        return new a
    }
    a.prototype = s.prototype = {
        constructor: a,
        moveTo: function(t, e) {
            this._ += "M" + (this._x0 = this._x1 = +t) + "," + (this._y0 = this._y1 = +e)
        },
        closePath: function() {
            null !== this._x1 && (this._x1 = this._x0,
            this._y1 = this._y0,
            this._ += "Z")
        },
        lineTo: function(t, e) {
            this._ += "L" + (this._x1 = +t) + "," + (this._y1 = +e)
        },
        quadraticCurveTo: function(t, e, n, r) {
            this._ += "Q" + +t + "," + +e + "," + (this._x1 = +n) + "," + (this._y1 = +r)
        },
        bezierCurveTo: function(t, e, n, r, i, o) {
            this._ += "C" + +t + "," + +e + "," + +n + "," + +r + "," + (this._x1 = +i) + "," + (this._y1 = +o)
        },
        arcTo: function(t, e, n, i, o) {
            t = +t,
            e = +e,
            n = +n,
            i = +i,
            o = +o;
            var a = this._x1
              , s = this._y1
              , u = n - t
              , c = i - e
              , f = a - t
              , l = s - e
              , h = f * f + l * l;
            if (o < 0)
                throw new Error("negative radius: " + o);
            if (null === this._x1)
                this._ += "M" + (this._x1 = t) + "," + (this._y1 = e);
            else if (h > 1e-6)
                if (Math.abs(l * u - c * f) > 1e-6 && o) {
                    var d = n - a
                      , p = i - s
                      , m = u * u + c * c
                      , v = d * d + p * p
                      , g = Math.sqrt(m)
                      , y = Math.sqrt(h)
                      , b = o * Math.tan((r - Math.acos((m + h - v) / (2 * g * y))) / 2)
                      , _ = b / y
                      , x = b / g;
                    Math.abs(_ - 1) > 1e-6 && (this._ += "L" + (t + _ * f) + "," + (e + _ * l)),
                    this._ += "A" + o + "," + o + ",0,0," + +(l * d > f * p) + "," + (this._x1 = t + x * u) + "," + (this._y1 = e + x * c)
                } else
                    this._ += "L" + (this._x1 = t) + "," + (this._y1 = e);
            else
                ;
        },
        arc: function(t, e, n, a, s, u) {
            t = +t,
            e = +e;
            var c = (n = +n) * Math.cos(a)
              , f = n * Math.sin(a)
              , l = t + c
              , h = e + f
              , d = 1 ^ u
              , p = u ? a - s : s - a;
            if (n < 0)
                throw new Error("negative radius: " + n);
            null === this._x1 ? this._ += "M" + l + "," + h : (Math.abs(this._x1 - l) > 1e-6 || Math.abs(this._y1 - h) > 1e-6) && (this._ += "L" + l + "," + h),
            n && (p < 0 && (p = p % i + i),
            p > o ? this._ += "A" + n + "," + n + ",0,1," + d + "," + (t - c) + "," + (e - f) + "A" + n + "," + n + ",0,1," + d + "," + (this._x1 = l) + "," + (this._y1 = h) : p > 1e-6 && (this._ += "A" + n + "," + n + ",0," + +(p >= r) + "," + d + "," + (this._x1 = t + n * Math.cos(s)) + "," + (this._y1 = e + n * Math.sin(s))))
        },
        rect: function(t, e, n, r) {
            this._ += "M" + (this._x0 = this._x1 = +t) + "," + (this._y0 = this._y1 = +e) + "h" + +n + "v" + +r + "h" + -n + "Z"
        },
        toString: function() {
            return this._
        }
    },
    e.a = s
}
, function(t, e, n) {
    "use strict";
    var r = n(66);
    function i() {
        return {}
    }
    function o(t, e, n) {
        t[e] = n
    }
    function a() {
        return Object(r.a)()
    }
    function s(t, e, n) {
        t.set(e, n)
    }
    e.a = function() {
        var t, e, n, u = [], c = [];
        function f(n, i, o, a) {
            if (i >= u.length)
                return null != t && n.sort(t),
                null != e ? e(n) : n;
            for (var s, c, l, h = -1, d = n.length, p = u[i++], m = Object(r.a)(), v = o(); ++h < d; )
                (l = m.get(s = p(c = n[h]) + "")) ? l.push(c) : m.set(s, [c]);
            return m.each(function(t, e) {
                a(v, e, f(t, i, o, a))
            }),
            v
        }
        return n = {
            object: function(t) {
                return f(t, 0, i, o)
            },
            map: function(t) {
                return f(t, 0, a, s)
            },
            entries: function(t) {
                return function t(n, r) {
                    if (++r > u.length)
                        return n;
                    var i, o = c[r - 1];
                    return null != e && r >= u.length ? i = n.entries() : (i = [],
                    n.each(function(e, n) {
                        i.push({
                            key: n,
                            values: t(e, r)
                        })
                    })),
                    null != o ? i.sort(function(t, e) {
                        return o(t.key, e.key)
                    }) : i
                }(f(t, 0, a, s), 0)
            },
            key: function(t) {
                return u.push(t),
                n
            },
            sortKeys: function(t) {
                return c[u.length - 1] = t,
                n
            },
            sortValues: function(e) {
                return t = e,
                n
            },
            rollup: function(t) {
                return e = t,
                n
            }
        }
    }
}
, function(t, e, n) {
    "use strict";
    var r = n(66);
    function i() {}
    var o = r.a.prototype;
    function a(t, e) {
        var n = new i;
        if (t instanceof i)
            t.each(function(t) {
                n.add(t)
            });
        else if (t) {
            var r = -1
              , o = t.length;
            if (null == e)
                for (; ++r < o; )
                    n.add(t[r]);
            else
                for (; ++r < o; )
                    n.add(e(t[r], r, t))
        }
        return n
    }
    i.prototype = a.prototype = {
        constructor: i,
        has: o.has,
        add: function(t) {
            return t += "",
            this[r.b + t] = t,
            this
        },
        remove: o.remove,
        clear: o.clear,
        values: o.keys,
        size: o.size,
        empty: o.empty,
        each: o.each
    },
    e.a = a
}
, function(t, e, n) {
    "use strict";
    e.a = function(t) {
        var e = [];
        for (var n in t)
            e.push(n);
        return e
    }
}
, function(t, e, n) {
    "use strict";
    e.a = function(t) {
        var e = [];
        for (var n in t)
            e.push(t[n]);
        return e
    }
}
, function(t, e, n) {
    "use strict";
    e.a = function(t) {
        var e = [];
        for (var n in t)
            e.push({
                key: n,
                value: t[n]
            });
        return e
    }
}
, function(t, e, n) {
    "use strict";
    var r = n(126);
    n.d(e, "b", function() {
        return r.a
    });
    var i = n(318);
    n.d(e, "a", function() {
        return i.a
    })
}
, function(t, e, n) {
    "use strict";
    e.a = function(t, e) {
        return t - e
    }
}
, function(t, e, n) {
    "use strict";
    e.a = function(t) {
        for (var e = 0, n = t.length, r = t[n - 1][1] * t[0][0] - t[n - 1][0] * t[0][1]; ++e < n; )
            r += t[e - 1][1] * t[e][0] - t[e - 1][0] * t[e][1];
        return r
    }
}
, function(t, e, n) {
    "use strict";
    function r(t, e) {
        for (var n = e[0], r = e[1], o = -1, a = 0, s = t.length, u = s - 1; a < s; u = a++) {
            var c = t[a]
              , f = c[0]
              , l = c[1]
              , h = t[u]
              , d = h[0]
              , p = h[1];
            if (i(c, h, e))
                return 0;
            l > r != p > r && n < (d - f) * (r - l) / (p - l) + f && (o = -o)
        }
        return o
    }
    function i(t, e, n) {
        var r, i, o, a;
        return function(t, e, n) {
            return (e[0] - t[0]) * (n[1] - t[1]) == (n[0] - t[0]) * (e[1] - t[1])
        }(t, e, n) && (i = t[r = +(t[0] === e[0])],
        o = n[r],
        a = e[r],
        i <= o && o <= a || a <= o && o <= i)
    }
    e.a = function(t, e) {
        for (var n, i = -1, o = e.length; ++i < o; )
            if (n = r(t, e[i]))
                return n;
        return 0
    }
}
, function(t, e, n) {
    "use strict";
    e.a = function() {}
}
, function(t, e, n) {
    "use strict";
    var r = n(3)
      , i = n(127)
      , o = n(319)
      , a = n(128)
      , s = n(126);
    function u(t) {
        return t[0]
    }
    function c(t) {
        return t[1]
    }
    function f() {
        return 1
    }
    e.a = function() {
        var t = u
          , e = c
          , n = f
          , l = 960
          , h = 500
          , d = 20
          , p = 2
          , m = 3 * d
          , v = l + 2 * m >> p
          , g = h + 2 * m >> p
          , y = Object(a.a)(20);
        function b(i) {
            var a = new Float32Array(v * g)
              , u = new Float32Array(v * g);
            i.forEach(function(r, i, o) {
                var s = +t(r, i, o) + m >> p
                  , u = +e(r, i, o) + m >> p
                  , c = +n(r, i, o);
                s >= 0 && s < v && u >= 0 && u < g && (a[s + u * v] += c)
            }),
            Object(o.a)({
                width: v,
                height: g,
                data: a
            }, {
                width: v,
                height: g,
                data: u
            }, d >> p),
            Object(o.b)({
                width: v,
                height: g,
                data: u
            }, {
                width: v,
                height: g,
                data: a
            }, d >> p),
            Object(o.a)({
                width: v,
                height: g,
                data: a
            }, {
                width: v,
                height: g,
                data: u
            }, d >> p),
            Object(o.b)({
                width: v,
                height: g,
                data: u
            }, {
                width: v,
                height: g,
                data: a
            }, d >> p),
            Object(o.a)({
                width: v,
                height: g,
                data: a
            }, {
                width: v,
                height: g,
                data: u
            }, d >> p),
            Object(o.b)({
                width: v,
                height: g,
                data: u
            }, {
                width: v,
                height: g,
                data: a
            }, d >> p);
            var c = y(a);
            if (!Array.isArray(c)) {
                var f = Object(r.k)(a);
                c = Object(r.A)(0, f, c),
                (c = Object(r.s)(0, Math.floor(f / c) * c, c)).shift()
            }
            return Object(s.a)().thresholds(c).size([v, g])(a).map(_)
        }
        function _(t) {
            return t.value *= Math.pow(2, -2 * p),
            t.coordinates.forEach(x),
            t
        }
        function x(t) {
            t.forEach(w)
        }
        function w(t) {
            t.forEach(M)
        }
        function M(t) {
            t[0] = t[0] * Math.pow(2, p) - m,
            t[1] = t[1] * Math.pow(2, p) - m
        }
        function E() {
            return v = l + 2 * (m = 3 * d) >> p,
            g = h + 2 * m >> p,
            b
        }
        return b.x = function(e) {
            return arguments.length ? (t = "function" == typeof e ? e : Object(a.a)(+e),
            b) : t
        }
        ,
        b.y = function(t) {
            return arguments.length ? (e = "function" == typeof t ? t : Object(a.a)(+t),
            b) : e
        }
        ,
        b.weight = function(t) {
            return arguments.length ? (n = "function" == typeof t ? t : Object(a.a)(+t),
            b) : n
        }
        ,
        b.size = function(t) {
            if (!arguments.length)
                return [l, h];
            var e = Math.ceil(t[0])
              , n = Math.ceil(t[1]);
            if (!(e >= 0 || e >= 0))
                throw new Error("invalid size");
            return l = e,
            h = n,
            E()
        }
        ,
        b.cellSize = function(t) {
            if (!arguments.length)
                return 1 << p;
            if (!((t = +t) >= 1))
                throw new Error("invalid cell size");
            return p = Math.floor(Math.log(t) / Math.LN2),
            E()
        }
        ,
        b.thresholds = function(t) {
            return arguments.length ? (y = "function" == typeof t ? t : Array.isArray(t) ? Object(a.a)(i.a.call(t)) : Object(a.a)(t),
            b) : y
        }
        ,
        b.bandwidth = function(t) {
            if (!arguments.length)
                return Math.sqrt(d * (d + 1));
            if (!((t = +t) >= 0))
                throw new Error("invalid bandwidth");
            return d = Math.round((Math.sqrt(4 * t * t + 1) - 1) / 2),
            E()
        }
        ,
        b
    }
}
, function(t, e, n) {
    "use strict";
    e.a = function(t, e, n) {
        for (var r = t.width, i = t.height, o = 1 + (n << 1), a = 0; a < i; ++a)
            for (var s = 0, u = 0; s < r + n; ++s)
                s < r && (u += t.data[s + a * r]),
                s >= n && (s >= o && (u -= t.data[s - o + a * r]),
                e.data[s - n + a * r] = u / Math.min(s + 1, r - 1 + o - s, o))
    }
    ,
    e.b = function(t, e, n) {
        for (var r = t.width, i = t.height, o = 1 + (n << 1), a = 0; a < r; ++a)
            for (var s = 0, u = 0; s < i + n; ++s)
                s < i && (u += t.data[a + s * r]),
                s >= n && (s >= o && (u -= t.data[a + (s - o) * r]),
                e.data[a + (s - n) * r] = u / Math.min(s + 1, i - 1 + o - s, o))
    }
}
, function(t, e, n) {
    "use strict";
    n.d(e, "d", function() {
        return o
    }),
    n.d(e, "e", function() {
        return a
    }),
    n.d(e, "a", function() {
        return s
    }),
    n.d(e, "b", function() {
        return u
    }),
    n.d(e, "c", function() {
        return c
    });
    var r = n(67)
      , i = Object(r.a)(",")
      , o = i.parse
      , a = i.parseRows
      , s = i.format
      , u = i.formatBody
      , c = i.formatRows
}
, function(t, e, n) {
    "use strict";
    n.d(e, "d", function() {
        return o
    }),
    n.d(e, "e", function() {
        return a
    }),
    n.d(e, "a", function() {
        return s
    }),
    n.d(e, "b", function() {
        return u
    }),
    n.d(e, "c", function() {
        return c
    });
    var r = n(67)
      , i = Object(r.a)("\t")
      , o = i.parse
      , a = i.parseRows
      , s = i.format
      , u = i.formatBody
      , c = i.formatRows
}
, function(t, e, n) {
    "use strict";
    e.a = function(t) {
        for (var e in t) {
            var n, r = t[e].trim();
            if (r)
                if ("true" === r)
                    r = !0;
                else if ("false" === r)
                    r = !1;
                else if ("NaN" === r)
                    r = NaN;
                else if (isNaN(n = +r)) {
                    if (!/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/.test(r))
                        continue;
                    r = new Date(r)
                } else
                    r = n;
            else
                r = null;
            t[e] = r
        }
        return t
    }
}
, function(t, e, n) {
    "use strict";
    var r = n(324);
    n.d(e, "a", function() {
        return r.a
    });
    var i = n(325);
    n.d(e, "b", function() {
        return i.a
    });
    var o = n(326);
    n.d(e, "d", function() {
        return o.b
    }),
    n.d(e, "c", function() {
        return o.a
    }),
    n.d(e, "j", function() {
        return o.c
    });
    var a = n(327);
    n.d(e, "f", function() {
        return a.a
    });
    var s = n(328);
    n.d(e, "g", function() {
        return s.a
    });
    var u = n(68);
    n.d(e, "i", function() {
        return u.a
    });
    var c = n(329);
    n.d(e, "k", function() {
        return c.a
    }),
    n.d(e, "e", function() {
        return c.b
    }),
    n.d(e, "h", function() {
        return c.c
    })
}
, function(t, e, n) {
    "use strict";
    function r(t) {
        if (!t.ok)
            throw new Error(t.status + " " + t.statusText);
        return t.blob()
    }
    e.a = function(t, e) {
        return fetch(t, e).then(r)
    }
}
, function(t, e, n) {
    "use strict";
    function r(t) {
        if (!t.ok)
            throw new Error(t.status + " " + t.statusText);
        return t.arrayBuffer()
    }
    e.a = function(t, e) {
        return fetch(t, e).then(r)
    }
}
, function(t, e, n) {
    "use strict";
    e.b = function(t, e, n, o) {
        3 === arguments.length && "function" == typeof n && (o = n,
        n = void 0);
        var a = Object(r.g)(t);
        return Object(i.a)(e, n).then(function(t) {
            return a.parse(t, o)
        })
    }
    ,
    n.d(e, "a", function() {
        return a
    }),
    n.d(e, "c", function() {
        return s
    });
    var r = n(129)
      , i = n(68);
    function o(t) {
        return function(e, n, r) {
            return 2 === arguments.length && "function" == typeof n && (r = n,
            n = void 0),
            Object(i.a)(e, n).then(function(e) {
                return t(e, r)
            })
        }
    }
    var a = o(r.e)
      , s = o(r.k)
}
, function(t, e, n) {
    "use strict";
    e.a = function(t, e) {
        return new Promise(function(n, r) {
            var i = new Image;
            for (var o in e)
                i[o] = e[o];
            i.onerror = r,
            i.onload = function() {
                n(i)
            }
            ,
            i.src = t
        }
        )
    }
}
, function(t, e, n) {
    "use strict";
    function r(t) {
        if (!t.ok)
            throw new Error(t.status + " " + t.statusText);
        return t.json()
    }
    e.a = function(t, e) {
        return fetch(t, e).then(r)
    }
}
, function(t, e, n) {
    "use strict";
    n.d(e, "b", function() {
        return o
    }),
    n.d(e, "c", function() {
        return a
    });
    var r = n(68);
    function i(t) {
        return function(e, n) {
            return Object(r.a)(e, n).then(function(e) {
                return (new DOMParser).parseFromString(e, t)
            })
        }
    }
    e.a = i("application/xml");
    var o = i("text/html")
      , a = i("image/svg+xml")
}
, function(t, e, n) {
    "use strict";
    var r = n(331);
    n.d(e, "a", function() {
        return r.a
    });
    var i = n(332);
    n.d(e, "b", function() {
        return i.a
    });
    var o = n(346);
    n.d(e, "c", function() {
        return o.a
    });
    var a = n(347);
    n.d(e, "d", function() {
        return a.a
    });
    var s = n(348);
    n.d(e, "e", function() {
        return s.a
    });
    var u = n(130);
    n.d(e, "f", function() {
        return u.a
    });
    var c = n(349);
    n.d(e, "g", function() {
        return c.a
    });
    var f = n(350);
    n.d(e, "h", function() {
        return f.a
    })
}
, function(t, e, n) {
    "use strict";
    e.a = function(t, e) {
        var n;
        function r() {
            var r, i, o = n.length, a = 0, s = 0;
            for (r = 0; r < o; ++r)
                a += (i = n[r]).x,
                s += i.y;
            for (a = a / o - t,
            s = s / o - e,
            r = 0; r < o; ++r)
                (i = n[r]).x -= a,
                i.y -= s
        }
        return null == t && (t = 0),
        null == e && (e = 0),
        r.initialize = function(t) {
            n = t
        }
        ,
        r.x = function(e) {
            return arguments.length ? (t = +e,
            r) : t
        }
        ,
        r.y = function(t) {
            return arguments.length ? (e = +t,
            r) : e
        }
        ,
        r
    }
}
, function(t, e, n) {
    "use strict";
    var r = n(24)
      , i = n(69)
      , o = n(70);
    function a(t) {
        return t.x + t.vx
    }
    function s(t) {
        return t.y + t.vy
    }
    e.a = function(t) {
        var e, n, u = 1, c = 1;
        function f() {
            for (var t, r, f, h, d, p, m, v = e.length, g = 0; g < c; ++g)
                for (r = Object(o.a)(e, a, s).visitAfter(l),
                t = 0; t < v; ++t)
                    f = e[t],
                    p = n[f.index],
                    m = p * p,
                    h = f.x + f.vx,
                    d = f.y + f.vy,
                    r.visit(y);
            function y(t, e, n, r, o) {
                var a = t.data
                  , s = t.r
                  , c = p + s;
                if (!a)
                    return e > h + c || r < h - c || n > d + c || o < d - c;
                if (a.index > f.index) {
                    var l = h - a.x - a.vx
                      , v = d - a.y - a.vy
                      , g = l * l + v * v;
                    g < c * c && (0 === l && (g += (l = Object(i.a)()) * l),
                    0 === v && (g += (v = Object(i.a)()) * v),
                    g = (c - (g = Math.sqrt(g))) / g * u,
                    f.vx += (l *= g) * (c = (s *= s) / (m + s)),
                    f.vy += (v *= g) * c,
                    a.vx -= l * (c = 1 - c),
                    a.vy -= v * c)
                }
            }
        }
        function l(t) {
            if (t.data)
                return t.r = n[t.data.index];
            for (var e = t.r = 0; e < 4; ++e)
                t[e] && t[e].r > t.r && (t.r = t[e].r)
        }
        function h() {
            if (e) {
                var r, i, o = e.length;
                for (n = new Array(o),
                r = 0; r < o; ++r)
                    i = e[r],
                    n[i.index] = +t(i, r, e)
            }
        }
        return "function" != typeof t && (t = Object(r.a)(null == t ? 1 : +t)),
        f.initialize = function(t) {
            e = t,
            h()
        }
        ,
        f.iterations = function(t) {
            return arguments.length ? (c = +t,
            f) : c
        }
        ,
        f.strength = function(t) {
            return arguments.length ? (u = +t,
            f) : u
        }
        ,
        f.radius = function(e) {
            return arguments.length ? (t = "function" == typeof e ? e : Object(r.a)(+e),
            h(),
            f) : t
        }
        ,
        f
    }
}
, function(t, e, n) {
    "use strict";
    e.a = m;
    var r = n(334)
      , i = n(335)
      , o = n(336)
      , a = n(337)
      , s = n(338)
      , u = n(339)
      , c = n(340)
      , f = n(341)
      , l = n(342)
      , h = n(343)
      , d = n(344)
      , p = n(345);
    function m(t, e, n) {
        var r = new v(null == e ? d.b : e,null == n ? p.b : n,NaN,NaN,NaN,NaN);
        return null == t ? r : r.addAll(t)
    }
    function v(t, e, n, r, i, o) {
        this._x = t,
        this._y = e,
        this._x0 = n,
        this._y0 = r,
        this._x1 = i,
        this._y1 = o,
        this._root = void 0
    }
    function g(t) {
        for (var e = {
            data: t.data
        }, n = e; t = t.next; )
            n = n.next = {
                data: t.data
            };
        return e
    }
    var y = m.prototype = v.prototype;
    y.copy = function() {
        var t, e, n = new v(this._x,this._y,this._x0,this._y0,this._x1,this._y1), r = this._root;
        if (!r)
            return n;
        if (!r.length)
            return n._root = g(r),
            n;
        for (t = [{
            source: r,
            target: n._root = new Array(4)
        }]; r = t.pop(); )
            for (var i = 0; i < 4; ++i)
                (e = r.source[i]) && (e.length ? t.push({
                    source: e,
                    target: r.target[i] = new Array(4)
                }) : r.target[i] = g(e));
        return n
    }
    ,
    y.add = r.b,
    y.addAll = r.a,
    y.cover = i.a,
    y.data = o.a,
    y.extent = a.a,
    y.find = s.a,
    y.remove = u.a,
    y.removeAll = u.b,
    y.root = c.a,
    y.size = f.a,
    y.visit = l.a,
    y.visitAfter = h.a,
    y.x = d.a,
    y.y = p.a
}
, function(t, e, n) {
    "use strict";
    function r(t, e, n, r) {
        if (isNaN(e) || isNaN(n))
            return t;
        var i, o, a, s, u, c, f, l, h, d = t._root, p = {
            data: r
        }, m = t._x0, v = t._y0, g = t._x1, y = t._y1;
        if (!d)
            return t._root = p,
            t;
        for (; d.length; )
            if ((c = e >= (o = (m + g) / 2)) ? m = o : g = o,
            (f = n >= (a = (v + y) / 2)) ? v = a : y = a,
            i = d,
            !(d = d[l = f << 1 | c]))
                return i[l] = p,
                t;
        if (s = +t._x.call(null, d.data),
        u = +t._y.call(null, d.data),
        e === s && n === u)
            return p.next = d,
            i ? i[l] = p : t._root = p,
            t;
        do {
            i = i ? i[l] = new Array(4) : t._root = new Array(4),
            (c = e >= (o = (m + g) / 2)) ? m = o : g = o,
            (f = n >= (a = (v + y) / 2)) ? v = a : y = a
        } while ((l = f << 1 | c) == (h = (u >= a) << 1 | s >= o));return i[h] = d,
        i[l] = p,
        t
    }
    e.a = function(t) {
        var e, n, i, o, a = t.length, s = new Array(a), u = new Array(a), c = 1 / 0, f = 1 / 0, l = -1 / 0, h = -1 / 0;
        for (n = 0; n < a; ++n)
            isNaN(i = +this._x.call(null, e = t[n])) || isNaN(o = +this._y.call(null, e)) || (s[n] = i,
            u[n] = o,
            i < c && (c = i),
            i > l && (l = i),
            o < f && (f = o),
            o > h && (h = o));
        if (c > l || f > h)
            return this;
        for (this.cover(c, f).cover(l, h),
        n = 0; n < a; ++n)
            r(this, s[n], u[n], t[n]);
        return this
    }
    ,
    e.b = function(t) {
        var e = +this._x.call(null, t)
          , n = +this._y.call(null, t);
        return r(this.cover(e, n), e, n, t)
    }
}
, function(t, e, n) {
    "use strict";
    e.a = function(t, e) {
        if (isNaN(t = +t) || isNaN(e = +e))
            return this;
        var n = this._x0
          , r = this._y0
          , i = this._x1
          , o = this._y1;
        if (isNaN(n))
            i = (n = Math.floor(t)) + 1,
            o = (r = Math.floor(e)) + 1;
        else {
            for (var a, s, u = i - n, c = this._root; n > t || t >= i || r > e || e >= o; )
                switch (s = (e < r) << 1 | t < n,
                (a = new Array(4))[s] = c,
                c = a,
                u *= 2,
                s) {
                case 0:
                    i = n + u,
                    o = r + u;
                    break;
                case 1:
                    n = i - u,
                    o = r + u;
                    break;
                case 2:
                    i = n + u,
                    r = o - u;
                    break;
                case 3:
                    n = i - u,
                    r = o - u
                }
            this._root && this._root.length && (this._root = c)
        }
        return this._x0 = n,
        this._y0 = r,
        this._x1 = i,
        this._y1 = o,
        this
    }
}
, function(t, e, n) {
    "use strict";
    e.a = function() {
        var t = [];
        return this.visit(function(e) {
            if (!e.length)
                do {
                    t.push(e.data)
                } while (e = e.next)
        }),
        t
    }
}
, function(t, e, n) {
    "use strict";
    e.a = function(t) {
        return arguments.length ? this.cover(+t[0][0], +t[0][1]).cover(+t[1][0], +t[1][1]) : isNaN(this._x0) ? void 0 : [[this._x0, this._y0], [this._x1, this._y1]]
    }
}
, function(t, e, n) {
    "use strict";
    var r = n(71);
    e.a = function(t, e, n) {
        var i, o, a, s, u, c, f, l = this._x0, h = this._y0, d = this._x1, p = this._y1, m = [], v = this._root;
        for (v && m.push(new r.a(v,l,h,d,p)),
        null == n ? n = 1 / 0 : (l = t - n,
        h = e - n,
        d = t + n,
        p = e + n,
        n *= n); c = m.pop(); )
            if (!(!(v = c.node) || (o = c.x0) > d || (a = c.y0) > p || (s = c.x1) < l || (u = c.y1) < h))
                if (v.length) {
                    var g = (o + s) / 2
                      , y = (a + u) / 2;
                    m.push(new r.a(v[3],g,y,s,u), new r.a(v[2],o,y,g,u), new r.a(v[1],g,a,s,y), new r.a(v[0],o,a,g,y)),
                    (f = (e >= y) << 1 | t >= g) && (c = m[m.length - 1],
                    m[m.length - 1] = m[m.length - 1 - f],
                    m[m.length - 1 - f] = c)
                } else {
                    var b = t - +this._x.call(null, v.data)
                      , _ = e - +this._y.call(null, v.data)
                      , x = b * b + _ * _;
                    if (x < n) {
                        var w = Math.sqrt(n = x);
                        l = t - w,
                        h = e - w,
                        d = t + w,
                        p = e + w,
                        i = v.data
                    }
                }
        return i
    }
}
, function(t, e, n) {
    "use strict";
    e.b = function(t) {
        for (var e = 0, n = t.length; e < n; ++e)
            this.remove(t[e]);
        return this
    }
    ,
    e.a = function(t) {
        if (isNaN(o = +this._x.call(null, t)) || isNaN(a = +this._y.call(null, t)))
            return this;
        var e, n, r, i, o, a, s, u, c, f, l, h, d = this._root, p = this._x0, m = this._y0, v = this._x1, g = this._y1;
        if (!d)
            return this;
        if (d.length)
            for (; ; ) {
                if ((c = o >= (s = (p + v) / 2)) ? p = s : v = s,
                (f = a >= (u = (m + g) / 2)) ? m = u : g = u,
                e = d,
                !(d = d[l = f << 1 | c]))
                    return this;
                if (!d.length)
                    break;
                (e[l + 1 & 3] || e[l + 2 & 3] || e[l + 3 & 3]) && (n = e,
                h = l)
            }
        for (; d.data !== t; )
            if (r = d,
            !(d = d.next))
                return this;
        return (i = d.next) && delete d.next,
        r ? (i ? r.next = i : delete r.next,
        this) : e ? (i ? e[l] = i : delete e[l],
        (d = e[0] || e[1] || e[2] || e[3]) && d === (e[3] || e[2] || e[1] || e[0]) && !d.length && (n ? n[h] = d : this._root = d),
        this) : (this._root = i,
        this)
    }
}
, function(t, e, n) {
    "use strict";
    e.a = function() {
        return this._root
    }
}
, function(t, e, n) {
    "use strict";
    e.a = function() {
        var t = 0;
        return this.visit(function(e) {
            if (!e.length)
                do {
                    ++t
                } while (e = e.next)
        }),
        t
    }
}
, function(t, e, n) {
    "use strict";
    var r = n(71);
    e.a = function(t) {
        var e, n, i, o, a, s, u = [], c = this._root;
        for (c && u.push(new r.a(c,this._x0,this._y0,this._x1,this._y1)); e = u.pop(); )
            if (!t(c = e.node, i = e.x0, o = e.y0, a = e.x1, s = e.y1) && c.length) {
                var f = (i + a) / 2
                  , l = (o + s) / 2;
                (n = c[3]) && u.push(new r.a(n,f,l,a,s)),
                (n = c[2]) && u.push(new r.a(n,i,l,f,s)),
                (n = c[1]) && u.push(new r.a(n,f,o,a,l)),
                (n = c[0]) && u.push(new r.a(n,i,o,f,l))
            }
        return this
    }
}
, function(t, e, n) {
    "use strict";
    var r = n(71);
    e.a = function(t) {
        var e, n = [], i = [];
        for (this._root && n.push(new r.a(this._root,this._x0,this._y0,this._x1,this._y1)); e = n.pop(); ) {
            var o = e.node;
            if (o.length) {
                var a, s = e.x0, u = e.y0, c = e.x1, f = e.y1, l = (s + c) / 2, h = (u + f) / 2;
                (a = o[0]) && n.push(new r.a(a,s,u,l,h)),
                (a = o[1]) && n.push(new r.a(a,l,u,c,h)),
                (a = o[2]) && n.push(new r.a(a,s,h,l,f)),
                (a = o[3]) && n.push(new r.a(a,l,h,c,f))
            }
            i.push(e)
        }
        for (; e = i.pop(); )
            t(e.node, e.x0, e.y0, e.x1, e.y1);
        return this
    }
}
, function(t, e, n) {
    "use strict";
    e.b = function(t) {
        return t[0]
    }
    ,
    e.a = function(t) {
        return arguments.length ? (this._x = t,
        this) : this._x
    }
}
, function(t, e, n) {
    "use strict";
    e.b = function(t) {
        return t[1]
    }
    ,
    e.a = function(t) {
        return arguments.length ? (this._y = t,
        this) : this._y
    }
}
, function(t, e, n) {
    "use strict";
    var r = n(24)
      , i = n(69)
      , o = n(40);
    function a(t) {
        return t.index
    }
    function s(t, e) {
        var n = t.get(e);
        if (!n)
            throw new Error("missing: " + e);
        return n
    }
    e.a = function(t) {
        var e, n, u, c, f, l = a, h = function(t) {
            return 1 / Math.min(c[t.source.index], c[t.target.index])
        }, d = Object(r.a)(30), p = 1;
        function m(r) {
            for (var o = 0, a = t.length; o < p; ++o)
                for (var s, u, c, l, h, d, m, v = 0; v < a; ++v)
                    u = (s = t[v]).source,
                    l = (c = s.target).x + c.vx - u.x - u.vx || Object(i.a)(),
                    h = c.y + c.vy - u.y - u.vy || Object(i.a)(),
                    l *= d = ((d = Math.sqrt(l * l + h * h)) - n[v]) / d * r * e[v],
                    h *= d,
                    c.vx -= l * (m = f[v]),
                    c.vy -= h * m,
                    u.vx += l * (m = 1 - m),
                    u.vy += h * m
        }
        function v() {
            if (u) {
                var r, i, a = u.length, h = t.length, d = Object(o.c)(u, l);
                for (r = 0,
                c = new Array(a); r < h; ++r)
                    (i = t[r]).index = r,
                    "object" != typeof i.source && (i.source = s(d, i.source)),
                    "object" != typeof i.target && (i.target = s(d, i.target)),
                    c[i.source.index] = (c[i.source.index] || 0) + 1,
                    c[i.target.index] = (c[i.target.index] || 0) + 1;
                for (r = 0,
                f = new Array(h); r < h; ++r)
                    i = t[r],
                    f[r] = c[i.source.index] / (c[i.source.index] + c[i.target.index]);
                e = new Array(h),
                g(),
                n = new Array(h),
                y()
            }
        }
        function g() {
            if (u)
                for (var n = 0, r = t.length; n < r; ++n)
                    e[n] = +h(t[n], n, t)
        }
        function y() {
            if (u)
                for (var e = 0, r = t.length; e < r; ++e)
                    n[e] = +d(t[e], e, t)
        }
        return null == t && (t = []),
        m.initialize = function(t) {
            u = t,
            v()
        }
        ,
        m.links = function(e) {
            return arguments.length ? (t = e,
            v(),
            m) : t
        }
        ,
        m.id = function(t) {
            return arguments.length ? (l = t,
            m) : l
        }
        ,
        m.iterations = function(t) {
            return arguments.length ? (p = +t,
            m) : p
        }
        ,
        m.strength = function(t) {
            return arguments.length ? (h = "function" == typeof t ? t : Object(r.a)(+t),
            g(),
            m) : h
        }
        ,
        m.distance = function(t) {
            return arguments.length ? (d = "function" == typeof t ? t : Object(r.a)(+t),
            y(),
            m) : d
        }
        ,
        m
    }
}
, function(t, e, n) {
    "use strict";
    var r = n(24)
      , i = n(69)
      , o = n(70)
      , a = n(130);
    e.a = function() {
        var t, e, n, s, u = Object(r.a)(-30), c = 1, f = 1 / 0, l = .81;
        function h(r) {
            var i, s = t.length, u = Object(o.a)(t, a.b, a.c).visitAfter(p);
            for (n = r,
            i = 0; i < s; ++i)
                e = t[i],
                u.visit(m)
        }
        function d() {
            if (t) {
                var e, n, r = t.length;
                for (s = new Array(r),
                e = 0; e < r; ++e)
                    n = t[e],
                    s[n.index] = +u(n, e, t)
            }
        }
        function p(t) {
            var e, n, r, i, o, a = 0, u = 0;
            if (t.length) {
                for (r = i = o = 0; o < 4; ++o)
                    (e = t[o]) && (n = Math.abs(e.value)) && (a += e.value,
                    u += n,
                    r += n * e.x,
                    i += n * e.y);
                t.x = r / u,
                t.y = i / u
            } else {
                (e = t).x = e.data.x,
                e.y = e.data.y;
                do {
                    a += s[e.data.index]
                } while (e = e.next)
            }
            t.value = a
        }
        function m(t, r, o, a) {
            if (!t.value)
                return !0;
            var u = t.x - e.x
              , h = t.y - e.y
              , d = a - r
              , p = u * u + h * h;
            if (d * d / l < p)
                return p < f && (0 === u && (p += (u = Object(i.a)()) * u),
                0 === h && (p += (h = Object(i.a)()) * h),
                p < c && (p = Math.sqrt(c * p)),
                e.vx += u * t.value * n / p,
                e.vy += h * t.value * n / p),
                !0;
            if (!(t.length || p >= f)) {
                (t.data !== e || t.next) && (0 === u && (p += (u = Object(i.a)()) * u),
                0 === h && (p += (h = Object(i.a)()) * h),
                p < c && (p = Math.sqrt(c * p)));
                do {
                    t.data !== e && (d = s[t.data.index] * n / p,
                    e.vx += u * d,
                    e.vy += h * d)
                } while (t = t.next)
            }
        }
        return h.initialize = function(e) {
            t = e,
            d()
        }
        ,
        h.strength = function(t) {
            return arguments.length ? (u = "function" == typeof t ? t : Object(r.a)(+t),
            d(),
            h) : u
        }
        ,
        h.distanceMin = function(t) {
            return arguments.length ? (c = t * t,
            h) : Math.sqrt(c)
        }
        ,
        h.distanceMax = function(t) {
            return arguments.length ? (f = t * t,
            h) : Math.sqrt(f)
        }
        ,
        h.theta = function(t) {
            return arguments.length ? (l = t * t,
            h) : Math.sqrt(l)
        }
        ,
        h
    }
}
, function(t, e, n) {
    "use strict";
    var r = n(24);
    e.a = function(t, e, n) {
        var i, o, a, s = Object(r.a)(.1);
        function u(t) {
            for (var r = 0, s = i.length; r < s; ++r) {
                var u = i[r]
                  , c = u.x - e || 1e-6
                  , f = u.y - n || 1e-6
                  , l = Math.sqrt(c * c + f * f)
                  , h = (a[r] - l) * o[r] * t / l;
                u.vx += c * h,
                u.vy += f * h
            }
        }
        function c() {
            if (i) {
                var e, n = i.length;
                for (o = new Array(n),
                a = new Array(n),
                e = 0; e < n; ++e)
                    a[e] = +t(i[e], e, i),
                    o[e] = isNaN(a[e]) ? 0 : +s(i[e], e, i)
            }
        }
        return "function" != typeof t && (t = Object(r.a)(+t)),
        null == e && (e = 0),
        null == n && (n = 0),
        u.initialize = function(t) {
            i = t,
            c()
        }
        ,
        u.strength = function(t) {
            return arguments.length ? (s = "function" == typeof t ? t : Object(r.a)(+t),
            c(),
            u) : s
        }
        ,
        u.radius = function(e) {
            return arguments.length ? (t = "function" == typeof e ? e : Object(r.a)(+e),
            c(),
            u) : t
        }
        ,
        u.x = function(t) {
            return arguments.length ? (e = +t,
            u) : e
        }
        ,
        u.y = function(t) {
            return arguments.length ? (n = +t,
            u) : n
        }
        ,
        u
    }
}
, function(t, e, n) {
    "use strict";
    var r = n(24);
    e.a = function(t) {
        var e, n, i, o = Object(r.a)(.1);
        function a(t) {
            for (var r, o = 0, a = e.length; o < a; ++o)
                (r = e[o]).vx += (i[o] - r.x) * n[o] * t
        }
        function s() {
            if (e) {
                var r, a = e.length;
                for (n = new Array(a),
                i = new Array(a),
                r = 0; r < a; ++r)
                    n[r] = isNaN(i[r] = +t(e[r], r, e)) ? 0 : +o(e[r], r, e)
            }
        }
        return "function" != typeof t && (t = Object(r.a)(null == t ? 0 : +t)),
        a.initialize = function(t) {
            e = t,
            s()
        }
        ,
        a.strength = function(t) {
            return arguments.length ? (o = "function" == typeof t ? t : Object(r.a)(+t),
            s(),
            a) : o
        }
        ,
        a.x = function(e) {
            return arguments.length ? (t = "function" == typeof e ? e : Object(r.a)(+e),
            s(),
            a) : t
        }
        ,
        a
    }
}
, function(t, e, n) {
    "use strict";
    var r = n(24);
    e.a = function(t) {
        var e, n, i, o = Object(r.a)(.1);
        function a(t) {
            for (var r, o = 0, a = e.length; o < a; ++o)
                (r = e[o]).vy += (i[o] - r.y) * n[o] * t
        }
        function s() {
            if (e) {
                var r, a = e.length;
                for (n = new Array(a),
                i = new Array(a),
                r = 0; r < a; ++r)
                    n[r] = isNaN(i[r] = +t(e[r], r, e)) ? 0 : +o(e[r], r, e)
            }
        }
        return "function" != typeof t && (t = Object(r.a)(null == t ? 0 : +t)),
        a.initialize = function(t) {
            e = t,
            s()
        }
        ,
        a.strength = function(t) {
            return arguments.length ? (o = "function" == typeof t ? t : Object(r.a)(+t),
            s(),
            a) : o
        }
        ,
        a.y = function(e) {
            return arguments.length ? (t = "function" == typeof e ? e : Object(r.a)(+e),
            s(),
            a) : t
        }
        ,
        a
    }
}
, function(t, e, n) {
    "use strict";
    n.d(e, "b", function() {
        return i
    }),
    n.d(e, "c", function() {
        return o
    }),
    e.a = s;
    var r, i, o, a = n(131);
    function s(t) {
        return r = Object(a.a)(t),
        i = r.format,
        o = r.formatPrefix,
        r
    }
    s({
        decimal: ".",
        thousands: ",",
        grouping: [3],
        currency: ["$", ""]
    })
}
, function(t, e, n) {
    "use strict";
    e.a = function(t, e) {
        return function(n, r) {
            for (var i = n.length, o = [], a = 0, s = t[0], u = 0; i > 0 && s > 0 && (u + s + 1 > r && (s = Math.max(1, r - u)),
            o.push(n.substring(i -= s, i + s)),
            !((u += s + 1) > r)); )
                s = t[a = (a + 1) % t.length];
            return o.reverse().join(e)
        }
    }
}
, function(t, e, n) {
    "use strict";
    e.a = function(t) {
        return function(e) {
            return e.replace(/[0-9]/g, function(e) {
                return t[+e]
            })
        }
    }
}
, function(t, e, n) {
    "use strict";
    e.a = function(t) {
        t: for (var e, n = t.length, r = 1, i = -1; r < n; ++r)
            switch (t[r]) {
            case ".":
                i = e = r;
                break;
            case "0":
                0 === i && (i = r),
                e = r;
                break;
            default:
                if (i > 0) {
                    if (!+t[r])
                        break t;
                    i = 0
                }
            }
        return i > 0 ? t.slice(0, i) + t.slice(e + 1) : t
    }
}
, function(t, e, n) {
    "use strict";
    var r = n(133)
      , i = n(356);
    e.a = {
        "%": function(t, e) {
            return (100 * t).toFixed(e)
        },
        b: function(t) {
            return Math.round(t).toString(2)
        },
        c: function(t) {
            return t + ""
        },
        d: function(t) {
            return Math.round(t).toString(10)
        },
        e: function(t, e) {
            return t.toExponential(e)
        },
        f: function(t, e) {
            return t.toFixed(e)
        },
        g: function(t, e) {
            return t.toPrecision(e)
        },
        o: function(t) {
            return Math.round(t).toString(8)
        },
        p: function(t, e) {
            return Object(i.a)(100 * t, e)
        },
        r: i.a,
        s: r.a,
        X: function(t) {
            return Math.round(t).toString(16).toUpperCase()
        },
        x: function(t) {
            return Math.round(t).toString(16)
        }
    }
}
, function(t, e, n) {
    "use strict";
    var r = n(73);
    e.a = function(t, e) {
        var n = Object(r.a)(t, e);
        if (!n)
            return t + "";
        var i = n[0]
          , o = n[1];
        return o < 0 ? "0." + new Array(-o).join("0") + i : i.length > o + 1 ? i.slice(0, o + 1) + "." + i.slice(o + 1) : i + new Array(o - i.length + 2).join("0")
    }
}
, function(t, e, n) {
    "use strict";
    e.a = function(t) {
        return t
    }
}
, function(t, e, n) {
    "use strict";
    var r = n(41);
    e.a = function(t) {
        return Math.max(0, -Object(r.a)(Math.abs(t)))
    }
}
, function(t, e, n) {
    "use strict";
    var r = n(41);
    e.a = function(t, e) {
        return Math.max(0, 3 * Math.max(-8, Math.min(8, Math.floor(Object(r.a)(e) / 3))) - Object(r.a)(Math.abs(t)))
    }
}
, function(t, e, n) {
    "use strict";
    var r = n(41);
    e.a = function(t, e) {
        return t = Math.abs(t),
        e = Math.abs(e) - t,
        Math.max(0, Object(r.a)(e) - Object(r.a)(t)) + 1
    }
}
, function(t, e, n) {
    "use strict";
    var r = n(134);
    n.d(e, "c", function() {
        return r.c
    });
    var i = n(362);
    n.d(e, "h", function() {
        return i.a
    });
    var o = n(363);
    n.d(e, "i", function() {
        return o.a
    });
    var a = n(135);
    n.d(e, "j", function() {
        return a.b
    });
    var s = n(137);
    n.d(e, "k", function() {
        return s.a
    });
    var u = n(143);
    n.d(e, "l", function() {
        return u.a
    });
    var c = n(365);
    n.d(e, "m", function() {
        return c.a
    });
    var f = n(43);
    n.d(e, "n", function() {
        return f.a
    });
    var l = n(367);
    n.d(e, "u", function() {
        return l.a
    });
    var h = n(144);
    n.d(e, "v", function() {
        return h.a
    });
    var d = n(368);
    n.d(e, "C", function() {
        return d.a
    }),
    n.d(e, "D", function() {
        return d.b
    });
    var p = n(369);
    n.d(e, "F", function() {
        return p.a
    });
    var m = n(145);
    n.d(e, "G", function() {
        return m.a
    });
    var v = n(370);
    n.d(e, "N", function() {
        return v.a
    });
    var g = n(147);
    n.d(e, "a", function() {
        return g.a
    });
    var y = n(378);
    n.d(e, "b", function() {
        return y.a
    });
    var b = n(379);
    n.d(e, "d", function() {
        return b.b
    }),
    n.d(e, "e", function() {
        return b.a
    });
    var _ = n(380);
    n.d(e, "f", function() {
        return _.b
    }),
    n.d(e, "g", function() {
        return _.a
    });
    var x = n(381);
    n.d(e, "o", function() {
        return x.b
    }),
    n.d(e, "p", function() {
        return x.a
    });
    var w = n(75);
    n.d(e, "q", function() {
        return w.b
    }),
    n.d(e, "r", function() {
        return w.a
    });
    var M = n(382);
    n.d(e, "s", function() {
        return M.b
    }),
    n.d(e, "t", function() {
        return M.a
    });
    var E = n(383);
    n.d(e, "w", function() {
        return E.a
    }),
    n.d(e, "x", function() {
        return E.b
    });
    var T = n(148);
    n.d(e, "y", function() {
        return T.a
    }),
    n.d(e, "z", function() {
        return T.b
    });
    var S = n(384);
    n.d(e, "A", function() {
        return S.a
    }),
    n.d(e, "B", function() {
        return S.b
    });
    var O = n(385);
    n.d(e, "E", function() {
        return O.a
    });
    var A = n(10);
    n.d(e, "O", function() {
        return A.a
    }),
    n.d(e, "P", function() {
        return A.b
    });
    var L = n(78);
    n.d(e, "H", function() {
        return L.a
    }),
    n.d(e, "I", function() {
        return L.c
    });
    var R = n(386);
    n.d(e, "J", function() {
        return R.a
    }),
    n.d(e, "K", function() {
        return R.b
    });
    var C = n(387);
    n.d(e, "L", function() {
        return C.a
    }),
    n.d(e, "M", function() {
        return C.b
    });
    var j = n(388);
    n.d(e, "R", function() {
        return j.a
    }),
    n.d(e, "S", function() {
        return j.b
    });
    var P = n(389);
    n.d(e, "V", function() {
        return P.a
    }),
    n.d(e, "W", function() {
        return P.b
    });
    var N = n(42);
    n.d(e, "Q", function() {
        return N.a
    });
    var I = n(17);
    n.d(e, "T", function() {
        return I.a
    });
    var D = n(44);
    n.d(e, "U", function() {
        return D.a
    })
}
, function(t, e, n) {
    "use strict";
    var r, i, o, a, s, u, c, f, l, h, d = n(25), p = n(134), m = n(28), v = n(0), g = n(17), y = Object(d.a)(), b = {
        point: _,
        lineStart: w,
        lineEnd: M,
        polygonStart: function() {
            b.point = E,
            b.lineStart = T,
            b.lineEnd = S,
            y.reset(),
            p.b.polygonStart()
        },
        polygonEnd: function() {
            p.b.polygonEnd(),
            b.point = _,
            b.lineStart = w,
            b.lineEnd = M,
            p.a < 0 ? (r = -(o = 180),
            i = -(a = 90)) : y > v.i ? a = 90 : y < -v.i && (i = -90),
            h[0] = r,
            h[1] = o
        }
    };
    function _(t, e) {
        l.push(h = [r = t, o = t]),
        e < i && (i = e),
        e > a && (a = e)
    }
    function x(t, e) {
        var n = Object(m.a)([t * v.r, e * v.r]);
        if (f) {
            var u = Object(m.c)(f, n)
              , c = [u[1], -u[0], 0]
              , d = Object(m.c)(c, u);
            Object(m.e)(d),
            d = Object(m.g)(d);
            var p, g = t - s, y = g > 0 ? 1 : -1, b = d[0] * v.h * y, _ = Object(v.a)(g) > 180;
            _ ^ (y * s < b && b < y * t) ? (p = d[1] * v.h) > a && (a = p) : _ ^ (y * s < (b = (b + 360) % 360 - 180) && b < y * t) ? (p = -d[1] * v.h) < i && (i = p) : (e < i && (i = e),
            e > a && (a = e)),
            _ ? t < s ? O(r, t) > O(r, o) && (o = t) : O(t, o) > O(r, o) && (r = t) : o >= r ? (t < r && (r = t),
            t > o && (o = t)) : t > s ? O(r, t) > O(r, o) && (o = t) : O(t, o) > O(r, o) && (r = t)
        } else
            l.push(h = [r = t, o = t]);
        e < i && (i = e),
        e > a && (a = e),
        f = n,
        s = t
    }
    function w() {
        b.point = x
    }
    function M() {
        h[0] = r,
        h[1] = o,
        b.point = _,
        f = null
    }
    function E(t, e) {
        if (f) {
            var n = t - s;
            y.add(Object(v.a)(n) > 180 ? n + (n > 0 ? 360 : -360) : n)
        } else
            u = t,
            c = e;
        p.b.point(t, e),
        x(t, e)
    }
    function T() {
        p.b.lineStart()
    }
    function S() {
        E(u, c),
        p.b.lineEnd(),
        Object(v.a)(y) > v.i && (r = -(o = 180)),
        h[0] = r,
        h[1] = o,
        f = null
    }
    function O(t, e) {
        return (e -= t) < 0 ? e + 360 : e
    }
    function A(t, e) {
        return t[0] - e[0]
    }
    function L(t, e) {
        return t[0] <= t[1] ? t[0] <= e && e <= t[1] : e < t[0] || t[1] < e
    }
    e.a = function(t) {
        var e, n, s, u, c, f, d;
        if (a = o = -(r = i = 1 / 0),
        l = [],
        Object(g.a)(t, b),
        n = l.length) {
            for (l.sort(A),
            e = 1,
            c = [s = l[0]]; e < n; ++e)
                L(s, (u = l[e])[0]) || L(s, u[1]) ? (O(s[0], u[1]) > O(s[0], s[1]) && (s[1] = u[1]),
                O(u[0], s[1]) > O(s[0], s[1]) && (s[0] = u[0])) : c.push(s = u);
            for (f = -1 / 0,
            e = 0,
            s = c[n = c.length - 1]; e <= n; s = u,
            ++e)
                u = c[e],
                (d = O(s[1], u[0])) > f && (f = d,
                r = u[0],
                o = s[1])
        }
        return l = h = null,
        r === 1 / 0 || i === 1 / 0 ? [[NaN, NaN], [NaN, NaN]] : [[r, i], [o, a]]
    }
}
, function(t, e, n) {
    "use strict";
    var r, i, o, a, s, u, c, f, l, h, d, p, m, v, g, y, b = n(0), _ = n(14), x = n(17), w = {
        sphere: _.a,
        point: M,
        lineStart: T,
        lineEnd: A,
        polygonStart: function() {
            w.lineStart = L,
            w.lineEnd = R
        },
        polygonEnd: function() {
            w.lineStart = T,
            w.lineEnd = A
        }
    };
    function M(t, e) {
        t *= b.r,
        e *= b.r;
        var n = Object(b.g)(e);
        E(n * Object(b.g)(t), n * Object(b.t)(t), Object(b.t)(e))
    }
    function E(t, e, n) {
        o += (t - o) / ++r,
        a += (e - a) / r,
        s += (n - s) / r
    }
    function T() {
        w.point = S
    }
    function S(t, e) {
        t *= b.r,
        e *= b.r;
        var n = Object(b.g)(e);
        v = n * Object(b.g)(t),
        g = n * Object(b.t)(t),
        y = Object(b.t)(e),
        w.point = O,
        E(v, g, y)
    }
    function O(t, e) {
        t *= b.r,
        e *= b.r;
        var n = Object(b.g)(e)
          , r = n * Object(b.g)(t)
          , o = n * Object(b.t)(t)
          , a = Object(b.t)(e)
          , s = Object(b.e)(Object(b.u)((s = g * a - y * o) * s + (s = y * r - v * a) * s + (s = v * o - g * r) * s), v * r + g * o + y * a);
        i += s,
        u += s * (v + (v = r)),
        c += s * (g + (g = o)),
        f += s * (y + (y = a)),
        E(v, g, y)
    }
    function A() {
        w.point = M
    }
    function L() {
        w.point = C
    }
    function R() {
        j(p, m),
        w.point = M
    }
    function C(t, e) {
        p = t,
        m = e,
        t *= b.r,
        e *= b.r,
        w.point = j;
        var n = Object(b.g)(e);
        v = n * Object(b.g)(t),
        g = n * Object(b.t)(t),
        y = Object(b.t)(e),
        E(v, g, y)
    }
    function j(t, e) {
        t *= b.r,
        e *= b.r;
        var n = Object(b.g)(e)
          , r = n * Object(b.g)(t)
          , o = n * Object(b.t)(t)
          , a = Object(b.t)(e)
          , s = g * a - y * o
          , p = y * r - v * a
          , m = v * o - g * r
          , _ = Object(b.u)(s * s + p * p + m * m)
          , x = Object(b.c)(_)
          , w = _ && -x / _;
        l += w * s,
        h += w * p,
        d += w * m,
        i += x,
        u += x * (v + (v = r)),
        c += x * (g + (g = o)),
        f += x * (y + (y = a)),
        E(v, g, y)
    }
    e.a = function(t) {
        r = i = o = a = s = u = c = f = l = h = d = 0,
        Object(x.a)(t, w);
        var e = l
          , n = h
          , p = d
          , m = e * e + n * n + p * p;
        return m < b.j && (e = u,
        n = c,
        p = f,
        i < b.i && (e = o,
        n = a,
        p = s),
        (m = e * e + n * n + p * p) < b.j) ? [NaN, NaN] : [Object(b.e)(n, e) * b.h, Object(b.c)(p / Object(b.u)(m)) * b.h]
    }
}
, function(t, e, n) {
    "use strict";
    e.a = function(t) {
        return function() {
            return t
        }
    }
}
, function(t, e, n) {
    "use strict";
    var r = n(43);
    e.a = function() {
        var t, e, n, i = 0, o = 0, a = 960, s = 500;
        return n = {
            stream: function(n) {
                return t && e === n ? t : t = Object(r.a)(i, o, a, s)(e = n)
            },
            extent: function(r) {
                return arguments.length ? (i = +r[0][0],
                o = +r[0][1],
                a = +r[1][0],
                s = +r[1][1],
                t = e = null,
                n) : [[i, o], [a, s]]
            }
        }
    }
}
, function(t, e, n) {
    "use strict";
    e.a = function(t, e, n, r, i, o) {
        var a, s = t[0], u = t[1], c = 0, f = 1, l = e[0] - s, h = e[1] - u;
        if (a = n - s,
        l || !(a > 0)) {
            if (a /= l,
            l < 0) {
                if (a < c)
                    return;
                a < f && (f = a)
            } else if (l > 0) {
                if (a > f)
                    return;
                a > c && (c = a)
            }
            if (a = i - s,
            l || !(a < 0)) {
                if (a /= l,
                l < 0) {
                    if (a > f)
                        return;
                    a > c && (c = a)
                } else if (l > 0) {
                    if (a < c)
                        return;
                    a < f && (f = a)
                }
                if (a = r - u,
                h || !(a > 0)) {
                    if (a /= h,
                    h < 0) {
                        if (a < c)
                            return;
                        a < f && (f = a)
                    } else if (h > 0) {
                        if (a > f)
                            return;
                        a > c && (c = a)
                    }
                    if (a = o - u,
                    h || !(a < 0)) {
                        if (a /= h,
                        h < 0) {
                            if (a > f)
                                return;
                            a > c && (c = a)
                        } else if (h > 0) {
                            if (a < c)
                                return;
                            a < f && (f = a)
                        }
                        return c > 0 && (t[0] = s + c * l,
                        t[1] = u + c * h),
                        f < 1 && (e[0] = s + f * l,
                        e[1] = u + f * h),
                        !0
                    }
                }
            }
        }
    }
}
, function(t, e, n) {
    "use strict";
    var r = n(142)
      , i = n(144)
      , o = n(0)
      , a = {
        Feature: function(t, e) {
            return u(t.geometry, e)
        },
        FeatureCollection: function(t, e) {
            for (var n = t.features, r = -1, i = n.length; ++r < i; )
                if (u(n[r].geometry, e))
                    return !0;
            return !1
        }
    }
      , s = {
        Sphere: function() {
            return !0
        },
        Point: function(t, e) {
            return c(t.coordinates, e)
        },
        MultiPoint: function(t, e) {
            for (var n = t.coordinates, r = -1, i = n.length; ++r < i; )
                if (c(n[r], e))
                    return !0;
            return !1
        },
        LineString: function(t, e) {
            return f(t.coordinates, e)
        },
        MultiLineString: function(t, e) {
            for (var n = t.coordinates, r = -1, i = n.length; ++r < i; )
                if (f(n[r], e))
                    return !0;
            return !1
        },
        Polygon: function(t, e) {
            return l(t.coordinates, e)
        },
        MultiPolygon: function(t, e) {
            for (var n = t.coordinates, r = -1, i = n.length; ++r < i; )
                if (l(n[r], e))
                    return !0;
            return !1
        },
        GeometryCollection: function(t, e) {
            for (var n = t.geometries, r = -1, i = n.length; ++r < i; )
                if (u(n[r], e))
                    return !0;
            return !1
        }
    };
    function u(t, e) {
        return !(!t || !s.hasOwnProperty(t.type)) && s[t.type](t, e)
    }
    function c(t, e) {
        return 0 === Object(i.a)(t, e)
    }
    function f(t, e) {
        var n = Object(i.a)(t[0], t[1]);
        return Object(i.a)(t[0], e) + Object(i.a)(e, t[1]) <= n + o.i
    }
    function l(t, e) {
        return !!Object(r.a)(t.map(h), d(e))
    }
    function h(t) {
        return (t = t.map(d)).pop(),
        t
    }
    function d(t) {
        return [t[0] * o.r, t[1] * o.r]
    }
    e.a = function(t, e) {
        return (t && a.hasOwnProperty(t.type) ? a[t.type] : u)(t, e)
    }
}
, function(t, e, n) {
    "use strict";
    e.a = s,
    e.b = function() {
        return s()()
    }
    ;
    var r = n(3)
      , i = n(0);
    function o(t, e, n) {
        var o = Object(r.s)(t, e - i.i, n).concat(e);
        return function(t) {
            return o.map(function(e) {
                return [t, e]
            })
        }
    }
    function a(t, e, n) {
        var o = Object(r.s)(t, e - i.i, n).concat(e);
        return function(t) {
            return o.map(function(e) {
                return [e, t]
            })
        }
    }
    function s() {
        var t, e, n, s, u, c, f, l, h, d, p, m, v = 10, g = v, y = 90, b = 360, _ = 2.5;
        function x() {
            return {
                type: "MultiLineString",
                coordinates: w()
            }
        }
        function w() {
            return Object(r.s)(Object(i.f)(s / y) * y, n, y).map(p).concat(Object(r.s)(Object(i.f)(l / b) * b, f, b).map(m)).concat(Object(r.s)(Object(i.f)(e / v) * v, t, v).filter(function(t) {
                return Object(i.a)(t % y) > i.i
            }).map(h)).concat(Object(r.s)(Object(i.f)(c / g) * g, u, g).filter(function(t) {
                return Object(i.a)(t % b) > i.i
            }).map(d))
        }
        return x.lines = function() {
            return w().map(function(t) {
                return {
                    type: "LineString",
                    coordinates: t
                }
            })
        }
        ,
        x.outline = function() {
            return {
                type: "Polygon",
                coordinates: [p(s).concat(m(f).slice(1), p(n).reverse().slice(1), m(l).reverse().slice(1))]
            }
        }
        ,
        x.extent = function(t) {
            return arguments.length ? x.extentMajor(t).extentMinor(t) : x.extentMinor()
        }
        ,
        x.extentMajor = function(t) {
            return arguments.length ? (s = +t[0][0],
            n = +t[1][0],
            l = +t[0][1],
            f = +t[1][1],
            s > n && (t = s,
            s = n,
            n = t),
            l > f && (t = l,
            l = f,
            f = t),
            x.precision(_)) : [[s, l], [n, f]]
        }
        ,
        x.extentMinor = function(n) {
            return arguments.length ? (e = +n[0][0],
            t = +n[1][0],
            c = +n[0][1],
            u = +n[1][1],
            e > t && (n = e,
            e = t,
            t = n),
            c > u && (n = c,
            c = u,
            u = n),
            x.precision(_)) : [[e, c], [t, u]]
        }
        ,
        x.step = function(t) {
            return arguments.length ? x.stepMajor(t).stepMinor(t) : x.stepMinor()
        }
        ,
        x.stepMajor = function(t) {
            return arguments.length ? (y = +t[0],
            b = +t[1],
            x) : [y, b]
        }
        ,
        x.stepMinor = function(t) {
            return arguments.length ? (v = +t[0],
            g = +t[1],
            x) : [v, g]
        }
        ,
        x.precision = function(r) {
            return arguments.length ? (_ = +r,
            h = o(c, u, 90),
            d = a(e, t, _),
            p = o(l, f, 90),
            m = a(s, n, _),
            x) : _
        }
        ,
        x.extentMajor([[-180, -90 + i.i], [180, 90 - i.i]]).extentMinor([[-180, -80 - i.i], [180, 80 + i.i]])
    }
}
, function(t, e, n) {
    "use strict";
    var r = n(0);
    e.a = function(t, e) {
        var n = t[0] * r.r
          , i = t[1] * r.r
          , o = e[0] * r.r
          , a = e[1] * r.r
          , s = Object(r.g)(i)
          , u = Object(r.t)(i)
          , c = Object(r.g)(a)
          , f = Object(r.t)(a)
          , l = s * Object(r.g)(n)
          , h = s * Object(r.t)(n)
          , d = c * Object(r.g)(o)
          , p = c * Object(r.t)(o)
          , m = 2 * Object(r.c)(Object(r.u)(Object(r.m)(a - i) + s * c * Object(r.m)(o - n)))
          , v = Object(r.t)(m)
          , g = m ? function(t) {
            var e = Object(r.t)(t *= m) / v
              , n = Object(r.t)(m - t) / v
              , i = n * l + e * d
              , o = n * h + e * p
              , a = n * u + e * f;
            return [Object(r.e)(o, i) * r.h, Object(r.e)(a, Object(r.u)(i * i + o * o)) * r.h]
        }
        : function() {
            return [n * r.h, i * r.h]
        }
        ;
        return g.distance = m,
        g
    }
}
, function(t, e, n) {
    "use strict";
    var r = n(74)
      , i = n(17)
      , o = n(371)
      , a = n(146)
      , s = n(372)
      , u = n(373)
      , c = n(374)
      , f = n(375);
    e.a = function(t, e) {
        var n, l, h = 4.5;
        function d(t) {
            return t && ("function" == typeof h && l.pointRadius(+h.apply(this, arguments)),
            Object(i.a)(t, n(l))),
            l.result()
        }
        return d.area = function(t) {
            return Object(i.a)(t, n(o.a)),
            o.a.result()
        }
        ,
        d.measure = function(t) {
            return Object(i.a)(t, n(c.a)),
            c.a.result()
        }
        ,
        d.bounds = function(t) {
            return Object(i.a)(t, n(a.a)),
            a.a.result()
        }
        ,
        d.centroid = function(t) {
            return Object(i.a)(t, n(s.a)),
            s.a.result()
        }
        ,
        d.projection = function(e) {
            return arguments.length ? (n = null == e ? (t = null,
            r.a) : (t = e).stream,
            d) : t
        }
        ,
        d.context = function(t) {
            return arguments.length ? (l = null == t ? (e = null,
            new f.a) : new u.a(e = t),
            "function" != typeof h && l.pointRadius(h),
            d) : e
        }
        ,
        d.pointRadius = function(t) {
            return arguments.length ? (h = "function" == typeof t ? t : (l.pointRadius(+t),
            +t),
            d) : h
        }
        ,
        d.projection(t).context(e)
    }
}
, function(t, e, n) {
    "use strict";
    var r, i, o, a, s = n(25), u = n(0), c = n(14), f = Object(s.a)(), l = Object(s.a)(), h = {
        point: c.a,
        lineStart: c.a,
        lineEnd: c.a,
        polygonStart: function() {
            h.lineStart = d,
            h.lineEnd = v
        },
        polygonEnd: function() {
            h.lineStart = h.lineEnd = h.point = c.a,
            f.add(Object(u.a)(l)),
            l.reset()
        },
        result: function() {
            var t = f / 2;
            return f.reset(),
            t
        }
    };
    function d() {
        h.point = p
    }
    function p(t, e) {
        h.point = m,
        r = o = t,
        i = a = e
    }
    function m(t, e) {
        l.add(a * t - o * e),
        o = t,
        a = e
    }
    function v() {
        m(r, i)
    }
    e.a = h
}
, function(t, e, n) {
    "use strict";
    var r, i, o, a, s = n(0), u = 0, c = 0, f = 0, l = 0, h = 0, d = 0, p = 0, m = 0, v = 0, g = {
        point: y,
        lineStart: b,
        lineEnd: w,
        polygonStart: function() {
            g.lineStart = M,
            g.lineEnd = E
        },
        polygonEnd: function() {
            g.point = y,
            g.lineStart = b,
            g.lineEnd = w
        },
        result: function() {
            var t = v ? [p / v, m / v] : d ? [l / d, h / d] : f ? [u / f, c / f] : [NaN, NaN];
            return u = c = f = l = h = d = p = m = v = 0,
            t
        }
    };
    function y(t, e) {
        u += t,
        c += e,
        ++f
    }
    function b() {
        g.point = _
    }
    function _(t, e) {
        g.point = x,
        y(o = t, a = e)
    }
    function x(t, e) {
        var n = t - o
          , r = e - a
          , i = Object(s.u)(n * n + r * r);
        l += i * (o + t) / 2,
        h += i * (a + e) / 2,
        d += i,
        y(o = t, a = e)
    }
    function w() {
        g.point = y
    }
    function M() {
        g.point = T
    }
    function E() {
        S(r, i)
    }
    function T(t, e) {
        g.point = S,
        y(r = o = t, i = a = e)
    }
    function S(t, e) {
        var n = t - o
          , r = e - a
          , i = Object(s.u)(n * n + r * r);
        l += i * (o + t) / 2,
        h += i * (a + e) / 2,
        d += i,
        p += (i = a * t - o * e) * (o + t),
        m += i * (a + e),
        v += 3 * i,
        y(o = t, a = e)
    }
    e.a = g
}
, function(t, e, n) {
    "use strict";
    e.a = o;
    var r = n(0)
      , i = n(14);
    function o(t) {
        this._context = t
    }
    o.prototype = {
        _radius: 4.5,
        pointRadius: function(t) {
            return this._radius = t,
            this
        },
        polygonStart: function() {
            this._line = 0
        },
        polygonEnd: function() {
            this._line = NaN
        },
        lineStart: function() {
            this._point = 0
        },
        lineEnd: function() {
            0 === this._line && this._context.closePath(),
            this._point = NaN
        },
        point: function(t, e) {
            switch (this._point) {
            case 0:
                this._context.moveTo(t, e),
                this._point = 1;
                break;
            case 1:
                this._context.lineTo(t, e);
                break;
            default:
                this._context.moveTo(t + this._radius, e),
                this._context.arc(t, e, this._radius, 0, r.w)
            }
        },
        result: i.a
    }
}
, function(t, e, n) {
    "use strict";
    var r, i, o, a, s, u = n(25), c = n(0), f = n(14), l = Object(u.a)(), h = {
        point: f.a,
        lineStart: function() {
            h.point = d
        },
        lineEnd: function() {
            r && p(i, o),
            h.point = f.a
        },
        polygonStart: function() {
            r = !0
        },
        polygonEnd: function() {
            r = null
        },
        result: function() {
            var t = +l;
            return l.reset(),
            t
        }
    };
    function d(t, e) {
        h.point = p,
        i = a = t,
        o = s = e
    }
    function p(t, e) {
        a -= t,
        s -= e,
        l.add(Object(c.u)(a * a + s * s)),
        a = t,
        s = e
    }
    e.a = h
}
, function(t, e, n) {
    "use strict";
    function r() {
        this._string = []
    }
    function i(t) {
        return "m0," + t + "a" + t + "," + t + " 0 1,1 0," + -2 * t + "a" + t + "," + t + " 0 1,1 0," + 2 * t + "z"
    }
    e.a = r,
    r.prototype = {
        _radius: 4.5,
        _circle: i(4.5),
        pointRadius: function(t) {
            return (t = +t) !== this._radius && (this._radius = t,
            this._circle = null),
            this
        },
        polygonStart: function() {
            this._line = 0
        },
        polygonEnd: function() {
            this._line = NaN
        },
        lineStart: function() {
            this._point = 0
        },
        lineEnd: function() {
            0 === this._line && this._string.push("Z"),
            this._point = NaN
        },
        point: function(t, e) {
            switch (this._point) {
            case 0:
                this._string.push("M", t, ",", e),
                this._point = 1;
                break;
            case 1:
                this._string.push("L", t, ",", e);
                break;
            default:
                null == this._circle && (this._circle = i(this._radius)),
                this._string.push("M", t, ",", e, this._circle)
            }
        },
        result: function() {
            if (this._string.length) {
                var t = this._string.join("");
                return this._string = [],
                t
            }
            return null
        }
    }
}
, function(t, e, n) {
    "use strict";
    var r = n(28)
      , i = n(0)
      , o = n(44)
      , a = 16
      , s = Object(i.g)(30 * i.r);
    e.a = function(t, e) {
        return +e ? function(t, e) {
            function n(r, o, a, u, c, f, l, h, d, p, m, v, g, y) {
                var b = l - r
                  , _ = h - o
                  , x = b * b + _ * _;
                if (x > 4 * e && g--) {
                    var w = u + p
                      , M = c + m
                      , E = f + v
                      , T = Object(i.u)(w * w + M * M + E * E)
                      , S = Object(i.c)(E /= T)
                      , O = Object(i.a)(Object(i.a)(E) - 1) < i.i || Object(i.a)(a - d) < i.i ? (a + d) / 2 : Object(i.e)(M, w)
                      , A = t(O, S)
                      , L = A[0]
                      , R = A[1]
                      , C = L - r
                      , j = R - o
                      , P = _ * C - b * j;
                    (P * P / x > e || Object(i.a)((b * C + _ * j) / x - .5) > .3 || u * p + c * m + f * v < s) && (n(r, o, a, u, c, f, L, R, O, w /= T, M /= T, E, g, y),
                    y.point(L, R),
                    n(L, R, O, w, M, E, l, h, d, p, m, v, g, y))
                }
            }
            return function(e) {
                var i, o, s, u, c, f, l, h, d, p, m, v, g = {
                    point: y,
                    lineStart: b,
                    lineEnd: x,
                    polygonStart: function() {
                        e.polygonStart(),
                        g.lineStart = w
                    },
                    polygonEnd: function() {
                        e.polygonEnd(),
                        g.lineStart = b
                    }
                };
                function y(n, r) {
                    n = t(n, r),
                    e.point(n[0], n[1])
                }
                function b() {
                    h = NaN,
                    g.point = _,
                    e.lineStart()
                }
                function _(i, o) {
                    var s = Object(r.a)([i, o])
                      , u = t(i, o);
                    n(h, d, l, p, m, v, h = u[0], d = u[1], l = i, p = s[0], m = s[1], v = s[2], a, e),
                    e.point(h, d)
                }
                function x() {
                    g.point = y,
                    e.lineEnd()
                }
                function w() {
                    b(),
                    g.point = M,
                    g.lineEnd = E
                }
                function M(t, e) {
                    _(i = t, e),
                    o = h,
                    s = d,
                    u = p,
                    c = m,
                    f = v,
                    g.point = _
                }
                function E() {
                    n(h, d, l, p, m, v, o, s, i, u, c, f, a, e),
                    g.lineEnd = x,
                    x()
                }
                return g
            }
        }(t, e) : function(t) {
            return Object(o.b)({
                point: function(e, n) {
                    e = t(e, n),
                    this.stream.point(e[0], e[1])
                }
            })
        }(t)
    }
}
, function(t, e, n) {
    "use strict";
    e.a = function(t) {
        var e = Object(r.g)(t);
        function n(t, n) {
            return [t * e, Object(r.t)(n) / e]
        }
        return n.invert = function(t, n) {
            return [t / e, Object(r.c)(n * e)]
        }
        ,
        n
    }
    ;
    var r = n(0)
}
, function(t, e, n) {
    "use strict";
    var r = n(0)
      , i = n(147)
      , o = n(75)
      , a = n(77);
    e.a = function() {
        var t, e, n, s, u, c, f = Object(i.a)(), l = Object(o.b)().rotate([154, 0]).center([-2, 58.5]).parallels([55, 65]), h = Object(o.b)().rotate([157, 0]).center([-3, 19.9]).parallels([8, 18]), d = {
            point: function(t, e) {
                c = [t, e]
            }
        };
        function p(t) {
            var e = t[0]
              , r = t[1];
            return c = null,
            n.point(e, r),
            c || (s.point(e, r),
            c) || (u.point(e, r),
            c)
        }
        function m() {
            return t = e = null,
            p
        }
        return p.invert = function(t) {
            var e = f.scale()
              , n = f.translate()
              , r = (t[0] - n[0]) / e
              , i = (t[1] - n[1]) / e;
            return (i >= .12 && i < .234 && r >= -.425 && r < -.214 ? l : i >= .166 && i < .234 && r >= -.214 && r < -.115 ? h : f).invert(t)
        }
        ,
        p.stream = function(n) {
            return t && e === n ? t : (r = [f.stream(e = n), l.stream(n), h.stream(n)],
            i = r.length,
            t = {
                point: function(t, e) {
                    for (var n = -1; ++n < i; )
                        r[n].point(t, e)
                },
                sphere: function() {
                    for (var t = -1; ++t < i; )
                        r[t].sphere()
                },
                lineStart: function() {
                    for (var t = -1; ++t < i; )
                        r[t].lineStart()
                },
                lineEnd: function() {
                    for (var t = -1; ++t < i; )
                        r[t].lineEnd()
                },
                polygonStart: function() {
                    for (var t = -1; ++t < i; )
                        r[t].polygonStart()
                },
                polygonEnd: function() {
                    for (var t = -1; ++t < i; )
                        r[t].polygonEnd()
                }
            });
            var r, i
        }
        ,
        p.precision = function(t) {
            return arguments.length ? (f.precision(t),
            l.precision(t),
            h.precision(t),
            m()) : f.precision()
        }
        ,
        p.scale = function(t) {
            return arguments.length ? (f.scale(t),
            l.scale(.35 * t),
            h.scale(t),
            p.translate(f.translate())) : f.scale()
        }
        ,
        p.translate = function(t) {
            if (!arguments.length)
                return f.translate();
            var e = f.scale()
              , i = +t[0]
              , o = +t[1];
            return n = f.translate(t).clipExtent([[i - .455 * e, o - .238 * e], [i + .455 * e, o + .238 * e]]).stream(d),
            s = l.translate([i - .307 * e, o + .201 * e]).clipExtent([[i - .425 * e + r.i, o + .12 * e + r.i], [i - .214 * e - r.i, o + .234 * e - r.i]]).stream(d),
            u = h.translate([i - .205 * e, o + .212 * e]).clipExtent([[i - .214 * e + r.i, o + .166 * e + r.i], [i - .115 * e - r.i, o + .234 * e - r.i]]).stream(d),
            m()
        }
        ,
        p.fitExtent = function(t, e) {
            return Object(a.a)(p, t, e)
        }
        ,
        p.fitSize = function(t, e) {
            return Object(a.c)(p, t, e)
        }
        ,
        p.fitWidth = function(t, e) {
            return Object(a.d)(p, t, e)
        }
        ,
        p.fitHeight = function(t, e) {
            return Object(a.b)(p, t, e)
        }
        ,
        p.scale(1070)
    }
}
, function(t, e, n) {
    "use strict";
    n.d(e, "a", function() {
        return a
    });
    var r = n(0)
      , i = n(29)
      , o = n(10)
      , a = Object(i.b)(function(t) {
        return Object(r.u)(2 / (1 + t))
    });
    a.invert = Object(i.a)(function(t) {
        return 2 * Object(r.c)(t / 2)
    }),
    e.b = function() {
        return Object(o.a)(a).scale(124.75).clipAngle(179.999)
    }
}
, function(t, e, n) {
    "use strict";
    n.d(e, "a", function() {
        return a
    });
    var r = n(0)
      , i = n(29)
      , o = n(10)
      , a = Object(i.b)(function(t) {
        return (t = Object(r.b)(t)) && t / Object(r.t)(t)
    });
    a.invert = Object(i.a)(function(t) {
        return t
    }),
    e.b = function() {
        return Object(o.a)(a).scale(79.4188).clipAngle(179.999)
    }
}
, function(t, e, n) {
    "use strict";
    e.a = s;
    var r = n(0)
      , i = n(76)
      , o = n(78);
    function a(t) {
        return Object(r.v)((r.l + t) / 2)
    }
    function s(t, e) {
        var n = Object(r.g)(t)
          , i = t === e ? Object(r.t)(t) : Object(r.n)(n / Object(r.g)(e)) / Object(r.n)(a(e) / a(t))
          , s = n * Object(r.p)(a(t), i) / i;
        if (!i)
            return o.c;
        function u(t, e) {
            s > 0 ? e < -r.l + r.i && (e = -r.l + r.i) : e > r.l - r.i && (e = r.l - r.i);
            var n = s / Object(r.p)(a(e), i);
            return [n * Object(r.t)(i * t), s - n * Object(r.g)(i * t)]
        }
        return u.invert = function(t, e) {
            var n = s - e
              , o = Object(r.s)(i) * Object(r.u)(t * t + n * n);
            return [Object(r.e)(t, Object(r.a)(n)) / i * Object(r.s)(n), 2 * Object(r.d)(Object(r.p)(s / o, 1 / i)) - r.l]
        }
        ,
        u
    }
    e.b = function() {
        return Object(i.a)(s).scale(109.5).parallels([30, 30])
    }
}
, function(t, e, n) {
    "use strict";
    e.a = a;
    var r = n(0)
      , i = n(76)
      , o = n(148);
    function a(t, e) {
        var n = Object(r.g)(t)
          , i = t === e ? Object(r.t)(t) : (n - Object(r.g)(e)) / (e - t)
          , a = n / i + t;
        if (Object(r.a)(i) < r.i)
            return o.b;
        function s(t, e) {
            var n = a - e
              , o = i * t;
            return [n * Object(r.t)(o), a - n * Object(r.g)(o)]
        }
        return s.invert = function(t, e) {
            var n = a - e;
            return [Object(r.e)(t, Object(r.a)(n)) / i * Object(r.s)(n), a - Object(r.s)(i) * Object(r.u)(t * t + n * n)]
        }
        ,
        s
    }
    e.b = function() {
        return Object(i.a)(a).scale(131.154).center([0, 13.9389])
    }
}
, function(t, e, n) {
    "use strict";
    e.b = f;
    var r = n(10)
      , i = n(0)
      , o = 1.340264
      , a = -.081106
      , s = 893e-6
      , u = .003796
      , c = Object(i.u)(3) / 2;
    function f(t, e) {
        var n = Object(i.c)(c * Object(i.t)(e))
          , r = n * n
          , f = r * r * r;
        return [t * Object(i.g)(n) / (c * (o + 3 * a * r + f * (7 * s + 9 * u * r))), n * (o + a * r + f * (s + u * r))]
    }
    f.invert = function(t, e) {
        for (var n, r = e, f = r * r, l = f * f * f, h = 0; h < 12 && (l = (f = (r -= n = (r * (o + a * f + l * (s + u * f)) - e) / (o + 3 * a * f + l * (7 * s + 9 * u * f))) * r) * f * f,
        !(Object(i.a)(n) < i.j)); ++h)
            ;
        return [c * t * (o + 3 * a * f + l * (7 * s + 9 * u * f)) / Object(i.g)(r), Object(i.c)(Object(i.t)(r) / c)]
    }
    ,
    e.a = function() {
        return Object(r.a)(f).scale(177.158)
    }
}
, function(t, e, n) {
    "use strict";
    e.b = a;
    var r = n(0)
      , i = n(29)
      , o = n(10);
    function a(t, e) {
        var n = Object(r.g)(e)
          , i = Object(r.g)(t) * n;
        return [n * Object(r.t)(t) / i, Object(r.t)(e) / i]
    }
    a.invert = Object(i.a)(r.d),
    e.a = function() {
        return Object(o.a)(a).scale(144.049).clipAngle(60)
    }
}
, function(t, e, n) {
    "use strict";
    var r = n(43)
      , i = n(74)
      , o = n(44)
      , a = n(77);
    function s(t, e, n, r) {
        return 1 === t && 1 === e && 0 === n && 0 === r ? i.a : Object(o.b)({
            point: function(i, o) {
                this.stream.point(i * t + n, o * e + r)
            }
        })
    }
    e.a = function() {
        var t, e, n, o, u, c, f = 1, l = 0, h = 0, d = 1, p = 1, m = i.a, v = null, g = i.a;
        function y() {
            return o = u = null,
            c
        }
        return c = {
            stream: function(t) {
                return o && u === t ? o : o = m(g(u = t))
            },
            postclip: function(r) {
                return arguments.length ? (g = r,
                v = t = e = n = null,
                y()) : g
            },
            clipExtent: function(o) {
                return arguments.length ? (g = null == o ? (v = t = e = n = null,
                i.a) : Object(r.a)(v = +o[0][0], t = +o[0][1], e = +o[1][0], n = +o[1][1]),
                y()) : null == v ? null : [[v, t], [e, n]]
            },
            scale: function(t) {
                return arguments.length ? (m = s((f = +t) * d, f * p, l, h),
                y()) : f
            },
            translate: function(t) {
                return arguments.length ? (m = s(f * d, f * p, l = +t[0], h = +t[1]),
                y()) : [l, h]
            },
            reflectX: function(t) {
                return arguments.length ? (m = s(f * (d = t ? -1 : 1), f * p, l, h),
                y()) : d < 0
            },
            reflectY: function(t) {
                return arguments.length ? (m = s(f * d, f * (p = t ? -1 : 1), l, h),
                y()) : p < 0
            },
            fitExtent: function(t, e) {
                return Object(a.a)(c, t, e)
            },
            fitSize: function(t, e) {
                return Object(a.c)(c, t, e)
            },
            fitWidth: function(t, e) {
                return Object(a.d)(c, t, e)
            },
            fitHeight: function(t, e) {
                return Object(a.b)(c, t, e)
            }
        }
    }
}
, function(t, e, n) {
    "use strict";
    e.b = o;
    var r = n(10)
      , i = n(0);
    function o(t, e) {
        var n = e * e
          , r = n * n;
        return [t * (.8707 - .131979 * n + r * (r * (.003971 * n - .001529 * r) - .013791)), e * (1.007226 + n * (.015085 + r * (.028874 * n - .044475 - .005916 * r)))]
    }
    o.invert = function(t, e) {
        var n, r = e, o = 25;
        do {
            var a = r * r
              , s = a * a;
            r -= n = (r * (1.007226 + a * (.015085 + s * (.028874 * a - .044475 - .005916 * s))) - e) / (1.007226 + a * (.045255 + s * (.259866 * a - .311325 - .005916 * 11 * s)))
        } while (Object(i.a)(n) > i.i && --o > 0);return [t / (.8707 + (a = r * r) * (a * (a * a * a * (.003971 - .001529 * a) - .013791) - .131979)), r]
    }
    ,
    e.a = function() {
        return Object(r.a)(o).scale(175.295)
    }
}
, function(t, e, n) {
    "use strict";
    e.b = a;
    var r = n(0)
      , i = n(29)
      , o = n(10);
    function a(t, e) {
        return [Object(r.g)(e) * Object(r.t)(t), Object(r.t)(e)]
    }
    a.invert = Object(i.a)(r.c),
    e.a = function() {
        return Object(o.a)(a).scale(249.5).clipAngle(90 + r.i)
    }
}
, function(t, e, n) {
    "use strict";
    e.b = a;
    var r = n(0)
      , i = n(29)
      , o = n(10);
    function a(t, e) {
        var n = Object(r.g)(e)
          , i = 1 + Object(r.g)(t) * n;
        return [n * Object(r.t)(t) / i, Object(r.t)(e) / i]
    }
    a.invert = Object(i.a)(function(t) {
        return 2 * Object(r.d)(t)
    }),
    e.a = function() {
        return Object(o.a)(a).scale(250).clipAngle(142)
    }
}
, function(t, e, n) {
    "use strict";
    e.b = o;
    var r = n(0)
      , i = n(78);
    function o(t, e) {
        return [Object(r.n)(Object(r.v)((r.l + e) / 2)), -t]
    }
    o.invert = function(t, e) {
        return [-e, 2 * Object(r.d)(Object(r.k)(t)) - r.l]
    }
    ,
    e.a = function() {
        var t = Object(i.b)(o)
          , e = t.center
          , n = t.rotate;
        return t.center = function(t) {
            return arguments.length ? e([-t[1], t[0]]) : [(t = e())[1], -t[0]]
        }
        ,
        t.rotate = function(t) {
            return arguments.length ? n([t[0], t[1], t.length > 2 ? t[2] + 90 : 90]) : [(t = n())[0], t[1], t[2] - 90]
        }
        ,
        n([0, 0, 90]).scale(159.155)
    }
}
, function(t, e, n) {
    "use strict";
    var r = n(391);
    n.d(e, "a", function() {
        return r.a
    });
    var i = n(79);
    n.d(e, "b", function() {
        return i.c
    });
    var o = n(403);
    n.d(e, "c", function() {
        return o.a
    });
    var a = n(149);
    n.d(e, "e", function() {
        return a.a
    });
    var s = n(150);
    n.d(e, "d", function() {
        return s.a
    });
    var u = n(405);
    n.d(e, "f", function() {
        return u.a
    });
    var c = n(406);
    n.d(e, "g", function() {
        return c.a
    });
    var f = n(407);
    n.d(e, "h", function() {
        return f.a
    });
    var l = n(408);
    n.d(e, "i", function() {
        return l.a
    });
    var h = n(409);
    n.d(e, "j", function() {
        return h.a
    });
    var d = n(30);
    n.d(e, "k", function() {
        return d.a
    });
    var p = n(45);
    n.d(e, "m", function() {
        return p.a
    });
    var m = n(410);
    n.d(e, "n", function() {
        return m.a
    });
    var v = n(81);
    n.d(e, "o", function() {
        return v.a
    });
    var g = n(411);
    n.d(e, "l", function() {
        return g.a
    })
}
, function(t, e, n) {
    "use strict";
    function r(t, e) {
        return t.parent === e.parent ? 1 : 2
    }
    function i(t, e) {
        return t + e.x
    }
    function o(t, e) {
        return Math.max(t, e.y)
    }
    e.a = function() {
        var t = r
          , e = 1
          , n = 1
          , a = !1;
        function s(r) {
            var s, u = 0;
            r.eachAfter(function(e) {
                var n = e.children;
                n ? (e.x = function(t) {
                    return t.reduce(i, 0) / t.length
                }(n),
                e.y = function(t) {
                    return 1 + t.reduce(o, 0)
                }(n)) : (e.x = s ? u += t(e, s) : 0,
                e.y = 0,
                s = e)
            });
            var c = function(t) {
                for (var e; e = t.children; )
                    t = e[0];
                return t
            }(r)
              , f = function(t) {
                for (var e; e = t.children; )
                    t = e[e.length - 1];
                return t
            }(r)
              , l = c.x - t(c, f) / 2
              , h = f.x + t(f, c) / 2;
            return r.eachAfter(a ? function(t) {
                t.x = (t.x - r.x) * e,
                t.y = (r.y - t.y) * n
            }
            : function(t) {
                t.x = (t.x - l) / (h - l) * e,
                t.y = (1 - (r.y ? t.y / r.y : 1)) * n
            }
            )
        }
        return s.separation = function(e) {
            return arguments.length ? (t = e,
            s) : t
        }
        ,
        s.size = function(t) {
            return arguments.length ? (a = !1,
            e = +t[0],
            n = +t[1],
            s) : a ? null : [e, n]
        }
        ,
        s.nodeSize = function(t) {
            return arguments.length ? (a = !0,
            e = +t[0],
            n = +t[1],
            s) : a ? [e, n] : null
        }
        ,
        s
    }
}
, function(t, e, n) {
    "use strict";
    function r(t) {
        var e = 0
          , n = t.children
          , r = n && n.length;
        if (r)
            for (; --r >= 0; )
                e += n[r].value;
        else
            e = 1;
        t.value = e
    }
    e.a = function() {
        return this.eachAfter(r)
    }
}
, function(t, e, n) {
    "use strict";
    e.a = function(t) {
        var e, n, r, i, o = this, a = [o];
        do {
            for (e = a.reverse(),
            a = []; o = e.pop(); )
                if (t(o),
                n = o.children)
                    for (r = 0,
                    i = n.length; r < i; ++r)
                        a.push(n[r])
        } while (a.length);return this
    }
}
, function(t, e, n) {
    "use strict";
    e.a = function(t) {
        for (var e, n, r = this, i = [r]; r = i.pop(); )
            if (t(r),
            e = r.children)
                for (n = e.length - 1; n >= 0; --n)
                    i.push(e[n]);
        return this
    }
}
, function(t, e, n) {
    "use strict";
    e.a = function(t) {
        for (var e, n, r, i = this, o = [i], a = []; i = o.pop(); )
            if (a.push(i),
            e = i.children)
                for (n = 0,
                r = e.length; n < r; ++n)
                    o.push(e[n]);
        for (; i = a.pop(); )
            t(i);
        return this
    }
}
, function(t, e, n) {
    "use strict";
    e.a = function(t) {
        return this.eachAfter(function(e) {
            for (var n = +t(e.data) || 0, r = e.children, i = r && r.length; --i >= 0; )
                n += r[i].value;
            e.value = n
        })
    }
}
, function(t, e, n) {
    "use strict";
    e.a = function(t) {
        return this.eachBefore(function(e) {
            e.children && e.children.sort(t)
        })
    }
}
, function(t, e, n) {
    "use strict";
    e.a = function(t) {
        for (var e = this, n = function(t, e) {
            if (t === e)
                return t;
            var n = t.ancestors()
              , r = e.ancestors()
              , i = null;
            t = n.pop(),
            e = r.pop();
            for (; t === e; )
                i = t,
                t = n.pop(),
                e = r.pop();
            return i
        }(e, t), r = [e]; e !== n; )
            e = e.parent,
            r.push(e);
        for (var i = r.length; t !== n; )
            r.splice(i, 0, t),
            t = t.parent;
        return r
    }
}
, function(t, e, n) {
    "use strict";
    e.a = function() {
        for (var t = this, e = [t]; t = t.parent; )
            e.push(t);
        return e
    }
}
, function(t, e, n) {
    "use strict";
    e.a = function() {
        var t = [];
        return this.each(function(e) {
            t.push(e)
        }),
        t
    }
}
, function(t, e, n) {
    "use strict";
    e.a = function() {
        var t = [];
        return this.eachBefore(function(e) {
            e.children || t.push(e)
        }),
        t
    }
}
, function(t, e, n) {
    "use strict";
    e.a = function() {
        var t = this
          , e = [];
        return t.each(function(n) {
            n !== t && e.push({
                source: n.parent,
                target: n
            })
        }),
        e
    }
}
, function(t, e, n) {
    "use strict";
    var r = n(149)
      , i = n(80)
      , o = n(151);
    function a(t) {
        return Math.sqrt(t.value)
    }
    function s(t) {
        return function(e) {
            e.children || (e.r = Math.max(0, +t(e) || 0))
        }
    }
    function u(t, e) {
        return function(n) {
            if (i = n.children) {
                var i, o, a, s = i.length, u = t(n) * e || 0;
                if (u)
                    for (o = 0; o < s; ++o)
                        i[o].r += u;
                if (a = Object(r.b)(i),
                u)
                    for (o = 0; o < s; ++o)
                        i[o].r -= u;
                n.r = a + u
            }
        }
    }
    function c(t) {
        return function(e) {
            var n = e.parent;
            e.r *= t,
            n && (e.x = n.x + t * e.x,
            e.y = n.y + t * e.y)
        }
    }
    e.a = function() {
        var t = null
          , e = 1
          , n = 1
          , r = o.a;
        function f(i) {
            return i.x = e / 2,
            i.y = n / 2,
            t ? i.eachBefore(s(t)).eachAfter(u(r, .5)).eachBefore(c(1)) : i.eachBefore(s(a)).eachAfter(u(o.a, 1)).eachAfter(u(r, i.r / Math.min(e, n))).eachBefore(c(Math.min(e, n) / (2 * i.r))),
            i
        }
        return f.radius = function(e) {
            return arguments.length ? (t = Object(i.a)(e),
            f) : t
        }
        ,
        f.size = function(t) {
            return arguments.length ? (e = +t[0],
            n = +t[1],
            f) : [e, n]
        }
        ,
        f.padding = function(t) {
            return arguments.length ? (r = "function" == typeof t ? t : Object(o.b)(+t),
            f) : r
        }
        ,
        f
    }
}
, function(t, e, n) {
    "use strict";
    n.d(e, "b", function() {
        return r
    }),
    e.a = function(t) {
        var e, n, r = t.length;
        for (; r; )
            n = Math.random() * r-- | 0,
            e = t[r],
            t[r] = t[n],
            t[n] = e;
        return t
    }
    ;
    var r = Array.prototype.slice
}
, function(t, e, n) {
    "use strict";
    var r = n(152)
      , i = n(30);
    e.a = function() {
        var t = 1
          , e = 1
          , n = 0
          , o = !1;
        function a(a) {
            var s = a.height + 1;
            return a.x0 = a.y0 = n,
            a.x1 = t,
            a.y1 = e / s,
            a.eachBefore(function(t, e) {
                return function(r) {
                    r.children && Object(i.a)(r, r.x0, t * (r.depth + 1) / e, r.x1, t * (r.depth + 2) / e);
                    var o = r.x0
                      , a = r.y0
                      , s = r.x1 - n
                      , u = r.y1 - n;
                    s < o && (o = s = (o + s) / 2),
                    u < a && (a = u = (a + u) / 2),
                    r.x0 = o,
                    r.y0 = a,
                    r.x1 = s,
                    r.y1 = u
                }
            }(e, s)),
            o && a.eachBefore(r.a),
            a
        }
        return a.round = function(t) {
            return arguments.length ? (o = !!t,
            a) : o
        }
        ,
        a.size = function(n) {
            return arguments.length ? (t = +n[0],
            e = +n[1],
            a) : [t, e]
        }
        ,
        a.padding = function(t) {
            return arguments.length ? (n = +t,
            a) : n
        }
        ,
        a
    }
}
, function(t, e, n) {
    "use strict";
    var r = n(80)
      , i = n(79)
      , o = "$"
      , a = {
        depth: -1
    }
      , s = {};
    function u(t) {
        return t.id
    }
    function c(t) {
        return t.parentId
    }
    e.a = function() {
        var t = u
          , e = c;
        function n(n) {
            var r, u, c, f, l, h, d, p = n.length, m = new Array(p), v = {};
            for (u = 0; u < p; ++u)
                r = n[u],
                l = m[u] = new i.a(r),
                null != (h = t(r, u, n)) && (h += "") && (v[d = o + (l.id = h)] = d in v ? s : l);
            for (u = 0; u < p; ++u)
                if (l = m[u],
                null != (h = e(n[u], u, n)) && (h += "")) {
                    if (!(f = v[o + h]))
                        throw new Error("missing: " + h);
                    if (f === s)
                        throw new Error("ambiguous: " + h);
                    f.children ? f.children.push(l) : f.children = [l],
                    l.parent = f
                } else {
                    if (c)
                        throw new Error("multiple roots");
                    c = l
                }
            if (!c)
                throw new Error("no root");
            if (c.parent = a,
            c.eachBefore(function(t) {
                t.depth = t.parent.depth + 1,
                --p
            }).eachBefore(i.b),
            c.parent = null,
            p > 0)
                throw new Error("cycle");
            return c
        }
        return n.id = function(e) {
            return arguments.length ? (t = Object(r.b)(e),
            n) : t
        }
        ,
        n.parentId = function(t) {
            return arguments.length ? (e = Object(r.b)(t),
            n) : e
        }
        ,
        n
    }
}
, function(t, e, n) {
    "use strict";
    var r = n(79);
    function i(t, e) {
        return t.parent === e.parent ? 1 : 2
    }
    function o(t) {
        var e = t.children;
        return e ? e[0] : t.t
    }
    function a(t) {
        var e = t.children;
        return e ? e[e.length - 1] : t.t
    }
    function s(t, e, n) {
        var r = n / (e.i - t.i);
        e.c -= r,
        e.s += n,
        t.c += r,
        e.z += n,
        e.m += n
    }
    function u(t, e, n) {
        return t.a.parent === e.parent ? t.a : n
    }
    function c(t, e) {
        this._ = t,
        this.parent = null,
        this.children = null,
        this.A = null,
        this.a = this,
        this.z = 0,
        this.m = 0,
        this.c = 0,
        this.s = 0,
        this.t = null,
        this.i = e
    }
    c.prototype = Object.create(r.a.prototype),
    e.a = function() {
        var t = i
          , e = 1
          , n = 1
          , r = null;
        function f(i) {
            var o = function(t) {
                for (var e, n, r, i, o, a = new c(t,0), s = [a]; e = s.pop(); )
                    if (r = e._.children)
                        for (e.children = new Array(o = r.length),
                        i = o - 1; i >= 0; --i)
                            s.push(n = e.children[i] = new c(r[i],i)),
                            n.parent = e;
                return (a.parent = new c(null,0)).children = [a],
                a
            }(i);
            if (o.eachAfter(l),
            o.parent.m = -o.z,
            o.eachBefore(h),
            r)
                i.eachBefore(d);
            else {
                var a = i
                  , s = i
                  , u = i;
                i.eachBefore(function(t) {
                    t.x < a.x && (a = t),
                    t.x > s.x && (s = t),
                    t.depth > u.depth && (u = t)
                });
                var f = a === s ? 1 : t(a, s) / 2
                  , p = f - a.x
                  , m = e / (s.x + f + p)
                  , v = n / (u.depth || 1);
                i.eachBefore(function(t) {
                    t.x = (t.x + p) * m,
                    t.y = t.depth * v
                })
            }
            return i
        }
        function l(e) {
            var n = e.children
              , r = e.parent.children
              , i = e.i ? r[e.i - 1] : null;
            if (n) {
                !function(t) {
                    for (var e, n = 0, r = 0, i = t.children, o = i.length; --o >= 0; )
                        (e = i[o]).z += n,
                        e.m += n,
                        n += e.s + (r += e.c)
                }(e);
                var c = (n[0].z + n[n.length - 1].z) / 2;
                i ? (e.z = i.z + t(e._, i._),
                e.m = e.z - c) : e.z = c
            } else
                i && (e.z = i.z + t(e._, i._));
            e.parent.A = function(e, n, r) {
                if (n) {
                    for (var i, c = e, f = e, l = n, h = c.parent.children[0], d = c.m, p = f.m, m = l.m, v = h.m; l = a(l),
                    c = o(c),
                    l && c; )
                        h = o(h),
                        (f = a(f)).a = e,
                        (i = l.z + m - c.z - d + t(l._, c._)) > 0 && (s(u(l, e, r), e, i),
                        d += i,
                        p += i),
                        m += l.m,
                        d += c.m,
                        v += h.m,
                        p += f.m;
                    l && !a(f) && (f.t = l,
                    f.m += m - p),
                    c && !o(h) && (h.t = c,
                    h.m += d - v,
                    r = e)
                }
                return r
            }(e, i, e.parent.A || r[0])
        }
        function h(t) {
            t._.x = t.z + t.parent.m,
            t.m += t.parent.m
        }
        function d(t) {
            t.x *= e,
            t.y = t.depth * n
        }
        return f.separation = function(e) {
            return arguments.length ? (t = e,
            f) : t
        }
        ,
        f.size = function(t) {
            return arguments.length ? (r = !1,
            e = +t[0],
            n = +t[1],
            f) : r ? null : [e, n]
        }
        ,
        f.nodeSize = function(t) {
            return arguments.length ? (r = !0,
            e = +t[0],
            n = +t[1],
            f) : r ? [e, n] : null
        }
        ,
        f
    }
}
, function(t, e, n) {
    "use strict";
    var r = n(152)
      , i = n(81)
      , o = n(80)
      , a = n(151);
    e.a = function() {
        var t = i.a
          , e = !1
          , n = 1
          , s = 1
          , u = [0]
          , c = a.a
          , f = a.a
          , l = a.a
          , h = a.a
          , d = a.a;
        function p(t) {
            return t.x0 = t.y0 = 0,
            t.x1 = n,
            t.y1 = s,
            t.eachBefore(m),
            u = [0],
            e && t.eachBefore(r.a),
            t
        }
        function m(e) {
            var n = u[e.depth]
              , r = e.x0 + n
              , i = e.y0 + n
              , o = e.x1 - n
              , a = e.y1 - n;
            o < r && (r = o = (r + o) / 2),
            a < i && (i = a = (i + a) / 2),
            e.x0 = r,
            e.y0 = i,
            e.x1 = o,
            e.y1 = a,
            e.children && (n = u[e.depth + 1] = c(e) / 2,
            r += d(e) - n,
            i += f(e) - n,
            o -= l(e) - n,
            a -= h(e) - n,
            o < r && (r = o = (r + o) / 2),
            a < i && (i = a = (i + a) / 2),
            t(e, r, i, o, a))
        }
        return p.round = function(t) {
            return arguments.length ? (e = !!t,
            p) : e
        }
        ,
        p.size = function(t) {
            return arguments.length ? (n = +t[0],
            s = +t[1],
            p) : [n, s]
        }
        ,
        p.tile = function(e) {
            return arguments.length ? (t = Object(o.b)(e),
            p) : t
        }
        ,
        p.padding = function(t) {
            return arguments.length ? p.paddingInner(t).paddingOuter(t) : p.paddingInner()
        }
        ,
        p.paddingInner = function(t) {
            return arguments.length ? (c = "function" == typeof t ? t : Object(a.b)(+t),
            p) : c
        }
        ,
        p.paddingOuter = function(t) {
            return arguments.length ? p.paddingTop(t).paddingRight(t).paddingBottom(t).paddingLeft(t) : p.paddingTop()
        }
        ,
        p.paddingTop = function(t) {
            return arguments.length ? (f = "function" == typeof t ? t : Object(a.b)(+t),
            p) : f
        }
        ,
        p.paddingRight = function(t) {
            return arguments.length ? (l = "function" == typeof t ? t : Object(a.b)(+t),
            p) : l
        }
        ,
        p.paddingBottom = function(t) {
            return arguments.length ? (h = "function" == typeof t ? t : Object(a.b)(+t),
            p) : h
        }
        ,
        p.paddingLeft = function(t) {
            return arguments.length ? (d = "function" == typeof t ? t : Object(a.b)(+t),
            p) : d
        }
        ,
        p
    }
}
, function(t, e, n) {
    "use strict";
    e.a = function(t, e, n, r, i) {
        var o, a, s = t.children, u = s.length, c = new Array(u + 1);
        for (c[0] = a = o = 0; o < u; ++o)
            c[o + 1] = a += s[o].value;
        !function t(e, n, r, i, o, a, u) {
            if (e >= n - 1) {
                var f = s[e];
                return f.x0 = i,
                f.y0 = o,
                f.x1 = a,
                void (f.y1 = u)
            }
            var l = c[e]
              , h = r / 2 + l
              , d = e + 1
              , p = n - 1;
            for (; d < p; ) {
                var m = d + p >>> 1;
                c[m] < h ? d = m + 1 : p = m
            }
            h - c[d - 1] < c[d] - h && e + 1 < d && --d;
            var v = c[d] - l
              , g = r - v;
            if (a - i > u - o) {
                var y = (i * g + a * v) / r;
                t(e, d, v, i, o, y, u),
                t(d, n, g, y, o, a, u)
            } else {
                var b = (o * g + u * v) / r;
                t(e, d, v, i, o, a, b),
                t(d, n, g, i, b, a, u)
            }
        }(0, u, t.value, e, n, r, i)
    }
}
, function(t, e, n) {
    "use strict";
    var r = n(30)
      , i = n(45);
    e.a = function(t, e, n, o, a) {
        (1 & t.depth ? i.a : r.a)(t, e, n, o, a)
    }
}
, function(t, e, n) {
    "use strict";
    var r = n(30)
      , i = n(45)
      , o = n(81);
    e.a = function t(e) {
        function n(t, n, a, s, u) {
            if ((c = t._squarify) && c.ratio === e)
                for (var c, f, l, h, d, p = -1, m = c.length, v = t.value; ++p < m; ) {
                    for (l = (f = c[p]).children,
                    h = f.value = 0,
                    d = l.length; h < d; ++h)
                        f.value += l[h].value;
                    f.dice ? Object(r.a)(f, n, a, s, a += (u - a) * f.value / v) : Object(i.a)(f, n, a, n += (s - n) * f.value / v, u),
                    v -= f.value
                }
            else
                t._squarify = c = Object(o.c)(e, t, n, a, s, u),
                c.ratio = e
        }
        return n.ratio = function(e) {
            return t((e = +e) > 1 ? e : 1)
        }
        ,
        n
    }(o.b)
}
, function(t, e, n) {
    "use strict";
    var r = n(413);
    n.d(e, "a", function() {
        return r.a
    });
    var i = n(414);
    n.d(e, "b", function() {
        return i.a
    });
    var o = n(415);
    n.d(e, "d", function() {
        return o.a
    });
    var a = n(417);
    n.d(e, "c", function() {
        return a.a
    });
    var s = n(418);
    n.d(e, "e", function() {
        return s.a
    })
}
, function(t, e, n) {
    "use strict";
    e.a = function(t) {
        for (var e, n = -1, r = t.length, i = t[r - 1], o = 0; ++n < r; )
            e = i,
            i = t[n],
            o += e[1] * i[0] - e[0] * i[1];
        return o / 2
    }
}
, function(t, e, n) {
    "use strict";
    e.a = function(t) {
        for (var e, n, r = -1, i = t.length, o = 0, a = 0, s = t[i - 1], u = 0; ++r < i; )
            e = s,
            s = t[r],
            u += n = e[0] * s[1] - s[0] * e[1],
            o += (e[0] + s[0]) * n,
            a += (e[1] + s[1]) * n;
        return [o / (u *= 3), a / u]
    }
}
, function(t, e, n) {
    "use strict";
    var r = n(416);
    function i(t, e) {
        return t[0] - e[0] || t[1] - e[1]
    }
    function o(t) {
        for (var e = t.length, n = [0, 1], i = 2, o = 2; o < e; ++o) {
            for (; i > 1 && Object(r.a)(t[n[i - 2]], t[n[i - 1]], t[o]) <= 0; )
                --i;
            n[i++] = o
        }
        return n.slice(0, i)
    }
    e.a = function(t) {
        if ((n = t.length) < 3)
            return null;
        var e, n, r = new Array(n), a = new Array(n);
        for (e = 0; e < n; ++e)
            r[e] = [+t[e][0], +t[e][1], e];
        for (r.sort(i),
        e = 0; e < n; ++e)
            a[e] = [r[e][0], -r[e][1]];
        var s = o(r)
          , u = o(a)
          , c = u[0] === s[0]
          , f = u[u.length - 1] === s[s.length - 1]
          , l = [];
        for (e = s.length - 1; e >= 0; --e)
            l.push(t[r[s[e]][2]]);
        for (e = +c; e < u.length - f; ++e)
            l.push(t[r[u[e]][2]]);
        return l
    }
}
, function(t, e, n) {
    "use strict";
    e.a = function(t, e, n) {
        return (e[0] - t[0]) * (n[1] - t[1]) - (e[1] - t[1]) * (n[0] - t[0])
    }
}
, function(t, e, n) {
    "use strict";
    e.a = function(t, e) {
        for (var n, r, i = t.length, o = t[i - 1], a = e[0], s = e[1], u = o[0], c = o[1], f = !1, l = 0; l < i; ++l)
            n = (o = t[l])[0],
            (r = o[1]) > s != c > s && a < (u - n) * (s - r) / (c - r) + n && (f = !f),
            u = n,
            c = r;
        return f
    }
}
, function(t, e, n) {
    "use strict";
    e.a = function(t) {
        for (var e, n, r = -1, i = t.length, o = t[i - 1], a = o[0], s = o[1], u = 0; ++r < i; )
            e = a,
            n = s,
            e -= a = (o = t[r])[0],
            n -= s = o[1],
            u += Math.sqrt(e * e + n * n);
        return u
    }
}
, function(t, e, n) {
    "use strict";
    var r = n(420);
    n.d(e, "f", function() {
        return r.a
    });
    var i = n(153);
    n.d(e, "e", function() {
        return i.a
    });
    var o = n(421);
    n.d(e, "d", function() {
        return o.a
    });
    var a = n(422);
    n.d(e, "a", function() {
        return a.a
    });
    var s = n(154);
    n.d(e, "c", function() {
        return s.a
    });
    var u = n(423);
    n.d(e, "b", function() {
        return u.a
    })
}
, function(t, e, n) {
    "use strict";
    var r = n(26);
    e.a = function t(e) {
        function n(t, n) {
            return t = null == t ? 0 : +t,
            n = null == n ? 1 : +n,
            1 === arguments.length ? (n = t,
            t = 0) : n -= t,
            function() {
                return e() * n + t
            }
        }
        return n.source = t,
        n
    }(r.a)
}
, function(t, e, n) {
    "use strict";
    var r = n(26)
      , i = n(153);
    e.a = function t(e) {
        function n() {
            var t = i.a.source(e).apply(this, arguments);
            return function() {
                return Math.exp(t())
            }
        }
        return n.source = t,
        n
    }(r.a)
}
, function(t, e, n) {
    "use strict";
    var r = n(26)
      , i = n(154);
    e.a = function t(e) {
        function n(t) {
            var n = i.a.source(e)(t);
            return function() {
                return n() / t
            }
        }
        return n.source = t,
        n
    }(r.a)
}
, function(t, e, n) {
    "use strict";
    var r = n(26);
    e.a = function t(e) {
        function n(t) {
            return function() {
                return -Math.log(1 - e()) / t
            }
        }
        return n.source = t,
        n
    }(r.a)
}
, function(t, e, n) {
    "use strict";
    var r = n(425);
    n.d(e, "a", function() {
        return r.a
    }),
    n.d(e, "l", function() {
        return r.b
    });
    var i = n(426);
    n.d(e, "g", function() {
        return i.a
    });
    var o = n(19);
    n.d(e, "i", function() {
        return o.a
    });
    var a = n(82);
    n.d(e, "j", function() {
        return a.a
    });
    var s = n(83);
    n.d(e, "w", function() {
        return s.a
    });
    var u = n(155);
    n.d(e, "k", function() {
        return u.a
    }),
    n.d(e, "h", function() {
        return u.b
    });
    var c = n(84);
    n.d(e, "m", function() {
        return c.a
    }),
    n.d(e, "v", function() {
        return c.c
    });
    var f = n(428);
    n.d(e, "n", function() {
        return f.a
    });
    var l = n(429);
    n.d(e, "o", function() {
        return l.a
    });
    var h = n(430);
    n.d(e, "x", function() {
        return h.a
    });
    var d = n(159);
    n.d(e, "y", function() {
        return d.b
    });
    var p = n(446);
    n.d(e, "z", function() {
        return p.a
    });
    var m = n(162);
    n.d(e, "p", function() {
        return m.b
    }),
    n.d(e, "q", function() {
        return m.c
    }),
    n.d(e, "r", function() {
        return m.d
    }),
    n.d(e, "t", function() {
        return m.e
    }),
    n.d(e, "u", function() {
        return m.f
    });
    var v = n(447);
    n.d(e, "s", function() {
        return v.a
    });
    var g = n(448);
    n.d(e, "b", function() {
        return g.a
    }),
    n.d(e, "c", function() {
        return g.b
    }),
    n.d(e, "d", function() {
        return g.c
    }),
    n.d(e, "e", function() {
        return g.d
    }),
    n.d(e, "f", function() {
        return g.e
    });
    var y = n(157);
    n.d(e, "A", function() {
        return y.a
    })
}
, function(t, e, n) {
    "use strict";
    e.a = a,
    e.b = function() {
        return function t(e) {
            var n = e.copy;
            e.padding = e.paddingOuter;
            delete e.paddingInner;
            delete e.paddingOuter;
            e.copy = function() {
                return t(n())
            }
            ;
            return e
        }(a.apply(null, arguments).paddingInner(1))
    }
    ;
    var r = n(3)
      , i = n(6)
      , o = n(155);
    function a() {
        var t, e, n = Object(o.a)().unknown(void 0), s = n.domain, u = n.range, c = [0, 1], f = !1, l = 0, h = 0, d = .5;
        function p() {
            var n = s().length
              , i = c[1] < c[0]
              , o = c[i - 0]
              , a = c[1 - i];
            t = (a - o) / Math.max(1, n - l + 2 * h),
            f && (t = Math.floor(t)),
            o += (a - o - t * (n - l)) * d,
            e = t * (1 - l),
            f && (o = Math.round(o),
            e = Math.round(e));
            var p = Object(r.s)(n).map(function(e) {
                return o + t * e
            });
            return u(i ? p.reverse() : p)
        }
        return delete n.unknown,
        n.domain = function(t) {
            return arguments.length ? (s(t),
            p()) : s()
        }
        ,
        n.range = function(t) {
            return arguments.length ? (c = [+t[0], +t[1]],
            p()) : c.slice()
        }
        ,
        n.rangeRound = function(t) {
            return c = [+t[0], +t[1]],
            f = !0,
            p()
        }
        ,
        n.bandwidth = function() {
            return e
        }
        ,
        n.step = function() {
            return t
        }
        ,
        n.round = function(t) {
            return arguments.length ? (f = !!t,
            p()) : f
        }
        ,
        n.padding = function(t) {
            return arguments.length ? (l = Math.min(1, h = +t),
            p()) : l
        }
        ,
        n.paddingInner = function(t) {
            return arguments.length ? (l = Math.min(1, t),
            p()) : l
        }
        ,
        n.paddingOuter = function(t) {
            return arguments.length ? (h = +t,
            p()) : h
        }
        ,
        n.align = function(t) {
            return arguments.length ? (d = Math.max(0, Math.min(1, t)),
            p()) : d
        }
        ,
        n.copy = function() {
            return a(s(), c).round(f).paddingInner(l).paddingOuter(h).align(d)
        }
        ,
        i.b.apply(p(), arguments)
    }
}
, function(t, e, n) {
    "use strict";
    e.a = function t(e) {
        var n;
        function a(t) {
            return isNaN(t = +t) ? n : t
        }
        a.invert = a;
        a.domain = a.range = function(t) {
            return arguments.length ? (e = r.a.call(t, o.a),
            a) : e.slice()
        }
        ;
        a.unknown = function(t) {
            return arguments.length ? (n = t,
            a) : n
        }
        ;
        a.copy = function() {
            return t(e).unknown(n)
        }
        ;
        e = arguments.length ? r.a.call(e, o.a) : [0, 1];
        return Object(i.b)(a)
    }
    ;
    var r = n(18)
      , i = n(19)
      , o = n(156)
}
, function(t, e, n) {
    "use strict";
    e.a = function(t) {
        return function() {
            return t
        }
    }
}
, function(t, e, n) {
    "use strict";
    e.a = function t() {
        var e, n = [], a = [], s = [];
        function u() {
            var t = 0
              , e = Math.max(1, a.length);
            for (s = new Array(e - 1); ++t < e; )
                s[t - 1] = Object(r.r)(n, t / e);
            return c
        }
        function c(t) {
            return isNaN(t = +t) ? e : a[Object(r.b)(s, t)]
        }
        c.invertExtent = function(t) {
            var e = a.indexOf(t);
            return e < 0 ? [NaN, NaN] : [e > 0 ? s[e - 1] : n[0], e < s.length ? s[e] : n[n.length - 1]]
        }
        ;
        c.domain = function(t) {
            if (!arguments.length)
                return n.slice();
            n = [];
            for (var e, i = 0, o = t.length; i < o; ++i)
                null == (e = t[i]) || isNaN(e = +e) || n.push(e);
            return n.sort(r.a),
            u()
        }
        ;
        c.range = function(t) {
            return arguments.length ? (a = i.b.call(t),
            u()) : a.slice()
        }
        ;
        c.unknown = function(t) {
            return arguments.length ? (e = t,
            c) : e
        }
        ;
        c.quantiles = function() {
            return s.slice()
        }
        ;
        c.copy = function() {
            return t().domain(n).range(a).unknown(e)
        }
        ;
        return o.b.apply(c, arguments)
    }
    ;
    var r = n(3)
      , i = n(18)
      , o = n(6)
}
, function(t, e, n) {
    "use strict";
    e.a = function t() {
        var e, n = 0, s = 1, u = 1, c = [.5], f = [0, 1];
        function l(t) {
            return t <= t ? f[Object(r.b)(c, t, 0, u)] : e
        }
        function h() {
            var t = -1;
            for (c = new Array(u); ++t < u; )
                c[t] = ((t + 1) * s - (t - u) * n) / (u + 1);
            return l
        }
        l.domain = function(t) {
            return arguments.length ? (n = +t[0],
            s = +t[1],
            h()) : [n, s]
        }
        ;
        l.range = function(t) {
            return arguments.length ? (u = (f = i.b.call(t)).length - 1,
            h()) : f.slice()
        }
        ;
        l.invertExtent = function(t) {
            var e = f.indexOf(t);
            return e < 0 ? [NaN, NaN] : e < 1 ? [n, c[0]] : e >= u ? [c[u - 1], s] : [c[e - 1], c[e]]
        }
        ;
        l.unknown = function(t) {
            return arguments.length ? (e = t,
            l) : l
        }
        ;
        l.thresholds = function() {
            return c.slice()
        }
        ;
        l.copy = function() {
            return t().domain([n, s]).range(f).unknown(e)
        }
        ;
        return a.b.apply(Object(o.b)(l), arguments)
    }
    ;
    var r = n(3)
      , i = n(18)
      , o = n(19)
      , a = n(6)
}
, function(t, e, n) {
    "use strict";
    e.a = function t() {
        var e, n = [.5], a = [0, 1], s = 1;
        function u(t) {
            return t <= t ? a[Object(r.b)(n, t, 0, s)] : e
        }
        u.domain = function(t) {
            return arguments.length ? (n = i.b.call(t),
            s = Math.min(n.length, a.length - 1),
            u) : n.slice()
        }
        ;
        u.range = function(t) {
            return arguments.length ? (a = i.b.call(t),
            s = Math.min(n.length, a.length - 1),
            u) : a.slice()
        }
        ;
        u.invertExtent = function(t) {
            var e = a.indexOf(t);
            return [n[e - 1], n[e]]
        }
        ;
        u.unknown = function(t) {
            return arguments.length ? (e = t,
            u) : e
        }
        ;
        u.copy = function() {
            return t().domain(n).range(a).unknown(e)
        }
        ;
        return o.b.apply(u, arguments)
    }
    ;
    var r = n(3)
      , i = n(18)
      , o = n(6)
}
, function(t, e, n) {
    "use strict";
    n.d(e, "b", function() {
        return o
    });
    var r = n(5)
      , i = Object(r.a)(function() {}, function(t, e) {
        t.setTime(+t + e)
    }, function(t, e) {
        return e - t
    });
    i.every = function(t) {
        return t = Math.floor(t),
        isFinite(t) && t > 0 ? t > 1 ? Object(r.a)(function(e) {
            e.setTime(Math.floor(e / t) * t)
        }, function(e, n) {
            e.setTime(+e + n * t)
        }, function(e, n) {
            return (n - e) / t
        }) : i : null
    }
    ,
    e.a = i;
    var o = i.range
}
, function(t, e, n) {
    "use strict";
    n.d(e, "b", function() {
        return a
    });
    var r = n(5)
      , i = n(12)
      , o = Object(r.a)(function(t) {
        t.setTime(t - t.getMilliseconds())
    }, function(t, e) {
        t.setTime(+t + e * i.d)
    }, function(t, e) {
        return (e - t) / i.d
    }, function(t) {
        return t.getUTCSeconds()
    });
    e.a = o;
    var a = o.range
}
, function(t, e, n) {
    "use strict";
    n.d(e, "b", function() {
        return a
    });
    var r = n(5)
      , i = n(12)
      , o = Object(r.a)(function(t) {
        t.setTime(t - t.getMilliseconds() - t.getSeconds() * i.d)
    }, function(t, e) {
        t.setTime(+t + e * i.c)
    }, function(t, e) {
        return (e - t) / i.c
    }, function(t) {
        return t.getMinutes()
    });
    e.a = o;
    var a = o.range
}
, function(t, e, n) {
    "use strict";
    n.d(e, "b", function() {
        return a
    });
    var r = n(5)
      , i = n(12)
      , o = Object(r.a)(function(t) {
        t.setTime(t - t.getMilliseconds() - t.getSeconds() * i.d - t.getMinutes() * i.c)
    }, function(t, e) {
        t.setTime(+t + e * i.b)
    }, function(t, e) {
        return (e - t) / i.b
    }, function(t) {
        return t.getHours()
    });
    e.a = o;
    var a = o.range
}
, function(t, e, n) {
    "use strict";
    n.d(e, "a", function() {
        return a
    });
    var r = n(5)
      , i = n(12)
      , o = Object(r.a)(function(t) {
        t.setHours(0, 0, 0, 0)
    }, function(t, e) {
        t.setDate(t.getDate() + e)
    }, function(t, e) {
        return (e - t - (e.getTimezoneOffset() - t.getTimezoneOffset()) * i.c) / i.a
    }, function(t) {
        return t.getDate() - 1
    });
    e.b = o;
    var a = o.range
}
, function(t, e, n) {
    "use strict";
    n.d(e, "g", function() {
        return a
    }),
    n.d(e, "c", function() {
        return s
    }),
    n.d(e, "k", function() {
        return u
    }),
    n.d(e, "m", function() {
        return c
    }),
    n.d(e, "i", function() {
        return f
    }),
    n.d(e, "a", function() {
        return l
    }),
    n.d(e, "e", function() {
        return h
    }),
    n.d(e, "h", function() {
        return d
    }),
    n.d(e, "d", function() {
        return p
    }),
    n.d(e, "l", function() {
        return m
    }),
    n.d(e, "n", function() {
        return v
    }),
    n.d(e, "j", function() {
        return g
    }),
    n.d(e, "b", function() {
        return y
    }),
    n.d(e, "f", function() {
        return b
    });
    var r = n(5)
      , i = n(12);
    function o(t) {
        return Object(r.a)(function(e) {
            e.setDate(e.getDate() - (e.getDay() + 7 - t) % 7),
            e.setHours(0, 0, 0, 0)
        }, function(t, e) {
            t.setDate(t.getDate() + 7 * e)
        }, function(t, e) {
            return (e - t - (e.getTimezoneOffset() - t.getTimezoneOffset()) * i.c) / i.e
        })
    }
    var a = o(0)
      , s = o(1)
      , u = o(2)
      , c = o(3)
      , f = o(4)
      , l = o(5)
      , h = o(6)
      , d = a.range
      , p = s.range
      , m = u.range
      , v = c.range
      , g = f.range
      , y = l.range
      , b = h.range
}
, function(t, e, n) {
    "use strict";
    n.d(e, "b", function() {
        return o
    });
    var r = n(5)
      , i = Object(r.a)(function(t) {
        t.setDate(1),
        t.setHours(0, 0, 0, 0)
    }, function(t, e) {
        t.setMonth(t.getMonth() + e)
    }, function(t, e) {
        return e.getMonth() - t.getMonth() + 12 * (e.getFullYear() - t.getFullYear())
    }, function(t) {
        return t.getMonth()
    });
    e.a = i;
    var o = i.range
}
, function(t, e, n) {
    "use strict";
    n.d(e, "b", function() {
        return o
    });
    var r = n(5)
      , i = Object(r.a)(function(t) {
        t.setMonth(0, 1),
        t.setHours(0, 0, 0, 0)
    }, function(t, e) {
        t.setFullYear(t.getFullYear() + e)
    }, function(t, e) {
        return e.getFullYear() - t.getFullYear()
    }, function(t) {
        return t.getFullYear()
    });
    i.every = function(t) {
        return isFinite(t = Math.floor(t)) && t > 0 ? Object(r.a)(function(e) {
            e.setFullYear(Math.floor(e.getFullYear() / t) * t),
            e.setMonth(0, 1),
            e.setHours(0, 0, 0, 0)
        }, function(e, n) {
            e.setFullYear(e.getFullYear() + n * t)
        }) : null
    }
    ,
    e.a = i;
    var o = i.range
}
, function(t, e, n) {
    "use strict";
    n.d(e, "b", function() {
        return a
    });
    var r = n(5)
      , i = n(12)
      , o = Object(r.a)(function(t) {
        t.setUTCSeconds(0, 0)
    }, function(t, e) {
        t.setTime(+t + e * i.c)
    }, function(t, e) {
        return (e - t) / i.c
    }, function(t) {
        return t.getUTCMinutes()
    });
    e.a = o;
    var a = o.range
}
, function(t, e, n) {
    "use strict";
    n.d(e, "b", function() {
        return a
    });
    var r = n(5)
      , i = n(12)
      , o = Object(r.a)(function(t) {
        t.setUTCMinutes(0, 0, 0)
    }, function(t, e) {
        t.setTime(+t + e * i.b)
    }, function(t, e) {
        return (e - t) / i.b
    }, function(t) {
        return t.getUTCHours()
    });
    e.a = o;
    var a = o.range
}
, function(t, e, n) {
    "use strict";
    n.d(e, "b", function() {
        return a
    });
    var r = n(5)
      , i = n(12)
      , o = Object(r.a)(function(t) {
        t.setUTCHours(0, 0, 0, 0)
    }, function(t, e) {
        t.setUTCDate(t.getUTCDate() + e)
    }, function(t, e) {
        return (e - t) / i.a
    }, function(t) {
        return t.getUTCDate() - 1
    });
    e.a = o;
    var a = o.range
}
, function(t, e, n) {
    "use strict";
    n.d(e, "g", function() {
        return a
    }),
    n.d(e, "c", function() {
        return s
    }),
    n.d(e, "k", function() {
        return u
    }),
    n.d(e, "m", function() {
        return c
    }),
    n.d(e, "i", function() {
        return f
    }),
    n.d(e, "a", function() {
        return l
    }),
    n.d(e, "e", function() {
        return h
    }),
    n.d(e, "h", function() {
        return d
    }),
    n.d(e, "d", function() {
        return p
    }),
    n.d(e, "l", function() {
        return m
    }),
    n.d(e, "n", function() {
        return v
    }),
    n.d(e, "j", function() {
        return g
    }),
    n.d(e, "b", function() {
        return y
    }),
    n.d(e, "f", function() {
        return b
    });
    var r = n(5)
      , i = n(12);
    function o(t) {
        return Object(r.a)(function(e) {
            e.setUTCDate(e.getUTCDate() - (e.getUTCDay() + 7 - t) % 7),
            e.setUTCHours(0, 0, 0, 0)
        }, function(t, e) {
            t.setUTCDate(t.getUTCDate() + 7 * e)
        }, function(t, e) {
            return (e - t) / i.e
        })
    }
    var a = o(0)
      , s = o(1)
      , u = o(2)
      , c = o(3)
      , f = o(4)
      , l = o(5)
      , h = o(6)
      , d = a.range
      , p = s.range
      , m = u.range
      , v = c.range
      , g = f.range
      , y = l.range
      , b = h.range
}
, function(t, e, n) {
    "use strict";
    n.d(e, "b", function() {
        return o
    });
    var r = n(5)
      , i = Object(r.a)(function(t) {
        t.setUTCDate(1),
        t.setUTCHours(0, 0, 0, 0)
    }, function(t, e) {
        t.setUTCMonth(t.getUTCMonth() + e)
    }, function(t, e) {
        return e.getUTCMonth() - t.getUTCMonth() + 12 * (e.getUTCFullYear() - t.getUTCFullYear())
    }, function(t) {
        return t.getUTCMonth()
    });
    e.a = i;
    var o = i.range
}
, function(t, e, n) {
    "use strict";
    n.d(e, "b", function() {
        return o
    });
    var r = n(5)
      , i = Object(r.a)(function(t) {
        t.setUTCMonth(0, 1),
        t.setUTCHours(0, 0, 0, 0)
    }, function(t, e) {
        t.setUTCFullYear(t.getUTCFullYear() + e)
    }, function(t, e) {
        return e.getUTCFullYear() - t.getUTCFullYear()
    }, function(t) {
        return t.getUTCFullYear()
    });
    i.every = function(t) {
        return isFinite(t = Math.floor(t)) && t > 0 ? Object(r.a)(function(e) {
            e.setUTCFullYear(Math.floor(e.getUTCFullYear() / t) * t),
            e.setUTCMonth(0, 1),
            e.setUTCHours(0, 0, 0, 0)
        }, function(e, n) {
            e.setUTCFullYear(e.getUTCFullYear() + n * t)
        }) : null
    }
    ,
    e.a = i;
    var o = i.range
}
, function(t, e, n) {
    "use strict";
    var r = n(161)
      , i = n(86);
    var o = +new Date("2000-01-01T00:00:00.000Z") ? function(t) {
        var e = new Date(t);
        return isNaN(e) ? null : e
    }
    : Object(i.e)(r.b);
    e.a = o
}
, function(t, e, n) {
    "use strict";
    var r = n(159)
      , i = n(85)
      , o = n(46)
      , a = n(6);
    e.a = function() {
        return a.b.apply(Object(r.a)(o._7, o.R, o._5, o.F, o.J, o.N, o.V, o.L, i.g).domain([Date.UTC(2e3, 0, 1), Date.UTC(2e3, 0, 2)]), arguments)
    }
}
, function(t, e, n) {
    "use strict";
    e.a = function t() {
        var e = []
          , n = i.c;
        function a(t) {
            if (!isNaN(t = +t))
                return n((Object(r.b)(e, t) - 1) / (e.length - 1))
        }
        a.domain = function(t) {
            if (!arguments.length)
                return e.slice();
            e = [];
            for (var n, i = 0, o = t.length; i < o; ++i)
                null == (n = t[i]) || isNaN(n = +n) || e.push(n);
            return e.sort(r.a),
            a
        }
        ;
        a.interpolator = function(t) {
            return arguments.length ? (n = t,
            a) : n
        }
        ;
        a.copy = function() {
            return t(n).domain(e)
        }
        ;
        return o.a.apply(a, arguments)
    }
    ;
    var r = n(3)
      , i = n(15)
      , o = n(6)
}
, function(t, e, n) {
    "use strict";
    e.a = function t() {
        var e = Object(o.b)(f()(r.c));
        e.copy = function() {
            return Object(s.a)(e, t())
        }
        ;
        return i.a.apply(e, arguments)
    }
    ,
    e.b = function t() {
        var e = Object(a.b)(f()).domain([.1, 1, 10]);
        e.copy = function() {
            return Object(s.a)(e, t()).base(e.base())
        }
        ;
        return i.a.apply(e, arguments)
    }
    ,
    e.e = function t() {
        var e = Object(u.b)(f());
        e.copy = function() {
            return Object(s.a)(e, t()).constant(e.constant())
        }
        ;
        return i.a.apply(e, arguments)
    }
    ,
    e.c = l,
    e.d = function() {
        return l.apply(null, arguments).exponent(.5)
    }
    ;
    var r = n(15)
      , i = n(6)
      , o = n(19)
      , a = n(82)
      , s = n(162)
      , u = n(83)
      , c = n(84);
    function f() {
        var t, e, n, i, o, a, s, u = 0, c = .5, f = 1, l = r.c, h = !1;
        function d(t) {
            return isNaN(t = +t) ? s : (t = .5 + ((t = +a(t)) - e) * (t < e ? i : o),
            l(h ? Math.max(0, Math.min(1, t)) : t))
        }
        return d.domain = function(r) {
            return arguments.length ? (t = a(u = +r[0]),
            e = a(c = +r[1]),
            n = a(f = +r[2]),
            i = t === e ? 0 : .5 / (e - t),
            o = e === n ? 0 : .5 / (n - e),
            d) : [u, c, f]
        }
        ,
        d.clamp = function(t) {
            return arguments.length ? (h = !!t,
            d) : h
        }
        ,
        d.interpolator = function(t) {
            return arguments.length ? (l = t,
            d) : l
        }
        ,
        d.unknown = function(t) {
            return arguments.length ? (s = t,
            d) : s
        }
        ,
        function(r) {
            return a = r,
            t = r(u),
            e = r(c),
            n = r(f),
            i = t === e ? 0 : .5 / (e - t),
            o = e === n ? 0 : .5 / (n - e),
            d
        }
    }
    function l() {
        var t = Object(c.b)(f());
        return t.copy = function() {
            return Object(s.a)(t, l()).exponent(t.exponent())
        }
        ,
        i.a.apply(t, arguments)
    }
}
, function(t, e, n) {
    "use strict";
    var r = n(450);
    n.d(e, "P", function() {
        return r.a
    });
    var i = n(451);
    n.d(e, "K", function() {
        return i.a
    });
    var o = n(452);
    n.d(e, "Q", function() {
        return o.a
    });
    var a = n(453);
    n.d(e, "X", function() {
        return a.a
    });
    var s = n(454);
    n.d(e, "Y", function() {
        return s.a
    });
    var u = n(455);
    n.d(e, "Z", function() {
        return u.a
    });
    var c = n(456);
    n.d(e, "_12", function() {
        return c.a
    });
    var f = n(457);
    n.d(e, "_13", function() {
        return f.a
    });
    var l = n(458);
    n.d(e, "_14", function() {
        return l.a
    });
    var h = n(459);
    n.d(e, "b", function() {
        return h.a
    }),
    n.d(e, "M", function() {
        return h.b
    });
    var d = n(460);
    n.d(e, "n", function() {
        return d.a
    }),
    n.d(e, "W", function() {
        return d.b
    });
    var p = n(461);
    n.d(e, "o", function() {
        return p.a
    }),
    n.d(e, "_0", function() {
        return p.b
    });
    var m = n(462);
    n.d(e, "s", function() {
        return m.a
    }),
    n.d(e, "_3", function() {
        return m.b
    });
    var v = n(463);
    n.d(e, "w", function() {
        return v.a
    }),
    n.d(e, "_6", function() {
        return v.b
    });
    var g = n(464);
    n.d(e, "x", function() {
        return g.a
    }),
    n.d(e, "_7", function() {
        return g.b
    });
    var y = n(465);
    n.d(e, "z", function() {
        return y.a
    }),
    n.d(e, "_9", function() {
        return y.b
    });
    var b = n(466);
    n.d(e, "A", function() {
        return b.a
    }),
    n.d(e, "_10", function() {
        return b.b
    });
    var _ = n(467);
    n.d(e, "D", function() {
        return _.a
    }),
    n.d(e, "_15", function() {
        return _.b
    });
    var x = n(468);
    n.d(e, "c", function() {
        return x.a
    }),
    n.d(e, "N", function() {
        return x.b
    });
    var w = n(469);
    n.d(e, "d", function() {
        return w.a
    }),
    n.d(e, "O", function() {
        return w.b
    });
    var M = n(470);
    n.d(e, "g", function() {
        return M.a
    }),
    n.d(e, "R", function() {
        return M.b
    });
    var E = n(471);
    n.d(e, "l", function() {
        return E.a
    }),
    n.d(e, "U", function() {
        return E.b
    });
    var T = n(472);
    n.d(e, "r", function() {
        return T.a
    }),
    n.d(e, "_2", function() {
        return T.b
    });
    var S = n(473);
    n.d(e, "q", function() {
        return S.a
    }),
    n.d(e, "_1", function() {
        return S.b
    });
    var O = n(474);
    n.d(e, "t", function() {
        return O.a
    }),
    n.d(e, "_4", function() {
        return O.b
    });
    var A = n(475);
    n.d(e, "y", function() {
        return A.a
    }),
    n.d(e, "_8", function() {
        return A.b
    });
    var L = n(476);
    n.d(e, "H", function() {
        return L.a
    }),
    n.d(e, "_17", function() {
        return L.b
    });
    var R = n(477);
    n.d(e, "G", function() {
        return R.a
    }),
    n.d(e, "_16", function() {
        return R.b
    });
    var C = n(478);
    n.d(e, "I", function() {
        return C.a
    }),
    n.d(e, "_18", function() {
        return C.b
    });
    var j = n(479);
    n.d(e, "J", function() {
        return j.a
    }),
    n.d(e, "_19", function() {
        return j.b
    });
    var P = n(480);
    n.d(e, "a", function() {
        return P.a
    }),
    n.d(e, "L", function() {
        return P.b
    });
    var N = n(481);
    n.d(e, "h", function() {
        return N.a
    }),
    n.d(e, "S", function() {
        return N.b
    });
    var I = n(482);
    n.d(e, "i", function() {
        return I.a
    }),
    n.d(e, "T", function() {
        return I.b
    });
    var D = n(483);
    n.d(e, "u", function() {
        return D.a
    }),
    n.d(e, "_5", function() {
        return D.b
    });
    var U = n(484);
    n.d(e, "B", function() {
        return U.a
    }),
    n.d(e, "_11", function() {
        return U.b
    });
    var z = n(485);
    n.d(e, "m", function() {
        return z.a
    }),
    n.d(e, "V", function() {
        return z.b
    });
    var B = n(486);
    n.d(e, "f", function() {
        return B.a
    });
    var k = n(487);
    n.d(e, "v", function() {
        return k.b
    }),
    n.d(e, "F", function() {
        return k.c
    }),
    n.d(e, "e", function() {
        return k.a
    });
    var F = n(488);
    n.d(e, "C", function() {
        return F.a
    });
    var G = n(489);
    n.d(e, "E", function() {
        return G.a
    }),
    n.d(e, "k", function() {
        return G.c
    }),
    n.d(e, "j", function() {
        return G.b
    }),
    n.d(e, "p", function() {
        return G.d
    })
}
, function(t, e, n) {
    "use strict";
    var r = n(1);
    e.a = Object(r.a)("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf")
}
, function(t, e, n) {
    "use strict";
    var r = n(1);
    e.a = Object(r.a)("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666")
}
, function(t, e, n) {
    "use strict";
    var r = n(1);
    e.a = Object(r.a)("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666")
}
, function(t, e, n) {
    "use strict";
    var r = n(1);
    e.a = Object(r.a)("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928")
}
, function(t, e, n) {
    "use strict";
    var r = n(1);
    e.a = Object(r.a)("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2")
}
, function(t, e, n) {
    "use strict";
    var r = n(1);
    e.a = Object(r.a)("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc")
}
, function(t, e, n) {
    "use strict";
    var r = n(1);
    e.a = Object(r.a)("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999")
}
, function(t, e, n) {
    "use strict";
    var r = n(1);
    e.a = Object(r.a)("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3")
}
, function(t, e, n) {
    "use strict";
    var r = n(1);
    e.a = Object(r.a)("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f")
}
, function(t, e, n) {
    "use strict";
    n.d(e, "b", function() {
        return o
    });
    var r = n(1)
      , i = n(2)
      , o = new Array(3).concat("d8b365f5f5f55ab4ac", "a6611adfc27d80cdc1018571", "a6611adfc27df5f5f580cdc1018571", "8c510ad8b365f6e8c3c7eae55ab4ac01665e", "8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e", "8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e", "8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e", "5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30", "5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(r.a);
    e.a = Object(i.a)(o)
}
, function(t, e, n) {
    "use strict";
    n.d(e, "b", function() {
        return o
    });
    var r = n(1)
      , i = n(2)
      , o = new Array(3).concat("af8dc3f7f7f77fbf7b", "7b3294c2a5cfa6dba0008837", "7b3294c2a5cff7f7f7a6dba0008837", "762a83af8dc3e7d4e8d9f0d37fbf7b1b7837", "762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837", "762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837", "762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837", "40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b", "40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(r.a);
    e.a = Object(i.a)(o)
}
, function(t, e, n) {
    "use strict";
    n.d(e, "b", function() {
        return o
    });
    var r = n(1)
      , i = n(2)
      , o = new Array(3).concat("e9a3c9f7f7f7a1d76a", "d01c8bf1b6dab8e1864dac26", "d01c8bf1b6daf7f7f7b8e1864dac26", "c51b7de9a3c9fde0efe6f5d0a1d76a4d9221", "c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221", "c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221", "c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221", "8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419", "8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(r.a);
    e.a = Object(i.a)(o)
}
, function(t, e, n) {
    "use strict";
    n.d(e, "b", function() {
        return o
    });
    var r = n(1)
      , i = n(2)
      , o = new Array(3).concat("998ec3f7f7f7f1a340", "5e3c99b2abd2fdb863e66101", "5e3c99b2abd2f7f7f7fdb863e66101", "542788998ec3d8daebfee0b6f1a340b35806", "542788998ec3d8daebf7f7f7fee0b6f1a340b35806", "5427888073acb2abd2d8daebfee0b6fdb863e08214b35806", "5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806", "2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08", "2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(r.a);
    e.a = Object(i.a)(o)
}
, function(t, e, n) {
    "use strict";
    n.d(e, "b", function() {
        return o
    });
    var r = n(1)
      , i = n(2)
      , o = new Array(3).concat("ef8a62f7f7f767a9cf", "ca0020f4a58292c5de0571b0", "ca0020f4a582f7f7f792c5de0571b0", "b2182bef8a62fddbc7d1e5f067a9cf2166ac", "b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac", "b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac", "b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac", "67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061", "67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(r.a);
    e.a = Object(i.a)(o)
}
, function(t, e, n) {
    "use strict";
    n.d(e, "b", function() {
        return o
    });
    var r = n(1)
      , i = n(2)
      , o = new Array(3).concat("ef8a62ffffff999999", "ca0020f4a582bababa404040", "ca0020f4a582ffffffbababa404040", "b2182bef8a62fddbc7e0e0e09999994d4d4d", "b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d", "b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d", "b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d", "67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a", "67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(r.a);
    e.a = Object(i.a)(o)
}
, function(t, e, n) {
    "use strict";
    n.d(e, "b", function() {
        return o
    });
    var r = n(1)
      , i = n(2)
      , o = new Array(3).concat("fc8d59ffffbf91bfdb", "d7191cfdae61abd9e92c7bb6", "d7191cfdae61ffffbfabd9e92c7bb6", "d73027fc8d59fee090e0f3f891bfdb4575b4", "d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4", "d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4", "d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4", "a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695", "a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(r.a);
    e.a = Object(i.a)(o)
}
, function(t, e, n) {
    "use strict";
    n.d(e, "b", function() {
        return o
    });
    var r = n(1)
      , i = n(2)
      , o = new Array(3).concat("fc8d59ffffbf91cf60", "d7191cfdae61a6d96a1a9641", "d7191cfdae61ffffbfa6d96a1a9641", "d73027fc8d59fee08bd9ef8b91cf601a9850", "d73027fc8d59fee08bffffbfd9ef8b91cf601a9850", "d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850", "d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850", "a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837", "a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(r.a);
    e.a = Object(i.a)(o)
}
, function(t, e, n) {
    "use strict";
    n.d(e, "b", function() {
        return o
    });
    var r = n(1)
      , i = n(2)
      , o = new Array(3).concat("fc8d59ffffbf99d594", "d7191cfdae61abdda42b83ba", "d7191cfdae61ffffbfabdda42b83ba", "d53e4ffc8d59fee08be6f59899d5943288bd", "d53e4ffc8d59fee08bffffbfe6f59899d5943288bd", "d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd", "d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd", "9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2", "9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(r.a);
    e.a = Object(i.a)(o)
}
, function(t, e, n) {
    "use strict";
    n.d(e, "b", function() {
        return o
    });
    var r = n(1)
      , i = n(2)
      , o = new Array(3).concat("e5f5f999d8c92ca25f", "edf8fbb2e2e266c2a4238b45", "edf8fbb2e2e266c2a42ca25f006d2c", "edf8fbccece699d8c966c2a42ca25f006d2c", "edf8fbccece699d8c966c2a441ae76238b45005824", "f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824", "f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(r.a);
    e.a = Object(i.a)(o)
}
, function(t, e, n) {
    "use strict";
    n.d(e, "b", function() {
        return o
    });
    var r = n(1)
      , i = n(2)
      , o = new Array(3).concat("e0ecf49ebcda8856a7", "edf8fbb3cde38c96c688419d", "edf8fbb3cde38c96c68856a7810f7c", "edf8fbbfd3e69ebcda8c96c68856a7810f7c", "edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b", "f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b", "f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(r.a);
    e.a = Object(i.a)(o)
}
, function(t, e, n) {
    "use strict";
    n.d(e, "b", function() {
        return o
    });
    var r = n(1)
      , i = n(2)
      , o = new Array(3).concat("e0f3dba8ddb543a2ca", "f0f9e8bae4bc7bccc42b8cbe", "f0f9e8bae4bc7bccc443a2ca0868ac", "f0f9e8ccebc5a8ddb57bccc443a2ca0868ac", "f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e", "f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e", "f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(r.a);
    e.a = Object(i.a)(o)
}
, function(t, e, n) {
    "use strict";
    n.d(e, "b", function() {
        return o
    });
    var r = n(1)
      , i = n(2)
      , o = new Array(3).concat("fee8c8fdbb84e34a33", "fef0d9fdcc8afc8d59d7301f", "fef0d9fdcc8afc8d59e34a33b30000", "fef0d9fdd49efdbb84fc8d59e34a33b30000", "fef0d9fdd49efdbb84fc8d59ef6548d7301f990000", "fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000", "fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(r.a);
    e.a = Object(i.a)(o)
}
, function(t, e, n) {
    "use strict";
    n.d(e, "b", function() {
        return o
    });
    var r = n(1)
      , i = n(2)
      , o = new Array(3).concat("ece2f0a6bddb1c9099", "f6eff7bdc9e167a9cf02818a", "f6eff7bdc9e167a9cf1c9099016c59", "f6eff7d0d1e6a6bddb67a9cf1c9099016c59", "f6eff7d0d1e6a6bddb67a9cf3690c002818a016450", "fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450", "fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(r.a);
    e.a = Object(i.a)(o)
}
, function(t, e, n) {
    "use strict";
    n.d(e, "b", function() {
        return o
    });
    var r = n(1)
      , i = n(2)
      , o = new Array(3).concat("ece7f2a6bddb2b8cbe", "f1eef6bdc9e174a9cf0570b0", "f1eef6bdc9e174a9cf2b8cbe045a8d", "f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d", "f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b", "fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b", "fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(r.a);
    e.a = Object(i.a)(o)
}
, function(t, e, n) {
    "use strict";
    n.d(e, "b", function() {
        return o
    });
    var r = n(1)
      , i = n(2)
      , o = new Array(3).concat("e7e1efc994c7dd1c77", "f1eef6d7b5d8df65b0ce1256", "f1eef6d7b5d8df65b0dd1c77980043", "f1eef6d4b9dac994c7df65b0dd1c77980043", "f1eef6d4b9dac994c7df65b0e7298ace125691003f", "f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f", "f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(r.a);
    e.a = Object(i.a)(o)
}
, function(t, e, n) {
    "use strict";
    n.d(e, "b", function() {
        return o
    });
    var r = n(1)
      , i = n(2)
      , o = new Array(3).concat("fde0ddfa9fb5c51b8a", "feebe2fbb4b9f768a1ae017e", "feebe2fbb4b9f768a1c51b8a7a0177", "feebe2fcc5c0fa9fb5f768a1c51b8a7a0177", "feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177", "fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177", "fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(r.a);
    e.a = Object(i.a)(o)
}
, function(t, e, n) {
    "use strict";
    n.d(e, "b", function() {
        return o
    });
    var r = n(1)
      , i = n(2)
      , o = new Array(3).concat("edf8b17fcdbb2c7fb8", "ffffcca1dab441b6c4225ea8", "ffffcca1dab441b6c42c7fb8253494", "ffffccc7e9b47fcdbb41b6c42c7fb8253494", "ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84", "ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84", "ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(r.a);
    e.a = Object(i.a)(o)
}
, function(t, e, n) {
    "use strict";
    n.d(e, "b", function() {
        return o
    });
    var r = n(1)
      , i = n(2)
      , o = new Array(3).concat("f7fcb9addd8e31a354", "ffffccc2e69978c679238443", "ffffccc2e69978c67931a354006837", "ffffccd9f0a3addd8e78c67931a354006837", "ffffccd9f0a3addd8e78c67941ab5d238443005a32", "ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32", "ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(r.a);
    e.a = Object(i.a)(o)
}
, function(t, e, n) {
    "use strict";
    n.d(e, "b", function() {
        return o
    });
    var r = n(1)
      , i = n(2)
      , o = new Array(3).concat("fff7bcfec44fd95f0e", "ffffd4fed98efe9929cc4c02", "ffffd4fed98efe9929d95f0e993404", "ffffd4fee391fec44ffe9929d95f0e993404", "ffffd4fee391fec44ffe9929ec7014cc4c028c2d04", "ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04", "ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(r.a);
    e.a = Object(i.a)(o)
}
, function(t, e, n) {
    "use strict";
    n.d(e, "b", function() {
        return o
    });
    var r = n(1)
      , i = n(2)
      , o = new Array(3).concat("ffeda0feb24cf03b20", "ffffb2fecc5cfd8d3ce31a1c", "ffffb2fecc5cfd8d3cf03b20bd0026", "ffffb2fed976feb24cfd8d3cf03b20bd0026", "ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026", "ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026", "ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(r.a);
    e.a = Object(i.a)(o)
}
, function(t, e, n) {
    "use strict";
    n.d(e, "b", function() {
        return o
    });
    var r = n(1)
      , i = n(2)
      , o = new Array(3).concat("deebf79ecae13182bd", "eff3ffbdd7e76baed62171b5", "eff3ffbdd7e76baed63182bd08519c", "eff3ffc6dbef9ecae16baed63182bd08519c", "eff3ffc6dbef9ecae16baed64292c62171b5084594", "f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594", "f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(r.a);
    e.a = Object(i.a)(o)
}
, function(t, e, n) {
    "use strict";
    n.d(e, "b", function() {
        return o
    });
    var r = n(1)
      , i = n(2)
      , o = new Array(3).concat("e5f5e0a1d99b31a354", "edf8e9bae4b374c476238b45", "edf8e9bae4b374c47631a354006d2c", "edf8e9c7e9c0a1d99b74c47631a354006d2c", "edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32", "f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32", "f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(r.a);
    e.a = Object(i.a)(o)
}
, function(t, e, n) {
    "use strict";
    n.d(e, "b", function() {
        return o
    });
    var r = n(1)
      , i = n(2)
      , o = new Array(3).concat("f0f0f0bdbdbd636363", "f7f7f7cccccc969696525252", "f7f7f7cccccc969696636363252525", "f7f7f7d9d9d9bdbdbd969696636363252525", "f7f7f7d9d9d9bdbdbd969696737373525252252525", "fffffff0f0f0d9d9d9bdbdbd969696737373525252252525", "fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(r.a);
    e.a = Object(i.a)(o)
}
, function(t, e, n) {
    "use strict";
    n.d(e, "b", function() {
        return o
    });
    var r = n(1)
      , i = n(2)
      , o = new Array(3).concat("efedf5bcbddc756bb1", "f2f0f7cbc9e29e9ac86a51a3", "f2f0f7cbc9e29e9ac8756bb154278f", "f2f0f7dadaebbcbddc9e9ac8756bb154278f", "f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486", "fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486", "fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(r.a);
    e.a = Object(i.a)(o)
}
, function(t, e, n) {
    "use strict";
    n.d(e, "b", function() {
        return o
    });
    var r = n(1)
      , i = n(2)
      , o = new Array(3).concat("fee0d2fc9272de2d26", "fee5d9fcae91fb6a4acb181d", "fee5d9fcae91fb6a4ade2d26a50f15", "fee5d9fcbba1fc9272fb6a4ade2d26a50f15", "fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d", "fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d", "fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(r.a);
    e.a = Object(i.a)(o)
}
, function(t, e, n) {
    "use strict";
    n.d(e, "b", function() {
        return o
    });
    var r = n(1)
      , i = n(2)
      , o = new Array(3).concat("fee6cefdae6be6550d", "feeddefdbe85fd8d3cd94701", "feeddefdbe85fd8d3ce6550da63603", "feeddefdd0a2fdae6bfd8d3ce6550da63603", "feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04", "fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04", "fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(r.a);
    e.a = Object(i.a)(o)
}
, function(t, e, n) {
    "use strict";
    var r = n(9)
      , i = n(11);
    e.a = Object(i.f)(Object(r.b)(300, .5, 0), Object(r.b)(-240, .5, 1))
}
, function(t, e, n) {
    "use strict";
    n.d(e, "c", function() {
        return o
    }),
    n.d(e, "a", function() {
        return a
    });
    var r = n(9)
      , i = n(11)
      , o = Object(i.f)(Object(r.b)(-100, .75, .35), Object(r.b)(80, 1.5, .8))
      , a = Object(i.f)(Object(r.b)(260, .75, .35), Object(r.b)(80, 1.5, .8))
      , s = Object(r.b)();
    e.b = function(t) {
        (t < 0 || t > 1) && (t -= Math.floor(t));
        var e = Math.abs(t - .5);
        return s.h = 360 * t - 100,
        s.s = 1.5 - 1.5 * e,
        s.l = .8 - .9 * e,
        s + ""
    }
}
, function(t, e, n) {
    "use strict";
    var r = n(9)
      , i = Object(r.h)()
      , o = Math.PI / 3
      , a = 2 * Math.PI / 3;
    e.a = function(t) {
        var e;
        return t = (.5 - t) * Math.PI,
        i.r = 255 * (e = Math.sin(t)) * e,
        i.g = 255 * (e = Math.sin(t + o)) * e,
        i.b = 255 * (e = Math.sin(t + a)) * e,
        i + ""
    }
}
, function(t, e, n) {
    "use strict";
    n.d(e, "c", function() {
        return o
    }),
    n.d(e, "b", function() {
        return a
    }),
    n.d(e, "d", function() {
        return s
    });
    var r = n(1);
    function i(t) {
        var e = t.length;
        return function(n) {
            return t[Math.max(0, Math.min(e - 1, Math.floor(n * e)))]
        }
    }
    e.a = i(Object(r.a)("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));
    var o = i(Object(r.a)("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf"))
      , a = i(Object(r.a)("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4"))
      , s = i(Object(r.a)("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"))
}
, function(t, e, n) {
    "use strict";
    var r = n(491);
    n.d(e, "a", function() {
        return r.a
    });
    var i = n(163);
    n.d(e, "b", function() {
        return i.a
    });
    var o = n(87);
    n.d(e, "v", function() {
        return o.a
    });
    var a = n(492);
    n.d(e, "A", function() {
        return a.a
    });
    var s = n(495);
    n.d(e, "c", function() {
        return s.a
    }),
    n.d(e, "C", function() {
        return s.a
    });
    var u = n(165);
    n.d(e, "w", function() {
        return u.a
    }),
    n.d(e, "D", function() {
        return u.a
    });
    var c = n(166);
    n.d(e, "B", function() {
        return c.a
    });
    var f = n(496);
    n.d(e, "x", function() {
        return f.a
    }),
    n.d(e, "z", function() {
        return f.c
    }),
    n.d(e, "y", function() {
        return f.b
    });
    var l = n(497);
    n.d(e, "Q", function() {
        return l.a
    }),
    n.d(e, "Y", function() {
        return l.b
    });
    var h = n(168);
    n.d(e, "R", function() {
        return h.a
    });
    var d = n(169);
    n.d(e, "S", function() {
        return d.a
    });
    var p = n(170);
    n.d(e, "T", function() {
        return p.a
    });
    var m = n(172);
    n.d(e, "U", function() {
        return m.a
    });
    var v = n(171);
    n.d(e, "V", function() {
        return v.a
    });
    var g = n(173);
    n.d(e, "W", function() {
        return g.a
    });
    var y = n(174);
    n.d(e, "X", function() {
        return y.a
    });
    var b = n(498);
    n.d(e, "e", function() {
        return b.a
    });
    var _ = n(499);
    n.d(e, "f", function() {
        return _.a
    });
    var x = n(49);
    n.d(e, "d", function() {
        return x.b
    });
    var w = n(500);
    n.d(e, "g", function() {
        return w.a
    });
    var M = n(175);
    n.d(e, "i", function() {
        return M.b
    });
    var E = n(176);
    n.d(e, "j", function() {
        return E.b
    });
    var T = n(50);
    n.d(e, "h", function() {
        return T.b
    });
    var S = n(501);
    n.d(e, "l", function() {
        return S.a
    });
    var O = n(502);
    n.d(e, "m", function() {
        return O.a
    });
    var A = n(89);
    n.d(e, "k", function() {
        return A.a
    });
    var L = n(503);
    n.d(e, "o", function() {
        return L.a
    });
    var R = n(47);
    n.d(e, "n", function() {
        return R.a
    });
    var C = n(504);
    n.d(e, "p", function() {
        return C.a
    }),
    n.d(e, "q", function() {
        return C.b
    });
    var j = n(505);
    n.d(e, "r", function() {
        return j.a
    });
    var P = n(506);
    n.d(e, "s", function() {
        return P.a
    }),
    n.d(e, "t", function() {
        return P.b
    }),
    n.d(e, "u", function() {
        return P.c
    });
    var N = n(507);
    n.d(e, "E", function() {
        return N.a
    });
    var I = n(508);
    n.d(e, "G", function() {
        return I.a
    });
    var D = n(509);
    n.d(e, "F", function() {
        return D.a
    });
    var U = n(32);
    n.d(e, "H", function() {
        return U.a
    });
    var z = n(510);
    n.d(e, "I", function() {
        return z.a
    });
    var B = n(511);
    n.d(e, "J", function() {
        return B.a
    });
    var k = n(177);
    n.d(e, "K", function() {
        return k.a
    });
    var F = n(90);
    n.d(e, "L", function() {
        return F.a
    });
    var G = n(512);
    n.d(e, "M", function() {
        return G.a
    });
    var H = n(513);
    n.d(e, "N", function() {
        return H.a
    });
    var V = n(33);
    n.d(e, "O", function() {
        return V.a
    });
    var W = n(514);
    n.d(e, "P", function() {
        return W.a
    })
}
, function(t, e, n) {
    "use strict";
    var r = n(16)
      , i = n(20)
      , o = n(31);
    function a(t) {
        return t.innerRadius
    }
    function s(t) {
        return t.outerRadius
    }
    function u(t) {
        return t.startAngle
    }
    function c(t) {
        return t.endAngle
    }
    function f(t) {
        return t && t.padAngle
    }
    function l(t, e, n, r, i, a, s) {
        var u = t - n
          , c = e - r
          , f = (s ? a : -a) / Object(o.l)(u * u + c * c)
          , l = f * c
          , h = -f * u
          , d = t + l
          , p = e + h
          , m = n + l
          , v = r + h
          , g = (d + m) / 2
          , y = (p + v) / 2
          , b = m - d
          , _ = v - p
          , x = b * b + _ * _
          , w = i - a
          , M = d * v - m * p
          , E = (_ < 0 ? -1 : 1) * Object(o.l)(Object(o.h)(0, w * w * x - M * M))
          , T = (M * _ - b * E) / x
          , S = (-M * b - _ * E) / x
          , O = (M * _ + b * E) / x
          , A = (-M * b + _ * E) / x
          , L = T - g
          , R = S - y
          , C = O - g
          , j = A - y;
        return L * L + R * R > C * C + j * j && (T = O,
        S = A),
        {
            cx: T,
            cy: S,
            x01: -l,
            y01: -h,
            x11: T * (i / w - 1),
            y11: S * (i / w - 1)
        }
    }
    e.a = function() {
        var t = a
          , e = s
          , n = Object(i.a)(0)
          , h = null
          , d = u
          , p = c
          , m = f
          , v = null;
        function g() {
            var i, a, s = +t.apply(this, arguments), u = +e.apply(this, arguments), c = d.apply(this, arguments) - o.g, f = p.apply(this, arguments) - o.g, g = Object(o.a)(f - c), y = f > c;
            if (v || (v = i = Object(r.a)()),
            u < s && (a = u,
            u = s,
            s = a),
            u > o.f)
                if (g > o.m - o.f)
                    v.moveTo(u * Object(o.e)(c), u * Object(o.k)(c)),
                    v.arc(0, 0, u, c, f, !y),
                    s > o.f && (v.moveTo(s * Object(o.e)(f), s * Object(o.k)(f)),
                    v.arc(0, 0, s, f, c, y));
                else {
                    var b, _, x = c, w = f, M = c, E = f, T = g, S = g, O = m.apply(this, arguments) / 2, A = O > o.f && (h ? +h.apply(this, arguments) : Object(o.l)(s * s + u * u)), L = Object(o.i)(Object(o.a)(u - s) / 2, +n.apply(this, arguments)), R = L, C = L;
                    if (A > o.f) {
                        var j = Object(o.c)(A / s * Object(o.k)(O))
                          , P = Object(o.c)(A / u * Object(o.k)(O));
                        (T -= 2 * j) > o.f ? (M += j *= y ? 1 : -1,
                        E -= j) : (T = 0,
                        M = E = (c + f) / 2),
                        (S -= 2 * P) > o.f ? (x += P *= y ? 1 : -1,
                        w -= P) : (S = 0,
                        x = w = (c + f) / 2)
                    }
                    var N = u * Object(o.e)(x)
                      , I = u * Object(o.k)(x)
                      , D = s * Object(o.e)(E)
                      , U = s * Object(o.k)(E);
                    if (L > o.f) {
                        var z, B = u * Object(o.e)(w), k = u * Object(o.k)(w), F = s * Object(o.e)(M), G = s * Object(o.k)(M);
                        if (g < o.j && (z = function(t, e, n, r, i, a, s, u) {
                            var c = n - t
                              , f = r - e
                              , l = s - i
                              , h = u - a
                              , d = h * c - l * f;
                            if (!(d * d < o.f))
                                return [t + (d = (l * (e - a) - h * (t - i)) / d) * c, e + d * f]
                        }(N, I, F, G, B, k, D, U))) {
                            var H = N - z[0]
                              , V = I - z[1]
                              , W = B - z[0]
                              , q = k - z[1]
                              , X = 1 / Object(o.k)(Object(o.b)((H * W + V * q) / (Object(o.l)(H * H + V * V) * Object(o.l)(W * W + q * q))) / 2)
                              , Y = Object(o.l)(z[0] * z[0] + z[1] * z[1]);
                            R = Object(o.i)(L, (s - Y) / (X - 1)),
                            C = Object(o.i)(L, (u - Y) / (X + 1))
                        }
                    }
                    S > o.f ? C > o.f ? (b = l(F, G, N, I, u, C, y),
                    _ = l(B, k, D, U, u, C, y),
                    v.moveTo(b.cx + b.x01, b.cy + b.y01),
                    C < L ? v.arc(b.cx, b.cy, C, Object(o.d)(b.y01, b.x01), Object(o.d)(_.y01, _.x01), !y) : (v.arc(b.cx, b.cy, C, Object(o.d)(b.y01, b.x01), Object(o.d)(b.y11, b.x11), !y),
                    v.arc(0, 0, u, Object(o.d)(b.cy + b.y11, b.cx + b.x11), Object(o.d)(_.cy + _.y11, _.cx + _.x11), !y),
                    v.arc(_.cx, _.cy, C, Object(o.d)(_.y11, _.x11), Object(o.d)(_.y01, _.x01), !y))) : (v.moveTo(N, I),
                    v.arc(0, 0, u, x, w, !y)) : v.moveTo(N, I),
                    s > o.f && T > o.f ? R > o.f ? (b = l(D, U, B, k, s, -R, y),
                    _ = l(N, I, F, G, s, -R, y),
                    v.lineTo(b.cx + b.x01, b.cy + b.y01),
                    R < L ? v.arc(b.cx, b.cy, R, Object(o.d)(b.y01, b.x01), Object(o.d)(_.y01, _.x01), !y) : (v.arc(b.cx, b.cy, R, Object(o.d)(b.y01, b.x01), Object(o.d)(b.y11, b.x11), !y),
                    v.arc(0, 0, s, Object(o.d)(b.cy + b.y11, b.cx + b.x11), Object(o.d)(_.cy + _.y11, _.cx + _.x11), y),
                    v.arc(_.cx, _.cy, R, Object(o.d)(_.y11, _.x11), Object(o.d)(_.y01, _.x01), !y))) : v.arc(0, 0, s, E, M, y) : v.lineTo(D, U)
                }
            else
                v.moveTo(0, 0);
            if (v.closePath(),
            i)
                return v = null,
                i + "" || null
        }
        return g.centroid = function() {
            var n = (+t.apply(this, arguments) + +e.apply(this, arguments)) / 2
              , r = (+d.apply(this, arguments) + +p.apply(this, arguments)) / 2 - o.j / 2;
            return [Object(o.e)(r) * n, Object(o.k)(r) * n]
        }
        ,
        g.innerRadius = function(e) {
            return arguments.length ? (t = "function" == typeof e ? e : Object(i.a)(+e),
            g) : t
        }
        ,
        g.outerRadius = function(t) {
            return arguments.length ? (e = "function" == typeof t ? t : Object(i.a)(+t),
            g) : e
        }
        ,
        g.cornerRadius = function(t) {
            return arguments.length ? (n = "function" == typeof t ? t : Object(i.a)(+t),
            g) : n
        }
        ,
        g.padRadius = function(t) {
            return arguments.length ? (h = null == t ? null : "function" == typeof t ? t : Object(i.a)(+t),
            g) : h
        }
        ,
        g.startAngle = function(t) {
            return arguments.length ? (d = "function" == typeof t ? t : Object(i.a)(+t),
            g) : d
        }
        ,
        g.endAngle = function(t) {
            return arguments.length ? (p = "function" == typeof t ? t : Object(i.a)(+t),
            g) : p
        }
        ,
        g.padAngle = function(t) {
            return arguments.length ? (m = "function" == typeof t ? t : Object(i.a)(+t),
            g) : m
        }
        ,
        g.context = function(t) {
            return arguments.length ? (v = null == t ? null : t,
            g) : v
        }
        ,
        g
    }
}
, function(t, e, n) {
    "use strict";
    var r = n(20)
      , i = n(493)
      , o = n(494)
      , a = n(31);
    e.a = function() {
        var t = o.a
          , e = i.a
          , n = null
          , s = Object(r.a)(0)
          , u = Object(r.a)(a.m)
          , c = Object(r.a)(0);
        function f(r) {
            var i, o, f, l, h, d = r.length, p = 0, m = new Array(d), v = new Array(d), g = +s.apply(this, arguments), y = Math.min(a.m, Math.max(-a.m, u.apply(this, arguments) - g)), b = Math.min(Math.abs(y) / d, c.apply(this, arguments)), _ = b * (y < 0 ? -1 : 1);
            for (i = 0; i < d; ++i)
                (h = v[m[i] = i] = +t(r[i], i, r)) > 0 && (p += h);
            for (null != e ? m.sort(function(t, n) {
                return e(v[t], v[n])
            }) : null != n && m.sort(function(t, e) {
                return n(r[t], r[e])
            }),
            i = 0,
            f = p ? (y - d * _) / p : 0; i < d; ++i,
            g = l)
                o = m[i],
                l = g + ((h = v[o]) > 0 ? h * f : 0) + _,
                v[o] = {
                    data: r[o],
                    index: i,
                    value: h,
                    startAngle: g,
                    endAngle: l,
                    padAngle: b
                };
            return v
        }
        return f.value = function(e) {
            return arguments.length ? (t = "function" == typeof e ? e : Object(r.a)(+e),
            f) : t
        }
        ,
        f.sortValues = function(t) {
            return arguments.length ? (e = t,
            n = null,
            f) : e
        }
        ,
        f.sort = function(t) {
            return arguments.length ? (n = t,
            e = null,
            f) : n
        }
        ,
        f.startAngle = function(t) {
            return arguments.length ? (s = "function" == typeof t ? t : Object(r.a)(+t),
            f) : s
        }
        ,
        f.endAngle = function(t) {
            return arguments.length ? (u = "function" == typeof t ? t : Object(r.a)(+t),
            f) : u
        }
        ,
        f.padAngle = function(t) {
            return arguments.length ? (c = "function" == typeof t ? t : Object(r.a)(+t),
            f) : c
        }
        ,
        f
    }
}
, function(t, e, n) {
    "use strict";
    e.a = function(t, e) {
        return e < t ? -1 : e > t ? 1 : e >= t ? 0 : NaN
    }
}
, function(t, e, n) {
    "use strict";
    e.a = function(t) {
        return t
    }
}
, function(t, e, n) {
    "use strict";
    var r = n(164)
      , i = n(163)
      , o = n(165);
    e.a = function() {
        var t = Object(i.a)().curve(r.a)
          , e = t.curve
          , n = t.lineX0
          , a = t.lineX1
          , s = t.lineY0
          , u = t.lineY1;
        return t.angle = t.x,
        delete t.x,
        t.startAngle = t.x0,
        delete t.x0,
        t.endAngle = t.x1,
        delete t.x1,
        t.radius = t.y,
        delete t.y,
        t.innerRadius = t.y0,
        delete t.y0,
        t.outerRadius = t.y1,
        delete t.y1,
        t.lineStartAngle = function() {
            return Object(o.b)(n())
        }
        ,
        delete t.lineX0,
        t.lineEndAngle = function() {
            return Object(o.b)(a())
        }
        ,
        delete t.lineX1,
        t.lineInnerRadius = function() {
            return Object(o.b)(s())
        }
        ,
        delete t.lineY0,
        t.lineOuterRadius = function() {
            return Object(o.b)(u())
        }
        ,
        delete t.lineY1,
        t.curve = function(t) {
            return arguments.length ? e(Object(r.b)(t)) : e()._curve
        }
        ,
        t
    }
}
, function(t, e, n) {
    "use strict";
    e.a = function() {
        return f(l)
    }
    ,
    e.c = function() {
        return f(h)
    }
    ,
    e.b = function() {
        var t = f(d);
        return t.angle = t.x,
        delete t.x,
        t.radius = t.y,
        delete t.y,
        t
    }
    ;
    var r = n(16)
      , i = n(167)
      , o = n(20)
      , a = n(88)
      , s = n(166);
    function u(t) {
        return t.source
    }
    function c(t) {
        return t.target
    }
    function f(t) {
        var e = u
          , n = c
          , s = a.a
          , f = a.b
          , l = null;
        function h() {
            var o, a = i.a.call(arguments), u = e.apply(this, a), c = n.apply(this, a);
            if (l || (l = o = Object(r.a)()),
            t(l, +s.apply(this, (a[0] = u,
            a)), +f.apply(this, a), +s.apply(this, (a[0] = c,
            a)), +f.apply(this, a)),
            o)
                return l = null,
                o + "" || null
        }
        return h.source = function(t) {
            return arguments.length ? (e = t,
            h) : e
        }
        ,
        h.target = function(t) {
            return arguments.length ? (n = t,
            h) : n
        }
        ,
        h.x = function(t) {
            return arguments.length ? (s = "function" == typeof t ? t : Object(o.a)(+t),
            h) : s
        }
        ,
        h.y = function(t) {
            return arguments.length ? (f = "function" == typeof t ? t : Object(o.a)(+t),
            h) : f
        }
        ,
        h.context = function(t) {
            return arguments.length ? (l = null == t ? null : t,
            h) : l
        }
        ,
        h
    }
    function l(t, e, n, r, i) {
        t.moveTo(e, n),
        t.bezierCurveTo(e = (e + r) / 2, n, e, i, r, i)
    }
    function h(t, e, n, r, i) {
        t.moveTo(e, n),
        t.bezierCurveTo(e, n = (n + i) / 2, r, n, r, i)
    }
    function d(t, e, n, r, i) {
        var o = Object(s.a)(e, n)
          , a = Object(s.a)(e, n = (n + i) / 2)
          , u = Object(s.a)(r, n)
          , c = Object(s.a)(r, i);
        t.moveTo(o[0], o[1]),
        t.bezierCurveTo(a[0], a[1], u[0], u[1], c[0], c[1])
    }
}
, function(t, e, n) {
    "use strict";
    n.d(e, "b", function() {
        return h
    });
    var r = n(16)
      , i = n(168)
      , o = n(169)
      , a = n(170)
      , s = n(171)
      , u = n(172)
      , c = n(173)
      , f = n(174)
      , l = n(20)
      , h = [i.a, o.a, a.a, u.a, s.a, c.a, f.a];
    e.a = function() {
        var t = Object(l.a)(i.a)
          , e = Object(l.a)(64)
          , n = null;
        function o() {
            var i;
            if (n || (n = i = Object(r.a)()),
            t.apply(this, arguments).draw(n, +e.apply(this, arguments)),
            i)
                return n = null,
                i + "" || null
        }
        return o.type = function(e) {
            return arguments.length ? (t = "function" == typeof e ? e : Object(l.a)(e),
            o) : t
        }
        ,
        o.size = function(t) {
            return arguments.length ? (e = "function" == typeof t ? t : Object(l.a)(+t),
            o) : e
        }
        ,
        o.context = function(t) {
            return arguments.length ? (n = null == t ? null : t,
            o) : n
        }
        ,
        o
    }
}
, function(t, e, n) {
    "use strict";
    var r = n(48)
      , i = n(49);
    function o(t) {
        this._context = t
    }
    o.prototype = {
        areaStart: r.a,
        areaEnd: r.a,
        lineStart: function() {
            this._x0 = this._x1 = this._x2 = this._x3 = this._x4 = this._y0 = this._y1 = this._y2 = this._y3 = this._y4 = NaN,
            this._point = 0
        },
        lineEnd: function() {
            switch (this._point) {
            case 1:
                this._context.moveTo(this._x2, this._y2),
                this._context.closePath();
                break;
            case 2:
                this._context.moveTo((this._x2 + 2 * this._x3) / 3, (this._y2 + 2 * this._y3) / 3),
                this._context.lineTo((this._x3 + 2 * this._x2) / 3, (this._y3 + 2 * this._y2) / 3),
                this._context.closePath();
                break;
            case 3:
                this.point(this._x2, this._y2),
                this.point(this._x3, this._y3),
                this.point(this._x4, this._y4)
            }
        },
        point: function(t, e) {
            switch (t = +t,
            e = +e,
            this._point) {
            case 0:
                this._point = 1,
                this._x2 = t,
                this._y2 = e;
                break;
            case 1:
                this._point = 2,
                this._x3 = t,
                this._y3 = e;
                break;
            case 2:
                this._point = 3,
                this._x4 = t,
                this._y4 = e,
                this._context.moveTo((this._x0 + 4 * this._x1 + t) / 6, (this._y0 + 4 * this._y1 + e) / 6);
                break;
            default:
                Object(i.c)(this, t, e)
            }
            this._x0 = this._x1,
            this._x1 = t,
            this._y0 = this._y1,
            this._y1 = e
        }
    },
    e.a = function(t) {
        return new o(t)
    }
}
, function(t, e, n) {
    "use strict";
    var r = n(49);
    function i(t) {
        this._context = t
    }
    i.prototype = {
        areaStart: function() {
            this._line = 0
        },
        areaEnd: function() {
            this._line = NaN
        },
        lineStart: function() {
            this._x0 = this._x1 = this._y0 = this._y1 = NaN,
            this._point = 0
        },
        lineEnd: function() {
            (this._line || 0 !== this._line && 3 === this._point) && this._context.closePath(),
            this._line = 1 - this._line
        },
        point: function(t, e) {
            switch (t = +t,
            e = +e,
            this._point) {
            case 0:
                this._point = 1;
                break;
            case 1:
                this._point = 2;
                break;
            case 2:
                this._point = 3;
                var n = (this._x0 + 4 * this._x1 + t) / 6
                  , i = (this._y0 + 4 * this._y1 + e) / 6;
                this._line ? this._context.lineTo(n, i) : this._context.moveTo(n, i);
                break;
            case 3:
                this._point = 4;
            default:
                Object(r.c)(this, t, e)
            }
            this._x0 = this._x1,
            this._x1 = t,
            this._y0 = this._y1,
            this._y1 = e
        }
    },
    e.a = function(t) {
        return new i(t)
    }
}
, function(t, e, n) {
    "use strict";
    var r = n(49);
    function i(t, e) {
        this._basis = new r.a(t),
        this._beta = e
    }
    i.prototype = {
        lineStart: function() {
            this._x = [],
            this._y = [],
            this._basis.lineStart()
        },
        lineEnd: function() {
            var t = this._x
              , e = this._y
              , n = t.length - 1;
            if (n > 0)
                for (var r, i = t[0], o = e[0], a = t[n] - i, s = e[n] - o, u = -1; ++u <= n; )
                    r = u / n,
                    this._basis.point(this._beta * t[u] + (1 - this._beta) * (i + r * a), this._beta * e[u] + (1 - this._beta) * (o + r * s));
            this._x = this._y = null,
            this._basis.lineEnd()
        },
        point: function(t, e) {
            this._x.push(+t),
            this._y.push(+e)
        }
    },
    e.a = function t(e) {
        function n(t) {
            return 1 === e ? new r.a(t) : new i(t,e)
        }
        return n.beta = function(e) {
            return t(+e)
        }
        ,
        n
    }(.85)
}
, function(t, e, n) {
    "use strict";
    var r = n(175)
      , i = n(48)
      , o = n(89);
    function a(t, e) {
        this._context = t,
        this._alpha = e
    }
    a.prototype = {
        areaStart: i.a,
        areaEnd: i.a,
        lineStart: function() {
            this._x0 = this._x1 = this._x2 = this._x3 = this._x4 = this._x5 = this._y0 = this._y1 = this._y2 = this._y3 = this._y4 = this._y5 = NaN,
            this._l01_a = this._l12_a = this._l23_a = this._l01_2a = this._l12_2a = this._l23_2a = this._point = 0
        },
        lineEnd: function() {
            switch (this._point) {
            case 1:
                this._context.moveTo(this._x3, this._y3),
                this._context.closePath();
                break;
            case 2:
                this._context.lineTo(this._x3, this._y3),
                this._context.closePath();
                break;
            case 3:
                this.point(this._x3, this._y3),
                this.point(this._x4, this._y4),
                this.point(this._x5, this._y5)
            }
        },
        point: function(t, e) {
            if (t = +t,
            e = +e,
            this._point) {
                var n = this._x2 - t
                  , r = this._y2 - e;
                this._l23_a = Math.sqrt(this._l23_2a = Math.pow(n * n + r * r, this._alpha))
            }
            switch (this._point) {
            case 0:
                this._point = 1,
                this._x3 = t,
                this._y3 = e;
                break;
            case 1:
                this._point = 2,
                this._context.moveTo(this._x4 = t, this._y4 = e);
                break;
            case 2:
                this._point = 3,
                this._x5 = t,
                this._y5 = e;
                break;
            default:
                Object(o.b)(this, t, e)
            }
            this._l01_a = this._l12_a,
            this._l12_a = this._l23_a,
            this._l01_2a = this._l12_2a,
            this._l12_2a = this._l23_2a,
            this._x0 = this._x1,
            this._x1 = this._x2,
            this._x2 = t,
            this._y0 = this._y1,
            this._y1 = this._y2,
            this._y2 = e
        }
    },
    e.a = function t(e) {
        function n(t) {
            return e ? new a(t,e) : new r.a(t,0)
        }
        return n.alpha = function(e) {
            return t(+e)
        }
        ,
        n
    }(.5)
}
, function(t, e, n) {
    "use strict";
    var r = n(176)
      , i = n(89);
    function o(t, e) {
        this._context = t,
        this._alpha = e
    }
    o.prototype = {
        areaStart: function() {
            this._line = 0
        },
        areaEnd: function() {
            this._line = NaN
        },
        lineStart: function() {
            this._x0 = this._x1 = this._x2 = this._y0 = this._y1 = this._y2 = NaN,
            this._l01_a = this._l12_a = this._l23_a = this._l01_2a = this._l12_2a = this._l23_2a = this._point = 0
        },
        lineEnd: function() {
            (this._line || 0 !== this._line && 3 === this._point) && this._context.closePath(),
            this._line = 1 - this._line
        },
        point: function(t, e) {
            if (t = +t,
            e = +e,
            this._point) {
                var n = this._x2 - t
                  , r = this._y2 - e;
                this._l23_a = Math.sqrt(this._l23_2a = Math.pow(n * n + r * r, this._alpha))
            }
            switch (this._point) {
            case 0:
                this._point = 1;
                break;
            case 1:
                this._point = 2;
                break;
            case 2:
                this._point = 3,
                this._line ? this._context.lineTo(this._x2, this._y2) : this._context.moveTo(this._x2, this._y2);
                break;
            case 3:
                this._point = 4;
            default:
                Object(i.b)(this, t, e)
            }
            this._l01_a = this._l12_a,
            this._l12_a = this._l23_a,
            this._l01_2a = this._l12_2a,
            this._l12_2a = this._l23_2a,
            this._x0 = this._x1,
            this._x1 = this._x2,
            this._x2 = t,
            this._y0 = this._y1,
            this._y1 = this._y2,
            this._y2 = e
        }
    },
    e.a = function t(e) {
        function n(t) {
            return e ? new o(t,e) : new r.a(t,0)
        }
        return n.alpha = function(e) {
            return t(+e)
        }
        ,
        n
    }(.5)
}
, function(t, e, n) {
    "use strict";
    var r = n(48);
    function i(t) {
        this._context = t
    }
    i.prototype = {
        areaStart: r.a,
        areaEnd: r.a,
        lineStart: function() {
            this._point = 0
        },
        lineEnd: function() {
            this._point && this._context.closePath()
        },
        point: function(t, e) {
            t = +t,
            e = +e,
            this._point ? this._context.lineTo(t, e) : (this._point = 1,
            this._context.moveTo(t, e))
        }
    },
    e.a = function(t) {
        return new i(t)
    }
}
, function(t, e, n) {
    "use strict";
    function r(t) {
        return t < 0 ? -1 : 1
    }
    function i(t, e, n) {
        var i = t._x1 - t._x0
          , o = e - t._x1
          , a = (t._y1 - t._y0) / (i || o < 0 && -0)
          , s = (n - t._y1) / (o || i < 0 && -0)
          , u = (a * o + s * i) / (i + o);
        return (r(a) + r(s)) * Math.min(Math.abs(a), Math.abs(s), .5 * Math.abs(u)) || 0
    }
    function o(t, e) {
        var n = t._x1 - t._x0;
        return n ? (3 * (t._y1 - t._y0) / n - e) / 2 : e
    }
    function a(t, e, n) {
        var r = t._x0
          , i = t._y0
          , o = t._x1
          , a = t._y1
          , s = (o - r) / 3;
        t._context.bezierCurveTo(r + s, i + s * e, o - s, a - s * n, o, a)
    }
    function s(t) {
        this._context = t
    }
    function u(t) {
        this._context = new c(t)
    }
    function c(t) {
        this._context = t
    }
    e.a = function(t) {
        return new s(t)
    }
    ,
    e.b = function(t) {
        return new u(t)
    }
    ,
    s.prototype = {
        areaStart: function() {
            this._line = 0
        },
        areaEnd: function() {
            this._line = NaN
        },
        lineStart: function() {
            this._x0 = this._x1 = this._y0 = this._y1 = this._t0 = NaN,
            this._point = 0
        },
        lineEnd: function() {
            switch (this._point) {
            case 2:
                this._context.lineTo(this._x1, this._y1);
                break;
            case 3:
                a(this, this._t0, o(this, this._t0))
            }
            (this._line || 0 !== this._line && 1 === this._point) && this._context.closePath(),
            this._line = 1 - this._line
        },
        point: function(t, e) {
            var n = NaN;
            if (e = +e,
            (t = +t) !== this._x1 || e !== this._y1) {
                switch (this._point) {
                case 0:
                    this._point = 1,
                    this._line ? this._context.lineTo(t, e) : this._context.moveTo(t, e);
                    break;
                case 1:
                    this._point = 2;
                    break;
                case 2:
                    this._point = 3,
                    a(this, o(this, n = i(this, t, e)), n);
                    break;
                default:
                    a(this, this._t0, n = i(this, t, e))
                }
                this._x0 = this._x1,
                this._x1 = t,
                this._y0 = this._y1,
                this._y1 = e,
                this._t0 = n
            }
        }
    },
    (u.prototype = Object.create(s.prototype)).point = function(t, e) {
        s.prototype.point.call(this, e, t)
    }
    ,
    c.prototype = {
        moveTo: function(t, e) {
            this._context.moveTo(e, t)
        },
        closePath: function() {
            this._context.closePath()
        },
        lineTo: function(t, e) {
            this._context.lineTo(e, t)
        },
        bezierCurveTo: function(t, e, n, r, i, o) {
            this._context.bezierCurveTo(e, t, r, n, o, i)
        }
    }
}
, function(t, e, n) {
    "use strict";
    function r(t) {
        this._context = t
    }
    function i(t) {
        var e, n, r = t.length - 1, i = new Array(r), o = new Array(r), a = new Array(r);
        for (i[0] = 0,
        o[0] = 2,
        a[0] = t[0] + 2 * t[1],
        e = 1; e < r - 1; ++e)
            i[e] = 1,
            o[e] = 4,
            a[e] = 4 * t[e] + 2 * t[e + 1];
        for (i[r - 1] = 2,
        o[r - 1] = 7,
        a[r - 1] = 8 * t[r - 1] + t[r],
        e = 1; e < r; ++e)
            n = i[e] / o[e - 1],
            o[e] -= n,
            a[e] -= n * a[e - 1];
        for (i[r - 1] = a[r - 1] / o[r - 1],
        e = r - 2; e >= 0; --e)
            i[e] = (a[e] - i[e + 1]) / o[e];
        for (o[r - 1] = (t[r] + i[r - 1]) / 2,
        e = 0; e < r - 1; ++e)
            o[e] = 2 * t[e + 1] - i[e + 1];
        return [i, o]
    }
    r.prototype = {
        areaStart: function() {
            this._line = 0
        },
        areaEnd: function() {
            this._line = NaN
        },
        lineStart: function() {
            this._x = [],
            this._y = []
        },
        lineEnd: function() {
            var t = this._x
              , e = this._y
              , n = t.length;
            if (n)
                if (this._line ? this._context.lineTo(t[0], e[0]) : this._context.moveTo(t[0], e[0]),
                2 === n)
                    this._context.lineTo(t[1], e[1]);
                else
                    for (var r = i(t), o = i(e), a = 0, s = 1; s < n; ++a,
                    ++s)
                        this._context.bezierCurveTo(r[0][a], o[0][a], r[1][a], o[1][a], t[s], e[s]);
            (this._line || 0 !== this._line && 1 === n) && this._context.closePath(),
            this._line = 1 - this._line,
            this._x = this._y = null
        },
        point: function(t, e) {
            this._x.push(+t),
            this._y.push(+e)
        }
    },
    e.a = function(t) {
        return new r(t)
    }
}
, function(t, e, n) {
    "use strict";
    function r(t, e) {
        this._context = t,
        this._t = e
    }
    e.c = function(t) {
        return new r(t,0)
    }
    ,
    e.b = function(t) {
        return new r(t,1)
    }
    ,
    r.prototype = {
        areaStart: function() {
            this._line = 0
        },
        areaEnd: function() {
            this._line = NaN
        },
        lineStart: function() {
            this._x = this._y = NaN,
            this._point = 0
        },
        lineEnd: function() {
            0 < this._t && this._t < 1 && 2 === this._point && this._context.lineTo(this._x, this._y),
            (this._line || 0 !== this._line && 1 === this._point) && this._context.closePath(),
            this._line >= 0 && (this._t = 1 - this._t,
            this._line = 1 - this._line)
        },
        point: function(t, e) {
            switch (t = +t,
            e = +e,
            this._point) {
            case 0:
                this._point = 1,
                this._line ? this._context.lineTo(t, e) : this._context.moveTo(t, e);
                break;
            case 1:
                this._point = 2;
            default:
                if (this._t <= 0)
                    this._context.lineTo(this._x, e),
                    this._context.lineTo(t, e);
                else {
                    var n = this._x * (1 - this._t) + t * this._t;
                    this._context.lineTo(n, this._y),
                    this._context.lineTo(n, e)
                }
            }
            this._x = t,
            this._y = e
        }
    },
    e.a = function(t) {
        return new r(t,.5)
    }
}
, function(t, e, n) {
    "use strict";
    var r = n(167)
      , i = n(20)
      , o = n(32)
      , a = n(33);
    function s(t, e) {
        return t[e]
    }
    e.a = function() {
        var t = Object(i.a)([])
          , e = a.a
          , n = o.a
          , u = s;
        function c(r) {
            var i, o, a = t.apply(this, arguments), s = r.length, c = a.length, f = new Array(c);
            for (i = 0; i < c; ++i) {
                for (var l, h = a[i], d = f[i] = new Array(s), p = 0; p < s; ++p)
                    d[p] = l = [0, +u(r[p], h, p, r)],
                    l.data = r[p];
                d.key = h
            }
            for (i = 0,
            o = e(f); i < c; ++i)
                f[o[i]].index = i;
            return n(f, o),
            f
        }
        return c.keys = function(e) {
            return arguments.length ? (t = "function" == typeof e ? e : Object(i.a)(r.a.call(e)),
            c) : t
        }
        ,
        c.value = function(t) {
            return arguments.length ? (u = "function" == typeof t ? t : Object(i.a)(+t),
            c) : u
        }
        ,
        c.order = function(t) {
            return arguments.length ? (e = null == t ? a.a : "function" == typeof t ? t : Object(i.a)(r.a.call(t)),
            c) : e
        }
        ,
        c.offset = function(t) {
            return arguments.length ? (n = null == t ? o.a : t,
            c) : n
        }
        ,
        c
    }
}
, function(t, e, n) {
    "use strict";
    var r = n(32);
    e.a = function(t, e) {
        if ((i = t.length) > 0) {
            for (var n, i, o, a = 0, s = t[0].length; a < s; ++a) {
                for (o = n = 0; n < i; ++n)
                    o += t[n][a][1] || 0;
                if (o)
                    for (n = 0; n < i; ++n)
                        t[n][a][1] /= o
            }
            Object(r.a)(t, e)
        }
    }
}
, function(t, e, n) {
    "use strict";
    e.a = function(t, e) {
        if ((s = t.length) > 1)
            for (var n, r, i, o, a, s, u = 0, c = t[e[0]].length; u < c; ++u)
                for (o = a = 0,
                n = 0; n < s; ++n)
                    (i = (r = t[e[n]][u])[1] - r[0]) >= 0 ? (r[0] = o,
                    r[1] = o += i) : i < 0 ? (r[1] = a,
                    r[0] = a += i) : r[0] = o
    }
}
, function(t, e, n) {
    "use strict";
    var r = n(32);
    e.a = function(t, e) {
        if ((n = t.length) > 0) {
            for (var n, i = 0, o = t[e[0]], a = o.length; i < a; ++i) {
                for (var s = 0, u = 0; s < n; ++s)
                    u += t[s][i][1] || 0;
                o[i][1] += o[i][0] = -u / 2
            }
            Object(r.a)(t, e)
        }
    }
}
, function(t, e, n) {
    "use strict";
    var r = n(32);
    e.a = function(t, e) {
        if ((o = t.length) > 0 && (i = (n = t[e[0]]).length) > 0) {
            for (var n, i, o, a = 0, s = 1; s < i; ++s) {
                for (var u = 0, c = 0, f = 0; u < o; ++u) {
                    for (var l = t[e[u]], h = l[s][1] || 0, d = (h - (l[s - 1][1] || 0)) / 2, p = 0; p < u; ++p) {
                        var m = t[e[p]];
                        d += (m[s][1] || 0) - (m[s - 1][1] || 0)
                    }
                    c += h,
                    f += d * h
                }
                n[s - 1][1] += n[s - 1][0] = a,
                c && (a -= f / c)
            }
            n[s - 1][1] += n[s - 1][0] = a,
            Object(r.a)(t, e)
        }
    }
}
, function(t, e, n) {
    "use strict";
    var r = n(90);
    e.a = function(t) {
        return Object(r.a)(t).reverse()
    }
}
, function(t, e, n) {
    "use strict";
    var r = n(177)
      , i = n(90);
    e.a = function(t) {
        var e, n, o = t.length, a = t.map(i.b), s = Object(r.a)(t), u = 0, c = 0, f = [], l = [];
        for (e = 0; e < o; ++e)
            n = s[e],
            u < c ? (u += a[n],
            f.push(n)) : (c += a[n],
            l.push(n));
        return l.reverse().concat(f)
    }
}
, function(t, e, n) {
    "use strict";
    var r = n(33);
    e.a = function(t) {
        return Object(r.a)(t).reverse()
    }
}
, function(t, e, n) {
    "use strict";
    var r = n(516);
    n.d(e, "a", function() {
        return r.a
    })
}
, function(t, e, n) {
    "use strict";
    var r = n(517)
      , i = n(518)
      , o = n(34);
    e.a = function() {
        var t = i.a
          , e = i.b
          , n = null;
        function a(r) {
            return new o.d(r.map(function(n, i) {
                var a = [Math.round(t(n, i, r) / o.f) * o.f, Math.round(e(n, i, r) / o.f) * o.f];
                return a.index = i,
                a.data = n,
                a
            }),n)
        }
        return a.polygons = function(t) {
            return a(t).polygons()
        }
        ,
        a.links = function(t) {
            return a(t).links()
        }
        ,
        a.triangles = function(t) {
            return a(t).triangles()
        }
        ,
        a.x = function(e) {
            return arguments.length ? (t = "function" == typeof e ? e : Object(r.a)(+e),
            a) : t
        }
        ,
        a.y = function(t) {
            return arguments.length ? (e = "function" == typeof t ? t : Object(r.a)(+t),
            a) : e
        }
        ,
        a.extent = function(t) {
            return arguments.length ? (n = null == t ? null : [[+t[0][0], +t[0][1]], [+t[1][0], +t[1][1]]],
            a) : n && [[n[0][0], n[0][1]], [n[1][0], n[1][1]]]
        }
        ,
        a.size = function(t) {
            return arguments.length ? (n = null == t ? null : [[0, 0], [+t[0], +t[1]]],
            a) : n && [n[1][0] - n[0][0], n[1][1] - n[0][1]]
        }
        ,
        a
    }
}
, function(t, e, n) {
    "use strict";
    e.a = function(t) {
        return function() {
            return t
        }
    }
}
, function(t, e, n) {
    "use strict";
    e.a = function(t) {
        return t[0]
    }
    ,
    e.b = function(t) {
        return t[1]
    }
}
, function(t, e, n) {
    "use strict";
    e.b = function(t) {
        var e = t.circle
          , n = e.x
          , r = e.cy
          , i = [n, r]
          , u = t.P
          , c = t.N
          , l = [t];
        f(t);
        var h = u;
        for (; h.circle && Math.abs(n - h.circle.x) < s.f && Math.abs(r - h.circle.cy) < s.f; )
            u = h.P,
            l.unshift(h),
            f(h),
            h = u;
        l.unshift(h),
        Object(o.b)(h);
        var d = c;
        for (; d.circle && Math.abs(n - d.circle.x) < s.f && Math.abs(r - d.circle.cy) < s.f; )
            c = d.N,
            l.push(d),
            f(d),
            d = c;
        l.push(d),
        Object(o.b)(d);
        var p, m = l.length;
        for (p = 1; p < m; ++p)
            d = l[p],
            h = l[p - 1],
            Object(a.d)(d.edge, h.site, d.site, i);
        h = l[0],
        (d = l[m - 1]).edge = Object(a.c)(h.site, d.site, null, i),
        Object(o.a)(h),
        Object(o.a)(d)
    }
    ,
    e.a = function(t) {
        var e, n, r, u, f = t[0], d = t[1], p = s.a._;
        for (; p; )
            if ((r = l(p, d) - f) > s.f)
                p = p.L;
            else {
                if (!((u = f - h(p, d)) > s.f)) {
                    r > -s.f ? (e = p.P,
                    n = p) : u > -s.f ? (e = p,
                    n = p.N) : e = n = p;
                    break
                }
                if (!p.R) {
                    e = p;
                    break
                }
                p = p.R
            }
        Object(i.c)(t);
        var m = c(t);
        if (s.a.insert(e, m),
        !e && !n)
            return;
        if (e === n)
            return Object(o.b)(e),
            n = c(e.site),
            s.a.insert(m, n),
            m.edge = n.edge = Object(a.c)(e.site, m.site),
            Object(o.a)(e),
            void Object(o.a)(n);
        if (!n)
            return void (m.edge = Object(a.c)(e.site, m.site));
        Object(o.b)(e),
        Object(o.b)(n);
        var v = e.site
          , g = v[0]
          , y = v[1]
          , b = t[0] - g
          , _ = t[1] - y
          , x = n.site
          , w = x[0] - g
          , M = x[1] - y
          , E = 2 * (b * M - _ * w)
          , T = b * b + _ * _
          , S = w * w + M * M
          , O = [(M * T - _ * S) / E + g, (b * S - w * T) / E + y];
        Object(a.d)(n.edge, v, x, O),
        m.edge = Object(a.c)(v, t, null, O),
        n.edge = Object(a.c)(t, x, null, O),
        Object(o.a)(e),
        Object(o.a)(n)
    }
    ;
    var r = n(91)
      , i = n(178)
      , o = n(179)
      , a = n(92)
      , s = n(34)
      , u = [];
    function c(t) {
        var e = u.pop() || new function() {
            Object(r.a)(this),
            this.edge = this.site = this.circle = null
        }
        ;
        return e.site = t,
        e
    }
    function f(t) {
        Object(o.b)(t),
        s.a.remove(t),
        u.push(t),
        Object(r.a)(t)
    }
    function l(t, e) {
        var n = t.site
          , r = n[0]
          , i = n[1]
          , o = i - e;
        if (!o)
            return r;
        var a = t.P;
        if (!a)
            return -1 / 0;
        var s = (n = a.site)[0]
          , u = n[1]
          , c = u - e;
        if (!c)
            return s;
        var f = s - r
          , l = 1 / o - 1 / c
          , h = f / c;
        return l ? (-h + Math.sqrt(h * h - 2 * l * (f * f / (-2 * c) - u + c / 2 + i - o / 2))) / l + r : (r + s) / 2
    }
    function h(t, e) {
        var n = t.N;
        if (n)
            return l(n, e);
        var r = t.site;
        return r[1] === e ? r[0] : 1 / 0
    }
}
, function(t, e, n) {
    "use strict";
    var r = n(521);
    n.d(e, "a", function() {
        return r.a
    });
    var i = n(180);
    n.d(e, "c", function() {
        return i.b
    }),
    n.d(e, "b", function() {
        return i.c
    })
}
, function(t, e, n) {
    "use strict";
    var r = n(22)
      , i = n(53)
      , o = n(11)
      , a = n(4)
      , s = n(64)
      , u = n(522)
      , c = n(523)
      , f = n(180)
      , l = n(524);
    function h() {
        return !a.e.button
    }
    function d() {
        var t, e, n = this;
        return n instanceof SVGElement ? (t = (n = n.ownerSVGElement || n).width.baseVal.value,
        e = n.height.baseVal.value) : (t = n.clientWidth,
        e = n.clientHeight),
        [[0, 0], [t, e]]
    }
    function p() {
        return this.__zoom || f.c
    }
    function m() {
        return -a.e.deltaY * (a.e.deltaMode ? 120 : 1) / 500
    }
    function v() {
        return "ontouchstart"in this
    }
    function g(t, e, n) {
        var r = t.invertX(e[0][0]) - n[0][0]
          , i = t.invertX(e[1][0]) - n[1][0]
          , o = t.invertY(e[0][1]) - n[0][1]
          , a = t.invertY(e[1][1]) - n[1][1];
        return t.translate(i > r ? (r + i) / 2 : Math.min(0, r) || Math.max(0, i), a > o ? (o + a) / 2 : Math.min(0, o) || Math.max(0, a))
    }
    e.a = function() {
        var t, e, n = h, y = d, b = g, _ = m, x = v, w = [0, 1 / 0], M = [[-1 / 0, -1 / 0], [1 / 0, 1 / 0]], E = 250, T = o.x, S = [], O = Object(r.a)("start", "zoom", "end"), A = 500, L = 150, R = 0;
        function C(t) {
            t.property("__zoom", p).on("wheel.zoom", z).on("mousedown.zoom", B).on("dblclick.zoom", k).filter(x).on("touchstart.zoom", F).on("touchmove.zoom", G).on("touchend.zoom touchcancel.zoom", H).style("touch-action", "none").style("-webkit-tap-highlight-color", "rgba(0,0,0,0)")
        }
        function j(t, e) {
            return (e = Math.max(w[0], Math.min(w[1], e))) === t.k ? t : new f.a(e,t.x,t.y)
        }
        function P(t, e, n) {
            var r = e[0] - n[0] * t.k
              , i = e[1] - n[1] * t.k;
            return r === t.x && i === t.y ? t : new f.a(t.k,r,i)
        }
        function N(t) {
            return [(+t[0][0] + +t[1][0]) / 2, (+t[0][1] + +t[1][1]) / 2]
        }
        function I(t, e, n) {
            t.on("start.zoom", function() {
                D(this, arguments).start()
            }).on("interrupt.zoom end.zoom", function() {
                D(this, arguments).end()
            }).tween("zoom", function() {
                var t = arguments
                  , r = D(this, t)
                  , i = y.apply(this, t)
                  , o = n || N(i)
                  , a = Math.max(i[1][0] - i[0][0], i[1][1] - i[0][1])
                  , s = this.__zoom
                  , u = "function" == typeof e ? e.apply(this, t) : e
                  , c = T(s.invert(o).concat(a / s.k), u.invert(o).concat(a / u.k));
                return function(t) {
                    if (1 === t)
                        t = u;
                    else {
                        var e = c(t)
                          , n = a / e[2];
                        t = new f.a(n,o[0] - e[0] * n,o[1] - e[1] * n)
                    }
                    r.zoom(null, t)
                }
            })
        }
        function D(t, e) {
            for (var n, r = 0, i = S.length; r < i; ++r)
                if ((n = S[r]).that === t)
                    return n;
            return new U(t,e)
        }
        function U(t, e) {
            this.that = t,
            this.args = e,
            this.index = -1,
            this.active = 0,
            this.extent = y.apply(t, e)
        }
        function z() {
            if (n.apply(this, arguments)) {
                var t = D(this, arguments)
                  , e = this.__zoom
                  , r = Math.max(w[0], Math.min(w[1], e.k * Math.pow(2, _.apply(this, arguments))))
                  , i = Object(a.h)(this);
                if (t.wheel)
                    t.mouse[0][0] === i[0] && t.mouse[0][1] === i[1] || (t.mouse[1] = e.invert(t.mouse[0] = i)),
                    clearTimeout(t.wheel);
                else {
                    if (e.k === r)
                        return;
                    t.mouse = [i, e.invert(i)],
                    Object(s.b)(this),
                    t.start()
                }
                Object(l.a)(),
                t.wheel = setTimeout(function() {
                    t.wheel = null,
                    t.end()
                }, L),
                t.zoom("mouse", b(P(j(e, r), t.mouse[0], t.mouse[1]), t.extent, M))
            }
        }
        function B() {
            if (!e && n.apply(this, arguments)) {
                var t = D(this, arguments)
                  , r = Object(a.k)(a.e.view).on("mousemove.zoom", function() {
                    if (Object(l.a)(),
                    !t.moved) {
                        var e = a.e.clientX - u
                          , n = a.e.clientY - c;
                        t.moved = e * e + n * n > R
                    }
                    t.zoom("mouse", b(P(t.that.__zoom, t.mouse[0] = Object(a.h)(t.that), t.mouse[1]), t.extent, M))
                }, !0).on("mouseup.zoom", function() {
                    r.on("mousemove.zoom mouseup.zoom", null),
                    Object(i.c)(a.e.view, t.moved),
                    Object(l.a)(),
                    t.end()
                }, !0)
                  , o = Object(a.h)(this)
                  , u = a.e.clientX
                  , c = a.e.clientY;
                Object(i.b)(a.e.view),
                Object(l.b)(),
                t.mouse = [o, this.__zoom.invert(o)],
                Object(s.b)(this),
                t.start()
            }
        }
        function k() {
            if (n.apply(this, arguments)) {
                var t = this.__zoom
                  , e = Object(a.h)(this)
                  , r = t.invert(e)
                  , i = t.k * (a.e.shiftKey ? .5 : 2)
                  , o = b(P(j(t, i), e, r), y.apply(this, arguments), M);
                Object(l.a)(),
                E > 0 ? Object(a.k)(this).transition().duration(E).call(I, o, e) : Object(a.k)(this).call(C.transform, o)
            }
        }
        function F() {
            if (n.apply(this, arguments)) {
                var e, r, i, o, u = D(this, arguments), c = a.e.changedTouches, f = c.length;
                for (Object(l.b)(),
                r = 0; r < f; ++r)
                    i = c[r],
                    o = [o = Object(a.q)(this, c, i.identifier), this.__zoom.invert(o), i.identifier],
                    u.touch0 ? u.touch1 || (u.touch1 = o) : (u.touch0 = o,
                    e = !0);
                if (t && (t = clearTimeout(t),
                !u.touch1))
                    return u.end(),
                    void ((o = Object(a.k)(this).on("dblclick.zoom")) && o.apply(this, arguments));
                e && (t = setTimeout(function() {
                    t = null
                }, A),
                Object(s.b)(this),
                u.start())
            }
        }
        function G() {
            var e, n, r, i, o = D(this, arguments), s = a.e.changedTouches, u = s.length;
            for (Object(l.a)(),
            t && (t = clearTimeout(t)),
            e = 0; e < u; ++e)
                n = s[e],
                r = Object(a.q)(this, s, n.identifier),
                o.touch0 && o.touch0[2] === n.identifier ? o.touch0[0] = r : o.touch1 && o.touch1[2] === n.identifier && (o.touch1[0] = r);
            if (n = o.that.__zoom,
            o.touch1) {
                var c = o.touch0[0]
                  , f = o.touch0[1]
                  , h = o.touch1[0]
                  , d = o.touch1[1]
                  , p = (p = h[0] - c[0]) * p + (p = h[1] - c[1]) * p
                  , m = (m = d[0] - f[0]) * m + (m = d[1] - f[1]) * m;
                n = j(n, Math.sqrt(p / m)),
                r = [(c[0] + h[0]) / 2, (c[1] + h[1]) / 2],
                i = [(f[0] + d[0]) / 2, (f[1] + d[1]) / 2]
            } else {
                if (!o.touch0)
                    return;
                r = o.touch0[0],
                i = o.touch0[1]
            }
            o.zoom("touch", b(P(n, r, i), o.extent, M))
        }
        function H() {
            var t, n, r = D(this, arguments), i = a.e.changedTouches, o = i.length;
            for (Object(l.b)(),
            e && clearTimeout(e),
            e = setTimeout(function() {
                e = null
            }, A),
            t = 0; t < o; ++t)
                n = i[t],
                r.touch0 && r.touch0[2] === n.identifier ? delete r.touch0 : r.touch1 && r.touch1[2] === n.identifier && delete r.touch1;
            r.touch1 && !r.touch0 && (r.touch0 = r.touch1,
            delete r.touch1),
            r.touch0 ? r.touch0[1] = this.__zoom.invert(r.touch0[0]) : r.end()
        }
        return C.transform = function(t, e) {
            var n = t.selection ? t.selection() : t;
            n.property("__zoom", p),
            t !== n ? I(t, e) : n.interrupt().each(function() {
                D(this, arguments).start().zoom(null, "function" == typeof e ? e.apply(this, arguments) : e).end()
            })
        }
        ,
        C.scaleBy = function(t, e) {
            C.scaleTo(t, function() {
                return this.__zoom.k * ("function" == typeof e ? e.apply(this, arguments) : e)
            })
        }
        ,
        C.scaleTo = function(t, e) {
            C.transform(t, function() {
                var t = y.apply(this, arguments)
                  , n = this.__zoom
                  , r = N(t)
                  , i = n.invert(r)
                  , o = "function" == typeof e ? e.apply(this, arguments) : e;
                return b(P(j(n, o), r, i), t, M)
            })
        }
        ,
        C.translateBy = function(t, e, n) {
            C.transform(t, function() {
                return b(this.__zoom.translate("function" == typeof e ? e.apply(this, arguments) : e, "function" == typeof n ? n.apply(this, arguments) : n), y.apply(this, arguments), M)
            })
        }
        ,
        C.translateTo = function(t, e, n) {
            C.transform(t, function() {
                var t = y.apply(this, arguments)
                  , r = this.__zoom
                  , i = N(t);
                return b(f.c.translate(i[0], i[1]).scale(r.k).translate("function" == typeof e ? -e.apply(this, arguments) : -e, "function" == typeof n ? -n.apply(this, arguments) : -n), t, M)
            })
        }
        ,
        U.prototype = {
            start: function() {
                return 1 == ++this.active && (this.index = S.push(this) - 1,
                this.emit("start")),
                this
            },
            zoom: function(t, e) {
                return this.mouse && "mouse" !== t && (this.mouse[1] = e.invert(this.mouse[0])),
                this.touch0 && "touch" !== t && (this.touch0[1] = e.invert(this.touch0[0])),
                this.touch1 && "touch" !== t && (this.touch1[1] = e.invert(this.touch1[0])),
                this.that.__zoom = e,
                this.emit("zoom"),
                this
            },
            end: function() {
                return 0 == --this.active && (S.splice(this.index, 1),
                this.index = -1,
                this.emit("end")),
                this
            },
            emit: function(t) {
                Object(a.d)(new c.a(C,t,this.that.__zoom), O.apply, O, [t, this.that, this.args])
            }
        },
        C.wheelDelta = function(t) {
            return arguments.length ? (_ = "function" == typeof t ? t : Object(u.a)(+t),
            C) : _
        }
        ,
        C.filter = function(t) {
            return arguments.length ? (n = "function" == typeof t ? t : Object(u.a)(!!t),
            C) : n
        }
        ,
        C.touchable = function(t) {
            return arguments.length ? (x = "function" == typeof t ? t : Object(u.a)(!!t),
            C) : x
        }
        ,
        C.extent = function(t) {
            return arguments.length ? (y = "function" == typeof t ? t : Object(u.a)([[+t[0][0], +t[0][1]], [+t[1][0], +t[1][1]]]),
            C) : y
        }
        ,
        C.scaleExtent = function(t) {
            return arguments.length ? (w[0] = +t[0],
            w[1] = +t[1],
            C) : [w[0], w[1]]
        }
        ,
        C.translateExtent = function(t) {
            return arguments.length ? (M[0][0] = +t[0][0],
            M[1][0] = +t[1][0],
            M[0][1] = +t[0][1],
            M[1][1] = +t[1][1],
            C) : [[M[0][0], M[0][1]], [M[1][0], M[1][1]]]
        }
        ,
        C.constrain = function(t) {
            return arguments.length ? (b = t,
            C) : b
        }
        ,
        C.duration = function(t) {
            return arguments.length ? (E = +t,
            C) : E
        }
        ,
        C.interpolate = function(t) {
            return arguments.length ? (T = t,
            C) : T
        }
        ,
        C.on = function() {
            var t = O.on.apply(O, arguments);
            return t === O ? C : t
        }
        ,
        C.clickDistance = function(t) {
            return arguments.length ? (R = (t = +t) * t,
            C) : Math.sqrt(R)
        }
        ,
        C
    }
}
, function(t, e, n) {
    "use strict";
    e.a = function(t) {
        return function() {
            return t
        }
    }
}
, function(t, e, n) {
    "use strict";
    e.a = function(t, e, n) {
        this.target = t,
        this.type = e,
        this.transform = n
    }
}
, function(t, e, n) {
    "use strict";
    e.b = function() {
        r.e.stopImmediatePropagation()
    }
    ;
    var r = n(4);
    e.a = function() {
        r.e.preventDefault(),
        r.e.stopImmediatePropagation()
    }
}
]);
